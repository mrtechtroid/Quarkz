function t(t,e,i,n){Object.defineProperty(t,e,{get:i,set:n,enumerable:!0,configurable:!0})}var e="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},i={},n={},r=e.parcelRequire43c0;null==r&&((r=function(t){if(t in i)return i[t].exports;if(t in n){var e=n[t];delete n[t];var r={id:t,exports:{}};return i[t]=r,e.call(r.exports,r,r.exports),r.exports}var s=new Error("Cannot find module '"+t+"'");throw s.code="MODULE_NOT_FOUND",s}).register=function(t,e){n[t]=e},e.parcelRequire43c0=r),r.register("bRe85",(function(e,i){var n,r;t(e.exports,"register",(()=>n),(t=>n=t)),t(e.exports,"resolve",(()=>r),(t=>r=t));var s={};n=function(t){for(var e=Object.keys(t),i=0;i<e.length;i++)s[e[i]]=t[e[i]]},r=function(t){var e=s[t];if(null==e)throw new Error("Could not resolve bundle with id "+t);return e}})),r.register("iN8QG",(function(e,i){var n,s,o,a,h,l,u,c,d,f,p,m,g,v,y,b,w,_,M,x,k,A,E,S,T,I,q,C,R,D,L,N,O,P,B,U,F,j,z;t(e.exports,"randomBytes",(()=>n),(t=>n=t)),t(e.exports,"rng",(()=>s),(t=>s=t)),t(e.exports,"pseudoRandomBytes",(()=>o),(t=>o=t)),t(e.exports,"prng",(()=>a),(t=>a=t)),t(e.exports,"createHash",(()=>h),(t=>h=t)),t(e.exports,"Hash",(()=>l),(t=>l=t)),t(e.exports,"createHmac",(()=>u),(t=>u=t)),t(e.exports,"Hmac",(()=>c),(t=>c=t)),t(e.exports,"getHashes",(()=>d),(t=>d=t)),t(e.exports,"pbkdf2",(()=>f),(t=>f=t)),t(e.exports,"pbkdf2Sync",(()=>p),(t=>p=t)),t(e.exports,"Cipher",(()=>m),(t=>m=t)),t(e.exports,"createCipher",(()=>g),(t=>g=t)),t(e.exports,"Cipheriv",(()=>v),(t=>v=t)),t(e.exports,"createCipheriv",(()=>y),(t=>y=t)),t(e.exports,"Decipher",(()=>b),(t=>b=t)),t(e.exports,"createDecipher",(()=>w),(t=>w=t)),t(e.exports,"Decipheriv",(()=>_),(t=>_=t)),t(e.exports,"createDecipheriv",(()=>M),(t=>M=t)),t(e.exports,"getCiphers",(()=>x),(t=>x=t)),t(e.exports,"listCiphers",(()=>k),(t=>k=t)),t(e.exports,"DiffieHellmanGroup",(()=>A),(t=>A=t)),t(e.exports,"createDiffieHellmanGroup",(()=>E),(t=>E=t)),t(e.exports,"getDiffieHellman",(()=>S),(t=>S=t)),t(e.exports,"createDiffieHellman",(()=>T),(t=>T=t)),t(e.exports,"DiffieHellman",(()=>I),(t=>I=t)),t(e.exports,"createSign",(()=>q),(t=>q=t)),t(e.exports,"Sign",(()=>C),(t=>C=t)),t(e.exports,"createVerify",(()=>R),(t=>R=t)),t(e.exports,"Verify",(()=>D),(t=>D=t)),t(e.exports,"createECDH",(()=>L),(t=>L=t)),t(e.exports,"publicEncrypt",(()=>N),(t=>N=t)),t(e.exports,"privateEncrypt",(()=>O),(t=>O=t)),t(e.exports,"publicDecrypt",(()=>P),(t=>P=t)),t(e.exports,"privateDecrypt",(()=>B),(t=>B=t)),t(e.exports,"randomFill",(()=>U),(t=>U=t)),t(e.exports,"randomFillSync",(()=>F),(t=>F=t)),t(e.exports,"createCredentials",(()=>j),(t=>j=t)),t(e.exports,"constants",(()=>z),(t=>z=t)),n=s=o=a=r("jF6xI"),h=l=r("ghseq"),u=c=r("1HYxA");var V=r("38szK"),H=Object.keys(V),W=["sha1","sha224","sha256","sha384","sha512","md5","rmd160"].concat(H);d=function(){return W};var K=r("4bgrw");f=K.pbkdf2,p=K.pbkdf2Sync;var G=r("bx4sk");m=G.Cipher,g=G.createCipher,v=G.Cipheriv,y=G.createCipheriv,b=G.Decipher,w=G.createDecipher,_=G.Decipheriv,M=G.createDecipheriv,x=G.getCiphers,k=G.listCiphers;var Q=r("gGc9K");A=Q.DiffieHellmanGroup,E=Q.createDiffieHellmanGroup,S=Q.getDiffieHellman,T=Q.createDiffieHellman,I=Q.DiffieHellman;var Y=r("22PrA");q=Y.createSign,C=Y.Sign,R=Y.createVerify,D=Y.Verify,L=r("ecERa");var Z=r("93GUP");N=Z.publicEncrypt,O=Z.privateEncrypt,P=Z.publicDecrypt,B=Z.privateDecrypt;var $=r("luoXv");U=$.randomFill,F=$.randomFillSync,j=function(){throw new Error(["sorry, createCredentials is not implemented yet","we accept pull requests","https://github.com/crypto-browserify/crypto-browserify"].join("\n"))},z={DH_CHECK_P_NOT_SAFE_PRIME:2,DH_CHECK_P_NOT_PRIME:1,DH_UNABLE_TO_CHECK_GENERATOR:4,DH_NOT_SUITABLE_GENERATOR:8,NPN_ENABLED:1,ALPN_ENABLED:1,RSA_PKCS1_PADDING:1,RSA_SSLV23_PADDING:2,RSA_NO_PADDING:3,RSA_PKCS1_OAEP_PADDING:4,RSA_X931_PADDING:5,RSA_PKCS1_PSS_PADDING:6,POINT_CONVERSION_COMPRESSED:2,POINT_CONVERSION_UNCOMPRESSED:4,POINT_CONVERSION_HYBRID:6}})),r.register("jF6xI",(function(t,i){var n=r("gXRuj"),s=65536,o=4294967295;var a=r("emGH0").Buffer,h=e.crypto||e.msCrypto;h&&h.getRandomValues?t.exports=function(t,e){if(t>o)throw new RangeError("requested too many random bytes");var i=a.allocUnsafe(t);if(t>0)if(t>s)for(var r=0;r<t;r+=s)h.getRandomValues(i.slice(r,r+s));else h.getRandomValues(i);return"function"==typeof e?n.nextTick((function(){e(null,i)})):i}:t.exports=function(){throw new Error("Secure random number generation is not supported by this browser.\nUse Chrome, Firefox or Internet Explorer 11")}})),r.register("gXRuj",(function(t,e){var i,n,r=t.exports={};function s(){throw new Error("setTimeout has not been defined")}function o(){throw new Error("clearTimeout has not been defined")}function a(t){if(i===setTimeout)return setTimeout(t,0);if((i===s||!i)&&setTimeout)return i=setTimeout,setTimeout(t,0);try{return i(t,0)}catch(e){try{return i.call(null,t,0)}catch(e){return i.call(this,t,0)}}}!function(){try{i="function"==typeof setTimeout?setTimeout:s}catch(t){i=s}try{n="function"==typeof clearTimeout?clearTimeout:o}catch(t){n=o}}();var h,l=[],u=!1,c=-1;function d(){u&&h&&(u=!1,h.length?l=h.concat(l):c=-1,l.length&&f())}function f(){if(!u){var t=a(d);u=!0;for(var e=l.length;e;){for(h=l,l=[];++c<e;)h&&h[c].run();c=-1,e=l.length}h=null,u=!1,function(t){if(n===clearTimeout)return clearTimeout(t);if((n===o||!n)&&clearTimeout)return n=clearTimeout,clearTimeout(t);try{return n(t)}catch(e){try{return n.call(null,t)}catch(e){return n.call(this,t)}}}(t)}}function p(t,e){this.fun=t,this.array=e}function m(){}r.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var i=1;i<arguments.length;i++)e[i-1]=arguments[i];l.push(new p(t,e)),1!==l.length||u||a(f)},p.prototype.run=function(){this.fun.apply(null,this.array)},r.title="browser",r.browser=!0,r.env={},r.argv=[],r.version="",r.versions={},r.on=m,r.addListener=m,r.once=m,r.off=m,r.removeListener=m,r.removeAllListeners=m,r.emit=m,r.prependListener=m,r.prependOnceListener=m,r.listeners=function(t){return[]},r.binding=function(t){throw new Error("process.binding is not supported")},r.cwd=function(){return"/"},r.chdir=function(t){throw new Error("process.chdir is not supported")},r.umask=function(){return 0}})),r.register("emGH0",(function(t,e){
/*! safe-buffer. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */
var i=r("hwHAp"),n=i.Buffer;function s(t,e){for(var i in t)e[i]=t[i]}function o(t,e,i){return n(t,e,i)}n.from&&n.alloc&&n.allocUnsafe&&n.allocUnsafeSlow?t.exports=i:(s(i,t.exports),t.exports.Buffer=o),o.prototype=Object.create(n.prototype),s(n,o),o.from=function(t,e,i){if("number"==typeof t)throw new TypeError("Argument must not be a number");return n(t,e,i)},o.alloc=function(t,e,i){if("number"!=typeof t)throw new TypeError("Argument must be a number");var r=n(t);return void 0!==e?"string"==typeof i?r.fill(e,i):r.fill(e):r.fill(0),r},o.allocUnsafe=function(t){if("number"!=typeof t)throw new TypeError("Argument must be a number");return n(t)},o.allocUnsafeSlow=function(t){if("number"!=typeof t)throw new TypeError("Argument must be a number");return i.SlowBuffer(t)}})),r.register("hwHAp",(function(e,i){
/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */var n,s,o,a;t(e.exports,"Buffer",(()=>n),(t=>n=t)),t(e.exports,"SlowBuffer",(()=>s),(t=>s=t)),t(e.exports,"INSPECT_MAX_BYTES",(()=>o),(t=>o=t)),t(e.exports,"kMaxLength",(()=>a),(t=>a=t));var h=r("6z9GS"),l=r("01E06"),u="function"==typeof Symbol&&"function"==typeof Symbol.for?Symbol.for("nodejs.util.inspect.custom"):null;n=f,s=function(t){+t!=t&&(t=0);return f.alloc(+t)},o=50;var c=2147483647;function d(t){if(t>c)throw new RangeError('The value "'+t+'" is invalid for option "size"');var e=new Uint8Array(t);return Object.setPrototypeOf(e,f.prototype),e}function f(t,e,i){if("number"==typeof t){if("string"==typeof e)throw new TypeError('The "string" argument must be of type string. Received type number');return g(t)}return p(t,e,i)}function p(t,e,i){if("string"==typeof t)return function(t,e){"string"==typeof e&&""!==e||(e="utf8");if(!f.isEncoding(e))throw new TypeError("Unknown encoding: "+e);var i=0|w(t,e),n=d(i),r=n.write(t,e);r!==i&&(n=n.slice(0,r));return n}(t,e);if(ArrayBuffer.isView(t))return function(t){if(K(t,Uint8Array)){var e=new Uint8Array(t);return y(e.buffer,e.byteOffset,e.byteLength)}return v(t)}(t);if(null==t)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof t);if(K(t,ArrayBuffer)||t&&K(t.buffer,ArrayBuffer))return y(t,e,i);if("undefined"!=typeof SharedArrayBuffer&&(K(t,SharedArrayBuffer)||t&&K(t.buffer,SharedArrayBuffer)))return y(t,e,i);if("number"==typeof t)throw new TypeError('The "value" argument must not be of type number. Received type number');var n=t.valueOf&&t.valueOf();if(null!=n&&n!==t)return f.from(n,e,i);var r=function(t){if(f.isBuffer(t)){var e=0|b(t.length),i=d(e);return 0===i.length||t.copy(i,0,0,e),i}if(void 0!==t.length)return"number"!=typeof t.length||G(t.length)?d(0):v(t);if("Buffer"===t.type&&Array.isArray(t.data))return v(t.data)}(t);if(r)return r;if("undefined"!=typeof Symbol&&null!=Symbol.toPrimitive&&"function"==typeof t[Symbol.toPrimitive])return f.from(t[Symbol.toPrimitive]("string"),e,i);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof t)}function m(t){if("number"!=typeof t)throw new TypeError('"size" argument must be of type number');if(t<0)throw new RangeError('The value "'+t+'" is invalid for option "size"')}function g(t){return m(t),d(t<0?0:0|b(t))}function v(t){for(var e=t.length<0?0:0|b(t.length),i=d(e),n=0;n<e;n+=1)i[n]=255&t[n];return i}function y(t,e,i){if(e<0||t.byteLength<e)throw new RangeError('"offset" is outside of buffer bounds');if(t.byteLength<e+(i||0))throw new RangeError('"length" is outside of buffer bounds');var n;return n=void 0===e&&void 0===i?new Uint8Array(t):void 0===i?new Uint8Array(t,e):new Uint8Array(t,e,i),Object.setPrototypeOf(n,f.prototype),n}function b(t){if(t>=c)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+c.toString(16)+" bytes");return 0|t}function w(t,e){if(f.isBuffer(t))return t.length;if(ArrayBuffer.isView(t)||K(t,ArrayBuffer))return t.byteLength;if("string"!=typeof t)throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof t);var i=t.length,n=arguments.length>2&&!0===arguments[2];if(!n&&0===i)return 0;for(var r=!1;;)switch(e){case"ascii":case"latin1":case"binary":return i;case"utf8":case"utf-8":return V(t).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*i;case"hex":return i>>>1;case"base64":return H(t).length;default:if(r)return n?-1:V(t).length;e=(""+e).toLowerCase(),r=!0}}function _(t,e,i){var n=!1;if((void 0===e||e<0)&&(e=0),e>this.length)return"";if((void 0===i||i>this.length)&&(i=this.length),i<=0)return"";if((i>>>=0)<=(e>>>=0))return"";for(t||(t="utf8");;)switch(t){case"hex":return N(this,e,i);case"utf8":case"utf-8":return C(this,e,i);case"ascii":return D(this,e,i);case"latin1":case"binary":return L(this,e,i);case"base64":return q(this,e,i);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return O(this,e,i);default:if(n)throw new TypeError("Unknown encoding: "+t);t=(t+"").toLowerCase(),n=!0}}function M(t,e,i){var n=t[e];t[e]=t[i],t[i]=n}function x(t,e,i,n,r){if(0===t.length)return-1;if("string"==typeof i?(n=i,i=0):i>2147483647?i=2147483647:i<-2147483648&&(i=-2147483648),G(i=+i)&&(i=r?0:t.length-1),i<0&&(i=t.length+i),i>=t.length){if(r)return-1;i=t.length-1}else if(i<0){if(!r)return-1;i=0}if("string"==typeof e&&(e=f.from(e,n)),f.isBuffer(e))return 0===e.length?-1:k(t,e,i,n,r);if("number"==typeof e)return e&=255,"function"==typeof Uint8Array.prototype.indexOf?r?Uint8Array.prototype.indexOf.call(t,e,i):Uint8Array.prototype.lastIndexOf.call(t,e,i):k(t,[e],i,n,r);throw new TypeError("val must be string, number or Buffer")}function k(t,e,i,n,r){var s,o=1,a=t.length,h=e.length;if(void 0!==n&&("ucs2"===(n=String(n).toLowerCase())||"ucs-2"===n||"utf16le"===n||"utf-16le"===n)){if(t.length<2||e.length<2)return-1;o=2,a/=2,h/=2,i/=2}function l(t,e){return 1===o?t[e]:t.readUInt16BE(e*o)}if(r){var u=-1;for(s=i;s<a;s++)if(l(t,s)===l(e,-1===u?0:s-u)){if(-1===u&&(u=s),s-u+1===h)return u*o}else-1!==u&&(s-=s-u),u=-1}else for(i+h>a&&(i=a-h),s=i;s>=0;s--){for(var c=!0,d=0;d<h;d++)if(l(t,s+d)!==l(e,d)){c=!1;break}if(c)return s}return-1}function A(t,e,i,n){i=Number(i)||0;var r=t.length-i;n?(n=Number(n))>r&&(n=r):n=r;var s=e.length;n>s/2&&(n=s/2);for(var o=0;o<n;++o){var a=parseInt(e.substr(2*o,2),16);if(G(a))return o;t[i+o]=a}return o}function E(t,e,i,n){return W(V(e,t.length-i),t,i,n)}function S(t,e,i,n){return W(function(t){for(var e=[],i=0;i<t.length;++i)e.push(255&t.charCodeAt(i));return e}(e),t,i,n)}function T(t,e,i,n){return W(H(e),t,i,n)}function I(t,e,i,n){return W(function(t,e){for(var i,n,r,s=[],o=0;o<t.length&&!((e-=2)<0);++o)n=(i=t.charCodeAt(o))>>8,r=i%256,s.push(r),s.push(n);return s}(e,t.length-i),t,i,n)}function q(t,e,i){return 0===e&&i===t.length?h.fromByteArray(t):h.fromByteArray(t.slice(e,i))}function C(t,e,i){i=Math.min(t.length,i);for(var n=[],r=e;r<i;){var s,o,a,h,l=t[r],u=null,c=l>239?4:l>223?3:l>191?2:1;if(r+c<=i)switch(c){case 1:l<128&&(u=l);break;case 2:128==(192&(s=t[r+1]))&&(h=(31&l)<<6|63&s)>127&&(u=h);break;case 3:s=t[r+1],o=t[r+2],128==(192&s)&&128==(192&o)&&(h=(15&l)<<12|(63&s)<<6|63&o)>2047&&(h<55296||h>57343)&&(u=h);break;case 4:s=t[r+1],o=t[r+2],a=t[r+3],128==(192&s)&&128==(192&o)&&128==(192&a)&&(h=(15&l)<<18|(63&s)<<12|(63&o)<<6|63&a)>65535&&h<1114112&&(u=h)}null===u?(u=65533,c=1):u>65535&&(u-=65536,n.push(u>>>10&1023|55296),u=56320|1023&u),n.push(u),r+=c}return function(t){var e=t.length;if(e<=R)return String.fromCharCode.apply(String,t);var i="",n=0;for(;n<e;)i+=String.fromCharCode.apply(String,t.slice(n,n+=R));return i}(n)}a=c,f.TYPED_ARRAY_SUPPORT=function(){try{var t=new Uint8Array(1),e={foo:function(){return 42}};return Object.setPrototypeOf(e,Uint8Array.prototype),Object.setPrototypeOf(t,e),42===t.foo()}catch(t){return!1}}(),f.TYPED_ARRAY_SUPPORT||"undefined"==typeof console||"function"!=typeof console.error||console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(f.prototype,"parent",{enumerable:!0,get:function(){if(f.isBuffer(this))return this.buffer}}),Object.defineProperty(f.prototype,"offset",{enumerable:!0,get:function(){if(f.isBuffer(this))return this.byteOffset}}),f.poolSize=8192,f.from=function(t,e,i){return p(t,e,i)},Object.setPrototypeOf(f.prototype,Uint8Array.prototype),Object.setPrototypeOf(f,Uint8Array),f.alloc=function(t,e,i){return function(t,e,i){return m(t),t<=0?d(t):void 0!==e?"string"==typeof i?d(t).fill(e,i):d(t).fill(e):d(t)}(t,e,i)},f.allocUnsafe=function(t){return g(t)},f.allocUnsafeSlow=function(t){return g(t)},f.isBuffer=function(t){return null!=t&&!0===t._isBuffer&&t!==f.prototype},f.compare=function(t,e){if(K(t,Uint8Array)&&(t=f.from(t,t.offset,t.byteLength)),K(e,Uint8Array)&&(e=f.from(e,e.offset,e.byteLength)),!f.isBuffer(t)||!f.isBuffer(e))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(t===e)return 0;for(var i=t.length,n=e.length,r=0,s=Math.min(i,n);r<s;++r)if(t[r]!==e[r]){i=t[r],n=e[r];break}return i<n?-1:n<i?1:0},f.isEncoding=function(t){switch(String(t).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},f.concat=function(t,e){if(!Array.isArray(t))throw new TypeError('"list" argument must be an Array of Buffers');if(0===t.length)return f.alloc(0);var i;if(void 0===e)for(e=0,i=0;i<t.length;++i)e+=t[i].length;var n=f.allocUnsafe(e),r=0;for(i=0;i<t.length;++i){var s=t[i];if(K(s,Uint8Array))r+s.length>n.length?f.from(s).copy(n,r):Uint8Array.prototype.set.call(n,s,r);else{if(!f.isBuffer(s))throw new TypeError('"list" argument must be an Array of Buffers');s.copy(n,r)}r+=s.length}return n},f.byteLength=w,f.prototype._isBuffer=!0,f.prototype.swap16=function(){var t=this.length;if(t%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var e=0;e<t;e+=2)M(this,e,e+1);return this},f.prototype.swap32=function(){var t=this.length;if(t%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var e=0;e<t;e+=4)M(this,e,e+3),M(this,e+1,e+2);return this},f.prototype.swap64=function(){var t=this.length;if(t%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var e=0;e<t;e+=8)M(this,e,e+7),M(this,e+1,e+6),M(this,e+2,e+5),M(this,e+3,e+4);return this},f.prototype.toString=function(){var t=this.length;return 0===t?"":0===arguments.length?C(this,0,t):_.apply(this,arguments)},f.prototype.toLocaleString=f.prototype.toString,f.prototype.equals=function(t){if(!f.isBuffer(t))throw new TypeError("Argument must be a Buffer");return this===t||0===f.compare(this,t)},f.prototype.inspect=function(){var t="",e=o;return t=this.toString("hex",0,e).replace(/(.{2})/g,"$1 ").trim(),this.length>e&&(t+=" ... "),"<Buffer "+t+">"},u&&(f.prototype[u]=f.prototype.inspect),f.prototype.compare=function(t,e,i,n,r){if(K(t,Uint8Array)&&(t=f.from(t,t.offset,t.byteLength)),!f.isBuffer(t))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof t);if(void 0===e&&(e=0),void 0===i&&(i=t?t.length:0),void 0===n&&(n=0),void 0===r&&(r=this.length),e<0||i>t.length||n<0||r>this.length)throw new RangeError("out of range index");if(n>=r&&e>=i)return 0;if(n>=r)return-1;if(e>=i)return 1;if(this===t)return 0;for(var s=(r>>>=0)-(n>>>=0),o=(i>>>=0)-(e>>>=0),a=Math.min(s,o),h=this.slice(n,r),l=t.slice(e,i),u=0;u<a;++u)if(h[u]!==l[u]){s=h[u],o=l[u];break}return s<o?-1:o<s?1:0},f.prototype.includes=function(t,e,i){return-1!==this.indexOf(t,e,i)},f.prototype.indexOf=function(t,e,i){return x(this,t,e,i,!0)},f.prototype.lastIndexOf=function(t,e,i){return x(this,t,e,i,!1)},f.prototype.write=function(t,e,i,n){if(void 0===e)n="utf8",i=this.length,e=0;else if(void 0===i&&"string"==typeof e)n=e,i=this.length,e=0;else{if(!isFinite(e))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");e>>>=0,isFinite(i)?(i>>>=0,void 0===n&&(n="utf8")):(n=i,i=void 0)}var r=this.length-e;if((void 0===i||i>r)&&(i=r),t.length>0&&(i<0||e<0)||e>this.length)throw new RangeError("Attempt to write outside buffer bounds");n||(n="utf8");for(var s=!1;;)switch(n){case"hex":return A(this,t,e,i);case"utf8":case"utf-8":return E(this,t,e,i);case"ascii":case"latin1":case"binary":return S(this,t,e,i);case"base64":return T(this,t,e,i);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return I(this,t,e,i);default:if(s)throw new TypeError("Unknown encoding: "+n);n=(""+n).toLowerCase(),s=!0}},f.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var R=4096;function D(t,e,i){var n="";i=Math.min(t.length,i);for(var r=e;r<i;++r)n+=String.fromCharCode(127&t[r]);return n}function L(t,e,i){var n="";i=Math.min(t.length,i);for(var r=e;r<i;++r)n+=String.fromCharCode(t[r]);return n}function N(t,e,i){var n=t.length;(!e||e<0)&&(e=0),(!i||i<0||i>n)&&(i=n);for(var r="",s=e;s<i;++s)r+=Q[t[s]];return r}function O(t,e,i){for(var n=t.slice(e,i),r="",s=0;s<n.length-1;s+=2)r+=String.fromCharCode(n[s]+256*n[s+1]);return r}function P(t,e,i){if(t%1!=0||t<0)throw new RangeError("offset is not uint");if(t+e>i)throw new RangeError("Trying to access beyond buffer length")}function B(t,e,i,n,r,s){if(!f.isBuffer(t))throw new TypeError('"buffer" argument must be a Buffer instance');if(e>r||e<s)throw new RangeError('"value" argument is out of bounds');if(i+n>t.length)throw new RangeError("Index out of range")}function U(t,e,i,n,r,s){if(i+n>t.length)throw new RangeError("Index out of range");if(i<0)throw new RangeError("Index out of range")}function F(t,e,i,n,r){return e=+e,i>>>=0,r||U(t,0,i,4),l.write(t,e,i,n,23,4),i+4}function j(t,e,i,n,r){return e=+e,i>>>=0,r||U(t,0,i,8),l.write(t,e,i,n,52,8),i+8}f.prototype.slice=function(t,e){var i=this.length;(t=~~t)<0?(t+=i)<0&&(t=0):t>i&&(t=i),(e=void 0===e?i:~~e)<0?(e+=i)<0&&(e=0):e>i&&(e=i),e<t&&(e=t);var n=this.subarray(t,e);return Object.setPrototypeOf(n,f.prototype),n},f.prototype.readUintLE=f.prototype.readUIntLE=function(t,e,i){t>>>=0,e>>>=0,i||P(t,e,this.length);for(var n=this[t],r=1,s=0;++s<e&&(r*=256);)n+=this[t+s]*r;return n},f.prototype.readUintBE=f.prototype.readUIntBE=function(t,e,i){t>>>=0,e>>>=0,i||P(t,e,this.length);for(var n=this[t+--e],r=1;e>0&&(r*=256);)n+=this[t+--e]*r;return n},f.prototype.readUint8=f.prototype.readUInt8=function(t,e){return t>>>=0,e||P(t,1,this.length),this[t]},f.prototype.readUint16LE=f.prototype.readUInt16LE=function(t,e){return t>>>=0,e||P(t,2,this.length),this[t]|this[t+1]<<8},f.prototype.readUint16BE=f.prototype.readUInt16BE=function(t,e){return t>>>=0,e||P(t,2,this.length),this[t]<<8|this[t+1]},f.prototype.readUint32LE=f.prototype.readUInt32LE=function(t,e){return t>>>=0,e||P(t,4,this.length),(this[t]|this[t+1]<<8|this[t+2]<<16)+16777216*this[t+3]},f.prototype.readUint32BE=f.prototype.readUInt32BE=function(t,e){return t>>>=0,e||P(t,4,this.length),16777216*this[t]+(this[t+1]<<16|this[t+2]<<8|this[t+3])},f.prototype.readIntLE=function(t,e,i){t>>>=0,e>>>=0,i||P(t,e,this.length);for(var n=this[t],r=1,s=0;++s<e&&(r*=256);)n+=this[t+s]*r;return n>=(r*=128)&&(n-=Math.pow(2,8*e)),n},f.prototype.readIntBE=function(t,e,i){t>>>=0,e>>>=0,i||P(t,e,this.length);for(var n=e,r=1,s=this[t+--n];n>0&&(r*=256);)s+=this[t+--n]*r;return s>=(r*=128)&&(s-=Math.pow(2,8*e)),s},f.prototype.readInt8=function(t,e){return t>>>=0,e||P(t,1,this.length),128&this[t]?-1*(255-this[t]+1):this[t]},f.prototype.readInt16LE=function(t,e){t>>>=0,e||P(t,2,this.length);var i=this[t]|this[t+1]<<8;return 32768&i?4294901760|i:i},f.prototype.readInt16BE=function(t,e){t>>>=0,e||P(t,2,this.length);var i=this[t+1]|this[t]<<8;return 32768&i?4294901760|i:i},f.prototype.readInt32LE=function(t,e){return t>>>=0,e||P(t,4,this.length),this[t]|this[t+1]<<8|this[t+2]<<16|this[t+3]<<24},f.prototype.readInt32BE=function(t,e){return t>>>=0,e||P(t,4,this.length),this[t]<<24|this[t+1]<<16|this[t+2]<<8|this[t+3]},f.prototype.readFloatLE=function(t,e){return t>>>=0,e||P(t,4,this.length),l.read(this,t,!0,23,4)},f.prototype.readFloatBE=function(t,e){return t>>>=0,e||P(t,4,this.length),l.read(this,t,!1,23,4)},f.prototype.readDoubleLE=function(t,e){return t>>>=0,e||P(t,8,this.length),l.read(this,t,!0,52,8)},f.prototype.readDoubleBE=function(t,e){return t>>>=0,e||P(t,8,this.length),l.read(this,t,!1,52,8)},f.prototype.writeUintLE=f.prototype.writeUIntLE=function(t,e,i,n){(t=+t,e>>>=0,i>>>=0,n)||B(this,t,e,i,Math.pow(2,8*i)-1,0);var r=1,s=0;for(this[e]=255&t;++s<i&&(r*=256);)this[e+s]=t/r&255;return e+i},f.prototype.writeUintBE=f.prototype.writeUIntBE=function(t,e,i,n){(t=+t,e>>>=0,i>>>=0,n)||B(this,t,e,i,Math.pow(2,8*i)-1,0);var r=i-1,s=1;for(this[e+r]=255&t;--r>=0&&(s*=256);)this[e+r]=t/s&255;return e+i},f.prototype.writeUint8=f.prototype.writeUInt8=function(t,e,i){return t=+t,e>>>=0,i||B(this,t,e,1,255,0),this[e]=255&t,e+1},f.prototype.writeUint16LE=f.prototype.writeUInt16LE=function(t,e,i){return t=+t,e>>>=0,i||B(this,t,e,2,65535,0),this[e]=255&t,this[e+1]=t>>>8,e+2},f.prototype.writeUint16BE=f.prototype.writeUInt16BE=function(t,e,i){return t=+t,e>>>=0,i||B(this,t,e,2,65535,0),this[e]=t>>>8,this[e+1]=255&t,e+2},f.prototype.writeUint32LE=f.prototype.writeUInt32LE=function(t,e,i){return t=+t,e>>>=0,i||B(this,t,e,4,4294967295,0),this[e+3]=t>>>24,this[e+2]=t>>>16,this[e+1]=t>>>8,this[e]=255&t,e+4},f.prototype.writeUint32BE=f.prototype.writeUInt32BE=function(t,e,i){return t=+t,e>>>=0,i||B(this,t,e,4,4294967295,0),this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t,e+4},f.prototype.writeIntLE=function(t,e,i,n){if(t=+t,e>>>=0,!n){var r=Math.pow(2,8*i-1);B(this,t,e,i,r-1,-r)}var s=0,o=1,a=0;for(this[e]=255&t;++s<i&&(o*=256);)t<0&&0===a&&0!==this[e+s-1]&&(a=1),this[e+s]=(t/o>>0)-a&255;return e+i},f.prototype.writeIntBE=function(t,e,i,n){if(t=+t,e>>>=0,!n){var r=Math.pow(2,8*i-1);B(this,t,e,i,r-1,-r)}var s=i-1,o=1,a=0;for(this[e+s]=255&t;--s>=0&&(o*=256);)t<0&&0===a&&0!==this[e+s+1]&&(a=1),this[e+s]=(t/o>>0)-a&255;return e+i},f.prototype.writeInt8=function(t,e,i){return t=+t,e>>>=0,i||B(this,t,e,1,127,-128),t<0&&(t=255+t+1),this[e]=255&t,e+1},f.prototype.writeInt16LE=function(t,e,i){return t=+t,e>>>=0,i||B(this,t,e,2,32767,-32768),this[e]=255&t,this[e+1]=t>>>8,e+2},f.prototype.writeInt16BE=function(t,e,i){return t=+t,e>>>=0,i||B(this,t,e,2,32767,-32768),this[e]=t>>>8,this[e+1]=255&t,e+2},f.prototype.writeInt32LE=function(t,e,i){return t=+t,e>>>=0,i||B(this,t,e,4,2147483647,-2147483648),this[e]=255&t,this[e+1]=t>>>8,this[e+2]=t>>>16,this[e+3]=t>>>24,e+4},f.prototype.writeInt32BE=function(t,e,i){return t=+t,e>>>=0,i||B(this,t,e,4,2147483647,-2147483648),t<0&&(t=4294967295+t+1),this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t,e+4},f.prototype.writeFloatLE=function(t,e,i){return F(this,t,e,!0,i)},f.prototype.writeFloatBE=function(t,e,i){return F(this,t,e,!1,i)},f.prototype.writeDoubleLE=function(t,e,i){return j(this,t,e,!0,i)},f.prototype.writeDoubleBE=function(t,e,i){return j(this,t,e,!1,i)},f.prototype.copy=function(t,e,i,n){if(!f.isBuffer(t))throw new TypeError("argument should be a Buffer");if(i||(i=0),n||0===n||(n=this.length),e>=t.length&&(e=t.length),e||(e=0),n>0&&n<i&&(n=i),n===i)return 0;if(0===t.length||0===this.length)return 0;if(e<0)throw new RangeError("targetStart out of bounds");if(i<0||i>=this.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("sourceEnd out of bounds");n>this.length&&(n=this.length),t.length-e<n-i&&(n=t.length-e+i);var r=n-i;return this===t&&"function"==typeof Uint8Array.prototype.copyWithin?this.copyWithin(e,i,n):Uint8Array.prototype.set.call(t,this.subarray(i,n),e),r},f.prototype.fill=function(t,e,i,n){if("string"==typeof t){if("string"==typeof e?(n=e,e=0,i=this.length):"string"==typeof i&&(n=i,i=this.length),void 0!==n&&"string"!=typeof n)throw new TypeError("encoding must be a string");if("string"==typeof n&&!f.isEncoding(n))throw new TypeError("Unknown encoding: "+n);if(1===t.length){var r=t.charCodeAt(0);("utf8"===n&&r<128||"latin1"===n)&&(t=r)}}else"number"==typeof t?t&=255:"boolean"==typeof t&&(t=Number(t));if(e<0||this.length<e||this.length<i)throw new RangeError("Out of range index");if(i<=e)return this;var s;if(e>>>=0,i=void 0===i?this.length:i>>>0,t||(t=0),"number"==typeof t)for(s=e;s<i;++s)this[s]=t;else{var o=f.isBuffer(t)?t:f.from(t,n),a=o.length;if(0===a)throw new TypeError('The value "'+t+'" is invalid for argument "value"');for(s=0;s<i-e;++s)this[s+e]=o[s%a]}return this};var z=/[^+/0-9A-Za-z-_]/g;function V(t,e){var i;e=e||1/0;for(var n=t.length,r=null,s=[],o=0;o<n;++o){if((i=t.charCodeAt(o))>55295&&i<57344){if(!r){if(i>56319){(e-=3)>-1&&s.push(239,191,189);continue}if(o+1===n){(e-=3)>-1&&s.push(239,191,189);continue}r=i;continue}if(i<56320){(e-=3)>-1&&s.push(239,191,189),r=i;continue}i=65536+(r-55296<<10|i-56320)}else r&&(e-=3)>-1&&s.push(239,191,189);if(r=null,i<128){if((e-=1)<0)break;s.push(i)}else if(i<2048){if((e-=2)<0)break;s.push(i>>6|192,63&i|128)}else if(i<65536){if((e-=3)<0)break;s.push(i>>12|224,i>>6&63|128,63&i|128)}else{if(!(i<1114112))throw new Error("Invalid code point");if((e-=4)<0)break;s.push(i>>18|240,i>>12&63|128,i>>6&63|128,63&i|128)}}return s}function H(t){return h.toByteArray(function(t){if((t=(t=t.split("=")[0]).trim().replace(z,"")).length<2)return"";for(;t.length%4!=0;)t+="=";return t}(t))}function W(t,e,i,n){for(var r=0;r<n&&!(r+i>=e.length||r>=t.length);++r)e[r+i]=t[r];return r}function K(t,e){return t instanceof e||null!=t&&null!=t.constructor&&null!=t.constructor.name&&t.constructor.name===e.name}function G(t){return t!=t}var Q=function(){for(var t="0123456789abcdef",e=new Array(256),i=0;i<16;++i)for(var n=16*i,r=0;r<16;++r)e[n+r]=t[i]+t[r];return e}()})),r.register("6z9GS",(function(e,i){var n,r;t(e.exports,"toByteArray",(()=>n),(t=>n=t)),t(e.exports,"fromByteArray",(()=>r),(t=>r=t)),n=function(t){var e,i,n=c(t),r=n[0],s=n[1],h=new a(function(t,e,i){return 3*(e+i)/4-i}(0,r,s)),l=0,u=s>0?r-4:r;for(i=0;i<u;i+=4)e=o[t.charCodeAt(i)]<<18|o[t.charCodeAt(i+1)]<<12|o[t.charCodeAt(i+2)]<<6|o[t.charCodeAt(i+3)],h[l++]=e>>16&255,h[l++]=e>>8&255,h[l++]=255&e;2===s&&(e=o[t.charCodeAt(i)]<<2|o[t.charCodeAt(i+1)]>>4,h[l++]=255&e);1===s&&(e=o[t.charCodeAt(i)]<<10|o[t.charCodeAt(i+1)]<<4|o[t.charCodeAt(i+2)]>>2,h[l++]=e>>8&255,h[l++]=255&e);return h},r=function(t){for(var e,i=t.length,n=i%3,r=[],o=16383,a=0,h=i-n;a<h;a+=o)r.push(d(t,a,a+o>h?h:a+o));1===n?(e=t[i-1],r.push(s[e>>2]+s[e<<4&63]+"==")):2===n&&(e=(t[i-2]<<8)+t[i-1],r.push(s[e>>10]+s[e>>4&63]+s[e<<2&63]+"="));return r.join("")};for(var s=[],o=[],a="undefined"!=typeof Uint8Array?Uint8Array:Array,h="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",l=0,u=h.length;l<u;++l)s[l]=h[l],o[h.charCodeAt(l)]=l;function c(t){var e=t.length;if(e%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var i=t.indexOf("=");return-1===i&&(i=e),[i,i===e?0:4-i%4]}function d(t,e,i){for(var n,r,o=[],a=e;a<i;a+=3)n=(t[a]<<16&16711680)+(t[a+1]<<8&65280)+(255&t[a+2]),o.push(s[(r=n)>>18&63]+s[r>>12&63]+s[r>>6&63]+s[63&r]);return o.join("")}o["-".charCodeAt(0)]=62,o["_".charCodeAt(0)]=63})),r.register("01E06",(function(e,i){
/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */var n,r;t(e.exports,"read",(()=>n),(t=>n=t)),t(e.exports,"write",(()=>r),(t=>r=t)),n=function(t,e,i,n,r){var s,o,a=8*r-n-1,h=(1<<a)-1,l=h>>1,u=-7,c=i?r-1:0,d=i?-1:1,f=t[e+c];for(c+=d,s=f&(1<<-u)-1,f>>=-u,u+=a;u>0;s=256*s+t[e+c],c+=d,u-=8);for(o=s&(1<<-u)-1,s>>=-u,u+=n;u>0;o=256*o+t[e+c],c+=d,u-=8);if(0===s)s=1-l;else{if(s===h)return o?NaN:1/0*(f?-1:1);o+=Math.pow(2,n),s-=l}return(f?-1:1)*o*Math.pow(2,s-n)},r=function(t,e,i,n,r,s){var o,a,h,l=8*s-r-1,u=(1<<l)-1,c=u>>1,d=23===r?Math.pow(2,-24)-Math.pow(2,-77):0,f=n?0:s-1,p=n?1:-1,m=e<0||0===e&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(a=isNaN(e)?1:0,o=u):(o=Math.floor(Math.log(e)/Math.LN2),e*(h=Math.pow(2,-o))<1&&(o--,h*=2),(e+=o+c>=1?d/h:d*Math.pow(2,1-c))*h>=2&&(o++,h/=2),o+c>=u?(a=0,o=u):o+c>=1?(a=(e*h-1)*Math.pow(2,r),o+=c):(a=e*Math.pow(2,c-1)*Math.pow(2,r),o=0));r>=8;t[i+f]=255&a,f+=p,a/=256,r-=8);for(o=o<<r|a,l+=r;l>0;t[i+f]=255&o,f+=p,o/=256,l-=8);t[i+f-p]|=128*m}})),r.register("ghseq",(function(t,e){var i=r("kDUq9"),n=r("aC9qH"),s=r("gcFcf"),o=r("474xN"),a=r("6dEJm");function h(t){a.call(this,"digest"),this._hash=t}i(h,a),h.prototype._update=function(t){this._hash.update(t)},h.prototype._final=function(){return this._hash.digest()},t.exports=function(t){return"md5"===(t=t.toLowerCase())?new n:"rmd160"===t||"ripemd160"===t?new s:new h(o(t))}})),r.register("kDUq9",(function(t,e){"function"==typeof Object.create?t.exports=function(t,e){e&&(t.super_=e,t.prototype=Object.create(e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}))}:t.exports=function(t,e){if(e){t.super_=e;var i=function(){};i.prototype=e.prototype,t.prototype=new i,t.prototype.constructor=t}}})),r.register("aC9qH",(function(t,e){var i=r("kDUq9"),n=r("bPmKf"),s=r("emGH0").Buffer,o=new Array(16);function a(){n.call(this,64),this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878}function h(t,e){return t<<e|t>>>32-e}function l(t,e,i,n,r,s,o){return h(t+(e&i|~e&n)+r+s|0,o)+e|0}function u(t,e,i,n,r,s,o){return h(t+(e&n|i&~n)+r+s|0,o)+e|0}function c(t,e,i,n,r,s,o){return h(t+(e^i^n)+r+s|0,o)+e|0}function d(t,e,i,n,r,s,o){return h(t+(i^(e|~n))+r+s|0,o)+e|0}i(a,n),a.prototype._update=function(){for(var t=o,e=0;e<16;++e)t[e]=this._block.readInt32LE(4*e);var i=this._a,n=this._b,r=this._c,s=this._d;i=l(i,n,r,s,t[0],3614090360,7),s=l(s,i,n,r,t[1],3905402710,12),r=l(r,s,i,n,t[2],606105819,17),n=l(n,r,s,i,t[3],3250441966,22),i=l(i,n,r,s,t[4],4118548399,7),s=l(s,i,n,r,t[5],1200080426,12),r=l(r,s,i,n,t[6],2821735955,17),n=l(n,r,s,i,t[7],4249261313,22),i=l(i,n,r,s,t[8],1770035416,7),s=l(s,i,n,r,t[9],2336552879,12),r=l(r,s,i,n,t[10],4294925233,17),n=l(n,r,s,i,t[11],2304563134,22),i=l(i,n,r,s,t[12],1804603682,7),s=l(s,i,n,r,t[13],4254626195,12),r=l(r,s,i,n,t[14],2792965006,17),i=u(i,n=l(n,r,s,i,t[15],1236535329,22),r,s,t[1],4129170786,5),s=u(s,i,n,r,t[6],3225465664,9),r=u(r,s,i,n,t[11],643717713,14),n=u(n,r,s,i,t[0],3921069994,20),i=u(i,n,r,s,t[5],3593408605,5),s=u(s,i,n,r,t[10],38016083,9),r=u(r,s,i,n,t[15],3634488961,14),n=u(n,r,s,i,t[4],3889429448,20),i=u(i,n,r,s,t[9],568446438,5),s=u(s,i,n,r,t[14],3275163606,9),r=u(r,s,i,n,t[3],4107603335,14),n=u(n,r,s,i,t[8],1163531501,20),i=u(i,n,r,s,t[13],2850285829,5),s=u(s,i,n,r,t[2],4243563512,9),r=u(r,s,i,n,t[7],1735328473,14),i=c(i,n=u(n,r,s,i,t[12],2368359562,20),r,s,t[5],4294588738,4),s=c(s,i,n,r,t[8],2272392833,11),r=c(r,s,i,n,t[11],1839030562,16),n=c(n,r,s,i,t[14],4259657740,23),i=c(i,n,r,s,t[1],2763975236,4),s=c(s,i,n,r,t[4],1272893353,11),r=c(r,s,i,n,t[7],4139469664,16),n=c(n,r,s,i,t[10],3200236656,23),i=c(i,n,r,s,t[13],681279174,4),s=c(s,i,n,r,t[0],3936430074,11),r=c(r,s,i,n,t[3],3572445317,16),n=c(n,r,s,i,t[6],76029189,23),i=c(i,n,r,s,t[9],3654602809,4),s=c(s,i,n,r,t[12],3873151461,11),r=c(r,s,i,n,t[15],530742520,16),i=d(i,n=c(n,r,s,i,t[2],3299628645,23),r,s,t[0],4096336452,6),s=d(s,i,n,r,t[7],1126891415,10),r=d(r,s,i,n,t[14],2878612391,15),n=d(n,r,s,i,t[5],4237533241,21),i=d(i,n,r,s,t[12],1700485571,6),s=d(s,i,n,r,t[3],2399980690,10),r=d(r,s,i,n,t[10],4293915773,15),n=d(n,r,s,i,t[1],2240044497,21),i=d(i,n,r,s,t[8],1873313359,6),s=d(s,i,n,r,t[15],4264355552,10),r=d(r,s,i,n,t[6],2734768916,15),n=d(n,r,s,i,t[13],1309151649,21),i=d(i,n,r,s,t[4],4149444226,6),s=d(s,i,n,r,t[11],3174756917,10),r=d(r,s,i,n,t[2],718787259,15),n=d(n,r,s,i,t[9],3951481745,21),this._a=this._a+i|0,this._b=this._b+n|0,this._c=this._c+r|0,this._d=this._d+s|0},a.prototype._digest=function(){this._block[this._blockOffset++]=128,this._blockOffset>56&&(this._block.fill(0,this._blockOffset,64),this._update(),this._blockOffset=0),this._block.fill(0,this._blockOffset,56),this._block.writeUInt32LE(this._length[0],56),this._block.writeUInt32LE(this._length[1],60),this._update();var t=s.allocUnsafe(16);return t.writeInt32LE(this._a,0),t.writeInt32LE(this._b,4),t.writeInt32LE(this._c,8),t.writeInt32LE(this._d,12),t},t.exports=a})),r.register("bPmKf",(function(t,e){var i=r("emGH0").Buffer,n=r("5Jf9W").Transform;function s(t){n.call(this),this._block=i.allocUnsafe(t),this._blockSize=t,this._blockOffset=0,this._length=[0,0,0,0],this._finalized=!1}r("kDUq9")(s,n),s.prototype._transform=function(t,e,i){var n=null;try{this.update(t,e)}catch(t){n=t}i(n)},s.prototype._flush=function(t){var e=null;try{this.push(this.digest())}catch(t){e=t}t(e)},s.prototype.update=function(t,e){if(function(t,e){if(!i.isBuffer(t)&&"string"!=typeof t)throw new TypeError(e+" must be a string or a buffer")}(t,"Data"),this._finalized)throw new Error("Digest already called");i.isBuffer(t)||(t=i.from(t,e));for(var n=this._block,r=0;this._blockOffset+t.length-r>=this._blockSize;){for(var s=this._blockOffset;s<this._blockSize;)n[s++]=t[r++];this._update(),this._blockOffset=0}for(;r<t.length;)n[this._blockOffset++]=t[r++];for(var o=0,a=8*t.length;a>0;++o)this._length[o]+=a,(a=this._length[o]/4294967296|0)>0&&(this._length[o]-=4294967296*a);return this},s.prototype._update=function(){throw new Error("_update is not implemented")},s.prototype.digest=function(t){if(this._finalized)throw new Error("Digest already called");this._finalized=!0;var e=this._digest();void 0!==t&&(e=e.toString(t)),this._block.fill(0),this._blockOffset=0;for(var i=0;i<4;++i)this._length[i]=0;return e},s.prototype._digest=function(){throw new Error("_digest is not implemented")},t.exports=s})),r.register("5Jf9W",(function(t,e){(e=t.exports=r("1InGV")).Stream=e,e.Readable=e,e.Writable=r("6IwyA"),e.Duplex=r("bQRhM"),e.Transform=r("dBNtr"),e.PassThrough=r("8GNGe"),e.finished=r("eVQGJ"),e.pipeline=r("6EKAF")})),r.register("1InGV",(function(t,i){var n,s=r("gXRuj");t.exports=E,E.ReadableState=A;r("dPLPd").EventEmitter;var o=function(t,e){return t.listeners(e).length},a=r("dqEKX"),h=r("hwHAp").Buffer,l=(void 0!==e?e:"undefined"!=typeof window?window:"undefined"!=typeof self?self:{}).Uint8Array||function(){};var u,c=r("lEqQD");u=c&&c.debuglog?c.debuglog("stream"):function(){};var d,f,p,m=r("l8Zl4"),g=r("ctlrP"),v=r("7Yw9K").getHighWaterMark,y=r("1lkMd").codes,b=y.ERR_INVALID_ARG_TYPE,w=y.ERR_STREAM_PUSH_AFTER_EOF,_=y.ERR_METHOD_NOT_IMPLEMENTED,M=y.ERR_STREAM_UNSHIFT_AFTER_END_EVENT;r("kDUq9")(E,a);var x=g.errorOrDestroy,k=["error","close","destroy","pause","resume"];function A(t,e,i){n=n||r("bQRhM"),t=t||{},"boolean"!=typeof i&&(i=e instanceof n),this.objectMode=!!t.objectMode,i&&(this.objectMode=this.objectMode||!!t.readableObjectMode),this.highWaterMark=v(this,t,"readableHighWaterMark",i),this.buffer=new m,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=!1!==t.emitClose,this.autoDestroy=!!t.autoDestroy,this.destroyed=!1,this.defaultEncoding=t.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,t.encoding&&(d||(d=r("6U3gZ").StringDecoder),this.decoder=new d(t.encoding),this.encoding=t.encoding)}function E(t){if(n=n||r("bQRhM"),!(this instanceof E))return new E(t);var e=this instanceof n;this._readableState=new A(t,this,e),this.readable=!0,t&&("function"==typeof t.read&&(this._read=t.read),"function"==typeof t.destroy&&(this._destroy=t.destroy)),a.call(this)}function S(t,e,i,n,r){u("readableAddChunk",e);var s,o=t._readableState;if(null===e)o.reading=!1,function(t,e){if(u("onEofChunk"),e.ended)return;if(e.decoder){var i=e.decoder.end();i&&i.length&&(e.buffer.push(i),e.length+=e.objectMode?1:i.length)}e.ended=!0,e.sync?C(t):(e.needReadable=!1,e.emittedReadable||(e.emittedReadable=!0,R(t)))}(t,o);else if(r||(s=function(t,e){var i;n=e,h.isBuffer(n)||n instanceof l||"string"==typeof e||void 0===e||t.objectMode||(i=new b("chunk",["string","Buffer","Uint8Array"],e));var n;return i}(o,e)),s)x(t,s);else if(o.objectMode||e&&e.length>0)if("string"==typeof e||o.objectMode||Object.getPrototypeOf(e)===h.prototype||(e=function(t){return h.from(t)}(e)),n)o.endEmitted?x(t,new M):T(t,o,e,!0);else if(o.ended)x(t,new w);else{if(o.destroyed)return!1;o.reading=!1,o.decoder&&!i?(e=o.decoder.write(e),o.objectMode||0!==e.length?T(t,o,e,!1):D(t,o)):T(t,o,e,!1)}else n||(o.reading=!1,D(t,o));return!o.ended&&(o.length<o.highWaterMark||0===o.length)}function T(t,e,i,n){e.flowing&&0===e.length&&!e.sync?(e.awaitDrain=0,t.emit("data",i)):(e.length+=e.objectMode?1:i.length,n?e.buffer.unshift(i):e.buffer.push(i),e.needReadable&&C(t)),D(t,e)}Object.defineProperty(E.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._readableState&&this._readableState.destroyed},set:function(t){this._readableState&&(this._readableState.destroyed=t)}}),E.prototype.destroy=g.destroy,E.prototype._undestroy=g.undestroy,E.prototype._destroy=function(t,e){e(t)},E.prototype.push=function(t,e){var i,n=this._readableState;return n.objectMode?i=!0:"string"==typeof t&&((e=e||n.defaultEncoding)!==n.encoding&&(t=h.from(t,e),e=""),i=!0),S(this,t,e,!1,i)},E.prototype.unshift=function(t){return S(this,t,null,!0,!1)},E.prototype.isPaused=function(){return!1===this._readableState.flowing},E.prototype.setEncoding=function(t){d||(d=r("6U3gZ").StringDecoder);var e=new d(t);this._readableState.decoder=e,this._readableState.encoding=this._readableState.decoder.encoding;for(var i=this._readableState.buffer.head,n="";null!==i;)n+=e.write(i.data),i=i.next;return this._readableState.buffer.clear(),""!==n&&this._readableState.buffer.push(n),this._readableState.length=n.length,this};var I=1073741824;function q(t,e){return t<=0||0===e.length&&e.ended?0:e.objectMode?1:t!=t?e.flowing&&e.length?e.buffer.head.data.length:e.length:(t>e.highWaterMark&&(e.highWaterMark=function(t){return t>=I?t=I:(t--,t|=t>>>1,t|=t>>>2,t|=t>>>4,t|=t>>>8,t|=t>>>16,t++),t}(t)),t<=e.length?t:e.ended?e.length:(e.needReadable=!0,0))}function C(t){var e=t._readableState;u("emitReadable",e.needReadable,e.emittedReadable),e.needReadable=!1,e.emittedReadable||(u("emitReadable",e.flowing),e.emittedReadable=!0,s.nextTick(R,t))}function R(t){var e=t._readableState;u("emitReadable_",e.destroyed,e.length,e.ended),e.destroyed||!e.length&&!e.ended||(t.emit("readable"),e.emittedReadable=!1),e.needReadable=!e.flowing&&!e.ended&&e.length<=e.highWaterMark,B(t)}function D(t,e){e.readingMore||(e.readingMore=!0,s.nextTick(L,t,e))}function L(t,e){for(;!e.reading&&!e.ended&&(e.length<e.highWaterMark||e.flowing&&0===e.length);){var i=e.length;if(u("maybeReadMore read 0"),t.read(0),i===e.length)break}e.readingMore=!1}function N(t){var e=t._readableState;e.readableListening=t.listenerCount("readable")>0,e.resumeScheduled&&!e.paused?e.flowing=!0:t.listenerCount("data")>0&&t.resume()}function O(t){u("readable nexttick read 0"),t.read(0)}function P(t,e){u("resume",e.reading),e.reading||t.read(0),e.resumeScheduled=!1,t.emit("resume"),B(t),e.flowing&&!e.reading&&t.read(0)}function B(t){var e=t._readableState;for(u("flow",e.flowing);e.flowing&&null!==t.read(););}function U(t,e){return 0===e.length?null:(e.objectMode?i=e.buffer.shift():!t||t>=e.length?(i=e.decoder?e.buffer.join(""):1===e.buffer.length?e.buffer.first():e.buffer.concat(e.length),e.buffer.clear()):i=e.buffer.consume(t,e.decoder),i);var i}function F(t){var e=t._readableState;u("endReadable",e.endEmitted),e.endEmitted||(e.ended=!0,s.nextTick(j,e,t))}function j(t,e){if(u("endReadableNT",t.endEmitted,t.length),!t.endEmitted&&0===t.length&&(t.endEmitted=!0,e.readable=!1,e.emit("end"),t.autoDestroy)){var i=e._writableState;(!i||i.autoDestroy&&i.finished)&&e.destroy()}}function z(t,e){for(var i=0,n=t.length;i<n;i++)if(t[i]===e)return i;return-1}E.prototype.read=function(t){u("read",t),t=parseInt(t,10);var e=this._readableState,i=t;if(0!==t&&(e.emittedReadable=!1),0===t&&e.needReadable&&((0!==e.highWaterMark?e.length>=e.highWaterMark:e.length>0)||e.ended))return u("read: emitReadable",e.length,e.ended),0===e.length&&e.ended?F(this):C(this),null;if(0===(t=q(t,e))&&e.ended)return 0===e.length&&F(this),null;var n,r=e.needReadable;return u("need readable",r),(0===e.length||e.length-t<e.highWaterMark)&&u("length less than watermark",r=!0),e.ended||e.reading?u("reading or ended",r=!1):r&&(u("do read"),e.reading=!0,e.sync=!0,0===e.length&&(e.needReadable=!0),this._read(e.highWaterMark),e.sync=!1,e.reading||(t=q(i,e))),null===(n=t>0?U(t,e):null)?(e.needReadable=e.length<=e.highWaterMark,t=0):(e.length-=t,e.awaitDrain=0),0===e.length&&(e.ended||(e.needReadable=!0),i!==t&&e.ended&&F(this)),null!==n&&this.emit("data",n),n},E.prototype._read=function(t){x(this,new _("_read()"))},E.prototype.pipe=function(t,e){var i=this,n=this._readableState;switch(n.pipesCount){case 0:n.pipes=t;break;case 1:n.pipes=[n.pipes,t];break;default:n.pipes.push(t)}n.pipesCount+=1,u("pipe count=%d opts=%j",n.pipesCount,e);var r=(!e||!1!==e.end)&&t!==s.stdout&&t!==s.stderr?h:g;function a(e,r){u("onunpipe"),e===i&&r&&!1===r.hasUnpiped&&(r.hasUnpiped=!0,u("cleanup"),t.removeListener("close",p),t.removeListener("finish",m),t.removeListener("drain",l),t.removeListener("error",f),t.removeListener("unpipe",a),i.removeListener("end",h),i.removeListener("end",g),i.removeListener("data",d),c=!0,!n.awaitDrain||t._writableState&&!t._writableState.needDrain||l())}function h(){u("onend"),t.end()}n.endEmitted?s.nextTick(r):i.once("end",r),t.on("unpipe",a);var l=function(t){return function(){var e=t._readableState;u("pipeOnDrain",e.awaitDrain),e.awaitDrain&&e.awaitDrain--,0===e.awaitDrain&&o(t,"data")&&(e.flowing=!0,B(t))}}(i);t.on("drain",l);var c=!1;function d(e){u("ondata");var r=t.write(e);u("dest.write",r),!1===r&&((1===n.pipesCount&&n.pipes===t||n.pipesCount>1&&-1!==z(n.pipes,t))&&!c&&(u("false write response, pause",n.awaitDrain),n.awaitDrain++),i.pause())}function f(e){u("onerror",e),g(),t.removeListener("error",f),0===o(t,"error")&&x(t,e)}function p(){t.removeListener("finish",m),g()}function m(){u("onfinish"),t.removeListener("close",p),g()}function g(){u("unpipe"),i.unpipe(t)}return i.on("data",d),function(t,e,i){if("function"==typeof t.prependListener)return t.prependListener(e,i);t._events&&t._events[e]?Array.isArray(t._events[e])?t._events[e].unshift(i):t._events[e]=[i,t._events[e]]:t.on(e,i)}(t,"error",f),t.once("close",p),t.once("finish",m),t.emit("pipe",i),n.flowing||(u("pipe resume"),i.resume()),t},E.prototype.unpipe=function(t){var e=this._readableState,i={hasUnpiped:!1};if(0===e.pipesCount)return this;if(1===e.pipesCount)return t&&t!==e.pipes||(t||(t=e.pipes),e.pipes=null,e.pipesCount=0,e.flowing=!1,t&&t.emit("unpipe",this,i)),this;if(!t){var n=e.pipes,r=e.pipesCount;e.pipes=null,e.pipesCount=0,e.flowing=!1;for(var s=0;s<r;s++)n[s].emit("unpipe",this,{hasUnpiped:!1});return this}var o=z(e.pipes,t);return-1===o||(e.pipes.splice(o,1),e.pipesCount-=1,1===e.pipesCount&&(e.pipes=e.pipes[0]),t.emit("unpipe",this,i)),this},E.prototype.on=function(t,e){var i=a.prototype.on.call(this,t,e),n=this._readableState;return"data"===t?(n.readableListening=this.listenerCount("readable")>0,!1!==n.flowing&&this.resume()):"readable"===t&&(n.endEmitted||n.readableListening||(n.readableListening=n.needReadable=!0,n.flowing=!1,n.emittedReadable=!1,u("on readable",n.length,n.reading),n.length?C(this):n.reading||s.nextTick(O,this))),i},E.prototype.addListener=E.prototype.on,E.prototype.removeListener=function(t,e){var i=a.prototype.removeListener.call(this,t,e);return"readable"===t&&s.nextTick(N,this),i},E.prototype.removeAllListeners=function(t){var e=a.prototype.removeAllListeners.apply(this,arguments);return"readable"!==t&&void 0!==t||s.nextTick(N,this),e},E.prototype.resume=function(){var t=this._readableState;return t.flowing||(u("resume"),t.flowing=!t.readableListening,function(t,e){e.resumeScheduled||(e.resumeScheduled=!0,s.nextTick(P,t,e))}(this,t)),t.paused=!1,this},E.prototype.pause=function(){return u("call pause flowing=%j",this._readableState.flowing),!1!==this._readableState.flowing&&(u("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this},E.prototype.wrap=function(t){var e=this,i=this._readableState,n=!1;for(var r in t.on("end",(function(){if(u("wrapped end"),i.decoder&&!i.ended){var t=i.decoder.end();t&&t.length&&e.push(t)}e.push(null)})),t.on("data",(function(r){(u("wrapped data"),i.decoder&&(r=i.decoder.write(r)),i.objectMode&&null==r)||(i.objectMode||r&&r.length)&&(e.push(r)||(n=!0,t.pause()))})),t)void 0===this[r]&&"function"==typeof t[r]&&(this[r]=function(e){return function(){return t[e].apply(t,arguments)}}(r));for(var s=0;s<k.length;s++)t.on(k[s],this.emit.bind(this,k[s]));return this._read=function(e){u("wrapped _read",e),n&&(n=!1,t.resume())},this},"function"==typeof Symbol&&(E.prototype[Symbol.asyncIterator]=function(){return void 0===f&&(f=r("daMba")),f(this)}),Object.defineProperty(E.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),Object.defineProperty(E.prototype,"readableBuffer",{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}}),Object.defineProperty(E.prototype,"readableFlowing",{enumerable:!1,get:function(){return this._readableState.flowing},set:function(t){this._readableState&&(this._readableState.flowing=t)}}),E._fromList=U,Object.defineProperty(E.prototype,"readableLength",{enumerable:!1,get:function(){return this._readableState.length}}),"function"==typeof Symbol&&(E.from=function(t,e){return void 0===p&&(p=r("az9Bh")),p(E,t,e)})})),r.register("dPLPd",(function(t,e){var i,n="object"==typeof Reflect?Reflect:null,r=n&&"function"==typeof n.apply?n.apply:function(t,e,i){return Function.prototype.apply.call(t,e,i)};i=n&&"function"==typeof n.ownKeys?n.ownKeys:Object.getOwnPropertySymbols?function(t){return Object.getOwnPropertyNames(t).concat(Object.getOwnPropertySymbols(t))}:function(t){return Object.getOwnPropertyNames(t)};var s=Number.isNaN||function(t){return t!=t};function o(){o.init.call(this)}t.exports=o,t.exports.once=function(t,e){return new Promise((function(i,n){function r(i){t.removeListener(e,s),n(i)}function s(){"function"==typeof t.removeListener&&t.removeListener("error",r),i([].slice.call(arguments))}g(t,e,s,{once:!0}),"error"!==e&&function(t,e,i){"function"==typeof t.on&&g(t,"error",e,i)}(t,r,{once:!0})}))},o.EventEmitter=o,o.prototype._events=void 0,o.prototype._eventsCount=0,o.prototype._maxListeners=void 0;var a=10;function h(t){if("function"!=typeof t)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof t)}function l(t){return void 0===t._maxListeners?o.defaultMaxListeners:t._maxListeners}function u(t,e,i,n){var r,s,o,a;if(h(i),void 0===(s=t._events)?(s=t._events=Object.create(null),t._eventsCount=0):(void 0!==s.newListener&&(t.emit("newListener",e,i.listener?i.listener:i),s=t._events),o=s[e]),void 0===o)o=s[e]=i,++t._eventsCount;else if("function"==typeof o?o=s[e]=n?[i,o]:[o,i]:n?o.unshift(i):o.push(i),(r=l(t))>0&&o.length>r&&!o.warned){o.warned=!0;var u=new Error("Possible EventEmitter memory leak detected. "+o.length+" "+String(e)+" listeners added. Use emitter.setMaxListeners() to increase limit");u.name="MaxListenersExceededWarning",u.emitter=t,u.type=e,u.count=o.length,a=u,console&&console.warn&&console.warn(a)}return t}function c(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,0===arguments.length?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function d(t,e,i){var n={fired:!1,wrapFn:void 0,target:t,type:e,listener:i},r=c.bind(n);return r.listener=i,n.wrapFn=r,r}function f(t,e,i){var n=t._events;if(void 0===n)return[];var r=n[e];return void 0===r?[]:"function"==typeof r?i?[r.listener||r]:[r]:i?function(t){for(var e=new Array(t.length),i=0;i<e.length;++i)e[i]=t[i].listener||t[i];return e}(r):m(r,r.length)}function p(t){var e=this._events;if(void 0!==e){var i=e[t];if("function"==typeof i)return 1;if(void 0!==i)return i.length}return 0}function m(t,e){for(var i=new Array(e),n=0;n<e;++n)i[n]=t[n];return i}function g(t,e,i,n){if("function"==typeof t.on)n.once?t.once(e,i):t.on(e,i);else{if("function"!=typeof t.addEventListener)throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof t);t.addEventListener(e,(function r(s){n.once&&t.removeEventListener(e,r),i(s)}))}}Object.defineProperty(o,"defaultMaxListeners",{enumerable:!0,get:function(){return a},set:function(t){if("number"!=typeof t||t<0||s(t))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+t+".");a=t}}),o.init=function(){void 0!==this._events&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},o.prototype.setMaxListeners=function(t){if("number"!=typeof t||t<0||s(t))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+t+".");return this._maxListeners=t,this},o.prototype.getMaxListeners=function(){return l(this)},o.prototype.emit=function(t){for(var e=[],i=1;i<arguments.length;i++)e.push(arguments[i]);var n="error"===t,s=this._events;if(void 0!==s)n=n&&void 0===s.error;else if(!n)return!1;if(n){var o;if(e.length>0&&(o=e[0]),o instanceof Error)throw o;var a=new Error("Unhandled error."+(o?" ("+o.message+")":""));throw a.context=o,a}var h=s[t];if(void 0===h)return!1;if("function"==typeof h)r(h,this,e);else{var l=h.length,u=m(h,l);for(i=0;i<l;++i)r(u[i],this,e)}return!0},o.prototype.addListener=function(t,e){return u(this,t,e,!1)},o.prototype.on=o.prototype.addListener,o.prototype.prependListener=function(t,e){return u(this,t,e,!0)},o.prototype.once=function(t,e){return h(e),this.on(t,d(this,t,e)),this},o.prototype.prependOnceListener=function(t,e){return h(e),this.prependListener(t,d(this,t,e)),this},o.prototype.removeListener=function(t,e){var i,n,r,s,o;if(h(e),void 0===(n=this._events))return this;if(void 0===(i=n[t]))return this;if(i===e||i.listener===e)0==--this._eventsCount?this._events=Object.create(null):(delete n[t],n.removeListener&&this.emit("removeListener",t,i.listener||e));else if("function"!=typeof i){for(r=-1,s=i.length-1;s>=0;s--)if(i[s]===e||i[s].listener===e){o=i[s].listener,r=s;break}if(r<0)return this;0===r?i.shift():function(t,e){for(;e+1<t.length;e++)t[e]=t[e+1];t.pop()}(i,r),1===i.length&&(n[t]=i[0]),void 0!==n.removeListener&&this.emit("removeListener",t,o||e)}return this},o.prototype.off=o.prototype.removeListener,o.prototype.removeAllListeners=function(t){var e,i,n;if(void 0===(i=this._events))return this;if(void 0===i.removeListener)return 0===arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==i[t]&&(0==--this._eventsCount?this._events=Object.create(null):delete i[t]),this;if(0===arguments.length){var r,s=Object.keys(i);for(n=0;n<s.length;++n)"removeListener"!==(r=s[n])&&this.removeAllListeners(r);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if("function"==typeof(e=i[t]))this.removeListener(t,e);else if(void 0!==e)for(n=e.length-1;n>=0;n--)this.removeListener(t,e[n]);return this},o.prototype.listeners=function(t){return f(this,t,!0)},o.prototype.rawListeners=function(t){return f(this,t,!1)},o.listenerCount=function(t,e){return"function"==typeof t.listenerCount?t.listenerCount(e):p.call(t,e)},o.prototype.listenerCount=p,o.prototype.eventNames=function(){return this._eventsCount>0?i(this._events):[]}})),r.register("dqEKX",(function(t,e){t.exports=r("dPLPd").EventEmitter})),r.register("lEqQD",(function(t,e){})),r.register("l8Zl4",(function(t,e){function i(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),i.push.apply(i,n)}return i}function n(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?i(Object(n),!0).forEach((function(e){s(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function s(t,e,i){return(e=a(e))in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}function o(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,a(n.key),n)}}function a(t){var e=function(t,e){if("object"!=typeof t||null===t)return t;var i=t[Symbol.toPrimitive];if(void 0!==i){var n=i.call(t,e||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==typeof e?e:String(e)}var h=r("hwHAp").Buffer,l=r("lEqQD").inspect,u=l&&l.custom||"inspect";t.exports=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.head=null,this.tail=null,this.length=0}var e,i,r;return e=t,(i=[{key:"push",value:function(t){var e={data:t,next:null};this.length>0?this.tail.next=e:this.head=e,this.tail=e,++this.length}},{key:"unshift",value:function(t){var e={data:t,next:this.head};0===this.length&&(this.tail=e),this.head=e,++this.length}},{key:"shift",value:function(){if(0!==this.length){var t=this.head.data;return 1===this.length?this.head=this.tail=null:this.head=this.head.next,--this.length,t}}},{key:"clear",value:function(){this.head=this.tail=null,this.length=0}},{key:"join",value:function(t){if(0===this.length)return"";for(var e=this.head,i=""+e.data;e=e.next;)i+=t+e.data;return i}},{key:"concat",value:function(t){if(0===this.length)return h.alloc(0);for(var e,i,n,r=h.allocUnsafe(t>>>0),s=this.head,o=0;s;)e=s.data,i=r,n=o,h.prototype.copy.call(e,i,n),o+=s.data.length,s=s.next;return r}},{key:"consume",value:function(t,e){var i;return t<this.head.data.length?(i=this.head.data.slice(0,t),this.head.data=this.head.data.slice(t)):i=t===this.head.data.length?this.shift():e?this._getString(t):this._getBuffer(t),i}},{key:"first",value:function(){return this.head.data}},{key:"_getString",value:function(t){var e=this.head,i=1,n=e.data;for(t-=n.length;e=e.next;){var r=e.data,s=t>r.length?r.length:t;if(s===r.length?n+=r:n+=r.slice(0,t),0==(t-=s)){s===r.length?(++i,e.next?this.head=e.next:this.head=this.tail=null):(this.head=e,e.data=r.slice(s));break}++i}return this.length-=i,n}},{key:"_getBuffer",value:function(t){var e=h.allocUnsafe(t),i=this.head,n=1;for(i.data.copy(e),t-=i.data.length;i=i.next;){var r=i.data,s=t>r.length?r.length:t;if(r.copy(e,e.length-t,0,s),0==(t-=s)){s===r.length?(++n,i.next?this.head=i.next:this.head=this.tail=null):(this.head=i,i.data=r.slice(s));break}++n}return this.length-=n,e}},{key:u,value:function(t,e){return l(this,n(n({},e),{},{depth:0,customInspect:!1}))}}])&&o(e.prototype,i),r&&o(e,r),Object.defineProperty(e,"prototype",{writable:!1}),t}()})),r.register("ctlrP",(function(t,e){var i=r("gXRuj");function n(t,e){o(t,e),s(t)}function s(t){t._writableState&&!t._writableState.emitClose||t._readableState&&!t._readableState.emitClose||t.emit("close")}function o(t,e){t.emit("error",e)}t.exports={destroy:function(t,e){var r=this,a=this._readableState&&this._readableState.destroyed,h=this._writableState&&this._writableState.destroyed;return a||h?(e?e(t):t&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,i.nextTick(o,this,t)):i.nextTick(o,this,t)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(t||null,(function(t){!e&&t?r._writableState?r._writableState.errorEmitted?i.nextTick(s,r):(r._writableState.errorEmitted=!0,i.nextTick(n,r,t)):i.nextTick(n,r,t):e?(i.nextTick(s,r),e(t)):i.nextTick(s,r)})),this)},undestroy:function(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)},errorOrDestroy:function(t,e){var i=t._readableState,n=t._writableState;i&&i.autoDestroy||n&&n.autoDestroy?t.destroy(e):t.emit("error",e)}}})),r.register("7Yw9K",(function(t,e){var i=r("1lkMd").codes.ERR_INVALID_OPT_VALUE;t.exports={getHighWaterMark:function(t,e,n,r){var s=function(t,e,i){return null!=t.highWaterMark?t.highWaterMark:e?t[i]:null}(e,r,n);if(null!=s){if(!isFinite(s)||Math.floor(s)!==s||s<0)throw new i(r?n:"highWaterMark",s);return Math.floor(s)}return t.objectMode?16:16384}}})),r.register("1lkMd",(function(e,i){var n;t(e.exports,"codes",(()=>n),(t=>n=t));var r={};function s(t,e,i){i||(i=Error);var n=function(t){var i,n;function r(i,n,r){return t.call(this,function(t,i,n){return"string"==typeof e?e:e(t,i,n)}(i,n,r))||this}return n=t,(i=r).prototype=Object.create(n.prototype),i.prototype.constructor=i,i.__proto__=n,r}(i);n.prototype.name=i.name,n.prototype.code=t,r[t]=n}function o(t,e){if(Array.isArray(t)){var i=t.length;return t=t.map((function(t){return String(t)})),i>2?"one of ".concat(e," ").concat(t.slice(0,i-1).join(", "),", or ")+t[i-1]:2===i?"one of ".concat(e," ").concat(t[0]," or ").concat(t[1]):"of ".concat(e," ").concat(t[0])}return"of ".concat(e," ").concat(String(t))}s("ERR_INVALID_OPT_VALUE",(function(t,e){return'The value "'+e+'" is invalid for option "'+t+'"'}),TypeError),s("ERR_INVALID_ARG_TYPE",(function(t,e,i){var n,r,s,a;if("string"==typeof e&&(r="not ",e.substr(!s||s<0?0:+s,r.length)===r)?(n="must not be",e=e.replace(/^not /,"")):n="must be",function(t,e,i){return(void 0===i||i>t.length)&&(i=t.length),t.substring(i-e.length,i)===e}(t," argument"))a="The ".concat(t," ").concat(n," ").concat(o(e,"type"));else{var h=function(t,e,i){return"number"!=typeof i&&(i=0),!(i+e.length>t.length)&&-1!==t.indexOf(e,i)}(t,".")?"property":"argument";a='The "'.concat(t,'" ').concat(h," ").concat(n," ").concat(o(e,"type"))}return a+=". Received type ".concat(typeof i)}),TypeError),s("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF"),s("ERR_METHOD_NOT_IMPLEMENTED",(function(t){return"The "+t+" method is not implemented"})),s("ERR_STREAM_PREMATURE_CLOSE","Premature close"),s("ERR_STREAM_DESTROYED",(function(t){return"Cannot call "+t+" after a stream was destroyed"})),s("ERR_MULTIPLE_CALLBACK","Callback called multiple times"),s("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable"),s("ERR_STREAM_WRITE_AFTER_END","write after end"),s("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),s("ERR_UNKNOWN_ENCODING",(function(t){return"Unknown encoding: "+t}),TypeError),s("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event"),n=r})),r.register("bQRhM",(function(t,e){var i=r("gXRuj"),n=Object.keys||function(t){var e=[];for(var i in t)e.push(i);return e};t.exports=u;var s=r("1InGV"),o=r("6IwyA");r("kDUq9")(u,s);for(var a=n(o.prototype),h=0;h<a.length;h++){var l=a[h];u.prototype[l]||(u.prototype[l]=o.prototype[l])}function u(t){if(!(this instanceof u))return new u(t);s.call(this,t),o.call(this,t),this.allowHalfOpen=!0,t&&(!1===t.readable&&(this.readable=!1),!1===t.writable&&(this.writable=!1),!1===t.allowHalfOpen&&(this.allowHalfOpen=!1,this.once("end",c)))}function c(){this._writableState.ended||i.nextTick(d,this)}function d(t){t.end()}Object.defineProperty(u.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(u.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(u.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(u.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed&&this._writableState.destroyed)},set:function(t){void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed=t,this._writableState.destroyed=t)}})})),r.register("6IwyA",(function(t,i){var n,s=r("gXRuj");function o(t){var e=this;this.next=null,this.entry=null,this.finish=function(){!function(t,e,i){var n=t.entry;t.entry=null;for(;n;){var r=n.callback;e.pendingcb--,r(i),n=n.next}e.corkedRequestsFree.next=t}(e,t)}}t.exports=E,E.WritableState=A;var a={deprecate:r("cMFFt")},h=r("dqEKX"),l=r("hwHAp").Buffer,u=(void 0!==e?e:"undefined"!=typeof window?window:"undefined"!=typeof self?self:{}).Uint8Array||function(){};var c,d=r("ctlrP"),f=r("7Yw9K").getHighWaterMark,p=r("1lkMd").codes,m=p.ERR_INVALID_ARG_TYPE,g=p.ERR_METHOD_NOT_IMPLEMENTED,v=p.ERR_MULTIPLE_CALLBACK,y=p.ERR_STREAM_CANNOT_PIPE,b=p.ERR_STREAM_DESTROYED,w=p.ERR_STREAM_NULL_VALUES,_=p.ERR_STREAM_WRITE_AFTER_END,M=p.ERR_UNKNOWN_ENCODING,x=d.errorOrDestroy;function k(){}function A(t,e,i){n=n||r("bQRhM"),t=t||{},"boolean"!=typeof i&&(i=e instanceof n),this.objectMode=!!t.objectMode,i&&(this.objectMode=this.objectMode||!!t.writableObjectMode),this.highWaterMark=f(this,t,"writableHighWaterMark",i),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var a=!1===t.decodeStrings;this.decodeStrings=!a,this.defaultEncoding=t.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(t){!function(t,e){var i=t._writableState,n=i.sync,r=i.writecb;if("function"!=typeof r)throw new v;if(function(t){t.writing=!1,t.writecb=null,t.length-=t.writelen,t.writelen=0}(i),e)!function(t,e,i,n,r){--e.pendingcb,i?(s.nextTick(r,n),s.nextTick(R,t,e),t._writableState.errorEmitted=!0,x(t,n)):(r(n),t._writableState.errorEmitted=!0,x(t,n),R(t,e))}(t,i,n,e,r);else{var o=q(i)||t.destroyed;o||i.corked||i.bufferProcessing||!i.bufferedRequest||I(t,i),n?s.nextTick(T,t,i,o,r):T(t,i,o,r)}}(e,t)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=!1!==t.emitClose,this.autoDestroy=!!t.autoDestroy,this.bufferedRequestCount=0,this.corkedRequestsFree=new o(this)}function E(t){var e=this instanceof(n=n||r("bQRhM"));if(!e&&!c.call(E,this))return new E(t);this._writableState=new A(t,this,e),this.writable=!0,t&&("function"==typeof t.write&&(this._write=t.write),"function"==typeof t.writev&&(this._writev=t.writev),"function"==typeof t.destroy&&(this._destroy=t.destroy),"function"==typeof t.final&&(this._final=t.final)),h.call(this)}function S(t,e,i,n,r,s,o){e.writelen=n,e.writecb=o,e.writing=!0,e.sync=!0,e.destroyed?e.onwrite(new b("write")):i?t._writev(r,e.onwrite):t._write(r,s,e.onwrite),e.sync=!1}function T(t,e,i,n){i||function(t,e){0===e.length&&e.needDrain&&(e.needDrain=!1,t.emit("drain"))}(t,e),e.pendingcb--,n(),R(t,e)}function I(t,e){e.bufferProcessing=!0;var i=e.bufferedRequest;if(t._writev&&i&&i.next){var n=e.bufferedRequestCount,r=new Array(n),s=e.corkedRequestsFree;s.entry=i;for(var a=0,h=!0;i;)r[a]=i,i.isBuf||(h=!1),i=i.next,a+=1;r.allBuffers=h,S(t,e,!0,e.length,r,"",s.finish),e.pendingcb++,e.lastBufferedRequest=null,s.next?(e.corkedRequestsFree=s.next,s.next=null):e.corkedRequestsFree=new o(e),e.bufferedRequestCount=0}else{for(;i;){var l=i.chunk,u=i.encoding,c=i.callback;if(S(t,e,!1,e.objectMode?1:l.length,l,u,c),i=i.next,e.bufferedRequestCount--,e.writing)break}null===i&&(e.lastBufferedRequest=null)}e.bufferedRequest=i,e.bufferProcessing=!1}function q(t){return t.ending&&0===t.length&&null===t.bufferedRequest&&!t.finished&&!t.writing}function C(t,e){t._final((function(i){e.pendingcb--,i&&x(t,i),e.prefinished=!0,t.emit("prefinish"),R(t,e)}))}function R(t,e){var i=q(e);if(i&&(function(t,e){e.prefinished||e.finalCalled||("function"!=typeof t._final||e.destroyed?(e.prefinished=!0,t.emit("prefinish")):(e.pendingcb++,e.finalCalled=!0,s.nextTick(C,t,e)))}(t,e),0===e.pendingcb&&(e.finished=!0,t.emit("finish"),e.autoDestroy))){var n=t._readableState;(!n||n.autoDestroy&&n.endEmitted)&&t.destroy()}return i}r("kDUq9")(E,h),A.prototype.getBuffer=function(){for(var t=this.bufferedRequest,e=[];t;)e.push(t),t=t.next;return e},function(){try{Object.defineProperty(A.prototype,"buffer",{get:a.deprecate((function(){return this.getBuffer()}),"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch(t){}}(),"function"==typeof Symbol&&Symbol.hasInstance&&"function"==typeof Function.prototype[Symbol.hasInstance]?(c=Function.prototype[Symbol.hasInstance],Object.defineProperty(E,Symbol.hasInstance,{value:function(t){return!!c.call(this,t)||this===E&&(t&&t._writableState instanceof A)}})):c=function(t){return t instanceof this},E.prototype.pipe=function(){x(this,new y)},E.prototype.write=function(t,e,i){var n,r=this._writableState,o=!1,a=!r.objectMode&&(n=t,l.isBuffer(n)||n instanceof u);return a&&!l.isBuffer(t)&&(t=function(t){return l.from(t)}(t)),"function"==typeof e&&(i=e,e=null),a?e="buffer":e||(e=r.defaultEncoding),"function"!=typeof i&&(i=k),r.ending?function(t,e){var i=new _;x(t,i),s.nextTick(e,i)}(this,i):(a||function(t,e,i,n){var r;return null===i?r=new w:"string"==typeof i||e.objectMode||(r=new m("chunk",["string","Buffer"],i)),!r||(x(t,r),s.nextTick(n,r),!1)}(this,r,t,i))&&(r.pendingcb++,o=function(t,e,i,n,r,s){if(!i){var o=function(t,e,i){t.objectMode||!1===t.decodeStrings||"string"!=typeof e||(e=l.from(e,i));return e}(e,n,r);n!==o&&(i=!0,r="buffer",n=o)}var a=e.objectMode?1:n.length;e.length+=a;var h=e.length<e.highWaterMark;h||(e.needDrain=!0);if(e.writing||e.corked){var u=e.lastBufferedRequest;e.lastBufferedRequest={chunk:n,encoding:r,isBuf:i,callback:s,next:null},u?u.next=e.lastBufferedRequest:e.bufferedRequest=e.lastBufferedRequest,e.bufferedRequestCount+=1}else S(t,e,!1,a,n,r,s);return h}(this,r,a,t,e,i)),o},E.prototype.cork=function(){this._writableState.corked++},E.prototype.uncork=function(){var t=this._writableState;t.corked&&(t.corked--,t.writing||t.corked||t.bufferProcessing||!t.bufferedRequest||I(this,t))},E.prototype.setDefaultEncoding=function(t){if("string"==typeof t&&(t=t.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((t+"").toLowerCase())>-1))throw new M(t);return this._writableState.defaultEncoding=t,this},Object.defineProperty(E.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(E.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),E.prototype._write=function(t,e,i){i(new g("_write()"))},E.prototype._writev=null,E.prototype.end=function(t,e,i){var n=this._writableState;return"function"==typeof t?(i=t,t=null,e=null):"function"==typeof e&&(i=e,e=null),null!=t&&this.write(t,e),n.corked&&(n.corked=1,this.uncork()),n.ending||function(t,e,i){e.ending=!0,R(t,e),i&&(e.finished?s.nextTick(i):t.once("finish",i));e.ended=!0,t.writable=!1}(this,n,i),this},Object.defineProperty(E.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(E.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._writableState&&this._writableState.destroyed},set:function(t){this._writableState&&(this._writableState.destroyed=t)}}),E.prototype.destroy=d.destroy,E.prototype._undestroy=d.undestroy,E.prototype._destroy=function(t,e){e(t)}})),r.register("cMFFt",(function(t,i){function n(t){try{if(!e.localStorage)return!1}catch(t){return!1}var i=e.localStorage[t];return null!=i&&"true"===String(i).toLowerCase()}t.exports=function(t,e){if(n("noDeprecation"))return t;var i=!1;return function(){if(!i){if(n("throwDeprecation"))throw new Error(e);n("traceDeprecation")?console.trace(e):console.warn(e),i=!0}return t.apply(this,arguments)}}})),r.register("6U3gZ",(function(e,i){var n;t(e.exports,"StringDecoder",(()=>n),(t=>n=t));var s=r("emGH0").Buffer,o=s.isEncoding||function(t){switch((t=""+t)&&t.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function a(t){var e;switch(this.encoding=function(t){var e=function(t){if(!t)return"utf8";for(var e;;)switch(t){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return t;default:if(e)return;t=(""+t).toLowerCase(),e=!0}}(t);if("string"!=typeof e&&(s.isEncoding===o||!o(t)))throw new Error("Unknown encoding: "+t);return e||t}(t),this.encoding){case"utf16le":this.text=u,this.end=c,e=4;break;case"utf8":this.fillLast=l,e=4;break;case"base64":this.text=d,this.end=f,e=3;break;default:return this.write=p,void(this.end=m)}this.lastNeed=0,this.lastTotal=0,this.lastChar=s.allocUnsafe(e)}function h(t){return t<=127?0:t>>5==6?2:t>>4==14?3:t>>3==30?4:t>>6==2?-1:-2}function l(t){var e=this.lastTotal-this.lastNeed,i=function(t,e,i){if(128!=(192&e[0]))return t.lastNeed=0,"";if(t.lastNeed>1&&e.length>1){if(128!=(192&e[1]))return t.lastNeed=1,"";if(t.lastNeed>2&&e.length>2&&128!=(192&e[2]))return t.lastNeed=2,""}}(this,t);return void 0!==i?i:this.lastNeed<=t.length?(t.copy(this.lastChar,e,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal)):(t.copy(this.lastChar,e,0,t.length),void(this.lastNeed-=t.length))}function u(t,e){if((t.length-e)%2==0){var i=t.toString("utf16le",e);if(i){var n=i.charCodeAt(i.length-1);if(n>=55296&&n<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=t[t.length-2],this.lastChar[1]=t[t.length-1],i.slice(0,-1)}return i}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=t[t.length-1],t.toString("utf16le",e,t.length-1)}function c(t){var e=t&&t.length?this.write(t):"";if(this.lastNeed){var i=this.lastTotal-this.lastNeed;return e+this.lastChar.toString("utf16le",0,i)}return e}function d(t,e){var i=(t.length-e)%3;return 0===i?t.toString("base64",e):(this.lastNeed=3-i,this.lastTotal=3,1===i?this.lastChar[0]=t[t.length-1]:(this.lastChar[0]=t[t.length-2],this.lastChar[1]=t[t.length-1]),t.toString("base64",e,t.length-i))}function f(t){var e=t&&t.length?this.write(t):"";return this.lastNeed?e+this.lastChar.toString("base64",0,3-this.lastNeed):e}function p(t){return t.toString(this.encoding)}function m(t){return t&&t.length?this.write(t):""}n=a,a.prototype.write=function(t){if(0===t.length)return"";var e,i;if(this.lastNeed){if(void 0===(e=this.fillLast(t)))return"";i=this.lastNeed,this.lastNeed=0}else i=0;return i<t.length?e?e+this.text(t,i):this.text(t,i):e||""},a.prototype.end=function(t){var e=t&&t.length?this.write(t):"";return this.lastNeed?e+"":e},a.prototype.text=function(t,e){var i=function(t,e,i){var n=e.length-1;if(n<i)return 0;var r=h(e[n]);if(r>=0)return r>0&&(t.lastNeed=r-1),r;if(--n<i||-2===r)return 0;if(r=h(e[n]),r>=0)return r>0&&(t.lastNeed=r-2),r;if(--n<i||-2===r)return 0;if(r=h(e[n]),r>=0)return r>0&&(2===r?r=0:t.lastNeed=r-3),r;return 0}(this,t,e);if(!this.lastNeed)return t.toString("utf8",e);this.lastTotal=i;var n=t.length-(i-this.lastNeed);return t.copy(this.lastChar,0,n),t.toString("utf8",e,n)},a.prototype.fillLast=function(t){if(this.lastNeed<=t.length)return t.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);t.copy(this.lastChar,this.lastTotal-this.lastNeed,0,t.length),this.lastNeed-=t.length}})),r.register("daMba",(function(t,e){var i,n=r("gXRuj");function s(t,e,i){return(e=function(t){var e=function(t,e){if("object"!=typeof t||null===t)return t;var i=t[Symbol.toPrimitive];if(void 0!==i){var n=i.call(t,e||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==typeof e?e:String(e)}(e))in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}var o=r("eVQGJ"),a=Symbol("lastResolve"),h=Symbol("lastReject"),l=Symbol("error"),u=Symbol("ended"),c=Symbol("lastPromise"),d=Symbol("handlePromise"),f=Symbol("stream");function p(t,e){return{value:t,done:e}}function m(t){var e=t[a];if(null!==e){var i=t[f].read();null!==i&&(t[c]=null,t[a]=null,t[h]=null,e(p(i,!1)))}}function g(t){n.nextTick(m,t)}var v=Object.getPrototypeOf((function(){})),y=Object.setPrototypeOf((s(i={get stream(){return this[f]},next:function(){var t=this,e=this[l];if(null!==e)return Promise.reject(e);if(this[u])return Promise.resolve(p(void 0,!0));if(this[f].destroyed)return new Promise((function(e,i){n.nextTick((function(){t[l]?i(t[l]):e(p(void 0,!0))}))}));var i,r=this[c];if(r)i=new Promise(function(t,e){return function(i,n){t.then((function(){e[u]?i(p(void 0,!0)):e[d](i,n)}),n)}}(r,this));else{var s=this[f].read();if(null!==s)return Promise.resolve(p(s,!1));i=new Promise(this[d])}return this[c]=i,i}},Symbol.asyncIterator,(function(){return this})),s(i,"return",(function(){var t=this;return new Promise((function(e,i){t[f].destroy(null,(function(t){t?i(t):e(p(void 0,!0))}))}))})),i),v);t.exports=function(t){var e,i=Object.create(y,(s(e={},f,{value:t,writable:!0}),s(e,a,{value:null,writable:!0}),s(e,h,{value:null,writable:!0}),s(e,l,{value:null,writable:!0}),s(e,u,{value:t._readableState.endEmitted,writable:!0}),s(e,d,{value:function(t,e){var n=i[f].read();n?(i[c]=null,i[a]=null,i[h]=null,t(p(n,!1))):(i[a]=t,i[h]=e)},writable:!0}),e));return i[c]=null,o(t,(function(t){if(t&&"ERR_STREAM_PREMATURE_CLOSE"!==t.code){var e=i[h];return null!==e&&(i[c]=null,i[a]=null,i[h]=null,e(t)),void(i[l]=t)}var n=i[a];null!==n&&(i[c]=null,i[a]=null,i[h]=null,n(p(void 0,!0))),i[u]=!0})),t.on("readable",g.bind(null,i)),i}})),r.register("eVQGJ",(function(t,e){var i=r("1lkMd").codes.ERR_STREAM_PREMATURE_CLOSE;function n(){}t.exports=function t(e,r,s){if("function"==typeof r)return t(e,null,r);r||(r={}),s=function(t){var e=!1;return function(){if(!e){e=!0;for(var i=arguments.length,n=new Array(i),r=0;r<i;r++)n[r]=arguments[r];t.apply(this,n)}}}(s||n);var o=r.readable||!1!==r.readable&&e.readable,a=r.writable||!1!==r.writable&&e.writable,h=function(){e.writable||u()},l=e._writableState&&e._writableState.finished,u=function(){a=!1,l=!0,o||s.call(e)},c=e._readableState&&e._readableState.endEmitted,d=function(){o=!1,c=!0,a||s.call(e)},f=function(t){s.call(e,t)},p=function(){var t;return o&&!c?(e._readableState&&e._readableState.ended||(t=new i),s.call(e,t)):a&&!l?(e._writableState&&e._writableState.ended||(t=new i),s.call(e,t)):void 0},m=function(){e.req.on("finish",u)};return!function(t){return t.setHeader&&"function"==typeof t.abort}(e)?a&&!e._writableState&&(e.on("end",h),e.on("close",h)):(e.on("complete",u),e.on("abort",p),e.req?m():e.on("request",m)),e.on("end",d),e.on("finish",u),!1!==r.error&&e.on("error",f),e.on("close",p),function(){e.removeListener("complete",u),e.removeListener("abort",p),e.removeListener("request",m),e.req&&e.req.removeListener("finish",u),e.removeListener("end",h),e.removeListener("close",h),e.removeListener("finish",u),e.removeListener("end",d),e.removeListener("error",f),e.removeListener("close",p)}}})),r.register("az9Bh",(function(t,e){t.exports=function(){throw new Error("Readable.from is not available in the browser")}})),r.register("dBNtr",(function(t,e){t.exports=u;var i=r("1lkMd").codes,n=i.ERR_METHOD_NOT_IMPLEMENTED,s=i.ERR_MULTIPLE_CALLBACK,o=i.ERR_TRANSFORM_ALREADY_TRANSFORMING,a=i.ERR_TRANSFORM_WITH_LENGTH_0,h=r("bQRhM");function l(t,e){var i=this._transformState;i.transforming=!1;var n=i.writecb;if(null===n)return this.emit("error",new s);i.writechunk=null,i.writecb=null,null!=e&&this.push(e),n(t);var r=this._readableState;r.reading=!1,(r.needReadable||r.length<r.highWaterMark)&&this._read(r.highWaterMark)}function u(t){if(!(this instanceof u))return new u(t);h.call(this,t),this._transformState={afterTransform:l.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,t&&("function"==typeof t.transform&&(this._transform=t.transform),"function"==typeof t.flush&&(this._flush=t.flush)),this.on("prefinish",c)}function c(){var t=this;"function"!=typeof this._flush||this._readableState.destroyed?d(this,null,null):this._flush((function(e,i){d(t,e,i)}))}function d(t,e,i){if(e)return t.emit("error",e);if(null!=i&&t.push(i),t._writableState.length)throw new a;if(t._transformState.transforming)throw new o;return t.push(null)}r("kDUq9")(u,h),u.prototype.push=function(t,e){return this._transformState.needTransform=!1,h.prototype.push.call(this,t,e)},u.prototype._transform=function(t,e,i){i(new n("_transform()"))},u.prototype._write=function(t,e,i){var n=this._transformState;if(n.writecb=i,n.writechunk=t,n.writeencoding=e,!n.transforming){var r=this._readableState;(n.needTransform||r.needReadable||r.length<r.highWaterMark)&&this._read(r.highWaterMark)}},u.prototype._read=function(t){var e=this._transformState;null===e.writechunk||e.transforming?e.needTransform=!0:(e.transforming=!0,this._transform(e.writechunk,e.writeencoding,e.afterTransform))},u.prototype._destroy=function(t,e){h.prototype._destroy.call(this,t,(function(t){e(t)}))}})),r.register("8GNGe",(function(t,e){t.exports=n;var i=r("dBNtr");function n(t){if(!(this instanceof n))return new n(t);i.call(this,t)}r("kDUq9")(n,i),n.prototype._transform=function(t,e,i){i(null,t)}})),r.register("6EKAF",(function(t,e){var i;var n=r("1lkMd").codes,s=n.ERR_MISSING_ARGS,o=n.ERR_STREAM_DESTROYED;function a(t){if(t)throw t}function h(t){t()}function l(t,e){return t.pipe(e)}t.exports=function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];var u,c=function(t){return t.length?"function"!=typeof t[t.length-1]?a:t.pop():a}(e);if(Array.isArray(e[0])&&(e=e[0]),e.length<2)throw new s("streams");var d=e.map((function(t,n){var s=n<e.length-1;return function(t,e,n,s){s=function(t){var e=!1;return function(){e||(e=!0,t.apply(void 0,arguments))}}(s);var a=!1;t.on("close",(function(){a=!0})),void 0===i&&(i=r("eVQGJ")),i(t,{readable:e,writable:n},(function(t){if(t)return s(t);a=!0,s()}));var h=!1;return function(e){if(!a&&!h)return h=!0,function(t){return t.setHeader&&"function"==typeof t.abort}(t)?t.abort():"function"==typeof t.destroy?t.destroy():void s(e||new o("pipe"))}}(t,s,n>0,(function(t){u||(u=t),t&&d.forEach(h),s||(d.forEach(h),c(u))}))}));return e.reduce(l)}})),r.register("gcFcf",(function(t,e){var i=r("hwHAp").Buffer,n=r("kDUq9"),s=r("bPmKf"),o=new Array(16),a=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],h=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],l=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],u=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11],c=[0,1518500249,1859775393,2400959708,2840853838],d=[1352829926,1548603684,1836072691,2053994217,0];function f(){s.call(this,64),this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520}function p(t,e){return t<<e|t>>>32-e}function m(t,e,i,n,r,s,o,a){return p(t+(e^i^n)+s+o|0,a)+r|0}function g(t,e,i,n,r,s,o,a){return p(t+(e&i|~e&n)+s+o|0,a)+r|0}function v(t,e,i,n,r,s,o,a){return p(t+((e|~i)^n)+s+o|0,a)+r|0}function y(t,e,i,n,r,s,o,a){return p(t+(e&n|i&~n)+s+o|0,a)+r|0}function b(t,e,i,n,r,s,o,a){return p(t+(e^(i|~n))+s+o|0,a)+r|0}n(f,s),f.prototype._update=function(){for(var t=o,e=0;e<16;++e)t[e]=this._block.readInt32LE(4*e);for(var i=0|this._a,n=0|this._b,r=0|this._c,s=0|this._d,f=0|this._e,w=0|this._a,_=0|this._b,M=0|this._c,x=0|this._d,k=0|this._e,A=0;A<80;A+=1){var E,S;A<16?(E=m(i,n,r,s,f,t[a[A]],c[0],l[A]),S=b(w,_,M,x,k,t[h[A]],d[0],u[A])):A<32?(E=g(i,n,r,s,f,t[a[A]],c[1],l[A]),S=y(w,_,M,x,k,t[h[A]],d[1],u[A])):A<48?(E=v(i,n,r,s,f,t[a[A]],c[2],l[A]),S=v(w,_,M,x,k,t[h[A]],d[2],u[A])):A<64?(E=y(i,n,r,s,f,t[a[A]],c[3],l[A]),S=g(w,_,M,x,k,t[h[A]],d[3],u[A])):(E=b(i,n,r,s,f,t[a[A]],c[4],l[A]),S=m(w,_,M,x,k,t[h[A]],d[4],u[A])),i=f,f=s,s=p(r,10),r=n,n=E,w=k,k=x,x=p(M,10),M=_,_=S}var T=this._b+r+x|0;this._b=this._c+s+k|0,this._c=this._d+f+w|0,this._d=this._e+i+_|0,this._e=this._a+n+M|0,this._a=T},f.prototype._digest=function(){this._block[this._blockOffset++]=128,this._blockOffset>56&&(this._block.fill(0,this._blockOffset,64),this._update(),this._blockOffset=0),this._block.fill(0,this._blockOffset,56),this._block.writeUInt32LE(this._length[0],56),this._block.writeUInt32LE(this._length[1],60),this._update();var t=i.alloc?i.alloc(20):new i(20);return t.writeInt32LE(this._a,0),t.writeInt32LE(this._b,4),t.writeInt32LE(this._c,8),t.writeInt32LE(this._d,12),t.writeInt32LE(this._e,16),t},t.exports=f})),r.register("474xN",(function(t,e){var i=t.exports=function(t){t=t.toLowerCase();var e=i[t];if(!e)throw new Error(t+" is not supported (we accept pull requests)");return new e};i.sha=r("12SgE"),i.sha1=r("4m6HN"),i.sha224=r("lqObl"),i.sha256=r("52Onq"),i.sha384=r("31cKk"),i.sha512=r("aw1M6")})),r.register("12SgE",(function(t,e){var i=r("kDUq9"),n=r("gwv6h"),s=r("emGH0").Buffer,o=[1518500249,1859775393,-1894007588,-899497514],a=new Array(80);function h(){this.init(),this._w=a,n.call(this,64,56)}function l(t){return t<<30|t>>>2}function u(t,e,i,n){return 0===t?e&i|~e&n:2===t?e&i|e&n|i&n:e^i^n}i(h,n),h.prototype.init=function(){return this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520,this},h.prototype._update=function(t){for(var e,i=this._w,n=0|this._a,r=0|this._b,s=0|this._c,a=0|this._d,h=0|this._e,c=0;c<16;++c)i[c]=t.readInt32BE(4*c);for(;c<80;++c)i[c]=i[c-3]^i[c-8]^i[c-14]^i[c-16];for(var d=0;d<80;++d){var f=~~(d/20),p=0|((e=n)<<5|e>>>27)+u(f,r,s,a)+h+i[d]+o[f];h=a,a=s,s=l(r),r=n,n=p}this._a=n+this._a|0,this._b=r+this._b|0,this._c=s+this._c|0,this._d=a+this._d|0,this._e=h+this._e|0},h.prototype._hash=function(){var t=s.allocUnsafe(20);return t.writeInt32BE(0|this._a,0),t.writeInt32BE(0|this._b,4),t.writeInt32BE(0|this._c,8),t.writeInt32BE(0|this._d,12),t.writeInt32BE(0|this._e,16),t},t.exports=h})),r.register("gwv6h",(function(t,e){var i=r("emGH0").Buffer;function n(t,e){this._block=i.alloc(t),this._finalSize=e,this._blockSize=t,this._len=0}n.prototype.update=function(t,e){"string"==typeof t&&(e=e||"utf8",t=i.from(t,e));for(var n=this._block,r=this._blockSize,s=t.length,o=this._len,a=0;a<s;){for(var h=o%r,l=Math.min(s-a,r-h),u=0;u<l;u++)n[h+u]=t[a+u];a+=l,(o+=l)%r==0&&this._update(n)}return this._len+=s,this},n.prototype.digest=function(t){var e=this._len%this._blockSize;this._block[e]=128,this._block.fill(0,e+1),e>=this._finalSize&&(this._update(this._block),this._block.fill(0));var i=8*this._len;if(i<=4294967295)this._block.writeUInt32BE(i,this._blockSize-4);else{var n=(4294967295&i)>>>0,r=(i-n)/4294967296;this._block.writeUInt32BE(r,this._blockSize-8),this._block.writeUInt32BE(n,this._blockSize-4)}this._update(this._block);var s=this._hash();return t?s.toString(t):s},n.prototype._update=function(){throw new Error("_update must be implemented by subclass")},t.exports=n})),r.register("4m6HN",(function(t,e){var i=r("kDUq9"),n=r("gwv6h"),s=r("emGH0").Buffer,o=[1518500249,1859775393,-1894007588,-899497514],a=new Array(80);function h(){this.init(),this._w=a,n.call(this,64,56)}function l(t){return t<<5|t>>>27}function u(t){return t<<30|t>>>2}function c(t,e,i,n){return 0===t?e&i|~e&n:2===t?e&i|e&n|i&n:e^i^n}i(h,n),h.prototype.init=function(){return this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520,this},h.prototype._update=function(t){for(var e,i=this._w,n=0|this._a,r=0|this._b,s=0|this._c,a=0|this._d,h=0|this._e,d=0;d<16;++d)i[d]=t.readInt32BE(4*d);for(;d<80;++d)i[d]=(e=i[d-3]^i[d-8]^i[d-14]^i[d-16])<<1|e>>>31;for(var f=0;f<80;++f){var p=~~(f/20),m=l(n)+c(p,r,s,a)+h+i[f]+o[p]|0;h=a,a=s,s=u(r),r=n,n=m}this._a=n+this._a|0,this._b=r+this._b|0,this._c=s+this._c|0,this._d=a+this._d|0,this._e=h+this._e|0},h.prototype._hash=function(){var t=s.allocUnsafe(20);return t.writeInt32BE(0|this._a,0),t.writeInt32BE(0|this._b,4),t.writeInt32BE(0|this._c,8),t.writeInt32BE(0|this._d,12),t.writeInt32BE(0|this._e,16),t},t.exports=h})),r.register("lqObl",(function(t,e){var i=r("kDUq9"),n=r("52Onq"),s=r("gwv6h"),o=r("emGH0").Buffer,a=new Array(64);function h(){this.init(),this._w=a,s.call(this,64,56)}i(h,n),h.prototype.init=function(){return this._a=3238371032,this._b=914150663,this._c=812702999,this._d=4144912697,this._e=4290775857,this._f=1750603025,this._g=1694076839,this._h=3204075428,this},h.prototype._hash=function(){var t=o.allocUnsafe(28);return t.writeInt32BE(this._a,0),t.writeInt32BE(this._b,4),t.writeInt32BE(this._c,8),t.writeInt32BE(this._d,12),t.writeInt32BE(this._e,16),t.writeInt32BE(this._f,20),t.writeInt32BE(this._g,24),t},t.exports=h})),r.register("52Onq",(function(t,e){var i=r("kDUq9"),n=r("gwv6h"),s=r("emGH0").Buffer,o=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298],a=new Array(64);function h(){this.init(),this._w=a,n.call(this,64,56)}function l(t,e,i){return i^t&(e^i)}function u(t,e,i){return t&e|i&(t|e)}function c(t){return(t>>>2|t<<30)^(t>>>13|t<<19)^(t>>>22|t<<10)}function d(t){return(t>>>6|t<<26)^(t>>>11|t<<21)^(t>>>25|t<<7)}function f(t){return(t>>>7|t<<25)^(t>>>18|t<<14)^t>>>3}i(h,n),h.prototype.init=function(){return this._a=1779033703,this._b=3144134277,this._c=1013904242,this._d=2773480762,this._e=1359893119,this._f=2600822924,this._g=528734635,this._h=1541459225,this},h.prototype._update=function(t){for(var e,i=this._w,n=0|this._a,r=0|this._b,s=0|this._c,a=0|this._d,h=0|this._e,p=0|this._f,m=0|this._g,g=0|this._h,v=0;v<16;++v)i[v]=t.readInt32BE(4*v);for(;v<64;++v)i[v]=0|(((e=i[v-2])>>>17|e<<15)^(e>>>19|e<<13)^e>>>10)+i[v-7]+f(i[v-15])+i[v-16];for(var y=0;y<64;++y){var b=g+d(h)+l(h,p,m)+o[y]+i[y]|0,w=c(n)+u(n,r,s)|0;g=m,m=p,p=h,h=a+b|0,a=s,s=r,r=n,n=b+w|0}this._a=n+this._a|0,this._b=r+this._b|0,this._c=s+this._c|0,this._d=a+this._d|0,this._e=h+this._e|0,this._f=p+this._f|0,this._g=m+this._g|0,this._h=g+this._h|0},h.prototype._hash=function(){var t=s.allocUnsafe(32);return t.writeInt32BE(this._a,0),t.writeInt32BE(this._b,4),t.writeInt32BE(this._c,8),t.writeInt32BE(this._d,12),t.writeInt32BE(this._e,16),t.writeInt32BE(this._f,20),t.writeInt32BE(this._g,24),t.writeInt32BE(this._h,28),t},t.exports=h})),r.register("31cKk",(function(t,e){var i=r("kDUq9"),n=r("aw1M6"),s=r("gwv6h"),o=r("emGH0").Buffer,a=new Array(160);function h(){this.init(),this._w=a,s.call(this,128,112)}i(h,n),h.prototype.init=function(){return this._ah=3418070365,this._bh=1654270250,this._ch=2438529370,this._dh=355462360,this._eh=1731405415,this._fh=2394180231,this._gh=3675008525,this._hh=1203062813,this._al=3238371032,this._bl=914150663,this._cl=812702999,this._dl=4144912697,this._el=4290775857,this._fl=1750603025,this._gl=1694076839,this._hl=3204075428,this},h.prototype._hash=function(){var t=o.allocUnsafe(48);function e(e,i,n){t.writeInt32BE(e,n),t.writeInt32BE(i,n+4)}return e(this._ah,this._al,0),e(this._bh,this._bl,8),e(this._ch,this._cl,16),e(this._dh,this._dl,24),e(this._eh,this._el,32),e(this._fh,this._fl,40),t},t.exports=h})),r.register("aw1M6",(function(t,e){var i=r("kDUq9"),n=r("gwv6h"),s=r("emGH0").Buffer,o=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591],a=new Array(160);function h(){this.init(),this._w=a,n.call(this,128,112)}function l(t,e,i){return i^t&(e^i)}function u(t,e,i){return t&e|i&(t|e)}function c(t,e){return(t>>>28|e<<4)^(e>>>2|t<<30)^(e>>>7|t<<25)}function d(t,e){return(t>>>14|e<<18)^(t>>>18|e<<14)^(e>>>9|t<<23)}function f(t,e){return(t>>>1|e<<31)^(t>>>8|e<<24)^t>>>7}function p(t,e){return(t>>>1|e<<31)^(t>>>8|e<<24)^(t>>>7|e<<25)}function m(t,e){return(t>>>19|e<<13)^(e>>>29|t<<3)^t>>>6}function g(t,e){return(t>>>19|e<<13)^(e>>>29|t<<3)^(t>>>6|e<<26)}function v(t,e){return t>>>0<e>>>0?1:0}i(h,n),h.prototype.init=function(){return this._ah=1779033703,this._bh=3144134277,this._ch=1013904242,this._dh=2773480762,this._eh=1359893119,this._fh=2600822924,this._gh=528734635,this._hh=1541459225,this._al=4089235720,this._bl=2227873595,this._cl=4271175723,this._dl=1595750129,this._el=2917565137,this._fl=725511199,this._gl=4215389547,this._hl=327033209,this},h.prototype._update=function(t){for(var e=this._w,i=0|this._ah,n=0|this._bh,r=0|this._ch,s=0|this._dh,a=0|this._eh,h=0|this._fh,y=0|this._gh,b=0|this._hh,w=0|this._al,_=0|this._bl,M=0|this._cl,x=0|this._dl,k=0|this._el,A=0|this._fl,E=0|this._gl,S=0|this._hl,T=0;T<32;T+=2)e[T]=t.readInt32BE(4*T),e[T+1]=t.readInt32BE(4*T+4);for(;T<160;T+=2){var I=e[T-30],q=e[T-30+1],C=f(I,q),R=p(q,I),D=m(I=e[T-4],q=e[T-4+1]),L=g(q,I),N=e[T-14],O=e[T-14+1],P=e[T-32],B=e[T-32+1],U=R+O|0,F=C+N+v(U,R)|0;F=(F=F+D+v(U=U+L|0,L)|0)+P+v(U=U+B|0,B)|0,e[T]=F,e[T+1]=U}for(var j=0;j<160;j+=2){F=e[j],U=e[j+1];var z=u(i,n,r),V=u(w,_,M),H=c(i,w),W=c(w,i),K=d(a,k),G=d(k,a),Q=o[j],Y=o[j+1],Z=l(a,h,y),$=l(k,A,E),X=S+G|0,J=b+K+v(X,S)|0;J=(J=(J=J+Z+v(X=X+$|0,$)|0)+Q+v(X=X+Y|0,Y)|0)+F+v(X=X+U|0,U)|0;var tt=W+V|0,et=H+z+v(tt,W)|0;b=y,S=E,y=h,E=A,h=a,A=k,a=s+J+v(k=x+X|0,x)|0,s=r,x=M,r=n,M=_,n=i,_=w,i=J+et+v(w=X+tt|0,X)|0}this._al=this._al+w|0,this._bl=this._bl+_|0,this._cl=this._cl+M|0,this._dl=this._dl+x|0,this._el=this._el+k|0,this._fl=this._fl+A|0,this._gl=this._gl+E|0,this._hl=this._hl+S|0,this._ah=this._ah+i+v(this._al,w)|0,this._bh=this._bh+n+v(this._bl,_)|0,this._ch=this._ch+r+v(this._cl,M)|0,this._dh=this._dh+s+v(this._dl,x)|0,this._eh=this._eh+a+v(this._el,k)|0,this._fh=this._fh+h+v(this._fl,A)|0,this._gh=this._gh+y+v(this._gl,E)|0,this._hh=this._hh+b+v(this._hl,S)|0},h.prototype._hash=function(){var t=s.allocUnsafe(64);function e(e,i,n){t.writeInt32BE(e,n),t.writeInt32BE(i,n+4)}return e(this._ah,this._al,0),e(this._bh,this._bl,8),e(this._ch,this._cl,16),e(this._dh,this._dl,24),e(this._eh,this._el,32),e(this._fh,this._fl,40),e(this._gh,this._gl,48),e(this._hh,this._hl,56),t},t.exports=h})),r.register("6dEJm",(function(t,e){var i=r("emGH0").Buffer,n=r("7UDo2").Transform,s=r("6U3gZ").StringDecoder;function o(t){n.call(this),this.hashMode="string"==typeof t,this.hashMode?this[t]=this._finalOrDigest:this.final=this._finalOrDigest,this._final&&(this.__final=this._final,this._final=null),this._decoder=null,this._encoding=null}r("kDUq9")(o,n),o.prototype.update=function(t,e,n){"string"==typeof t&&(t=i.from(t,e));var r=this._update(t);return this.hashMode?this:(n&&(r=this._toString(r,n)),r)},o.prototype.setAutoPadding=function(){},o.prototype.getAuthTag=function(){throw new Error("trying to get auth tag in unsupported state")},o.prototype.setAuthTag=function(){throw new Error("trying to set auth tag in unsupported state")},o.prototype.setAAD=function(){throw new Error("trying to set aad in unsupported state")},o.prototype._transform=function(t,e,i){var n;try{this.hashMode?this._update(t):this.push(this._update(t))}catch(t){n=t}finally{i(n)}},o.prototype._flush=function(t){var e;try{this.push(this.__final())}catch(t){e=t}t(e)},o.prototype._finalOrDigest=function(t){var e=this.__final()||i.alloc(0);return t&&(e=this._toString(e,t,!0)),e},o.prototype._toString=function(t,e,i){if(this._decoder||(this._decoder=new s(e),this._encoding=e),this._encoding!==e)throw new Error("can't switch encodings");var n=this._decoder.write(t);return i&&(n+=this._decoder.end()),n},t.exports=o})),r.register("7UDo2",(function(t,e){t.exports=n;var i=r("dPLPd").EventEmitter;function n(){i.call(this)}r("kDUq9")(n,i),n.Readable=r("1InGV"),n.Writable=r("6IwyA"),n.Duplex=r("bQRhM"),n.Transform=r("dBNtr"),n.PassThrough=r("8GNGe"),n.finished=r("eVQGJ"),n.pipeline=r("6EKAF"),n.Stream=n,n.prototype.pipe=function(t,e){var n=this;function r(e){t.writable&&!1===t.write(e)&&n.pause&&n.pause()}function s(){n.readable&&n.resume&&n.resume()}n.on("data",r),t.on("drain",s),t._isStdio||e&&!1===e.end||(n.on("end",a),n.on("close",h));var o=!1;function a(){o||(o=!0,t.end())}function h(){o||(o=!0,"function"==typeof t.destroy&&t.destroy())}function l(t){if(u(),0===i.listenerCount(this,"error"))throw t}function u(){n.removeListener("data",r),t.removeListener("drain",s),n.removeListener("end",a),n.removeListener("close",h),n.removeListener("error",l),t.removeListener("error",l),n.removeListener("end",u),n.removeListener("close",u),t.removeListener("close",u)}return n.on("error",l),t.on("error",l),n.on("end",u),n.on("close",u),t.on("close",u),t.emit("pipe",n),t}})),r.register("1HYxA",(function(t,e){var i=r("kDUq9"),n=r("dmpYO"),s=r("6dEJm"),o=r("emGH0").Buffer,a=r("5V1tO"),h=r("gcFcf"),l=r("474xN"),u=o.alloc(128);function c(t,e){s.call(this,"digest"),"string"==typeof e&&(e=o.from(e));var i="sha512"===t||"sha384"===t?128:64;(this._alg=t,this._key=e,e.length>i)?e=("rmd160"===t?new h:l(t)).update(e).digest():e.length<i&&(e=o.concat([e,u],i));for(var n=this._ipad=o.allocUnsafe(i),r=this._opad=o.allocUnsafe(i),a=0;a<i;a++)n[a]=54^e[a],r[a]=92^e[a];this._hash="rmd160"===t?new h:l(t),this._hash.update(n)}i(c,s),c.prototype._update=function(t){this._hash.update(t)},c.prototype._final=function(){var t=this._hash.digest();return("rmd160"===this._alg?new h:l(this._alg)).update(this._opad).update(t).digest()},t.exports=function(t,e){return"rmd160"===(t=t.toLowerCase())||"ripemd160"===t?new c("rmd160",e):"md5"===t?new n(a,e):new c(t,e)}})),r.register("dmpYO",(function(t,e){var i=r("kDUq9"),n=r("emGH0").Buffer,s=r("6dEJm"),o=n.alloc(128),a=64;function h(t,e){s.call(this,"digest"),"string"==typeof e&&(e=n.from(e)),this._alg=t,this._key=e,e.length>a?e=t(e):e.length<a&&(e=n.concat([e,o],a));for(var i=this._ipad=n.allocUnsafe(a),r=this._opad=n.allocUnsafe(a),h=0;h<a;h++)i[h]=54^e[h],r[h]=92^e[h];this._hash=[i]}i(h,s),h.prototype._update=function(t){this._hash.push(t)},h.prototype._final=function(){var t=this._alg(n.concat(this._hash));return this._alg(n.concat([this._opad,t]))},t.exports=h})),r.register("5V1tO",(function(t,e){var i=r("aC9qH");t.exports=function(t){return(new i).update(t).digest()}})),r.register("38szK",(function(t,e){t.exports=r("jXSJH")})),r.register("jXSJH",(function(t,e){t.exports=JSON.parse('{"sha224WithRSAEncryption":{"sign":"rsa","hash":"sha224","id":"302d300d06096086480165030402040500041c"},"RSA-SHA224":{"sign":"ecdsa/rsa","hash":"sha224","id":"302d300d06096086480165030402040500041c"},"sha256WithRSAEncryption":{"sign":"rsa","hash":"sha256","id":"3031300d060960864801650304020105000420"},"RSA-SHA256":{"sign":"ecdsa/rsa","hash":"sha256","id":"3031300d060960864801650304020105000420"},"sha384WithRSAEncryption":{"sign":"rsa","hash":"sha384","id":"3041300d060960864801650304020205000430"},"RSA-SHA384":{"sign":"ecdsa/rsa","hash":"sha384","id":"3041300d060960864801650304020205000430"},"sha512WithRSAEncryption":{"sign":"rsa","hash":"sha512","id":"3051300d060960864801650304020305000440"},"RSA-SHA512":{"sign":"ecdsa/rsa","hash":"sha512","id":"3051300d060960864801650304020305000440"},"RSA-SHA1":{"sign":"rsa","hash":"sha1","id":"3021300906052b0e03021a05000414"},"ecdsa-with-SHA1":{"sign":"ecdsa","hash":"sha1","id":""},"sha256":{"sign":"ecdsa","hash":"sha256","id":""},"sha224":{"sign":"ecdsa","hash":"sha224","id":""},"sha384":{"sign":"ecdsa","hash":"sha384","id":""},"sha512":{"sign":"ecdsa","hash":"sha512","id":""},"DSA-SHA":{"sign":"dsa","hash":"sha1","id":""},"DSA-SHA1":{"sign":"dsa","hash":"sha1","id":""},"DSA":{"sign":"dsa","hash":"sha1","id":""},"DSA-WITH-SHA224":{"sign":"dsa","hash":"sha224","id":""},"DSA-SHA224":{"sign":"dsa","hash":"sha224","id":""},"DSA-WITH-SHA256":{"sign":"dsa","hash":"sha256","id":""},"DSA-SHA256":{"sign":"dsa","hash":"sha256","id":""},"DSA-WITH-SHA384":{"sign":"dsa","hash":"sha384","id":""},"DSA-SHA384":{"sign":"dsa","hash":"sha384","id":""},"DSA-WITH-SHA512":{"sign":"dsa","hash":"sha512","id":""},"DSA-SHA512":{"sign":"dsa","hash":"sha512","id":""},"DSA-RIPEMD160":{"sign":"dsa","hash":"rmd160","id":""},"ripemd160WithRSA":{"sign":"rsa","hash":"rmd160","id":"3021300906052b2403020105000414"},"RSA-RIPEMD160":{"sign":"rsa","hash":"rmd160","id":"3021300906052b2403020105000414"},"md5WithRSAEncryption":{"sign":"rsa","hash":"md5","id":"3020300c06082a864886f70d020505000410"},"RSA-MD5":{"sign":"rsa","hash":"md5","id":"3020300c06082a864886f70d020505000410"}}')})),r.register("4bgrw",(function(e,i){var n,s;t(e.exports,"pbkdf2",(()=>n),(t=>n=t)),t(e.exports,"pbkdf2Sync",(()=>s),(t=>s=t)),n=r("eB3FW"),s=r("kxu1C")})),r.register("eB3FW",(function(t,i){var n,s,o=r("emGH0").Buffer,a=r("cqngQ"),h=r("8md6S"),l=r("kxu1C"),u=r("agftv"),c=e.crypto&&e.crypto.subtle,d={sha:"SHA-1","sha-1":"SHA-1",sha1:"SHA-1",sha256:"SHA-256","sha-256":"SHA-256",sha384:"SHA-384","sha-384":"SHA-384","sha-512":"SHA-512",sha512:"SHA-512"},f=[];function p(){return s||(s=e.process&&e.process.nextTick?e.process.nextTick:e.queueMicrotask?e.queueMicrotask:e.setImmediate?e.setImmediate:e.setTimeout)}function m(t,e,i,n,r){return c.importKey("raw",t,{name:"PBKDF2"},!1,["deriveBits"]).then((function(t){return c.deriveBits({name:"PBKDF2",salt:e,iterations:i,hash:{name:r}},t,n<<3)})).then((function(t){return o.from(t)}))}t.exports=function(t,i,r,s,g,v){"function"==typeof g&&(v=g,g=void 0);var y=d[(g=g||"sha1").toLowerCase()];if(y&&"function"==typeof e.Promise){if(a(r,s),t=u(t,h,"Password"),i=u(i,h,"Salt"),"function"!=typeof v)throw new Error("No callback provided to pbkdf2");!function(t,e){t.then((function(t){p()((function(){e(null,t)}))}),(function(t){p()((function(){e(t)}))}))}(function(t){if(e.process&&!e.process.browser)return Promise.resolve(!1);if(!c||!c.importKey||!c.deriveBits)return Promise.resolve(!1);if(void 0!==f[t])return f[t];var i=m(n=n||o.alloc(8),n,10,128,t).then((function(){return!0})).catch((function(){return!1}));return f[t]=i,i}(y).then((function(e){return e?m(t,i,r,s,y):l(t,i,r,s,g)})),v)}else p()((function(){var e;try{e=l(t,i,r,s,g)}catch(t){return v(t)}v(null,e)}))}})),r.register("cqngQ",(function(t,e){var i=Math.pow(2,30)-1;t.exports=function(t,e){if("number"!=typeof t)throw new TypeError("Iterations not a number");if(t<0)throw new TypeError("Bad iterations");if("number"!=typeof e)throw new TypeError("Key length not a number");if(e<0||e>i||e!=e)throw new TypeError("Bad key length")}})),r.register("8md6S",(function(t,i){var n,s=r("gXRuj");if(e.process&&e.process.browser)n="utf-8";else if(e.process&&e.process.version){n=parseInt(s.version.split(".")[0].slice(1),10)>=6?"utf-8":"binary"}else n="utf-8";t.exports=n})),r.register("kxu1C",(function(t,e){var i=r("5V1tO"),n=r("gcFcf"),s=r("474xN"),o=r("emGH0").Buffer,a=r("cqngQ"),h=r("8md6S"),l=r("agftv"),u=o.alloc(128),c={md5:16,sha1:20,sha224:28,sha256:32,sha384:48,sha512:64,rmd160:20,ripemd160:20};function d(t,e,r){var a=function(t){function e(e){return s(t).update(e).digest()}function r(t){return(new n).update(t).digest()}return"rmd160"===t||"ripemd160"===t?r:"md5"===t?i:e}(t),h="sha512"===t||"sha384"===t?128:64;e.length>h?e=a(e):e.length<h&&(e=o.concat([e,u],h));for(var l=o.allocUnsafe(h+c[t]),d=o.allocUnsafe(h+c[t]),f=0;f<h;f++)l[f]=54^e[f],d[f]=92^e[f];var p=o.allocUnsafe(h+r+4);l.copy(p,0,0,h),this.ipad1=p,this.ipad2=l,this.opad=d,this.alg=t,this.blocksize=h,this.hash=a,this.size=c[t]}d.prototype.run=function(t,e){return t.copy(e,this.blocksize),this.hash(e).copy(this.opad,this.blocksize),this.hash(this.opad)},t.exports=function(t,e,i,n,r){a(i,n);var s=new d(r=r||"sha1",t=l(t,h,"Password"),(e=l(e,h,"Salt")).length),u=o.allocUnsafe(n),f=o.allocUnsafe(e.length+4);e.copy(f,0,0,e.length);for(var p=0,m=c[r],g=Math.ceil(n/m),v=1;v<=g;v++){f.writeUInt32BE(v,e.length);for(var y=s.run(f,s.ipad1),b=y,w=1;w<i;w++){b=s.run(b,s.ipad2);for(var _=0;_<m;_++)y[_]^=b[_]}y.copy(u,p),p+=m}return u}})),r.register("agftv",(function(t,e){var i=r("emGH0").Buffer;t.exports=function(t,e,n){if(i.isBuffer(t))return t;if("string"==typeof t)return i.from(t,e);if(ArrayBuffer.isView(t))return i.from(t.buffer);throw new TypeError(n+" must be a string, a Buffer, a typed array or a DataView")}})),r.register("bx4sk",(function(e,i){var n,s,o,a,h,l,u,c,d,f;t(e.exports,"createCipher",(()=>n),(t=>n=t)),t(e.exports,"Cipher",(()=>s),(t=>s=t)),t(e.exports,"createCipheriv",(()=>o),(t=>o=t)),t(e.exports,"Cipheriv",(()=>a),(t=>a=t)),t(e.exports,"createDecipher",(()=>h),(t=>h=t)),t(e.exports,"Decipher",(()=>l),(t=>l=t)),t(e.exports,"createDecipheriv",(()=>u),(t=>u=t)),t(e.exports,"Decipheriv",(()=>c),(t=>c=t)),t(e.exports,"listCiphers",(()=>d),(t=>d=t)),t(e.exports,"getCiphers",(()=>f),(t=>f=t));var p=r("9sX2b"),m=r("glytb"),g=r("2UJxV"),v=r("g4ZO7"),y=r("8zMGp");function b(t,e,i){if(t=t.toLowerCase(),g[t])return m.createCipheriv(t,e,i);if(v[t])return new p({key:e,iv:i,mode:t});throw new TypeError("invalid suite type")}function w(t,e,i){if(t=t.toLowerCase(),g[t])return m.createDecipheriv(t,e,i);if(v[t])return new p({key:e,iv:i,mode:t,decrypt:!0});throw new TypeError("invalid suite type")}n=s=function(t,e){var i,n;if(t=t.toLowerCase(),g[t])i=g[t].key,n=g[t].iv;else{if(!v[t])throw new TypeError("invalid suite type");i=8*v[t].key,n=v[t].iv}var r=y(e,!1,i,n);return b(t,r.key,r.iv)},o=a=b,h=l=function(t,e){var i,n;if(t=t.toLowerCase(),g[t])i=g[t].key,n=g[t].iv;else{if(!v[t])throw new TypeError("invalid suite type");i=8*v[t].key,n=v[t].iv}var r=y(e,!1,i,n);return w(t,r.key,r.iv)},u=c=w,d=f=function(){return Object.keys(v).concat(m.getCiphers())}})),r.register("9sX2b",(function(t,e){var i=r("6dEJm"),n=r("63YlH"),s=r("kDUq9"),o=r("emGH0").Buffer,a={"des-ede3-cbc":n.CBC.instantiate(n.EDE),"des-ede3":n.EDE,"des-ede-cbc":n.CBC.instantiate(n.EDE),"des-ede":n.EDE,"des-cbc":n.CBC.instantiate(n.DES),"des-ecb":n.DES};function h(t){i.call(this);var e,n=t.mode.toLowerCase(),r=a[n];e=t.decrypt?"decrypt":"encrypt";var s=t.key;o.isBuffer(s)||(s=o.from(s)),"des-ede"!==n&&"des-ede-cbc"!==n||(s=o.concat([s,s.slice(0,8)]));var h=t.iv;o.isBuffer(h)||(h=o.from(h)),this._des=r.create({key:s,iv:h,type:e})}a.des=a["des-cbc"],a.des3=a["des-ede3-cbc"],t.exports=h,s(h,i),h.prototype._update=function(t){return o.from(this._des.update(t))},h.prototype._final=function(){return o.from(this._des.final())}})),r.register("63YlH",(function(e,i){var n,s,o;t(e.exports,"DES",(()=>n),(t=>n=t)),t(e.exports,"CBC",(()=>s),(t=>s=t)),t(e.exports,"EDE",(()=>o),(t=>o=t)),r("7xnMG"),r("9oWxV"),n=r("8B0jL"),s=r("4ggol"),o=r("1Z8xH")})),r.register("7xnMG",(function(e,i){var n,r,s,o,a,h,l,u,c,d,f;t(e.exports,"readUInt32BE",(()=>n),(t=>n=t)),t(e.exports,"writeUInt32BE",(()=>r),(t=>r=t)),t(e.exports,"ip",(()=>s),(t=>s=t)),t(e.exports,"rip",(()=>o),(t=>o=t)),t(e.exports,"pc1",(()=>a),(t=>a=t)),t(e.exports,"r28shl",(()=>h),(t=>h=t)),t(e.exports,"pc2",(()=>l),(t=>l=t)),t(e.exports,"expand",(()=>u),(t=>u=t)),t(e.exports,"substitute",(()=>c),(t=>c=t)),t(e.exports,"permute",(()=>d),(t=>d=t)),t(e.exports,"padSplit",(()=>f),(t=>f=t)),n=function(t,e){return(t[0+e]<<24|t[1+e]<<16|t[2+e]<<8|t[3+e])>>>0},r=function(t,e,i){t[0+i]=e>>>24,t[1+i]=e>>>16&255,t[2+i]=e>>>8&255,t[3+i]=255&e},s=function(t,e,i,n){for(var r=0,s=0,o=6;o>=0;o-=2){for(var a=0;a<=24;a+=8)r<<=1,r|=e>>>a+o&1;for(a=0;a<=24;a+=8)r<<=1,r|=t>>>a+o&1}for(o=6;o>=0;o-=2){for(a=1;a<=25;a+=8)s<<=1,s|=e>>>a+o&1;for(a=1;a<=25;a+=8)s<<=1,s|=t>>>a+o&1}i[n+0]=r>>>0,i[n+1]=s>>>0},o=function(t,e,i,n){for(var r=0,s=0,o=0;o<4;o++)for(var a=24;a>=0;a-=8)r<<=1,r|=e>>>a+o&1,r<<=1,r|=t>>>a+o&1;for(o=4;o<8;o++)for(a=24;a>=0;a-=8)s<<=1,s|=e>>>a+o&1,s<<=1,s|=t>>>a+o&1;i[n+0]=r>>>0,i[n+1]=s>>>0},a=function(t,e,i,n){for(var r=0,s=0,o=7;o>=5;o--){for(var a=0;a<=24;a+=8)r<<=1,r|=e>>a+o&1;for(a=0;a<=24;a+=8)r<<=1,r|=t>>a+o&1}for(a=0;a<=24;a+=8)r<<=1,r|=e>>a+o&1;for(o=1;o<=3;o++){for(a=0;a<=24;a+=8)s<<=1,s|=e>>a+o&1;for(a=0;a<=24;a+=8)s<<=1,s|=t>>a+o&1}for(a=0;a<=24;a+=8)s<<=1,s|=t>>a+o&1;i[n+0]=r>>>0,i[n+1]=s>>>0},h=function(t,e){return t<<e&268435455|t>>>28-e};var p=[14,11,17,4,27,23,25,0,13,22,7,18,5,9,16,24,2,20,12,21,1,8,15,26,15,4,25,19,9,1,26,16,5,11,23,8,12,7,17,0,22,3,10,14,6,20,27,24];l=function(t,e,i,n){for(var r=0,s=0,o=p.length>>>1,a=0;a<o;a++)r<<=1,r|=t>>>p[a]&1;for(a=o;a<p.length;a++)s<<=1,s|=e>>>p[a]&1;i[n+0]=r>>>0,i[n+1]=s>>>0},u=function(t,e,i){var n=0,r=0;n=(1&t)<<5|t>>>27;for(var s=23;s>=15;s-=4)n<<=6,n|=t>>>s&63;for(s=11;s>=3;s-=4)r|=t>>>s&63,r<<=6;r|=(31&t)<<1|t>>>31,e[i+0]=n>>>0,e[i+1]=r>>>0};var m=[14,0,4,15,13,7,1,4,2,14,15,2,11,13,8,1,3,10,10,6,6,12,12,11,5,9,9,5,0,3,7,8,4,15,1,12,14,8,8,2,13,4,6,9,2,1,11,7,15,5,12,11,9,3,7,14,3,10,10,0,5,6,0,13,15,3,1,13,8,4,14,7,6,15,11,2,3,8,4,14,9,12,7,0,2,1,13,10,12,6,0,9,5,11,10,5,0,13,14,8,7,10,11,1,10,3,4,15,13,4,1,2,5,11,8,6,12,7,6,12,9,0,3,5,2,14,15,9,10,13,0,7,9,0,14,9,6,3,3,4,15,6,5,10,1,2,13,8,12,5,7,14,11,12,4,11,2,15,8,1,13,1,6,10,4,13,9,0,8,6,15,9,3,8,0,7,11,4,1,15,2,14,12,3,5,11,10,5,14,2,7,12,7,13,13,8,14,11,3,5,0,6,6,15,9,0,10,3,1,4,2,7,8,2,5,12,11,1,12,10,4,14,15,9,10,3,6,15,9,0,0,6,12,10,11,1,7,13,13,8,15,9,1,4,3,5,14,11,5,12,2,7,8,2,4,14,2,14,12,11,4,2,1,12,7,4,10,7,11,13,6,1,8,5,5,0,3,15,15,10,13,3,0,9,14,8,9,6,4,11,2,8,1,12,11,7,10,1,13,14,7,2,8,13,15,6,9,15,12,0,5,9,6,10,3,4,0,5,14,3,12,10,1,15,10,4,15,2,9,7,2,12,6,9,8,5,0,6,13,1,3,13,4,14,14,0,7,11,5,3,11,8,9,4,14,3,15,2,5,12,2,9,8,5,12,15,3,10,7,11,0,14,4,1,10,7,1,6,13,0,11,8,6,13,4,13,11,0,2,11,14,7,15,4,0,9,8,1,13,10,3,14,12,3,9,5,7,12,5,2,10,15,6,8,1,6,1,6,4,11,11,13,13,8,12,1,3,4,7,10,14,7,10,9,15,5,6,0,8,15,0,14,5,2,9,3,2,12,13,1,2,15,8,13,4,8,6,10,15,3,11,7,1,4,10,12,9,5,3,6,14,11,5,0,0,14,12,9,7,2,7,2,11,1,4,14,1,7,9,4,12,10,14,8,2,13,0,15,6,12,10,9,13,0,15,3,3,5,5,6,8,11];c=function(t,e){for(var i=0,n=0;n<4;n++){i<<=4,i|=m[64*n+(t>>>18-6*n&63)]}for(n=0;n<4;n++){i<<=4,i|=m[256+64*n+(e>>>18-6*n&63)]}return i>>>0};var g=[16,25,12,11,3,20,4,15,31,17,9,6,27,14,1,22,30,24,8,18,0,5,29,23,13,19,2,26,10,21,28,7];d=function(t){for(var e=0,i=0;i<g.length;i++)e<<=1,e|=t>>>g[i]&1;return e>>>0},f=function(t,e,i){for(var n=t.toString(2);n.length<e;)n="0"+n;for(var r=[],s=0;s<e;s+=i)r.push(n.slice(s,s+i));return r.join(" ")}})),r.register("9oWxV",(function(t,e){var i=r("bQfgu");function n(t){this.options=t,this.type=this.options.type,this.blockSize=8,this._init(),this.buffer=new Array(this.blockSize),this.bufferOff=0}t.exports=n,n.prototype._init=function(){},n.prototype.update=function(t){return 0===t.length?[]:"decrypt"===this.type?this._updateDecrypt(t):this._updateEncrypt(t)},n.prototype._buffer=function(t,e){for(var i=Math.min(this.buffer.length-this.bufferOff,t.length-e),n=0;n<i;n++)this.buffer[this.bufferOff+n]=t[e+n];return this.bufferOff+=i,i},n.prototype._flushBuffer=function(t,e){return this._update(this.buffer,0,t,e),this.bufferOff=0,this.blockSize},n.prototype._updateEncrypt=function(t){var e=0,i=0,n=(this.bufferOff+t.length)/this.blockSize|0,r=new Array(n*this.blockSize);0!==this.bufferOff&&(e+=this._buffer(t,e),this.bufferOff===this.buffer.length&&(i+=this._flushBuffer(r,i)));for(var s=t.length-(t.length-e)%this.blockSize;e<s;e+=this.blockSize)this._update(t,e,r,i),i+=this.blockSize;for(;e<t.length;e++,this.bufferOff++)this.buffer[this.bufferOff]=t[e];return r},n.prototype._updateDecrypt=function(t){for(var e=0,i=0,n=Math.ceil((this.bufferOff+t.length)/this.blockSize)-1,r=new Array(n*this.blockSize);n>0;n--)e+=this._buffer(t,e),i+=this._flushBuffer(r,i);return e+=this._buffer(t,e),r},n.prototype.final=function(t){var e,i;return t&&(e=this.update(t)),i="encrypt"===this.type?this._finalEncrypt():this._finalDecrypt(),e?e.concat(i):i},n.prototype._pad=function(t,e){if(0===e)return!1;for(;e<t.length;)t[e++]=0;return!0},n.prototype._finalEncrypt=function(){if(!this._pad(this.buffer,this.bufferOff))return[];var t=new Array(this.blockSize);return this._update(this.buffer,0,t,0),t},n.prototype._unpad=function(t){return t},n.prototype._finalDecrypt=function(){i.equal(this.bufferOff,this.blockSize,"Not enough data to decrypt");var t=new Array(this.blockSize);return this._flushBuffer(t,0),this._unpad(t)}})),r.register("bQfgu",(function(t,e){function i(t,e){if(!t)throw new Error(e||"Assertion failed")}t.exports=i,i.equal=function(t,e,i){if(t!=e)throw new Error(i||"Assertion failed: "+t+" != "+e)}})),r.register("8B0jL",(function(t,e){var i=r("bQfgu"),n=r("kDUq9"),s=r("7xnMG"),o=r("9oWxV");function a(){this.tmp=new Array(2),this.keys=null}function h(t){o.call(this,t);var e=new a;this._desState=e,this.deriveKeys(e,t.key)}n(h,o),t.exports=h,h.create=function(t){return new h(t)};var l=[1,1,2,2,2,2,2,2,1,2,2,2,2,2,2,1];h.prototype.deriveKeys=function(t,e){t.keys=new Array(32),i.equal(e.length,this.blockSize,"Invalid key length");var n=s.readUInt32BE(e,0),r=s.readUInt32BE(e,4);s.pc1(n,r,t.tmp,0),n=t.tmp[0],r=t.tmp[1];for(var o=0;o<t.keys.length;o+=2){var a=l[o>>>1];n=s.r28shl(n,a),r=s.r28shl(r,a),s.pc2(n,r,t.keys,o)}},h.prototype._update=function(t,e,i,n){var r=this._desState,o=s.readUInt32BE(t,e),a=s.readUInt32BE(t,e+4);s.ip(o,a,r.tmp,0),o=r.tmp[0],a=r.tmp[1],"encrypt"===this.type?this._encrypt(r,o,a,r.tmp,0):this._decrypt(r,o,a,r.tmp,0),o=r.tmp[0],a=r.tmp[1],s.writeUInt32BE(i,o,n),s.writeUInt32BE(i,a,n+4)},h.prototype._pad=function(t,e){for(var i=t.length-e,n=e;n<t.length;n++)t[n]=i;return!0},h.prototype._unpad=function(t){for(var e=t[t.length-1],n=t.length-e;n<t.length;n++)i.equal(t[n],e);return t.slice(0,t.length-e)},h.prototype._encrypt=function(t,e,i,n,r){for(var o=e,a=i,h=0;h<t.keys.length;h+=2){var l=t.keys[h],u=t.keys[h+1];s.expand(a,t.tmp,0),l^=t.tmp[0],u^=t.tmp[1];var c=s.substitute(l,u),d=a;a=(o^s.permute(c))>>>0,o=d}s.rip(a,o,n,r)},h.prototype._decrypt=function(t,e,i,n,r){for(var o=i,a=e,h=t.keys.length-2;h>=0;h-=2){var l=t.keys[h],u=t.keys[h+1];s.expand(o,t.tmp,0),l^=t.tmp[0],u^=t.tmp[1];var c=s.substitute(l,u),d=o;o=(a^s.permute(c))>>>0,a=d}s.rip(o,a,n,r)}})),r.register("4ggol",(function(e,i){var n;t(e.exports,"instantiate",(()=>n),(t=>n=t));var s=r("bQfgu"),o=r("kDUq9"),a={};function h(t){s.equal(t.length,8,"Invalid IV length"),this.iv=new Array(8);for(var e=0;e<this.iv.length;e++)this.iv[e]=t[e]}n=function(t){function e(e){t.call(this,e),this._cbcInit()}o(e,t);for(var i=Object.keys(a),n=0;n<i.length;n++){var r=i[n];e.prototype[r]=a[r]}return e.create=function(t){return new e(t)},e},a._cbcInit=function(){var t=new h(this.options.iv);this._cbcState=t},a._update=function(t,e,i,n){var r=this._cbcState,s=this.constructor.super_.prototype,o=r.iv;if("encrypt"===this.type){for(var a=0;a<this.blockSize;a++)o[a]^=t[e+a];s._update.call(this,o,0,i,n);for(a=0;a<this.blockSize;a++)o[a]=i[n+a]}else{s._update.call(this,t,e,i,n);for(a=0;a<this.blockSize;a++)i[n+a]^=o[a];for(a=0;a<this.blockSize;a++)o[a]=t[e+a]}}})),r.register("1Z8xH",(function(t,e){var i=r("bQfgu"),n=r("kDUq9"),s=r("9oWxV"),o=r("8B0jL");function a(t,e){i.equal(e.length,24,"Invalid key length");var n=e.slice(0,8),r=e.slice(8,16),s=e.slice(16,24);this.ciphers="encrypt"===t?[o.create({type:"encrypt",key:n}),o.create({type:"decrypt",key:r}),o.create({type:"encrypt",key:s})]:[o.create({type:"decrypt",key:s}),o.create({type:"encrypt",key:r}),o.create({type:"decrypt",key:n})]}function h(t){s.call(this,t);var e=new a(this.type,this.options.key);this._edeState=e}n(h,s),t.exports=h,h.create=function(t){return new h(t)},h.prototype._update=function(t,e,i,n){var r=this._edeState;r.ciphers[0]._update(t,e,i,n),r.ciphers[1]._update(i,n,i,n),r.ciphers[2]._update(i,n,i,n)},h.prototype._pad=o.prototype._pad,h.prototype._unpad=o.prototype._unpad})),r.register("glytb",(function(e,i){var n,s,o;t(e.exports,"createCipheriv",(()=>n),(t=>n=t)),t(e.exports,"createDecipheriv",(()=>s),(t=>s=t)),t(e.exports,"getCiphers",(()=>o),(t=>o=t));var a=r("7Jq61"),h=r("bbLCL"),l=r("4OyxR");a.createCipher,n=a.createCipheriv,h.createDecipher,s=h.createDecipheriv,o=function(){return Object.keys(l)}})),r.register("7Jq61",(function(e,i){var n,s;t(e.exports,"createCipheriv",(()=>n),(t=>n=t)),t(e.exports,"createCipher",(()=>s),(t=>s=t));var o=r("2UJxV"),a=r("5Hiko"),h=r("emGH0").Buffer,l=r("202R9"),u=r("6dEJm"),c=r("dowsa"),d=r("8zMGp");function f(t,e,i){u.call(this),this._cache=new m,this._cipher=new c.AES(e),this._prev=h.from(i),this._mode=t,this._autopadding=!0}r("kDUq9")(f,u),f.prototype._update=function(t){var e,i;this._cache.add(t);for(var n=[];e=this._cache.get();)i=this._mode.encrypt(this,e),n.push(i);return h.concat(n)};var p=h.alloc(16,16);function m(){this.cache=h.allocUnsafe(0)}function g(t,e,i){var n=o[t.toLowerCase()];if(!n)throw new TypeError("invalid suite type");if("string"==typeof e&&(e=h.from(e)),e.length!==n.key/8)throw new TypeError("invalid key length "+e.length);if("string"==typeof i&&(i=h.from(i)),"GCM"!==n.mode&&i.length!==n.iv)throw new TypeError("invalid iv length "+i.length);return"stream"===n.type?new l(n.module,e,i):"auth"===n.type?new a(n.module,e,i):new f(n.module,e,i)}f.prototype._final=function(){var t=this._cache.flush();if(this._autopadding)return t=this._mode.encrypt(this,t),this._cipher.scrub(),t;if(!t.equals(p))throw this._cipher.scrub(),new Error("data not multiple of block length")},f.prototype.setAutoPadding=function(t){return this._autopadding=!!t,this},m.prototype.add=function(t){this.cache=h.concat([this.cache,t])},m.prototype.get=function(){if(this.cache.length>15){var t=this.cache.slice(0,16);return this.cache=this.cache.slice(16),t}return null},m.prototype.flush=function(){for(var t=16-this.cache.length,e=h.allocUnsafe(t),i=-1;++i<t;)e.writeUInt8(t,i);return h.concat([this.cache,e])},n=g,s=function(t,e){var i=o[t.toLowerCase()];if(!i)throw new TypeError("invalid suite type");var n=d(e,!1,i.key,i.iv);return g(t,n.key,n.iv)}})),r.register("2UJxV",(function(t,e){var i={ECB:r("fugSu"),CBC:r("lceNv"),CFB:r("k165S"),CFB8:r("fs2EE"),CFB1:r("2EEqP"),OFB:r("kI7xD"),CTR:r("29X5D"),GCM:r("29X5D")},n=r("4OyxR");for(var s in n)n[s].module=i[n[s].mode];t.exports=n})),r.register("fugSu",(function(e,i){var n,r;t(e.exports,"encrypt",(()=>n),(t=>n=t)),t(e.exports,"decrypt",(()=>r),(t=>r=t)),n=function(t,e){return t._cipher.encryptBlock(e)},r=function(t,e){return t._cipher.decryptBlock(e)}})),r.register("lceNv",(function(e,i){var n,s;t(e.exports,"encrypt",(()=>n),(t=>n=t)),t(e.exports,"decrypt",(()=>s),(t=>s=t));var o=r("6WDSq");n=function(t,e){var i=o(e,t._prev);return t._prev=t._cipher.encryptBlock(i),t._prev},s=function(t,e){var i=t._prev;t._prev=e;var n=t._cipher.decryptBlock(e);return o(n,i)}})),r.register("6WDSq",(function(t,e){var i=r("hwHAp").Buffer;t.exports=function(t,e){for(var n=Math.min(t.length,e.length),r=new i(n),s=0;s<n;++s)r[s]=t[s]^e[s];return r}})),r.register("k165S",(function(e,i){var n;t(e.exports,"encrypt",(()=>n),(t=>n=t));var s=r("emGH0").Buffer,o=r("6WDSq");function a(t,e,i){var n=e.length,r=o(e,t._cache);return t._cache=t._cache.slice(n),t._prev=s.concat([t._prev,i?e:r]),r}n=function(t,e,i){for(var n,r=s.allocUnsafe(0);e.length;){if(0===t._cache.length&&(t._cache=t._cipher.encryptBlock(t._prev),t._prev=s.allocUnsafe(0)),!(t._cache.length<=e.length)){r=s.concat([r,a(t,e,i)]);break}n=t._cache.length,r=s.concat([r,a(t,e.slice(0,n),i)]),e=e.slice(n)}return r}})),r.register("fs2EE",(function(e,i){var n;t(e.exports,"encrypt",(()=>n),(t=>n=t));var s=r("emGH0").Buffer;function o(t,e,i){var n=t._cipher.encryptBlock(t._prev)[0]^e;return t._prev=s.concat([t._prev.slice(1),s.from([i?e:n])]),n}n=function(t,e,i){for(var n=e.length,r=s.allocUnsafe(n),a=-1;++a<n;)r[a]=o(t,e[a],i);return r}})),r.register("2EEqP",(function(e,i){var n;t(e.exports,"encrypt",(()=>n),(t=>n=t));var s=r("emGH0").Buffer;function o(t,e,i){for(var n,r,s=-1,o=0;++s<8;)n=e&1<<7-s?128:0,o+=(128&(r=t._cipher.encryptBlock(t._prev)[0]^n))>>s%8,t._prev=a(t._prev,i?n:r);return o}function a(t,e){var i=t.length,n=-1,r=s.allocUnsafe(t.length);for(t=s.concat([t,s.from([e])]);++n<i;)r[n]=t[n]<<1|t[n+1]>>7;return r}n=function(t,e,i){for(var n=e.length,r=s.allocUnsafe(n),a=-1;++a<n;)r[a]=o(t,e[a],i);return r}})),r.register("kI7xD",(function(e,i){var n;t(e.exports,"encrypt",(()=>n),(t=>n=t));var s=r("hwHAp").Buffer,o=r("6WDSq");function a(t){return t._prev=t._cipher.encryptBlock(t._prev),t._prev}n=function(t,e){for(;t._cache.length<e.length;)t._cache=s.concat([t._cache,a(t)]);var i=t._cache.slice(0,e.length);return t._cache=t._cache.slice(e.length),o(e,i)}})),r.register("29X5D",(function(e,i){var n;t(e.exports,"encrypt",(()=>n),(t=>n=t));var s=r("6WDSq"),o=r("emGH0").Buffer,a=r("scUGG");function h(t){var e=t._cipher.encryptBlockRaw(t._prev);return a(t._prev),e}n=function(t,e){var i=Math.ceil(e.length/16),n=t._cache.length;t._cache=o.concat([t._cache,o.allocUnsafe(16*i)]);for(var r=0;r<i;r++){var a=h(t),l=n+16*r;t._cache.writeUInt32BE(a[0],l+0),t._cache.writeUInt32BE(a[1],l+4),t._cache.writeUInt32BE(a[2],l+8),t._cache.writeUInt32BE(a[3],l+12)}var u=t._cache.slice(0,e.length);return t._cache=t._cache.slice(e.length),s(e,u)}})),r.register("scUGG",(function(t,e){t.exports=function(t){for(var e,i=t.length;i--;){if(255!==(e=t.readUInt8(i))){e++,t.writeUInt8(e,i);break}t.writeUInt8(0,i)}}})),r.register("4OyxR",(function(t,e){t.exports=JSON.parse('{"aes-128-ecb":{"cipher":"AES","key":128,"iv":0,"mode":"ECB","type":"block"},"aes-192-ecb":{"cipher":"AES","key":192,"iv":0,"mode":"ECB","type":"block"},"aes-256-ecb":{"cipher":"AES","key":256,"iv":0,"mode":"ECB","type":"block"},"aes-128-cbc":{"cipher":"AES","key":128,"iv":16,"mode":"CBC","type":"block"},"aes-192-cbc":{"cipher":"AES","key":192,"iv":16,"mode":"CBC","type":"block"},"aes-256-cbc":{"cipher":"AES","key":256,"iv":16,"mode":"CBC","type":"block"},"aes128":{"cipher":"AES","key":128,"iv":16,"mode":"CBC","type":"block"},"aes192":{"cipher":"AES","key":192,"iv":16,"mode":"CBC","type":"block"},"aes256":{"cipher":"AES","key":256,"iv":16,"mode":"CBC","type":"block"},"aes-128-cfb":{"cipher":"AES","key":128,"iv":16,"mode":"CFB","type":"stream"},"aes-192-cfb":{"cipher":"AES","key":192,"iv":16,"mode":"CFB","type":"stream"},"aes-256-cfb":{"cipher":"AES","key":256,"iv":16,"mode":"CFB","type":"stream"},"aes-128-cfb8":{"cipher":"AES","key":128,"iv":16,"mode":"CFB8","type":"stream"},"aes-192-cfb8":{"cipher":"AES","key":192,"iv":16,"mode":"CFB8","type":"stream"},"aes-256-cfb8":{"cipher":"AES","key":256,"iv":16,"mode":"CFB8","type":"stream"},"aes-128-cfb1":{"cipher":"AES","key":128,"iv":16,"mode":"CFB1","type":"stream"},"aes-192-cfb1":{"cipher":"AES","key":192,"iv":16,"mode":"CFB1","type":"stream"},"aes-256-cfb1":{"cipher":"AES","key":256,"iv":16,"mode":"CFB1","type":"stream"},"aes-128-ofb":{"cipher":"AES","key":128,"iv":16,"mode":"OFB","type":"stream"},"aes-192-ofb":{"cipher":"AES","key":192,"iv":16,"mode":"OFB","type":"stream"},"aes-256-ofb":{"cipher":"AES","key":256,"iv":16,"mode":"OFB","type":"stream"},"aes-128-ctr":{"cipher":"AES","key":128,"iv":16,"mode":"CTR","type":"stream"},"aes-192-ctr":{"cipher":"AES","key":192,"iv":16,"mode":"CTR","type":"stream"},"aes-256-ctr":{"cipher":"AES","key":256,"iv":16,"mode":"CTR","type":"stream"},"aes-128-gcm":{"cipher":"AES","key":128,"iv":12,"mode":"GCM","type":"auth"},"aes-192-gcm":{"cipher":"AES","key":192,"iv":12,"mode":"GCM","type":"auth"},"aes-256-gcm":{"cipher":"AES","key":256,"iv":12,"mode":"GCM","type":"auth"}}')})),r.register("5Hiko",(function(t,e){var i=r("dowsa"),n=r("emGH0").Buffer,s=r("6dEJm"),o=r("kDUq9"),a=r("gbcLI"),h=r("6WDSq"),l=r("scUGG");function u(t,e,r,o){s.call(this);var h=n.alloc(4,0);this._cipher=new i.AES(e);var u=this._cipher.encryptBlock(h);this._ghash=new a(u),r=function(t,e,i){if(12===e.length)return t._finID=n.concat([e,n.from([0,0,0,1])]),n.concat([e,n.from([0,0,0,2])]);var r=new a(i),s=e.length,o=s%16;r.update(e),o&&(o=16-o,r.update(n.alloc(o,0))),r.update(n.alloc(8,0));var h=8*s,u=n.alloc(8);u.writeUIntBE(h,0,8),r.update(u),t._finID=r.state;var c=n.from(t._finID);return l(c),c}(this,r,u),this._prev=n.from(r),this._cache=n.allocUnsafe(0),this._secCache=n.allocUnsafe(0),this._decrypt=o,this._alen=0,this._len=0,this._mode=t,this._authTag=null,this._called=!1}o(u,s),u.prototype._update=function(t){if(!this._called&&this._alen){var e=16-this._alen%16;e<16&&(e=n.alloc(e,0),this._ghash.update(e))}this._called=!0;var i=this._mode.encrypt(this,t);return this._decrypt?this._ghash.update(t):this._ghash.update(i),this._len+=t.length,i},u.prototype._final=function(){if(this._decrypt&&!this._authTag)throw new Error("Unsupported state or unable to authenticate data");var t=h(this._ghash.final(8*this._alen,8*this._len),this._cipher.encryptBlock(this._finID));if(this._decrypt&&function(t,e){var i=0;t.length!==e.length&&i++;for(var n=Math.min(t.length,e.length),r=0;r<n;++r)i+=t[r]^e[r];return i}(t,this._authTag))throw new Error("Unsupported state or unable to authenticate data");this._authTag=t,this._cipher.scrub()},u.prototype.getAuthTag=function(){if(this._decrypt||!n.isBuffer(this._authTag))throw new Error("Attempting to get auth tag in unsupported state");return this._authTag},u.prototype.setAuthTag=function(t){if(!this._decrypt)throw new Error("Attempting to set auth tag in unsupported state");this._authTag=t},u.prototype.setAAD=function(t){if(this._called)throw new Error("Attempting to set AAD in unsupported state");this._ghash.update(t),this._alen+=t.length},t.exports=u})),r.register("dowsa",(function(e,i){var n;t(e.exports,"AES",(()=>n),(t=>n=t));var s=r("emGH0").Buffer;function o(t){s.isBuffer(t)||(t=s.from(t));for(var e=t.length/4|0,i=new Array(e),n=0;n<e;n++)i[n]=t.readUInt32BE(4*n);return i}function a(t){for(;0<t.length;t++)t[0]=0}function h(t,e,i,n,r){for(var s,o,a,h,l=i[0],u=i[1],c=i[2],d=i[3],f=t[0]^e[0],p=t[1]^e[1],m=t[2]^e[2],g=t[3]^e[3],v=4,y=1;y<r;y++)s=l[f>>>24]^u[p>>>16&255]^c[m>>>8&255]^d[255&g]^e[v++],o=l[p>>>24]^u[m>>>16&255]^c[g>>>8&255]^d[255&f]^e[v++],a=l[m>>>24]^u[g>>>16&255]^c[f>>>8&255]^d[255&p]^e[v++],h=l[g>>>24]^u[f>>>16&255]^c[p>>>8&255]^d[255&m]^e[v++],f=s,p=o,m=a,g=h;return s=(n[f>>>24]<<24|n[p>>>16&255]<<16|n[m>>>8&255]<<8|n[255&g])^e[v++],o=(n[p>>>24]<<24|n[m>>>16&255]<<16|n[g>>>8&255]<<8|n[255&f])^e[v++],a=(n[m>>>24]<<24|n[g>>>16&255]<<16|n[f>>>8&255]<<8|n[255&p])^e[v++],h=(n[g>>>24]<<24|n[f>>>16&255]<<16|n[p>>>8&255]<<8|n[255&m])^e[v++],[s>>>=0,o>>>=0,a>>>=0,h>>>=0]}var l=[0,1,2,4,8,16,32,64,128,27,54],u=function(){for(var t=new Array(256),e=0;e<256;e++)t[e]=e<128?e<<1:e<<1^283;for(var i=[],n=[],r=[[],[],[],[]],s=[[],[],[],[]],o=0,a=0,h=0;h<256;++h){var l=a^a<<1^a<<2^a<<3^a<<4;l=l>>>8^255&l^99,i[o]=l,n[l]=o;var u=t[o],c=t[u],d=t[c],f=257*t[l]^16843008*l;r[0][o]=f<<24|f>>>8,r[1][o]=f<<16|f>>>16,r[2][o]=f<<8|f>>>24,r[3][o]=f,f=16843009*d^65537*c^257*u^16843008*o,s[0][l]=f<<24|f>>>8,s[1][l]=f<<16|f>>>16,s[2][l]=f<<8|f>>>24,s[3][l]=f,0===o?o=a=1:(o=u^t[t[t[d^u]]],a^=t[t[a]])}return{SBOX:i,INV_SBOX:n,SUB_MIX:r,INV_SUB_MIX:s}}();function c(t){this._key=o(t),this._reset()}c.blockSize=16,c.keySize=32,c.prototype.blockSize=c.blockSize,c.prototype.keySize=c.keySize,c.prototype._reset=function(){for(var t=this._key,e=t.length,i=e+6,n=4*(i+1),r=[],s=0;s<e;s++)r[s]=t[s];for(s=e;s<n;s++){var o=r[s-1];s%e==0?(o=o<<8|o>>>24,o=u.SBOX[o>>>24]<<24|u.SBOX[o>>>16&255]<<16|u.SBOX[o>>>8&255]<<8|u.SBOX[255&o],o^=l[s/e|0]<<24):e>6&&s%e==4&&(o=u.SBOX[o>>>24]<<24|u.SBOX[o>>>16&255]<<16|u.SBOX[o>>>8&255]<<8|u.SBOX[255&o]),r[s]=r[s-e]^o}for(var a=[],h=0;h<n;h++){var c=n-h,d=r[c-(h%4?0:4)];a[h]=h<4||c<=4?d:u.INV_SUB_MIX[0][u.SBOX[d>>>24]]^u.INV_SUB_MIX[1][u.SBOX[d>>>16&255]]^u.INV_SUB_MIX[2][u.SBOX[d>>>8&255]]^u.INV_SUB_MIX[3][u.SBOX[255&d]]}this._nRounds=i,this._keySchedule=r,this._invKeySchedule=a},c.prototype.encryptBlockRaw=function(t){return h(t=o(t),this._keySchedule,u.SUB_MIX,u.SBOX,this._nRounds)},c.prototype.encryptBlock=function(t){var e=this.encryptBlockRaw(t),i=s.allocUnsafe(16);return i.writeUInt32BE(e[0],0),i.writeUInt32BE(e[1],4),i.writeUInt32BE(e[2],8),i.writeUInt32BE(e[3],12),i},c.prototype.decryptBlock=function(t){var e=(t=o(t))[1];t[1]=t[3],t[3]=e;var i=h(t,this._invKeySchedule,u.INV_SUB_MIX,u.INV_SBOX,this._nRounds),n=s.allocUnsafe(16);return n.writeUInt32BE(i[0],0),n.writeUInt32BE(i[3],4),n.writeUInt32BE(i[2],8),n.writeUInt32BE(i[1],12),n},c.prototype.scrub=function(){a(this._keySchedule),a(this._invKeySchedule),a(this._key)},n=c})),r.register("gbcLI",(function(t,e){var i=r("emGH0").Buffer,n=i.alloc(16,0);function s(t){var e=i.allocUnsafe(16);return e.writeUInt32BE(t[0]>>>0,0),e.writeUInt32BE(t[1]>>>0,4),e.writeUInt32BE(t[2]>>>0,8),e.writeUInt32BE(t[3]>>>0,12),e}function o(t){this.h=t,this.state=i.alloc(16,0),this.cache=i.allocUnsafe(0)}o.prototype.ghash=function(t){for(var e=-1;++e<t.length;)this.state[e]^=t[e];this._multiply()},o.prototype._multiply=function(){for(var t,e,i,n=[(t=this.h).readUInt32BE(0),t.readUInt32BE(4),t.readUInt32BE(8),t.readUInt32BE(12)],r=[0,0,0,0],o=-1;++o<128;){for(0!=(this.state[~~(o/8)]&1<<7-o%8)&&(r[0]^=n[0],r[1]^=n[1],r[2]^=n[2],r[3]^=n[3]),i=0!=(1&n[3]),e=3;e>0;e--)n[e]=n[e]>>>1|(1&n[e-1])<<31;n[0]=n[0]>>>1,i&&(n[0]=-520093696^n[0])}this.state=s(r)},o.prototype.update=function(t){var e;for(this.cache=i.concat([this.cache,t]);this.cache.length>=16;)e=this.cache.slice(0,16),this.cache=this.cache.slice(16),this.ghash(e)},o.prototype.final=function(t,e){return this.cache.length&&this.ghash(i.concat([this.cache,n],16)),this.ghash(s([0,t,0,e])),this.state},t.exports=o})),r.register("202R9",(function(t,e){var i=r("dowsa"),n=r("emGH0").Buffer,s=r("6dEJm");function o(t,e,r,o){s.call(this),this._cipher=new i.AES(e),this._prev=n.from(r),this._cache=n.allocUnsafe(0),this._secCache=n.allocUnsafe(0),this._decrypt=o,this._mode=t}r("kDUq9")(o,s),o.prototype._update=function(t){return this._mode.encrypt(this,t,this._decrypt)},o.prototype._final=function(){this._cipher.scrub()},t.exports=o})),r.register("8zMGp",(function(t,e){var i=r("emGH0").Buffer,n=r("aC9qH");t.exports=function(t,e,r,s){if(i.isBuffer(t)||(t=i.from(t,"binary")),e&&(i.isBuffer(e)||(e=i.from(e,"binary")),8!==e.length))throw new RangeError("salt should be Buffer with 8 byte length");for(var o=r/8,a=i.alloc(o),h=i.alloc(s||0),l=i.alloc(0);o>0||s>0;){var u=new n;u.update(l),u.update(t),e&&u.update(e),l=u.digest();var c=0;if(o>0){var d=a.length-o;c=Math.min(o,l.length),l.copy(a,d,0,c),o-=c}if(c<l.length&&s>0){var f=h.length-s,p=Math.min(s,l.length-c);l.copy(h,f,c,c+p),s-=p}}return l.fill(0),{key:a,iv:h}}})),r.register("bbLCL",(function(e,i){var n,s;t(e.exports,"createDecipher",(()=>n),(t=>n=t)),t(e.exports,"createDecipheriv",(()=>s),(t=>s=t));var o=r("5Hiko"),a=r("emGH0").Buffer,h=r("2UJxV"),l=r("202R9"),u=r("6dEJm"),c=r("dowsa"),d=r("8zMGp");function f(t,e,i){u.call(this),this._cache=new p,this._last=void 0,this._cipher=new c.AES(e),this._prev=a.from(i),this._mode=t,this._autopadding=!0}function p(){this.cache=a.allocUnsafe(0)}function m(t,e,i){var n=h[t.toLowerCase()];if(!n)throw new TypeError("invalid suite type");if("string"==typeof i&&(i=a.from(i)),"GCM"!==n.mode&&i.length!==n.iv)throw new TypeError("invalid iv length "+i.length);if("string"==typeof e&&(e=a.from(e)),e.length!==n.key/8)throw new TypeError("invalid key length "+e.length);return"stream"===n.type?new l(n.module,e,i,!0):"auth"===n.type?new o(n.module,e,i,!0):new f(n.module,e,i)}r("kDUq9")(f,u),f.prototype._update=function(t){var e,i;this._cache.add(t);for(var n=[];e=this._cache.get(this._autopadding);)i=this._mode.decrypt(this,e),n.push(i);return a.concat(n)},f.prototype._final=function(){var t=this._cache.flush();if(this._autopadding)return function(t){var e=t[15];if(e<1||e>16)throw new Error("unable to decrypt data");var i=-1;for(;++i<e;)if(t[i+(16-e)]!==e)throw new Error("unable to decrypt data");if(16===e)return;return t.slice(0,16-e)}(this._mode.decrypt(this,t));if(t)throw new Error("data not multiple of block length")},f.prototype.setAutoPadding=function(t){return this._autopadding=!!t,this},p.prototype.add=function(t){this.cache=a.concat([this.cache,t])},p.prototype.get=function(t){var e;if(t){if(this.cache.length>16)return e=this.cache.slice(0,16),this.cache=this.cache.slice(16),e}else if(this.cache.length>=16)return e=this.cache.slice(0,16),this.cache=this.cache.slice(16),e;return null},p.prototype.flush=function(){if(this.cache.length)return this.cache},n=function(t,e){var i=h[t.toLowerCase()];if(!i)throw new TypeError("invalid suite type");var n=d(e,!1,i.key,i.iv);return m(t,n.key,n.iv)},s=m})),r.register("g4ZO7",(function(e,i){var n,r,s,o,a,h,l,u;t(e.exports,"des-ecb",(()=>n),(t=>n=t)),t(e.exports,"des-cbc",(()=>r),(t=>r=t)),t(e.exports,"des",(()=>s),(t=>s=t)),t(e.exports,"des-ede3-cbc",(()=>o),(t=>o=t)),t(e.exports,"des3",(()=>a),(t=>a=t)),t(e.exports,"des-ede3",(()=>h),(t=>h=t)),t(e.exports,"des-ede-cbc",(()=>l),(t=>l=t)),t(e.exports,"des-ede",(()=>u),(t=>u=t)),n={key:8,iv:0},r=s={key:8,iv:8},o=a={key:24,iv:8},h={key:24,iv:0},l={key:16,iv:8},u={key:16,iv:0}})),r.register("gGc9K",(function(e,i){var n,s,o,a,h;t(e.exports,"DiffieHellmanGroup",(()=>n),(t=>n=t)),t(e.exports,"createDiffieHellmanGroup",(()=>s),(t=>s=t)),t(e.exports,"getDiffieHellman",(()=>o),(t=>o=t)),t(e.exports,"createDiffieHellman",(()=>a),(t=>a=t)),t(e.exports,"DiffieHellman",(()=>h),(t=>h=t));var l=r("hwHAp").Buffer,u=r("KIR6G"),c=r("2FPdA"),d=r("lbL8P");var f={binary:!0,hex:!0,base64:!0};n=s=o=function(t){var e=new l(c[t].prime,"hex"),i=new l(c[t].gen,"hex");return new d(e,i)},a=h=function t(e,i,n,r){return l.isBuffer(i)||void 0===f[i]?t(e,"binary",i,n):(i=i||"binary",r=r||"binary",n=n||new l([2]),l.isBuffer(n)||(n=new l(n,r)),"number"==typeof e?new d(u(e,n),n,!0):(l.isBuffer(e)||(e=new l(e,i)),new d(e,n,!0)))}})),r.register("KIR6G",(function(t,e){var i=r("jF6xI");t.exports=v,v.simpleSieve=m,v.fermatTest=g;var n=r("ai9l8"),s=new n(24),o=new(r("aNn31")),a=new n(1),h=new n(2),l=new n(5),u=(new n(16),new n(8),new n(10)),c=new n(3),d=(new n(7),new n(11)),f=new n(4),p=(new n(12),null);function m(t){for(var e=function(){if(null!==p)return p;var t=[];t[0]=2;for(var e=1,i=3;i<1048576;i+=2){for(var n=Math.ceil(Math.sqrt(i)),r=0;r<e&&t[r]<=n&&i%t[r]!=0;r++);e!==r&&t[r]<=n||(t[e++]=i)}return p=t,t}(),i=0;i<e.length;i++)if(0===t.modn(e[i]))return 0===t.cmpn(e[i]);return!0}function g(t){var e=n.mont(t);return 0===h.toRed(e).redPow(t.subn(1)).fromRed().cmpn(1)}function v(t,e){if(t<16)return new n(2===e||5===e?[140,123]:[140,39]);var r,p;for(e=new n(e);;){for(r=new n(i(Math.ceil(t/8)));r.bitLength()>t;)r.ishrn(1);if(r.isEven()&&r.iadd(a),r.testn(1)||r.iadd(h),e.cmp(h)){if(!e.cmp(l))for(;r.mod(u).cmp(c);)r.iadd(f)}else for(;r.mod(s).cmp(d);)r.iadd(f);if(m(p=r.shrn(1))&&m(r)&&g(p)&&g(r)&&o.test(p)&&o.test(r))return r}}})),r.register("ai9l8",(function(t,e){!function(t,e){function i(t,e){if(!t)throw new Error(e||"Assertion failed")}function n(t,e){t.super_=e;var i=function(){};i.prototype=e.prototype,t.prototype=new i,t.prototype.constructor=t}function s(t,e,i){if(s.isBN(t))return t;this.negative=0,this.words=null,this.length=0,this.red=null,null!==t&&("le"!==e&&"be"!==e||(i=e,e=10),this._init(t||0,e||10,i||"be"))}var o;"object"==typeof t?t.exports=s:e.BN=s,s.BN=s,s.wordSize=26;try{o="undefined"!=typeof window&&void 0!==window.Buffer?window.Buffer:r("lEqQD").Buffer}catch(t){}function a(t,e){var i=t.charCodeAt(e);return i>=65&&i<=70?i-55:i>=97&&i<=102?i-87:i-48&15}function h(t,e,i){var n=a(t,i);return i-1>=e&&(n|=a(t,i-1)<<4),n}function l(t,e,i,n){for(var r=0,s=Math.min(t.length,i),o=e;o<s;o++){var a=t.charCodeAt(o)-48;r*=n,r+=a>=49?a-49+10:a>=17?a-17+10:a}return r}s.isBN=function(t){return t instanceof s||null!==t&&"object"==typeof t&&t.constructor.wordSize===s.wordSize&&Array.isArray(t.words)},s.max=function(t,e){return t.cmp(e)>0?t:e},s.min=function(t,e){return t.cmp(e)<0?t:e},s.prototype._init=function(t,e,n){if("number"==typeof t)return this._initNumber(t,e,n);if("object"==typeof t)return this._initArray(t,e,n);"hex"===e&&(e=16),i(e===(0|e)&&e>=2&&e<=36);var r=0;"-"===(t=t.toString().replace(/\s+/g,""))[0]&&(r++,this.negative=1),r<t.length&&(16===e?this._parseHex(t,r,n):(this._parseBase(t,e,r),"le"===n&&this._initArray(this.toArray(),e,n)))},s.prototype._initNumber=function(t,e,n){t<0&&(this.negative=1,t=-t),t<67108864?(this.words=[67108863&t],this.length=1):t<4503599627370496?(this.words=[67108863&t,t/67108864&67108863],this.length=2):(i(t<9007199254740992),this.words=[67108863&t,t/67108864&67108863,1],this.length=3),"le"===n&&this._initArray(this.toArray(),e,n)},s.prototype._initArray=function(t,e,n){if(i("number"==typeof t.length),t.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(t.length/3),this.words=new Array(this.length);for(var r=0;r<this.length;r++)this.words[r]=0;var s,o,a=0;if("be"===n)for(r=t.length-1,s=0;r>=0;r-=3)o=t[r]|t[r-1]<<8|t[r-2]<<16,this.words[s]|=o<<a&67108863,this.words[s+1]=o>>>26-a&67108863,(a+=24)>=26&&(a-=26,s++);else if("le"===n)for(r=0,s=0;r<t.length;r+=3)o=t[r]|t[r+1]<<8|t[r+2]<<16,this.words[s]|=o<<a&67108863,this.words[s+1]=o>>>26-a&67108863,(a+=24)>=26&&(a-=26,s++);return this.strip()},s.prototype._parseHex=function(t,e,i){this.length=Math.ceil((t.length-e)/6),this.words=new Array(this.length);for(var n=0;n<this.length;n++)this.words[n]=0;var r,s=0,o=0;if("be"===i)for(n=t.length-1;n>=e;n-=2)r=h(t,e,n)<<s,this.words[o]|=67108863&r,s>=18?(s-=18,o+=1,this.words[o]|=r>>>26):s+=8;else for(n=(t.length-e)%2==0?e+1:e;n<t.length;n+=2)r=h(t,e,n)<<s,this.words[o]|=67108863&r,s>=18?(s-=18,o+=1,this.words[o]|=r>>>26):s+=8;this.strip()},s.prototype._parseBase=function(t,e,i){this.words=[0],this.length=1;for(var n=0,r=1;r<=67108863;r*=e)n++;n--,r=r/e|0;for(var s=t.length-i,o=s%n,a=Math.min(s,s-o)+i,h=0,u=i;u<a;u+=n)h=l(t,u,u+n,e),this.imuln(r),this.words[0]+h<67108864?this.words[0]+=h:this._iaddn(h);if(0!==o){var c=1;for(h=l(t,u,t.length,e),u=0;u<o;u++)c*=e;this.imuln(c),this.words[0]+h<67108864?this.words[0]+=h:this._iaddn(h)}this.strip()},s.prototype.copy=function(t){t.words=new Array(this.length);for(var e=0;e<this.length;e++)t.words[e]=this.words[e];t.length=this.length,t.negative=this.negative,t.red=this.red},s.prototype.clone=function(){var t=new s(null);return this.copy(t),t},s.prototype._expand=function(t){for(;this.length<t;)this.words[this.length++]=0;return this},s.prototype.strip=function(){for(;this.length>1&&0===this.words[this.length-1];)this.length--;return this._normSign()},s.prototype._normSign=function(){return 1===this.length&&0===this.words[0]&&(this.negative=0),this},s.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var u=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],c=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],d=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];function f(t,e,i){i.negative=e.negative^t.negative;var n=t.length+e.length|0;i.length=n,n=n-1|0;var r=0|t.words[0],s=0|e.words[0],o=r*s,a=67108863&o,h=o/67108864|0;i.words[0]=a;for(var l=1;l<n;l++){for(var u=h>>>26,c=67108863&h,d=Math.min(l,e.length-1),f=Math.max(0,l-t.length+1);f<=d;f++){var p=l-f|0;u+=(o=(r=0|t.words[p])*(s=0|e.words[f])+c)/67108864|0,c=67108863&o}i.words[l]=0|c,h=0|u}return 0!==h?i.words[l]=0|h:i.length--,i.strip()}s.prototype.toString=function(t,e){var n;if(e=0|e||1,16===(t=t||10)||"hex"===t){n="";for(var r=0,s=0,o=0;o<this.length;o++){var a=this.words[o],h=(16777215&(a<<r|s)).toString(16);n=0!==(s=a>>>24-r&16777215)||o!==this.length-1?u[6-h.length]+h+n:h+n,(r+=2)>=26&&(r-=26,o--)}for(0!==s&&(n=s.toString(16)+n);n.length%e!=0;)n="0"+n;return 0!==this.negative&&(n="-"+n),n}if(t===(0|t)&&t>=2&&t<=36){var l=c[t],f=d[t];n="";var p=this.clone();for(p.negative=0;!p.isZero();){var m=p.modn(f).toString(t);n=(p=p.idivn(f)).isZero()?m+n:u[l-m.length]+m+n}for(this.isZero()&&(n="0"+n);n.length%e!=0;)n="0"+n;return 0!==this.negative&&(n="-"+n),n}i(!1,"Base should be between 2 and 36")},s.prototype.toNumber=function(){var t=this.words[0];return 2===this.length?t+=67108864*this.words[1]:3===this.length&&1===this.words[2]?t+=4503599627370496+67108864*this.words[1]:this.length>2&&i(!1,"Number can only safely store up to 53 bits"),0!==this.negative?-t:t},s.prototype.toJSON=function(){return this.toString(16)},s.prototype.toBuffer=function(t,e){return i(void 0!==o),this.toArrayLike(o,t,e)},s.prototype.toArray=function(t,e){return this.toArrayLike(Array,t,e)},s.prototype.toArrayLike=function(t,e,n){var r=this.byteLength(),s=n||Math.max(1,r);i(r<=s,"byte array longer than desired length"),i(s>0,"Requested array length <= 0"),this.strip();var o,a,h="le"===e,l=new t(s),u=this.clone();if(h){for(a=0;!u.isZero();a++)o=u.andln(255),u.iushrn(8),l[a]=o;for(;a<s;a++)l[a]=0}else{for(a=0;a<s-r;a++)l[a]=0;for(a=0;!u.isZero();a++)o=u.andln(255),u.iushrn(8),l[s-a-1]=o}return l},Math.clz32?s.prototype._countBits=function(t){return 32-Math.clz32(t)}:s.prototype._countBits=function(t){var e=t,i=0;return e>=4096&&(i+=13,e>>>=13),e>=64&&(i+=7,e>>>=7),e>=8&&(i+=4,e>>>=4),e>=2&&(i+=2,e>>>=2),i+e},s.prototype._zeroBits=function(t){if(0===t)return 26;var e=t,i=0;return 0==(8191&e)&&(i+=13,e>>>=13),0==(127&e)&&(i+=7,e>>>=7),0==(15&e)&&(i+=4,e>>>=4),0==(3&e)&&(i+=2,e>>>=2),0==(1&e)&&i++,i},s.prototype.bitLength=function(){var t=this.words[this.length-1],e=this._countBits(t);return 26*(this.length-1)+e},s.prototype.zeroBits=function(){if(this.isZero())return 0;for(var t=0,e=0;e<this.length;e++){var i=this._zeroBits(this.words[e]);if(t+=i,26!==i)break}return t},s.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},s.prototype.toTwos=function(t){return 0!==this.negative?this.abs().inotn(t).iaddn(1):this.clone()},s.prototype.fromTwos=function(t){return this.testn(t-1)?this.notn(t).iaddn(1).ineg():this.clone()},s.prototype.isNeg=function(){return 0!==this.negative},s.prototype.neg=function(){return this.clone().ineg()},s.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},s.prototype.iuor=function(t){for(;this.length<t.length;)this.words[this.length++]=0;for(var e=0;e<t.length;e++)this.words[e]=this.words[e]|t.words[e];return this.strip()},s.prototype.ior=function(t){return i(0==(this.negative|t.negative)),this.iuor(t)},s.prototype.or=function(t){return this.length>t.length?this.clone().ior(t):t.clone().ior(this)},s.prototype.uor=function(t){return this.length>t.length?this.clone().iuor(t):t.clone().iuor(this)},s.prototype.iuand=function(t){var e;e=this.length>t.length?t:this;for(var i=0;i<e.length;i++)this.words[i]=this.words[i]&t.words[i];return this.length=e.length,this.strip()},s.prototype.iand=function(t){return i(0==(this.negative|t.negative)),this.iuand(t)},s.prototype.and=function(t){return this.length>t.length?this.clone().iand(t):t.clone().iand(this)},s.prototype.uand=function(t){return this.length>t.length?this.clone().iuand(t):t.clone().iuand(this)},s.prototype.iuxor=function(t){var e,i;this.length>t.length?(e=this,i=t):(e=t,i=this);for(var n=0;n<i.length;n++)this.words[n]=e.words[n]^i.words[n];if(this!==e)for(;n<e.length;n++)this.words[n]=e.words[n];return this.length=e.length,this.strip()},s.prototype.ixor=function(t){return i(0==(this.negative|t.negative)),this.iuxor(t)},s.prototype.xor=function(t){return this.length>t.length?this.clone().ixor(t):t.clone().ixor(this)},s.prototype.uxor=function(t){return this.length>t.length?this.clone().iuxor(t):t.clone().iuxor(this)},s.prototype.inotn=function(t){i("number"==typeof t&&t>=0);var e=0|Math.ceil(t/26),n=t%26;this._expand(e),n>0&&e--;for(var r=0;r<e;r++)this.words[r]=67108863&~this.words[r];return n>0&&(this.words[r]=~this.words[r]&67108863>>26-n),this.strip()},s.prototype.notn=function(t){return this.clone().inotn(t)},s.prototype.setn=function(t,e){i("number"==typeof t&&t>=0);var n=t/26|0,r=t%26;return this._expand(n+1),this.words[n]=e?this.words[n]|1<<r:this.words[n]&~(1<<r),this.strip()},s.prototype.iadd=function(t){var e,i,n;if(0!==this.negative&&0===t.negative)return this.negative=0,e=this.isub(t),this.negative^=1,this._normSign();if(0===this.negative&&0!==t.negative)return t.negative=0,e=this.isub(t),t.negative=1,e._normSign();this.length>t.length?(i=this,n=t):(i=t,n=this);for(var r=0,s=0;s<n.length;s++)e=(0|i.words[s])+(0|n.words[s])+r,this.words[s]=67108863&e,r=e>>>26;for(;0!==r&&s<i.length;s++)e=(0|i.words[s])+r,this.words[s]=67108863&e,r=e>>>26;if(this.length=i.length,0!==r)this.words[this.length]=r,this.length++;else if(i!==this)for(;s<i.length;s++)this.words[s]=i.words[s];return this},s.prototype.add=function(t){var e;return 0!==t.negative&&0===this.negative?(t.negative=0,e=this.sub(t),t.negative^=1,e):0===t.negative&&0!==this.negative?(this.negative=0,e=t.sub(this),this.negative=1,e):this.length>t.length?this.clone().iadd(t):t.clone().iadd(this)},s.prototype.isub=function(t){if(0!==t.negative){t.negative=0;var e=this.iadd(t);return t.negative=1,e._normSign()}if(0!==this.negative)return this.negative=0,this.iadd(t),this.negative=1,this._normSign();var i,n,r=this.cmp(t);if(0===r)return this.negative=0,this.length=1,this.words[0]=0,this;r>0?(i=this,n=t):(i=t,n=this);for(var s=0,o=0;o<n.length;o++)s=(e=(0|i.words[o])-(0|n.words[o])+s)>>26,this.words[o]=67108863&e;for(;0!==s&&o<i.length;o++)s=(e=(0|i.words[o])+s)>>26,this.words[o]=67108863&e;if(0===s&&o<i.length&&i!==this)for(;o<i.length;o++)this.words[o]=i.words[o];return this.length=Math.max(this.length,o),i!==this&&(this.negative=1),this.strip()},s.prototype.sub=function(t){return this.clone().isub(t)};var p=function(t,e,i){var n,r,s,o=t.words,a=e.words,h=i.words,l=0,u=0|o[0],c=8191&u,d=u>>>13,f=0|o[1],p=8191&f,m=f>>>13,g=0|o[2],v=8191&g,y=g>>>13,b=0|o[3],w=8191&b,_=b>>>13,M=0|o[4],x=8191&M,k=M>>>13,A=0|o[5],E=8191&A,S=A>>>13,T=0|o[6],I=8191&T,q=T>>>13,C=0|o[7],R=8191&C,D=C>>>13,L=0|o[8],N=8191&L,O=L>>>13,P=0|o[9],B=8191&P,U=P>>>13,F=0|a[0],j=8191&F,z=F>>>13,V=0|a[1],H=8191&V,W=V>>>13,K=0|a[2],G=8191&K,Q=K>>>13,Y=0|a[3],Z=8191&Y,$=Y>>>13,X=0|a[4],J=8191&X,tt=X>>>13,et=0|a[5],it=8191&et,nt=et>>>13,rt=0|a[6],st=8191&rt,ot=rt>>>13,at=0|a[7],ht=8191&at,lt=at>>>13,ut=0|a[8],ct=8191&ut,dt=ut>>>13,ft=0|a[9],pt=8191&ft,mt=ft>>>13;i.negative=t.negative^e.negative,i.length=19;var gt=(l+(n=Math.imul(c,j))|0)+((8191&(r=(r=Math.imul(c,z))+Math.imul(d,j)|0))<<13)|0;l=((s=Math.imul(d,z))+(r>>>13)|0)+(gt>>>26)|0,gt&=67108863,n=Math.imul(p,j),r=(r=Math.imul(p,z))+Math.imul(m,j)|0,s=Math.imul(m,z);var vt=(l+(n=n+Math.imul(c,H)|0)|0)+((8191&(r=(r=r+Math.imul(c,W)|0)+Math.imul(d,H)|0))<<13)|0;l=((s=s+Math.imul(d,W)|0)+(r>>>13)|0)+(vt>>>26)|0,vt&=67108863,n=Math.imul(v,j),r=(r=Math.imul(v,z))+Math.imul(y,j)|0,s=Math.imul(y,z),n=n+Math.imul(p,H)|0,r=(r=r+Math.imul(p,W)|0)+Math.imul(m,H)|0,s=s+Math.imul(m,W)|0;var yt=(l+(n=n+Math.imul(c,G)|0)|0)+((8191&(r=(r=r+Math.imul(c,Q)|0)+Math.imul(d,G)|0))<<13)|0;l=((s=s+Math.imul(d,Q)|0)+(r>>>13)|0)+(yt>>>26)|0,yt&=67108863,n=Math.imul(w,j),r=(r=Math.imul(w,z))+Math.imul(_,j)|0,s=Math.imul(_,z),n=n+Math.imul(v,H)|0,r=(r=r+Math.imul(v,W)|0)+Math.imul(y,H)|0,s=s+Math.imul(y,W)|0,n=n+Math.imul(p,G)|0,r=(r=r+Math.imul(p,Q)|0)+Math.imul(m,G)|0,s=s+Math.imul(m,Q)|0;var bt=(l+(n=n+Math.imul(c,Z)|0)|0)+((8191&(r=(r=r+Math.imul(c,$)|0)+Math.imul(d,Z)|0))<<13)|0;l=((s=s+Math.imul(d,$)|0)+(r>>>13)|0)+(bt>>>26)|0,bt&=67108863,n=Math.imul(x,j),r=(r=Math.imul(x,z))+Math.imul(k,j)|0,s=Math.imul(k,z),n=n+Math.imul(w,H)|0,r=(r=r+Math.imul(w,W)|0)+Math.imul(_,H)|0,s=s+Math.imul(_,W)|0,n=n+Math.imul(v,G)|0,r=(r=r+Math.imul(v,Q)|0)+Math.imul(y,G)|0,s=s+Math.imul(y,Q)|0,n=n+Math.imul(p,Z)|0,r=(r=r+Math.imul(p,$)|0)+Math.imul(m,Z)|0,s=s+Math.imul(m,$)|0;var wt=(l+(n=n+Math.imul(c,J)|0)|0)+((8191&(r=(r=r+Math.imul(c,tt)|0)+Math.imul(d,J)|0))<<13)|0;l=((s=s+Math.imul(d,tt)|0)+(r>>>13)|0)+(wt>>>26)|0,wt&=67108863,n=Math.imul(E,j),r=(r=Math.imul(E,z))+Math.imul(S,j)|0,s=Math.imul(S,z),n=n+Math.imul(x,H)|0,r=(r=r+Math.imul(x,W)|0)+Math.imul(k,H)|0,s=s+Math.imul(k,W)|0,n=n+Math.imul(w,G)|0,r=(r=r+Math.imul(w,Q)|0)+Math.imul(_,G)|0,s=s+Math.imul(_,Q)|0,n=n+Math.imul(v,Z)|0,r=(r=r+Math.imul(v,$)|0)+Math.imul(y,Z)|0,s=s+Math.imul(y,$)|0,n=n+Math.imul(p,J)|0,r=(r=r+Math.imul(p,tt)|0)+Math.imul(m,J)|0,s=s+Math.imul(m,tt)|0;var _t=(l+(n=n+Math.imul(c,it)|0)|0)+((8191&(r=(r=r+Math.imul(c,nt)|0)+Math.imul(d,it)|0))<<13)|0;l=((s=s+Math.imul(d,nt)|0)+(r>>>13)|0)+(_t>>>26)|0,_t&=67108863,n=Math.imul(I,j),r=(r=Math.imul(I,z))+Math.imul(q,j)|0,s=Math.imul(q,z),n=n+Math.imul(E,H)|0,r=(r=r+Math.imul(E,W)|0)+Math.imul(S,H)|0,s=s+Math.imul(S,W)|0,n=n+Math.imul(x,G)|0,r=(r=r+Math.imul(x,Q)|0)+Math.imul(k,G)|0,s=s+Math.imul(k,Q)|0,n=n+Math.imul(w,Z)|0,r=(r=r+Math.imul(w,$)|0)+Math.imul(_,Z)|0,s=s+Math.imul(_,$)|0,n=n+Math.imul(v,J)|0,r=(r=r+Math.imul(v,tt)|0)+Math.imul(y,J)|0,s=s+Math.imul(y,tt)|0,n=n+Math.imul(p,it)|0,r=(r=r+Math.imul(p,nt)|0)+Math.imul(m,it)|0,s=s+Math.imul(m,nt)|0;var Mt=(l+(n=n+Math.imul(c,st)|0)|0)+((8191&(r=(r=r+Math.imul(c,ot)|0)+Math.imul(d,st)|0))<<13)|0;l=((s=s+Math.imul(d,ot)|0)+(r>>>13)|0)+(Mt>>>26)|0,Mt&=67108863,n=Math.imul(R,j),r=(r=Math.imul(R,z))+Math.imul(D,j)|0,s=Math.imul(D,z),n=n+Math.imul(I,H)|0,r=(r=r+Math.imul(I,W)|0)+Math.imul(q,H)|0,s=s+Math.imul(q,W)|0,n=n+Math.imul(E,G)|0,r=(r=r+Math.imul(E,Q)|0)+Math.imul(S,G)|0,s=s+Math.imul(S,Q)|0,n=n+Math.imul(x,Z)|0,r=(r=r+Math.imul(x,$)|0)+Math.imul(k,Z)|0,s=s+Math.imul(k,$)|0,n=n+Math.imul(w,J)|0,r=(r=r+Math.imul(w,tt)|0)+Math.imul(_,J)|0,s=s+Math.imul(_,tt)|0,n=n+Math.imul(v,it)|0,r=(r=r+Math.imul(v,nt)|0)+Math.imul(y,it)|0,s=s+Math.imul(y,nt)|0,n=n+Math.imul(p,st)|0,r=(r=r+Math.imul(p,ot)|0)+Math.imul(m,st)|0,s=s+Math.imul(m,ot)|0;var xt=(l+(n=n+Math.imul(c,ht)|0)|0)+((8191&(r=(r=r+Math.imul(c,lt)|0)+Math.imul(d,ht)|0))<<13)|0;l=((s=s+Math.imul(d,lt)|0)+(r>>>13)|0)+(xt>>>26)|0,xt&=67108863,n=Math.imul(N,j),r=(r=Math.imul(N,z))+Math.imul(O,j)|0,s=Math.imul(O,z),n=n+Math.imul(R,H)|0,r=(r=r+Math.imul(R,W)|0)+Math.imul(D,H)|0,s=s+Math.imul(D,W)|0,n=n+Math.imul(I,G)|0,r=(r=r+Math.imul(I,Q)|0)+Math.imul(q,G)|0,s=s+Math.imul(q,Q)|0,n=n+Math.imul(E,Z)|0,r=(r=r+Math.imul(E,$)|0)+Math.imul(S,Z)|0,s=s+Math.imul(S,$)|0,n=n+Math.imul(x,J)|0,r=(r=r+Math.imul(x,tt)|0)+Math.imul(k,J)|0,s=s+Math.imul(k,tt)|0,n=n+Math.imul(w,it)|0,r=(r=r+Math.imul(w,nt)|0)+Math.imul(_,it)|0,s=s+Math.imul(_,nt)|0,n=n+Math.imul(v,st)|0,r=(r=r+Math.imul(v,ot)|0)+Math.imul(y,st)|0,s=s+Math.imul(y,ot)|0,n=n+Math.imul(p,ht)|0,r=(r=r+Math.imul(p,lt)|0)+Math.imul(m,ht)|0,s=s+Math.imul(m,lt)|0;var kt=(l+(n=n+Math.imul(c,ct)|0)|0)+((8191&(r=(r=r+Math.imul(c,dt)|0)+Math.imul(d,ct)|0))<<13)|0;l=((s=s+Math.imul(d,dt)|0)+(r>>>13)|0)+(kt>>>26)|0,kt&=67108863,n=Math.imul(B,j),r=(r=Math.imul(B,z))+Math.imul(U,j)|0,s=Math.imul(U,z),n=n+Math.imul(N,H)|0,r=(r=r+Math.imul(N,W)|0)+Math.imul(O,H)|0,s=s+Math.imul(O,W)|0,n=n+Math.imul(R,G)|0,r=(r=r+Math.imul(R,Q)|0)+Math.imul(D,G)|0,s=s+Math.imul(D,Q)|0,n=n+Math.imul(I,Z)|0,r=(r=r+Math.imul(I,$)|0)+Math.imul(q,Z)|0,s=s+Math.imul(q,$)|0,n=n+Math.imul(E,J)|0,r=(r=r+Math.imul(E,tt)|0)+Math.imul(S,J)|0,s=s+Math.imul(S,tt)|0,n=n+Math.imul(x,it)|0,r=(r=r+Math.imul(x,nt)|0)+Math.imul(k,it)|0,s=s+Math.imul(k,nt)|0,n=n+Math.imul(w,st)|0,r=(r=r+Math.imul(w,ot)|0)+Math.imul(_,st)|0,s=s+Math.imul(_,ot)|0,n=n+Math.imul(v,ht)|0,r=(r=r+Math.imul(v,lt)|0)+Math.imul(y,ht)|0,s=s+Math.imul(y,lt)|0,n=n+Math.imul(p,ct)|0,r=(r=r+Math.imul(p,dt)|0)+Math.imul(m,ct)|0,s=s+Math.imul(m,dt)|0;var At=(l+(n=n+Math.imul(c,pt)|0)|0)+((8191&(r=(r=r+Math.imul(c,mt)|0)+Math.imul(d,pt)|0))<<13)|0;l=((s=s+Math.imul(d,mt)|0)+(r>>>13)|0)+(At>>>26)|0,At&=67108863,n=Math.imul(B,H),r=(r=Math.imul(B,W))+Math.imul(U,H)|0,s=Math.imul(U,W),n=n+Math.imul(N,G)|0,r=(r=r+Math.imul(N,Q)|0)+Math.imul(O,G)|0,s=s+Math.imul(O,Q)|0,n=n+Math.imul(R,Z)|0,r=(r=r+Math.imul(R,$)|0)+Math.imul(D,Z)|0,s=s+Math.imul(D,$)|0,n=n+Math.imul(I,J)|0,r=(r=r+Math.imul(I,tt)|0)+Math.imul(q,J)|0,s=s+Math.imul(q,tt)|0,n=n+Math.imul(E,it)|0,r=(r=r+Math.imul(E,nt)|0)+Math.imul(S,it)|0,s=s+Math.imul(S,nt)|0,n=n+Math.imul(x,st)|0,r=(r=r+Math.imul(x,ot)|0)+Math.imul(k,st)|0,s=s+Math.imul(k,ot)|0,n=n+Math.imul(w,ht)|0,r=(r=r+Math.imul(w,lt)|0)+Math.imul(_,ht)|0,s=s+Math.imul(_,lt)|0,n=n+Math.imul(v,ct)|0,r=(r=r+Math.imul(v,dt)|0)+Math.imul(y,ct)|0,s=s+Math.imul(y,dt)|0;var Et=(l+(n=n+Math.imul(p,pt)|0)|0)+((8191&(r=(r=r+Math.imul(p,mt)|0)+Math.imul(m,pt)|0))<<13)|0;l=((s=s+Math.imul(m,mt)|0)+(r>>>13)|0)+(Et>>>26)|0,Et&=67108863,n=Math.imul(B,G),r=(r=Math.imul(B,Q))+Math.imul(U,G)|0,s=Math.imul(U,Q),n=n+Math.imul(N,Z)|0,r=(r=r+Math.imul(N,$)|0)+Math.imul(O,Z)|0,s=s+Math.imul(O,$)|0,n=n+Math.imul(R,J)|0,r=(r=r+Math.imul(R,tt)|0)+Math.imul(D,J)|0,s=s+Math.imul(D,tt)|0,n=n+Math.imul(I,it)|0,r=(r=r+Math.imul(I,nt)|0)+Math.imul(q,it)|0,s=s+Math.imul(q,nt)|0,n=n+Math.imul(E,st)|0,r=(r=r+Math.imul(E,ot)|0)+Math.imul(S,st)|0,s=s+Math.imul(S,ot)|0,n=n+Math.imul(x,ht)|0,r=(r=r+Math.imul(x,lt)|0)+Math.imul(k,ht)|0,s=s+Math.imul(k,lt)|0,n=n+Math.imul(w,ct)|0,r=(r=r+Math.imul(w,dt)|0)+Math.imul(_,ct)|0,s=s+Math.imul(_,dt)|0;var St=(l+(n=n+Math.imul(v,pt)|0)|0)+((8191&(r=(r=r+Math.imul(v,mt)|0)+Math.imul(y,pt)|0))<<13)|0;l=((s=s+Math.imul(y,mt)|0)+(r>>>13)|0)+(St>>>26)|0,St&=67108863,n=Math.imul(B,Z),r=(r=Math.imul(B,$))+Math.imul(U,Z)|0,s=Math.imul(U,$),n=n+Math.imul(N,J)|0,r=(r=r+Math.imul(N,tt)|0)+Math.imul(O,J)|0,s=s+Math.imul(O,tt)|0,n=n+Math.imul(R,it)|0,r=(r=r+Math.imul(R,nt)|0)+Math.imul(D,it)|0,s=s+Math.imul(D,nt)|0,n=n+Math.imul(I,st)|0,r=(r=r+Math.imul(I,ot)|0)+Math.imul(q,st)|0,s=s+Math.imul(q,ot)|0,n=n+Math.imul(E,ht)|0,r=(r=r+Math.imul(E,lt)|0)+Math.imul(S,ht)|0,s=s+Math.imul(S,lt)|0,n=n+Math.imul(x,ct)|0,r=(r=r+Math.imul(x,dt)|0)+Math.imul(k,ct)|0,s=s+Math.imul(k,dt)|0;var Tt=(l+(n=n+Math.imul(w,pt)|0)|0)+((8191&(r=(r=r+Math.imul(w,mt)|0)+Math.imul(_,pt)|0))<<13)|0;l=((s=s+Math.imul(_,mt)|0)+(r>>>13)|0)+(Tt>>>26)|0,Tt&=67108863,n=Math.imul(B,J),r=(r=Math.imul(B,tt))+Math.imul(U,J)|0,s=Math.imul(U,tt),n=n+Math.imul(N,it)|0,r=(r=r+Math.imul(N,nt)|0)+Math.imul(O,it)|0,s=s+Math.imul(O,nt)|0,n=n+Math.imul(R,st)|0,r=(r=r+Math.imul(R,ot)|0)+Math.imul(D,st)|0,s=s+Math.imul(D,ot)|0,n=n+Math.imul(I,ht)|0,r=(r=r+Math.imul(I,lt)|0)+Math.imul(q,ht)|0,s=s+Math.imul(q,lt)|0,n=n+Math.imul(E,ct)|0,r=(r=r+Math.imul(E,dt)|0)+Math.imul(S,ct)|0,s=s+Math.imul(S,dt)|0;var It=(l+(n=n+Math.imul(x,pt)|0)|0)+((8191&(r=(r=r+Math.imul(x,mt)|0)+Math.imul(k,pt)|0))<<13)|0;l=((s=s+Math.imul(k,mt)|0)+(r>>>13)|0)+(It>>>26)|0,It&=67108863,n=Math.imul(B,it),r=(r=Math.imul(B,nt))+Math.imul(U,it)|0,s=Math.imul(U,nt),n=n+Math.imul(N,st)|0,r=(r=r+Math.imul(N,ot)|0)+Math.imul(O,st)|0,s=s+Math.imul(O,ot)|0,n=n+Math.imul(R,ht)|0,r=(r=r+Math.imul(R,lt)|0)+Math.imul(D,ht)|0,s=s+Math.imul(D,lt)|0,n=n+Math.imul(I,ct)|0,r=(r=r+Math.imul(I,dt)|0)+Math.imul(q,ct)|0,s=s+Math.imul(q,dt)|0;var qt=(l+(n=n+Math.imul(E,pt)|0)|0)+((8191&(r=(r=r+Math.imul(E,mt)|0)+Math.imul(S,pt)|0))<<13)|0;l=((s=s+Math.imul(S,mt)|0)+(r>>>13)|0)+(qt>>>26)|0,qt&=67108863,n=Math.imul(B,st),r=(r=Math.imul(B,ot))+Math.imul(U,st)|0,s=Math.imul(U,ot),n=n+Math.imul(N,ht)|0,r=(r=r+Math.imul(N,lt)|0)+Math.imul(O,ht)|0,s=s+Math.imul(O,lt)|0,n=n+Math.imul(R,ct)|0,r=(r=r+Math.imul(R,dt)|0)+Math.imul(D,ct)|0,s=s+Math.imul(D,dt)|0;var Ct=(l+(n=n+Math.imul(I,pt)|0)|0)+((8191&(r=(r=r+Math.imul(I,mt)|0)+Math.imul(q,pt)|0))<<13)|0;l=((s=s+Math.imul(q,mt)|0)+(r>>>13)|0)+(Ct>>>26)|0,Ct&=67108863,n=Math.imul(B,ht),r=(r=Math.imul(B,lt))+Math.imul(U,ht)|0,s=Math.imul(U,lt),n=n+Math.imul(N,ct)|0,r=(r=r+Math.imul(N,dt)|0)+Math.imul(O,ct)|0,s=s+Math.imul(O,dt)|0;var Rt=(l+(n=n+Math.imul(R,pt)|0)|0)+((8191&(r=(r=r+Math.imul(R,mt)|0)+Math.imul(D,pt)|0))<<13)|0;l=((s=s+Math.imul(D,mt)|0)+(r>>>13)|0)+(Rt>>>26)|0,Rt&=67108863,n=Math.imul(B,ct),r=(r=Math.imul(B,dt))+Math.imul(U,ct)|0,s=Math.imul(U,dt);var Dt=(l+(n=n+Math.imul(N,pt)|0)|0)+((8191&(r=(r=r+Math.imul(N,mt)|0)+Math.imul(O,pt)|0))<<13)|0;l=((s=s+Math.imul(O,mt)|0)+(r>>>13)|0)+(Dt>>>26)|0,Dt&=67108863;var Lt=(l+(n=Math.imul(B,pt))|0)+((8191&(r=(r=Math.imul(B,mt))+Math.imul(U,pt)|0))<<13)|0;return l=((s=Math.imul(U,mt))+(r>>>13)|0)+(Lt>>>26)|0,Lt&=67108863,h[0]=gt,h[1]=vt,h[2]=yt,h[3]=bt,h[4]=wt,h[5]=_t,h[6]=Mt,h[7]=xt,h[8]=kt,h[9]=At,h[10]=Et,h[11]=St,h[12]=Tt,h[13]=It,h[14]=qt,h[15]=Ct,h[16]=Rt,h[17]=Dt,h[18]=Lt,0!==l&&(h[19]=l,i.length++),i};function m(t,e,i){return(new g).mulp(t,e,i)}function g(t,e){this.x=t,this.y=e}Math.imul||(p=f),s.prototype.mulTo=function(t,e){var i,n=this.length+t.length;return i=10===this.length&&10===t.length?p(this,t,e):n<63?f(this,t,e):n<1024?function(t,e,i){i.negative=e.negative^t.negative,i.length=t.length+e.length;for(var n=0,r=0,s=0;s<i.length-1;s++){var o=r;r=0;for(var a=67108863&n,h=Math.min(s,e.length-1),l=Math.max(0,s-t.length+1);l<=h;l++){var u=s-l,c=(0|t.words[u])*(0|e.words[l]),d=67108863&c;a=67108863&(d=d+a|0),r+=(o=(o=o+(c/67108864|0)|0)+(d>>>26)|0)>>>26,o&=67108863}i.words[s]=a,n=o,o=r}return 0!==n?i.words[s]=n:i.length--,i.strip()}(this,t,e):m(this,t,e),i},g.prototype.makeRBT=function(t){for(var e=new Array(t),i=s.prototype._countBits(t)-1,n=0;n<t;n++)e[n]=this.revBin(n,i,t);return e},g.prototype.revBin=function(t,e,i){if(0===t||t===i-1)return t;for(var n=0,r=0;r<e;r++)n|=(1&t)<<e-r-1,t>>=1;return n},g.prototype.permute=function(t,e,i,n,r,s){for(var o=0;o<s;o++)n[o]=e[t[o]],r[o]=i[t[o]]},g.prototype.transform=function(t,e,i,n,r,s){this.permute(s,t,e,i,n,r);for(var o=1;o<r;o<<=1)for(var a=o<<1,h=Math.cos(2*Math.PI/a),l=Math.sin(2*Math.PI/a),u=0;u<r;u+=a)for(var c=h,d=l,f=0;f<o;f++){var p=i[u+f],m=n[u+f],g=i[u+f+o],v=n[u+f+o],y=c*g-d*v;v=c*v+d*g,g=y,i[u+f]=p+g,n[u+f]=m+v,i[u+f+o]=p-g,n[u+f+o]=m-v,f!==a&&(y=h*c-l*d,d=h*d+l*c,c=y)}},g.prototype.guessLen13b=function(t,e){var i=1|Math.max(e,t),n=1&i,r=0;for(i=i/2|0;i;i>>>=1)r++;return 1<<r+1+n},g.prototype.conjugate=function(t,e,i){if(!(i<=1))for(var n=0;n<i/2;n++){var r=t[n];t[n]=t[i-n-1],t[i-n-1]=r,r=e[n],e[n]=-e[i-n-1],e[i-n-1]=-r}},g.prototype.normalize13b=function(t,e){for(var i=0,n=0;n<e/2;n++){var r=8192*Math.round(t[2*n+1]/e)+Math.round(t[2*n]/e)+i;t[n]=67108863&r,i=r<67108864?0:r/67108864|0}return t},g.prototype.convert13b=function(t,e,n,r){for(var s=0,o=0;o<e;o++)s+=0|t[o],n[2*o]=8191&s,s>>>=13,n[2*o+1]=8191&s,s>>>=13;for(o=2*e;o<r;++o)n[o]=0;i(0===s),i(0==(-8192&s))},g.prototype.stub=function(t){for(var e=new Array(t),i=0;i<t;i++)e[i]=0;return e},g.prototype.mulp=function(t,e,i){var n=2*this.guessLen13b(t.length,e.length),r=this.makeRBT(n),s=this.stub(n),o=new Array(n),a=new Array(n),h=new Array(n),l=new Array(n),u=new Array(n),c=new Array(n),d=i.words;d.length=n,this.convert13b(t.words,t.length,o,n),this.convert13b(e.words,e.length,l,n),this.transform(o,s,a,h,n,r),this.transform(l,s,u,c,n,r);for(var f=0;f<n;f++){var p=a[f]*u[f]-h[f]*c[f];h[f]=a[f]*c[f]+h[f]*u[f],a[f]=p}return this.conjugate(a,h,n),this.transform(a,h,d,s,n,r),this.conjugate(d,s,n),this.normalize13b(d,n),i.negative=t.negative^e.negative,i.length=t.length+e.length,i.strip()},s.prototype.mul=function(t){var e=new s(null);return e.words=new Array(this.length+t.length),this.mulTo(t,e)},s.prototype.mulf=function(t){var e=new s(null);return e.words=new Array(this.length+t.length),m(this,t,e)},s.prototype.imul=function(t){return this.clone().mulTo(t,this)},s.prototype.imuln=function(t){i("number"==typeof t),i(t<67108864);for(var e=0,n=0;n<this.length;n++){var r=(0|this.words[n])*t,s=(67108863&r)+(67108863&e);e>>=26,e+=r/67108864|0,e+=s>>>26,this.words[n]=67108863&s}return 0!==e&&(this.words[n]=e,this.length++),this},s.prototype.muln=function(t){return this.clone().imuln(t)},s.prototype.sqr=function(){return this.mul(this)},s.prototype.isqr=function(){return this.imul(this.clone())},s.prototype.pow=function(t){var e=function(t){for(var e=new Array(t.bitLength()),i=0;i<e.length;i++){var n=i/26|0,r=i%26;e[i]=(t.words[n]&1<<r)>>>r}return e}(t);if(0===e.length)return new s(1);for(var i=this,n=0;n<e.length&&0===e[n];n++,i=i.sqr());if(++n<e.length)for(var r=i.sqr();n<e.length;n++,r=r.sqr())0!==e[n]&&(i=i.mul(r));return i},s.prototype.iushln=function(t){i("number"==typeof t&&t>=0);var e,n=t%26,r=(t-n)/26,s=67108863>>>26-n<<26-n;if(0!==n){var o=0;for(e=0;e<this.length;e++){var a=this.words[e]&s,h=(0|this.words[e])-a<<n;this.words[e]=h|o,o=a>>>26-n}o&&(this.words[e]=o,this.length++)}if(0!==r){for(e=this.length-1;e>=0;e--)this.words[e+r]=this.words[e];for(e=0;e<r;e++)this.words[e]=0;this.length+=r}return this.strip()},s.prototype.ishln=function(t){return i(0===this.negative),this.iushln(t)},s.prototype.iushrn=function(t,e,n){var r;i("number"==typeof t&&t>=0),r=e?(e-e%26)/26:0;var s=t%26,o=Math.min((t-s)/26,this.length),a=67108863^67108863>>>s<<s,h=n;if(r-=o,r=Math.max(0,r),h){for(var l=0;l<o;l++)h.words[l]=this.words[l];h.length=o}if(0===o);else if(this.length>o)for(this.length-=o,l=0;l<this.length;l++)this.words[l]=this.words[l+o];else this.words[0]=0,this.length=1;var u=0;for(l=this.length-1;l>=0&&(0!==u||l>=r);l--){var c=0|this.words[l];this.words[l]=u<<26-s|c>>>s,u=c&a}return h&&0!==u&&(h.words[h.length++]=u),0===this.length&&(this.words[0]=0,this.length=1),this.strip()},s.prototype.ishrn=function(t,e,n){return i(0===this.negative),this.iushrn(t,e,n)},s.prototype.shln=function(t){return this.clone().ishln(t)},s.prototype.ushln=function(t){return this.clone().iushln(t)},s.prototype.shrn=function(t){return this.clone().ishrn(t)},s.prototype.ushrn=function(t){return this.clone().iushrn(t)},s.prototype.testn=function(t){i("number"==typeof t&&t>=0);var e=t%26,n=(t-e)/26,r=1<<e;return!(this.length<=n)&&!!(this.words[n]&r)},s.prototype.imaskn=function(t){i("number"==typeof t&&t>=0);var e=t%26,n=(t-e)/26;if(i(0===this.negative,"imaskn works only with positive numbers"),this.length<=n)return this;if(0!==e&&n++,this.length=Math.min(n,this.length),0!==e){var r=67108863^67108863>>>e<<e;this.words[this.length-1]&=r}return this.strip()},s.prototype.maskn=function(t){return this.clone().imaskn(t)},s.prototype.iaddn=function(t){return i("number"==typeof t),i(t<67108864),t<0?this.isubn(-t):0!==this.negative?1===this.length&&(0|this.words[0])<t?(this.words[0]=t-(0|this.words[0]),this.negative=0,this):(this.negative=0,this.isubn(t),this.negative=1,this):this._iaddn(t)},s.prototype._iaddn=function(t){this.words[0]+=t;for(var e=0;e<this.length&&this.words[e]>=67108864;e++)this.words[e]-=67108864,e===this.length-1?this.words[e+1]=1:this.words[e+1]++;return this.length=Math.max(this.length,e+1),this},s.prototype.isubn=function(t){if(i("number"==typeof t),i(t<67108864),t<0)return this.iaddn(-t);if(0!==this.negative)return this.negative=0,this.iaddn(t),this.negative=1,this;if(this.words[0]-=t,1===this.length&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var e=0;e<this.length&&this.words[e]<0;e++)this.words[e]+=67108864,this.words[e+1]-=1;return this.strip()},s.prototype.addn=function(t){return this.clone().iaddn(t)},s.prototype.subn=function(t){return this.clone().isubn(t)},s.prototype.iabs=function(){return this.negative=0,this},s.prototype.abs=function(){return this.clone().iabs()},s.prototype._ishlnsubmul=function(t,e,n){var r,s,o=t.length+n;this._expand(o);var a=0;for(r=0;r<t.length;r++){s=(0|this.words[r+n])+a;var h=(0|t.words[r])*e;a=((s-=67108863&h)>>26)-(h/67108864|0),this.words[r+n]=67108863&s}for(;r<this.length-n;r++)a=(s=(0|this.words[r+n])+a)>>26,this.words[r+n]=67108863&s;if(0===a)return this.strip();for(i(-1===a),a=0,r=0;r<this.length;r++)a=(s=-(0|this.words[r])+a)>>26,this.words[r]=67108863&s;return this.negative=1,this.strip()},s.prototype._wordDiv=function(t,e){var i=(this.length,t.length),n=this.clone(),r=t,o=0|r.words[r.length-1];0!==(i=26-this._countBits(o))&&(r=r.ushln(i),n.iushln(i),o=0|r.words[r.length-1]);var a,h=n.length-r.length;if("mod"!==e){(a=new s(null)).length=h+1,a.words=new Array(a.length);for(var l=0;l<a.length;l++)a.words[l]=0}var u=n.clone()._ishlnsubmul(r,1,h);0===u.negative&&(n=u,a&&(a.words[h]=1));for(var c=h-1;c>=0;c--){var d=67108864*(0|n.words[r.length+c])+(0|n.words[r.length+c-1]);for(d=Math.min(d/o|0,67108863),n._ishlnsubmul(r,d,c);0!==n.negative;)d--,n.negative=0,n._ishlnsubmul(r,1,c),n.isZero()||(n.negative^=1);a&&(a.words[c]=d)}return a&&a.strip(),n.strip(),"div"!==e&&0!==i&&n.iushrn(i),{div:a||null,mod:n}},s.prototype.divmod=function(t,e,n){return i(!t.isZero()),this.isZero()?{div:new s(0),mod:new s(0)}:0!==this.negative&&0===t.negative?(a=this.neg().divmod(t,e),"mod"!==e&&(r=a.div.neg()),"div"!==e&&(o=a.mod.neg(),n&&0!==o.negative&&o.iadd(t)),{div:r,mod:o}):0===this.negative&&0!==t.negative?(a=this.divmod(t.neg(),e),"mod"!==e&&(r=a.div.neg()),{div:r,mod:a.mod}):0!=(this.negative&t.negative)?(a=this.neg().divmod(t.neg(),e),"div"!==e&&(o=a.mod.neg(),n&&0!==o.negative&&o.isub(t)),{div:a.div,mod:o}):t.length>this.length||this.cmp(t)<0?{div:new s(0),mod:this}:1===t.length?"div"===e?{div:this.divn(t.words[0]),mod:null}:"mod"===e?{div:null,mod:new s(this.modn(t.words[0]))}:{div:this.divn(t.words[0]),mod:new s(this.modn(t.words[0]))}:this._wordDiv(t,e);var r,o,a},s.prototype.div=function(t){return this.divmod(t,"div",!1).div},s.prototype.mod=function(t){return this.divmod(t,"mod",!1).mod},s.prototype.umod=function(t){return this.divmod(t,"mod",!0).mod},s.prototype.divRound=function(t){var e=this.divmod(t);if(e.mod.isZero())return e.div;var i=0!==e.div.negative?e.mod.isub(t):e.mod,n=t.ushrn(1),r=t.andln(1),s=i.cmp(n);return s<0||1===r&&0===s?e.div:0!==e.div.negative?e.div.isubn(1):e.div.iaddn(1)},s.prototype.modn=function(t){i(t<=67108863);for(var e=67108864%t,n=0,r=this.length-1;r>=0;r--)n=(e*n+(0|this.words[r]))%t;return n},s.prototype.idivn=function(t){i(t<=67108863);for(var e=0,n=this.length-1;n>=0;n--){var r=(0|this.words[n])+67108864*e;this.words[n]=r/t|0,e=r%t}return this.strip()},s.prototype.divn=function(t){return this.clone().idivn(t)},s.prototype.egcd=function(t){i(0===t.negative),i(!t.isZero());var e=this,n=t.clone();e=0!==e.negative?e.umod(t):e.clone();for(var r=new s(1),o=new s(0),a=new s(0),h=new s(1),l=0;e.isEven()&&n.isEven();)e.iushrn(1),n.iushrn(1),++l;for(var u=n.clone(),c=e.clone();!e.isZero();){for(var d=0,f=1;0==(e.words[0]&f)&&d<26;++d,f<<=1);if(d>0)for(e.iushrn(d);d-- >0;)(r.isOdd()||o.isOdd())&&(r.iadd(u),o.isub(c)),r.iushrn(1),o.iushrn(1);for(var p=0,m=1;0==(n.words[0]&m)&&p<26;++p,m<<=1);if(p>0)for(n.iushrn(p);p-- >0;)(a.isOdd()||h.isOdd())&&(a.iadd(u),h.isub(c)),a.iushrn(1),h.iushrn(1);e.cmp(n)>=0?(e.isub(n),r.isub(a),o.isub(h)):(n.isub(e),a.isub(r),h.isub(o))}return{a:a,b:h,gcd:n.iushln(l)}},s.prototype._invmp=function(t){i(0===t.negative),i(!t.isZero());var e=this,n=t.clone();e=0!==e.negative?e.umod(t):e.clone();for(var r,o=new s(1),a=new s(0),h=n.clone();e.cmpn(1)>0&&n.cmpn(1)>0;){for(var l=0,u=1;0==(e.words[0]&u)&&l<26;++l,u<<=1);if(l>0)for(e.iushrn(l);l-- >0;)o.isOdd()&&o.iadd(h),o.iushrn(1);for(var c=0,d=1;0==(n.words[0]&d)&&c<26;++c,d<<=1);if(c>0)for(n.iushrn(c);c-- >0;)a.isOdd()&&a.iadd(h),a.iushrn(1);e.cmp(n)>=0?(e.isub(n),o.isub(a)):(n.isub(e),a.isub(o))}return(r=0===e.cmpn(1)?o:a).cmpn(0)<0&&r.iadd(t),r},s.prototype.gcd=function(t){if(this.isZero())return t.abs();if(t.isZero())return this.abs();var e=this.clone(),i=t.clone();e.negative=0,i.negative=0;for(var n=0;e.isEven()&&i.isEven();n++)e.iushrn(1),i.iushrn(1);for(;;){for(;e.isEven();)e.iushrn(1);for(;i.isEven();)i.iushrn(1);var r=e.cmp(i);if(r<0){var s=e;e=i,i=s}else if(0===r||0===i.cmpn(1))break;e.isub(i)}return i.iushln(n)},s.prototype.invm=function(t){return this.egcd(t).a.umod(t)},s.prototype.isEven=function(){return 0==(1&this.words[0])},s.prototype.isOdd=function(){return 1==(1&this.words[0])},s.prototype.andln=function(t){return this.words[0]&t},s.prototype.bincn=function(t){i("number"==typeof t);var e=t%26,n=(t-e)/26,r=1<<e;if(this.length<=n)return this._expand(n+1),this.words[n]|=r,this;for(var s=r,o=n;0!==s&&o<this.length;o++){var a=0|this.words[o];s=(a+=s)>>>26,a&=67108863,this.words[o]=a}return 0!==s&&(this.words[o]=s,this.length++),this},s.prototype.isZero=function(){return 1===this.length&&0===this.words[0]},s.prototype.cmpn=function(t){var e,n=t<0;if(0!==this.negative&&!n)return-1;if(0===this.negative&&n)return 1;if(this.strip(),this.length>1)e=1;else{n&&(t=-t),i(t<=67108863,"Number is too big");var r=0|this.words[0];e=r===t?0:r<t?-1:1}return 0!==this.negative?0|-e:e},s.prototype.cmp=function(t){if(0!==this.negative&&0===t.negative)return-1;if(0===this.negative&&0!==t.negative)return 1;var e=this.ucmp(t);return 0!==this.negative?0|-e:e},s.prototype.ucmp=function(t){if(this.length>t.length)return 1;if(this.length<t.length)return-1;for(var e=0,i=this.length-1;i>=0;i--){var n=0|this.words[i],r=0|t.words[i];if(n!==r){n<r?e=-1:n>r&&(e=1);break}}return e},s.prototype.gtn=function(t){return 1===this.cmpn(t)},s.prototype.gt=function(t){return 1===this.cmp(t)},s.prototype.gten=function(t){return this.cmpn(t)>=0},s.prototype.gte=function(t){return this.cmp(t)>=0},s.prototype.ltn=function(t){return-1===this.cmpn(t)},s.prototype.lt=function(t){return-1===this.cmp(t)},s.prototype.lten=function(t){return this.cmpn(t)<=0},s.prototype.lte=function(t){return this.cmp(t)<=0},s.prototype.eqn=function(t){return 0===this.cmpn(t)},s.prototype.eq=function(t){return 0===this.cmp(t)},s.red=function(t){return new x(t)},s.prototype.toRed=function(t){return i(!this.red,"Already a number in reduction context"),i(0===this.negative,"red works only with positives"),t.convertTo(this)._forceRed(t)},s.prototype.fromRed=function(){return i(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},s.prototype._forceRed=function(t){return this.red=t,this},s.prototype.forceRed=function(t){return i(!this.red,"Already a number in reduction context"),this._forceRed(t)},s.prototype.redAdd=function(t){return i(this.red,"redAdd works only with red numbers"),this.red.add(this,t)},s.prototype.redIAdd=function(t){return i(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,t)},s.prototype.redSub=function(t){return i(this.red,"redSub works only with red numbers"),this.red.sub(this,t)},s.prototype.redISub=function(t){return i(this.red,"redISub works only with red numbers"),this.red.isub(this,t)},s.prototype.redShl=function(t){return i(this.red,"redShl works only with red numbers"),this.red.shl(this,t)},s.prototype.redMul=function(t){return i(this.red,"redMul works only with red numbers"),this.red._verify2(this,t),this.red.mul(this,t)},s.prototype.redIMul=function(t){return i(this.red,"redMul works only with red numbers"),this.red._verify2(this,t),this.red.imul(this,t)},s.prototype.redSqr=function(){return i(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},s.prototype.redISqr=function(){return i(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},s.prototype.redSqrt=function(){return i(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},s.prototype.redInvm=function(){return i(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},s.prototype.redNeg=function(){return i(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},s.prototype.redPow=function(t){return i(this.red&&!t.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,t)};var v={k256:null,p224:null,p192:null,p25519:null};function y(t,e){this.name=t,this.p=new s(e,16),this.n=this.p.bitLength(),this.k=new s(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}function b(){y.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}function w(){y.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}function _(){y.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}function M(){y.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}function x(t){if("string"==typeof t){var e=s._prime(t);this.m=e.p,this.prime=e}else i(t.gtn(1),"modulus must be greater than 1"),this.m=t,this.prime=null}function k(t){x.call(this,t),this.shift=this.m.bitLength(),this.shift%26!=0&&(this.shift+=26-this.shift%26),this.r=new s(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}y.prototype._tmp=function(){var t=new s(null);return t.words=new Array(Math.ceil(this.n/13)),t},y.prototype.ireduce=function(t){var e,i=t;do{this.split(i,this.tmp),e=(i=(i=this.imulK(i)).iadd(this.tmp)).bitLength()}while(e>this.n);var n=e<this.n?-1:i.ucmp(this.p);return 0===n?(i.words[0]=0,i.length=1):n>0?i.isub(this.p):void 0!==i.strip?i.strip():i._strip(),i},y.prototype.split=function(t,e){t.iushrn(this.n,0,e)},y.prototype.imulK=function(t){return t.imul(this.k)},n(b,y),b.prototype.split=function(t,e){for(var i=4194303,n=Math.min(t.length,9),r=0;r<n;r++)e.words[r]=t.words[r];if(e.length=n,t.length<=9)return t.words[0]=0,void(t.length=1);var s=t.words[9];for(e.words[e.length++]=s&i,r=10;r<t.length;r++){var o=0|t.words[r];t.words[r-10]=(o&i)<<4|s>>>22,s=o}s>>>=22,t.words[r-10]=s,0===s&&t.length>10?t.length-=10:t.length-=9},b.prototype.imulK=function(t){t.words[t.length]=0,t.words[t.length+1]=0,t.length+=2;for(var e=0,i=0;i<t.length;i++){var n=0|t.words[i];e+=977*n,t.words[i]=67108863&e,e=64*n+(e/67108864|0)}return 0===t.words[t.length-1]&&(t.length--,0===t.words[t.length-1]&&t.length--),t},n(w,y),n(_,y),n(M,y),M.prototype.imulK=function(t){for(var e=0,i=0;i<t.length;i++){var n=19*(0|t.words[i])+e,r=67108863&n;n>>>=26,t.words[i]=r,e=n}return 0!==e&&(t.words[t.length++]=e),t},s._prime=function(t){if(v[t])return v[t];var e;if("k256"===t)e=new b;else if("p224"===t)e=new w;else if("p192"===t)e=new _;else{if("p25519"!==t)throw new Error("Unknown prime "+t);e=new M}return v[t]=e,e},x.prototype._verify1=function(t){i(0===t.negative,"red works only with positives"),i(t.red,"red works only with red numbers")},x.prototype._verify2=function(t,e){i(0==(t.negative|e.negative),"red works only with positives"),i(t.red&&t.red===e.red,"red works only with red numbers")},x.prototype.imod=function(t){return this.prime?this.prime.ireduce(t)._forceRed(this):t.umod(this.m)._forceRed(this)},x.prototype.neg=function(t){return t.isZero()?t.clone():this.m.sub(t)._forceRed(this)},x.prototype.add=function(t,e){this._verify2(t,e);var i=t.add(e);return i.cmp(this.m)>=0&&i.isub(this.m),i._forceRed(this)},x.prototype.iadd=function(t,e){this._verify2(t,e);var i=t.iadd(e);return i.cmp(this.m)>=0&&i.isub(this.m),i},x.prototype.sub=function(t,e){this._verify2(t,e);var i=t.sub(e);return i.cmpn(0)<0&&i.iadd(this.m),i._forceRed(this)},x.prototype.isub=function(t,e){this._verify2(t,e);var i=t.isub(e);return i.cmpn(0)<0&&i.iadd(this.m),i},x.prototype.shl=function(t,e){return this._verify1(t),this.imod(t.ushln(e))},x.prototype.imul=function(t,e){return this._verify2(t,e),this.imod(t.imul(e))},x.prototype.mul=function(t,e){return this._verify2(t,e),this.imod(t.mul(e))},x.prototype.isqr=function(t){return this.imul(t,t.clone())},x.prototype.sqr=function(t){return this.mul(t,t)},x.prototype.sqrt=function(t){if(t.isZero())return t.clone();var e=this.m.andln(3);if(i(e%2==1),3===e){var n=this.m.add(new s(1)).iushrn(2);return this.pow(t,n)}for(var r=this.m.subn(1),o=0;!r.isZero()&&0===r.andln(1);)o++,r.iushrn(1);i(!r.isZero());var a=new s(1).toRed(this),h=a.redNeg(),l=this.m.subn(1).iushrn(1),u=this.m.bitLength();for(u=new s(2*u*u).toRed(this);0!==this.pow(u,l).cmp(h);)u.redIAdd(h);for(var c=this.pow(u,r),d=this.pow(t,r.addn(1).iushrn(1)),f=this.pow(t,r),p=o;0!==f.cmp(a);){for(var m=f,g=0;0!==m.cmp(a);g++)m=m.redSqr();i(g<p);var v=this.pow(c,new s(1).iushln(p-g-1));d=d.redMul(v),c=v.redSqr(),f=f.redMul(c),p=g}return d},x.prototype.invm=function(t){var e=t._invmp(this.m);return 0!==e.negative?(e.negative=0,this.imod(e).redNeg()):this.imod(e)},x.prototype.pow=function(t,e){if(e.isZero())return new s(1).toRed(this);if(0===e.cmpn(1))return t.clone();var i=new Array(16);i[0]=new s(1).toRed(this),i[1]=t;for(var n=2;n<i.length;n++)i[n]=this.mul(i[n-1],t);var r=i[0],o=0,a=0,h=e.bitLength()%26;for(0===h&&(h=26),n=e.length-1;n>=0;n--){for(var l=e.words[n],u=h-1;u>=0;u--){var c=l>>u&1;r!==i[0]&&(r=this.sqr(r)),0!==c||0!==o?(o<<=1,o|=c,(4===++a||0===n&&0===u)&&(r=this.mul(r,i[o]),a=0,o=0)):a=0}h=26}return r},x.prototype.convertTo=function(t){var e=t.umod(this.m);return e===t?e.clone():e},x.prototype.convertFrom=function(t){var e=t.clone();return e.red=null,e},s.mont=function(t){return new k(t)},n(k,x),k.prototype.convertTo=function(t){return this.imod(t.ushln(this.shift))},k.prototype.convertFrom=function(t){var e=this.imod(t.mul(this.rinv));return e.red=null,e},k.prototype.imul=function(t,e){if(t.isZero()||e.isZero())return t.words[0]=0,t.length=1,t;var i=t.imul(e),n=i.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),r=i.isub(n).iushrn(this.shift),s=r;return r.cmp(this.m)>=0?s=r.isub(this.m):r.cmpn(0)<0&&(s=r.iadd(this.m)),s._forceRed(this)},k.prototype.mul=function(t,e){if(t.isZero()||e.isZero())return new s(0)._forceRed(this);var i=t.mul(e),n=i.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),r=i.isub(n).iushrn(this.shift),o=r;return r.cmp(this.m)>=0?o=r.isub(this.m):r.cmpn(0)<0&&(o=r.iadd(this.m)),o._forceRed(this)},k.prototype.invm=function(t){return this.imod(t._invmp(this.m).mul(this.r2))._forceRed(this)}}(t,this)})),r.register("aNn31",(function(t,e){var i=r("wAW8D"),n=r("5wSio");function s(t){this.rand=t||new n.Rand}t.exports=s,s.create=function(t){return new s(t)},s.prototype._randbelow=function(t){var e=t.bitLength(),n=Math.ceil(e/8);do{var r=new i(this.rand.generate(n))}while(r.cmp(t)>=0);return r},s.prototype._randrange=function(t,e){var i=e.sub(t);return t.add(this._randbelow(i))},s.prototype.test=function(t,e,n){var r=t.bitLength(),s=i.mont(t),o=new i(1).toRed(s);e||(e=Math.max(1,r/48|0));for(var a=t.subn(1),h=0;!a.testn(h);h++);for(var l=t.shrn(h),u=a.toRed(s);e>0;e--){var c=this._randrange(new i(2),a);n&&n(c);var d=c.toRed(s).redPow(l);if(0!==d.cmp(o)&&0!==d.cmp(u)){for(var f=1;f<h;f++){if(0===(d=d.redSqr()).cmp(o))return!1;if(0===d.cmp(u))break}if(f===h)return!1}}return!0},s.prototype.getDivisor=function(t,e){var n=t.bitLength(),r=i.mont(t),s=new i(1).toRed(r);e||(e=Math.max(1,n/48|0));for(var o=t.subn(1),a=0;!o.testn(a);a++);for(var h=t.shrn(a),l=o.toRed(r);e>0;e--){var u=this._randrange(new i(2),o),c=t.gcd(u);if(0!==c.cmpn(1))return c;var d=u.toRed(r).redPow(h);if(0!==d.cmp(s)&&0!==d.cmp(l)){for(var f=1;f<a;f++){if(0===(d=d.redSqr()).cmp(s))return d.fromRed().subn(1).gcd(t);if(0===d.cmp(l))break}if(f===a)return(d=d.redSqr()).fromRed().subn(1).gcd(t)}}return!1}})),r.register("wAW8D",(function(t,e){!function(t,e){function i(t,e){if(!t)throw new Error(e||"Assertion failed")}function n(t,e){t.super_=e;var i=function(){};i.prototype=e.prototype,t.prototype=new i,t.prototype.constructor=t}function s(t,e,i){if(s.isBN(t))return t;this.negative=0,this.words=null,this.length=0,this.red=null,null!==t&&("le"!==e&&"be"!==e||(i=e,e=10),this._init(t||0,e||10,i||"be"))}var o;"object"==typeof t?t.exports=s:e.BN=s,s.BN=s,s.wordSize=26;try{o="undefined"!=typeof window&&void 0!==window.Buffer?window.Buffer:r("lEqQD").Buffer}catch(t){}function a(t,e){var i=t.charCodeAt(e);return i>=65&&i<=70?i-55:i>=97&&i<=102?i-87:i-48&15}function h(t,e,i){var n=a(t,i);return i-1>=e&&(n|=a(t,i-1)<<4),n}function l(t,e,i,n){for(var r=0,s=Math.min(t.length,i),o=e;o<s;o++){var a=t.charCodeAt(o)-48;r*=n,r+=a>=49?a-49+10:a>=17?a-17+10:a}return r}s.isBN=function(t){return t instanceof s||null!==t&&"object"==typeof t&&t.constructor.wordSize===s.wordSize&&Array.isArray(t.words)},s.max=function(t,e){return t.cmp(e)>0?t:e},s.min=function(t,e){return t.cmp(e)<0?t:e},s.prototype._init=function(t,e,n){if("number"==typeof t)return this._initNumber(t,e,n);if("object"==typeof t)return this._initArray(t,e,n);"hex"===e&&(e=16),i(e===(0|e)&&e>=2&&e<=36);var r=0;"-"===(t=t.toString().replace(/\s+/g,""))[0]&&(r++,this.negative=1),r<t.length&&(16===e?this._parseHex(t,r,n):(this._parseBase(t,e,r),"le"===n&&this._initArray(this.toArray(),e,n)))},s.prototype._initNumber=function(t,e,n){t<0&&(this.negative=1,t=-t),t<67108864?(this.words=[67108863&t],this.length=1):t<4503599627370496?(this.words=[67108863&t,t/67108864&67108863],this.length=2):(i(t<9007199254740992),this.words=[67108863&t,t/67108864&67108863,1],this.length=3),"le"===n&&this._initArray(this.toArray(),e,n)},s.prototype._initArray=function(t,e,n){if(i("number"==typeof t.length),t.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(t.length/3),this.words=new Array(this.length);for(var r=0;r<this.length;r++)this.words[r]=0;var s,o,a=0;if("be"===n)for(r=t.length-1,s=0;r>=0;r-=3)o=t[r]|t[r-1]<<8|t[r-2]<<16,this.words[s]|=o<<a&67108863,this.words[s+1]=o>>>26-a&67108863,(a+=24)>=26&&(a-=26,s++);else if("le"===n)for(r=0,s=0;r<t.length;r+=3)o=t[r]|t[r+1]<<8|t[r+2]<<16,this.words[s]|=o<<a&67108863,this.words[s+1]=o>>>26-a&67108863,(a+=24)>=26&&(a-=26,s++);return this.strip()},s.prototype._parseHex=function(t,e,i){this.length=Math.ceil((t.length-e)/6),this.words=new Array(this.length);for(var n=0;n<this.length;n++)this.words[n]=0;var r,s=0,o=0;if("be"===i)for(n=t.length-1;n>=e;n-=2)r=h(t,e,n)<<s,this.words[o]|=67108863&r,s>=18?(s-=18,o+=1,this.words[o]|=r>>>26):s+=8;else for(n=(t.length-e)%2==0?e+1:e;n<t.length;n+=2)r=h(t,e,n)<<s,this.words[o]|=67108863&r,s>=18?(s-=18,o+=1,this.words[o]|=r>>>26):s+=8;this.strip()},s.prototype._parseBase=function(t,e,i){this.words=[0],this.length=1;for(var n=0,r=1;r<=67108863;r*=e)n++;n--,r=r/e|0;for(var s=t.length-i,o=s%n,a=Math.min(s,s-o)+i,h=0,u=i;u<a;u+=n)h=l(t,u,u+n,e),this.imuln(r),this.words[0]+h<67108864?this.words[0]+=h:this._iaddn(h);if(0!==o){var c=1;for(h=l(t,u,t.length,e),u=0;u<o;u++)c*=e;this.imuln(c),this.words[0]+h<67108864?this.words[0]+=h:this._iaddn(h)}this.strip()},s.prototype.copy=function(t){t.words=new Array(this.length);for(var e=0;e<this.length;e++)t.words[e]=this.words[e];t.length=this.length,t.negative=this.negative,t.red=this.red},s.prototype.clone=function(){var t=new s(null);return this.copy(t),t},s.prototype._expand=function(t){for(;this.length<t;)this.words[this.length++]=0;return this},s.prototype.strip=function(){for(;this.length>1&&0===this.words[this.length-1];)this.length--;return this._normSign()},s.prototype._normSign=function(){return 1===this.length&&0===this.words[0]&&(this.negative=0),this},s.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var u=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],c=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],d=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];function f(t,e,i){i.negative=e.negative^t.negative;var n=t.length+e.length|0;i.length=n,n=n-1|0;var r=0|t.words[0],s=0|e.words[0],o=r*s,a=67108863&o,h=o/67108864|0;i.words[0]=a;for(var l=1;l<n;l++){for(var u=h>>>26,c=67108863&h,d=Math.min(l,e.length-1),f=Math.max(0,l-t.length+1);f<=d;f++){var p=l-f|0;u+=(o=(r=0|t.words[p])*(s=0|e.words[f])+c)/67108864|0,c=67108863&o}i.words[l]=0|c,h=0|u}return 0!==h?i.words[l]=0|h:i.length--,i.strip()}s.prototype.toString=function(t,e){var n;if(e=0|e||1,16===(t=t||10)||"hex"===t){n="";for(var r=0,s=0,o=0;o<this.length;o++){var a=this.words[o],h=(16777215&(a<<r|s)).toString(16);n=0!==(s=a>>>24-r&16777215)||o!==this.length-1?u[6-h.length]+h+n:h+n,(r+=2)>=26&&(r-=26,o--)}for(0!==s&&(n=s.toString(16)+n);n.length%e!=0;)n="0"+n;return 0!==this.negative&&(n="-"+n),n}if(t===(0|t)&&t>=2&&t<=36){var l=c[t],f=d[t];n="";var p=this.clone();for(p.negative=0;!p.isZero();){var m=p.modn(f).toString(t);n=(p=p.idivn(f)).isZero()?m+n:u[l-m.length]+m+n}for(this.isZero()&&(n="0"+n);n.length%e!=0;)n="0"+n;return 0!==this.negative&&(n="-"+n),n}i(!1,"Base should be between 2 and 36")},s.prototype.toNumber=function(){var t=this.words[0];return 2===this.length?t+=67108864*this.words[1]:3===this.length&&1===this.words[2]?t+=4503599627370496+67108864*this.words[1]:this.length>2&&i(!1,"Number can only safely store up to 53 bits"),0!==this.negative?-t:t},s.prototype.toJSON=function(){return this.toString(16)},s.prototype.toBuffer=function(t,e){return i(void 0!==o),this.toArrayLike(o,t,e)},s.prototype.toArray=function(t,e){return this.toArrayLike(Array,t,e)},s.prototype.toArrayLike=function(t,e,n){var r=this.byteLength(),s=n||Math.max(1,r);i(r<=s,"byte array longer than desired length"),i(s>0,"Requested array length <= 0"),this.strip();var o,a,h="le"===e,l=new t(s),u=this.clone();if(h){for(a=0;!u.isZero();a++)o=u.andln(255),u.iushrn(8),l[a]=o;for(;a<s;a++)l[a]=0}else{for(a=0;a<s-r;a++)l[a]=0;for(a=0;!u.isZero();a++)o=u.andln(255),u.iushrn(8),l[s-a-1]=o}return l},Math.clz32?s.prototype._countBits=function(t){return 32-Math.clz32(t)}:s.prototype._countBits=function(t){var e=t,i=0;return e>=4096&&(i+=13,e>>>=13),e>=64&&(i+=7,e>>>=7),e>=8&&(i+=4,e>>>=4),e>=2&&(i+=2,e>>>=2),i+e},s.prototype._zeroBits=function(t){if(0===t)return 26;var e=t,i=0;return 0==(8191&e)&&(i+=13,e>>>=13),0==(127&e)&&(i+=7,e>>>=7),0==(15&e)&&(i+=4,e>>>=4),0==(3&e)&&(i+=2,e>>>=2),0==(1&e)&&i++,i},s.prototype.bitLength=function(){var t=this.words[this.length-1],e=this._countBits(t);return 26*(this.length-1)+e},s.prototype.zeroBits=function(){if(this.isZero())return 0;for(var t=0,e=0;e<this.length;e++){var i=this._zeroBits(this.words[e]);if(t+=i,26!==i)break}return t},s.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},s.prototype.toTwos=function(t){return 0!==this.negative?this.abs().inotn(t).iaddn(1):this.clone()},s.prototype.fromTwos=function(t){return this.testn(t-1)?this.notn(t).iaddn(1).ineg():this.clone()},s.prototype.isNeg=function(){return 0!==this.negative},s.prototype.neg=function(){return this.clone().ineg()},s.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},s.prototype.iuor=function(t){for(;this.length<t.length;)this.words[this.length++]=0;for(var e=0;e<t.length;e++)this.words[e]=this.words[e]|t.words[e];return this.strip()},s.prototype.ior=function(t){return i(0==(this.negative|t.negative)),this.iuor(t)},s.prototype.or=function(t){return this.length>t.length?this.clone().ior(t):t.clone().ior(this)},s.prototype.uor=function(t){return this.length>t.length?this.clone().iuor(t):t.clone().iuor(this)},s.prototype.iuand=function(t){var e;e=this.length>t.length?t:this;for(var i=0;i<e.length;i++)this.words[i]=this.words[i]&t.words[i];return this.length=e.length,this.strip()},s.prototype.iand=function(t){return i(0==(this.negative|t.negative)),this.iuand(t)},s.prototype.and=function(t){return this.length>t.length?this.clone().iand(t):t.clone().iand(this)},s.prototype.uand=function(t){return this.length>t.length?this.clone().iuand(t):t.clone().iuand(this)},s.prototype.iuxor=function(t){var e,i;this.length>t.length?(e=this,i=t):(e=t,i=this);for(var n=0;n<i.length;n++)this.words[n]=e.words[n]^i.words[n];if(this!==e)for(;n<e.length;n++)this.words[n]=e.words[n];return this.length=e.length,this.strip()},s.prototype.ixor=function(t){return i(0==(this.negative|t.negative)),this.iuxor(t)},s.prototype.xor=function(t){return this.length>t.length?this.clone().ixor(t):t.clone().ixor(this)},s.prototype.uxor=function(t){return this.length>t.length?this.clone().iuxor(t):t.clone().iuxor(this)},s.prototype.inotn=function(t){i("number"==typeof t&&t>=0);var e=0|Math.ceil(t/26),n=t%26;this._expand(e),n>0&&e--;for(var r=0;r<e;r++)this.words[r]=67108863&~this.words[r];return n>0&&(this.words[r]=~this.words[r]&67108863>>26-n),this.strip()},s.prototype.notn=function(t){return this.clone().inotn(t)},s.prototype.setn=function(t,e){i("number"==typeof t&&t>=0);var n=t/26|0,r=t%26;return this._expand(n+1),this.words[n]=e?this.words[n]|1<<r:this.words[n]&~(1<<r),this.strip()},s.prototype.iadd=function(t){var e,i,n;if(0!==this.negative&&0===t.negative)return this.negative=0,e=this.isub(t),this.negative^=1,this._normSign();if(0===this.negative&&0!==t.negative)return t.negative=0,e=this.isub(t),t.negative=1,e._normSign();this.length>t.length?(i=this,n=t):(i=t,n=this);for(var r=0,s=0;s<n.length;s++)e=(0|i.words[s])+(0|n.words[s])+r,this.words[s]=67108863&e,r=e>>>26;for(;0!==r&&s<i.length;s++)e=(0|i.words[s])+r,this.words[s]=67108863&e,r=e>>>26;if(this.length=i.length,0!==r)this.words[this.length]=r,this.length++;else if(i!==this)for(;s<i.length;s++)this.words[s]=i.words[s];return this},s.prototype.add=function(t){var e;return 0!==t.negative&&0===this.negative?(t.negative=0,e=this.sub(t),t.negative^=1,e):0===t.negative&&0!==this.negative?(this.negative=0,e=t.sub(this),this.negative=1,e):this.length>t.length?this.clone().iadd(t):t.clone().iadd(this)},s.prototype.isub=function(t){if(0!==t.negative){t.negative=0;var e=this.iadd(t);return t.negative=1,e._normSign()}if(0!==this.negative)return this.negative=0,this.iadd(t),this.negative=1,this._normSign();var i,n,r=this.cmp(t);if(0===r)return this.negative=0,this.length=1,this.words[0]=0,this;r>0?(i=this,n=t):(i=t,n=this);for(var s=0,o=0;o<n.length;o++)s=(e=(0|i.words[o])-(0|n.words[o])+s)>>26,this.words[o]=67108863&e;for(;0!==s&&o<i.length;o++)s=(e=(0|i.words[o])+s)>>26,this.words[o]=67108863&e;if(0===s&&o<i.length&&i!==this)for(;o<i.length;o++)this.words[o]=i.words[o];return this.length=Math.max(this.length,o),i!==this&&(this.negative=1),this.strip()},s.prototype.sub=function(t){return this.clone().isub(t)};var p=function(t,e,i){var n,r,s,o=t.words,a=e.words,h=i.words,l=0,u=0|o[0],c=8191&u,d=u>>>13,f=0|o[1],p=8191&f,m=f>>>13,g=0|o[2],v=8191&g,y=g>>>13,b=0|o[3],w=8191&b,_=b>>>13,M=0|o[4],x=8191&M,k=M>>>13,A=0|o[5],E=8191&A,S=A>>>13,T=0|o[6],I=8191&T,q=T>>>13,C=0|o[7],R=8191&C,D=C>>>13,L=0|o[8],N=8191&L,O=L>>>13,P=0|o[9],B=8191&P,U=P>>>13,F=0|a[0],j=8191&F,z=F>>>13,V=0|a[1],H=8191&V,W=V>>>13,K=0|a[2],G=8191&K,Q=K>>>13,Y=0|a[3],Z=8191&Y,$=Y>>>13,X=0|a[4],J=8191&X,tt=X>>>13,et=0|a[5],it=8191&et,nt=et>>>13,rt=0|a[6],st=8191&rt,ot=rt>>>13,at=0|a[7],ht=8191&at,lt=at>>>13,ut=0|a[8],ct=8191&ut,dt=ut>>>13,ft=0|a[9],pt=8191&ft,mt=ft>>>13;i.negative=t.negative^e.negative,i.length=19;var gt=(l+(n=Math.imul(c,j))|0)+((8191&(r=(r=Math.imul(c,z))+Math.imul(d,j)|0))<<13)|0;l=((s=Math.imul(d,z))+(r>>>13)|0)+(gt>>>26)|0,gt&=67108863,n=Math.imul(p,j),r=(r=Math.imul(p,z))+Math.imul(m,j)|0,s=Math.imul(m,z);var vt=(l+(n=n+Math.imul(c,H)|0)|0)+((8191&(r=(r=r+Math.imul(c,W)|0)+Math.imul(d,H)|0))<<13)|0;l=((s=s+Math.imul(d,W)|0)+(r>>>13)|0)+(vt>>>26)|0,vt&=67108863,n=Math.imul(v,j),r=(r=Math.imul(v,z))+Math.imul(y,j)|0,s=Math.imul(y,z),n=n+Math.imul(p,H)|0,r=(r=r+Math.imul(p,W)|0)+Math.imul(m,H)|0,s=s+Math.imul(m,W)|0;var yt=(l+(n=n+Math.imul(c,G)|0)|0)+((8191&(r=(r=r+Math.imul(c,Q)|0)+Math.imul(d,G)|0))<<13)|0;l=((s=s+Math.imul(d,Q)|0)+(r>>>13)|0)+(yt>>>26)|0,yt&=67108863,n=Math.imul(w,j),r=(r=Math.imul(w,z))+Math.imul(_,j)|0,s=Math.imul(_,z),n=n+Math.imul(v,H)|0,r=(r=r+Math.imul(v,W)|0)+Math.imul(y,H)|0,s=s+Math.imul(y,W)|0,n=n+Math.imul(p,G)|0,r=(r=r+Math.imul(p,Q)|0)+Math.imul(m,G)|0,s=s+Math.imul(m,Q)|0;var bt=(l+(n=n+Math.imul(c,Z)|0)|0)+((8191&(r=(r=r+Math.imul(c,$)|0)+Math.imul(d,Z)|0))<<13)|0;l=((s=s+Math.imul(d,$)|0)+(r>>>13)|0)+(bt>>>26)|0,bt&=67108863,n=Math.imul(x,j),r=(r=Math.imul(x,z))+Math.imul(k,j)|0,s=Math.imul(k,z),n=n+Math.imul(w,H)|0,r=(r=r+Math.imul(w,W)|0)+Math.imul(_,H)|0,s=s+Math.imul(_,W)|0,n=n+Math.imul(v,G)|0,r=(r=r+Math.imul(v,Q)|0)+Math.imul(y,G)|0,s=s+Math.imul(y,Q)|0,n=n+Math.imul(p,Z)|0,r=(r=r+Math.imul(p,$)|0)+Math.imul(m,Z)|0,s=s+Math.imul(m,$)|0;var wt=(l+(n=n+Math.imul(c,J)|0)|0)+((8191&(r=(r=r+Math.imul(c,tt)|0)+Math.imul(d,J)|0))<<13)|0;l=((s=s+Math.imul(d,tt)|0)+(r>>>13)|0)+(wt>>>26)|0,wt&=67108863,n=Math.imul(E,j),r=(r=Math.imul(E,z))+Math.imul(S,j)|0,s=Math.imul(S,z),n=n+Math.imul(x,H)|0,r=(r=r+Math.imul(x,W)|0)+Math.imul(k,H)|0,s=s+Math.imul(k,W)|0,n=n+Math.imul(w,G)|0,r=(r=r+Math.imul(w,Q)|0)+Math.imul(_,G)|0,s=s+Math.imul(_,Q)|0,n=n+Math.imul(v,Z)|0,r=(r=r+Math.imul(v,$)|0)+Math.imul(y,Z)|0,s=s+Math.imul(y,$)|0,n=n+Math.imul(p,J)|0,r=(r=r+Math.imul(p,tt)|0)+Math.imul(m,J)|0,s=s+Math.imul(m,tt)|0;var _t=(l+(n=n+Math.imul(c,it)|0)|0)+((8191&(r=(r=r+Math.imul(c,nt)|0)+Math.imul(d,it)|0))<<13)|0;l=((s=s+Math.imul(d,nt)|0)+(r>>>13)|0)+(_t>>>26)|0,_t&=67108863,n=Math.imul(I,j),r=(r=Math.imul(I,z))+Math.imul(q,j)|0,s=Math.imul(q,z),n=n+Math.imul(E,H)|0,r=(r=r+Math.imul(E,W)|0)+Math.imul(S,H)|0,s=s+Math.imul(S,W)|0,n=n+Math.imul(x,G)|0,r=(r=r+Math.imul(x,Q)|0)+Math.imul(k,G)|0,s=s+Math.imul(k,Q)|0,n=n+Math.imul(w,Z)|0,r=(r=r+Math.imul(w,$)|0)+Math.imul(_,Z)|0,s=s+Math.imul(_,$)|0,n=n+Math.imul(v,J)|0,r=(r=r+Math.imul(v,tt)|0)+Math.imul(y,J)|0,s=s+Math.imul(y,tt)|0,n=n+Math.imul(p,it)|0,r=(r=r+Math.imul(p,nt)|0)+Math.imul(m,it)|0,s=s+Math.imul(m,nt)|0;var Mt=(l+(n=n+Math.imul(c,st)|0)|0)+((8191&(r=(r=r+Math.imul(c,ot)|0)+Math.imul(d,st)|0))<<13)|0;l=((s=s+Math.imul(d,ot)|0)+(r>>>13)|0)+(Mt>>>26)|0,Mt&=67108863,n=Math.imul(R,j),r=(r=Math.imul(R,z))+Math.imul(D,j)|0,s=Math.imul(D,z),n=n+Math.imul(I,H)|0,r=(r=r+Math.imul(I,W)|0)+Math.imul(q,H)|0,s=s+Math.imul(q,W)|0,n=n+Math.imul(E,G)|0,r=(r=r+Math.imul(E,Q)|0)+Math.imul(S,G)|0,s=s+Math.imul(S,Q)|0,n=n+Math.imul(x,Z)|0,r=(r=r+Math.imul(x,$)|0)+Math.imul(k,Z)|0,s=s+Math.imul(k,$)|0,n=n+Math.imul(w,J)|0,r=(r=r+Math.imul(w,tt)|0)+Math.imul(_,J)|0,s=s+Math.imul(_,tt)|0,n=n+Math.imul(v,it)|0,r=(r=r+Math.imul(v,nt)|0)+Math.imul(y,it)|0,s=s+Math.imul(y,nt)|0,n=n+Math.imul(p,st)|0,r=(r=r+Math.imul(p,ot)|0)+Math.imul(m,st)|0,s=s+Math.imul(m,ot)|0;var xt=(l+(n=n+Math.imul(c,ht)|0)|0)+((8191&(r=(r=r+Math.imul(c,lt)|0)+Math.imul(d,ht)|0))<<13)|0;l=((s=s+Math.imul(d,lt)|0)+(r>>>13)|0)+(xt>>>26)|0,xt&=67108863,n=Math.imul(N,j),r=(r=Math.imul(N,z))+Math.imul(O,j)|0,s=Math.imul(O,z),n=n+Math.imul(R,H)|0,r=(r=r+Math.imul(R,W)|0)+Math.imul(D,H)|0,s=s+Math.imul(D,W)|0,n=n+Math.imul(I,G)|0,r=(r=r+Math.imul(I,Q)|0)+Math.imul(q,G)|0,s=s+Math.imul(q,Q)|0,n=n+Math.imul(E,Z)|0,r=(r=r+Math.imul(E,$)|0)+Math.imul(S,Z)|0,s=s+Math.imul(S,$)|0,n=n+Math.imul(x,J)|0,r=(r=r+Math.imul(x,tt)|0)+Math.imul(k,J)|0,s=s+Math.imul(k,tt)|0,n=n+Math.imul(w,it)|0,r=(r=r+Math.imul(w,nt)|0)+Math.imul(_,it)|0,s=s+Math.imul(_,nt)|0,n=n+Math.imul(v,st)|0,r=(r=r+Math.imul(v,ot)|0)+Math.imul(y,st)|0,s=s+Math.imul(y,ot)|0,n=n+Math.imul(p,ht)|0,r=(r=r+Math.imul(p,lt)|0)+Math.imul(m,ht)|0,s=s+Math.imul(m,lt)|0;var kt=(l+(n=n+Math.imul(c,ct)|0)|0)+((8191&(r=(r=r+Math.imul(c,dt)|0)+Math.imul(d,ct)|0))<<13)|0;l=((s=s+Math.imul(d,dt)|0)+(r>>>13)|0)+(kt>>>26)|0,kt&=67108863,n=Math.imul(B,j),r=(r=Math.imul(B,z))+Math.imul(U,j)|0,s=Math.imul(U,z),n=n+Math.imul(N,H)|0,r=(r=r+Math.imul(N,W)|0)+Math.imul(O,H)|0,s=s+Math.imul(O,W)|0,n=n+Math.imul(R,G)|0,r=(r=r+Math.imul(R,Q)|0)+Math.imul(D,G)|0,s=s+Math.imul(D,Q)|0,n=n+Math.imul(I,Z)|0,r=(r=r+Math.imul(I,$)|0)+Math.imul(q,Z)|0,s=s+Math.imul(q,$)|0,n=n+Math.imul(E,J)|0,r=(r=r+Math.imul(E,tt)|0)+Math.imul(S,J)|0,s=s+Math.imul(S,tt)|0,n=n+Math.imul(x,it)|0,r=(r=r+Math.imul(x,nt)|0)+Math.imul(k,it)|0,s=s+Math.imul(k,nt)|0,n=n+Math.imul(w,st)|0,r=(r=r+Math.imul(w,ot)|0)+Math.imul(_,st)|0,s=s+Math.imul(_,ot)|0,n=n+Math.imul(v,ht)|0,r=(r=r+Math.imul(v,lt)|0)+Math.imul(y,ht)|0,s=s+Math.imul(y,lt)|0,n=n+Math.imul(p,ct)|0,r=(r=r+Math.imul(p,dt)|0)+Math.imul(m,ct)|0,s=s+Math.imul(m,dt)|0;var At=(l+(n=n+Math.imul(c,pt)|0)|0)+((8191&(r=(r=r+Math.imul(c,mt)|0)+Math.imul(d,pt)|0))<<13)|0;l=((s=s+Math.imul(d,mt)|0)+(r>>>13)|0)+(At>>>26)|0,At&=67108863,n=Math.imul(B,H),r=(r=Math.imul(B,W))+Math.imul(U,H)|0,s=Math.imul(U,W),n=n+Math.imul(N,G)|0,r=(r=r+Math.imul(N,Q)|0)+Math.imul(O,G)|0,s=s+Math.imul(O,Q)|0,n=n+Math.imul(R,Z)|0,r=(r=r+Math.imul(R,$)|0)+Math.imul(D,Z)|0,s=s+Math.imul(D,$)|0,n=n+Math.imul(I,J)|0,r=(r=r+Math.imul(I,tt)|0)+Math.imul(q,J)|0,s=s+Math.imul(q,tt)|0,n=n+Math.imul(E,it)|0,r=(r=r+Math.imul(E,nt)|0)+Math.imul(S,it)|0,s=s+Math.imul(S,nt)|0,n=n+Math.imul(x,st)|0,r=(r=r+Math.imul(x,ot)|0)+Math.imul(k,st)|0,s=s+Math.imul(k,ot)|0,n=n+Math.imul(w,ht)|0,r=(r=r+Math.imul(w,lt)|0)+Math.imul(_,ht)|0,s=s+Math.imul(_,lt)|0,n=n+Math.imul(v,ct)|0,r=(r=r+Math.imul(v,dt)|0)+Math.imul(y,ct)|0,s=s+Math.imul(y,dt)|0;var Et=(l+(n=n+Math.imul(p,pt)|0)|0)+((8191&(r=(r=r+Math.imul(p,mt)|0)+Math.imul(m,pt)|0))<<13)|0;l=((s=s+Math.imul(m,mt)|0)+(r>>>13)|0)+(Et>>>26)|0,Et&=67108863,n=Math.imul(B,G),r=(r=Math.imul(B,Q))+Math.imul(U,G)|0,s=Math.imul(U,Q),n=n+Math.imul(N,Z)|0,r=(r=r+Math.imul(N,$)|0)+Math.imul(O,Z)|0,s=s+Math.imul(O,$)|0,n=n+Math.imul(R,J)|0,r=(r=r+Math.imul(R,tt)|0)+Math.imul(D,J)|0,s=s+Math.imul(D,tt)|0,n=n+Math.imul(I,it)|0,r=(r=r+Math.imul(I,nt)|0)+Math.imul(q,it)|0,s=s+Math.imul(q,nt)|0,n=n+Math.imul(E,st)|0,r=(r=r+Math.imul(E,ot)|0)+Math.imul(S,st)|0,s=s+Math.imul(S,ot)|0,n=n+Math.imul(x,ht)|0,r=(r=r+Math.imul(x,lt)|0)+Math.imul(k,ht)|0,s=s+Math.imul(k,lt)|0,n=n+Math.imul(w,ct)|0,r=(r=r+Math.imul(w,dt)|0)+Math.imul(_,ct)|0,s=s+Math.imul(_,dt)|0;var St=(l+(n=n+Math.imul(v,pt)|0)|0)+((8191&(r=(r=r+Math.imul(v,mt)|0)+Math.imul(y,pt)|0))<<13)|0;l=((s=s+Math.imul(y,mt)|0)+(r>>>13)|0)+(St>>>26)|0,St&=67108863,n=Math.imul(B,Z),r=(r=Math.imul(B,$))+Math.imul(U,Z)|0,s=Math.imul(U,$),n=n+Math.imul(N,J)|0,r=(r=r+Math.imul(N,tt)|0)+Math.imul(O,J)|0,s=s+Math.imul(O,tt)|0,n=n+Math.imul(R,it)|0,r=(r=r+Math.imul(R,nt)|0)+Math.imul(D,it)|0,s=s+Math.imul(D,nt)|0,n=n+Math.imul(I,st)|0,r=(r=r+Math.imul(I,ot)|0)+Math.imul(q,st)|0,s=s+Math.imul(q,ot)|0,n=n+Math.imul(E,ht)|0,r=(r=r+Math.imul(E,lt)|0)+Math.imul(S,ht)|0,s=s+Math.imul(S,lt)|0,n=n+Math.imul(x,ct)|0,r=(r=r+Math.imul(x,dt)|0)+Math.imul(k,ct)|0,s=s+Math.imul(k,dt)|0;var Tt=(l+(n=n+Math.imul(w,pt)|0)|0)+((8191&(r=(r=r+Math.imul(w,mt)|0)+Math.imul(_,pt)|0))<<13)|0;l=((s=s+Math.imul(_,mt)|0)+(r>>>13)|0)+(Tt>>>26)|0,Tt&=67108863,n=Math.imul(B,J),r=(r=Math.imul(B,tt))+Math.imul(U,J)|0,s=Math.imul(U,tt),n=n+Math.imul(N,it)|0,r=(r=r+Math.imul(N,nt)|0)+Math.imul(O,it)|0,s=s+Math.imul(O,nt)|0,n=n+Math.imul(R,st)|0,r=(r=r+Math.imul(R,ot)|0)+Math.imul(D,st)|0,s=s+Math.imul(D,ot)|0,n=n+Math.imul(I,ht)|0,r=(r=r+Math.imul(I,lt)|0)+Math.imul(q,ht)|0,s=s+Math.imul(q,lt)|0,n=n+Math.imul(E,ct)|0,r=(r=r+Math.imul(E,dt)|0)+Math.imul(S,ct)|0,s=s+Math.imul(S,dt)|0;var It=(l+(n=n+Math.imul(x,pt)|0)|0)+((8191&(r=(r=r+Math.imul(x,mt)|0)+Math.imul(k,pt)|0))<<13)|0;l=((s=s+Math.imul(k,mt)|0)+(r>>>13)|0)+(It>>>26)|0,It&=67108863,n=Math.imul(B,it),r=(r=Math.imul(B,nt))+Math.imul(U,it)|0,s=Math.imul(U,nt),n=n+Math.imul(N,st)|0,r=(r=r+Math.imul(N,ot)|0)+Math.imul(O,st)|0,s=s+Math.imul(O,ot)|0,n=n+Math.imul(R,ht)|0,r=(r=r+Math.imul(R,lt)|0)+Math.imul(D,ht)|0,s=s+Math.imul(D,lt)|0,n=n+Math.imul(I,ct)|0,r=(r=r+Math.imul(I,dt)|0)+Math.imul(q,ct)|0,s=s+Math.imul(q,dt)|0;var qt=(l+(n=n+Math.imul(E,pt)|0)|0)+((8191&(r=(r=r+Math.imul(E,mt)|0)+Math.imul(S,pt)|0))<<13)|0;l=((s=s+Math.imul(S,mt)|0)+(r>>>13)|0)+(qt>>>26)|0,qt&=67108863,n=Math.imul(B,st),r=(r=Math.imul(B,ot))+Math.imul(U,st)|0,s=Math.imul(U,ot),n=n+Math.imul(N,ht)|0,r=(r=r+Math.imul(N,lt)|0)+Math.imul(O,ht)|0,s=s+Math.imul(O,lt)|0,n=n+Math.imul(R,ct)|0,r=(r=r+Math.imul(R,dt)|0)+Math.imul(D,ct)|0,s=s+Math.imul(D,dt)|0;var Ct=(l+(n=n+Math.imul(I,pt)|0)|0)+((8191&(r=(r=r+Math.imul(I,mt)|0)+Math.imul(q,pt)|0))<<13)|0;l=((s=s+Math.imul(q,mt)|0)+(r>>>13)|0)+(Ct>>>26)|0,Ct&=67108863,n=Math.imul(B,ht),r=(r=Math.imul(B,lt))+Math.imul(U,ht)|0,s=Math.imul(U,lt),n=n+Math.imul(N,ct)|0,r=(r=r+Math.imul(N,dt)|0)+Math.imul(O,ct)|0,s=s+Math.imul(O,dt)|0;var Rt=(l+(n=n+Math.imul(R,pt)|0)|0)+((8191&(r=(r=r+Math.imul(R,mt)|0)+Math.imul(D,pt)|0))<<13)|0;l=((s=s+Math.imul(D,mt)|0)+(r>>>13)|0)+(Rt>>>26)|0,Rt&=67108863,n=Math.imul(B,ct),r=(r=Math.imul(B,dt))+Math.imul(U,ct)|0,s=Math.imul(U,dt);var Dt=(l+(n=n+Math.imul(N,pt)|0)|0)+((8191&(r=(r=r+Math.imul(N,mt)|0)+Math.imul(O,pt)|0))<<13)|0;l=((s=s+Math.imul(O,mt)|0)+(r>>>13)|0)+(Dt>>>26)|0,Dt&=67108863;var Lt=(l+(n=Math.imul(B,pt))|0)+((8191&(r=(r=Math.imul(B,mt))+Math.imul(U,pt)|0))<<13)|0;return l=((s=Math.imul(U,mt))+(r>>>13)|0)+(Lt>>>26)|0,Lt&=67108863,h[0]=gt,h[1]=vt,h[2]=yt,h[3]=bt,h[4]=wt,h[5]=_t,h[6]=Mt,h[7]=xt,h[8]=kt,h[9]=At,h[10]=Et,h[11]=St,h[12]=Tt,h[13]=It,h[14]=qt,h[15]=Ct,h[16]=Rt,h[17]=Dt,h[18]=Lt,0!==l&&(h[19]=l,i.length++),i};function m(t,e,i){return(new g).mulp(t,e,i)}function g(t,e){this.x=t,this.y=e}Math.imul||(p=f),s.prototype.mulTo=function(t,e){var i,n=this.length+t.length;return i=10===this.length&&10===t.length?p(this,t,e):n<63?f(this,t,e):n<1024?function(t,e,i){i.negative=e.negative^t.negative,i.length=t.length+e.length;for(var n=0,r=0,s=0;s<i.length-1;s++){var o=r;r=0;for(var a=67108863&n,h=Math.min(s,e.length-1),l=Math.max(0,s-t.length+1);l<=h;l++){var u=s-l,c=(0|t.words[u])*(0|e.words[l]),d=67108863&c;a=67108863&(d=d+a|0),r+=(o=(o=o+(c/67108864|0)|0)+(d>>>26)|0)>>>26,o&=67108863}i.words[s]=a,n=o,o=r}return 0!==n?i.words[s]=n:i.length--,i.strip()}(this,t,e):m(this,t,e),i},g.prototype.makeRBT=function(t){for(var e=new Array(t),i=s.prototype._countBits(t)-1,n=0;n<t;n++)e[n]=this.revBin(n,i,t);return e},g.prototype.revBin=function(t,e,i){if(0===t||t===i-1)return t;for(var n=0,r=0;r<e;r++)n|=(1&t)<<e-r-1,t>>=1;return n},g.prototype.permute=function(t,e,i,n,r,s){for(var o=0;o<s;o++)n[o]=e[t[o]],r[o]=i[t[o]]},g.prototype.transform=function(t,e,i,n,r,s){this.permute(s,t,e,i,n,r);for(var o=1;o<r;o<<=1)for(var a=o<<1,h=Math.cos(2*Math.PI/a),l=Math.sin(2*Math.PI/a),u=0;u<r;u+=a)for(var c=h,d=l,f=0;f<o;f++){var p=i[u+f],m=n[u+f],g=i[u+f+o],v=n[u+f+o],y=c*g-d*v;v=c*v+d*g,g=y,i[u+f]=p+g,n[u+f]=m+v,i[u+f+o]=p-g,n[u+f+o]=m-v,f!==a&&(y=h*c-l*d,d=h*d+l*c,c=y)}},g.prototype.guessLen13b=function(t,e){var i=1|Math.max(e,t),n=1&i,r=0;for(i=i/2|0;i;i>>>=1)r++;return 1<<r+1+n},g.prototype.conjugate=function(t,e,i){if(!(i<=1))for(var n=0;n<i/2;n++){var r=t[n];t[n]=t[i-n-1],t[i-n-1]=r,r=e[n],e[n]=-e[i-n-1],e[i-n-1]=-r}},g.prototype.normalize13b=function(t,e){for(var i=0,n=0;n<e/2;n++){var r=8192*Math.round(t[2*n+1]/e)+Math.round(t[2*n]/e)+i;t[n]=67108863&r,i=r<67108864?0:r/67108864|0}return t},g.prototype.convert13b=function(t,e,n,r){for(var s=0,o=0;o<e;o++)s+=0|t[o],n[2*o]=8191&s,s>>>=13,n[2*o+1]=8191&s,s>>>=13;for(o=2*e;o<r;++o)n[o]=0;i(0===s),i(0==(-8192&s))},g.prototype.stub=function(t){for(var e=new Array(t),i=0;i<t;i++)e[i]=0;return e},g.prototype.mulp=function(t,e,i){var n=2*this.guessLen13b(t.length,e.length),r=this.makeRBT(n),s=this.stub(n),o=new Array(n),a=new Array(n),h=new Array(n),l=new Array(n),u=new Array(n),c=new Array(n),d=i.words;d.length=n,this.convert13b(t.words,t.length,o,n),this.convert13b(e.words,e.length,l,n),this.transform(o,s,a,h,n,r),this.transform(l,s,u,c,n,r);for(var f=0;f<n;f++){var p=a[f]*u[f]-h[f]*c[f];h[f]=a[f]*c[f]+h[f]*u[f],a[f]=p}return this.conjugate(a,h,n),this.transform(a,h,d,s,n,r),this.conjugate(d,s,n),this.normalize13b(d,n),i.negative=t.negative^e.negative,i.length=t.length+e.length,i.strip()},s.prototype.mul=function(t){var e=new s(null);return e.words=new Array(this.length+t.length),this.mulTo(t,e)},s.prototype.mulf=function(t){var e=new s(null);return e.words=new Array(this.length+t.length),m(this,t,e)},s.prototype.imul=function(t){return this.clone().mulTo(t,this)},s.prototype.imuln=function(t){i("number"==typeof t),i(t<67108864);for(var e=0,n=0;n<this.length;n++){var r=(0|this.words[n])*t,s=(67108863&r)+(67108863&e);e>>=26,e+=r/67108864|0,e+=s>>>26,this.words[n]=67108863&s}return 0!==e&&(this.words[n]=e,this.length++),this},s.prototype.muln=function(t){return this.clone().imuln(t)},s.prototype.sqr=function(){return this.mul(this)},s.prototype.isqr=function(){return this.imul(this.clone())},s.prototype.pow=function(t){var e=function(t){for(var e=new Array(t.bitLength()),i=0;i<e.length;i++){var n=i/26|0,r=i%26;e[i]=(t.words[n]&1<<r)>>>r}return e}(t);if(0===e.length)return new s(1);for(var i=this,n=0;n<e.length&&0===e[n];n++,i=i.sqr());if(++n<e.length)for(var r=i.sqr();n<e.length;n++,r=r.sqr())0!==e[n]&&(i=i.mul(r));return i},s.prototype.iushln=function(t){i("number"==typeof t&&t>=0);var e,n=t%26,r=(t-n)/26,s=67108863>>>26-n<<26-n;if(0!==n){var o=0;for(e=0;e<this.length;e++){var a=this.words[e]&s,h=(0|this.words[e])-a<<n;this.words[e]=h|o,o=a>>>26-n}o&&(this.words[e]=o,this.length++)}if(0!==r){for(e=this.length-1;e>=0;e--)this.words[e+r]=this.words[e];for(e=0;e<r;e++)this.words[e]=0;this.length+=r}return this.strip()},s.prototype.ishln=function(t){return i(0===this.negative),this.iushln(t)},s.prototype.iushrn=function(t,e,n){var r;i("number"==typeof t&&t>=0),r=e?(e-e%26)/26:0;var s=t%26,o=Math.min((t-s)/26,this.length),a=67108863^67108863>>>s<<s,h=n;if(r-=o,r=Math.max(0,r),h){for(var l=0;l<o;l++)h.words[l]=this.words[l];h.length=o}if(0===o);else if(this.length>o)for(this.length-=o,l=0;l<this.length;l++)this.words[l]=this.words[l+o];else this.words[0]=0,this.length=1;var u=0;for(l=this.length-1;l>=0&&(0!==u||l>=r);l--){var c=0|this.words[l];this.words[l]=u<<26-s|c>>>s,u=c&a}return h&&0!==u&&(h.words[h.length++]=u),0===this.length&&(this.words[0]=0,this.length=1),this.strip()},s.prototype.ishrn=function(t,e,n){return i(0===this.negative),this.iushrn(t,e,n)},s.prototype.shln=function(t){return this.clone().ishln(t)},s.prototype.ushln=function(t){return this.clone().iushln(t)},s.prototype.shrn=function(t){return this.clone().ishrn(t)},s.prototype.ushrn=function(t){return this.clone().iushrn(t)},s.prototype.testn=function(t){i("number"==typeof t&&t>=0);var e=t%26,n=(t-e)/26,r=1<<e;return!(this.length<=n)&&!!(this.words[n]&r)},s.prototype.imaskn=function(t){i("number"==typeof t&&t>=0);var e=t%26,n=(t-e)/26;if(i(0===this.negative,"imaskn works only with positive numbers"),this.length<=n)return this;if(0!==e&&n++,this.length=Math.min(n,this.length),0!==e){var r=67108863^67108863>>>e<<e;this.words[this.length-1]&=r}return this.strip()},s.prototype.maskn=function(t){return this.clone().imaskn(t)},s.prototype.iaddn=function(t){return i("number"==typeof t),i(t<67108864),t<0?this.isubn(-t):0!==this.negative?1===this.length&&(0|this.words[0])<t?(this.words[0]=t-(0|this.words[0]),this.negative=0,this):(this.negative=0,this.isubn(t),this.negative=1,this):this._iaddn(t)},s.prototype._iaddn=function(t){this.words[0]+=t;for(var e=0;e<this.length&&this.words[e]>=67108864;e++)this.words[e]-=67108864,e===this.length-1?this.words[e+1]=1:this.words[e+1]++;return this.length=Math.max(this.length,e+1),this},s.prototype.isubn=function(t){if(i("number"==typeof t),i(t<67108864),t<0)return this.iaddn(-t);if(0!==this.negative)return this.negative=0,this.iaddn(t),this.negative=1,this;if(this.words[0]-=t,1===this.length&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var e=0;e<this.length&&this.words[e]<0;e++)this.words[e]+=67108864,this.words[e+1]-=1;return this.strip()},s.prototype.addn=function(t){return this.clone().iaddn(t)},s.prototype.subn=function(t){return this.clone().isubn(t)},s.prototype.iabs=function(){return this.negative=0,this},s.prototype.abs=function(){return this.clone().iabs()},s.prototype._ishlnsubmul=function(t,e,n){var r,s,o=t.length+n;this._expand(o);var a=0;for(r=0;r<t.length;r++){s=(0|this.words[r+n])+a;var h=(0|t.words[r])*e;a=((s-=67108863&h)>>26)-(h/67108864|0),this.words[r+n]=67108863&s}for(;r<this.length-n;r++)a=(s=(0|this.words[r+n])+a)>>26,this.words[r+n]=67108863&s;if(0===a)return this.strip();for(i(-1===a),a=0,r=0;r<this.length;r++)a=(s=-(0|this.words[r])+a)>>26,this.words[r]=67108863&s;return this.negative=1,this.strip()},s.prototype._wordDiv=function(t,e){var i=(this.length,t.length),n=this.clone(),r=t,o=0|r.words[r.length-1];0!==(i=26-this._countBits(o))&&(r=r.ushln(i),n.iushln(i),o=0|r.words[r.length-1]);var a,h=n.length-r.length;if("mod"!==e){(a=new s(null)).length=h+1,a.words=new Array(a.length);for(var l=0;l<a.length;l++)a.words[l]=0}var u=n.clone()._ishlnsubmul(r,1,h);0===u.negative&&(n=u,a&&(a.words[h]=1));for(var c=h-1;c>=0;c--){var d=67108864*(0|n.words[r.length+c])+(0|n.words[r.length+c-1]);for(d=Math.min(d/o|0,67108863),n._ishlnsubmul(r,d,c);0!==n.negative;)d--,n.negative=0,n._ishlnsubmul(r,1,c),n.isZero()||(n.negative^=1);a&&(a.words[c]=d)}return a&&a.strip(),n.strip(),"div"!==e&&0!==i&&n.iushrn(i),{div:a||null,mod:n}},s.prototype.divmod=function(t,e,n){return i(!t.isZero()),this.isZero()?{div:new s(0),mod:new s(0)}:0!==this.negative&&0===t.negative?(a=this.neg().divmod(t,e),"mod"!==e&&(r=a.div.neg()),"div"!==e&&(o=a.mod.neg(),n&&0!==o.negative&&o.iadd(t)),{div:r,mod:o}):0===this.negative&&0!==t.negative?(a=this.divmod(t.neg(),e),"mod"!==e&&(r=a.div.neg()),{div:r,mod:a.mod}):0!=(this.negative&t.negative)?(a=this.neg().divmod(t.neg(),e),"div"!==e&&(o=a.mod.neg(),n&&0!==o.negative&&o.isub(t)),{div:a.div,mod:o}):t.length>this.length||this.cmp(t)<0?{div:new s(0),mod:this}:1===t.length?"div"===e?{div:this.divn(t.words[0]),mod:null}:"mod"===e?{div:null,mod:new s(this.modn(t.words[0]))}:{div:this.divn(t.words[0]),mod:new s(this.modn(t.words[0]))}:this._wordDiv(t,e);var r,o,a},s.prototype.div=function(t){return this.divmod(t,"div",!1).div},s.prototype.mod=function(t){return this.divmod(t,"mod",!1).mod},s.prototype.umod=function(t){return this.divmod(t,"mod",!0).mod},s.prototype.divRound=function(t){var e=this.divmod(t);if(e.mod.isZero())return e.div;var i=0!==e.div.negative?e.mod.isub(t):e.mod,n=t.ushrn(1),r=t.andln(1),s=i.cmp(n);return s<0||1===r&&0===s?e.div:0!==e.div.negative?e.div.isubn(1):e.div.iaddn(1)},s.prototype.modn=function(t){i(t<=67108863);for(var e=67108864%t,n=0,r=this.length-1;r>=0;r--)n=(e*n+(0|this.words[r]))%t;return n},s.prototype.idivn=function(t){i(t<=67108863);for(var e=0,n=this.length-1;n>=0;n--){var r=(0|this.words[n])+67108864*e;this.words[n]=r/t|0,e=r%t}return this.strip()},s.prototype.divn=function(t){return this.clone().idivn(t)},s.prototype.egcd=function(t){i(0===t.negative),i(!t.isZero());var e=this,n=t.clone();e=0!==e.negative?e.umod(t):e.clone();for(var r=new s(1),o=new s(0),a=new s(0),h=new s(1),l=0;e.isEven()&&n.isEven();)e.iushrn(1),n.iushrn(1),++l;for(var u=n.clone(),c=e.clone();!e.isZero();){for(var d=0,f=1;0==(e.words[0]&f)&&d<26;++d,f<<=1);if(d>0)for(e.iushrn(d);d-- >0;)(r.isOdd()||o.isOdd())&&(r.iadd(u),o.isub(c)),r.iushrn(1),o.iushrn(1);for(var p=0,m=1;0==(n.words[0]&m)&&p<26;++p,m<<=1);if(p>0)for(n.iushrn(p);p-- >0;)(a.isOdd()||h.isOdd())&&(a.iadd(u),h.isub(c)),a.iushrn(1),h.iushrn(1);e.cmp(n)>=0?(e.isub(n),r.isub(a),o.isub(h)):(n.isub(e),a.isub(r),h.isub(o))}return{a:a,b:h,gcd:n.iushln(l)}},s.prototype._invmp=function(t){i(0===t.negative),i(!t.isZero());var e=this,n=t.clone();e=0!==e.negative?e.umod(t):e.clone();for(var r,o=new s(1),a=new s(0),h=n.clone();e.cmpn(1)>0&&n.cmpn(1)>0;){for(var l=0,u=1;0==(e.words[0]&u)&&l<26;++l,u<<=1);if(l>0)for(e.iushrn(l);l-- >0;)o.isOdd()&&o.iadd(h),o.iushrn(1);for(var c=0,d=1;0==(n.words[0]&d)&&c<26;++c,d<<=1);if(c>0)for(n.iushrn(c);c-- >0;)a.isOdd()&&a.iadd(h),a.iushrn(1);e.cmp(n)>=0?(e.isub(n),o.isub(a)):(n.isub(e),a.isub(o))}return(r=0===e.cmpn(1)?o:a).cmpn(0)<0&&r.iadd(t),r},s.prototype.gcd=function(t){if(this.isZero())return t.abs();if(t.isZero())return this.abs();var e=this.clone(),i=t.clone();e.negative=0,i.negative=0;for(var n=0;e.isEven()&&i.isEven();n++)e.iushrn(1),i.iushrn(1);for(;;){for(;e.isEven();)e.iushrn(1);for(;i.isEven();)i.iushrn(1);var r=e.cmp(i);if(r<0){var s=e;e=i,i=s}else if(0===r||0===i.cmpn(1))break;e.isub(i)}return i.iushln(n)},s.prototype.invm=function(t){return this.egcd(t).a.umod(t)},s.prototype.isEven=function(){return 0==(1&this.words[0])},s.prototype.isOdd=function(){return 1==(1&this.words[0])},s.prototype.andln=function(t){return this.words[0]&t},s.prototype.bincn=function(t){i("number"==typeof t);var e=t%26,n=(t-e)/26,r=1<<e;if(this.length<=n)return this._expand(n+1),this.words[n]|=r,this;for(var s=r,o=n;0!==s&&o<this.length;o++){var a=0|this.words[o];s=(a+=s)>>>26,a&=67108863,this.words[o]=a}return 0!==s&&(this.words[o]=s,this.length++),this},s.prototype.isZero=function(){return 1===this.length&&0===this.words[0]},s.prototype.cmpn=function(t){var e,n=t<0;if(0!==this.negative&&!n)return-1;if(0===this.negative&&n)return 1;if(this.strip(),this.length>1)e=1;else{n&&(t=-t),i(t<=67108863,"Number is too big");var r=0|this.words[0];e=r===t?0:r<t?-1:1}return 0!==this.negative?0|-e:e},s.prototype.cmp=function(t){if(0!==this.negative&&0===t.negative)return-1;if(0===this.negative&&0!==t.negative)return 1;var e=this.ucmp(t);return 0!==this.negative?0|-e:e},s.prototype.ucmp=function(t){if(this.length>t.length)return 1;if(this.length<t.length)return-1;for(var e=0,i=this.length-1;i>=0;i--){var n=0|this.words[i],r=0|t.words[i];if(n!==r){n<r?e=-1:n>r&&(e=1);break}}return e},s.prototype.gtn=function(t){return 1===this.cmpn(t)},s.prototype.gt=function(t){return 1===this.cmp(t)},s.prototype.gten=function(t){return this.cmpn(t)>=0},s.prototype.gte=function(t){return this.cmp(t)>=0},s.prototype.ltn=function(t){return-1===this.cmpn(t)},s.prototype.lt=function(t){return-1===this.cmp(t)},s.prototype.lten=function(t){return this.cmpn(t)<=0},s.prototype.lte=function(t){return this.cmp(t)<=0},s.prototype.eqn=function(t){return 0===this.cmpn(t)},s.prototype.eq=function(t){return 0===this.cmp(t)},s.red=function(t){return new x(t)},s.prototype.toRed=function(t){return i(!this.red,"Already a number in reduction context"),i(0===this.negative,"red works only with positives"),t.convertTo(this)._forceRed(t)},s.prototype.fromRed=function(){return i(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},s.prototype._forceRed=function(t){return this.red=t,this},s.prototype.forceRed=function(t){return i(!this.red,"Already a number in reduction context"),this._forceRed(t)},s.prototype.redAdd=function(t){return i(this.red,"redAdd works only with red numbers"),this.red.add(this,t)},s.prototype.redIAdd=function(t){return i(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,t)},s.prototype.redSub=function(t){return i(this.red,"redSub works only with red numbers"),this.red.sub(this,t)},s.prototype.redISub=function(t){return i(this.red,"redISub works only with red numbers"),this.red.isub(this,t)},s.prototype.redShl=function(t){return i(this.red,"redShl works only with red numbers"),this.red.shl(this,t)},s.prototype.redMul=function(t){return i(this.red,"redMul works only with red numbers"),this.red._verify2(this,t),this.red.mul(this,t)},s.prototype.redIMul=function(t){return i(this.red,"redMul works only with red numbers"),this.red._verify2(this,t),this.red.imul(this,t)},s.prototype.redSqr=function(){return i(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},s.prototype.redISqr=function(){return i(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},s.prototype.redSqrt=function(){return i(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},s.prototype.redInvm=function(){return i(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},s.prototype.redNeg=function(){return i(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},s.prototype.redPow=function(t){return i(this.red&&!t.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,t)};var v={k256:null,p224:null,p192:null,p25519:null};function y(t,e){this.name=t,this.p=new s(e,16),this.n=this.p.bitLength(),this.k=new s(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}function b(){y.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}function w(){y.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}function _(){y.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}function M(){y.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}function x(t){if("string"==typeof t){var e=s._prime(t);this.m=e.p,this.prime=e}else i(t.gtn(1),"modulus must be greater than 1"),this.m=t,this.prime=null}function k(t){x.call(this,t),this.shift=this.m.bitLength(),this.shift%26!=0&&(this.shift+=26-this.shift%26),this.r=new s(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}y.prototype._tmp=function(){var t=new s(null);return t.words=new Array(Math.ceil(this.n/13)),t},y.prototype.ireduce=function(t){var e,i=t;do{this.split(i,this.tmp),e=(i=(i=this.imulK(i)).iadd(this.tmp)).bitLength()}while(e>this.n);var n=e<this.n?-1:i.ucmp(this.p);return 0===n?(i.words[0]=0,i.length=1):n>0?i.isub(this.p):void 0!==i.strip?i.strip():i._strip(),i},y.prototype.split=function(t,e){t.iushrn(this.n,0,e)},y.prototype.imulK=function(t){return t.imul(this.k)},n(b,y),b.prototype.split=function(t,e){for(var i=4194303,n=Math.min(t.length,9),r=0;r<n;r++)e.words[r]=t.words[r];if(e.length=n,t.length<=9)return t.words[0]=0,void(t.length=1);var s=t.words[9];for(e.words[e.length++]=s&i,r=10;r<t.length;r++){var o=0|t.words[r];t.words[r-10]=(o&i)<<4|s>>>22,s=o}s>>>=22,t.words[r-10]=s,0===s&&t.length>10?t.length-=10:t.length-=9},b.prototype.imulK=function(t){t.words[t.length]=0,t.words[t.length+1]=0,t.length+=2;for(var e=0,i=0;i<t.length;i++){var n=0|t.words[i];e+=977*n,t.words[i]=67108863&e,e=64*n+(e/67108864|0)}return 0===t.words[t.length-1]&&(t.length--,0===t.words[t.length-1]&&t.length--),t},n(w,y),n(_,y),n(M,y),M.prototype.imulK=function(t){for(var e=0,i=0;i<t.length;i++){var n=19*(0|t.words[i])+e,r=67108863&n;n>>>=26,t.words[i]=r,e=n}return 0!==e&&(t.words[t.length++]=e),t},s._prime=function(t){if(v[t])return v[t];var e;if("k256"===t)e=new b;else if("p224"===t)e=new w;else if("p192"===t)e=new _;else{if("p25519"!==t)throw new Error("Unknown prime "+t);e=new M}return v[t]=e,e},x.prototype._verify1=function(t){i(0===t.negative,"red works only with positives"),i(t.red,"red works only with red numbers")},x.prototype._verify2=function(t,e){i(0==(t.negative|e.negative),"red works only with positives"),i(t.red&&t.red===e.red,"red works only with red numbers")},x.prototype.imod=function(t){return this.prime?this.prime.ireduce(t)._forceRed(this):t.umod(this.m)._forceRed(this)},x.prototype.neg=function(t){return t.isZero()?t.clone():this.m.sub(t)._forceRed(this)},x.prototype.add=function(t,e){this._verify2(t,e);var i=t.add(e);return i.cmp(this.m)>=0&&i.isub(this.m),i._forceRed(this)},x.prototype.iadd=function(t,e){this._verify2(t,e);var i=t.iadd(e);return i.cmp(this.m)>=0&&i.isub(this.m),i},x.prototype.sub=function(t,e){this._verify2(t,e);var i=t.sub(e);return i.cmpn(0)<0&&i.iadd(this.m),i._forceRed(this)},x.prototype.isub=function(t,e){this._verify2(t,e);var i=t.isub(e);return i.cmpn(0)<0&&i.iadd(this.m),i},x.prototype.shl=function(t,e){return this._verify1(t),this.imod(t.ushln(e))},x.prototype.imul=function(t,e){return this._verify2(t,e),this.imod(t.imul(e))},x.prototype.mul=function(t,e){return this._verify2(t,e),this.imod(t.mul(e))},x.prototype.isqr=function(t){return this.imul(t,t.clone())},x.prototype.sqr=function(t){return this.mul(t,t)},x.prototype.sqrt=function(t){if(t.isZero())return t.clone();var e=this.m.andln(3);if(i(e%2==1),3===e){var n=this.m.add(new s(1)).iushrn(2);return this.pow(t,n)}for(var r=this.m.subn(1),o=0;!r.isZero()&&0===r.andln(1);)o++,r.iushrn(1);i(!r.isZero());var a=new s(1).toRed(this),h=a.redNeg(),l=this.m.subn(1).iushrn(1),u=this.m.bitLength();for(u=new s(2*u*u).toRed(this);0!==this.pow(u,l).cmp(h);)u.redIAdd(h);for(var c=this.pow(u,r),d=this.pow(t,r.addn(1).iushrn(1)),f=this.pow(t,r),p=o;0!==f.cmp(a);){for(var m=f,g=0;0!==m.cmp(a);g++)m=m.redSqr();i(g<p);var v=this.pow(c,new s(1).iushln(p-g-1));d=d.redMul(v),c=v.redSqr(),f=f.redMul(c),p=g}return d},x.prototype.invm=function(t){var e=t._invmp(this.m);return 0!==e.negative?(e.negative=0,this.imod(e).redNeg()):this.imod(e)},x.prototype.pow=function(t,e){if(e.isZero())return new s(1).toRed(this);if(0===e.cmpn(1))return t.clone();var i=new Array(16);i[0]=new s(1).toRed(this),i[1]=t;for(var n=2;n<i.length;n++)i[n]=this.mul(i[n-1],t);var r=i[0],o=0,a=0,h=e.bitLength()%26;for(0===h&&(h=26),n=e.length-1;n>=0;n--){for(var l=e.words[n],u=h-1;u>=0;u--){var c=l>>u&1;r!==i[0]&&(r=this.sqr(r)),0!==c||0!==o?(o<<=1,o|=c,(4===++a||0===n&&0===u)&&(r=this.mul(r,i[o]),a=0,o=0)):a=0}h=26}return r},x.prototype.convertTo=function(t){var e=t.umod(this.m);return e===t?e.clone():e},x.prototype.convertFrom=function(t){var e=t.clone();return e.red=null,e},s.mont=function(t){return new k(t)},n(k,x),k.prototype.convertTo=function(t){return this.imod(t.ushln(this.shift))},k.prototype.convertFrom=function(t){var e=this.imod(t.mul(this.rinv));return e.red=null,e},k.prototype.imul=function(t,e){if(t.isZero()||e.isZero())return t.words[0]=0,t.length=1,t;var i=t.imul(e),n=i.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),r=i.isub(n).iushrn(this.shift),s=r;return r.cmp(this.m)>=0?s=r.isub(this.m):r.cmpn(0)<0&&(s=r.iadd(this.m)),s._forceRed(this)},k.prototype.mul=function(t,e){if(t.isZero()||e.isZero())return new s(0)._forceRed(this);var i=t.mul(e),n=i.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),r=i.isub(n).iushrn(this.shift),o=r;return r.cmp(this.m)>=0?o=r.isub(this.m):r.cmpn(0)<0&&(o=r.iadd(this.m)),o._forceRed(this)},k.prototype.invm=function(t){return this.imod(t._invmp(this.m).mul(this.r2))._forceRed(this)}}(t,this)})),r.register("5wSio",(function(t,e){var i;function n(t){this.rand=t}if(t.exports=function(t){return i||(i=new n(null)),i.generate(t)},t.exports.Rand=n,n.prototype.generate=function(t){return this._rand(t)},n.prototype._rand=function(t){if(this.rand.getBytes)return this.rand.getBytes(t);for(var e=new Uint8Array(t),i=0;i<e.length;i++)e[i]=this.rand.getByte();return e},"object"==typeof self)self.crypto&&self.crypto.getRandomValues?n.prototype._rand=function(t){var e=new Uint8Array(t);return self.crypto.getRandomValues(e),e}:self.msCrypto&&self.msCrypto.getRandomValues?n.prototype._rand=function(t){var e=new Uint8Array(t);return self.msCrypto.getRandomValues(e),e}:"object"==typeof window&&(n.prototype._rand=function(){throw new Error("Not implemented yet")});else try{var s=r("lEqQD");if("function"!=typeof s.randomBytes)throw new Error("Not supported");n.prototype._rand=function(t){return s.randomBytes(t)}}catch(t){}})),r.register("2FPdA",(function(t,e){t.exports=JSON.parse('{"modp1":{"gen":"02","prime":"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a63a3620ffffffffffffffff"},"modp2":{"gen":"02","prime":"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece65381ffffffffffffffff"},"modp5":{"gen":"02","prime":"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca237327ffffffffffffffff"},"modp14":{"gen":"02","prime":"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aacaa68ffffffffffffffff"},"modp15":{"gen":"02","prime":"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a93ad2caffffffffffffffff"},"modp16":{"gen":"02","prime":"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a92108011a723c12a787e6d788719a10bdba5b2699c327186af4e23c1a946834b6150bda2583e9ca2ad44ce8dbbbc2db04de8ef92e8efc141fbecaa6287c59474e6bc05d99b2964fa090c3a2233ba186515be7ed1f612970cee2d7afb81bdd762170481cd0069127d5b05aa993b4ea988d8fddc186ffb7dc90a6c08f4df435c934063199ffffffffffffffff"},"modp17":{"gen":"02","prime":"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a92108011a723c12a787e6d788719a10bdba5b2699c327186af4e23c1a946834b6150bda2583e9ca2ad44ce8dbbbc2db04de8ef92e8efc141fbecaa6287c59474e6bc05d99b2964fa090c3a2233ba186515be7ed1f612970cee2d7afb81bdd762170481cd0069127d5b05aa993b4ea988d8fddc186ffb7dc90a6c08f4df435c93402849236c3fab4d27c7026c1d4dcb2602646dec9751e763dba37bdf8ff9406ad9e530ee5db382f413001aeb06a53ed9027d831179727b0865a8918da3edbebcf9b14ed44ce6cbaced4bb1bdb7f1447e6cc254b332051512bd7af426fb8f401378cd2bf5983ca01c64b92ecf032ea15d1721d03f482d7ce6e74fef6d55e702f46980c82b5a84031900b1c9e59e7c97fbec7e8f323a97a7e36cc88be0f1d45b7ff585ac54bd407b22b4154aacc8f6d7ebf48e1d814cc5ed20f8037e0a79715eef29be32806a1d58bb7c5da76f550aa3d8a1fbff0eb19ccb1a313d55cda56c9ec2ef29632387fe8d76e3c0468043e8f663f4860ee12bf2d5b0b7474d6e694f91e6dcc4024ffffffffffffffff"},"modp18":{"gen":"02","prime":"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a92108011a723c12a787e6d788719a10bdba5b2699c327186af4e23c1a946834b6150bda2583e9ca2ad44ce8dbbbc2db04de8ef92e8efc141fbecaa6287c59474e6bc05d99b2964fa090c3a2233ba186515be7ed1f612970cee2d7afb81bdd762170481cd0069127d5b05aa993b4ea988d8fddc186ffb7dc90a6c08f4df435c93402849236c3fab4d27c7026c1d4dcb2602646dec9751e763dba37bdf8ff9406ad9e530ee5db382f413001aeb06a53ed9027d831179727b0865a8918da3edbebcf9b14ed44ce6cbaced4bb1bdb7f1447e6cc254b332051512bd7af426fb8f401378cd2bf5983ca01c64b92ecf032ea15d1721d03f482d7ce6e74fef6d55e702f46980c82b5a84031900b1c9e59e7c97fbec7e8f323a97a7e36cc88be0f1d45b7ff585ac54bd407b22b4154aacc8f6d7ebf48e1d814cc5ed20f8037e0a79715eef29be32806a1d58bb7c5da76f550aa3d8a1fbff0eb19ccb1a313d55cda56c9ec2ef29632387fe8d76e3c0468043e8f663f4860ee12bf2d5b0b7474d6e694f91e6dbe115974a3926f12fee5e438777cb6a932df8cd8bec4d073b931ba3bc832b68d9dd300741fa7bf8afc47ed2576f6936ba424663aab639c5ae4f5683423b4742bf1c978238f16cbe39d652de3fdb8befc848ad922222e04a4037c0713eb57a81a23f0c73473fc646cea306b4bcbc8862f8385ddfa9d4b7fa2c087e879683303ed5bdd3a062b3cf5b3a278a66d2a13f83f44f82ddf310ee074ab6a364597e899a0255dc164f31cc50846851df9ab48195ded7ea1b1d510bd7ee74d73faf36bc31ecfa268359046f4eb879f924009438b481c6cd7889a002ed5ee382bc9190da6fc026e479558e4475677e9aa9e3050e2765694dfc81f56e880b96e7160c980dd98edd3dfffffffffffffffff"}}')})),r.register("lbL8P",(function(t,e){var i=r("hwHAp").Buffer,n=r("ai9l8"),s=new(r("aNn31")),o=new n(24),a=new n(11),h=new n(10),l=new n(3),u=new n(7),c=r("KIR6G"),d=r("jF6xI");function f(t,e){return e=e||"utf8",i.isBuffer(t)||(t=new i(t,e)),this._pub=new n(t),this}function p(t,e){return e=e||"utf8",i.isBuffer(t)||(t=new i(t,e)),this._priv=new n(t),this}t.exports=g;var m={};function g(t,e,i){this.setGenerator(e),this.__prime=new n(t),this._prime=n.mont(this.__prime),this._primeLen=t.length,this._pub=void 0,this._priv=void 0,this._primeCode=void 0,i?(this.setPublicKey=f,this.setPrivateKey=p):this._primeCode=8}function v(t,e){var n=new i(t.toArray());return e?n.toString(e):n}Object.defineProperty(g.prototype,"verifyError",{enumerable:!0,get:function(){return"number"!=typeof this._primeCode&&(this._primeCode=function(t,e){var i=e.toString("hex"),n=[i,t.toString(16)].join("_");if(n in m)return m[n];var r,d=0;if(t.isEven()||!c.simpleSieve||!c.fermatTest(t)||!s.test(t))return d+=1,d+="02"===i||"05"===i?8:4,m[n]=d,d;switch(s.test(t.shrn(1))||(d+=2),i){case"02":t.mod(o).cmp(a)&&(d+=8);break;case"05":(r=t.mod(h)).cmp(l)&&r.cmp(u)&&(d+=8);break;default:d+=4}return m[n]=d,d}(this.__prime,this.__gen)),this._primeCode}}),g.prototype.generateKeys=function(){return this._priv||(this._priv=new n(d(this._primeLen))),this._pub=this._gen.toRed(this._prime).redPow(this._priv).fromRed(),this.getPublicKey()},g.prototype.computeSecret=function(t){var e=(t=(t=new n(t)).toRed(this._prime)).redPow(this._priv).fromRed(),r=new i(e.toArray()),s=this.getPrime();if(r.length<s.length){var o=new i(s.length-r.length);o.fill(0),r=i.concat([o,r])}return r},g.prototype.getPublicKey=function(t){return v(this._pub,t)},g.prototype.getPrivateKey=function(t){return v(this._priv,t)},g.prototype.getPrime=function(t){return v(this.__prime,t)},g.prototype.getGenerator=function(t){return v(this._gen,t)},g.prototype.setGenerator=function(t,e){return e=e||"utf8",i.isBuffer(t)||(t=new i(t,e)),this.__gen=t,this._gen=new n(t),this}})),r.register("22PrA",(function(t,e){var i=r("emGH0").Buffer,n=r("ghseq"),s=r("5Jf9W"),o=r("kDUq9"),a=r("8QXcw"),h=r("gXEUI"),l=r("jXSJH");function u(t){s.Writable.call(this);var e=l[t];if(!e)throw new Error("Unknown message digest");this._hashType=e.hash,this._hash=n(e.hash),this._tag=e.id,this._signType=e.sign}function c(t){s.Writable.call(this);var e=l[t];if(!e)throw new Error("Unknown message digest");this._hash=n(e.hash),this._tag=e.id,this._signType=e.sign}function d(t){return new u(t)}function f(t){return new c(t)}Object.keys(l).forEach((function(t){l[t].id=i.from(l[t].id,"hex"),l[t.toLowerCase()]=l[t]})),o(u,s.Writable),u.prototype._write=function(t,e,i){this._hash.update(t),i()},u.prototype.update=function(t,e){return"string"==typeof t&&(t=i.from(t,e)),this._hash.update(t),this},u.prototype.sign=function(t,e){this.end();var i=this._hash.digest(),n=a(i,t,this._hashType,this._signType,this._tag);return e?n.toString(e):n},o(c,s.Writable),c.prototype._write=function(t,e,i){this._hash.update(t),i()},c.prototype.update=function(t,e){return"string"==typeof t&&(t=i.from(t,e)),this._hash.update(t),this},c.prototype.verify=function(t,e,n){"string"==typeof e&&(e=i.from(e,n)),this.end();var r=this._hash.digest();return h(e,r,t,this._signType,this._tag)},t.exports={Sign:d,Verify:f,createSign:d,createVerify:f}})),r.register("8QXcw",(function(t,e){var i=r("emGH0").Buffer,n=r("1HYxA"),s=r("3DKvV"),o=r("lcwES").ec,a=r("fSW4W"),h=r("istSy"),l=r("9GQqz");function u(t,e,r,s){if((t=i.from(t.toArray())).length<e.byteLength()){var o=i.alloc(e.byteLength()-t.length);t=i.concat([o,t])}var a=r.length,h=function(t,e){t=c(t,e),t=t.mod(e);var n=i.from(t.toArray());if(n.length<e.byteLength()){var r=i.alloc(e.byteLength()-n.length);n=i.concat([r,n])}return n}(r,e),l=i.alloc(a);l.fill(1);var u=i.alloc(a);return u=n(s,u).update(l).update(i.from([0])).update(t).update(h).digest(),l=n(s,u).update(l).digest(),{k:u=n(s,u).update(l).update(i.from([1])).update(t).update(h).digest(),v:l=n(s,u).update(l).digest()}}function c(t,e){var i=new a(t),n=(t.length<<3)-e.bitLength();return n>0&&i.ishrn(n),i}function d(t,e,r){var s,o;do{for(s=i.alloc(0);8*s.length<t.bitLength();)e.v=n(r,e.k).update(e.v).digest(),s=i.concat([s,e.v]);o=c(s,t),e.k=n(r,e.k).update(e.v).update(i.from([0])).digest(),e.v=n(r,e.k).update(e.v).digest()}while(-1!==o.cmp(t));return o}function f(t,e,i,n){return t.toRed(a.mont(i)).redPow(e).fromRed().mod(n)}t.exports=function(t,e,n,r,p){var m=h(e);if(m.curve){if("ecdsa"!==r&&"ecdsa/rsa"!==r)throw new Error("wrong private key type");return function(t,e){var n=l[e.curve.join(".")];if(!n)throw new Error("unknown curve "+e.curve.join("."));var r=new o(n).keyFromPrivate(e.privateKey),s=r.sign(t);return i.from(s.toDER())}(t,m)}if("dsa"===m.type){if("dsa"!==r)throw new Error("wrong private key type");return function(t,e,n){var r,s=e.params.priv_key,o=e.params.p,h=e.params.q,l=e.params.g,p=new a(0),m=c(t,h).mod(h),g=!1,v=u(s,h,t,n);for(;!1===g;)p=f(l,r=d(h,v,n),o,h),0===(g=r.invm(h).imul(m.add(s.mul(p))).mod(h)).cmpn(0)&&(g=!1,p=new a(0));return function(t,e){t=t.toArray(),e=e.toArray(),128&t[0]&&(t=[0].concat(t));128&e[0]&&(e=[0].concat(e));var n=t.length+e.length+4,r=[48,n,2,t.length];return r=r.concat(t,[2,e.length],e),i.from(r)}(p,g)}(t,m,n)}if("rsa"!==r&&"ecdsa/rsa"!==r)throw new Error("wrong private key type");t=i.concat([p,t]);for(var g=m.modulus.byteLength(),v=[0,1];t.length+v.length+1<g;)v.push(255);v.push(0);for(var y=-1;++y<t.length;)v.push(t[y]);return s(v,m)},t.exports.getKey=u,t.exports.makeKey=d})),r.register("3DKvV",(function(t,e){var i=r("hwHAp").Buffer,n=r("fSW4W"),s=r("jF6xI");function o(t){var e,i=t.modulus.byteLength();do{e=new n(s(i))}while(e.cmp(t.modulus)>=0||!e.umod(t.prime1)||!e.umod(t.prime2));return e}function a(t,e){var r=function(t){var e=o(t);return{blinder:e.toRed(n.mont(t.modulus)).redPow(new n(t.publicExponent)).fromRed(),unblinder:e.invm(t.modulus)}}(e),s=e.modulus.byteLength(),a=new n(t).mul(r.blinder).umod(e.modulus),h=a.toRed(n.mont(e.prime1)),l=a.toRed(n.mont(e.prime2)),u=e.coefficient,c=e.prime1,d=e.prime2,f=h.redPow(e.exponent1).fromRed(),p=l.redPow(e.exponent2).fromRed(),m=f.isub(p).imul(u).umod(c).imul(d);return p.iadd(m).imul(r.unblinder).umod(e.modulus).toArrayLike(i,"be",s)}a.getr=o,t.exports=a})),r.register("fSW4W",(function(t,e){!function(t,e){function i(t,e){if(!t)throw new Error(e||"Assertion failed")}function n(t,e){t.super_=e;var i=function(){};i.prototype=e.prototype,t.prototype=new i,t.prototype.constructor=t}function s(t,e,i){if(s.isBN(t))return t;this.negative=0,this.words=null,this.length=0,this.red=null,null!==t&&("le"!==e&&"be"!==e||(i=e,e=10),this._init(t||0,e||10,i||"be"))}var o;"object"==typeof t?t.exports=s:e.BN=s,s.BN=s,s.wordSize=26;try{o="undefined"!=typeof window&&void 0!==window.Buffer?window.Buffer:r("lEqQD").Buffer}catch(t){}function a(t,e){var n=t.charCodeAt(e);return n>=48&&n<=57?n-48:n>=65&&n<=70?n-55:n>=97&&n<=102?n-87:void i(!1,"Invalid character in "+t)}function h(t,e,i){var n=a(t,i);return i-1>=e&&(n|=a(t,i-1)<<4),n}function l(t,e,n,r){for(var s=0,o=0,a=Math.min(t.length,n),h=e;h<a;h++){var l=t.charCodeAt(h)-48;s*=r,o=l>=49?l-49+10:l>=17?l-17+10:l,i(l>=0&&o<r,"Invalid character"),s+=o}return s}function u(t,e){t.words=e.words,t.length=e.length,t.negative=e.negative,t.red=e.red}if(s.isBN=function(t){return t instanceof s||null!==t&&"object"==typeof t&&t.constructor.wordSize===s.wordSize&&Array.isArray(t.words)},s.max=function(t,e){return t.cmp(e)>0?t:e},s.min=function(t,e){return t.cmp(e)<0?t:e},s.prototype._init=function(t,e,n){if("number"==typeof t)return this._initNumber(t,e,n);if("object"==typeof t)return this._initArray(t,e,n);"hex"===e&&(e=16),i(e===(0|e)&&e>=2&&e<=36);var r=0;"-"===(t=t.toString().replace(/\s+/g,""))[0]&&(r++,this.negative=1),r<t.length&&(16===e?this._parseHex(t,r,n):(this._parseBase(t,e,r),"le"===n&&this._initArray(this.toArray(),e,n)))},s.prototype._initNumber=function(t,e,n){t<0&&(this.negative=1,t=-t),t<67108864?(this.words=[67108863&t],this.length=1):t<4503599627370496?(this.words=[67108863&t,t/67108864&67108863],this.length=2):(i(t<9007199254740992),this.words=[67108863&t,t/67108864&67108863,1],this.length=3),"le"===n&&this._initArray(this.toArray(),e,n)},s.prototype._initArray=function(t,e,n){if(i("number"==typeof t.length),t.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(t.length/3),this.words=new Array(this.length);for(var r=0;r<this.length;r++)this.words[r]=0;var s,o,a=0;if("be"===n)for(r=t.length-1,s=0;r>=0;r-=3)o=t[r]|t[r-1]<<8|t[r-2]<<16,this.words[s]|=o<<a&67108863,this.words[s+1]=o>>>26-a&67108863,(a+=24)>=26&&(a-=26,s++);else if("le"===n)for(r=0,s=0;r<t.length;r+=3)o=t[r]|t[r+1]<<8|t[r+2]<<16,this.words[s]|=o<<a&67108863,this.words[s+1]=o>>>26-a&67108863,(a+=24)>=26&&(a-=26,s++);return this._strip()},s.prototype._parseHex=function(t,e,i){this.length=Math.ceil((t.length-e)/6),this.words=new Array(this.length);for(var n=0;n<this.length;n++)this.words[n]=0;var r,s=0,o=0;if("be"===i)for(n=t.length-1;n>=e;n-=2)r=h(t,e,n)<<s,this.words[o]|=67108863&r,s>=18?(s-=18,o+=1,this.words[o]|=r>>>26):s+=8;else for(n=(t.length-e)%2==0?e+1:e;n<t.length;n+=2)r=h(t,e,n)<<s,this.words[o]|=67108863&r,s>=18?(s-=18,o+=1,this.words[o]|=r>>>26):s+=8;this._strip()},s.prototype._parseBase=function(t,e,i){this.words=[0],this.length=1;for(var n=0,r=1;r<=67108863;r*=e)n++;n--,r=r/e|0;for(var s=t.length-i,o=s%n,a=Math.min(s,s-o)+i,h=0,u=i;u<a;u+=n)h=l(t,u,u+n,e),this.imuln(r),this.words[0]+h<67108864?this.words[0]+=h:this._iaddn(h);if(0!==o){var c=1;for(h=l(t,u,t.length,e),u=0;u<o;u++)c*=e;this.imuln(c),this.words[0]+h<67108864?this.words[0]+=h:this._iaddn(h)}this._strip()},s.prototype.copy=function(t){t.words=new Array(this.length);for(var e=0;e<this.length;e++)t.words[e]=this.words[e];t.length=this.length,t.negative=this.negative,t.red=this.red},s.prototype._move=function(t){u(t,this)},s.prototype.clone=function(){var t=new s(null);return this.copy(t),t},s.prototype._expand=function(t){for(;this.length<t;)this.words[this.length++]=0;return this},s.prototype._strip=function(){for(;this.length>1&&0===this.words[this.length-1];)this.length--;return this._normSign()},s.prototype._normSign=function(){return 1===this.length&&0===this.words[0]&&(this.negative=0),this},"undefined"!=typeof Symbol&&"function"==typeof Symbol.for)try{s.prototype[Symbol.for("nodejs.util.inspect.custom")]=c}catch(t){s.prototype.inspect=c}else s.prototype.inspect=c;function c(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"}var d=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],f=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],p=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];s.prototype.toString=function(t,e){var n;if(e=0|e||1,16===(t=t||10)||"hex"===t){n="";for(var r=0,s=0,o=0;o<this.length;o++){var a=this.words[o],h=(16777215&(a<<r|s)).toString(16);s=a>>>24-r&16777215,(r+=2)>=26&&(r-=26,o--),n=0!==s||o!==this.length-1?d[6-h.length]+h+n:h+n}for(0!==s&&(n=s.toString(16)+n);n.length%e!=0;)n="0"+n;return 0!==this.negative&&(n="-"+n),n}if(t===(0|t)&&t>=2&&t<=36){var l=f[t],u=p[t];n="";var c=this.clone();for(c.negative=0;!c.isZero();){var m=c.modrn(u).toString(t);n=(c=c.idivn(u)).isZero()?m+n:d[l-m.length]+m+n}for(this.isZero()&&(n="0"+n);n.length%e!=0;)n="0"+n;return 0!==this.negative&&(n="-"+n),n}i(!1,"Base should be between 2 and 36")},s.prototype.toNumber=function(){var t=this.words[0];return 2===this.length?t+=67108864*this.words[1]:3===this.length&&1===this.words[2]?t+=4503599627370496+67108864*this.words[1]:this.length>2&&i(!1,"Number can only safely store up to 53 bits"),0!==this.negative?-t:t},s.prototype.toJSON=function(){return this.toString(16,2)},o&&(s.prototype.toBuffer=function(t,e){return this.toArrayLike(o,t,e)}),s.prototype.toArray=function(t,e){return this.toArrayLike(Array,t,e)};function m(t,e,i){i.negative=e.negative^t.negative;var n=t.length+e.length|0;i.length=n,n=n-1|0;var r=0|t.words[0],s=0|e.words[0],o=r*s,a=67108863&o,h=o/67108864|0;i.words[0]=a;for(var l=1;l<n;l++){for(var u=h>>>26,c=67108863&h,d=Math.min(l,e.length-1),f=Math.max(0,l-t.length+1);f<=d;f++){var p=l-f|0;u+=(o=(r=0|t.words[p])*(s=0|e.words[f])+c)/67108864|0,c=67108863&o}i.words[l]=0|c,h=0|u}return 0!==h?i.words[l]=0|h:i.length--,i._strip()}s.prototype.toArrayLike=function(t,e,n){this._strip();var r=this.byteLength(),s=n||Math.max(1,r);i(r<=s,"byte array longer than desired length"),i(s>0,"Requested array length <= 0");var o=function(t,e){return t.allocUnsafe?t.allocUnsafe(e):new t(e)}(t,s);return this["_toArrayLike"+("le"===e?"LE":"BE")](o,r),o},s.prototype._toArrayLikeLE=function(t,e){for(var i=0,n=0,r=0,s=0;r<this.length;r++){var o=this.words[r]<<s|n;t[i++]=255&o,i<t.length&&(t[i++]=o>>8&255),i<t.length&&(t[i++]=o>>16&255),6===s?(i<t.length&&(t[i++]=o>>24&255),n=0,s=0):(n=o>>>24,s+=2)}if(i<t.length)for(t[i++]=n;i<t.length;)t[i++]=0},s.prototype._toArrayLikeBE=function(t,e){for(var i=t.length-1,n=0,r=0,s=0;r<this.length;r++){var o=this.words[r]<<s|n;t[i--]=255&o,i>=0&&(t[i--]=o>>8&255),i>=0&&(t[i--]=o>>16&255),6===s?(i>=0&&(t[i--]=o>>24&255),n=0,s=0):(n=o>>>24,s+=2)}if(i>=0)for(t[i--]=n;i>=0;)t[i--]=0},Math.clz32?s.prototype._countBits=function(t){return 32-Math.clz32(t)}:s.prototype._countBits=function(t){var e=t,i=0;return e>=4096&&(i+=13,e>>>=13),e>=64&&(i+=7,e>>>=7),e>=8&&(i+=4,e>>>=4),e>=2&&(i+=2,e>>>=2),i+e},s.prototype._zeroBits=function(t){if(0===t)return 26;var e=t,i=0;return 0==(8191&e)&&(i+=13,e>>>=13),0==(127&e)&&(i+=7,e>>>=7),0==(15&e)&&(i+=4,e>>>=4),0==(3&e)&&(i+=2,e>>>=2),0==(1&e)&&i++,i},s.prototype.bitLength=function(){var t=this.words[this.length-1],e=this._countBits(t);return 26*(this.length-1)+e},s.prototype.zeroBits=function(){if(this.isZero())return 0;for(var t=0,e=0;e<this.length;e++){var i=this._zeroBits(this.words[e]);if(t+=i,26!==i)break}return t},s.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},s.prototype.toTwos=function(t){return 0!==this.negative?this.abs().inotn(t).iaddn(1):this.clone()},s.prototype.fromTwos=function(t){return this.testn(t-1)?this.notn(t).iaddn(1).ineg():this.clone()},s.prototype.isNeg=function(){return 0!==this.negative},s.prototype.neg=function(){return this.clone().ineg()},s.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},s.prototype.iuor=function(t){for(;this.length<t.length;)this.words[this.length++]=0;for(var e=0;e<t.length;e++)this.words[e]=this.words[e]|t.words[e];return this._strip()},s.prototype.ior=function(t){return i(0==(this.negative|t.negative)),this.iuor(t)},s.prototype.or=function(t){return this.length>t.length?this.clone().ior(t):t.clone().ior(this)},s.prototype.uor=function(t){return this.length>t.length?this.clone().iuor(t):t.clone().iuor(this)},s.prototype.iuand=function(t){var e;e=this.length>t.length?t:this;for(var i=0;i<e.length;i++)this.words[i]=this.words[i]&t.words[i];return this.length=e.length,this._strip()},s.prototype.iand=function(t){return i(0==(this.negative|t.negative)),this.iuand(t)},s.prototype.and=function(t){return this.length>t.length?this.clone().iand(t):t.clone().iand(this)},s.prototype.uand=function(t){return this.length>t.length?this.clone().iuand(t):t.clone().iuand(this)},s.prototype.iuxor=function(t){var e,i;this.length>t.length?(e=this,i=t):(e=t,i=this);for(var n=0;n<i.length;n++)this.words[n]=e.words[n]^i.words[n];if(this!==e)for(;n<e.length;n++)this.words[n]=e.words[n];return this.length=e.length,this._strip()},s.prototype.ixor=function(t){return i(0==(this.negative|t.negative)),this.iuxor(t)},s.prototype.xor=function(t){return this.length>t.length?this.clone().ixor(t):t.clone().ixor(this)},s.prototype.uxor=function(t){return this.length>t.length?this.clone().iuxor(t):t.clone().iuxor(this)},s.prototype.inotn=function(t){i("number"==typeof t&&t>=0);var e=0|Math.ceil(t/26),n=t%26;this._expand(e),n>0&&e--;for(var r=0;r<e;r++)this.words[r]=67108863&~this.words[r];return n>0&&(this.words[r]=~this.words[r]&67108863>>26-n),this._strip()},s.prototype.notn=function(t){return this.clone().inotn(t)},s.prototype.setn=function(t,e){i("number"==typeof t&&t>=0);var n=t/26|0,r=t%26;return this._expand(n+1),this.words[n]=e?this.words[n]|1<<r:this.words[n]&~(1<<r),this._strip()},s.prototype.iadd=function(t){var e,i,n;if(0!==this.negative&&0===t.negative)return this.negative=0,e=this.isub(t),this.negative^=1,this._normSign();if(0===this.negative&&0!==t.negative)return t.negative=0,e=this.isub(t),t.negative=1,e._normSign();this.length>t.length?(i=this,n=t):(i=t,n=this);for(var r=0,s=0;s<n.length;s++)e=(0|i.words[s])+(0|n.words[s])+r,this.words[s]=67108863&e,r=e>>>26;for(;0!==r&&s<i.length;s++)e=(0|i.words[s])+r,this.words[s]=67108863&e,r=e>>>26;if(this.length=i.length,0!==r)this.words[this.length]=r,this.length++;else if(i!==this)for(;s<i.length;s++)this.words[s]=i.words[s];return this},s.prototype.add=function(t){var e;return 0!==t.negative&&0===this.negative?(t.negative=0,e=this.sub(t),t.negative^=1,e):0===t.negative&&0!==this.negative?(this.negative=0,e=t.sub(this),this.negative=1,e):this.length>t.length?this.clone().iadd(t):t.clone().iadd(this)},s.prototype.isub=function(t){if(0!==t.negative){t.negative=0;var e=this.iadd(t);return t.negative=1,e._normSign()}if(0!==this.negative)return this.negative=0,this.iadd(t),this.negative=1,this._normSign();var i,n,r=this.cmp(t);if(0===r)return this.negative=0,this.length=1,this.words[0]=0,this;r>0?(i=this,n=t):(i=t,n=this);for(var s=0,o=0;o<n.length;o++)s=(e=(0|i.words[o])-(0|n.words[o])+s)>>26,this.words[o]=67108863&e;for(;0!==s&&o<i.length;o++)s=(e=(0|i.words[o])+s)>>26,this.words[o]=67108863&e;if(0===s&&o<i.length&&i!==this)for(;o<i.length;o++)this.words[o]=i.words[o];return this.length=Math.max(this.length,o),i!==this&&(this.negative=1),this._strip()},s.prototype.sub=function(t){return this.clone().isub(t)};var g=function(t,e,i){var n,r,s,o=t.words,a=e.words,h=i.words,l=0,u=0|o[0],c=8191&u,d=u>>>13,f=0|o[1],p=8191&f,m=f>>>13,g=0|o[2],v=8191&g,y=g>>>13,b=0|o[3],w=8191&b,_=b>>>13,M=0|o[4],x=8191&M,k=M>>>13,A=0|o[5],E=8191&A,S=A>>>13,T=0|o[6],I=8191&T,q=T>>>13,C=0|o[7],R=8191&C,D=C>>>13,L=0|o[8],N=8191&L,O=L>>>13,P=0|o[9],B=8191&P,U=P>>>13,F=0|a[0],j=8191&F,z=F>>>13,V=0|a[1],H=8191&V,W=V>>>13,K=0|a[2],G=8191&K,Q=K>>>13,Y=0|a[3],Z=8191&Y,$=Y>>>13,X=0|a[4],J=8191&X,tt=X>>>13,et=0|a[5],it=8191&et,nt=et>>>13,rt=0|a[6],st=8191&rt,ot=rt>>>13,at=0|a[7],ht=8191&at,lt=at>>>13,ut=0|a[8],ct=8191&ut,dt=ut>>>13,ft=0|a[9],pt=8191&ft,mt=ft>>>13;i.negative=t.negative^e.negative,i.length=19;var gt=(l+(n=Math.imul(c,j))|0)+((8191&(r=(r=Math.imul(c,z))+Math.imul(d,j)|0))<<13)|0;l=((s=Math.imul(d,z))+(r>>>13)|0)+(gt>>>26)|0,gt&=67108863,n=Math.imul(p,j),r=(r=Math.imul(p,z))+Math.imul(m,j)|0,s=Math.imul(m,z);var vt=(l+(n=n+Math.imul(c,H)|0)|0)+((8191&(r=(r=r+Math.imul(c,W)|0)+Math.imul(d,H)|0))<<13)|0;l=((s=s+Math.imul(d,W)|0)+(r>>>13)|0)+(vt>>>26)|0,vt&=67108863,n=Math.imul(v,j),r=(r=Math.imul(v,z))+Math.imul(y,j)|0,s=Math.imul(y,z),n=n+Math.imul(p,H)|0,r=(r=r+Math.imul(p,W)|0)+Math.imul(m,H)|0,s=s+Math.imul(m,W)|0;var yt=(l+(n=n+Math.imul(c,G)|0)|0)+((8191&(r=(r=r+Math.imul(c,Q)|0)+Math.imul(d,G)|0))<<13)|0;l=((s=s+Math.imul(d,Q)|0)+(r>>>13)|0)+(yt>>>26)|0,yt&=67108863,n=Math.imul(w,j),r=(r=Math.imul(w,z))+Math.imul(_,j)|0,s=Math.imul(_,z),n=n+Math.imul(v,H)|0,r=(r=r+Math.imul(v,W)|0)+Math.imul(y,H)|0,s=s+Math.imul(y,W)|0,n=n+Math.imul(p,G)|0,r=(r=r+Math.imul(p,Q)|0)+Math.imul(m,G)|0,s=s+Math.imul(m,Q)|0;var bt=(l+(n=n+Math.imul(c,Z)|0)|0)+((8191&(r=(r=r+Math.imul(c,$)|0)+Math.imul(d,Z)|0))<<13)|0;l=((s=s+Math.imul(d,$)|0)+(r>>>13)|0)+(bt>>>26)|0,bt&=67108863,n=Math.imul(x,j),r=(r=Math.imul(x,z))+Math.imul(k,j)|0,s=Math.imul(k,z),n=n+Math.imul(w,H)|0,r=(r=r+Math.imul(w,W)|0)+Math.imul(_,H)|0,s=s+Math.imul(_,W)|0,n=n+Math.imul(v,G)|0,r=(r=r+Math.imul(v,Q)|0)+Math.imul(y,G)|0,s=s+Math.imul(y,Q)|0,n=n+Math.imul(p,Z)|0,r=(r=r+Math.imul(p,$)|0)+Math.imul(m,Z)|0,s=s+Math.imul(m,$)|0;var wt=(l+(n=n+Math.imul(c,J)|0)|0)+((8191&(r=(r=r+Math.imul(c,tt)|0)+Math.imul(d,J)|0))<<13)|0;l=((s=s+Math.imul(d,tt)|0)+(r>>>13)|0)+(wt>>>26)|0,wt&=67108863,n=Math.imul(E,j),r=(r=Math.imul(E,z))+Math.imul(S,j)|0,s=Math.imul(S,z),n=n+Math.imul(x,H)|0,r=(r=r+Math.imul(x,W)|0)+Math.imul(k,H)|0,s=s+Math.imul(k,W)|0,n=n+Math.imul(w,G)|0,r=(r=r+Math.imul(w,Q)|0)+Math.imul(_,G)|0,s=s+Math.imul(_,Q)|0,n=n+Math.imul(v,Z)|0,r=(r=r+Math.imul(v,$)|0)+Math.imul(y,Z)|0,s=s+Math.imul(y,$)|0,n=n+Math.imul(p,J)|0,r=(r=r+Math.imul(p,tt)|0)+Math.imul(m,J)|0,s=s+Math.imul(m,tt)|0;var _t=(l+(n=n+Math.imul(c,it)|0)|0)+((8191&(r=(r=r+Math.imul(c,nt)|0)+Math.imul(d,it)|0))<<13)|0;l=((s=s+Math.imul(d,nt)|0)+(r>>>13)|0)+(_t>>>26)|0,_t&=67108863,n=Math.imul(I,j),r=(r=Math.imul(I,z))+Math.imul(q,j)|0,s=Math.imul(q,z),n=n+Math.imul(E,H)|0,r=(r=r+Math.imul(E,W)|0)+Math.imul(S,H)|0,s=s+Math.imul(S,W)|0,n=n+Math.imul(x,G)|0,r=(r=r+Math.imul(x,Q)|0)+Math.imul(k,G)|0,s=s+Math.imul(k,Q)|0,n=n+Math.imul(w,Z)|0,r=(r=r+Math.imul(w,$)|0)+Math.imul(_,Z)|0,s=s+Math.imul(_,$)|0,n=n+Math.imul(v,J)|0,r=(r=r+Math.imul(v,tt)|0)+Math.imul(y,J)|0,s=s+Math.imul(y,tt)|0,n=n+Math.imul(p,it)|0,r=(r=r+Math.imul(p,nt)|0)+Math.imul(m,it)|0,s=s+Math.imul(m,nt)|0;var Mt=(l+(n=n+Math.imul(c,st)|0)|0)+((8191&(r=(r=r+Math.imul(c,ot)|0)+Math.imul(d,st)|0))<<13)|0;l=((s=s+Math.imul(d,ot)|0)+(r>>>13)|0)+(Mt>>>26)|0,Mt&=67108863,n=Math.imul(R,j),r=(r=Math.imul(R,z))+Math.imul(D,j)|0,s=Math.imul(D,z),n=n+Math.imul(I,H)|0,r=(r=r+Math.imul(I,W)|0)+Math.imul(q,H)|0,s=s+Math.imul(q,W)|0,n=n+Math.imul(E,G)|0,r=(r=r+Math.imul(E,Q)|0)+Math.imul(S,G)|0,s=s+Math.imul(S,Q)|0,n=n+Math.imul(x,Z)|0,r=(r=r+Math.imul(x,$)|0)+Math.imul(k,Z)|0,s=s+Math.imul(k,$)|0,n=n+Math.imul(w,J)|0,r=(r=r+Math.imul(w,tt)|0)+Math.imul(_,J)|0,s=s+Math.imul(_,tt)|0,n=n+Math.imul(v,it)|0,r=(r=r+Math.imul(v,nt)|0)+Math.imul(y,it)|0,s=s+Math.imul(y,nt)|0,n=n+Math.imul(p,st)|0,r=(r=r+Math.imul(p,ot)|0)+Math.imul(m,st)|0,s=s+Math.imul(m,ot)|0;var xt=(l+(n=n+Math.imul(c,ht)|0)|0)+((8191&(r=(r=r+Math.imul(c,lt)|0)+Math.imul(d,ht)|0))<<13)|0;l=((s=s+Math.imul(d,lt)|0)+(r>>>13)|0)+(xt>>>26)|0,xt&=67108863,n=Math.imul(N,j),r=(r=Math.imul(N,z))+Math.imul(O,j)|0,s=Math.imul(O,z),n=n+Math.imul(R,H)|0,r=(r=r+Math.imul(R,W)|0)+Math.imul(D,H)|0,s=s+Math.imul(D,W)|0,n=n+Math.imul(I,G)|0,r=(r=r+Math.imul(I,Q)|0)+Math.imul(q,G)|0,s=s+Math.imul(q,Q)|0,n=n+Math.imul(E,Z)|0,r=(r=r+Math.imul(E,$)|0)+Math.imul(S,Z)|0,s=s+Math.imul(S,$)|0,n=n+Math.imul(x,J)|0,r=(r=r+Math.imul(x,tt)|0)+Math.imul(k,J)|0,s=s+Math.imul(k,tt)|0,n=n+Math.imul(w,it)|0,r=(r=r+Math.imul(w,nt)|0)+Math.imul(_,it)|0,s=s+Math.imul(_,nt)|0,n=n+Math.imul(v,st)|0,r=(r=r+Math.imul(v,ot)|0)+Math.imul(y,st)|0,s=s+Math.imul(y,ot)|0,n=n+Math.imul(p,ht)|0,r=(r=r+Math.imul(p,lt)|0)+Math.imul(m,ht)|0,s=s+Math.imul(m,lt)|0;var kt=(l+(n=n+Math.imul(c,ct)|0)|0)+((8191&(r=(r=r+Math.imul(c,dt)|0)+Math.imul(d,ct)|0))<<13)|0;l=((s=s+Math.imul(d,dt)|0)+(r>>>13)|0)+(kt>>>26)|0,kt&=67108863,n=Math.imul(B,j),r=(r=Math.imul(B,z))+Math.imul(U,j)|0,s=Math.imul(U,z),n=n+Math.imul(N,H)|0,r=(r=r+Math.imul(N,W)|0)+Math.imul(O,H)|0,s=s+Math.imul(O,W)|0,n=n+Math.imul(R,G)|0,r=(r=r+Math.imul(R,Q)|0)+Math.imul(D,G)|0,s=s+Math.imul(D,Q)|0,n=n+Math.imul(I,Z)|0,r=(r=r+Math.imul(I,$)|0)+Math.imul(q,Z)|0,s=s+Math.imul(q,$)|0,n=n+Math.imul(E,J)|0,r=(r=r+Math.imul(E,tt)|0)+Math.imul(S,J)|0,s=s+Math.imul(S,tt)|0,n=n+Math.imul(x,it)|0,r=(r=r+Math.imul(x,nt)|0)+Math.imul(k,it)|0,s=s+Math.imul(k,nt)|0,n=n+Math.imul(w,st)|0,r=(r=r+Math.imul(w,ot)|0)+Math.imul(_,st)|0,s=s+Math.imul(_,ot)|0,n=n+Math.imul(v,ht)|0,r=(r=r+Math.imul(v,lt)|0)+Math.imul(y,ht)|0,s=s+Math.imul(y,lt)|0,n=n+Math.imul(p,ct)|0,r=(r=r+Math.imul(p,dt)|0)+Math.imul(m,ct)|0,s=s+Math.imul(m,dt)|0;var At=(l+(n=n+Math.imul(c,pt)|0)|0)+((8191&(r=(r=r+Math.imul(c,mt)|0)+Math.imul(d,pt)|0))<<13)|0;l=((s=s+Math.imul(d,mt)|0)+(r>>>13)|0)+(At>>>26)|0,At&=67108863,n=Math.imul(B,H),r=(r=Math.imul(B,W))+Math.imul(U,H)|0,s=Math.imul(U,W),n=n+Math.imul(N,G)|0,r=(r=r+Math.imul(N,Q)|0)+Math.imul(O,G)|0,s=s+Math.imul(O,Q)|0,n=n+Math.imul(R,Z)|0,r=(r=r+Math.imul(R,$)|0)+Math.imul(D,Z)|0,s=s+Math.imul(D,$)|0,n=n+Math.imul(I,J)|0,r=(r=r+Math.imul(I,tt)|0)+Math.imul(q,J)|0,s=s+Math.imul(q,tt)|0,n=n+Math.imul(E,it)|0,r=(r=r+Math.imul(E,nt)|0)+Math.imul(S,it)|0,s=s+Math.imul(S,nt)|0,n=n+Math.imul(x,st)|0,r=(r=r+Math.imul(x,ot)|0)+Math.imul(k,st)|0,s=s+Math.imul(k,ot)|0,n=n+Math.imul(w,ht)|0,r=(r=r+Math.imul(w,lt)|0)+Math.imul(_,ht)|0,s=s+Math.imul(_,lt)|0,n=n+Math.imul(v,ct)|0,r=(r=r+Math.imul(v,dt)|0)+Math.imul(y,ct)|0,s=s+Math.imul(y,dt)|0;var Et=(l+(n=n+Math.imul(p,pt)|0)|0)+((8191&(r=(r=r+Math.imul(p,mt)|0)+Math.imul(m,pt)|0))<<13)|0;l=((s=s+Math.imul(m,mt)|0)+(r>>>13)|0)+(Et>>>26)|0,Et&=67108863,n=Math.imul(B,G),r=(r=Math.imul(B,Q))+Math.imul(U,G)|0,s=Math.imul(U,Q),n=n+Math.imul(N,Z)|0,r=(r=r+Math.imul(N,$)|0)+Math.imul(O,Z)|0,s=s+Math.imul(O,$)|0,n=n+Math.imul(R,J)|0,r=(r=r+Math.imul(R,tt)|0)+Math.imul(D,J)|0,s=s+Math.imul(D,tt)|0,n=n+Math.imul(I,it)|0,r=(r=r+Math.imul(I,nt)|0)+Math.imul(q,it)|0,s=s+Math.imul(q,nt)|0,n=n+Math.imul(E,st)|0,r=(r=r+Math.imul(E,ot)|0)+Math.imul(S,st)|0,s=s+Math.imul(S,ot)|0,n=n+Math.imul(x,ht)|0,r=(r=r+Math.imul(x,lt)|0)+Math.imul(k,ht)|0,s=s+Math.imul(k,lt)|0,n=n+Math.imul(w,ct)|0,r=(r=r+Math.imul(w,dt)|0)+Math.imul(_,ct)|0,s=s+Math.imul(_,dt)|0;var St=(l+(n=n+Math.imul(v,pt)|0)|0)+((8191&(r=(r=r+Math.imul(v,mt)|0)+Math.imul(y,pt)|0))<<13)|0;l=((s=s+Math.imul(y,mt)|0)+(r>>>13)|0)+(St>>>26)|0,St&=67108863,n=Math.imul(B,Z),r=(r=Math.imul(B,$))+Math.imul(U,Z)|0,s=Math.imul(U,$),n=n+Math.imul(N,J)|0,r=(r=r+Math.imul(N,tt)|0)+Math.imul(O,J)|0,s=s+Math.imul(O,tt)|0,n=n+Math.imul(R,it)|0,r=(r=r+Math.imul(R,nt)|0)+Math.imul(D,it)|0,s=s+Math.imul(D,nt)|0,n=n+Math.imul(I,st)|0,r=(r=r+Math.imul(I,ot)|0)+Math.imul(q,st)|0,s=s+Math.imul(q,ot)|0,n=n+Math.imul(E,ht)|0,r=(r=r+Math.imul(E,lt)|0)+Math.imul(S,ht)|0,s=s+Math.imul(S,lt)|0,n=n+Math.imul(x,ct)|0,r=(r=r+Math.imul(x,dt)|0)+Math.imul(k,ct)|0,s=s+Math.imul(k,dt)|0;var Tt=(l+(n=n+Math.imul(w,pt)|0)|0)+((8191&(r=(r=r+Math.imul(w,mt)|0)+Math.imul(_,pt)|0))<<13)|0;l=((s=s+Math.imul(_,mt)|0)+(r>>>13)|0)+(Tt>>>26)|0,Tt&=67108863,n=Math.imul(B,J),r=(r=Math.imul(B,tt))+Math.imul(U,J)|0,s=Math.imul(U,tt),n=n+Math.imul(N,it)|0,r=(r=r+Math.imul(N,nt)|0)+Math.imul(O,it)|0,s=s+Math.imul(O,nt)|0,n=n+Math.imul(R,st)|0,r=(r=r+Math.imul(R,ot)|0)+Math.imul(D,st)|0,s=s+Math.imul(D,ot)|0,n=n+Math.imul(I,ht)|0,r=(r=r+Math.imul(I,lt)|0)+Math.imul(q,ht)|0,s=s+Math.imul(q,lt)|0,n=n+Math.imul(E,ct)|0,r=(r=r+Math.imul(E,dt)|0)+Math.imul(S,ct)|0,s=s+Math.imul(S,dt)|0;var It=(l+(n=n+Math.imul(x,pt)|0)|0)+((8191&(r=(r=r+Math.imul(x,mt)|0)+Math.imul(k,pt)|0))<<13)|0;l=((s=s+Math.imul(k,mt)|0)+(r>>>13)|0)+(It>>>26)|0,It&=67108863,n=Math.imul(B,it),r=(r=Math.imul(B,nt))+Math.imul(U,it)|0,s=Math.imul(U,nt),n=n+Math.imul(N,st)|0,r=(r=r+Math.imul(N,ot)|0)+Math.imul(O,st)|0,s=s+Math.imul(O,ot)|0,n=n+Math.imul(R,ht)|0,r=(r=r+Math.imul(R,lt)|0)+Math.imul(D,ht)|0,s=s+Math.imul(D,lt)|0,n=n+Math.imul(I,ct)|0,r=(r=r+Math.imul(I,dt)|0)+Math.imul(q,ct)|0,s=s+Math.imul(q,dt)|0;var qt=(l+(n=n+Math.imul(E,pt)|0)|0)+((8191&(r=(r=r+Math.imul(E,mt)|0)+Math.imul(S,pt)|0))<<13)|0;l=((s=s+Math.imul(S,mt)|0)+(r>>>13)|0)+(qt>>>26)|0,qt&=67108863,n=Math.imul(B,st),r=(r=Math.imul(B,ot))+Math.imul(U,st)|0,s=Math.imul(U,ot),n=n+Math.imul(N,ht)|0,r=(r=r+Math.imul(N,lt)|0)+Math.imul(O,ht)|0,s=s+Math.imul(O,lt)|0,n=n+Math.imul(R,ct)|0,r=(r=r+Math.imul(R,dt)|0)+Math.imul(D,ct)|0,s=s+Math.imul(D,dt)|0;var Ct=(l+(n=n+Math.imul(I,pt)|0)|0)+((8191&(r=(r=r+Math.imul(I,mt)|0)+Math.imul(q,pt)|0))<<13)|0;l=((s=s+Math.imul(q,mt)|0)+(r>>>13)|0)+(Ct>>>26)|0,Ct&=67108863,n=Math.imul(B,ht),r=(r=Math.imul(B,lt))+Math.imul(U,ht)|0,s=Math.imul(U,lt),n=n+Math.imul(N,ct)|0,r=(r=r+Math.imul(N,dt)|0)+Math.imul(O,ct)|0,s=s+Math.imul(O,dt)|0;var Rt=(l+(n=n+Math.imul(R,pt)|0)|0)+((8191&(r=(r=r+Math.imul(R,mt)|0)+Math.imul(D,pt)|0))<<13)|0;l=((s=s+Math.imul(D,mt)|0)+(r>>>13)|0)+(Rt>>>26)|0,Rt&=67108863,n=Math.imul(B,ct),r=(r=Math.imul(B,dt))+Math.imul(U,ct)|0,s=Math.imul(U,dt);var Dt=(l+(n=n+Math.imul(N,pt)|0)|0)+((8191&(r=(r=r+Math.imul(N,mt)|0)+Math.imul(O,pt)|0))<<13)|0;l=((s=s+Math.imul(O,mt)|0)+(r>>>13)|0)+(Dt>>>26)|0,Dt&=67108863;var Lt=(l+(n=Math.imul(B,pt))|0)+((8191&(r=(r=Math.imul(B,mt))+Math.imul(U,pt)|0))<<13)|0;return l=((s=Math.imul(U,mt))+(r>>>13)|0)+(Lt>>>26)|0,Lt&=67108863,h[0]=gt,h[1]=vt,h[2]=yt,h[3]=bt,h[4]=wt,h[5]=_t,h[6]=Mt,h[7]=xt,h[8]=kt,h[9]=At,h[10]=Et,h[11]=St,h[12]=Tt,h[13]=It,h[14]=qt,h[15]=Ct,h[16]=Rt,h[17]=Dt,h[18]=Lt,0!==l&&(h[19]=l,i.length++),i};function v(t,e,i){i.negative=e.negative^t.negative,i.length=t.length+e.length;for(var n=0,r=0,s=0;s<i.length-1;s++){var o=r;r=0;for(var a=67108863&n,h=Math.min(s,e.length-1),l=Math.max(0,s-t.length+1);l<=h;l++){var u=s-l,c=(0|t.words[u])*(0|e.words[l]),d=67108863&c;a=67108863&(d=d+a|0),r+=(o=(o=o+(c/67108864|0)|0)+(d>>>26)|0)>>>26,o&=67108863}i.words[s]=a,n=o,o=r}return 0!==n?i.words[s]=n:i.length--,i._strip()}function y(t,e,i){return v(t,e,i)}function b(t,e){this.x=t,this.y=e}Math.imul||(g=m),s.prototype.mulTo=function(t,e){var i=this.length+t.length;return 10===this.length&&10===t.length?g(this,t,e):i<63?m(this,t,e):i<1024?v(this,t,e):y(this,t,e)},b.prototype.makeRBT=function(t){for(var e=new Array(t),i=s.prototype._countBits(t)-1,n=0;n<t;n++)e[n]=this.revBin(n,i,t);return e},b.prototype.revBin=function(t,e,i){if(0===t||t===i-1)return t;for(var n=0,r=0;r<e;r++)n|=(1&t)<<e-r-1,t>>=1;return n},b.prototype.permute=function(t,e,i,n,r,s){for(var o=0;o<s;o++)n[o]=e[t[o]],r[o]=i[t[o]]},b.prototype.transform=function(t,e,i,n,r,s){this.permute(s,t,e,i,n,r);for(var o=1;o<r;o<<=1)for(var a=o<<1,h=Math.cos(2*Math.PI/a),l=Math.sin(2*Math.PI/a),u=0;u<r;u+=a)for(var c=h,d=l,f=0;f<o;f++){var p=i[u+f],m=n[u+f],g=i[u+f+o],v=n[u+f+o],y=c*g-d*v;v=c*v+d*g,g=y,i[u+f]=p+g,n[u+f]=m+v,i[u+f+o]=p-g,n[u+f+o]=m-v,f!==a&&(y=h*c-l*d,d=h*d+l*c,c=y)}},b.prototype.guessLen13b=function(t,e){var i=1|Math.max(e,t),n=1&i,r=0;for(i=i/2|0;i;i>>>=1)r++;return 1<<r+1+n},b.prototype.conjugate=function(t,e,i){if(!(i<=1))for(var n=0;n<i/2;n++){var r=t[n];t[n]=t[i-n-1],t[i-n-1]=r,r=e[n],e[n]=-e[i-n-1],e[i-n-1]=-r}},b.prototype.normalize13b=function(t,e){for(var i=0,n=0;n<e/2;n++){var r=8192*Math.round(t[2*n+1]/e)+Math.round(t[2*n]/e)+i;t[n]=67108863&r,i=r<67108864?0:r/67108864|0}return t},b.prototype.convert13b=function(t,e,n,r){for(var s=0,o=0;o<e;o++)s+=0|t[o],n[2*o]=8191&s,s>>>=13,n[2*o+1]=8191&s,s>>>=13;for(o=2*e;o<r;++o)n[o]=0;i(0===s),i(0==(-8192&s))},b.prototype.stub=function(t){for(var e=new Array(t),i=0;i<t;i++)e[i]=0;return e},b.prototype.mulp=function(t,e,i){var n=2*this.guessLen13b(t.length,e.length),r=this.makeRBT(n),s=this.stub(n),o=new Array(n),a=new Array(n),h=new Array(n),l=new Array(n),u=new Array(n),c=new Array(n),d=i.words;d.length=n,this.convert13b(t.words,t.length,o,n),this.convert13b(e.words,e.length,l,n),this.transform(o,s,a,h,n,r),this.transform(l,s,u,c,n,r);for(var f=0;f<n;f++){var p=a[f]*u[f]-h[f]*c[f];h[f]=a[f]*c[f]+h[f]*u[f],a[f]=p}return this.conjugate(a,h,n),this.transform(a,h,d,s,n,r),this.conjugate(d,s,n),this.normalize13b(d,n),i.negative=t.negative^e.negative,i.length=t.length+e.length,i._strip()},s.prototype.mul=function(t){var e=new s(null);return e.words=new Array(this.length+t.length),this.mulTo(t,e)},s.prototype.mulf=function(t){var e=new s(null);return e.words=new Array(this.length+t.length),y(this,t,e)},s.prototype.imul=function(t){return this.clone().mulTo(t,this)},s.prototype.imuln=function(t){var e=t<0;e&&(t=-t),i("number"==typeof t),i(t<67108864);for(var n=0,r=0;r<this.length;r++){var s=(0|this.words[r])*t,o=(67108863&s)+(67108863&n);n>>=26,n+=s/67108864|0,n+=o>>>26,this.words[r]=67108863&o}return 0!==n&&(this.words[r]=n,this.length++),e?this.ineg():this},s.prototype.muln=function(t){return this.clone().imuln(t)},s.prototype.sqr=function(){return this.mul(this)},s.prototype.isqr=function(){return this.imul(this.clone())},s.prototype.pow=function(t){var e=function(t){for(var e=new Array(t.bitLength()),i=0;i<e.length;i++){var n=i/26|0,r=i%26;e[i]=t.words[n]>>>r&1}return e}(t);if(0===e.length)return new s(1);for(var i=this,n=0;n<e.length&&0===e[n];n++,i=i.sqr());if(++n<e.length)for(var r=i.sqr();n<e.length;n++,r=r.sqr())0!==e[n]&&(i=i.mul(r));return i},s.prototype.iushln=function(t){i("number"==typeof t&&t>=0);var e,n=t%26,r=(t-n)/26,s=67108863>>>26-n<<26-n;if(0!==n){var o=0;for(e=0;e<this.length;e++){var a=this.words[e]&s,h=(0|this.words[e])-a<<n;this.words[e]=h|o,o=a>>>26-n}o&&(this.words[e]=o,this.length++)}if(0!==r){for(e=this.length-1;e>=0;e--)this.words[e+r]=this.words[e];for(e=0;e<r;e++)this.words[e]=0;this.length+=r}return this._strip()},s.prototype.ishln=function(t){return i(0===this.negative),this.iushln(t)},s.prototype.iushrn=function(t,e,n){var r;i("number"==typeof t&&t>=0),r=e?(e-e%26)/26:0;var s=t%26,o=Math.min((t-s)/26,this.length),a=67108863^67108863>>>s<<s,h=n;if(r-=o,r=Math.max(0,r),h){for(var l=0;l<o;l++)h.words[l]=this.words[l];h.length=o}if(0===o);else if(this.length>o)for(this.length-=o,l=0;l<this.length;l++)this.words[l]=this.words[l+o];else this.words[0]=0,this.length=1;var u=0;for(l=this.length-1;l>=0&&(0!==u||l>=r);l--){var c=0|this.words[l];this.words[l]=u<<26-s|c>>>s,u=c&a}return h&&0!==u&&(h.words[h.length++]=u),0===this.length&&(this.words[0]=0,this.length=1),this._strip()},s.prototype.ishrn=function(t,e,n){return i(0===this.negative),this.iushrn(t,e,n)},s.prototype.shln=function(t){return this.clone().ishln(t)},s.prototype.ushln=function(t){return this.clone().iushln(t)},s.prototype.shrn=function(t){return this.clone().ishrn(t)},s.prototype.ushrn=function(t){return this.clone().iushrn(t)},s.prototype.testn=function(t){i("number"==typeof t&&t>=0);var e=t%26,n=(t-e)/26,r=1<<e;return!(this.length<=n)&&!!(this.words[n]&r)},s.prototype.imaskn=function(t){i("number"==typeof t&&t>=0);var e=t%26,n=(t-e)/26;if(i(0===this.negative,"imaskn works only with positive numbers"),this.length<=n)return this;if(0!==e&&n++,this.length=Math.min(n,this.length),0!==e){var r=67108863^67108863>>>e<<e;this.words[this.length-1]&=r}return this._strip()},s.prototype.maskn=function(t){return this.clone().imaskn(t)},s.prototype.iaddn=function(t){return i("number"==typeof t),i(t<67108864),t<0?this.isubn(-t):0!==this.negative?1===this.length&&(0|this.words[0])<=t?(this.words[0]=t-(0|this.words[0]),this.negative=0,this):(this.negative=0,this.isubn(t),this.negative=1,this):this._iaddn(t)},s.prototype._iaddn=function(t){this.words[0]+=t;for(var e=0;e<this.length&&this.words[e]>=67108864;e++)this.words[e]-=67108864,e===this.length-1?this.words[e+1]=1:this.words[e+1]++;return this.length=Math.max(this.length,e+1),this},s.prototype.isubn=function(t){if(i("number"==typeof t),i(t<67108864),t<0)return this.iaddn(-t);if(0!==this.negative)return this.negative=0,this.iaddn(t),this.negative=1,this;if(this.words[0]-=t,1===this.length&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var e=0;e<this.length&&this.words[e]<0;e++)this.words[e]+=67108864,this.words[e+1]-=1;return this._strip()},s.prototype.addn=function(t){return this.clone().iaddn(t)},s.prototype.subn=function(t){return this.clone().isubn(t)},s.prototype.iabs=function(){return this.negative=0,this},s.prototype.abs=function(){return this.clone().iabs()},s.prototype._ishlnsubmul=function(t,e,n){var r,s,o=t.length+n;this._expand(o);var a=0;for(r=0;r<t.length;r++){s=(0|this.words[r+n])+a;var h=(0|t.words[r])*e;a=((s-=67108863&h)>>26)-(h/67108864|0),this.words[r+n]=67108863&s}for(;r<this.length-n;r++)a=(s=(0|this.words[r+n])+a)>>26,this.words[r+n]=67108863&s;if(0===a)return this._strip();for(i(-1===a),a=0,r=0;r<this.length;r++)a=(s=-(0|this.words[r])+a)>>26,this.words[r]=67108863&s;return this.negative=1,this._strip()},s.prototype._wordDiv=function(t,e){var i=(this.length,t.length),n=this.clone(),r=t,o=0|r.words[r.length-1];0!==(i=26-this._countBits(o))&&(r=r.ushln(i),n.iushln(i),o=0|r.words[r.length-1]);var a,h=n.length-r.length;if("mod"!==e){(a=new s(null)).length=h+1,a.words=new Array(a.length);for(var l=0;l<a.length;l++)a.words[l]=0}var u=n.clone()._ishlnsubmul(r,1,h);0===u.negative&&(n=u,a&&(a.words[h]=1));for(var c=h-1;c>=0;c--){var d=67108864*(0|n.words[r.length+c])+(0|n.words[r.length+c-1]);for(d=Math.min(d/o|0,67108863),n._ishlnsubmul(r,d,c);0!==n.negative;)d--,n.negative=0,n._ishlnsubmul(r,1,c),n.isZero()||(n.negative^=1);a&&(a.words[c]=d)}return a&&a._strip(),n._strip(),"div"!==e&&0!==i&&n.iushrn(i),{div:a||null,mod:n}},s.prototype.divmod=function(t,e,n){return i(!t.isZero()),this.isZero()?{div:new s(0),mod:new s(0)}:0!==this.negative&&0===t.negative?(a=this.neg().divmod(t,e),"mod"!==e&&(r=a.div.neg()),"div"!==e&&(o=a.mod.neg(),n&&0!==o.negative&&o.iadd(t)),{div:r,mod:o}):0===this.negative&&0!==t.negative?(a=this.divmod(t.neg(),e),"mod"!==e&&(r=a.div.neg()),{div:r,mod:a.mod}):0!=(this.negative&t.negative)?(a=this.neg().divmod(t.neg(),e),"div"!==e&&(o=a.mod.neg(),n&&0!==o.negative&&o.isub(t)),{div:a.div,mod:o}):t.length>this.length||this.cmp(t)<0?{div:new s(0),mod:this}:1===t.length?"div"===e?{div:this.divn(t.words[0]),mod:null}:"mod"===e?{div:null,mod:new s(this.modrn(t.words[0]))}:{div:this.divn(t.words[0]),mod:new s(this.modrn(t.words[0]))}:this._wordDiv(t,e);var r,o,a},s.prototype.div=function(t){return this.divmod(t,"div",!1).div},s.prototype.mod=function(t){return this.divmod(t,"mod",!1).mod},s.prototype.umod=function(t){return this.divmod(t,"mod",!0).mod},s.prototype.divRound=function(t){var e=this.divmod(t);if(e.mod.isZero())return e.div;var i=0!==e.div.negative?e.mod.isub(t):e.mod,n=t.ushrn(1),r=t.andln(1),s=i.cmp(n);return s<0||1===r&&0===s?e.div:0!==e.div.negative?e.div.isubn(1):e.div.iaddn(1)},s.prototype.modrn=function(t){var e=t<0;e&&(t=-t),i(t<=67108863);for(var n=67108864%t,r=0,s=this.length-1;s>=0;s--)r=(n*r+(0|this.words[s]))%t;return e?-r:r},s.prototype.modn=function(t){return this.modrn(t)},s.prototype.idivn=function(t){var e=t<0;e&&(t=-t),i(t<=67108863);for(var n=0,r=this.length-1;r>=0;r--){var s=(0|this.words[r])+67108864*n;this.words[r]=s/t|0,n=s%t}return this._strip(),e?this.ineg():this},s.prototype.divn=function(t){return this.clone().idivn(t)},s.prototype.egcd=function(t){i(0===t.negative),i(!t.isZero());var e=this,n=t.clone();e=0!==e.negative?e.umod(t):e.clone();for(var r=new s(1),o=new s(0),a=new s(0),h=new s(1),l=0;e.isEven()&&n.isEven();)e.iushrn(1),n.iushrn(1),++l;for(var u=n.clone(),c=e.clone();!e.isZero();){for(var d=0,f=1;0==(e.words[0]&f)&&d<26;++d,f<<=1);if(d>0)for(e.iushrn(d);d-- >0;)(r.isOdd()||o.isOdd())&&(r.iadd(u),o.isub(c)),r.iushrn(1),o.iushrn(1);for(var p=0,m=1;0==(n.words[0]&m)&&p<26;++p,m<<=1);if(p>0)for(n.iushrn(p);p-- >0;)(a.isOdd()||h.isOdd())&&(a.iadd(u),h.isub(c)),a.iushrn(1),h.iushrn(1);e.cmp(n)>=0?(e.isub(n),r.isub(a),o.isub(h)):(n.isub(e),a.isub(r),h.isub(o))}return{a:a,b:h,gcd:n.iushln(l)}},s.prototype._invmp=function(t){i(0===t.negative),i(!t.isZero());var e=this,n=t.clone();e=0!==e.negative?e.umod(t):e.clone();for(var r,o=new s(1),a=new s(0),h=n.clone();e.cmpn(1)>0&&n.cmpn(1)>0;){for(var l=0,u=1;0==(e.words[0]&u)&&l<26;++l,u<<=1);if(l>0)for(e.iushrn(l);l-- >0;)o.isOdd()&&o.iadd(h),o.iushrn(1);for(var c=0,d=1;0==(n.words[0]&d)&&c<26;++c,d<<=1);if(c>0)for(n.iushrn(c);c-- >0;)a.isOdd()&&a.iadd(h),a.iushrn(1);e.cmp(n)>=0?(e.isub(n),o.isub(a)):(n.isub(e),a.isub(o))}return(r=0===e.cmpn(1)?o:a).cmpn(0)<0&&r.iadd(t),r},s.prototype.gcd=function(t){if(this.isZero())return t.abs();if(t.isZero())return this.abs();var e=this.clone(),i=t.clone();e.negative=0,i.negative=0;for(var n=0;e.isEven()&&i.isEven();n++)e.iushrn(1),i.iushrn(1);for(;;){for(;e.isEven();)e.iushrn(1);for(;i.isEven();)i.iushrn(1);var r=e.cmp(i);if(r<0){var s=e;e=i,i=s}else if(0===r||0===i.cmpn(1))break;e.isub(i)}return i.iushln(n)},s.prototype.invm=function(t){return this.egcd(t).a.umod(t)},s.prototype.isEven=function(){return 0==(1&this.words[0])},s.prototype.isOdd=function(){return 1==(1&this.words[0])},s.prototype.andln=function(t){return this.words[0]&t},s.prototype.bincn=function(t){i("number"==typeof t);var e=t%26,n=(t-e)/26,r=1<<e;if(this.length<=n)return this._expand(n+1),this.words[n]|=r,this;for(var s=r,o=n;0!==s&&o<this.length;o++){var a=0|this.words[o];s=(a+=s)>>>26,a&=67108863,this.words[o]=a}return 0!==s&&(this.words[o]=s,this.length++),this},s.prototype.isZero=function(){return 1===this.length&&0===this.words[0]},s.prototype.cmpn=function(t){var e,n=t<0;if(0!==this.negative&&!n)return-1;if(0===this.negative&&n)return 1;if(this._strip(),this.length>1)e=1;else{n&&(t=-t),i(t<=67108863,"Number is too big");var r=0|this.words[0];e=r===t?0:r<t?-1:1}return 0!==this.negative?0|-e:e},s.prototype.cmp=function(t){if(0!==this.negative&&0===t.negative)return-1;if(0===this.negative&&0!==t.negative)return 1;var e=this.ucmp(t);return 0!==this.negative?0|-e:e},s.prototype.ucmp=function(t){if(this.length>t.length)return 1;if(this.length<t.length)return-1;for(var e=0,i=this.length-1;i>=0;i--){var n=0|this.words[i],r=0|t.words[i];if(n!==r){n<r?e=-1:n>r&&(e=1);break}}return e},s.prototype.gtn=function(t){return 1===this.cmpn(t)},s.prototype.gt=function(t){return 1===this.cmp(t)},s.prototype.gten=function(t){return this.cmpn(t)>=0},s.prototype.gte=function(t){return this.cmp(t)>=0},s.prototype.ltn=function(t){return-1===this.cmpn(t)},s.prototype.lt=function(t){return-1===this.cmp(t)},s.prototype.lten=function(t){return this.cmpn(t)<=0},s.prototype.lte=function(t){return this.cmp(t)<=0},s.prototype.eqn=function(t){return 0===this.cmpn(t)},s.prototype.eq=function(t){return 0===this.cmp(t)},s.red=function(t){return new E(t)},s.prototype.toRed=function(t){return i(!this.red,"Already a number in reduction context"),i(0===this.negative,"red works only with positives"),t.convertTo(this)._forceRed(t)},s.prototype.fromRed=function(){return i(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},s.prototype._forceRed=function(t){return this.red=t,this},s.prototype.forceRed=function(t){return i(!this.red,"Already a number in reduction context"),this._forceRed(t)},s.prototype.redAdd=function(t){return i(this.red,"redAdd works only with red numbers"),this.red.add(this,t)},s.prototype.redIAdd=function(t){return i(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,t)},s.prototype.redSub=function(t){return i(this.red,"redSub works only with red numbers"),this.red.sub(this,t)},s.prototype.redISub=function(t){return i(this.red,"redISub works only with red numbers"),this.red.isub(this,t)},s.prototype.redShl=function(t){return i(this.red,"redShl works only with red numbers"),this.red.shl(this,t)},s.prototype.redMul=function(t){return i(this.red,"redMul works only with red numbers"),this.red._verify2(this,t),this.red.mul(this,t)},s.prototype.redIMul=function(t){return i(this.red,"redMul works only with red numbers"),this.red._verify2(this,t),this.red.imul(this,t)},s.prototype.redSqr=function(){return i(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},s.prototype.redISqr=function(){return i(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},s.prototype.redSqrt=function(){return i(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},s.prototype.redInvm=function(){return i(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},s.prototype.redNeg=function(){return i(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},s.prototype.redPow=function(t){return i(this.red&&!t.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,t)};var w={k256:null,p224:null,p192:null,p25519:null};function _(t,e){this.name=t,this.p=new s(e,16),this.n=this.p.bitLength(),this.k=new s(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}function M(){_.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}function x(){_.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}function k(){_.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}function A(){_.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}function E(t){if("string"==typeof t){var e=s._prime(t);this.m=e.p,this.prime=e}else i(t.gtn(1),"modulus must be greater than 1"),this.m=t,this.prime=null}function S(t){E.call(this,t),this.shift=this.m.bitLength(),this.shift%26!=0&&(this.shift+=26-this.shift%26),this.r=new s(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}_.prototype._tmp=function(){var t=new s(null);return t.words=new Array(Math.ceil(this.n/13)),t},_.prototype.ireduce=function(t){var e,i=t;do{this.split(i,this.tmp),e=(i=(i=this.imulK(i)).iadd(this.tmp)).bitLength()}while(e>this.n);var n=e<this.n?-1:i.ucmp(this.p);return 0===n?(i.words[0]=0,i.length=1):n>0?i.isub(this.p):void 0!==i.strip?i.strip():i._strip(),i},_.prototype.split=function(t,e){t.iushrn(this.n,0,e)},_.prototype.imulK=function(t){return t.imul(this.k)},n(M,_),M.prototype.split=function(t,e){for(var i=4194303,n=Math.min(t.length,9),r=0;r<n;r++)e.words[r]=t.words[r];if(e.length=n,t.length<=9)return t.words[0]=0,void(t.length=1);var s=t.words[9];for(e.words[e.length++]=s&i,r=10;r<t.length;r++){var o=0|t.words[r];t.words[r-10]=(o&i)<<4|s>>>22,s=o}s>>>=22,t.words[r-10]=s,0===s&&t.length>10?t.length-=10:t.length-=9},M.prototype.imulK=function(t){t.words[t.length]=0,t.words[t.length+1]=0,t.length+=2;for(var e=0,i=0;i<t.length;i++){var n=0|t.words[i];e+=977*n,t.words[i]=67108863&e,e=64*n+(e/67108864|0)}return 0===t.words[t.length-1]&&(t.length--,0===t.words[t.length-1]&&t.length--),t},n(x,_),n(k,_),n(A,_),A.prototype.imulK=function(t){for(var e=0,i=0;i<t.length;i++){var n=19*(0|t.words[i])+e,r=67108863&n;n>>>=26,t.words[i]=r,e=n}return 0!==e&&(t.words[t.length++]=e),t},s._prime=function(t){if(w[t])return w[t];var e;if("k256"===t)e=new M;else if("p224"===t)e=new x;else if("p192"===t)e=new k;else{if("p25519"!==t)throw new Error("Unknown prime "+t);e=new A}return w[t]=e,e},E.prototype._verify1=function(t){i(0===t.negative,"red works only with positives"),i(t.red,"red works only with red numbers")},E.prototype._verify2=function(t,e){i(0==(t.negative|e.negative),"red works only with positives"),i(t.red&&t.red===e.red,"red works only with red numbers")},E.prototype.imod=function(t){return this.prime?this.prime.ireduce(t)._forceRed(this):(u(t,t.umod(this.m)._forceRed(this)),t)},E.prototype.neg=function(t){return t.isZero()?t.clone():this.m.sub(t)._forceRed(this)},E.prototype.add=function(t,e){this._verify2(t,e);var i=t.add(e);return i.cmp(this.m)>=0&&i.isub(this.m),i._forceRed(this)},E.prototype.iadd=function(t,e){this._verify2(t,e);var i=t.iadd(e);return i.cmp(this.m)>=0&&i.isub(this.m),i},E.prototype.sub=function(t,e){this._verify2(t,e);var i=t.sub(e);return i.cmpn(0)<0&&i.iadd(this.m),i._forceRed(this)},E.prototype.isub=function(t,e){this._verify2(t,e);var i=t.isub(e);return i.cmpn(0)<0&&i.iadd(this.m),i},E.prototype.shl=function(t,e){return this._verify1(t),this.imod(t.ushln(e))},E.prototype.imul=function(t,e){return this._verify2(t,e),this.imod(t.imul(e))},E.prototype.mul=function(t,e){return this._verify2(t,e),this.imod(t.mul(e))},E.prototype.isqr=function(t){return this.imul(t,t.clone())},E.prototype.sqr=function(t){return this.mul(t,t)},E.prototype.sqrt=function(t){if(t.isZero())return t.clone();var e=this.m.andln(3);if(i(e%2==1),3===e){var n=this.m.add(new s(1)).iushrn(2);return this.pow(t,n)}for(var r=this.m.subn(1),o=0;!r.isZero()&&0===r.andln(1);)o++,r.iushrn(1);i(!r.isZero());var a=new s(1).toRed(this),h=a.redNeg(),l=this.m.subn(1).iushrn(1),u=this.m.bitLength();for(u=new s(2*u*u).toRed(this);0!==this.pow(u,l).cmp(h);)u.redIAdd(h);for(var c=this.pow(u,r),d=this.pow(t,r.addn(1).iushrn(1)),f=this.pow(t,r),p=o;0!==f.cmp(a);){for(var m=f,g=0;0!==m.cmp(a);g++)m=m.redSqr();i(g<p);var v=this.pow(c,new s(1).iushln(p-g-1));d=d.redMul(v),c=v.redSqr(),f=f.redMul(c),p=g}return d},E.prototype.invm=function(t){var e=t._invmp(this.m);return 0!==e.negative?(e.negative=0,this.imod(e).redNeg()):this.imod(e)},E.prototype.pow=function(t,e){if(e.isZero())return new s(1).toRed(this);if(0===e.cmpn(1))return t.clone();var i=new Array(16);i[0]=new s(1).toRed(this),i[1]=t;for(var n=2;n<i.length;n++)i[n]=this.mul(i[n-1],t);var r=i[0],o=0,a=0,h=e.bitLength()%26;for(0===h&&(h=26),n=e.length-1;n>=0;n--){for(var l=e.words[n],u=h-1;u>=0;u--){var c=l>>u&1;r!==i[0]&&(r=this.sqr(r)),0!==c||0!==o?(o<<=1,o|=c,(4===++a||0===n&&0===u)&&(r=this.mul(r,i[o]),a=0,o=0)):a=0}h=26}return r},E.prototype.convertTo=function(t){var e=t.umod(this.m);return e===t?e.clone():e},E.prototype.convertFrom=function(t){var e=t.clone();return e.red=null,e},s.mont=function(t){return new S(t)},n(S,E),S.prototype.convertTo=function(t){return this.imod(t.ushln(this.shift))},S.prototype.convertFrom=function(t){var e=this.imod(t.mul(this.rinv));return e.red=null,e},S.prototype.imul=function(t,e){if(t.isZero()||e.isZero())return t.words[0]=0,t.length=1,t;var i=t.imul(e),n=i.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),r=i.isub(n).iushrn(this.shift),s=r;return r.cmp(this.m)>=0?s=r.isub(this.m):r.cmpn(0)<0&&(s=r.iadd(this.m)),s._forceRed(this)},S.prototype.mul=function(t,e){if(t.isZero()||e.isZero())return new s(0)._forceRed(this);var i=t.mul(e),n=i.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),r=i.isub(n).iushrn(this.shift),o=r;return r.cmp(this.m)>=0?o=r.isub(this.m):r.cmpn(0)<0&&(o=r.iadd(this.m)),o._forceRed(this)},S.prototype.invm=function(t){return this.imod(t._invmp(this.m).mul(this.r2))._forceRed(this)}}(t,this)})),r.register("lcwES",(function(t,e){var i=t.exports;i.version=r("8u7Bp").version,i.utils=r("91emE"),i.rand=r("5wSio"),i.curve=r("is6TD"),i.curves=r("iojmZ"),i.ec=r("72QWK"),i.eddsa=r("kW7cI")})),r.register("8u7Bp",(function(t,e){t.exports=JSON.parse('{"name":"elliptic","version":"6.5.4","description":"EC cryptography","main":"lib/elliptic.js","files":["lib"],"scripts":{"lint":"eslint lib test","lint:fix":"npm run lint -- --fix","unit":"istanbul test _mocha --reporter=spec test/index.js","test":"npm run lint && npm run unit","version":"grunt dist && git add dist/"},"repository":{"type":"git","url":"git@github.com:indutny/elliptic"},"keywords":["EC","Elliptic","curve","Cryptography"],"author":"Fedor Indutny <fedor@indutny.com>","license":"MIT","bugs":{"url":"https://github.com/indutny/elliptic/issues"},"homepage":"https://github.com/indutny/elliptic","devDependencies":{"brfs":"^2.0.2","coveralls":"^3.1.0","eslint":"^7.6.0","grunt":"^1.2.1","grunt-browserify":"^5.3.0","grunt-cli":"^1.3.2","grunt-contrib-connect":"^3.0.0","grunt-contrib-copy":"^1.0.0","grunt-contrib-uglify":"^5.0.0","grunt-mocha-istanbul":"^5.0.2","grunt-saucelabs":"^9.0.1","istanbul":"^0.4.5","mocha":"^8.0.1"},"dependencies":{"bn.js":"^4.11.9","brorand":"^1.1.0","hash.js":"^1.0.0","hmac-drbg":"^1.0.1","inherits":"^2.0.4","minimalistic-assert":"^1.0.1","minimalistic-crypto-utils":"^1.0.1"}}')})),r.register("91emE",(function(t,e){var i=t.exports,n=r("t9sL5"),s=r("bQfgu"),o=r("4fDZU");i.assert=s,i.toArray=o.toArray,i.zero2=o.zero2,i.toHex=o.toHex,i.encode=o.encode,i.getNAF=function(t,e,i){var n=new Array(Math.max(t.bitLength(),i)+1);n.fill(0);for(var r=1<<e+1,s=t.clone(),o=0;o<n.length;o++){var a,h=s.andln(r-1);s.isOdd()?(a=h>(r>>1)-1?(r>>1)-h:h,s.isubn(a)):a=0,n[o]=a,s.iushrn(1)}return n},i.getJSF=function(t,e){var i=[[],[]];t=t.clone(),e=e.clone();for(var n,r=0,s=0;t.cmpn(-r)>0||e.cmpn(-s)>0;){var o,a,h=t.andln(3)+r&3,l=e.andln(3)+s&3;3===h&&(h=-1),3===l&&(l=-1),o=0==(1&h)?0:3!==(n=t.andln(7)+r&7)&&5!==n||2!==l?h:-h,i[0].push(o),a=0==(1&l)?0:3!==(n=e.andln(7)+s&7)&&5!==n||2!==h?l:-l,i[1].push(a),2*r===o+1&&(r=1-r),2*s===a+1&&(s=1-s),t.iushrn(1),e.iushrn(1)}return i},i.cachedProperty=function(t,e,i){var n="_"+e;t.prototype[e]=function(){return void 0!==this[n]?this[n]:this[n]=i.call(this)}},i.parseBytes=function(t){return"string"==typeof t?i.toArray(t,"hex"):t},i.intFromLE=function(t){return new n(t,"hex","le")}})),r.register("t9sL5",(function(t,e){!function(t,e){function i(t,e){if(!t)throw new Error(e||"Assertion failed")}function n(t,e){t.super_=e;var i=function(){};i.prototype=e.prototype,t.prototype=new i,t.prototype.constructor=t}function s(t,e,i){if(s.isBN(t))return t;this.negative=0,this.words=null,this.length=0,this.red=null,null!==t&&("le"!==e&&"be"!==e||(i=e,e=10),this._init(t||0,e||10,i||"be"))}var o;"object"==typeof t?t.exports=s:e.BN=s,s.BN=s,s.wordSize=26;try{o="undefined"!=typeof window&&void 0!==window.Buffer?window.Buffer:r("lEqQD").Buffer}catch(t){}function a(t,e){var i=t.charCodeAt(e);return i>=65&&i<=70?i-55:i>=97&&i<=102?i-87:i-48&15}function h(t,e,i){var n=a(t,i);return i-1>=e&&(n|=a(t,i-1)<<4),n}function l(t,e,i,n){for(var r=0,s=Math.min(t.length,i),o=e;o<s;o++){var a=t.charCodeAt(o)-48;r*=n,r+=a>=49?a-49+10:a>=17?a-17+10:a}return r}s.isBN=function(t){return t instanceof s||null!==t&&"object"==typeof t&&t.constructor.wordSize===s.wordSize&&Array.isArray(t.words)},s.max=function(t,e){return t.cmp(e)>0?t:e},s.min=function(t,e){return t.cmp(e)<0?t:e},s.prototype._init=function(t,e,n){if("number"==typeof t)return this._initNumber(t,e,n);if("object"==typeof t)return this._initArray(t,e,n);"hex"===e&&(e=16),i(e===(0|e)&&e>=2&&e<=36);var r=0;"-"===(t=t.toString().replace(/\s+/g,""))[0]&&(r++,this.negative=1),r<t.length&&(16===e?this._parseHex(t,r,n):(this._parseBase(t,e,r),"le"===n&&this._initArray(this.toArray(),e,n)))},s.prototype._initNumber=function(t,e,n){t<0&&(this.negative=1,t=-t),t<67108864?(this.words=[67108863&t],this.length=1):t<4503599627370496?(this.words=[67108863&t,t/67108864&67108863],this.length=2):(i(t<9007199254740992),this.words=[67108863&t,t/67108864&67108863,1],this.length=3),"le"===n&&this._initArray(this.toArray(),e,n)},s.prototype._initArray=function(t,e,n){if(i("number"==typeof t.length),t.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(t.length/3),this.words=new Array(this.length);for(var r=0;r<this.length;r++)this.words[r]=0;var s,o,a=0;if("be"===n)for(r=t.length-1,s=0;r>=0;r-=3)o=t[r]|t[r-1]<<8|t[r-2]<<16,this.words[s]|=o<<a&67108863,this.words[s+1]=o>>>26-a&67108863,(a+=24)>=26&&(a-=26,s++);else if("le"===n)for(r=0,s=0;r<t.length;r+=3)o=t[r]|t[r+1]<<8|t[r+2]<<16,this.words[s]|=o<<a&67108863,this.words[s+1]=o>>>26-a&67108863,(a+=24)>=26&&(a-=26,s++);return this.strip()},s.prototype._parseHex=function(t,e,i){this.length=Math.ceil((t.length-e)/6),this.words=new Array(this.length);for(var n=0;n<this.length;n++)this.words[n]=0;var r,s=0,o=0;if("be"===i)for(n=t.length-1;n>=e;n-=2)r=h(t,e,n)<<s,this.words[o]|=67108863&r,s>=18?(s-=18,o+=1,this.words[o]|=r>>>26):s+=8;else for(n=(t.length-e)%2==0?e+1:e;n<t.length;n+=2)r=h(t,e,n)<<s,this.words[o]|=67108863&r,s>=18?(s-=18,o+=1,this.words[o]|=r>>>26):s+=8;this.strip()},s.prototype._parseBase=function(t,e,i){this.words=[0],this.length=1;for(var n=0,r=1;r<=67108863;r*=e)n++;n--,r=r/e|0;for(var s=t.length-i,o=s%n,a=Math.min(s,s-o)+i,h=0,u=i;u<a;u+=n)h=l(t,u,u+n,e),this.imuln(r),this.words[0]+h<67108864?this.words[0]+=h:this._iaddn(h);if(0!==o){var c=1;for(h=l(t,u,t.length,e),u=0;u<o;u++)c*=e;this.imuln(c),this.words[0]+h<67108864?this.words[0]+=h:this._iaddn(h)}this.strip()},s.prototype.copy=function(t){t.words=new Array(this.length);for(var e=0;e<this.length;e++)t.words[e]=this.words[e];t.length=this.length,t.negative=this.negative,t.red=this.red},s.prototype.clone=function(){var t=new s(null);return this.copy(t),t},s.prototype._expand=function(t){for(;this.length<t;)this.words[this.length++]=0;return this},s.prototype.strip=function(){for(;this.length>1&&0===this.words[this.length-1];)this.length--;return this._normSign()},s.prototype._normSign=function(){return 1===this.length&&0===this.words[0]&&(this.negative=0),this},s.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var u=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],c=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],d=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];function f(t,e,i){i.negative=e.negative^t.negative;var n=t.length+e.length|0;i.length=n,n=n-1|0;var r=0|t.words[0],s=0|e.words[0],o=r*s,a=67108863&o,h=o/67108864|0;i.words[0]=a;for(var l=1;l<n;l++){for(var u=h>>>26,c=67108863&h,d=Math.min(l,e.length-1),f=Math.max(0,l-t.length+1);f<=d;f++){var p=l-f|0;u+=(o=(r=0|t.words[p])*(s=0|e.words[f])+c)/67108864|0,c=67108863&o}i.words[l]=0|c,h=0|u}return 0!==h?i.words[l]=0|h:i.length--,i.strip()}s.prototype.toString=function(t,e){var n;if(e=0|e||1,16===(t=t||10)||"hex"===t){n="";for(var r=0,s=0,o=0;o<this.length;o++){var a=this.words[o],h=(16777215&(a<<r|s)).toString(16);n=0!==(s=a>>>24-r&16777215)||o!==this.length-1?u[6-h.length]+h+n:h+n,(r+=2)>=26&&(r-=26,o--)}for(0!==s&&(n=s.toString(16)+n);n.length%e!=0;)n="0"+n;return 0!==this.negative&&(n="-"+n),n}if(t===(0|t)&&t>=2&&t<=36){var l=c[t],f=d[t];n="";var p=this.clone();for(p.negative=0;!p.isZero();){var m=p.modn(f).toString(t);n=(p=p.idivn(f)).isZero()?m+n:u[l-m.length]+m+n}for(this.isZero()&&(n="0"+n);n.length%e!=0;)n="0"+n;return 0!==this.negative&&(n="-"+n),n}i(!1,"Base should be between 2 and 36")},s.prototype.toNumber=function(){var t=this.words[0];return 2===this.length?t+=67108864*this.words[1]:3===this.length&&1===this.words[2]?t+=4503599627370496+67108864*this.words[1]:this.length>2&&i(!1,"Number can only safely store up to 53 bits"),0!==this.negative?-t:t},s.prototype.toJSON=function(){return this.toString(16)},s.prototype.toBuffer=function(t,e){return i(void 0!==o),this.toArrayLike(o,t,e)},s.prototype.toArray=function(t,e){return this.toArrayLike(Array,t,e)},s.prototype.toArrayLike=function(t,e,n){var r=this.byteLength(),s=n||Math.max(1,r);i(r<=s,"byte array longer than desired length"),i(s>0,"Requested array length <= 0"),this.strip();var o,a,h="le"===e,l=new t(s),u=this.clone();if(h){for(a=0;!u.isZero();a++)o=u.andln(255),u.iushrn(8),l[a]=o;for(;a<s;a++)l[a]=0}else{for(a=0;a<s-r;a++)l[a]=0;for(a=0;!u.isZero();a++)o=u.andln(255),u.iushrn(8),l[s-a-1]=o}return l},Math.clz32?s.prototype._countBits=function(t){return 32-Math.clz32(t)}:s.prototype._countBits=function(t){var e=t,i=0;return e>=4096&&(i+=13,e>>>=13),e>=64&&(i+=7,e>>>=7),e>=8&&(i+=4,e>>>=4),e>=2&&(i+=2,e>>>=2),i+e},s.prototype._zeroBits=function(t){if(0===t)return 26;var e=t,i=0;return 0==(8191&e)&&(i+=13,e>>>=13),0==(127&e)&&(i+=7,e>>>=7),0==(15&e)&&(i+=4,e>>>=4),0==(3&e)&&(i+=2,e>>>=2),0==(1&e)&&i++,i},s.prototype.bitLength=function(){var t=this.words[this.length-1],e=this._countBits(t);return 26*(this.length-1)+e},s.prototype.zeroBits=function(){if(this.isZero())return 0;for(var t=0,e=0;e<this.length;e++){var i=this._zeroBits(this.words[e]);if(t+=i,26!==i)break}return t},s.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},s.prototype.toTwos=function(t){return 0!==this.negative?this.abs().inotn(t).iaddn(1):this.clone()},s.prototype.fromTwos=function(t){return this.testn(t-1)?this.notn(t).iaddn(1).ineg():this.clone()},s.prototype.isNeg=function(){return 0!==this.negative},s.prototype.neg=function(){return this.clone().ineg()},s.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},s.prototype.iuor=function(t){for(;this.length<t.length;)this.words[this.length++]=0;for(var e=0;e<t.length;e++)this.words[e]=this.words[e]|t.words[e];return this.strip()},s.prototype.ior=function(t){return i(0==(this.negative|t.negative)),this.iuor(t)},s.prototype.or=function(t){return this.length>t.length?this.clone().ior(t):t.clone().ior(this)},s.prototype.uor=function(t){return this.length>t.length?this.clone().iuor(t):t.clone().iuor(this)},s.prototype.iuand=function(t){var e;e=this.length>t.length?t:this;for(var i=0;i<e.length;i++)this.words[i]=this.words[i]&t.words[i];return this.length=e.length,this.strip()},s.prototype.iand=function(t){return i(0==(this.negative|t.negative)),this.iuand(t)},s.prototype.and=function(t){return this.length>t.length?this.clone().iand(t):t.clone().iand(this)},s.prototype.uand=function(t){return this.length>t.length?this.clone().iuand(t):t.clone().iuand(this)},s.prototype.iuxor=function(t){var e,i;this.length>t.length?(e=this,i=t):(e=t,i=this);for(var n=0;n<i.length;n++)this.words[n]=e.words[n]^i.words[n];if(this!==e)for(;n<e.length;n++)this.words[n]=e.words[n];return this.length=e.length,this.strip()},s.prototype.ixor=function(t){return i(0==(this.negative|t.negative)),this.iuxor(t)},s.prototype.xor=function(t){return this.length>t.length?this.clone().ixor(t):t.clone().ixor(this)},s.prototype.uxor=function(t){return this.length>t.length?this.clone().iuxor(t):t.clone().iuxor(this)},s.prototype.inotn=function(t){i("number"==typeof t&&t>=0);var e=0|Math.ceil(t/26),n=t%26;this._expand(e),n>0&&e--;for(var r=0;r<e;r++)this.words[r]=67108863&~this.words[r];return n>0&&(this.words[r]=~this.words[r]&67108863>>26-n),this.strip()},s.prototype.notn=function(t){return this.clone().inotn(t)},s.prototype.setn=function(t,e){i("number"==typeof t&&t>=0);var n=t/26|0,r=t%26;return this._expand(n+1),this.words[n]=e?this.words[n]|1<<r:this.words[n]&~(1<<r),this.strip()},s.prototype.iadd=function(t){var e,i,n;if(0!==this.negative&&0===t.negative)return this.negative=0,e=this.isub(t),this.negative^=1,this._normSign();if(0===this.negative&&0!==t.negative)return t.negative=0,e=this.isub(t),t.negative=1,e._normSign();this.length>t.length?(i=this,n=t):(i=t,n=this);for(var r=0,s=0;s<n.length;s++)e=(0|i.words[s])+(0|n.words[s])+r,this.words[s]=67108863&e,r=e>>>26;for(;0!==r&&s<i.length;s++)e=(0|i.words[s])+r,this.words[s]=67108863&e,r=e>>>26;if(this.length=i.length,0!==r)this.words[this.length]=r,this.length++;else if(i!==this)for(;s<i.length;s++)this.words[s]=i.words[s];return this},s.prototype.add=function(t){var e;return 0!==t.negative&&0===this.negative?(t.negative=0,e=this.sub(t),t.negative^=1,e):0===t.negative&&0!==this.negative?(this.negative=0,e=t.sub(this),this.negative=1,e):this.length>t.length?this.clone().iadd(t):t.clone().iadd(this)},s.prototype.isub=function(t){if(0!==t.negative){t.negative=0;var e=this.iadd(t);return t.negative=1,e._normSign()}if(0!==this.negative)return this.negative=0,this.iadd(t),this.negative=1,this._normSign();var i,n,r=this.cmp(t);if(0===r)return this.negative=0,this.length=1,this.words[0]=0,this;r>0?(i=this,n=t):(i=t,n=this);for(var s=0,o=0;o<n.length;o++)s=(e=(0|i.words[o])-(0|n.words[o])+s)>>26,this.words[o]=67108863&e;for(;0!==s&&o<i.length;o++)s=(e=(0|i.words[o])+s)>>26,this.words[o]=67108863&e;if(0===s&&o<i.length&&i!==this)for(;o<i.length;o++)this.words[o]=i.words[o];return this.length=Math.max(this.length,o),i!==this&&(this.negative=1),this.strip()},s.prototype.sub=function(t){return this.clone().isub(t)};var p=function(t,e,i){var n,r,s,o=t.words,a=e.words,h=i.words,l=0,u=0|o[0],c=8191&u,d=u>>>13,f=0|o[1],p=8191&f,m=f>>>13,g=0|o[2],v=8191&g,y=g>>>13,b=0|o[3],w=8191&b,_=b>>>13,M=0|o[4],x=8191&M,k=M>>>13,A=0|o[5],E=8191&A,S=A>>>13,T=0|o[6],I=8191&T,q=T>>>13,C=0|o[7],R=8191&C,D=C>>>13,L=0|o[8],N=8191&L,O=L>>>13,P=0|o[9],B=8191&P,U=P>>>13,F=0|a[0],j=8191&F,z=F>>>13,V=0|a[1],H=8191&V,W=V>>>13,K=0|a[2],G=8191&K,Q=K>>>13,Y=0|a[3],Z=8191&Y,$=Y>>>13,X=0|a[4],J=8191&X,tt=X>>>13,et=0|a[5],it=8191&et,nt=et>>>13,rt=0|a[6],st=8191&rt,ot=rt>>>13,at=0|a[7],ht=8191&at,lt=at>>>13,ut=0|a[8],ct=8191&ut,dt=ut>>>13,ft=0|a[9],pt=8191&ft,mt=ft>>>13;i.negative=t.negative^e.negative,i.length=19;var gt=(l+(n=Math.imul(c,j))|0)+((8191&(r=(r=Math.imul(c,z))+Math.imul(d,j)|0))<<13)|0;l=((s=Math.imul(d,z))+(r>>>13)|0)+(gt>>>26)|0,gt&=67108863,n=Math.imul(p,j),r=(r=Math.imul(p,z))+Math.imul(m,j)|0,s=Math.imul(m,z);var vt=(l+(n=n+Math.imul(c,H)|0)|0)+((8191&(r=(r=r+Math.imul(c,W)|0)+Math.imul(d,H)|0))<<13)|0;l=((s=s+Math.imul(d,W)|0)+(r>>>13)|0)+(vt>>>26)|0,vt&=67108863,n=Math.imul(v,j),r=(r=Math.imul(v,z))+Math.imul(y,j)|0,s=Math.imul(y,z),n=n+Math.imul(p,H)|0,r=(r=r+Math.imul(p,W)|0)+Math.imul(m,H)|0,s=s+Math.imul(m,W)|0;var yt=(l+(n=n+Math.imul(c,G)|0)|0)+((8191&(r=(r=r+Math.imul(c,Q)|0)+Math.imul(d,G)|0))<<13)|0;l=((s=s+Math.imul(d,Q)|0)+(r>>>13)|0)+(yt>>>26)|0,yt&=67108863,n=Math.imul(w,j),r=(r=Math.imul(w,z))+Math.imul(_,j)|0,s=Math.imul(_,z),n=n+Math.imul(v,H)|0,r=(r=r+Math.imul(v,W)|0)+Math.imul(y,H)|0,s=s+Math.imul(y,W)|0,n=n+Math.imul(p,G)|0,r=(r=r+Math.imul(p,Q)|0)+Math.imul(m,G)|0,s=s+Math.imul(m,Q)|0;var bt=(l+(n=n+Math.imul(c,Z)|0)|0)+((8191&(r=(r=r+Math.imul(c,$)|0)+Math.imul(d,Z)|0))<<13)|0;l=((s=s+Math.imul(d,$)|0)+(r>>>13)|0)+(bt>>>26)|0,bt&=67108863,n=Math.imul(x,j),r=(r=Math.imul(x,z))+Math.imul(k,j)|0,s=Math.imul(k,z),n=n+Math.imul(w,H)|0,r=(r=r+Math.imul(w,W)|0)+Math.imul(_,H)|0,s=s+Math.imul(_,W)|0,n=n+Math.imul(v,G)|0,r=(r=r+Math.imul(v,Q)|0)+Math.imul(y,G)|0,s=s+Math.imul(y,Q)|0,n=n+Math.imul(p,Z)|0,r=(r=r+Math.imul(p,$)|0)+Math.imul(m,Z)|0,s=s+Math.imul(m,$)|0;var wt=(l+(n=n+Math.imul(c,J)|0)|0)+((8191&(r=(r=r+Math.imul(c,tt)|0)+Math.imul(d,J)|0))<<13)|0;l=((s=s+Math.imul(d,tt)|0)+(r>>>13)|0)+(wt>>>26)|0,wt&=67108863,n=Math.imul(E,j),r=(r=Math.imul(E,z))+Math.imul(S,j)|0,s=Math.imul(S,z),n=n+Math.imul(x,H)|0,r=(r=r+Math.imul(x,W)|0)+Math.imul(k,H)|0,s=s+Math.imul(k,W)|0,n=n+Math.imul(w,G)|0,r=(r=r+Math.imul(w,Q)|0)+Math.imul(_,G)|0,s=s+Math.imul(_,Q)|0,n=n+Math.imul(v,Z)|0,r=(r=r+Math.imul(v,$)|0)+Math.imul(y,Z)|0,s=s+Math.imul(y,$)|0,n=n+Math.imul(p,J)|0,r=(r=r+Math.imul(p,tt)|0)+Math.imul(m,J)|0,s=s+Math.imul(m,tt)|0;var _t=(l+(n=n+Math.imul(c,it)|0)|0)+((8191&(r=(r=r+Math.imul(c,nt)|0)+Math.imul(d,it)|0))<<13)|0;l=((s=s+Math.imul(d,nt)|0)+(r>>>13)|0)+(_t>>>26)|0,_t&=67108863,n=Math.imul(I,j),r=(r=Math.imul(I,z))+Math.imul(q,j)|0,s=Math.imul(q,z),n=n+Math.imul(E,H)|0,r=(r=r+Math.imul(E,W)|0)+Math.imul(S,H)|0,s=s+Math.imul(S,W)|0,n=n+Math.imul(x,G)|0,r=(r=r+Math.imul(x,Q)|0)+Math.imul(k,G)|0,s=s+Math.imul(k,Q)|0,n=n+Math.imul(w,Z)|0,r=(r=r+Math.imul(w,$)|0)+Math.imul(_,Z)|0,s=s+Math.imul(_,$)|0,n=n+Math.imul(v,J)|0,r=(r=r+Math.imul(v,tt)|0)+Math.imul(y,J)|0,s=s+Math.imul(y,tt)|0,n=n+Math.imul(p,it)|0,r=(r=r+Math.imul(p,nt)|0)+Math.imul(m,it)|0,s=s+Math.imul(m,nt)|0;var Mt=(l+(n=n+Math.imul(c,st)|0)|0)+((8191&(r=(r=r+Math.imul(c,ot)|0)+Math.imul(d,st)|0))<<13)|0;l=((s=s+Math.imul(d,ot)|0)+(r>>>13)|0)+(Mt>>>26)|0,Mt&=67108863,n=Math.imul(R,j),r=(r=Math.imul(R,z))+Math.imul(D,j)|0,s=Math.imul(D,z),n=n+Math.imul(I,H)|0,r=(r=r+Math.imul(I,W)|0)+Math.imul(q,H)|0,s=s+Math.imul(q,W)|0,n=n+Math.imul(E,G)|0,r=(r=r+Math.imul(E,Q)|0)+Math.imul(S,G)|0,s=s+Math.imul(S,Q)|0,n=n+Math.imul(x,Z)|0,r=(r=r+Math.imul(x,$)|0)+Math.imul(k,Z)|0,s=s+Math.imul(k,$)|0,n=n+Math.imul(w,J)|0,r=(r=r+Math.imul(w,tt)|0)+Math.imul(_,J)|0,s=s+Math.imul(_,tt)|0,n=n+Math.imul(v,it)|0,r=(r=r+Math.imul(v,nt)|0)+Math.imul(y,it)|0,s=s+Math.imul(y,nt)|0,n=n+Math.imul(p,st)|0,r=(r=r+Math.imul(p,ot)|0)+Math.imul(m,st)|0,s=s+Math.imul(m,ot)|0;var xt=(l+(n=n+Math.imul(c,ht)|0)|0)+((8191&(r=(r=r+Math.imul(c,lt)|0)+Math.imul(d,ht)|0))<<13)|0;l=((s=s+Math.imul(d,lt)|0)+(r>>>13)|0)+(xt>>>26)|0,xt&=67108863,n=Math.imul(N,j),r=(r=Math.imul(N,z))+Math.imul(O,j)|0,s=Math.imul(O,z),n=n+Math.imul(R,H)|0,r=(r=r+Math.imul(R,W)|0)+Math.imul(D,H)|0,s=s+Math.imul(D,W)|0,n=n+Math.imul(I,G)|0,r=(r=r+Math.imul(I,Q)|0)+Math.imul(q,G)|0,s=s+Math.imul(q,Q)|0,n=n+Math.imul(E,Z)|0,r=(r=r+Math.imul(E,$)|0)+Math.imul(S,Z)|0,s=s+Math.imul(S,$)|0,n=n+Math.imul(x,J)|0,r=(r=r+Math.imul(x,tt)|0)+Math.imul(k,J)|0,s=s+Math.imul(k,tt)|0,n=n+Math.imul(w,it)|0,r=(r=r+Math.imul(w,nt)|0)+Math.imul(_,it)|0,s=s+Math.imul(_,nt)|0,n=n+Math.imul(v,st)|0,r=(r=r+Math.imul(v,ot)|0)+Math.imul(y,st)|0,s=s+Math.imul(y,ot)|0,n=n+Math.imul(p,ht)|0,r=(r=r+Math.imul(p,lt)|0)+Math.imul(m,ht)|0,s=s+Math.imul(m,lt)|0;var kt=(l+(n=n+Math.imul(c,ct)|0)|0)+((8191&(r=(r=r+Math.imul(c,dt)|0)+Math.imul(d,ct)|0))<<13)|0;l=((s=s+Math.imul(d,dt)|0)+(r>>>13)|0)+(kt>>>26)|0,kt&=67108863,n=Math.imul(B,j),r=(r=Math.imul(B,z))+Math.imul(U,j)|0,s=Math.imul(U,z),n=n+Math.imul(N,H)|0,r=(r=r+Math.imul(N,W)|0)+Math.imul(O,H)|0,s=s+Math.imul(O,W)|0,n=n+Math.imul(R,G)|0,r=(r=r+Math.imul(R,Q)|0)+Math.imul(D,G)|0,s=s+Math.imul(D,Q)|0,n=n+Math.imul(I,Z)|0,r=(r=r+Math.imul(I,$)|0)+Math.imul(q,Z)|0,s=s+Math.imul(q,$)|0,n=n+Math.imul(E,J)|0,r=(r=r+Math.imul(E,tt)|0)+Math.imul(S,J)|0,s=s+Math.imul(S,tt)|0,n=n+Math.imul(x,it)|0,r=(r=r+Math.imul(x,nt)|0)+Math.imul(k,it)|0,s=s+Math.imul(k,nt)|0,n=n+Math.imul(w,st)|0,r=(r=r+Math.imul(w,ot)|0)+Math.imul(_,st)|0,s=s+Math.imul(_,ot)|0,n=n+Math.imul(v,ht)|0,r=(r=r+Math.imul(v,lt)|0)+Math.imul(y,ht)|0,s=s+Math.imul(y,lt)|0,n=n+Math.imul(p,ct)|0,r=(r=r+Math.imul(p,dt)|0)+Math.imul(m,ct)|0,s=s+Math.imul(m,dt)|0;var At=(l+(n=n+Math.imul(c,pt)|0)|0)+((8191&(r=(r=r+Math.imul(c,mt)|0)+Math.imul(d,pt)|0))<<13)|0;l=((s=s+Math.imul(d,mt)|0)+(r>>>13)|0)+(At>>>26)|0,At&=67108863,n=Math.imul(B,H),r=(r=Math.imul(B,W))+Math.imul(U,H)|0,s=Math.imul(U,W),n=n+Math.imul(N,G)|0,r=(r=r+Math.imul(N,Q)|0)+Math.imul(O,G)|0,s=s+Math.imul(O,Q)|0,n=n+Math.imul(R,Z)|0,r=(r=r+Math.imul(R,$)|0)+Math.imul(D,Z)|0,s=s+Math.imul(D,$)|0,n=n+Math.imul(I,J)|0,r=(r=r+Math.imul(I,tt)|0)+Math.imul(q,J)|0,s=s+Math.imul(q,tt)|0,n=n+Math.imul(E,it)|0,r=(r=r+Math.imul(E,nt)|0)+Math.imul(S,it)|0,s=s+Math.imul(S,nt)|0,n=n+Math.imul(x,st)|0,r=(r=r+Math.imul(x,ot)|0)+Math.imul(k,st)|0,s=s+Math.imul(k,ot)|0,n=n+Math.imul(w,ht)|0,r=(r=r+Math.imul(w,lt)|0)+Math.imul(_,ht)|0,s=s+Math.imul(_,lt)|0,n=n+Math.imul(v,ct)|0,r=(r=r+Math.imul(v,dt)|0)+Math.imul(y,ct)|0,s=s+Math.imul(y,dt)|0;var Et=(l+(n=n+Math.imul(p,pt)|0)|0)+((8191&(r=(r=r+Math.imul(p,mt)|0)+Math.imul(m,pt)|0))<<13)|0;l=((s=s+Math.imul(m,mt)|0)+(r>>>13)|0)+(Et>>>26)|0,Et&=67108863,n=Math.imul(B,G),r=(r=Math.imul(B,Q))+Math.imul(U,G)|0,s=Math.imul(U,Q),n=n+Math.imul(N,Z)|0,r=(r=r+Math.imul(N,$)|0)+Math.imul(O,Z)|0,s=s+Math.imul(O,$)|0,n=n+Math.imul(R,J)|0,r=(r=r+Math.imul(R,tt)|0)+Math.imul(D,J)|0,s=s+Math.imul(D,tt)|0,n=n+Math.imul(I,it)|0,r=(r=r+Math.imul(I,nt)|0)+Math.imul(q,it)|0,s=s+Math.imul(q,nt)|0,n=n+Math.imul(E,st)|0,r=(r=r+Math.imul(E,ot)|0)+Math.imul(S,st)|0,s=s+Math.imul(S,ot)|0,n=n+Math.imul(x,ht)|0,r=(r=r+Math.imul(x,lt)|0)+Math.imul(k,ht)|0,s=s+Math.imul(k,lt)|0,n=n+Math.imul(w,ct)|0,r=(r=r+Math.imul(w,dt)|0)+Math.imul(_,ct)|0,s=s+Math.imul(_,dt)|0;var St=(l+(n=n+Math.imul(v,pt)|0)|0)+((8191&(r=(r=r+Math.imul(v,mt)|0)+Math.imul(y,pt)|0))<<13)|0;l=((s=s+Math.imul(y,mt)|0)+(r>>>13)|0)+(St>>>26)|0,St&=67108863,n=Math.imul(B,Z),r=(r=Math.imul(B,$))+Math.imul(U,Z)|0,s=Math.imul(U,$),n=n+Math.imul(N,J)|0,r=(r=r+Math.imul(N,tt)|0)+Math.imul(O,J)|0,s=s+Math.imul(O,tt)|0,n=n+Math.imul(R,it)|0,r=(r=r+Math.imul(R,nt)|0)+Math.imul(D,it)|0,s=s+Math.imul(D,nt)|0,n=n+Math.imul(I,st)|0,r=(r=r+Math.imul(I,ot)|0)+Math.imul(q,st)|0,s=s+Math.imul(q,ot)|0,n=n+Math.imul(E,ht)|0,r=(r=r+Math.imul(E,lt)|0)+Math.imul(S,ht)|0,s=s+Math.imul(S,lt)|0,n=n+Math.imul(x,ct)|0,r=(r=r+Math.imul(x,dt)|0)+Math.imul(k,ct)|0,s=s+Math.imul(k,dt)|0;var Tt=(l+(n=n+Math.imul(w,pt)|0)|0)+((8191&(r=(r=r+Math.imul(w,mt)|0)+Math.imul(_,pt)|0))<<13)|0;l=((s=s+Math.imul(_,mt)|0)+(r>>>13)|0)+(Tt>>>26)|0,Tt&=67108863,n=Math.imul(B,J),r=(r=Math.imul(B,tt))+Math.imul(U,J)|0,s=Math.imul(U,tt),n=n+Math.imul(N,it)|0,r=(r=r+Math.imul(N,nt)|0)+Math.imul(O,it)|0,s=s+Math.imul(O,nt)|0,n=n+Math.imul(R,st)|0,r=(r=r+Math.imul(R,ot)|0)+Math.imul(D,st)|0,s=s+Math.imul(D,ot)|0,n=n+Math.imul(I,ht)|0,r=(r=r+Math.imul(I,lt)|0)+Math.imul(q,ht)|0,s=s+Math.imul(q,lt)|0,n=n+Math.imul(E,ct)|0,r=(r=r+Math.imul(E,dt)|0)+Math.imul(S,ct)|0,s=s+Math.imul(S,dt)|0;var It=(l+(n=n+Math.imul(x,pt)|0)|0)+((8191&(r=(r=r+Math.imul(x,mt)|0)+Math.imul(k,pt)|0))<<13)|0;l=((s=s+Math.imul(k,mt)|0)+(r>>>13)|0)+(It>>>26)|0,It&=67108863,n=Math.imul(B,it),r=(r=Math.imul(B,nt))+Math.imul(U,it)|0,s=Math.imul(U,nt),n=n+Math.imul(N,st)|0,r=(r=r+Math.imul(N,ot)|0)+Math.imul(O,st)|0,s=s+Math.imul(O,ot)|0,n=n+Math.imul(R,ht)|0,r=(r=r+Math.imul(R,lt)|0)+Math.imul(D,ht)|0,s=s+Math.imul(D,lt)|0,n=n+Math.imul(I,ct)|0,r=(r=r+Math.imul(I,dt)|0)+Math.imul(q,ct)|0,s=s+Math.imul(q,dt)|0;var qt=(l+(n=n+Math.imul(E,pt)|0)|0)+((8191&(r=(r=r+Math.imul(E,mt)|0)+Math.imul(S,pt)|0))<<13)|0;l=((s=s+Math.imul(S,mt)|0)+(r>>>13)|0)+(qt>>>26)|0,qt&=67108863,n=Math.imul(B,st),r=(r=Math.imul(B,ot))+Math.imul(U,st)|0,s=Math.imul(U,ot),n=n+Math.imul(N,ht)|0,r=(r=r+Math.imul(N,lt)|0)+Math.imul(O,ht)|0,s=s+Math.imul(O,lt)|0,n=n+Math.imul(R,ct)|0,r=(r=r+Math.imul(R,dt)|0)+Math.imul(D,ct)|0,s=s+Math.imul(D,dt)|0;var Ct=(l+(n=n+Math.imul(I,pt)|0)|0)+((8191&(r=(r=r+Math.imul(I,mt)|0)+Math.imul(q,pt)|0))<<13)|0;l=((s=s+Math.imul(q,mt)|0)+(r>>>13)|0)+(Ct>>>26)|0,Ct&=67108863,n=Math.imul(B,ht),r=(r=Math.imul(B,lt))+Math.imul(U,ht)|0,s=Math.imul(U,lt),n=n+Math.imul(N,ct)|0,r=(r=r+Math.imul(N,dt)|0)+Math.imul(O,ct)|0,s=s+Math.imul(O,dt)|0;var Rt=(l+(n=n+Math.imul(R,pt)|0)|0)+((8191&(r=(r=r+Math.imul(R,mt)|0)+Math.imul(D,pt)|0))<<13)|0;l=((s=s+Math.imul(D,mt)|0)+(r>>>13)|0)+(Rt>>>26)|0,Rt&=67108863,n=Math.imul(B,ct),r=(r=Math.imul(B,dt))+Math.imul(U,ct)|0,s=Math.imul(U,dt);var Dt=(l+(n=n+Math.imul(N,pt)|0)|0)+((8191&(r=(r=r+Math.imul(N,mt)|0)+Math.imul(O,pt)|0))<<13)|0;l=((s=s+Math.imul(O,mt)|0)+(r>>>13)|0)+(Dt>>>26)|0,Dt&=67108863;var Lt=(l+(n=Math.imul(B,pt))|0)+((8191&(r=(r=Math.imul(B,mt))+Math.imul(U,pt)|0))<<13)|0;return l=((s=Math.imul(U,mt))+(r>>>13)|0)+(Lt>>>26)|0,Lt&=67108863,h[0]=gt,h[1]=vt,h[2]=yt,h[3]=bt,h[4]=wt,h[5]=_t,h[6]=Mt,h[7]=xt,h[8]=kt,h[9]=At,h[10]=Et,h[11]=St,h[12]=Tt,h[13]=It,h[14]=qt,h[15]=Ct,h[16]=Rt,h[17]=Dt,h[18]=Lt,0!==l&&(h[19]=l,i.length++),i};function m(t,e,i){return(new g).mulp(t,e,i)}function g(t,e){this.x=t,this.y=e}Math.imul||(p=f),s.prototype.mulTo=function(t,e){var i,n=this.length+t.length;return i=10===this.length&&10===t.length?p(this,t,e):n<63?f(this,t,e):n<1024?function(t,e,i){i.negative=e.negative^t.negative,i.length=t.length+e.length;for(var n=0,r=0,s=0;s<i.length-1;s++){var o=r;r=0;for(var a=67108863&n,h=Math.min(s,e.length-1),l=Math.max(0,s-t.length+1);l<=h;l++){var u=s-l,c=(0|t.words[u])*(0|e.words[l]),d=67108863&c;a=67108863&(d=d+a|0),r+=(o=(o=o+(c/67108864|0)|0)+(d>>>26)|0)>>>26,o&=67108863}i.words[s]=a,n=o,o=r}return 0!==n?i.words[s]=n:i.length--,i.strip()}(this,t,e):m(this,t,e),i},g.prototype.makeRBT=function(t){for(var e=new Array(t),i=s.prototype._countBits(t)-1,n=0;n<t;n++)e[n]=this.revBin(n,i,t);return e},g.prototype.revBin=function(t,e,i){if(0===t||t===i-1)return t;for(var n=0,r=0;r<e;r++)n|=(1&t)<<e-r-1,t>>=1;return n},g.prototype.permute=function(t,e,i,n,r,s){for(var o=0;o<s;o++)n[o]=e[t[o]],r[o]=i[t[o]]},g.prototype.transform=function(t,e,i,n,r,s){this.permute(s,t,e,i,n,r);for(var o=1;o<r;o<<=1)for(var a=o<<1,h=Math.cos(2*Math.PI/a),l=Math.sin(2*Math.PI/a),u=0;u<r;u+=a)for(var c=h,d=l,f=0;f<o;f++){var p=i[u+f],m=n[u+f],g=i[u+f+o],v=n[u+f+o],y=c*g-d*v;v=c*v+d*g,g=y,i[u+f]=p+g,n[u+f]=m+v,i[u+f+o]=p-g,n[u+f+o]=m-v,f!==a&&(y=h*c-l*d,d=h*d+l*c,c=y)}},g.prototype.guessLen13b=function(t,e){var i=1|Math.max(e,t),n=1&i,r=0;for(i=i/2|0;i;i>>>=1)r++;return 1<<r+1+n},g.prototype.conjugate=function(t,e,i){if(!(i<=1))for(var n=0;n<i/2;n++){var r=t[n];t[n]=t[i-n-1],t[i-n-1]=r,r=e[n],e[n]=-e[i-n-1],e[i-n-1]=-r}},g.prototype.normalize13b=function(t,e){for(var i=0,n=0;n<e/2;n++){var r=8192*Math.round(t[2*n+1]/e)+Math.round(t[2*n]/e)+i;t[n]=67108863&r,i=r<67108864?0:r/67108864|0}return t},g.prototype.convert13b=function(t,e,n,r){for(var s=0,o=0;o<e;o++)s+=0|t[o],n[2*o]=8191&s,s>>>=13,n[2*o+1]=8191&s,s>>>=13;for(o=2*e;o<r;++o)n[o]=0;i(0===s),i(0==(-8192&s))},g.prototype.stub=function(t){for(var e=new Array(t),i=0;i<t;i++)e[i]=0;return e},g.prototype.mulp=function(t,e,i){var n=2*this.guessLen13b(t.length,e.length),r=this.makeRBT(n),s=this.stub(n),o=new Array(n),a=new Array(n),h=new Array(n),l=new Array(n),u=new Array(n),c=new Array(n),d=i.words;d.length=n,this.convert13b(t.words,t.length,o,n),this.convert13b(e.words,e.length,l,n),this.transform(o,s,a,h,n,r),this.transform(l,s,u,c,n,r);for(var f=0;f<n;f++){var p=a[f]*u[f]-h[f]*c[f];h[f]=a[f]*c[f]+h[f]*u[f],a[f]=p}return this.conjugate(a,h,n),this.transform(a,h,d,s,n,r),this.conjugate(d,s,n),this.normalize13b(d,n),i.negative=t.negative^e.negative,i.length=t.length+e.length,i.strip()},s.prototype.mul=function(t){var e=new s(null);return e.words=new Array(this.length+t.length),this.mulTo(t,e)},s.prototype.mulf=function(t){var e=new s(null);return e.words=new Array(this.length+t.length),m(this,t,e)},s.prototype.imul=function(t){return this.clone().mulTo(t,this)},s.prototype.imuln=function(t){i("number"==typeof t),i(t<67108864);for(var e=0,n=0;n<this.length;n++){var r=(0|this.words[n])*t,s=(67108863&r)+(67108863&e);e>>=26,e+=r/67108864|0,e+=s>>>26,this.words[n]=67108863&s}return 0!==e&&(this.words[n]=e,this.length++),this},s.prototype.muln=function(t){return this.clone().imuln(t)},s.prototype.sqr=function(){return this.mul(this)},s.prototype.isqr=function(){return this.imul(this.clone())},s.prototype.pow=function(t){var e=function(t){for(var e=new Array(t.bitLength()),i=0;i<e.length;i++){var n=i/26|0,r=i%26;e[i]=(t.words[n]&1<<r)>>>r}return e}(t);if(0===e.length)return new s(1);for(var i=this,n=0;n<e.length&&0===e[n];n++,i=i.sqr());if(++n<e.length)for(var r=i.sqr();n<e.length;n++,r=r.sqr())0!==e[n]&&(i=i.mul(r));return i},s.prototype.iushln=function(t){i("number"==typeof t&&t>=0);var e,n=t%26,r=(t-n)/26,s=67108863>>>26-n<<26-n;if(0!==n){var o=0;for(e=0;e<this.length;e++){var a=this.words[e]&s,h=(0|this.words[e])-a<<n;this.words[e]=h|o,o=a>>>26-n}o&&(this.words[e]=o,this.length++)}if(0!==r){for(e=this.length-1;e>=0;e--)this.words[e+r]=this.words[e];for(e=0;e<r;e++)this.words[e]=0;this.length+=r}return this.strip()},s.prototype.ishln=function(t){return i(0===this.negative),this.iushln(t)},s.prototype.iushrn=function(t,e,n){var r;i("number"==typeof t&&t>=0),r=e?(e-e%26)/26:0;var s=t%26,o=Math.min((t-s)/26,this.length),a=67108863^67108863>>>s<<s,h=n;if(r-=o,r=Math.max(0,r),h){for(var l=0;l<o;l++)h.words[l]=this.words[l];h.length=o}if(0===o);else if(this.length>o)for(this.length-=o,l=0;l<this.length;l++)this.words[l]=this.words[l+o];else this.words[0]=0,this.length=1;var u=0;for(l=this.length-1;l>=0&&(0!==u||l>=r);l--){var c=0|this.words[l];this.words[l]=u<<26-s|c>>>s,u=c&a}return h&&0!==u&&(h.words[h.length++]=u),0===this.length&&(this.words[0]=0,this.length=1),this.strip()},s.prototype.ishrn=function(t,e,n){return i(0===this.negative),this.iushrn(t,e,n)},s.prototype.shln=function(t){return this.clone().ishln(t)},s.prototype.ushln=function(t){return this.clone().iushln(t)},s.prototype.shrn=function(t){return this.clone().ishrn(t)},s.prototype.ushrn=function(t){return this.clone().iushrn(t)},s.prototype.testn=function(t){i("number"==typeof t&&t>=0);var e=t%26,n=(t-e)/26,r=1<<e;return!(this.length<=n)&&!!(this.words[n]&r)},s.prototype.imaskn=function(t){i("number"==typeof t&&t>=0);var e=t%26,n=(t-e)/26;if(i(0===this.negative,"imaskn works only with positive numbers"),this.length<=n)return this;if(0!==e&&n++,this.length=Math.min(n,this.length),0!==e){var r=67108863^67108863>>>e<<e;this.words[this.length-1]&=r}return this.strip()},s.prototype.maskn=function(t){return this.clone().imaskn(t)},s.prototype.iaddn=function(t){return i("number"==typeof t),i(t<67108864),t<0?this.isubn(-t):0!==this.negative?1===this.length&&(0|this.words[0])<t?(this.words[0]=t-(0|this.words[0]),this.negative=0,this):(this.negative=0,this.isubn(t),this.negative=1,this):this._iaddn(t)},s.prototype._iaddn=function(t){this.words[0]+=t;for(var e=0;e<this.length&&this.words[e]>=67108864;e++)this.words[e]-=67108864,e===this.length-1?this.words[e+1]=1:this.words[e+1]++;return this.length=Math.max(this.length,e+1),this},s.prototype.isubn=function(t){if(i("number"==typeof t),i(t<67108864),t<0)return this.iaddn(-t);if(0!==this.negative)return this.negative=0,this.iaddn(t),this.negative=1,this;if(this.words[0]-=t,1===this.length&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var e=0;e<this.length&&this.words[e]<0;e++)this.words[e]+=67108864,this.words[e+1]-=1;return this.strip()},s.prototype.addn=function(t){return this.clone().iaddn(t)},s.prototype.subn=function(t){return this.clone().isubn(t)},s.prototype.iabs=function(){return this.negative=0,this},s.prototype.abs=function(){return this.clone().iabs()},s.prototype._ishlnsubmul=function(t,e,n){var r,s,o=t.length+n;this._expand(o);var a=0;for(r=0;r<t.length;r++){s=(0|this.words[r+n])+a;var h=(0|t.words[r])*e;a=((s-=67108863&h)>>26)-(h/67108864|0),this.words[r+n]=67108863&s}for(;r<this.length-n;r++)a=(s=(0|this.words[r+n])+a)>>26,this.words[r+n]=67108863&s;if(0===a)return this.strip();for(i(-1===a),a=0,r=0;r<this.length;r++)a=(s=-(0|this.words[r])+a)>>26,this.words[r]=67108863&s;return this.negative=1,this.strip()},s.prototype._wordDiv=function(t,e){var i=(this.length,t.length),n=this.clone(),r=t,o=0|r.words[r.length-1];0!==(i=26-this._countBits(o))&&(r=r.ushln(i),n.iushln(i),o=0|r.words[r.length-1]);var a,h=n.length-r.length;if("mod"!==e){(a=new s(null)).length=h+1,a.words=new Array(a.length);for(var l=0;l<a.length;l++)a.words[l]=0}var u=n.clone()._ishlnsubmul(r,1,h);0===u.negative&&(n=u,a&&(a.words[h]=1));for(var c=h-1;c>=0;c--){var d=67108864*(0|n.words[r.length+c])+(0|n.words[r.length+c-1]);for(d=Math.min(d/o|0,67108863),n._ishlnsubmul(r,d,c);0!==n.negative;)d--,n.negative=0,n._ishlnsubmul(r,1,c),n.isZero()||(n.negative^=1);a&&(a.words[c]=d)}return a&&a.strip(),n.strip(),"div"!==e&&0!==i&&n.iushrn(i),{div:a||null,mod:n}},s.prototype.divmod=function(t,e,n){return i(!t.isZero()),this.isZero()?{div:new s(0),mod:new s(0)}:0!==this.negative&&0===t.negative?(a=this.neg().divmod(t,e),"mod"!==e&&(r=a.div.neg()),"div"!==e&&(o=a.mod.neg(),n&&0!==o.negative&&o.iadd(t)),{div:r,mod:o}):0===this.negative&&0!==t.negative?(a=this.divmod(t.neg(),e),"mod"!==e&&(r=a.div.neg()),{div:r,mod:a.mod}):0!=(this.negative&t.negative)?(a=this.neg().divmod(t.neg(),e),"div"!==e&&(o=a.mod.neg(),n&&0!==o.negative&&o.isub(t)),{div:a.div,mod:o}):t.length>this.length||this.cmp(t)<0?{div:new s(0),mod:this}:1===t.length?"div"===e?{div:this.divn(t.words[0]),mod:null}:"mod"===e?{div:null,mod:new s(this.modn(t.words[0]))}:{div:this.divn(t.words[0]),mod:new s(this.modn(t.words[0]))}:this._wordDiv(t,e);var r,o,a},s.prototype.div=function(t){return this.divmod(t,"div",!1).div},s.prototype.mod=function(t){return this.divmod(t,"mod",!1).mod},s.prototype.umod=function(t){return this.divmod(t,"mod",!0).mod},s.prototype.divRound=function(t){var e=this.divmod(t);if(e.mod.isZero())return e.div;var i=0!==e.div.negative?e.mod.isub(t):e.mod,n=t.ushrn(1),r=t.andln(1),s=i.cmp(n);return s<0||1===r&&0===s?e.div:0!==e.div.negative?e.div.isubn(1):e.div.iaddn(1)},s.prototype.modn=function(t){i(t<=67108863);for(var e=67108864%t,n=0,r=this.length-1;r>=0;r--)n=(e*n+(0|this.words[r]))%t;return n},s.prototype.idivn=function(t){i(t<=67108863);for(var e=0,n=this.length-1;n>=0;n--){var r=(0|this.words[n])+67108864*e;this.words[n]=r/t|0,e=r%t}return this.strip()},s.prototype.divn=function(t){return this.clone().idivn(t)},s.prototype.egcd=function(t){i(0===t.negative),i(!t.isZero());var e=this,n=t.clone();e=0!==e.negative?e.umod(t):e.clone();for(var r=new s(1),o=new s(0),a=new s(0),h=new s(1),l=0;e.isEven()&&n.isEven();)e.iushrn(1),n.iushrn(1),++l;for(var u=n.clone(),c=e.clone();!e.isZero();){for(var d=0,f=1;0==(e.words[0]&f)&&d<26;++d,f<<=1);if(d>0)for(e.iushrn(d);d-- >0;)(r.isOdd()||o.isOdd())&&(r.iadd(u),o.isub(c)),r.iushrn(1),o.iushrn(1);for(var p=0,m=1;0==(n.words[0]&m)&&p<26;++p,m<<=1);if(p>0)for(n.iushrn(p);p-- >0;)(a.isOdd()||h.isOdd())&&(a.iadd(u),h.isub(c)),a.iushrn(1),h.iushrn(1);e.cmp(n)>=0?(e.isub(n),r.isub(a),o.isub(h)):(n.isub(e),a.isub(r),h.isub(o))}return{a:a,b:h,gcd:n.iushln(l)}},s.prototype._invmp=function(t){i(0===t.negative),i(!t.isZero());var e=this,n=t.clone();e=0!==e.negative?e.umod(t):e.clone();for(var r,o=new s(1),a=new s(0),h=n.clone();e.cmpn(1)>0&&n.cmpn(1)>0;){for(var l=0,u=1;0==(e.words[0]&u)&&l<26;++l,u<<=1);if(l>0)for(e.iushrn(l);l-- >0;)o.isOdd()&&o.iadd(h),o.iushrn(1);for(var c=0,d=1;0==(n.words[0]&d)&&c<26;++c,d<<=1);if(c>0)for(n.iushrn(c);c-- >0;)a.isOdd()&&a.iadd(h),a.iushrn(1);e.cmp(n)>=0?(e.isub(n),o.isub(a)):(n.isub(e),a.isub(o))}return(r=0===e.cmpn(1)?o:a).cmpn(0)<0&&r.iadd(t),r},s.prototype.gcd=function(t){if(this.isZero())return t.abs();if(t.isZero())return this.abs();var e=this.clone(),i=t.clone();e.negative=0,i.negative=0;for(var n=0;e.isEven()&&i.isEven();n++)e.iushrn(1),i.iushrn(1);for(;;){for(;e.isEven();)e.iushrn(1);for(;i.isEven();)i.iushrn(1);var r=e.cmp(i);if(r<0){var s=e;e=i,i=s}else if(0===r||0===i.cmpn(1))break;e.isub(i)}return i.iushln(n)},s.prototype.invm=function(t){return this.egcd(t).a.umod(t)},s.prototype.isEven=function(){return 0==(1&this.words[0])},s.prototype.isOdd=function(){return 1==(1&this.words[0])},s.prototype.andln=function(t){return this.words[0]&t},s.prototype.bincn=function(t){i("number"==typeof t);var e=t%26,n=(t-e)/26,r=1<<e;if(this.length<=n)return this._expand(n+1),this.words[n]|=r,this;for(var s=r,o=n;0!==s&&o<this.length;o++){var a=0|this.words[o];s=(a+=s)>>>26,a&=67108863,this.words[o]=a}return 0!==s&&(this.words[o]=s,this.length++),this},s.prototype.isZero=function(){return 1===this.length&&0===this.words[0]},s.prototype.cmpn=function(t){var e,n=t<0;if(0!==this.negative&&!n)return-1;if(0===this.negative&&n)return 1;if(this.strip(),this.length>1)e=1;else{n&&(t=-t),i(t<=67108863,"Number is too big");var r=0|this.words[0];e=r===t?0:r<t?-1:1}return 0!==this.negative?0|-e:e},s.prototype.cmp=function(t){if(0!==this.negative&&0===t.negative)return-1;if(0===this.negative&&0!==t.negative)return 1;var e=this.ucmp(t);return 0!==this.negative?0|-e:e},s.prototype.ucmp=function(t){if(this.length>t.length)return 1;if(this.length<t.length)return-1;for(var e=0,i=this.length-1;i>=0;i--){var n=0|this.words[i],r=0|t.words[i];if(n!==r){n<r?e=-1:n>r&&(e=1);break}}return e},s.prototype.gtn=function(t){return 1===this.cmpn(t)},s.prototype.gt=function(t){return 1===this.cmp(t)},s.prototype.gten=function(t){return this.cmpn(t)>=0},s.prototype.gte=function(t){return this.cmp(t)>=0},s.prototype.ltn=function(t){return-1===this.cmpn(t)},s.prototype.lt=function(t){return-1===this.cmp(t)},s.prototype.lten=function(t){return this.cmpn(t)<=0},s.prototype.lte=function(t){return this.cmp(t)<=0},s.prototype.eqn=function(t){return 0===this.cmpn(t)},s.prototype.eq=function(t){return 0===this.cmp(t)},s.red=function(t){return new x(t)},s.prototype.toRed=function(t){return i(!this.red,"Already a number in reduction context"),i(0===this.negative,"red works only with positives"),t.convertTo(this)._forceRed(t)},s.prototype.fromRed=function(){return i(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},s.prototype._forceRed=function(t){return this.red=t,this},s.prototype.forceRed=function(t){return i(!this.red,"Already a number in reduction context"),this._forceRed(t)},s.prototype.redAdd=function(t){return i(this.red,"redAdd works only with red numbers"),this.red.add(this,t)},s.prototype.redIAdd=function(t){return i(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,t)},s.prototype.redSub=function(t){return i(this.red,"redSub works only with red numbers"),this.red.sub(this,t)},s.prototype.redISub=function(t){return i(this.red,"redISub works only with red numbers"),this.red.isub(this,t)},s.prototype.redShl=function(t){return i(this.red,"redShl works only with red numbers"),this.red.shl(this,t)},s.prototype.redMul=function(t){return i(this.red,"redMul works only with red numbers"),this.red._verify2(this,t),this.red.mul(this,t)},s.prototype.redIMul=function(t){return i(this.red,"redMul works only with red numbers"),this.red._verify2(this,t),this.red.imul(this,t)},s.prototype.redSqr=function(){return i(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},s.prototype.redISqr=function(){return i(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},s.prototype.redSqrt=function(){return i(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},s.prototype.redInvm=function(){return i(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},s.prototype.redNeg=function(){return i(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},s.prototype.redPow=function(t){return i(this.red&&!t.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,t)};var v={k256:null,p224:null,p192:null,p25519:null};function y(t,e){this.name=t,this.p=new s(e,16),this.n=this.p.bitLength(),this.k=new s(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}function b(){y.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}function w(){y.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}function _(){y.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}function M(){y.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}function x(t){if("string"==typeof t){var e=s._prime(t);this.m=e.p,this.prime=e}else i(t.gtn(1),"modulus must be greater than 1"),this.m=t,this.prime=null}function k(t){x.call(this,t),this.shift=this.m.bitLength(),this.shift%26!=0&&(this.shift+=26-this.shift%26),this.r=new s(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}y.prototype._tmp=function(){var t=new s(null);return t.words=new Array(Math.ceil(this.n/13)),t},y.prototype.ireduce=function(t){var e,i=t;do{this.split(i,this.tmp),e=(i=(i=this.imulK(i)).iadd(this.tmp)).bitLength()}while(e>this.n);var n=e<this.n?-1:i.ucmp(this.p);return 0===n?(i.words[0]=0,i.length=1):n>0?i.isub(this.p):void 0!==i.strip?i.strip():i._strip(),i},y.prototype.split=function(t,e){t.iushrn(this.n,0,e)},y.prototype.imulK=function(t){return t.imul(this.k)},n(b,y),b.prototype.split=function(t,e){for(var i=4194303,n=Math.min(t.length,9),r=0;r<n;r++)e.words[r]=t.words[r];if(e.length=n,t.length<=9)return t.words[0]=0,void(t.length=1);var s=t.words[9];for(e.words[e.length++]=s&i,r=10;r<t.length;r++){var o=0|t.words[r];t.words[r-10]=(o&i)<<4|s>>>22,s=o}s>>>=22,t.words[r-10]=s,0===s&&t.length>10?t.length-=10:t.length-=9},b.prototype.imulK=function(t){t.words[t.length]=0,t.words[t.length+1]=0,t.length+=2;for(var e=0,i=0;i<t.length;i++){var n=0|t.words[i];e+=977*n,t.words[i]=67108863&e,e=64*n+(e/67108864|0)}return 0===t.words[t.length-1]&&(t.length--,0===t.words[t.length-1]&&t.length--),t},n(w,y),n(_,y),n(M,y),M.prototype.imulK=function(t){for(var e=0,i=0;i<t.length;i++){var n=19*(0|t.words[i])+e,r=67108863&n;n>>>=26,t.words[i]=r,e=n}return 0!==e&&(t.words[t.length++]=e),t},s._prime=function(t){if(v[t])return v[t];var e;if("k256"===t)e=new b;else if("p224"===t)e=new w;else if("p192"===t)e=new _;else{if("p25519"!==t)throw new Error("Unknown prime "+t);e=new M}return v[t]=e,e},x.prototype._verify1=function(t){i(0===t.negative,"red works only with positives"),i(t.red,"red works only with red numbers")},x.prototype._verify2=function(t,e){i(0==(t.negative|e.negative),"red works only with positives"),i(t.red&&t.red===e.red,"red works only with red numbers")},x.prototype.imod=function(t){return this.prime?this.prime.ireduce(t)._forceRed(this):t.umod(this.m)._forceRed(this)},x.prototype.neg=function(t){return t.isZero()?t.clone():this.m.sub(t)._forceRed(this)},x.prototype.add=function(t,e){this._verify2(t,e);var i=t.add(e);return i.cmp(this.m)>=0&&i.isub(this.m),i._forceRed(this)},x.prototype.iadd=function(t,e){this._verify2(t,e);var i=t.iadd(e);return i.cmp(this.m)>=0&&i.isub(this.m),i},x.prototype.sub=function(t,e){this._verify2(t,e);var i=t.sub(e);return i.cmpn(0)<0&&i.iadd(this.m),i._forceRed(this)},x.prototype.isub=function(t,e){this._verify2(t,e);var i=t.isub(e);return i.cmpn(0)<0&&i.iadd(this.m),i},x.prototype.shl=function(t,e){return this._verify1(t),this.imod(t.ushln(e))},x.prototype.imul=function(t,e){return this._verify2(t,e),this.imod(t.imul(e))},x.prototype.mul=function(t,e){return this._verify2(t,e),this.imod(t.mul(e))},x.prototype.isqr=function(t){return this.imul(t,t.clone())},x.prototype.sqr=function(t){return this.mul(t,t)},x.prototype.sqrt=function(t){if(t.isZero())return t.clone();var e=this.m.andln(3);if(i(e%2==1),3===e){var n=this.m.add(new s(1)).iushrn(2);return this.pow(t,n)}for(var r=this.m.subn(1),o=0;!r.isZero()&&0===r.andln(1);)o++,r.iushrn(1);i(!r.isZero());var a=new s(1).toRed(this),h=a.redNeg(),l=this.m.subn(1).iushrn(1),u=this.m.bitLength();for(u=new s(2*u*u).toRed(this);0!==this.pow(u,l).cmp(h);)u.redIAdd(h);for(var c=this.pow(u,r),d=this.pow(t,r.addn(1).iushrn(1)),f=this.pow(t,r),p=o;0!==f.cmp(a);){for(var m=f,g=0;0!==m.cmp(a);g++)m=m.redSqr();i(g<p);var v=this.pow(c,new s(1).iushln(p-g-1));d=d.redMul(v),c=v.redSqr(),f=f.redMul(c),p=g}return d},x.prototype.invm=function(t){var e=t._invmp(this.m);return 0!==e.negative?(e.negative=0,this.imod(e).redNeg()):this.imod(e)},x.prototype.pow=function(t,e){if(e.isZero())return new s(1).toRed(this);if(0===e.cmpn(1))return t.clone();var i=new Array(16);i[0]=new s(1).toRed(this),i[1]=t;for(var n=2;n<i.length;n++)i[n]=this.mul(i[n-1],t);var r=i[0],o=0,a=0,h=e.bitLength()%26;for(0===h&&(h=26),n=e.length-1;n>=0;n--){for(var l=e.words[n],u=h-1;u>=0;u--){var c=l>>u&1;r!==i[0]&&(r=this.sqr(r)),0!==c||0!==o?(o<<=1,o|=c,(4===++a||0===n&&0===u)&&(r=this.mul(r,i[o]),a=0,o=0)):a=0}h=26}return r},x.prototype.convertTo=function(t){var e=t.umod(this.m);return e===t?e.clone():e},x.prototype.convertFrom=function(t){var e=t.clone();return e.red=null,e},s.mont=function(t){return new k(t)},n(k,x),k.prototype.convertTo=function(t){return this.imod(t.ushln(this.shift))},k.prototype.convertFrom=function(t){var e=this.imod(t.mul(this.rinv));return e.red=null,e},k.prototype.imul=function(t,e){if(t.isZero()||e.isZero())return t.words[0]=0,t.length=1,t;var i=t.imul(e),n=i.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),r=i.isub(n).iushrn(this.shift),s=r;return r.cmp(this.m)>=0?s=r.isub(this.m):r.cmpn(0)<0&&(s=r.iadd(this.m)),s._forceRed(this)},k.prototype.mul=function(t,e){if(t.isZero()||e.isZero())return new s(0)._forceRed(this);var i=t.mul(e),n=i.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),r=i.isub(n).iushrn(this.shift),o=r;return r.cmp(this.m)>=0?o=r.isub(this.m):r.cmpn(0)<0&&(o=r.iadd(this.m)),o._forceRed(this)},k.prototype.invm=function(t){return this.imod(t._invmp(this.m).mul(this.r2))._forceRed(this)}}(t,this)})),r.register("4fDZU",(function(t,e){var i=t.exports;function n(t){return 1===t.length?"0"+t:t}function r(t){for(var e="",i=0;i<t.length;i++)e+=n(t[i].toString(16));return e}i.toArray=function(t,e){if(Array.isArray(t))return t.slice();if(!t)return[];var i=[];if("string"!=typeof t){for(var n=0;n<t.length;n++)i[n]=0|t[n];return i}if("hex"===e){(t=t.replace(/[^a-z0-9]+/gi,"")).length%2!=0&&(t="0"+t);for(n=0;n<t.length;n+=2)i.push(parseInt(t[n]+t[n+1],16))}else for(n=0;n<t.length;n++){var r=t.charCodeAt(n),s=r>>8,o=255&r;s?i.push(s,o):i.push(o)}return i},i.zero2=n,i.toHex=r,i.encode=function(t,e){return"hex"===e?r(t):t}})),r.register("is6TD",(function(t,e){var i=t.exports;i.base=r("22gIz"),i.short=r("4JACh"),i.mont=r("dsmFV"),i.edwards=r("js9h1")})),r.register("22gIz",(function(t,e){var i=r("t9sL5"),n=r("91emE"),s=n.getNAF,o=n.getJSF,a=n.assert;function h(t,e){this.type=t,this.p=new i(e.p,16),this.red=e.prime?i.red(e.prime):i.mont(this.p),this.zero=new i(0).toRed(this.red),this.one=new i(1).toRed(this.red),this.two=new i(2).toRed(this.red),this.n=e.n&&new i(e.n,16),this.g=e.g&&this.pointFromJSON(e.g,e.gRed),this._wnafT1=new Array(4),this._wnafT2=new Array(4),this._wnafT3=new Array(4),this._wnafT4=new Array(4),this._bitLength=this.n?this.n.bitLength():0;var n=this.n&&this.p.div(this.n);!n||n.cmpn(100)>0?this.redN=null:(this._maxwellTrick=!0,this.redN=this.n.toRed(this.red))}function l(t,e){this.curve=t,this.type=e,this.precomputed=null}t.exports=h,h.prototype.point=function(){throw new Error("Not implemented")},h.prototype.validate=function(){throw new Error("Not implemented")},h.prototype._fixedNafMul=function(t,e){a(t.precomputed);var i=t._getDoubles(),n=s(e,1,this._bitLength),r=(1<<i.step+1)-(i.step%2==0?2:1);r/=3;var o,h,l=[];for(o=0;o<n.length;o+=i.step){h=0;for(var u=o+i.step-1;u>=o;u--)h=(h<<1)+n[u];l.push(h)}for(var c=this.jpoint(null,null,null),d=this.jpoint(null,null,null),f=r;f>0;f--){for(o=0;o<l.length;o++)(h=l[o])===f?d=d.mixedAdd(i.points[o]):h===-f&&(d=d.mixedAdd(i.points[o].neg()));c=c.add(d)}return c.toP()},h.prototype._wnafMul=function(t,e){var i=4,n=t._getNAFPoints(i);i=n.wnd;for(var r=n.points,o=s(e,i,this._bitLength),h=this.jpoint(null,null,null),l=o.length-1;l>=0;l--){for(var u=0;l>=0&&0===o[l];l--)u++;if(l>=0&&u++,h=h.dblp(u),l<0)break;var c=o[l];a(0!==c),h="affine"===t.type?c>0?h.mixedAdd(r[c-1>>1]):h.mixedAdd(r[-c-1>>1].neg()):c>0?h.add(r[c-1>>1]):h.add(r[-c-1>>1].neg())}return"affine"===t.type?h.toP():h},h.prototype._wnafMulAdd=function(t,e,i,n,r){var a,h,l,u=this._wnafT1,c=this._wnafT2,d=this._wnafT3,f=0;for(a=0;a<n;a++){var p=(l=e[a])._getNAFPoints(t);u[a]=p.wnd,c[a]=p.points}for(a=n-1;a>=1;a-=2){var m=a-1,g=a;if(1===u[m]&&1===u[g]){var v=[e[m],null,null,e[g]];0===e[m].y.cmp(e[g].y)?(v[1]=e[m].add(e[g]),v[2]=e[m].toJ().mixedAdd(e[g].neg())):0===e[m].y.cmp(e[g].y.redNeg())?(v[1]=e[m].toJ().mixedAdd(e[g]),v[2]=e[m].add(e[g].neg())):(v[1]=e[m].toJ().mixedAdd(e[g]),v[2]=e[m].toJ().mixedAdd(e[g].neg()));var y=[-3,-1,-5,-7,0,7,5,1,3],b=o(i[m],i[g]);for(f=Math.max(b[0].length,f),d[m]=new Array(f),d[g]=new Array(f),h=0;h<f;h++){var w=0|b[0][h],_=0|b[1][h];d[m][h]=y[3*(w+1)+(_+1)],d[g][h]=0,c[m]=v}}else d[m]=s(i[m],u[m],this._bitLength),d[g]=s(i[g],u[g],this._bitLength),f=Math.max(d[m].length,f),f=Math.max(d[g].length,f)}var M=this.jpoint(null,null,null),x=this._wnafT4;for(a=f;a>=0;a--){for(var k=0;a>=0;){var A=!0;for(h=0;h<n;h++)x[h]=0|d[h][a],0!==x[h]&&(A=!1);if(!A)break;k++,a--}if(a>=0&&k++,M=M.dblp(k),a<0)break;for(h=0;h<n;h++){var E=x[h];0!==E&&(E>0?l=c[h][E-1>>1]:E<0&&(l=c[h][-E-1>>1].neg()),M="affine"===l.type?M.mixedAdd(l):M.add(l))}}for(a=0;a<n;a++)c[a]=null;return r?M:M.toP()},h.BasePoint=l,l.prototype.eq=function(){throw new Error("Not implemented")},l.prototype.validate=function(){return this.curve.validate(this)},h.prototype.decodePoint=function(t,e){t=n.toArray(t,e);var i=this.p.byteLength();if((4===t[0]||6===t[0]||7===t[0])&&t.length-1==2*i)return 6===t[0]?a(t[t.length-1]%2==0):7===t[0]&&a(t[t.length-1]%2==1),this.point(t.slice(1,1+i),t.slice(1+i,1+2*i));if((2===t[0]||3===t[0])&&t.length-1===i)return this.pointFromX(t.slice(1,1+i),3===t[0]);throw new Error("Unknown point format")},l.prototype.encodeCompressed=function(t){return this.encode(t,!0)},l.prototype._encode=function(t){var e=this.curve.p.byteLength(),i=this.getX().toArray("be",e);return t?[this.getY().isEven()?2:3].concat(i):[4].concat(i,this.getY().toArray("be",e))},l.prototype.encode=function(t,e){return n.encode(this._encode(e),t)},l.prototype.precompute=function(t){if(this.precomputed)return this;var e={doubles:null,naf:null,beta:null};return e.naf=this._getNAFPoints(8),e.doubles=this._getDoubles(4,t),e.beta=this._getBeta(),this.precomputed=e,this},l.prototype._hasDoubles=function(t){if(!this.precomputed)return!1;var e=this.precomputed.doubles;return!!e&&e.points.length>=Math.ceil((t.bitLength()+1)/e.step)},l.prototype._getDoubles=function(t,e){if(this.precomputed&&this.precomputed.doubles)return this.precomputed.doubles;for(var i=[this],n=this,r=0;r<e;r+=t){for(var s=0;s<t;s++)n=n.dbl();i.push(n)}return{step:t,points:i}},l.prototype._getNAFPoints=function(t){if(this.precomputed&&this.precomputed.naf)return this.precomputed.naf;for(var e=[this],i=(1<<t)-1,n=1===i?null:this.dbl(),r=1;r<i;r++)e[r]=e[r-1].add(n);return{wnd:t,points:e}},l.prototype._getBeta=function(){return null},l.prototype.dblp=function(t){for(var e=this,i=0;i<t;i++)e=e.dbl();return e}})),r.register("4JACh",(function(t,e){var i=r("91emE"),n=r("t9sL5"),s=r("kDUq9"),o=r("22gIz"),a=i.assert;function h(t){o.call(this,"short",t),this.a=new n(t.a,16).toRed(this.red),this.b=new n(t.b,16).toRed(this.red),this.tinv=this.two.redInvm(),this.zeroA=0===this.a.fromRed().cmpn(0),this.threeA=0===this.a.fromRed().sub(this.p).cmpn(-3),this.endo=this._getEndomorphism(t),this._endoWnafT1=new Array(4),this._endoWnafT2=new Array(4)}function l(t,e,i,r){o.BasePoint.call(this,t,"affine"),null===e&&null===i?(this.x=null,this.y=null,this.inf=!0):(this.x=new n(e,16),this.y=new n(i,16),r&&(this.x.forceRed(this.curve.red),this.y.forceRed(this.curve.red)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.inf=!1)}function u(t,e,i,r){o.BasePoint.call(this,t,"jacobian"),null===e&&null===i&&null===r?(this.x=this.curve.one,this.y=this.curve.one,this.z=new n(0)):(this.x=new n(e,16),this.y=new n(i,16),this.z=new n(r,16)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.zOne=this.z===this.curve.one}s(h,o),t.exports=h,h.prototype._getEndomorphism=function(t){if(this.zeroA&&this.g&&this.n&&1===this.p.modn(3)){var e,i;if(t.beta)e=new n(t.beta,16).toRed(this.red);else{var r=this._getEndoRoots(this.p);e=(e=r[0].cmp(r[1])<0?r[0]:r[1]).toRed(this.red)}if(t.lambda)i=new n(t.lambda,16);else{var s=this._getEndoRoots(this.n);0===this.g.mul(s[0]).x.cmp(this.g.x.redMul(e))?i=s[0]:(i=s[1],a(0===this.g.mul(i).x.cmp(this.g.x.redMul(e))))}return{beta:e,lambda:i,basis:t.basis?t.basis.map((function(t){return{a:new n(t.a,16),b:new n(t.b,16)}})):this._getEndoBasis(i)}}},h.prototype._getEndoRoots=function(t){var e=t===this.p?this.red:n.mont(t),i=new n(2).toRed(e).redInvm(),r=i.redNeg(),s=new n(3).toRed(e).redNeg().redSqrt().redMul(i);return[r.redAdd(s).fromRed(),r.redSub(s).fromRed()]},h.prototype._getEndoBasis=function(t){for(var e,i,r,s,o,a,h,l,u,c=this.n.ushrn(Math.floor(this.n.bitLength()/2)),d=t,f=this.n.clone(),p=new n(1),m=new n(0),g=new n(0),v=new n(1),y=0;0!==d.cmpn(0);){var b=f.div(d);l=f.sub(b.mul(d)),u=g.sub(b.mul(p));var w=v.sub(b.mul(m));if(!r&&l.cmp(c)<0)e=h.neg(),i=p,r=l.neg(),s=u;else if(r&&2==++y)break;h=l,f=d,d=l,g=p,p=u,v=m,m=w}o=l.neg(),a=u;var _=r.sqr().add(s.sqr());return o.sqr().add(a.sqr()).cmp(_)>=0&&(o=e,a=i),r.negative&&(r=r.neg(),s=s.neg()),o.negative&&(o=o.neg(),a=a.neg()),[{a:r,b:s},{a:o,b:a}]},h.prototype._endoSplit=function(t){var e=this.endo.basis,i=e[0],n=e[1],r=n.b.mul(t).divRound(this.n),s=i.b.neg().mul(t).divRound(this.n),o=r.mul(i.a),a=s.mul(n.a),h=r.mul(i.b),l=s.mul(n.b);return{k1:t.sub(o).sub(a),k2:h.add(l).neg()}},h.prototype.pointFromX=function(t,e){(t=new n(t,16)).red||(t=t.toRed(this.red));var i=t.redSqr().redMul(t).redIAdd(t.redMul(this.a)).redIAdd(this.b),r=i.redSqrt();if(0!==r.redSqr().redSub(i).cmp(this.zero))throw new Error("invalid point");var s=r.fromRed().isOdd();return(e&&!s||!e&&s)&&(r=r.redNeg()),this.point(t,r)},h.prototype.validate=function(t){if(t.inf)return!0;var e=t.x,i=t.y,n=this.a.redMul(e),r=e.redSqr().redMul(e).redIAdd(n).redIAdd(this.b);return 0===i.redSqr().redISub(r).cmpn(0)},h.prototype._endoWnafMulAdd=function(t,e,i){for(var n=this._endoWnafT1,r=this._endoWnafT2,s=0;s<t.length;s++){var o=this._endoSplit(e[s]),a=t[s],h=a._getBeta();o.k1.negative&&(o.k1.ineg(),a=a.neg(!0)),o.k2.negative&&(o.k2.ineg(),h=h.neg(!0)),n[2*s]=a,n[2*s+1]=h,r[2*s]=o.k1,r[2*s+1]=o.k2}for(var l=this._wnafMulAdd(1,n,r,2*s,i),u=0;u<2*s;u++)n[u]=null,r[u]=null;return l},s(l,o.BasePoint),h.prototype.point=function(t,e,i){return new l(this,t,e,i)},h.prototype.pointFromJSON=function(t,e){return l.fromJSON(this,t,e)},l.prototype._getBeta=function(){if(this.curve.endo){var t=this.precomputed;if(t&&t.beta)return t.beta;var e=this.curve.point(this.x.redMul(this.curve.endo.beta),this.y);if(t){var i=this.curve,n=function(t){return i.point(t.x.redMul(i.endo.beta),t.y)};t.beta=e,e.precomputed={beta:null,naf:t.naf&&{wnd:t.naf.wnd,points:t.naf.points.map(n)},doubles:t.doubles&&{step:t.doubles.step,points:t.doubles.points.map(n)}}}return e}},l.prototype.toJSON=function(){return this.precomputed?[this.x,this.y,this.precomputed&&{doubles:this.precomputed.doubles&&{step:this.precomputed.doubles.step,points:this.precomputed.doubles.points.slice(1)},naf:this.precomputed.naf&&{wnd:this.precomputed.naf.wnd,points:this.precomputed.naf.points.slice(1)}}]:[this.x,this.y]},l.fromJSON=function(t,e,i){"string"==typeof e&&(e=JSON.parse(e));var n=t.point(e[0],e[1],i);if(!e[2])return n;function r(e){return t.point(e[0],e[1],i)}var s=e[2];return n.precomputed={beta:null,doubles:s.doubles&&{step:s.doubles.step,points:[n].concat(s.doubles.points.map(r))},naf:s.naf&&{wnd:s.naf.wnd,points:[n].concat(s.naf.points.map(r))}},n},l.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+">"},l.prototype.isInfinity=function(){return this.inf},l.prototype.add=function(t){if(this.inf)return t;if(t.inf)return this;if(this.eq(t))return this.dbl();if(this.neg().eq(t))return this.curve.point(null,null);if(0===this.x.cmp(t.x))return this.curve.point(null,null);var e=this.y.redSub(t.y);0!==e.cmpn(0)&&(e=e.redMul(this.x.redSub(t.x).redInvm()));var i=e.redSqr().redISub(this.x).redISub(t.x),n=e.redMul(this.x.redSub(i)).redISub(this.y);return this.curve.point(i,n)},l.prototype.dbl=function(){if(this.inf)return this;var t=this.y.redAdd(this.y);if(0===t.cmpn(0))return this.curve.point(null,null);var e=this.curve.a,i=this.x.redSqr(),n=t.redInvm(),r=i.redAdd(i).redIAdd(i).redIAdd(e).redMul(n),s=r.redSqr().redISub(this.x.redAdd(this.x)),o=r.redMul(this.x.redSub(s)).redISub(this.y);return this.curve.point(s,o)},l.prototype.getX=function(){return this.x.fromRed()},l.prototype.getY=function(){return this.y.fromRed()},l.prototype.mul=function(t){return t=new n(t,16),this.isInfinity()?this:this._hasDoubles(t)?this.curve._fixedNafMul(this,t):this.curve.endo?this.curve._endoWnafMulAdd([this],[t]):this.curve._wnafMul(this,t)},l.prototype.mulAdd=function(t,e,i){var n=[this,e],r=[t,i];return this.curve.endo?this.curve._endoWnafMulAdd(n,r):this.curve._wnafMulAdd(1,n,r,2)},l.prototype.jmulAdd=function(t,e,i){var n=[this,e],r=[t,i];return this.curve.endo?this.curve._endoWnafMulAdd(n,r,!0):this.curve._wnafMulAdd(1,n,r,2,!0)},l.prototype.eq=function(t){return this===t||this.inf===t.inf&&(this.inf||0===this.x.cmp(t.x)&&0===this.y.cmp(t.y))},l.prototype.neg=function(t){if(this.inf)return this;var e=this.curve.point(this.x,this.y.redNeg());if(t&&this.precomputed){var i=this.precomputed,n=function(t){return t.neg()};e.precomputed={naf:i.naf&&{wnd:i.naf.wnd,points:i.naf.points.map(n)},doubles:i.doubles&&{step:i.doubles.step,points:i.doubles.points.map(n)}}}return e},l.prototype.toJ=function(){return this.inf?this.curve.jpoint(null,null,null):this.curve.jpoint(this.x,this.y,this.curve.one)},s(u,o.BasePoint),h.prototype.jpoint=function(t,e,i){return new u(this,t,e,i)},u.prototype.toP=function(){if(this.isInfinity())return this.curve.point(null,null);var t=this.z.redInvm(),e=t.redSqr(),i=this.x.redMul(e),n=this.y.redMul(e).redMul(t);return this.curve.point(i,n)},u.prototype.neg=function(){return this.curve.jpoint(this.x,this.y.redNeg(),this.z)},u.prototype.add=function(t){if(this.isInfinity())return t;if(t.isInfinity())return this;var e=t.z.redSqr(),i=this.z.redSqr(),n=this.x.redMul(e),r=t.x.redMul(i),s=this.y.redMul(e.redMul(t.z)),o=t.y.redMul(i.redMul(this.z)),a=n.redSub(r),h=s.redSub(o);if(0===a.cmpn(0))return 0!==h.cmpn(0)?this.curve.jpoint(null,null,null):this.dbl();var l=a.redSqr(),u=l.redMul(a),c=n.redMul(l),d=h.redSqr().redIAdd(u).redISub(c).redISub(c),f=h.redMul(c.redISub(d)).redISub(s.redMul(u)),p=this.z.redMul(t.z).redMul(a);return this.curve.jpoint(d,f,p)},u.prototype.mixedAdd=function(t){if(this.isInfinity())return t.toJ();if(t.isInfinity())return this;var e=this.z.redSqr(),i=this.x,n=t.x.redMul(e),r=this.y,s=t.y.redMul(e).redMul(this.z),o=i.redSub(n),a=r.redSub(s);if(0===o.cmpn(0))return 0!==a.cmpn(0)?this.curve.jpoint(null,null,null):this.dbl();var h=o.redSqr(),l=h.redMul(o),u=i.redMul(h),c=a.redSqr().redIAdd(l).redISub(u).redISub(u),d=a.redMul(u.redISub(c)).redISub(r.redMul(l)),f=this.z.redMul(o);return this.curve.jpoint(c,d,f)},u.prototype.dblp=function(t){if(0===t)return this;if(this.isInfinity())return this;if(!t)return this.dbl();var e;if(this.curve.zeroA||this.curve.threeA){var i=this;for(e=0;e<t;e++)i=i.dbl();return i}var n=this.curve.a,r=this.curve.tinv,s=this.x,o=this.y,a=this.z,h=a.redSqr().redSqr(),l=o.redAdd(o);for(e=0;e<t;e++){var u=s.redSqr(),c=l.redSqr(),d=c.redSqr(),f=u.redAdd(u).redIAdd(u).redIAdd(n.redMul(h)),p=s.redMul(c),m=f.redSqr().redISub(p.redAdd(p)),g=p.redISub(m),v=f.redMul(g);v=v.redIAdd(v).redISub(d);var y=l.redMul(a);e+1<t&&(h=h.redMul(d)),s=m,a=y,l=v}return this.curve.jpoint(s,l.redMul(r),a)},u.prototype.dbl=function(){return this.isInfinity()?this:this.curve.zeroA?this._zeroDbl():this.curve.threeA?this._threeDbl():this._dbl()},u.prototype._zeroDbl=function(){var t,e,i;if(this.zOne){var n=this.x.redSqr(),r=this.y.redSqr(),s=r.redSqr(),o=this.x.redAdd(r).redSqr().redISub(n).redISub(s);o=o.redIAdd(o);var a=n.redAdd(n).redIAdd(n),h=a.redSqr().redISub(o).redISub(o),l=s.redIAdd(s);l=(l=l.redIAdd(l)).redIAdd(l),t=h,e=a.redMul(o.redISub(h)).redISub(l),i=this.y.redAdd(this.y)}else{var u=this.x.redSqr(),c=this.y.redSqr(),d=c.redSqr(),f=this.x.redAdd(c).redSqr().redISub(u).redISub(d);f=f.redIAdd(f);var p=u.redAdd(u).redIAdd(u),m=p.redSqr(),g=d.redIAdd(d);g=(g=g.redIAdd(g)).redIAdd(g),t=m.redISub(f).redISub(f),e=p.redMul(f.redISub(t)).redISub(g),i=(i=this.y.redMul(this.z)).redIAdd(i)}return this.curve.jpoint(t,e,i)},u.prototype._threeDbl=function(){var t,e,i;if(this.zOne){var n=this.x.redSqr(),r=this.y.redSqr(),s=r.redSqr(),o=this.x.redAdd(r).redSqr().redISub(n).redISub(s);o=o.redIAdd(o);var a=n.redAdd(n).redIAdd(n).redIAdd(this.curve.a),h=a.redSqr().redISub(o).redISub(o);t=h;var l=s.redIAdd(s);l=(l=l.redIAdd(l)).redIAdd(l),e=a.redMul(o.redISub(h)).redISub(l),i=this.y.redAdd(this.y)}else{var u=this.z.redSqr(),c=this.y.redSqr(),d=this.x.redMul(c),f=this.x.redSub(u).redMul(this.x.redAdd(u));f=f.redAdd(f).redIAdd(f);var p=d.redIAdd(d),m=(p=p.redIAdd(p)).redAdd(p);t=f.redSqr().redISub(m),i=this.y.redAdd(this.z).redSqr().redISub(c).redISub(u);var g=c.redSqr();g=(g=(g=g.redIAdd(g)).redIAdd(g)).redIAdd(g),e=f.redMul(p.redISub(t)).redISub(g)}return this.curve.jpoint(t,e,i)},u.prototype._dbl=function(){var t=this.curve.a,e=this.x,i=this.y,n=this.z,r=n.redSqr().redSqr(),s=e.redSqr(),o=i.redSqr(),a=s.redAdd(s).redIAdd(s).redIAdd(t.redMul(r)),h=e.redAdd(e),l=(h=h.redIAdd(h)).redMul(o),u=a.redSqr().redISub(l.redAdd(l)),c=l.redISub(u),d=o.redSqr();d=(d=(d=d.redIAdd(d)).redIAdd(d)).redIAdd(d);var f=a.redMul(c).redISub(d),p=i.redAdd(i).redMul(n);return this.curve.jpoint(u,f,p)},u.prototype.trpl=function(){if(!this.curve.zeroA)return this.dbl().add(this);var t=this.x.redSqr(),e=this.y.redSqr(),i=this.z.redSqr(),n=e.redSqr(),r=t.redAdd(t).redIAdd(t),s=r.redSqr(),o=this.x.redAdd(e).redSqr().redISub(t).redISub(n),a=(o=(o=(o=o.redIAdd(o)).redAdd(o).redIAdd(o)).redISub(s)).redSqr(),h=n.redIAdd(n);h=(h=(h=h.redIAdd(h)).redIAdd(h)).redIAdd(h);var l=r.redIAdd(o).redSqr().redISub(s).redISub(a).redISub(h),u=e.redMul(l);u=(u=u.redIAdd(u)).redIAdd(u);var c=this.x.redMul(a).redISub(u);c=(c=c.redIAdd(c)).redIAdd(c);var d=this.y.redMul(l.redMul(h.redISub(l)).redISub(o.redMul(a)));d=(d=(d=d.redIAdd(d)).redIAdd(d)).redIAdd(d);var f=this.z.redAdd(o).redSqr().redISub(i).redISub(a);return this.curve.jpoint(c,d,f)},u.prototype.mul=function(t,e){return t=new n(t,e),this.curve._wnafMul(this,t)},u.prototype.eq=function(t){if("affine"===t.type)return this.eq(t.toJ());if(this===t)return!0;var e=this.z.redSqr(),i=t.z.redSqr();if(0!==this.x.redMul(i).redISub(t.x.redMul(e)).cmpn(0))return!1;var n=e.redMul(this.z),r=i.redMul(t.z);return 0===this.y.redMul(r).redISub(t.y.redMul(n)).cmpn(0)},u.prototype.eqXToP=function(t){var e=this.z.redSqr(),i=t.toRed(this.curve.red).redMul(e);if(0===this.x.cmp(i))return!0;for(var n=t.clone(),r=this.curve.redN.redMul(e);;){if(n.iadd(this.curve.n),n.cmp(this.curve.p)>=0)return!1;if(i.redIAdd(r),0===this.x.cmp(i))return!0}},u.prototype.inspect=function(){return this.isInfinity()?"<EC JPoint Infinity>":"<EC JPoint x: "+this.x.toString(16,2)+" y: "+this.y.toString(16,2)+" z: "+this.z.toString(16,2)+">"},u.prototype.isInfinity=function(){return 0===this.z.cmpn(0)}})),r.register("dsmFV",(function(t,e){var i=r("t9sL5"),n=r("kDUq9"),s=r("22gIz"),o=r("91emE");function a(t){s.call(this,"mont",t),this.a=new i(t.a,16).toRed(this.red),this.b=new i(t.b,16).toRed(this.red),this.i4=new i(4).toRed(this.red).redInvm(),this.two=new i(2).toRed(this.red),this.a24=this.i4.redMul(this.a.redAdd(this.two))}function h(t,e,n){s.BasePoint.call(this,t,"projective"),null===e&&null===n?(this.x=this.curve.one,this.z=this.curve.zero):(this.x=new i(e,16),this.z=new i(n,16),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)))}n(a,s),t.exports=a,a.prototype.validate=function(t){var e=t.normalize().x,i=e.redSqr(),n=i.redMul(e).redAdd(i.redMul(this.a)).redAdd(e);return 0===n.redSqrt().redSqr().cmp(n)},n(h,s.BasePoint),a.prototype.decodePoint=function(t,e){return this.point(o.toArray(t,e),1)},a.prototype.point=function(t,e){return new h(this,t,e)},a.prototype.pointFromJSON=function(t){return h.fromJSON(this,t)},h.prototype.precompute=function(){},h.prototype._encode=function(){return this.getX().toArray("be",this.curve.p.byteLength())},h.fromJSON=function(t,e){return new h(t,e[0],e[1]||t.one)},h.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" z: "+this.z.fromRed().toString(16,2)+">"},h.prototype.isInfinity=function(){return 0===this.z.cmpn(0)},h.prototype.dbl=function(){var t=this.x.redAdd(this.z).redSqr(),e=this.x.redSub(this.z).redSqr(),i=t.redSub(e),n=t.redMul(e),r=i.redMul(e.redAdd(this.curve.a24.redMul(i)));return this.curve.point(n,r)},h.prototype.add=function(){throw new Error("Not supported on Montgomery curve")},h.prototype.diffAdd=function(t,e){var i=this.x.redAdd(this.z),n=this.x.redSub(this.z),r=t.x.redAdd(t.z),s=t.x.redSub(t.z).redMul(i),o=r.redMul(n),a=e.z.redMul(s.redAdd(o).redSqr()),h=e.x.redMul(s.redISub(o).redSqr());return this.curve.point(a,h)},h.prototype.mul=function(t){for(var e=t.clone(),i=this,n=this.curve.point(null,null),r=[];0!==e.cmpn(0);e.iushrn(1))r.push(e.andln(1));for(var s=r.length-1;s>=0;s--)0===r[s]?(i=i.diffAdd(n,this),n=n.dbl()):(n=i.diffAdd(n,this),i=i.dbl());return n},h.prototype.mulAdd=function(){throw new Error("Not supported on Montgomery curve")},h.prototype.jumlAdd=function(){throw new Error("Not supported on Montgomery curve")},h.prototype.eq=function(t){return 0===this.getX().cmp(t.getX())},h.prototype.normalize=function(){return this.x=this.x.redMul(this.z.redInvm()),this.z=this.curve.one,this},h.prototype.getX=function(){return this.normalize(),this.x.fromRed()}})),r.register("js9h1",(function(t,e){var i=r("91emE"),n=r("t9sL5"),s=r("kDUq9"),o=r("22gIz"),a=i.assert;function h(t){this.twisted=1!=(0|t.a),this.mOneA=this.twisted&&-1==(0|t.a),this.extended=this.mOneA,o.call(this,"edwards",t),this.a=new n(t.a,16).umod(this.red.m),this.a=this.a.toRed(this.red),this.c=new n(t.c,16).toRed(this.red),this.c2=this.c.redSqr(),this.d=new n(t.d,16).toRed(this.red),this.dd=this.d.redAdd(this.d),a(!this.twisted||0===this.c.fromRed().cmpn(1)),this.oneC=1==(0|t.c)}function l(t,e,i,r,s){o.BasePoint.call(this,t,"projective"),null===e&&null===i&&null===r?(this.x=this.curve.zero,this.y=this.curve.one,this.z=this.curve.one,this.t=this.curve.zero,this.zOne=!0):(this.x=new n(e,16),this.y=new n(i,16),this.z=r?new n(r,16):this.curve.one,this.t=s&&new n(s,16),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.t&&!this.t.red&&(this.t=this.t.toRed(this.curve.red)),this.zOne=this.z===this.curve.one,this.curve.extended&&!this.t&&(this.t=this.x.redMul(this.y),this.zOne||(this.t=this.t.redMul(this.z.redInvm()))))}s(h,o),t.exports=h,h.prototype._mulA=function(t){return this.mOneA?t.redNeg():this.a.redMul(t)},h.prototype._mulC=function(t){return this.oneC?t:this.c.redMul(t)},h.prototype.jpoint=function(t,e,i,n){return this.point(t,e,i,n)},h.prototype.pointFromX=function(t,e){(t=new n(t,16)).red||(t=t.toRed(this.red));var i=t.redSqr(),r=this.c2.redSub(this.a.redMul(i)),s=this.one.redSub(this.c2.redMul(this.d).redMul(i)),o=r.redMul(s.redInvm()),a=o.redSqrt();if(0!==a.redSqr().redSub(o).cmp(this.zero))throw new Error("invalid point");var h=a.fromRed().isOdd();return(e&&!h||!e&&h)&&(a=a.redNeg()),this.point(t,a)},h.prototype.pointFromY=function(t,e){(t=new n(t,16)).red||(t=t.toRed(this.red));var i=t.redSqr(),r=i.redSub(this.c2),s=i.redMul(this.d).redMul(this.c2).redSub(this.a),o=r.redMul(s.redInvm());if(0===o.cmp(this.zero)){if(e)throw new Error("invalid point");return this.point(this.zero,t)}var a=o.redSqrt();if(0!==a.redSqr().redSub(o).cmp(this.zero))throw new Error("invalid point");return a.fromRed().isOdd()!==e&&(a=a.redNeg()),this.point(a,t)},h.prototype.validate=function(t){if(t.isInfinity())return!0;t.normalize();var e=t.x.redSqr(),i=t.y.redSqr(),n=e.redMul(this.a).redAdd(i),r=this.c2.redMul(this.one.redAdd(this.d.redMul(e).redMul(i)));return 0===n.cmp(r)},s(l,o.BasePoint),h.prototype.pointFromJSON=function(t){return l.fromJSON(this,t)},h.prototype.point=function(t,e,i,n){return new l(this,t,e,i,n)},l.fromJSON=function(t,e){return new l(t,e[0],e[1],e[2])},l.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+" z: "+this.z.fromRed().toString(16,2)+">"},l.prototype.isInfinity=function(){return 0===this.x.cmpn(0)&&(0===this.y.cmp(this.z)||this.zOne&&0===this.y.cmp(this.curve.c))},l.prototype._extDbl=function(){var t=this.x.redSqr(),e=this.y.redSqr(),i=this.z.redSqr();i=i.redIAdd(i);var n=this.curve._mulA(t),r=this.x.redAdd(this.y).redSqr().redISub(t).redISub(e),s=n.redAdd(e),o=s.redSub(i),a=n.redSub(e),h=r.redMul(o),l=s.redMul(a),u=r.redMul(a),c=o.redMul(s);return this.curve.point(h,l,c,u)},l.prototype._projDbl=function(){var t,e,i,n,r,s,o=this.x.redAdd(this.y).redSqr(),a=this.x.redSqr(),h=this.y.redSqr();if(this.curve.twisted){var l=(n=this.curve._mulA(a)).redAdd(h);this.zOne?(t=o.redSub(a).redSub(h).redMul(l.redSub(this.curve.two)),e=l.redMul(n.redSub(h)),i=l.redSqr().redSub(l).redSub(l)):(r=this.z.redSqr(),s=l.redSub(r).redISub(r),t=o.redSub(a).redISub(h).redMul(s),e=l.redMul(n.redSub(h)),i=l.redMul(s))}else n=a.redAdd(h),r=this.curve._mulC(this.z).redSqr(),s=n.redSub(r).redSub(r),t=this.curve._mulC(o.redISub(n)).redMul(s),e=this.curve._mulC(n).redMul(a.redISub(h)),i=n.redMul(s);return this.curve.point(t,e,i)},l.prototype.dbl=function(){return this.isInfinity()?this:this.curve.extended?this._extDbl():this._projDbl()},l.prototype._extAdd=function(t){var e=this.y.redSub(this.x).redMul(t.y.redSub(t.x)),i=this.y.redAdd(this.x).redMul(t.y.redAdd(t.x)),n=this.t.redMul(this.curve.dd).redMul(t.t),r=this.z.redMul(t.z.redAdd(t.z)),s=i.redSub(e),o=r.redSub(n),a=r.redAdd(n),h=i.redAdd(e),l=s.redMul(o),u=a.redMul(h),c=s.redMul(h),d=o.redMul(a);return this.curve.point(l,u,d,c)},l.prototype._projAdd=function(t){var e,i,n=this.z.redMul(t.z),r=n.redSqr(),s=this.x.redMul(t.x),o=this.y.redMul(t.y),a=this.curve.d.redMul(s).redMul(o),h=r.redSub(a),l=r.redAdd(a),u=this.x.redAdd(this.y).redMul(t.x.redAdd(t.y)).redISub(s).redISub(o),c=n.redMul(h).redMul(u);return this.curve.twisted?(e=n.redMul(l).redMul(o.redSub(this.curve._mulA(s))),i=h.redMul(l)):(e=n.redMul(l).redMul(o.redSub(s)),i=this.curve._mulC(h).redMul(l)),this.curve.point(c,e,i)},l.prototype.add=function(t){return this.isInfinity()?t:t.isInfinity()?this:this.curve.extended?this._extAdd(t):this._projAdd(t)},l.prototype.mul=function(t){return this._hasDoubles(t)?this.curve._fixedNafMul(this,t):this.curve._wnafMul(this,t)},l.prototype.mulAdd=function(t,e,i){return this.curve._wnafMulAdd(1,[this,e],[t,i],2,!1)},l.prototype.jmulAdd=function(t,e,i){return this.curve._wnafMulAdd(1,[this,e],[t,i],2,!0)},l.prototype.normalize=function(){if(this.zOne)return this;var t=this.z.redInvm();return this.x=this.x.redMul(t),this.y=this.y.redMul(t),this.t&&(this.t=this.t.redMul(t)),this.z=this.curve.one,this.zOne=!0,this},l.prototype.neg=function(){return this.curve.point(this.x.redNeg(),this.y,this.z,this.t&&this.t.redNeg())},l.prototype.getX=function(){return this.normalize(),this.x.fromRed()},l.prototype.getY=function(){return this.normalize(),this.y.fromRed()},l.prototype.eq=function(t){return this===t||0===this.getX().cmp(t.getX())&&0===this.getY().cmp(t.getY())},l.prototype.eqXToP=function(t){var e=t.toRed(this.curve.red).redMul(this.z);if(0===this.x.cmp(e))return!0;for(var i=t.clone(),n=this.curve.redN.redMul(this.z);;){if(i.iadd(this.curve.n),i.cmp(this.curve.p)>=0)return!1;if(e.redIAdd(n),0===this.x.cmp(e))return!0}},l.prototype.toP=l.prototype.normalize,l.prototype.mixedAdd=l.prototype.add})),r.register("iojmZ",(function(t,e){var i,n=t.exports,s=r("1RJcD"),o=r("is6TD"),a=r("91emE").assert;function h(t){"short"===t.type?this.curve=new o.short(t):"edwards"===t.type?this.curve=new o.edwards(t):this.curve=new o.mont(t),this.g=this.curve.g,this.n=this.curve.n,this.hash=t.hash,a(this.g.validate(),"Invalid curve"),a(this.g.mul(this.n).isInfinity(),"Invalid curve, G*N != O")}function l(t,e){Object.defineProperty(n,t,{configurable:!0,enumerable:!0,get:function(){var i=new h(e);return Object.defineProperty(n,t,{configurable:!0,enumerable:!0,value:i}),i}})}n.PresetCurve=h,l("p192",{type:"short",prime:"p192",p:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff",a:"ffffffff ffffffff ffffffff fffffffe ffffffff fffffffc",b:"64210519 e59c80e7 0fa7e9ab 72243049 feb8deec c146b9b1",n:"ffffffff ffffffff ffffffff 99def836 146bc9b1 b4d22831",hash:s.sha256,gRed:!1,g:["188da80e b03090f6 7cbf20eb 43a18800 f4ff0afd 82ff1012","07192b95 ffc8da78 631011ed 6b24cdd5 73f977a1 1e794811"]}),l("p224",{type:"short",prime:"p224",p:"ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001",a:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff fffffffe",b:"b4050a85 0c04b3ab f5413256 5044b0b7 d7bfd8ba 270b3943 2355ffb4",n:"ffffffff ffffffff ffffffff ffff16a2 e0b8f03e 13dd2945 5c5c2a3d",hash:s.sha256,gRed:!1,g:["b70e0cbd 6bb4bf7f 321390b9 4a03c1d3 56c21122 343280d6 115c1d21","bd376388 b5f723fb 4c22dfe6 cd4375a0 5a074764 44d58199 85007e34"]}),l("p256",{type:"short",prime:null,p:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff ffffffff",a:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff fffffffc",b:"5ac635d8 aa3a93e7 b3ebbd55 769886bc 651d06b0 cc53b0f6 3bce3c3e 27d2604b",n:"ffffffff 00000000 ffffffff ffffffff bce6faad a7179e84 f3b9cac2 fc632551",hash:s.sha256,gRed:!1,g:["6b17d1f2 e12c4247 f8bce6e5 63a440f2 77037d81 2deb33a0 f4a13945 d898c296","4fe342e2 fe1a7f9b 8ee7eb4a 7c0f9e16 2bce3357 6b315ece cbb64068 37bf51f5"]}),l("p384",{type:"short",prime:null,p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 ffffffff",a:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 fffffffc",b:"b3312fa7 e23ee7e4 988e056b e3f82d19 181d9c6e fe814112 0314088f 5013875a c656398d 8a2ed19d 2a85c8ed d3ec2aef",n:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff c7634d81 f4372ddf 581a0db2 48b0a77a ecec196a ccc52973",hash:s.sha384,gRed:!1,g:["aa87ca22 be8b0537 8eb1c71e f320ad74 6e1d3b62 8ba79b98 59f741e0 82542a38 5502f25d bf55296c 3a545e38 72760ab7","3617de4a 96262c6f 5d9e98bf 9292dc29 f8f41dbd 289a147c e9da3113 b5f0b8c0 0a60b1ce 1d7e819d 7a431d7c 90ea0e5f"]}),l("p521",{type:"short",prime:null,p:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff",a:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffc",b:"00000051 953eb961 8e1c9a1f 929a21a0 b68540ee a2da725b 99b315f3 b8b48991 8ef109e1 56193951 ec7e937b 1652c0bd 3bb1bf07 3573df88 3d2c34f1 ef451fd4 6b503f00",n:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffa 51868783 bf2f966b 7fcc0148 f709a5d0 3bb5c9b8 899c47ae bb6fb71e 91386409",hash:s.sha512,gRed:!1,g:["000000c6 858e06b7 0404e9cd 9e3ecb66 2395b442 9c648139 053fb521 f828af60 6b4d3dba a14b5e77 efe75928 fe1dc127 a2ffa8de 3348b3c1 856a429b f97e7e31 c2e5bd66","00000118 39296a78 9a3bc004 5c8a5fb4 2c7d1bd9 98f54449 579b4468 17afbd17 273e662c 97ee7299 5ef42640 c550b901 3fad0761 353c7086 a272c240 88be9476 9fd16650"]}),l("curve25519",{type:"mont",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"76d06",b:"1",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:s.sha256,gRed:!1,g:["9"]}),l("ed25519",{type:"edwards",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"-1",c:"1",d:"52036cee2b6ffe73 8cc740797779e898 00700a4d4141d8ab 75eb4dca135978a3",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:s.sha256,gRed:!1,g:["216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51a","6666666666666666666666666666666666666666666666666666666666666658"]});try{i=r("hElRF")}catch(t){i=void 0}l("secp256k1",{type:"short",prime:"k256",p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f",a:"0",b:"7",n:"ffffffff ffffffff ffffffff fffffffe baaedce6 af48a03b bfd25e8c d0364141",h:"1",hash:s.sha256,beta:"7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee",lambda:"5363ad4cc05c30e0a5261c028812645a122e22ea20816678df02967c1b23bd72",basis:[{a:"3086d221a7d46bcde86c90e49284eb15",b:"-e4437ed6010e88286f547fa90abfe4c3"},{a:"114ca50f7a8e2f3f657c1108d9d44cfd8",b:"3086d221a7d46bcde86c90e49284eb15"}],gRed:!1,g:["79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798","483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8",i]})})),r.register("1RJcD",(function(t,e){var i=t.exports;i.utils=r("fRRy4"),i.common=r("6524C"),i.sha=r("ibxEw"),i.ripemd=r("kUpDB"),i.hmac=r("4WE7m"),i.sha1=i.sha.sha1,i.sha256=i.sha.sha256,i.sha224=i.sha.sha224,i.sha384=i.sha.sha384,i.sha512=i.sha.sha512,i.ripemd160=i.ripemd.ripemd160})),r.register("fRRy4",(function(e,i){var n,s,o,a,h,l,u,c,d,f,p,m,g,v,y,b,w,_,M,x,k,A,E,S,T,I;t(e.exports,"inherits",(()=>n),(t=>n=t)),t(e.exports,"toArray",(()=>s),(t=>s=t)),t(e.exports,"toHex",(()=>o),(t=>o=t)),t(e.exports,"htonl",(()=>a),(t=>a=t)),t(e.exports,"toHex32",(()=>h),(t=>h=t)),t(e.exports,"zero2",(()=>l),(t=>l=t)),t(e.exports,"zero8",(()=>u),(t=>u=t)),t(e.exports,"join32",(()=>c),(t=>c=t)),t(e.exports,"split32",(()=>d),(t=>d=t)),t(e.exports,"rotr32",(()=>f),(t=>f=t)),t(e.exports,"rotl32",(()=>p),(t=>p=t)),t(e.exports,"sum32",(()=>m),(t=>m=t)),t(e.exports,"sum32_3",(()=>g),(t=>g=t)),t(e.exports,"sum32_4",(()=>v),(t=>v=t)),t(e.exports,"sum32_5",(()=>y),(t=>y=t)),t(e.exports,"sum64",(()=>b),(t=>b=t)),t(e.exports,"sum64_hi",(()=>w),(t=>w=t)),t(e.exports,"sum64_lo",(()=>_),(t=>_=t)),t(e.exports,"sum64_4_hi",(()=>M),(t=>M=t)),t(e.exports,"sum64_4_lo",(()=>x),(t=>x=t)),t(e.exports,"sum64_5_hi",(()=>k),(t=>k=t)),t(e.exports,"sum64_5_lo",(()=>A),(t=>A=t)),t(e.exports,"rotr64_hi",(()=>E),(t=>E=t)),t(e.exports,"rotr64_lo",(()=>S),(t=>S=t)),t(e.exports,"shr64_hi",(()=>T),(t=>T=t)),t(e.exports,"shr64_lo",(()=>I),(t=>I=t));var q=r("bQfgu"),C=r("kDUq9");function R(t,e){return 55296==(64512&t.charCodeAt(e))&&(!(e<0||e+1>=t.length)&&56320==(64512&t.charCodeAt(e+1)))}function D(t){return(t>>>24|t>>>8&65280|t<<8&16711680|(255&t)<<24)>>>0}function L(t){return 1===t.length?"0"+t:t}function N(t){return 7===t.length?"0"+t:6===t.length?"00"+t:5===t.length?"000"+t:4===t.length?"0000"+t:3===t.length?"00000"+t:2===t.length?"000000"+t:1===t.length?"0000000"+t:t}n=C,s=function(t,e){if(Array.isArray(t))return t.slice();if(!t)return[];var i=[];if("string"==typeof t)if(e){if("hex"===e)for((t=t.replace(/[^a-z0-9]+/gi,"")).length%2!=0&&(t="0"+t),r=0;r<t.length;r+=2)i.push(parseInt(t[r]+t[r+1],16))}else for(var n=0,r=0;r<t.length;r++){var s=t.charCodeAt(r);s<128?i[n++]=s:s<2048?(i[n++]=s>>6|192,i[n++]=63&s|128):R(t,r)?(s=65536+((1023&s)<<10)+(1023&t.charCodeAt(++r)),i[n++]=s>>18|240,i[n++]=s>>12&63|128,i[n++]=s>>6&63|128,i[n++]=63&s|128):(i[n++]=s>>12|224,i[n++]=s>>6&63|128,i[n++]=63&s|128)}else for(r=0;r<t.length;r++)i[r]=0|t[r];return i},o=function(t){for(var e="",i=0;i<t.length;i++)e+=L(t[i].toString(16));return e},a=D,h=function(t,e){for(var i="",n=0;n<t.length;n++){var r=t[n];"little"===e&&(r=D(r)),i+=N(r.toString(16))}return i},l=L,u=N,c=function(t,e,i,n){var r=i-e;q(r%4==0);for(var s=new Array(r/4),o=0,a=e;o<s.length;o++,a+=4){var h;h="big"===n?t[a]<<24|t[a+1]<<16|t[a+2]<<8|t[a+3]:t[a+3]<<24|t[a+2]<<16|t[a+1]<<8|t[a],s[o]=h>>>0}return s},d=function(t,e){for(var i=new Array(4*t.length),n=0,r=0;n<t.length;n++,r+=4){var s=t[n];"big"===e?(i[r]=s>>>24,i[r+1]=s>>>16&255,i[r+2]=s>>>8&255,i[r+3]=255&s):(i[r+3]=s>>>24,i[r+2]=s>>>16&255,i[r+1]=s>>>8&255,i[r]=255&s)}return i},f=function(t,e){return t>>>e|t<<32-e},p=function(t,e){return t<<e|t>>>32-e},m=function(t,e){return t+e>>>0},g=function(t,e,i){return t+e+i>>>0},v=function(t,e,i,n){return t+e+i+n>>>0},y=function(t,e,i,n,r){return t+e+i+n+r>>>0},b=function(t,e,i,n){var r=t[e],s=n+t[e+1]>>>0,o=(s<n?1:0)+i+r;t[e]=o>>>0,t[e+1]=s},w=function(t,e,i,n){return(e+n>>>0<e?1:0)+t+i>>>0},_=function(t,e,i,n){return e+n>>>0},M=function(t,e,i,n,r,s,o,a){var h=0,l=e;return h+=(l=l+n>>>0)<e?1:0,h+=(l=l+s>>>0)<s?1:0,t+i+r+o+(h+=(l=l+a>>>0)<a?1:0)>>>0},x=function(t,e,i,n,r,s,o,a){return e+n+s+a>>>0},k=function(t,e,i,n,r,s,o,a,h,l){var u=0,c=e;return u+=(c=c+n>>>0)<e?1:0,u+=(c=c+s>>>0)<s?1:0,u+=(c=c+a>>>0)<a?1:0,t+i+r+o+h+(u+=(c=c+l>>>0)<l?1:0)>>>0},A=function(t,e,i,n,r,s,o,a,h,l){return e+n+s+a+l>>>0},E=function(t,e,i){return(e<<32-i|t>>>i)>>>0},S=function(t,e,i){return(t<<32-i|e>>>i)>>>0},T=function(t,e,i){return t>>>i},I=function(t,e,i){return(t<<32-i|e>>>i)>>>0}})),r.register("6524C",(function(e,i){var n;t(e.exports,"BlockHash",(()=>n),(t=>n=t));var s=r("fRRy4"),o=r("bQfgu");function a(){this.pending=null,this.pendingTotal=0,this.blockSize=this.constructor.blockSize,this.outSize=this.constructor.outSize,this.hmacStrength=this.constructor.hmacStrength,this.padLength=this.constructor.padLength/8,this.endian="big",this._delta8=this.blockSize/8,this._delta32=this.blockSize/32}n=a,a.prototype.update=function(t,e){if(t=s.toArray(t,e),this.pending?this.pending=this.pending.concat(t):this.pending=t,this.pendingTotal+=t.length,this.pending.length>=this._delta8){var i=(t=this.pending).length%this._delta8;this.pending=t.slice(t.length-i,t.length),0===this.pending.length&&(this.pending=null),t=s.join32(t,0,t.length-i,this.endian);for(var n=0;n<t.length;n+=this._delta32)this._update(t,n,n+this._delta32)}return this},a.prototype.digest=function(t){return this.update(this._pad()),o(null===this.pending),this._digest(t)},a.prototype._pad=function(){var t=this.pendingTotal,e=this._delta8,i=e-(t+this.padLength)%e,n=new Array(i+this.padLength);n[0]=128;for(var r=1;r<i;r++)n[r]=0;if(t<<=3,"big"===this.endian){for(var s=8;s<this.padLength;s++)n[r++]=0;n[r++]=0,n[r++]=0,n[r++]=0,n[r++]=0,n[r++]=t>>>24&255,n[r++]=t>>>16&255,n[r++]=t>>>8&255,n[r++]=255&t}else for(n[r++]=255&t,n[r++]=t>>>8&255,n[r++]=t>>>16&255,n[r++]=t>>>24&255,n[r++]=0,n[r++]=0,n[r++]=0,n[r++]=0,s=8;s<this.padLength;s++)n[r++]=0;return n}})),r.register("ibxEw",(function(e,i){var n,s,o,a,h;t(e.exports,"sha1",(()=>n),(t=>n=t)),t(e.exports,"sha224",(()=>s),(t=>s=t)),t(e.exports,"sha256",(()=>o),(t=>o=t)),t(e.exports,"sha384",(()=>a),(t=>a=t)),t(e.exports,"sha512",(()=>h),(t=>h=t)),n=r("63vqh"),s=r("fLi0N"),o=r("ltWuz"),a=r("fvhBP"),h=r("G5vG7")})),r.register("63vqh",(function(t,e){var i=r("fRRy4"),n=r("6524C"),s=r("6Tgcx"),o=i.rotl32,a=i.sum32,h=i.sum32_5,l=s.ft_1,u=n.BlockHash,c=[1518500249,1859775393,2400959708,3395469782];function d(){if(!(this instanceof d))return new d;u.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.W=new Array(80)}i.inherits(d,u),t.exports=d,d.blockSize=512,d.outSize=160,d.hmacStrength=80,d.padLength=64,d.prototype._update=function(t,e){for(var i=this.W,n=0;n<16;n++)i[n]=t[e+n];for(;n<i.length;n++)i[n]=o(i[n-3]^i[n-8]^i[n-14]^i[n-16],1);var r=this.h[0],s=this.h[1],u=this.h[2],d=this.h[3],f=this.h[4];for(n=0;n<i.length;n++){var p=~~(n/20),m=h(o(r,5),l(p,s,u,d),f,i[n],c[p]);f=d,d=u,u=o(s,30),s=r,r=m}this.h[0]=a(this.h[0],r),this.h[1]=a(this.h[1],s),this.h[2]=a(this.h[2],u),this.h[3]=a(this.h[3],d),this.h[4]=a(this.h[4],f)},d.prototype._digest=function(t){return"hex"===t?i.toHex32(this.h,"big"):i.split32(this.h,"big")}})),r.register("6Tgcx",(function(e,i){var n,s,o,a,h,l,u;t(e.exports,"ft_1",(()=>n),(t=>n=t)),t(e.exports,"ch32",(()=>s),(t=>s=t)),t(e.exports,"maj32",(()=>o),(t=>o=t)),t(e.exports,"s0_256",(()=>a),(t=>a=t)),t(e.exports,"s1_256",(()=>h),(t=>h=t)),t(e.exports,"g0_256",(()=>l),(t=>l=t)),t(e.exports,"g1_256",(()=>u),(t=>u=t));var c=r("fRRy4").rotr32;function d(t,e,i){return t&e^~t&i}function f(t,e,i){return t&e^t&i^e&i}function p(t,e,i){return t^e^i}n=function(t,e,i,n){return 0===t?d(e,i,n):1===t||3===t?p(e,i,n):2===t?f(e,i,n):void 0},s=d,o=f,a=function(t){return c(t,2)^c(t,13)^c(t,22)},h=function(t){return c(t,6)^c(t,11)^c(t,25)},l=function(t){return c(t,7)^c(t,18)^t>>>3},u=function(t){return c(t,17)^c(t,19)^t>>>10}})),r.register("fLi0N",(function(t,e){var i=r("fRRy4"),n=r("ltWuz");function s(){if(!(this instanceof s))return new s;n.call(this),this.h=[3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428]}i.inherits(s,n),t.exports=s,s.blockSize=512,s.outSize=224,s.hmacStrength=192,s.padLength=64,s.prototype._digest=function(t){return"hex"===t?i.toHex32(this.h.slice(0,7),"big"):i.split32(this.h.slice(0,7),"big")}})),r.register("ltWuz",(function(t,e){var i=r("fRRy4"),n=r("6524C"),s=r("6Tgcx"),o=r("bQfgu"),a=i.sum32,h=i.sum32_4,l=i.sum32_5,u=s.ch32,c=s.maj32,d=s.s0_256,f=s.s1_256,p=s.g0_256,m=s.g1_256,g=n.BlockHash,v=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function y(){if(!(this instanceof y))return new y;g.call(this),this.h=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],this.k=v,this.W=new Array(64)}i.inherits(y,g),t.exports=y,y.blockSize=512,y.outSize=256,y.hmacStrength=192,y.padLength=64,y.prototype._update=function(t,e){for(var i=this.W,n=0;n<16;n++)i[n]=t[e+n];for(;n<i.length;n++)i[n]=h(m(i[n-2]),i[n-7],p(i[n-15]),i[n-16]);var r=this.h[0],s=this.h[1],g=this.h[2],v=this.h[3],y=this.h[4],b=this.h[5],w=this.h[6],_=this.h[7];for(o(this.k.length===i.length),n=0;n<i.length;n++){var M=l(_,f(y),u(y,b,w),this.k[n],i[n]),x=a(d(r),c(r,s,g));_=w,w=b,b=y,y=a(v,M),v=g,g=s,s=r,r=a(M,x)}this.h[0]=a(this.h[0],r),this.h[1]=a(this.h[1],s),this.h[2]=a(this.h[2],g),this.h[3]=a(this.h[3],v),this.h[4]=a(this.h[4],y),this.h[5]=a(this.h[5],b),this.h[6]=a(this.h[6],w),this.h[7]=a(this.h[7],_)},y.prototype._digest=function(t){return"hex"===t?i.toHex32(this.h,"big"):i.split32(this.h,"big")}})),r.register("fvhBP",(function(t,e){var i=r("fRRy4"),n=r("G5vG7");function s(){if(!(this instanceof s))return new s;n.call(this),this.h=[3418070365,3238371032,1654270250,914150663,2438529370,812702999,355462360,4144912697,1731405415,4290775857,2394180231,1750603025,3675008525,1694076839,1203062813,3204075428]}i.inherits(s,n),t.exports=s,s.blockSize=1024,s.outSize=384,s.hmacStrength=192,s.padLength=128,s.prototype._digest=function(t){return"hex"===t?i.toHex32(this.h.slice(0,12),"big"):i.split32(this.h.slice(0,12),"big")}})),r.register("G5vG7",(function(t,e){var i=r("fRRy4"),n=r("6524C"),s=r("bQfgu"),o=i.rotr64_hi,a=i.rotr64_lo,h=i.shr64_hi,l=i.shr64_lo,u=i.sum64,c=i.sum64_hi,d=i.sum64_lo,f=i.sum64_4_hi,p=i.sum64_4_lo,m=i.sum64_5_hi,g=i.sum64_5_lo,v=n.BlockHash,y=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591];function b(){if(!(this instanceof b))return new b;v.call(this),this.h=[1779033703,4089235720,3144134277,2227873595,1013904242,4271175723,2773480762,1595750129,1359893119,2917565137,2600822924,725511199,528734635,4215389547,1541459225,327033209],this.k=y,this.W=new Array(160)}function w(t,e,i,n,r){var s=t&i^~t&r;return s<0&&(s+=4294967296),s}function _(t,e,i,n,r,s){var o=e&n^~e&s;return o<0&&(o+=4294967296),o}function M(t,e,i,n,r){var s=t&i^t&r^i&r;return s<0&&(s+=4294967296),s}function x(t,e,i,n,r,s){var o=e&n^e&s^n&s;return o<0&&(o+=4294967296),o}function k(t,e){var i=o(t,e,28)^o(e,t,2)^o(e,t,7);return i<0&&(i+=4294967296),i}function A(t,e){var i=a(t,e,28)^a(e,t,2)^a(e,t,7);return i<0&&(i+=4294967296),i}function E(t,e){var i=o(t,e,14)^o(t,e,18)^o(e,t,9);return i<0&&(i+=4294967296),i}function S(t,e){var i=a(t,e,14)^a(t,e,18)^a(e,t,9);return i<0&&(i+=4294967296),i}function T(t,e){var i=o(t,e,1)^o(t,e,8)^h(t,e,7);return i<0&&(i+=4294967296),i}function I(t,e){var i=a(t,e,1)^a(t,e,8)^l(t,e,7);return i<0&&(i+=4294967296),i}function q(t,e){var i=o(t,e,19)^o(e,t,29)^h(t,e,6);return i<0&&(i+=4294967296),i}function C(t,e){var i=a(t,e,19)^a(e,t,29)^l(t,e,6);return i<0&&(i+=4294967296),i}i.inherits(b,v),t.exports=b,b.blockSize=1024,b.outSize=512,b.hmacStrength=192,b.padLength=128,b.prototype._prepareBlock=function(t,e){for(var i=this.W,n=0;n<32;n++)i[n]=t[e+n];for(;n<i.length;n+=2){var r=q(i[n-4],i[n-3]),s=C(i[n-4],i[n-3]),o=i[n-14],a=i[n-13],h=T(i[n-30],i[n-29]),l=I(i[n-30],i[n-29]),u=i[n-32],c=i[n-31];i[n]=f(r,s,o,a,h,l,u,c),i[n+1]=p(r,s,o,a,h,l,u,c)}},b.prototype._update=function(t,e){this._prepareBlock(t,e);var i=this.W,n=this.h[0],r=this.h[1],o=this.h[2],a=this.h[3],h=this.h[4],l=this.h[5],f=this.h[6],p=this.h[7],v=this.h[8],y=this.h[9],b=this.h[10],T=this.h[11],I=this.h[12],q=this.h[13],C=this.h[14],R=this.h[15];s(this.k.length===i.length);for(var D=0;D<i.length;D+=2){var L=C,N=R,O=E(v,y),P=S(v,y),B=w(v,y,b,T,I),U=_(v,y,b,T,I,q),F=this.k[D],j=this.k[D+1],z=i[D],V=i[D+1],H=m(L,N,O,P,B,U,F,j,z,V),W=g(L,N,O,P,B,U,F,j,z,V);L=k(n,r),N=A(n,r),O=M(n,r,o,a,h),P=x(n,r,o,a,h,l);var K=c(L,N,O,P),G=d(L,N,O,P);C=I,R=q,I=b,q=T,b=v,T=y,v=c(f,p,H,W),y=d(p,p,H,W),f=h,p=l,h=o,l=a,o=n,a=r,n=c(H,W,K,G),r=d(H,W,K,G)}u(this.h,0,n,r),u(this.h,2,o,a),u(this.h,4,h,l),u(this.h,6,f,p),u(this.h,8,v,y),u(this.h,10,b,T),u(this.h,12,I,q),u(this.h,14,C,R)},b.prototype._digest=function(t){return"hex"===t?i.toHex32(this.h,"big"):i.split32(this.h,"big")}})),r.register("kUpDB",(function(e,i){var n;t(e.exports,"ripemd160",(()=>n),(t=>n=t));var s=r("fRRy4"),o=r("6524C"),a=s.rotl32,h=s.sum32,l=s.sum32_3,u=s.sum32_4,c=o.BlockHash;function d(){if(!(this instanceof d))return new d;c.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.endian="little"}function f(t,e,i,n){return t<=15?e^i^n:t<=31?e&i|~e&n:t<=47?(e|~i)^n:t<=63?e&n|i&~n:e^(i|~n)}function p(t){return t<=15?0:t<=31?1518500249:t<=47?1859775393:t<=63?2400959708:2840853838}function m(t){return t<=15?1352829926:t<=31?1548603684:t<=47?1836072691:t<=63?2053994217:0}s.inherits(d,c),n=d,d.blockSize=512,d.outSize=160,d.hmacStrength=192,d.padLength=64,d.prototype._update=function(t,e){for(var i=this.h[0],n=this.h[1],r=this.h[2],s=this.h[3],o=this.h[4],c=i,d=n,w=r,_=s,M=o,x=0;x<80;x++){var k=h(a(u(i,f(x,n,r,s),t[g[x]+e],p(x)),y[x]),o);i=o,o=s,s=a(r,10),r=n,n=k,k=h(a(u(c,f(79-x,d,w,_),t[v[x]+e],m(x)),b[x]),M),c=M,M=_,_=a(w,10),w=d,d=k}k=l(this.h[1],r,_),this.h[1]=l(this.h[2],s,M),this.h[2]=l(this.h[3],o,c),this.h[3]=l(this.h[4],i,d),this.h[4]=l(this.h[0],n,w),this.h[0]=k},d.prototype._digest=function(t){return"hex"===t?s.toHex32(this.h,"little"):s.split32(this.h,"little")};var g=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],v=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],y=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],b=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11]})),r.register("4WE7m",(function(t,e){var i=r("fRRy4"),n=r("bQfgu");function s(t,e,n){if(!(this instanceof s))return new s(t,e,n);this.Hash=t,this.blockSize=t.blockSize/8,this.outSize=t.outSize/8,this.inner=null,this.outer=null,this._init(i.toArray(e,n))}t.exports=s,s.prototype._init=function(t){t.length>this.blockSize&&(t=(new this.Hash).update(t).digest()),n(t.length<=this.blockSize);for(var e=t.length;e<this.blockSize;e++)t.push(0);for(e=0;e<t.length;e++)t[e]^=54;for(this.inner=(new this.Hash).update(t),e=0;e<t.length;e++)t[e]^=106;this.outer=(new this.Hash).update(t)},s.prototype.update=function(t,e){return this.inner.update(t,e),this},s.prototype.digest=function(t){return this.outer.update(this.inner.digest()),this.outer.digest(t)}})),r.register("hElRF",(function(t,e){t.exports={doubles:{step:4,points:[["e60fce93b59e9ec53011aabc21c23e97b2a31369b87a5ae9c44ee89e2a6dec0a","f7e3507399e595929db99f34f57937101296891e44d23f0be1f32cce69616821"],["8282263212c609d9ea2a6e3e172de238d8c39cabd5ac1ca10646e23fd5f51508","11f8a8098557dfe45e8256e830b60ace62d613ac2f7b17bed31b6eaff6e26caf"],["175e159f728b865a72f99cc6c6fc846de0b93833fd2222ed73fce5b551e5b739","d3506e0d9e3c79eba4ef97a51ff71f5eacb5955add24345c6efa6ffee9fed695"],["363d90d447b00c9c99ceac05b6262ee053441c7e55552ffe526bad8f83ff4640","4e273adfc732221953b445397f3363145b9a89008199ecb62003c7f3bee9de9"],["8b4b5f165df3c2be8c6244b5b745638843e4a781a15bcd1b69f79a55dffdf80c","4aad0a6f68d308b4b3fbd7813ab0da04f9e336546162ee56b3eff0c65fd4fd36"],["723cbaa6e5db996d6bf771c00bd548c7b700dbffa6c0e77bcb6115925232fcda","96e867b5595cc498a921137488824d6e2660a0653779494801dc069d9eb39f5f"],["eebfa4d493bebf98ba5feec812c2d3b50947961237a919839a533eca0e7dd7fa","5d9a8ca3970ef0f269ee7edaf178089d9ae4cdc3a711f712ddfd4fdae1de8999"],["100f44da696e71672791d0a09b7bde459f1215a29b3c03bfefd7835b39a48db0","cdd9e13192a00b772ec8f3300c090666b7ff4a18ff5195ac0fbd5cd62bc65a09"],["e1031be262c7ed1b1dc9227a4a04c017a77f8d4464f3b3852c8acde6e534fd2d","9d7061928940405e6bb6a4176597535af292dd419e1ced79a44f18f29456a00d"],["feea6cae46d55b530ac2839f143bd7ec5cf8b266a41d6af52d5e688d9094696d","e57c6b6c97dce1bab06e4e12bf3ecd5c981c8957cc41442d3155debf18090088"],["da67a91d91049cdcb367be4be6ffca3cfeed657d808583de33fa978bc1ec6cb1","9bacaa35481642bc41f463f7ec9780e5dec7adc508f740a17e9ea8e27a68be1d"],["53904faa0b334cdda6e000935ef22151ec08d0f7bb11069f57545ccc1a37b7c0","5bc087d0bc80106d88c9eccac20d3c1c13999981e14434699dcb096b022771c8"],["8e7bcd0bd35983a7719cca7764ca906779b53a043a9b8bcaeff959f43ad86047","10b7770b2a3da4b3940310420ca9514579e88e2e47fd68b3ea10047e8460372a"],["385eed34c1cdff21e6d0818689b81bde71a7f4f18397e6690a841e1599c43862","283bebc3e8ea23f56701de19e9ebf4576b304eec2086dc8cc0458fe5542e5453"],["6f9d9b803ecf191637c73a4413dfa180fddf84a5947fbc9c606ed86c3fac3a7","7c80c68e603059ba69b8e2a30e45c4d47ea4dd2f5c281002d86890603a842160"],["3322d401243c4e2582a2147c104d6ecbf774d163db0f5e5313b7e0e742d0e6bd","56e70797e9664ef5bfb019bc4ddaf9b72805f63ea2873af624f3a2e96c28b2a0"],["85672c7d2de0b7da2bd1770d89665868741b3f9af7643397721d74d28134ab83","7c481b9b5b43b2eb6374049bfa62c2e5e77f17fcc5298f44c8e3094f790313a6"],["948bf809b1988a46b06c9f1919413b10f9226c60f668832ffd959af60c82a0a","53a562856dcb6646dc6b74c5d1c3418c6d4dff08c97cd2bed4cb7f88d8c8e589"],["6260ce7f461801c34f067ce0f02873a8f1b0e44dfc69752accecd819f38fd8e8","bc2da82b6fa5b571a7f09049776a1ef7ecd292238051c198c1a84e95b2b4ae17"],["e5037de0afc1d8d43d8348414bbf4103043ec8f575bfdc432953cc8d2037fa2d","4571534baa94d3b5f9f98d09fb990bddbd5f5b03ec481f10e0e5dc841d755bda"],["e06372b0f4a207adf5ea905e8f1771b4e7e8dbd1c6a6c5b725866a0ae4fce725","7a908974bce18cfe12a27bb2ad5a488cd7484a7787104870b27034f94eee31dd"],["213c7a715cd5d45358d0bbf9dc0ce02204b10bdde2a3f58540ad6908d0559754","4b6dad0b5ae462507013ad06245ba190bb4850f5f36a7eeddff2c27534b458f2"],["4e7c272a7af4b34e8dbb9352a5419a87e2838c70adc62cddf0cc3a3b08fbd53c","17749c766c9d0b18e16fd09f6def681b530b9614bff7dd33e0b3941817dcaae6"],["fea74e3dbe778b1b10f238ad61686aa5c76e3db2be43057632427e2840fb27b6","6e0568db9b0b13297cf674deccb6af93126b596b973f7b77701d3db7f23cb96f"],["76e64113f677cf0e10a2570d599968d31544e179b760432952c02a4417bdde39","c90ddf8dee4e95cf577066d70681f0d35e2a33d2b56d2032b4b1752d1901ac01"],["c738c56b03b2abe1e8281baa743f8f9a8f7cc643df26cbee3ab150242bcbb891","893fb578951ad2537f718f2eacbfbbbb82314eef7880cfe917e735d9699a84c3"],["d895626548b65b81e264c7637c972877d1d72e5f3a925014372e9f6588f6c14b","febfaa38f2bc7eae728ec60818c340eb03428d632bb067e179363ed75d7d991f"],["b8da94032a957518eb0f6433571e8761ceffc73693e84edd49150a564f676e03","2804dfa44805a1e4d7c99cc9762808b092cc584d95ff3b511488e4e74efdf6e7"],["e80fea14441fb33a7d8adab9475d7fab2019effb5156a792f1a11778e3c0df5d","eed1de7f638e00771e89768ca3ca94472d155e80af322ea9fcb4291b6ac9ec78"],["a301697bdfcd704313ba48e51d567543f2a182031efd6915ddc07bbcc4e16070","7370f91cfb67e4f5081809fa25d40f9b1735dbf7c0a11a130c0d1a041e177ea1"],["90ad85b389d6b936463f9d0512678de208cc330b11307fffab7ac63e3fb04ed4","e507a3620a38261affdcbd9427222b839aefabe1582894d991d4d48cb6ef150"],["8f68b9d2f63b5f339239c1ad981f162ee88c5678723ea3351b7b444c9ec4c0da","662a9f2dba063986de1d90c2b6be215dbbea2cfe95510bfdf23cbf79501fff82"],["e4f3fb0176af85d65ff99ff9198c36091f48e86503681e3e6686fd5053231e11","1e63633ad0ef4f1c1661a6d0ea02b7286cc7e74ec951d1c9822c38576feb73bc"],["8c00fa9b18ebf331eb961537a45a4266c7034f2f0d4e1d0716fb6eae20eae29e","efa47267fea521a1a9dc343a3736c974c2fadafa81e36c54e7d2a4c66702414b"],["e7a26ce69dd4829f3e10cec0a9e98ed3143d084f308b92c0997fddfc60cb3e41","2a758e300fa7984b471b006a1aafbb18d0a6b2c0420e83e20e8a9421cf2cfd51"],["b6459e0ee3662ec8d23540c223bcbdc571cbcb967d79424f3cf29eb3de6b80ef","67c876d06f3e06de1dadf16e5661db3c4b3ae6d48e35b2ff30bf0b61a71ba45"],["d68a80c8280bb840793234aa118f06231d6f1fc67e73c5a5deda0f5b496943e8","db8ba9fff4b586d00c4b1f9177b0e28b5b0e7b8f7845295a294c84266b133120"],["324aed7df65c804252dc0270907a30b09612aeb973449cea4095980fc28d3d5d","648a365774b61f2ff130c0c35aec1f4f19213b0c7e332843967224af96ab7c84"],["4df9c14919cde61f6d51dfdbe5fee5dceec4143ba8d1ca888e8bd373fd054c96","35ec51092d8728050974c23a1d85d4b5d506cdc288490192ebac06cad10d5d"],["9c3919a84a474870faed8a9c1cc66021523489054d7f0308cbfc99c8ac1f98cd","ddb84f0f4a4ddd57584f044bf260e641905326f76c64c8e6be7e5e03d4fc599d"],["6057170b1dd12fdf8de05f281d8e06bb91e1493a8b91d4cc5a21382120a959e5","9a1af0b26a6a4807add9a2daf71df262465152bc3ee24c65e899be932385a2a8"],["a576df8e23a08411421439a4518da31880cef0fba7d4df12b1a6973eecb94266","40a6bf20e76640b2c92b97afe58cd82c432e10a7f514d9f3ee8be11ae1b28ec8"],["7778a78c28dec3e30a05fe9629de8c38bb30d1f5cf9a3a208f763889be58ad71","34626d9ab5a5b22ff7098e12f2ff580087b38411ff24ac563b513fc1fd9f43ac"],["928955ee637a84463729fd30e7afd2ed5f96274e5ad7e5cb09eda9c06d903ac","c25621003d3f42a827b78a13093a95eeac3d26efa8a8d83fc5180e935bcd091f"],["85d0fef3ec6db109399064f3a0e3b2855645b4a907ad354527aae75163d82751","1f03648413a38c0be29d496e582cf5663e8751e96877331582c237a24eb1f962"],["ff2b0dce97eece97c1c9b6041798b85dfdfb6d8882da20308f5404824526087e","493d13fef524ba188af4c4dc54d07936c7b7ed6fb90e2ceb2c951e01f0c29907"],["827fbbe4b1e880ea9ed2b2e6301b212b57f1ee148cd6dd28780e5e2cf856e241","c60f9c923c727b0b71bef2c67d1d12687ff7a63186903166d605b68baec293ec"],["eaa649f21f51bdbae7be4ae34ce6e5217a58fdce7f47f9aa7f3b58fa2120e2b3","be3279ed5bbbb03ac69a80f89879aa5a01a6b965f13f7e59d47a5305ba5ad93d"],["e4a42d43c5cf169d9391df6decf42ee541b6d8f0c9a137401e23632dda34d24f","4d9f92e716d1c73526fc99ccfb8ad34ce886eedfa8d8e4f13a7f7131deba9414"],["1ec80fef360cbdd954160fadab352b6b92b53576a88fea4947173b9d4300bf19","aeefe93756b5340d2f3a4958a7abbf5e0146e77f6295a07b671cdc1cc107cefd"],["146a778c04670c2f91b00af4680dfa8bce3490717d58ba889ddb5928366642be","b318e0ec3354028add669827f9d4b2870aaa971d2f7e5ed1d0b297483d83efd0"],["fa50c0f61d22e5f07e3acebb1aa07b128d0012209a28b9776d76a8793180eef9","6b84c6922397eba9b72cd2872281a68a5e683293a57a213b38cd8d7d3f4f2811"],["da1d61d0ca721a11b1a5bf6b7d88e8421a288ab5d5bba5220e53d32b5f067ec2","8157f55a7c99306c79c0766161c91e2966a73899d279b48a655fba0f1ad836f1"],["a8e282ff0c9706907215ff98e8fd416615311de0446f1e062a73b0610d064e13","7f97355b8db81c09abfb7f3c5b2515888b679a3e50dd6bd6cef7c73111f4cc0c"],["174a53b9c9a285872d39e56e6913cab15d59b1fa512508c022f382de8319497c","ccc9dc37abfc9c1657b4155f2c47f9e6646b3a1d8cb9854383da13ac079afa73"],["959396981943785c3d3e57edf5018cdbe039e730e4918b3d884fdff09475b7ba","2e7e552888c331dd8ba0386a4b9cd6849c653f64c8709385e9b8abf87524f2fd"],["d2a63a50ae401e56d645a1153b109a8fcca0a43d561fba2dbb51340c9d82b151","e82d86fb6443fcb7565aee58b2948220a70f750af484ca52d4142174dcf89405"],["64587e2335471eb890ee7896d7cfdc866bacbdbd3839317b3436f9b45617e073","d99fcdd5bf6902e2ae96dd6447c299a185b90a39133aeab358299e5e9faf6589"],["8481bde0e4e4d885b3a546d3e549de042f0aa6cea250e7fd358d6c86dd45e458","38ee7b8cba5404dd84a25bf39cecb2ca900a79c42b262e556d64b1b59779057e"],["13464a57a78102aa62b6979ae817f4637ffcfed3c4b1ce30bcd6303f6caf666b","69be159004614580ef7e433453ccb0ca48f300a81d0942e13f495a907f6ecc27"],["bc4a9df5b713fe2e9aef430bcc1dc97a0cd9ccede2f28588cada3a0d2d83f366","d3a81ca6e785c06383937adf4b798caa6e8a9fbfa547b16d758d666581f33c1"],["8c28a97bf8298bc0d23d8c749452a32e694b65e30a9472a3954ab30fe5324caa","40a30463a3305193378fedf31f7cc0eb7ae784f0451cb9459e71dc73cbef9482"],["8ea9666139527a8c1dd94ce4f071fd23c8b350c5a4bb33748c4ba111faccae0","620efabbc8ee2782e24e7c0cfb95c5d735b783be9cf0f8e955af34a30e62b945"],["dd3625faef5ba06074669716bbd3788d89bdde815959968092f76cc4eb9a9787","7a188fa3520e30d461da2501045731ca941461982883395937f68d00c644a573"],["f710d79d9eb962297e4f6232b40e8f7feb2bc63814614d692c12de752408221e","ea98e67232d3b3295d3b535532115ccac8612c721851617526ae47a9c77bfc82"]]},naf:{wnd:7,points:[["f9308a019258c31049344f85f89d5229b531c845836f99b08601f113bce036f9","388f7b0f632de8140fe337e62a37f3566500a99934c2231b6cb9fd7584b8e672"],["2f8bde4d1a07209355b4a7250a5c5128e88b84bddc619ab7cba8d569b240efe4","d8ac222636e5e3d6d4dba9dda6c9c426f788271bab0d6840dca87d3aa6ac62d6"],["5cbdf0646e5db4eaa398f365f2ea7a0e3d419b7e0330e39ce92bddedcac4f9bc","6aebca40ba255960a3178d6d861a54dba813d0b813fde7b5a5082628087264da"],["acd484e2f0c7f65309ad178a9f559abde09796974c57e714c35f110dfc27ccbe","cc338921b0a7d9fd64380971763b61e9add888a4375f8e0f05cc262ac64f9c37"],["774ae7f858a9411e5ef4246b70c65aac5649980be5c17891bbec17895da008cb","d984a032eb6b5e190243dd56d7b7b365372db1e2dff9d6a8301d74c9c953c61b"],["f28773c2d975288bc7d1d205c3748651b075fbc6610e58cddeeddf8f19405aa8","ab0902e8d880a89758212eb65cdaf473a1a06da521fa91f29b5cb52db03ed81"],["d7924d4f7d43ea965a465ae3095ff41131e5946f3c85f79e44adbcf8e27e080e","581e2872a86c72a683842ec228cc6defea40af2bd896d3a5c504dc9ff6a26b58"],["defdea4cdb677750a420fee807eacf21eb9898ae79b9768766e4faa04a2d4a34","4211ab0694635168e997b0ead2a93daeced1f4a04a95c0f6cfb199f69e56eb77"],["2b4ea0a797a443d293ef5cff444f4979f06acfebd7e86d277475656138385b6c","85e89bc037945d93b343083b5a1c86131a01f60c50269763b570c854e5c09b7a"],["352bbf4a4cdd12564f93fa332ce333301d9ad40271f8107181340aef25be59d5","321eb4075348f534d59c18259dda3e1f4a1b3b2e71b1039c67bd3d8bcf81998c"],["2fa2104d6b38d11b0230010559879124e42ab8dfeff5ff29dc9cdadd4ecacc3f","2de1068295dd865b64569335bd5dd80181d70ecfc882648423ba76b532b7d67"],["9248279b09b4d68dab21a9b066edda83263c3d84e09572e269ca0cd7f5453714","73016f7bf234aade5d1aa71bdea2b1ff3fc0de2a887912ffe54a32ce97cb3402"],["daed4f2be3a8bf278e70132fb0beb7522f570e144bf615c07e996d443dee8729","a69dce4a7d6c98e8d4a1aca87ef8d7003f83c230f3afa726ab40e52290be1c55"],["c44d12c7065d812e8acf28d7cbb19f9011ecd9e9fdf281b0e6a3b5e87d22e7db","2119a460ce326cdc76c45926c982fdac0e106e861edf61c5a039063f0e0e6482"],["6a245bf6dc698504c89a20cfded60853152b695336c28063b61c65cbd269e6b4","e022cf42c2bd4a708b3f5126f16a24ad8b33ba48d0423b6efd5e6348100d8a82"],["1697ffa6fd9de627c077e3d2fe541084ce13300b0bec1146f95ae57f0d0bd6a5","b9c398f186806f5d27561506e4557433a2cf15009e498ae7adee9d63d01b2396"],["605bdb019981718b986d0f07e834cb0d9deb8360ffb7f61df982345ef27a7479","2972d2de4f8d20681a78d93ec96fe23c26bfae84fb14db43b01e1e9056b8c49"],["62d14dab4150bf497402fdc45a215e10dcb01c354959b10cfe31c7e9d87ff33d","80fc06bd8cc5b01098088a1950eed0db01aa132967ab472235f5642483b25eaf"],["80c60ad0040f27dade5b4b06c408e56b2c50e9f56b9b8b425e555c2f86308b6f","1c38303f1cc5c30f26e66bad7fe72f70a65eed4cbe7024eb1aa01f56430bd57a"],["7a9375ad6167ad54aa74c6348cc54d344cc5dc9487d847049d5eabb0fa03c8fb","d0e3fa9eca8726909559e0d79269046bdc59ea10c70ce2b02d499ec224dc7f7"],["d528ecd9b696b54c907a9ed045447a79bb408ec39b68df504bb51f459bc3ffc9","eecf41253136e5f99966f21881fd656ebc4345405c520dbc063465b521409933"],["49370a4b5f43412ea25f514e8ecdad05266115e4a7ecb1387231808f8b45963","758f3f41afd6ed428b3081b0512fd62a54c3f3afbb5b6764b653052a12949c9a"],["77f230936ee88cbbd73df930d64702ef881d811e0e1498e2f1c13eb1fc345d74","958ef42a7886b6400a08266e9ba1b37896c95330d97077cbbe8eb3c7671c60d6"],["f2dac991cc4ce4b9ea44887e5c7c0bce58c80074ab9d4dbaeb28531b7739f530","e0dedc9b3b2f8dad4da1f32dec2531df9eb5fbeb0598e4fd1a117dba703a3c37"],["463b3d9f662621fb1b4be8fbbe2520125a216cdfc9dae3debcba4850c690d45b","5ed430d78c296c3543114306dd8622d7c622e27c970a1de31cb377b01af7307e"],["f16f804244e46e2a09232d4aff3b59976b98fac14328a2d1a32496b49998f247","cedabd9b82203f7e13d206fcdf4e33d92a6c53c26e5cce26d6579962c4e31df6"],["caf754272dc84563b0352b7a14311af55d245315ace27c65369e15f7151d41d1","cb474660ef35f5f2a41b643fa5e460575f4fa9b7962232a5c32f908318a04476"],["2600ca4b282cb986f85d0f1709979d8b44a09c07cb86d7c124497bc86f082120","4119b88753c15bd6a693b03fcddbb45d5ac6be74ab5f0ef44b0be9475a7e4b40"],["7635ca72d7e8432c338ec53cd12220bc01c48685e24f7dc8c602a7746998e435","91b649609489d613d1d5e590f78e6d74ecfc061d57048bad9e76f302c5b9c61"],["754e3239f325570cdbbf4a87deee8a66b7f2b33479d468fbc1a50743bf56cc18","673fb86e5bda30fb3cd0ed304ea49a023ee33d0197a695d0c5d98093c536683"],["e3e6bd1071a1e96aff57859c82d570f0330800661d1c952f9fe2694691d9b9e8","59c9e0bba394e76f40c0aa58379a3cb6a5a2283993e90c4167002af4920e37f5"],["186b483d056a033826ae73d88f732985c4ccb1f32ba35f4b4cc47fdcf04aa6eb","3b952d32c67cf77e2e17446e204180ab21fb8090895138b4a4a797f86e80888b"],["df9d70a6b9876ce544c98561f4be4f725442e6d2b737d9c91a8321724ce0963f","55eb2dafd84d6ccd5f862b785dc39d4ab157222720ef9da217b8c45cf2ba2417"],["5edd5cc23c51e87a497ca815d5dce0f8ab52554f849ed8995de64c5f34ce7143","efae9c8dbc14130661e8cec030c89ad0c13c66c0d17a2905cdc706ab7399a868"],["290798c2b6476830da12fe02287e9e777aa3fba1c355b17a722d362f84614fba","e38da76dcd440621988d00bcf79af25d5b29c094db2a23146d003afd41943e7a"],["af3c423a95d9f5b3054754efa150ac39cd29552fe360257362dfdecef4053b45","f98a3fd831eb2b749a93b0e6f35cfb40c8cd5aa667a15581bc2feded498fd9c6"],["766dbb24d134e745cccaa28c99bf274906bb66b26dcf98df8d2fed50d884249a","744b1152eacbe5e38dcc887980da38b897584a65fa06cedd2c924f97cbac5996"],["59dbf46f8c94759ba21277c33784f41645f7b44f6c596a58ce92e666191abe3e","c534ad44175fbc300f4ea6ce648309a042ce739a7919798cd85e216c4a307f6e"],["f13ada95103c4537305e691e74e9a4a8dd647e711a95e73cb62dc6018cfd87b8","e13817b44ee14de663bf4bc808341f326949e21a6a75c2570778419bdaf5733d"],["7754b4fa0e8aced06d4167a2c59cca4cda1869c06ebadfb6488550015a88522c","30e93e864e669d82224b967c3020b8fa8d1e4e350b6cbcc537a48b57841163a2"],["948dcadf5990e048aa3874d46abef9d701858f95de8041d2a6828c99e2262519","e491a42537f6e597d5d28a3224b1bc25df9154efbd2ef1d2cbba2cae5347d57e"],["7962414450c76c1689c7b48f8202ec37fb224cf5ac0bfa1570328a8a3d7c77ab","100b610ec4ffb4760d5c1fc133ef6f6b12507a051f04ac5760afa5b29db83437"],["3514087834964b54b15b160644d915485a16977225b8847bb0dd085137ec47ca","ef0afbb2056205448e1652c48e8127fc6039e77c15c2378b7e7d15a0de293311"],["d3cc30ad6b483e4bc79ce2c9dd8bc54993e947eb8df787b442943d3f7b527eaf","8b378a22d827278d89c5e9be8f9508ae3c2ad46290358630afb34db04eede0a4"],["1624d84780732860ce1c78fcbfefe08b2b29823db913f6493975ba0ff4847610","68651cf9b6da903e0914448c6cd9d4ca896878f5282be4c8cc06e2a404078575"],["733ce80da955a8a26902c95633e62a985192474b5af207da6df7b4fd5fc61cd4","f5435a2bd2badf7d485a4d8b8db9fcce3e1ef8e0201e4578c54673bc1dc5ea1d"],["15d9441254945064cf1a1c33bbd3b49f8966c5092171e699ef258dfab81c045c","d56eb30b69463e7234f5137b73b84177434800bacebfc685fc37bbe9efe4070d"],["a1d0fcf2ec9de675b612136e5ce70d271c21417c9d2b8aaaac138599d0717940","edd77f50bcb5a3cab2e90737309667f2641462a54070f3d519212d39c197a629"],["e22fbe15c0af8ccc5780c0735f84dbe9a790badee8245c06c7ca37331cb36980","a855babad5cd60c88b430a69f53a1a7a38289154964799be43d06d77d31da06"],["311091dd9860e8e20ee13473c1155f5f69635e394704eaa74009452246cfa9b3","66db656f87d1f04fffd1f04788c06830871ec5a64feee685bd80f0b1286d8374"],["34c1fd04d301be89b31c0442d3e6ac24883928b45a9340781867d4232ec2dbdf","9414685e97b1b5954bd46f730174136d57f1ceeb487443dc5321857ba73abee"],["f219ea5d6b54701c1c14de5b557eb42a8d13f3abbcd08affcc2a5e6b049b8d63","4cb95957e83d40b0f73af4544cccf6b1f4b08d3c07b27fb8d8c2962a400766d1"],["d7b8740f74a8fbaab1f683db8f45de26543a5490bca627087236912469a0b448","fa77968128d9c92ee1010f337ad4717eff15db5ed3c049b3411e0315eaa4593b"],["32d31c222f8f6f0ef86f7c98d3a3335ead5bcd32abdd94289fe4d3091aa824bf","5f3032f5892156e39ccd3d7915b9e1da2e6dac9e6f26e961118d14b8462e1661"],["7461f371914ab32671045a155d9831ea8793d77cd59592c4340f86cbc18347b5","8ec0ba238b96bec0cbdddcae0aa442542eee1ff50c986ea6b39847b3cc092ff6"],["ee079adb1df1860074356a25aa38206a6d716b2c3e67453d287698bad7b2b2d6","8dc2412aafe3be5c4c5f37e0ecc5f9f6a446989af04c4e25ebaac479ec1c8c1e"],["16ec93e447ec83f0467b18302ee620f7e65de331874c9dc72bfd8616ba9da6b5","5e4631150e62fb40d0e8c2a7ca5804a39d58186a50e497139626778e25b0674d"],["eaa5f980c245f6f038978290afa70b6bd8855897f98b6aa485b96065d537bd99","f65f5d3e292c2e0819a528391c994624d784869d7e6ea67fb18041024edc07dc"],["78c9407544ac132692ee1910a02439958ae04877151342ea96c4b6b35a49f51","f3e0319169eb9b85d5404795539a5e68fa1fbd583c064d2462b675f194a3ddb4"],["494f4be219a1a77016dcd838431aea0001cdc8ae7a6fc688726578d9702857a5","42242a969283a5f339ba7f075e36ba2af925ce30d767ed6e55f4b031880d562c"],["a598a8030da6d86c6bc7f2f5144ea549d28211ea58faa70ebf4c1e665c1fe9b5","204b5d6f84822c307e4b4a7140737aec23fc63b65b35f86a10026dbd2d864e6b"],["c41916365abb2b5d09192f5f2dbeafec208f020f12570a184dbadc3e58595997","4f14351d0087efa49d245b328984989d5caf9450f34bfc0ed16e96b58fa9913"],["841d6063a586fa475a724604da03bc5b92a2e0d2e0a36acfe4c73a5514742881","73867f59c0659e81904f9a1c7543698e62562d6744c169ce7a36de01a8d6154"],["5e95bb399a6971d376026947f89bde2f282b33810928be4ded112ac4d70e20d5","39f23f366809085beebfc71181313775a99c9aed7d8ba38b161384c746012865"],["36e4641a53948fd476c39f8a99fd974e5ec07564b5315d8bf99471bca0ef2f66","d2424b1b1abe4eb8164227b085c9aa9456ea13493fd563e06fd51cf5694c78fc"],["336581ea7bfbbb290c191a2f507a41cf5643842170e914faeab27c2c579f726","ead12168595fe1be99252129b6e56b3391f7ab1410cd1e0ef3dcdcabd2fda224"],["8ab89816dadfd6b6a1f2634fcf00ec8403781025ed6890c4849742706bd43ede","6fdcef09f2f6d0a044e654aef624136f503d459c3e89845858a47a9129cdd24e"],["1e33f1a746c9c5778133344d9299fcaa20b0938e8acff2544bb40284b8c5fb94","60660257dd11b3aa9c8ed618d24edff2306d320f1d03010e33a7d2057f3b3b6"],["85b7c1dcb3cec1b7ee7f30ded79dd20a0ed1f4cc18cbcfcfa410361fd8f08f31","3d98a9cdd026dd43f39048f25a8847f4fcafad1895d7a633c6fed3c35e999511"],["29df9fbd8d9e46509275f4b125d6d45d7fbe9a3b878a7af872a2800661ac5f51","b4c4fe99c775a606e2d8862179139ffda61dc861c019e55cd2876eb2a27d84b"],["a0b1cae06b0a847a3fea6e671aaf8adfdfe58ca2f768105c8082b2e449fce252","ae434102edde0958ec4b19d917a6a28e6b72da1834aff0e650f049503a296cf2"],["4e8ceafb9b3e9a136dc7ff67e840295b499dfb3b2133e4ba113f2e4c0e121e5","cf2174118c8b6d7a4b48f6d534ce5c79422c086a63460502b827ce62a326683c"],["d24a44e047e19b6f5afb81c7ca2f69080a5076689a010919f42725c2b789a33b","6fb8d5591b466f8fc63db50f1c0f1c69013f996887b8244d2cdec417afea8fa3"],["ea01606a7a6c9cdd249fdfcfacb99584001edd28abbab77b5104e98e8e3b35d4","322af4908c7312b0cfbfe369f7a7b3cdb7d4494bc2823700cfd652188a3ea98d"],["af8addbf2b661c8a6c6328655eb96651252007d8c5ea31be4ad196de8ce2131f","6749e67c029b85f52a034eafd096836b2520818680e26ac8f3dfbcdb71749700"],["e3ae1974566ca06cc516d47e0fb165a674a3dabcfca15e722f0e3450f45889","2aeabe7e4531510116217f07bf4d07300de97e4874f81f533420a72eeb0bd6a4"],["591ee355313d99721cf6993ffed1e3e301993ff3ed258802075ea8ced397e246","b0ea558a113c30bea60fc4775460c7901ff0b053d25ca2bdeee98f1a4be5d196"],["11396d55fda54c49f19aa97318d8da61fa8584e47b084945077cf03255b52984","998c74a8cd45ac01289d5833a7beb4744ff536b01b257be4c5767bea93ea57a4"],["3c5d2a1ba39c5a1790000738c9e0c40b8dcdfd5468754b6405540157e017aa7a","b2284279995a34e2f9d4de7396fc18b80f9b8b9fdd270f6661f79ca4c81bd257"],["cc8704b8a60a0defa3a99a7299f2e9c3fbc395afb04ac078425ef8a1793cc030","bdd46039feed17881d1e0862db347f8cf395b74fc4bcdc4e940b74e3ac1f1b13"],["c533e4f7ea8555aacd9777ac5cad29b97dd4defccc53ee7ea204119b2889b197","6f0a256bc5efdf429a2fb6242f1a43a2d9b925bb4a4b3a26bb8e0f45eb596096"],["c14f8f2ccb27d6f109f6d08d03cc96a69ba8c34eec07bbcf566d48e33da6593","c359d6923bb398f7fd4473e16fe1c28475b740dd098075e6c0e8649113dc3a38"],["a6cbc3046bc6a450bac24789fa17115a4c9739ed75f8f21ce441f72e0b90e6ef","21ae7f4680e889bb130619e2c0f95a360ceb573c70603139862afd617fa9b9f"],["347d6d9a02c48927ebfb86c1359b1caf130a3c0267d11ce6344b39f99d43cc38","60ea7f61a353524d1c987f6ecec92f086d565ab687870cb12689ff1e31c74448"],["da6545d2181db8d983f7dcb375ef5866d47c67b1bf31c8cf855ef7437b72656a","49b96715ab6878a79e78f07ce5680c5d6673051b4935bd897fea824b77dc208a"],["c40747cc9d012cb1a13b8148309c6de7ec25d6945d657146b9d5994b8feb1111","5ca560753be2a12fc6de6caf2cb489565db936156b9514e1bb5e83037e0fa2d4"],["4e42c8ec82c99798ccf3a610be870e78338c7f713348bd34c8203ef4037f3502","7571d74ee5e0fb92a7a8b33a07783341a5492144cc54bcc40a94473693606437"],["3775ab7089bc6af823aba2e1af70b236d251cadb0c86743287522a1b3b0dedea","be52d107bcfa09d8bcb9736a828cfa7fac8db17bf7a76a2c42ad961409018cf7"],["cee31cbf7e34ec379d94fb814d3d775ad954595d1314ba8846959e3e82f74e26","8fd64a14c06b589c26b947ae2bcf6bfa0149ef0be14ed4d80f448a01c43b1c6d"],["b4f9eaea09b6917619f6ea6a4eb5464efddb58fd45b1ebefcdc1a01d08b47986","39e5c9925b5a54b07433a4f18c61726f8bb131c012ca542eb24a8ac07200682a"],["d4263dfc3d2df923a0179a48966d30ce84e2515afc3dccc1b77907792ebcc60e","62dfaf07a0f78feb30e30d6295853ce189e127760ad6cf7fae164e122a208d54"],["48457524820fa65a4f8d35eb6930857c0032acc0a4a2de422233eeda897612c4","25a748ab367979d98733c38a1fa1c2e7dc6cc07db2d60a9ae7a76aaa49bd0f77"],["dfeeef1881101f2cb11644f3a2afdfc2045e19919152923f367a1767c11cceda","ecfb7056cf1de042f9420bab396793c0c390bde74b4bbdff16a83ae09a9a7517"],["6d7ef6b17543f8373c573f44e1f389835d89bcbc6062ced36c82df83b8fae859","cd450ec335438986dfefa10c57fea9bcc521a0959b2d80bbf74b190dca712d10"],["e75605d59102a5a2684500d3b991f2e3f3c88b93225547035af25af66e04541f","f5c54754a8f71ee540b9b48728473e314f729ac5308b06938360990e2bfad125"],["eb98660f4c4dfaa06a2be453d5020bc99a0c2e60abe388457dd43fefb1ed620c","6cb9a8876d9cb8520609af3add26cd20a0a7cd8a9411131ce85f44100099223e"],["13e87b027d8514d35939f2e6892b19922154596941888336dc3563e3b8dba942","fef5a3c68059a6dec5d624114bf1e91aac2b9da568d6abeb2570d55646b8adf1"],["ee163026e9fd6fe017c38f06a5be6fc125424b371ce2708e7bf4491691e5764a","1acb250f255dd61c43d94ccc670d0f58f49ae3fa15b96623e5430da0ad6c62b2"],["b268f5ef9ad51e4d78de3a750c2dc89b1e626d43505867999932e5db33af3d80","5f310d4b3c99b9ebb19f77d41c1dee018cf0d34fd4191614003e945a1216e423"],["ff07f3118a9df035e9fad85eb6c7bfe42b02f01ca99ceea3bf7ffdba93c4750d","438136d603e858a3a5c440c38eccbaddc1d2942114e2eddd4740d098ced1f0d8"],["8d8b9855c7c052a34146fd20ffb658bea4b9f69e0d825ebec16e8c3ce2b526a1","cdb559eedc2d79f926baf44fb84ea4d44bcf50fee51d7ceb30e2e7f463036758"],["52db0b5384dfbf05bfa9d472d7ae26dfe4b851ceca91b1eba54263180da32b63","c3b997d050ee5d423ebaf66a6db9f57b3180c902875679de924b69d84a7b375"],["e62f9490d3d51da6395efd24e80919cc7d0f29c3f3fa48c6fff543becbd43352","6d89ad7ba4876b0b22c2ca280c682862f342c8591f1daf5170e07bfd9ccafa7d"],["7f30ea2476b399b4957509c88f77d0191afa2ff5cb7b14fd6d8e7d65aaab1193","ca5ef7d4b231c94c3b15389a5f6311e9daff7bb67b103e9880ef4bff637acaec"],["5098ff1e1d9f14fb46a210fada6c903fef0fb7b4a1dd1d9ac60a0361800b7a00","9731141d81fc8f8084d37c6e7542006b3ee1b40d60dfe5362a5b132fd17ddc0"],["32b78c7de9ee512a72895be6b9cbefa6e2f3c4ccce445c96b9f2c81e2778ad58","ee1849f513df71e32efc3896ee28260c73bb80547ae2275ba497237794c8753c"],["e2cb74fddc8e9fbcd076eef2a7c72b0ce37d50f08269dfc074b581550547a4f7","d3aa2ed71c9dd2247a62df062736eb0baddea9e36122d2be8641abcb005cc4a4"],["8438447566d4d7bedadc299496ab357426009a35f235cb141be0d99cd10ae3a8","c4e1020916980a4da5d01ac5e6ad330734ef0d7906631c4f2390426b2edd791f"],["4162d488b89402039b584c6fc6c308870587d9c46f660b878ab65c82c711d67e","67163e903236289f776f22c25fb8a3afc1732f2b84b4e95dbda47ae5a0852649"],["3fad3fa84caf0f34f0f89bfd2dcf54fc175d767aec3e50684f3ba4a4bf5f683d","cd1bc7cb6cc407bb2f0ca647c718a730cf71872e7d0d2a53fa20efcdfe61826"],["674f2600a3007a00568c1a7ce05d0816c1fb84bf1370798f1c69532faeb1a86b","299d21f9413f33b3edf43b257004580b70db57da0b182259e09eecc69e0d38a5"],["d32f4da54ade74abb81b815ad1fb3b263d82d6c692714bcff87d29bd5ee9f08f","f9429e738b8e53b968e99016c059707782e14f4535359d582fc416910b3eea87"],["30e4e670435385556e593657135845d36fbb6931f72b08cb1ed954f1e3ce3ff6","462f9bce619898638499350113bbc9b10a878d35da70740dc695a559eb88db7b"],["be2062003c51cc3004682904330e4dee7f3dcd10b01e580bf1971b04d4cad297","62188bc49d61e5428573d48a74e1c655b1c61090905682a0d5558ed72dccb9bc"],["93144423ace3451ed29e0fb9ac2af211cb6e84a601df5993c419859fff5df04a","7c10dfb164c3425f5c71a3f9d7992038f1065224f72bb9d1d902a6d13037b47c"],["b015f8044f5fcbdcf21ca26d6c34fb8197829205c7b7d2a7cb66418c157b112c","ab8c1e086d04e813744a655b2df8d5f83b3cdc6faa3088c1d3aea1454e3a1d5f"],["d5e9e1da649d97d89e4868117a465a3a4f8a18de57a140d36b3f2af341a21b52","4cb04437f391ed73111a13cc1d4dd0db1693465c2240480d8955e8592f27447a"],["d3ae41047dd7ca065dbf8ed77b992439983005cd72e16d6f996a5316d36966bb","bd1aeb21ad22ebb22a10f0303417c6d964f8cdd7df0aca614b10dc14d125ac46"],["463e2763d885f958fc66cdd22800f0a487197d0a82e377b49f80af87c897b065","bfefacdb0e5d0fd7df3a311a94de062b26b80c61fbc97508b79992671ef7ca7f"],["7985fdfd127c0567c6f53ec1bb63ec3158e597c40bfe747c83cddfc910641917","603c12daf3d9862ef2b25fe1de289aed24ed291e0ec6708703a5bd567f32ed03"],["74a1ad6b5f76e39db2dd249410eac7f99e74c59cb83d2d0ed5ff1543da7703e9","cc6157ef18c9c63cd6193d83631bbea0093e0968942e8c33d5737fd790e0db08"],["30682a50703375f602d416664ba19b7fc9bab42c72747463a71d0896b22f6da3","553e04f6b018b4fa6c8f39e7f311d3176290d0e0f19ca73f17714d9977a22ff8"],["9e2158f0d7c0d5f26c3791efefa79597654e7a2b2464f52b1ee6c1347769ef57","712fcdd1b9053f09003a3481fa7762e9ffd7c8ef35a38509e2fbf2629008373"],["176e26989a43c9cfeba4029c202538c28172e566e3c4fce7322857f3be327d66","ed8cc9d04b29eb877d270b4878dc43c19aefd31f4eee09ee7b47834c1fa4b1c3"],["75d46efea3771e6e68abb89a13ad747ecf1892393dfc4f1b7004788c50374da8","9852390a99507679fd0b86fd2b39a868d7efc22151346e1a3ca4726586a6bed8"],["809a20c67d64900ffb698c4c825f6d5f2310fb0451c869345b7319f645605721","9e994980d9917e22b76b061927fa04143d096ccc54963e6a5ebfa5f3f8e286c1"],["1b38903a43f7f114ed4500b4eac7083fdefece1cf29c63528d563446f972c180","4036edc931a60ae889353f77fd53de4a2708b26b6f5da72ad3394119daf408f9"]]}}})),r.register("72QWK",(function(t,e){var i=r("t9sL5"),n=r("9AFlN"),s=r("91emE"),o=r("iojmZ"),a=r("5wSio"),h=s.assert,l=r("3mEl7"),u=r("4oG2j");function c(t){if(!(this instanceof c))return new c(t);"string"==typeof t&&(h(Object.prototype.hasOwnProperty.call(o,t),"Unknown curve "+t),t=o[t]),t instanceof o.PresetCurve&&(t={curve:t}),this.curve=t.curve.curve,this.n=this.curve.n,this.nh=this.n.ushrn(1),this.g=this.curve.g,this.g=t.curve.g,this.g.precompute(t.curve.n.bitLength()+1),this.hash=t.hash||t.curve.hash}t.exports=c,c.prototype.keyPair=function(t){return new l(this,t)},c.prototype.keyFromPrivate=function(t,e){return l.fromPrivate(this,t,e)},c.prototype.keyFromPublic=function(t,e){return l.fromPublic(this,t,e)},c.prototype.genKeyPair=function(t){t||(t={});for(var e=new n({hash:this.hash,pers:t.pers,persEnc:t.persEnc||"utf8",entropy:t.entropy||a(this.hash.hmacStrength),entropyEnc:t.entropy&&t.entropyEnc||"utf8",nonce:this.n.toArray()}),r=this.n.byteLength(),s=this.n.sub(new i(2));;){var o=new i(e.generate(r));if(!(o.cmp(s)>0))return o.iaddn(1),this.keyFromPrivate(o)}},c.prototype._truncateToN=function(t,e){var i=8*t.byteLength()-this.n.bitLength();return i>0&&(t=t.ushrn(i)),!e&&t.cmp(this.n)>=0?t.sub(this.n):t},c.prototype.sign=function(t,e,r,s){"object"==typeof r&&(s=r,r=null),s||(s={}),e=this.keyFromPrivate(e,r),t=this._truncateToN(new i(t,16));for(var o=this.n.byteLength(),a=e.getPrivate().toArray("be",o),h=t.toArray("be",o),l=new n({hash:this.hash,entropy:a,nonce:h,pers:s.pers,persEnc:s.persEnc||"utf8"}),c=this.n.sub(new i(1)),d=0;;d++){var f=s.k?s.k(d):new i(l.generate(this.n.byteLength()));if(!((f=this._truncateToN(f,!0)).cmpn(1)<=0||f.cmp(c)>=0)){var p=this.g.mul(f);if(!p.isInfinity()){var m=p.getX(),g=m.umod(this.n);if(0!==g.cmpn(0)){var v=f.invm(this.n).mul(g.mul(e.getPrivate()).iadd(t));if(0!==(v=v.umod(this.n)).cmpn(0)){var y=(p.getY().isOdd()?1:0)|(0!==m.cmp(g)?2:0);return s.canonical&&v.cmp(this.nh)>0&&(v=this.n.sub(v),y^=1),new u({r:g,s:v,recoveryParam:y})}}}}}},c.prototype.verify=function(t,e,n,r){t=this._truncateToN(new i(t,16)),n=this.keyFromPublic(n,r);var s=(e=new u(e,"hex")).r,o=e.s;if(s.cmpn(1)<0||s.cmp(this.n)>=0)return!1;if(o.cmpn(1)<0||o.cmp(this.n)>=0)return!1;var a,h=o.invm(this.n),l=h.mul(t).umod(this.n),c=h.mul(s).umod(this.n);return this.curve._maxwellTrick?!(a=this.g.jmulAdd(l,n.getPublic(),c)).isInfinity()&&a.eqXToP(s):!(a=this.g.mulAdd(l,n.getPublic(),c)).isInfinity()&&0===a.getX().umod(this.n).cmp(s)},c.prototype.recoverPubKey=function(t,e,n,r){h((3&n)===n,"The recovery param is more than two bits"),e=new u(e,r);var s=this.n,o=new i(t),a=e.r,l=e.s,c=1&n,d=n>>1;if(a.cmp(this.curve.p.umod(this.curve.n))>=0&&d)throw new Error("Unable to find sencond key candinate");a=d?this.curve.pointFromX(a.add(this.curve.n),c):this.curve.pointFromX(a,c);var f=e.r.invm(s),p=s.sub(o).mul(f).umod(s),m=l.mul(f).umod(s);return this.g.mulAdd(p,a,m)},c.prototype.getKeyRecoveryParam=function(t,e,i,n){if(null!==(e=new u(e,n)).recoveryParam)return e.recoveryParam;for(var r=0;r<4;r++){var s;try{s=this.recoverPubKey(t,e,r)}catch(t){continue}if(s.eq(i))return r}throw new Error("Unable to find valid recovery factor")}})),r.register("9AFlN",(function(t,e){var i=r("1RJcD"),n=r("4fDZU"),s=r("bQfgu");function o(t){if(!(this instanceof o))return new o(t);this.hash=t.hash,this.predResist=!!t.predResist,this.outLen=this.hash.outSize,this.minEntropy=t.minEntropy||this.hash.hmacStrength,this._reseed=null,this.reseedInterval=null,this.K=null,this.V=null;var e=n.toArray(t.entropy,t.entropyEnc||"hex"),i=n.toArray(t.nonce,t.nonceEnc||"hex"),r=n.toArray(t.pers,t.persEnc||"hex");s(e.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._init(e,i,r)}t.exports=o,o.prototype._init=function(t,e,i){var n=t.concat(e).concat(i);this.K=new Array(this.outLen/8),this.V=new Array(this.outLen/8);for(var r=0;r<this.V.length;r++)this.K[r]=0,this.V[r]=1;this._update(n),this._reseed=1,this.reseedInterval=281474976710656},o.prototype._hmac=function(){return new i.hmac(this.hash,this.K)},o.prototype._update=function(t){var e=this._hmac().update(this.V).update([0]);t&&(e=e.update(t)),this.K=e.digest(),this.V=this._hmac().update(this.V).digest(),t&&(this.K=this._hmac().update(this.V).update([1]).update(t).digest(),this.V=this._hmac().update(this.V).digest())},o.prototype.reseed=function(t,e,i,r){"string"!=typeof e&&(r=i,i=e,e=null),t=n.toArray(t,e),i=n.toArray(i,r),s(t.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._update(t.concat(i||[])),this._reseed=1},o.prototype.generate=function(t,e,i,r){if(this._reseed>this.reseedInterval)throw new Error("Reseed is required");"string"!=typeof e&&(r=i,i=e,e=null),i&&(i=n.toArray(i,r||"hex"),this._update(i));for(var s=[];s.length<t;)this.V=this._hmac().update(this.V).digest(),s=s.concat(this.V);var o=s.slice(0,t);return this._update(i),this._reseed++,n.encode(o,e)}})),r.register("3mEl7",(function(t,e){var i=r("t9sL5"),n=r("91emE").assert;function s(t,e){this.ec=t,this.priv=null,this.pub=null,e.priv&&this._importPrivate(e.priv,e.privEnc),e.pub&&this._importPublic(e.pub,e.pubEnc)}t.exports=s,s.fromPublic=function(t,e,i){return e instanceof s?e:new s(t,{pub:e,pubEnc:i})},s.fromPrivate=function(t,e,i){return e instanceof s?e:new s(t,{priv:e,privEnc:i})},s.prototype.validate=function(){var t=this.getPublic();return t.isInfinity()?{result:!1,reason:"Invalid public key"}:t.validate()?t.mul(this.ec.curve.n).isInfinity()?{result:!0,reason:null}:{result:!1,reason:"Public key * N != O"}:{result:!1,reason:"Public key is not a point"}},s.prototype.getPublic=function(t,e){return"string"==typeof t&&(e=t,t=null),this.pub||(this.pub=this.ec.g.mul(this.priv)),e?this.pub.encode(e,t):this.pub},s.prototype.getPrivate=function(t){return"hex"===t?this.priv.toString(16,2):this.priv},s.prototype._importPrivate=function(t,e){this.priv=new i(t,e||16),this.priv=this.priv.umod(this.ec.curve.n)},s.prototype._importPublic=function(t,e){if(t.x||t.y)return"mont"===this.ec.curve.type?n(t.x,"Need x coordinate"):"short"!==this.ec.curve.type&&"edwards"!==this.ec.curve.type||n(t.x&&t.y,"Need both x and y coordinate"),void(this.pub=this.ec.curve.point(t.x,t.y));this.pub=this.ec.curve.decodePoint(t,e)},s.prototype.derive=function(t){return t.validate()||n(t.validate(),"public point not validated"),t.mul(this.priv).getX()},s.prototype.sign=function(t,e,i){return this.ec.sign(t,this,e,i)},s.prototype.verify=function(t,e){return this.ec.verify(t,e,this)},s.prototype.inspect=function(){return"<Key priv: "+(this.priv&&this.priv.toString(16,2))+" pub: "+(this.pub&&this.pub.inspect())+" >"}})),r.register("4oG2j",(function(t,e){var i=r("t9sL5"),n=r("91emE"),s=n.assert;function o(t,e){if(t instanceof o)return t;this._importDER(t,e)||(s(t.r&&t.s,"Signature without r or s"),this.r=new i(t.r,16),this.s=new i(t.s,16),void 0===t.recoveryParam?this.recoveryParam=null:this.recoveryParam=t.recoveryParam)}function a(){this.place=0}function h(t,e){var i=t[e.place++];if(!(128&i))return i;var n=15&i;if(0===n||n>4)return!1;for(var r=0,s=0,o=e.place;s<n;s++,o++)r<<=8,r|=t[o],r>>>=0;return!(r<=127)&&(e.place=o,r)}function l(t){for(var e=0,i=t.length-1;!t[e]&&!(128&t[e+1])&&e<i;)e++;return 0===e?t:t.slice(e)}function u(t,e){if(e<128)t.push(e);else{var i=1+(Math.log(e)/Math.LN2>>>3);for(t.push(128|i);--i;)t.push(e>>>(i<<3)&255);t.push(e)}}t.exports=o,o.prototype._importDER=function(t,e){t=n.toArray(t,e);var r=new a;if(48!==t[r.place++])return!1;var s=h(t,r);if(!1===s)return!1;if(s+r.place!==t.length)return!1;if(2!==t[r.place++])return!1;var o=h(t,r);if(!1===o)return!1;var l=t.slice(r.place,o+r.place);if(r.place+=o,2!==t[r.place++])return!1;var u=h(t,r);if(!1===u)return!1;if(t.length!==u+r.place)return!1;var c=t.slice(r.place,u+r.place);if(0===l[0]){if(!(128&l[1]))return!1;l=l.slice(1)}if(0===c[0]){if(!(128&c[1]))return!1;c=c.slice(1)}return this.r=new i(l),this.s=new i(c),this.recoveryParam=null,!0},o.prototype.toDER=function(t){var e=this.r.toArray(),i=this.s.toArray();for(128&e[0]&&(e=[0].concat(e)),128&i[0]&&(i=[0].concat(i)),e=l(e),i=l(i);!(i[0]||128&i[1]);)i=i.slice(1);var r=[2];u(r,e.length),(r=r.concat(e)).push(2),u(r,i.length);var s=r.concat(i),o=[48];return u(o,s.length),o=o.concat(s),n.encode(o,t)}})),r.register("kW7cI",(function(t,e){var i=r("1RJcD"),n=r("iojmZ"),s=r("91emE"),o=s.assert,a=s.parseBytes,h=r("jiqN7"),l=r("4E373");function u(t){if(o("ed25519"===t,"only tested with ed25519 so far"),!(this instanceof u))return new u(t);t=n[t].curve,this.curve=t,this.g=t.g,this.g.precompute(t.n.bitLength()+1),this.pointClass=t.point().constructor,this.encodingLength=Math.ceil(t.n.bitLength()/8),this.hash=i.sha512}t.exports=u,u.prototype.sign=function(t,e){t=a(t);var i=this.keyFromSecret(e),n=this.hashInt(i.messagePrefix(),t),r=this.g.mul(n),s=this.encodePoint(r),o=this.hashInt(s,i.pubBytes(),t).mul(i.priv()),h=n.add(o).umod(this.curve.n);return this.makeSignature({R:r,S:h,Rencoded:s})},u.prototype.verify=function(t,e,i){t=a(t),e=this.makeSignature(e);var n=this.keyFromPublic(i),r=this.hashInt(e.Rencoded(),n.pubBytes(),t),s=this.g.mul(e.S());return e.R().add(n.pub().mul(r)).eq(s)},u.prototype.hashInt=function(){for(var t=this.hash(),e=0;e<arguments.length;e++)t.update(arguments[e]);return s.intFromLE(t.digest()).umod(this.curve.n)},u.prototype.keyFromPublic=function(t){return h.fromPublic(this,t)},u.prototype.keyFromSecret=function(t){return h.fromSecret(this,t)},u.prototype.makeSignature=function(t){return t instanceof l?t:new l(this,t)},u.prototype.encodePoint=function(t){var e=t.getY().toArray("le",this.encodingLength);return e[this.encodingLength-1]|=t.getX().isOdd()?128:0,e},u.prototype.decodePoint=function(t){var e=(t=s.parseBytes(t)).length-1,i=t.slice(0,e).concat(-129&t[e]),n=0!=(128&t[e]),r=s.intFromLE(i);return this.curve.pointFromY(r,n)},u.prototype.encodeInt=function(t){return t.toArray("le",this.encodingLength)},u.prototype.decodeInt=function(t){return s.intFromLE(t)},u.prototype.isPoint=function(t){return t instanceof this.pointClass}})),r.register("jiqN7",(function(t,e){var i=r("91emE"),n=i.assert,s=i.parseBytes,o=i.cachedProperty;function a(t,e){this.eddsa=t,this._secret=s(e.secret),t.isPoint(e.pub)?this._pub=e.pub:this._pubBytes=s(e.pub)}a.fromPublic=function(t,e){return e instanceof a?e:new a(t,{pub:e})},a.fromSecret=function(t,e){return e instanceof a?e:new a(t,{secret:e})},a.prototype.secret=function(){return this._secret},o(a,"pubBytes",(function(){return this.eddsa.encodePoint(this.pub())})),o(a,"pub",(function(){return this._pubBytes?this.eddsa.decodePoint(this._pubBytes):this.eddsa.g.mul(this.priv())})),o(a,"privBytes",(function(){var t=this.eddsa,e=this.hash(),i=t.encodingLength-1,n=e.slice(0,t.encodingLength);return n[0]&=248,n[i]&=127,n[i]|=64,n})),o(a,"priv",(function(){return this.eddsa.decodeInt(this.privBytes())})),o(a,"hash",(function(){return this.eddsa.hash().update(this.secret()).digest()})),o(a,"messagePrefix",(function(){return this.hash().slice(this.eddsa.encodingLength)})),a.prototype.sign=function(t){return n(this._secret,"KeyPair can only verify"),this.eddsa.sign(t,this)},a.prototype.verify=function(t,e){return this.eddsa.verify(t,e,this)},a.prototype.getSecret=function(t){return n(this._secret,"KeyPair is public only"),i.encode(this.secret(),t)},a.prototype.getPublic=function(t){return i.encode(this.pubBytes(),t)},t.exports=a})),r.register("4E373",(function(t,e){var i=r("t9sL5"),n=r("91emE"),s=n.assert,o=n.cachedProperty,a=n.parseBytes;function h(t,e){this.eddsa=t,"object"!=typeof e&&(e=a(e)),Array.isArray(e)&&(e={R:e.slice(0,t.encodingLength),S:e.slice(t.encodingLength)}),s(e.R&&e.S,"Signature without R or S"),t.isPoint(e.R)&&(this._R=e.R),e.S instanceof i&&(this._S=e.S),this._Rencoded=Array.isArray(e.R)?e.R:e.Rencoded,this._Sencoded=Array.isArray(e.S)?e.S:e.Sencoded}o(h,"S",(function(){return this.eddsa.decodeInt(this.Sencoded())})),o(h,"R",(function(){return this.eddsa.decodePoint(this.Rencoded())})),o(h,"Rencoded",(function(){return this.eddsa.encodePoint(this.R())})),o(h,"Sencoded",(function(){return this.eddsa.encodeInt(this.S())})),h.prototype.toBytes=function(){return this.Rencoded().concat(this.Sencoded())},h.prototype.toHex=function(){return n.encode(this.toBytes(),"hex").toUpperCase()},t.exports=h})),r.register("istSy",(function(t,e){var i=r("6hcQ6"),n=r("26Yod"),s=r("gfjuC"),o=r("glytb"),a=r("4bgrw"),h=r("emGH0").Buffer;function l(t){var e;"object"!=typeof t||h.isBuffer(t)||(e=t.passphrase,t=t.key),"string"==typeof t&&(t=h.from(t));var r,l,u=s(t,e),c=u.tag,d=u.data;switch(c){case"CERTIFICATE":l=i.certificate.decode(d,"der").tbsCertificate.subjectPublicKeyInfo;case"PUBLIC KEY":switch(l||(l=i.PublicKey.decode(d,"der")),r=l.algorithm.algorithm.join(".")){case"1.2.840.113549.1.1.1":return i.RSAPublicKey.decode(l.subjectPublicKey.data,"der");case"1.2.840.10045.2.1":return l.subjectPrivateKey=l.subjectPublicKey,{type:"ec",data:l};case"1.2.840.10040.4.1":return l.algorithm.params.pub_key=i.DSAparam.decode(l.subjectPublicKey.data,"der"),{type:"dsa",data:l.algorithm.params};default:throw new Error("unknown key id "+r)}case"ENCRYPTED PRIVATE KEY":d=function(t,e){var i=t.algorithm.decrypt.kde.kdeparams.salt,r=parseInt(t.algorithm.decrypt.kde.kdeparams.iters.toString(),10),s=n[t.algorithm.decrypt.cipher.algo.join(".")],l=t.algorithm.decrypt.cipher.iv,u=t.subjectPrivateKey,c=parseInt(s.split("-")[1],10)/8,d=a.pbkdf2Sync(e,i,r,c,"sha1"),f=o.createDecipheriv(s,d,l),p=[];return p.push(f.update(u)),p.push(f.final()),h.concat(p)}(d=i.EncryptedPrivateKey.decode(d,"der"),e);case"PRIVATE KEY":switch(r=(l=i.PrivateKey.decode(d,"der")).algorithm.algorithm.join(".")){case"1.2.840.113549.1.1.1":return i.RSAPrivateKey.decode(l.subjectPrivateKey,"der");case"1.2.840.10045.2.1":return{curve:l.algorithm.curve,privateKey:i.ECPrivateKey.decode(l.subjectPrivateKey,"der").privateKey};case"1.2.840.10040.4.1":return l.algorithm.params.priv_key=i.DSAparam.decode(l.subjectPrivateKey,"der"),{type:"dsa",params:l.algorithm.params};default:throw new Error("unknown key id "+r)}case"RSA PUBLIC KEY":return i.RSAPublicKey.decode(d,"der");case"RSA PRIVATE KEY":return i.RSAPrivateKey.decode(d,"der");case"DSA PRIVATE KEY":return{type:"dsa",params:i.DSAPrivateKey.decode(d,"der")};case"EC PRIVATE KEY":return{curve:(d=i.ECPrivateKey.decode(d,"der")).parameters.value,privateKey:d.privateKey};default:throw new Error("unknown key type "+c)}}t.exports=l,l.signature=i.signature})),r.register("6hcQ6",(function(e,i){var n,s,o,a,h,l,u,c,d,f;t(e.exports,"certificate",(()=>n),(t=>n=t)),t(e.exports,"RSAPrivateKey",(()=>s),(t=>s=t)),t(e.exports,"RSAPublicKey",(()=>o),(t=>o=t)),t(e.exports,"PublicKey",(()=>a),(t=>a=t)),t(e.exports,"PrivateKey",(()=>h),(t=>h=t)),t(e.exports,"EncryptedPrivateKey",(()=>l),(t=>l=t)),t(e.exports,"DSAPrivateKey",(()=>u),(t=>u=t)),t(e.exports,"DSAparam",(()=>c),(t=>c=t)),t(e.exports,"ECPrivateKey",(()=>d),(t=>d=t)),t(e.exports,"signature",(()=>f),(t=>f=t));var p=r("5EejX");n=r("8Ji0j");var m=p.define("RSAPrivateKey",(function(){this.seq().obj(this.key("version").int(),this.key("modulus").int(),this.key("publicExponent").int(),this.key("privateExponent").int(),this.key("prime1").int(),this.key("prime2").int(),this.key("exponent1").int(),this.key("exponent2").int(),this.key("coefficient").int())}));s=m;var g=p.define("RSAPublicKey",(function(){this.seq().obj(this.key("modulus").int(),this.key("publicExponent").int())}));o=g;var v=p.define("SubjectPublicKeyInfo",(function(){this.seq().obj(this.key("algorithm").use(y),this.key("subjectPublicKey").bitstr())}));a=v;var y=p.define("AlgorithmIdentifier",(function(){this.seq().obj(this.key("algorithm").objid(),this.key("none").null_().optional(),this.key("curve").objid().optional(),this.key("params").seq().obj(this.key("p").int(),this.key("q").int(),this.key("g").int()).optional())})),b=p.define("PrivateKeyInfo",(function(){this.seq().obj(this.key("version").int(),this.key("algorithm").use(y),this.key("subjectPrivateKey").octstr())}));h=b;var w=p.define("EncryptedPrivateKeyInfo",(function(){this.seq().obj(this.key("algorithm").seq().obj(this.key("id").objid(),this.key("decrypt").seq().obj(this.key("kde").seq().obj(this.key("id").objid(),this.key("kdeparams").seq().obj(this.key("salt").octstr(),this.key("iters").int())),this.key("cipher").seq().obj(this.key("algo").objid(),this.key("iv").octstr()))),this.key("subjectPrivateKey").octstr())}));l=w;var _=p.define("DSAPrivateKey",(function(){this.seq().obj(this.key("version").int(),this.key("p").int(),this.key("q").int(),this.key("g").int(),this.key("pub_key").int(),this.key("priv_key").int())}));u=_,c=p.define("DSAparam",(function(){this.int()}));var M=p.define("ECPrivateKey",(function(){this.seq().obj(this.key("version").int(),this.key("privateKey").octstr(),this.key("parameters").optional().explicit(0).use(x),this.key("publicKey").optional().explicit(1).bitstr())}));d=M;var x=p.define("ECParameters",(function(){this.choice({namedCurve:this.objid()})}));f=p.define("signature",(function(){this.seq().obj(this.key("r").int(),this.key("s").int())}))})),r.register("5EejX",(function(t,e){const i=t.exports;i.bignum=r("jw5EG"),i.define=r("dcylL").define,i.base=r("9cbuU"),i.constants=r("4fob9"),i.decoders=r("7FEba"),i.encoders=r("gtAYi")})),r.register("jw5EG",(function(t,e){!function(t,e){function i(t,e){if(!t)throw new Error(e||"Assertion failed")}function n(t,e){t.super_=e;var i=function(){};i.prototype=e.prototype,t.prototype=new i,t.prototype.constructor=t}function s(t,e,i){if(s.isBN(t))return t;this.negative=0,this.words=null,this.length=0,this.red=null,null!==t&&("le"!==e&&"be"!==e||(i=e,e=10),this._init(t||0,e||10,i||"be"))}var o;"object"==typeof t?t.exports=s:e.BN=s,s.BN=s,s.wordSize=26;try{o="undefined"!=typeof window&&void 0!==window.Buffer?window.Buffer:r("lEqQD").Buffer}catch(t){}function a(t,e){var i=t.charCodeAt(e);return i>=65&&i<=70?i-55:i>=97&&i<=102?i-87:i-48&15}function h(t,e,i){var n=a(t,i);return i-1>=e&&(n|=a(t,i-1)<<4),n}function l(t,e,i,n){for(var r=0,s=Math.min(t.length,i),o=e;o<s;o++){var a=t.charCodeAt(o)-48;r*=n,r+=a>=49?a-49+10:a>=17?a-17+10:a}return r}s.isBN=function(t){return t instanceof s||null!==t&&"object"==typeof t&&t.constructor.wordSize===s.wordSize&&Array.isArray(t.words)},s.max=function(t,e){return t.cmp(e)>0?t:e},s.min=function(t,e){return t.cmp(e)<0?t:e},s.prototype._init=function(t,e,n){if("number"==typeof t)return this._initNumber(t,e,n);if("object"==typeof t)return this._initArray(t,e,n);"hex"===e&&(e=16),i(e===(0|e)&&e>=2&&e<=36);var r=0;"-"===(t=t.toString().replace(/\s+/g,""))[0]&&(r++,this.negative=1),r<t.length&&(16===e?this._parseHex(t,r,n):(this._parseBase(t,e,r),"le"===n&&this._initArray(this.toArray(),e,n)))},s.prototype._initNumber=function(t,e,n){t<0&&(this.negative=1,t=-t),t<67108864?(this.words=[67108863&t],this.length=1):t<4503599627370496?(this.words=[67108863&t,t/67108864&67108863],this.length=2):(i(t<9007199254740992),this.words=[67108863&t,t/67108864&67108863,1],this.length=3),"le"===n&&this._initArray(this.toArray(),e,n)},s.prototype._initArray=function(t,e,n){if(i("number"==typeof t.length),t.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(t.length/3),this.words=new Array(this.length);for(var r=0;r<this.length;r++)this.words[r]=0;var s,o,a=0;if("be"===n)for(r=t.length-1,s=0;r>=0;r-=3)o=t[r]|t[r-1]<<8|t[r-2]<<16,this.words[s]|=o<<a&67108863,this.words[s+1]=o>>>26-a&67108863,(a+=24)>=26&&(a-=26,s++);else if("le"===n)for(r=0,s=0;r<t.length;r+=3)o=t[r]|t[r+1]<<8|t[r+2]<<16,this.words[s]|=o<<a&67108863,this.words[s+1]=o>>>26-a&67108863,(a+=24)>=26&&(a-=26,s++);return this.strip()},s.prototype._parseHex=function(t,e,i){this.length=Math.ceil((t.length-e)/6),this.words=new Array(this.length);for(var n=0;n<this.length;n++)this.words[n]=0;var r,s=0,o=0;if("be"===i)for(n=t.length-1;n>=e;n-=2)r=h(t,e,n)<<s,this.words[o]|=67108863&r,s>=18?(s-=18,o+=1,this.words[o]|=r>>>26):s+=8;else for(n=(t.length-e)%2==0?e+1:e;n<t.length;n+=2)r=h(t,e,n)<<s,this.words[o]|=67108863&r,s>=18?(s-=18,o+=1,this.words[o]|=r>>>26):s+=8;this.strip()},s.prototype._parseBase=function(t,e,i){this.words=[0],this.length=1;for(var n=0,r=1;r<=67108863;r*=e)n++;n--,r=r/e|0;for(var s=t.length-i,o=s%n,a=Math.min(s,s-o)+i,h=0,u=i;u<a;u+=n)h=l(t,u,u+n,e),this.imuln(r),this.words[0]+h<67108864?this.words[0]+=h:this._iaddn(h);if(0!==o){var c=1;for(h=l(t,u,t.length,e),u=0;u<o;u++)c*=e;this.imuln(c),this.words[0]+h<67108864?this.words[0]+=h:this._iaddn(h)}this.strip()},s.prototype.copy=function(t){t.words=new Array(this.length);for(var e=0;e<this.length;e++)t.words[e]=this.words[e];t.length=this.length,t.negative=this.negative,t.red=this.red},s.prototype.clone=function(){var t=new s(null);return this.copy(t),t},s.prototype._expand=function(t){for(;this.length<t;)this.words[this.length++]=0;return this},s.prototype.strip=function(){for(;this.length>1&&0===this.words[this.length-1];)this.length--;return this._normSign()},s.prototype._normSign=function(){return 1===this.length&&0===this.words[0]&&(this.negative=0),this},s.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var u=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],c=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],d=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];function f(t,e,i){i.negative=e.negative^t.negative;var n=t.length+e.length|0;i.length=n,n=n-1|0;var r=0|t.words[0],s=0|e.words[0],o=r*s,a=67108863&o,h=o/67108864|0;i.words[0]=a;for(var l=1;l<n;l++){for(var u=h>>>26,c=67108863&h,d=Math.min(l,e.length-1),f=Math.max(0,l-t.length+1);f<=d;f++){var p=l-f|0;u+=(o=(r=0|t.words[p])*(s=0|e.words[f])+c)/67108864|0,c=67108863&o}i.words[l]=0|c,h=0|u}return 0!==h?i.words[l]=0|h:i.length--,i.strip()}s.prototype.toString=function(t,e){var n;if(e=0|e||1,16===(t=t||10)||"hex"===t){n="";for(var r=0,s=0,o=0;o<this.length;o++){var a=this.words[o],h=(16777215&(a<<r|s)).toString(16);n=0!==(s=a>>>24-r&16777215)||o!==this.length-1?u[6-h.length]+h+n:h+n,(r+=2)>=26&&(r-=26,o--)}for(0!==s&&(n=s.toString(16)+n);n.length%e!=0;)n="0"+n;return 0!==this.negative&&(n="-"+n),n}if(t===(0|t)&&t>=2&&t<=36){var l=c[t],f=d[t];n="";var p=this.clone();for(p.negative=0;!p.isZero();){var m=p.modn(f).toString(t);n=(p=p.idivn(f)).isZero()?m+n:u[l-m.length]+m+n}for(this.isZero()&&(n="0"+n);n.length%e!=0;)n="0"+n;return 0!==this.negative&&(n="-"+n),n}i(!1,"Base should be between 2 and 36")},s.prototype.toNumber=function(){var t=this.words[0];return 2===this.length?t+=67108864*this.words[1]:3===this.length&&1===this.words[2]?t+=4503599627370496+67108864*this.words[1]:this.length>2&&i(!1,"Number can only safely store up to 53 bits"),0!==this.negative?-t:t},s.prototype.toJSON=function(){return this.toString(16)},s.prototype.toBuffer=function(t,e){return i(void 0!==o),this.toArrayLike(o,t,e)},s.prototype.toArray=function(t,e){return this.toArrayLike(Array,t,e)},s.prototype.toArrayLike=function(t,e,n){var r=this.byteLength(),s=n||Math.max(1,r);i(r<=s,"byte array longer than desired length"),i(s>0,"Requested array length <= 0"),this.strip();var o,a,h="le"===e,l=new t(s),u=this.clone();if(h){for(a=0;!u.isZero();a++)o=u.andln(255),u.iushrn(8),l[a]=o;for(;a<s;a++)l[a]=0}else{for(a=0;a<s-r;a++)l[a]=0;for(a=0;!u.isZero();a++)o=u.andln(255),u.iushrn(8),l[s-a-1]=o}return l},Math.clz32?s.prototype._countBits=function(t){return 32-Math.clz32(t)}:s.prototype._countBits=function(t){var e=t,i=0;return e>=4096&&(i+=13,e>>>=13),e>=64&&(i+=7,e>>>=7),e>=8&&(i+=4,e>>>=4),e>=2&&(i+=2,e>>>=2),i+e},s.prototype._zeroBits=function(t){if(0===t)return 26;var e=t,i=0;return 0==(8191&e)&&(i+=13,e>>>=13),0==(127&e)&&(i+=7,e>>>=7),0==(15&e)&&(i+=4,e>>>=4),0==(3&e)&&(i+=2,e>>>=2),0==(1&e)&&i++,i},s.prototype.bitLength=function(){var t=this.words[this.length-1],e=this._countBits(t);return 26*(this.length-1)+e},s.prototype.zeroBits=function(){if(this.isZero())return 0;for(var t=0,e=0;e<this.length;e++){var i=this._zeroBits(this.words[e]);if(t+=i,26!==i)break}return t},s.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},s.prototype.toTwos=function(t){return 0!==this.negative?this.abs().inotn(t).iaddn(1):this.clone()},s.prototype.fromTwos=function(t){return this.testn(t-1)?this.notn(t).iaddn(1).ineg():this.clone()},s.prototype.isNeg=function(){return 0!==this.negative},s.prototype.neg=function(){return this.clone().ineg()},s.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},s.prototype.iuor=function(t){for(;this.length<t.length;)this.words[this.length++]=0;for(var e=0;e<t.length;e++)this.words[e]=this.words[e]|t.words[e];return this.strip()},s.prototype.ior=function(t){return i(0==(this.negative|t.negative)),this.iuor(t)},s.prototype.or=function(t){return this.length>t.length?this.clone().ior(t):t.clone().ior(this)},s.prototype.uor=function(t){return this.length>t.length?this.clone().iuor(t):t.clone().iuor(this)},s.prototype.iuand=function(t){var e;e=this.length>t.length?t:this;for(var i=0;i<e.length;i++)this.words[i]=this.words[i]&t.words[i];return this.length=e.length,this.strip()},s.prototype.iand=function(t){return i(0==(this.negative|t.negative)),this.iuand(t)},s.prototype.and=function(t){return this.length>t.length?this.clone().iand(t):t.clone().iand(this)},s.prototype.uand=function(t){return this.length>t.length?this.clone().iuand(t):t.clone().iuand(this)},s.prototype.iuxor=function(t){var e,i;this.length>t.length?(e=this,i=t):(e=t,i=this);for(var n=0;n<i.length;n++)this.words[n]=e.words[n]^i.words[n];if(this!==e)for(;n<e.length;n++)this.words[n]=e.words[n];return this.length=e.length,this.strip()},s.prototype.ixor=function(t){return i(0==(this.negative|t.negative)),this.iuxor(t)},s.prototype.xor=function(t){return this.length>t.length?this.clone().ixor(t):t.clone().ixor(this)},s.prototype.uxor=function(t){return this.length>t.length?this.clone().iuxor(t):t.clone().iuxor(this)},s.prototype.inotn=function(t){i("number"==typeof t&&t>=0);var e=0|Math.ceil(t/26),n=t%26;this._expand(e),n>0&&e--;for(var r=0;r<e;r++)this.words[r]=67108863&~this.words[r];return n>0&&(this.words[r]=~this.words[r]&67108863>>26-n),this.strip()},s.prototype.notn=function(t){return this.clone().inotn(t)},s.prototype.setn=function(t,e){i("number"==typeof t&&t>=0);var n=t/26|0,r=t%26;return this._expand(n+1),this.words[n]=e?this.words[n]|1<<r:this.words[n]&~(1<<r),this.strip()},s.prototype.iadd=function(t){var e,i,n;if(0!==this.negative&&0===t.negative)return this.negative=0,e=this.isub(t),this.negative^=1,this._normSign();if(0===this.negative&&0!==t.negative)return t.negative=0,e=this.isub(t),t.negative=1,e._normSign();this.length>t.length?(i=this,n=t):(i=t,n=this);for(var r=0,s=0;s<n.length;s++)e=(0|i.words[s])+(0|n.words[s])+r,this.words[s]=67108863&e,r=e>>>26;for(;0!==r&&s<i.length;s++)e=(0|i.words[s])+r,this.words[s]=67108863&e,r=e>>>26;if(this.length=i.length,0!==r)this.words[this.length]=r,this.length++;else if(i!==this)for(;s<i.length;s++)this.words[s]=i.words[s];return this},s.prototype.add=function(t){var e;return 0!==t.negative&&0===this.negative?(t.negative=0,e=this.sub(t),t.negative^=1,e):0===t.negative&&0!==this.negative?(this.negative=0,e=t.sub(this),this.negative=1,e):this.length>t.length?this.clone().iadd(t):t.clone().iadd(this)},s.prototype.isub=function(t){if(0!==t.negative){t.negative=0;var e=this.iadd(t);return t.negative=1,e._normSign()}if(0!==this.negative)return this.negative=0,this.iadd(t),this.negative=1,this._normSign();var i,n,r=this.cmp(t);if(0===r)return this.negative=0,this.length=1,this.words[0]=0,this;r>0?(i=this,n=t):(i=t,n=this);for(var s=0,o=0;o<n.length;o++)s=(e=(0|i.words[o])-(0|n.words[o])+s)>>26,this.words[o]=67108863&e;for(;0!==s&&o<i.length;o++)s=(e=(0|i.words[o])+s)>>26,this.words[o]=67108863&e;if(0===s&&o<i.length&&i!==this)for(;o<i.length;o++)this.words[o]=i.words[o];return this.length=Math.max(this.length,o),i!==this&&(this.negative=1),this.strip()},s.prototype.sub=function(t){return this.clone().isub(t)};var p=function(t,e,i){var n,r,s,o=t.words,a=e.words,h=i.words,l=0,u=0|o[0],c=8191&u,d=u>>>13,f=0|o[1],p=8191&f,m=f>>>13,g=0|o[2],v=8191&g,y=g>>>13,b=0|o[3],w=8191&b,_=b>>>13,M=0|o[4],x=8191&M,k=M>>>13,A=0|o[5],E=8191&A,S=A>>>13,T=0|o[6],I=8191&T,q=T>>>13,C=0|o[7],R=8191&C,D=C>>>13,L=0|o[8],N=8191&L,O=L>>>13,P=0|o[9],B=8191&P,U=P>>>13,F=0|a[0],j=8191&F,z=F>>>13,V=0|a[1],H=8191&V,W=V>>>13,K=0|a[2],G=8191&K,Q=K>>>13,Y=0|a[3],Z=8191&Y,$=Y>>>13,X=0|a[4],J=8191&X,tt=X>>>13,et=0|a[5],it=8191&et,nt=et>>>13,rt=0|a[6],st=8191&rt,ot=rt>>>13,at=0|a[7],ht=8191&at,lt=at>>>13,ut=0|a[8],ct=8191&ut,dt=ut>>>13,ft=0|a[9],pt=8191&ft,mt=ft>>>13;i.negative=t.negative^e.negative,i.length=19;var gt=(l+(n=Math.imul(c,j))|0)+((8191&(r=(r=Math.imul(c,z))+Math.imul(d,j)|0))<<13)|0;l=((s=Math.imul(d,z))+(r>>>13)|0)+(gt>>>26)|0,gt&=67108863,n=Math.imul(p,j),r=(r=Math.imul(p,z))+Math.imul(m,j)|0,s=Math.imul(m,z);var vt=(l+(n=n+Math.imul(c,H)|0)|0)+((8191&(r=(r=r+Math.imul(c,W)|0)+Math.imul(d,H)|0))<<13)|0;l=((s=s+Math.imul(d,W)|0)+(r>>>13)|0)+(vt>>>26)|0,vt&=67108863,n=Math.imul(v,j),r=(r=Math.imul(v,z))+Math.imul(y,j)|0,s=Math.imul(y,z),n=n+Math.imul(p,H)|0,r=(r=r+Math.imul(p,W)|0)+Math.imul(m,H)|0,s=s+Math.imul(m,W)|0;var yt=(l+(n=n+Math.imul(c,G)|0)|0)+((8191&(r=(r=r+Math.imul(c,Q)|0)+Math.imul(d,G)|0))<<13)|0;l=((s=s+Math.imul(d,Q)|0)+(r>>>13)|0)+(yt>>>26)|0,yt&=67108863,n=Math.imul(w,j),r=(r=Math.imul(w,z))+Math.imul(_,j)|0,s=Math.imul(_,z),n=n+Math.imul(v,H)|0,r=(r=r+Math.imul(v,W)|0)+Math.imul(y,H)|0,s=s+Math.imul(y,W)|0,n=n+Math.imul(p,G)|0,r=(r=r+Math.imul(p,Q)|0)+Math.imul(m,G)|0,s=s+Math.imul(m,Q)|0;var bt=(l+(n=n+Math.imul(c,Z)|0)|0)+((8191&(r=(r=r+Math.imul(c,$)|0)+Math.imul(d,Z)|0))<<13)|0;l=((s=s+Math.imul(d,$)|0)+(r>>>13)|0)+(bt>>>26)|0,bt&=67108863,n=Math.imul(x,j),r=(r=Math.imul(x,z))+Math.imul(k,j)|0,s=Math.imul(k,z),n=n+Math.imul(w,H)|0,r=(r=r+Math.imul(w,W)|0)+Math.imul(_,H)|0,s=s+Math.imul(_,W)|0,n=n+Math.imul(v,G)|0,r=(r=r+Math.imul(v,Q)|0)+Math.imul(y,G)|0,s=s+Math.imul(y,Q)|0,n=n+Math.imul(p,Z)|0,r=(r=r+Math.imul(p,$)|0)+Math.imul(m,Z)|0,s=s+Math.imul(m,$)|0;var wt=(l+(n=n+Math.imul(c,J)|0)|0)+((8191&(r=(r=r+Math.imul(c,tt)|0)+Math.imul(d,J)|0))<<13)|0;l=((s=s+Math.imul(d,tt)|0)+(r>>>13)|0)+(wt>>>26)|0,wt&=67108863,n=Math.imul(E,j),r=(r=Math.imul(E,z))+Math.imul(S,j)|0,s=Math.imul(S,z),n=n+Math.imul(x,H)|0,r=(r=r+Math.imul(x,W)|0)+Math.imul(k,H)|0,s=s+Math.imul(k,W)|0,n=n+Math.imul(w,G)|0,r=(r=r+Math.imul(w,Q)|0)+Math.imul(_,G)|0,s=s+Math.imul(_,Q)|0,n=n+Math.imul(v,Z)|0,r=(r=r+Math.imul(v,$)|0)+Math.imul(y,Z)|0,s=s+Math.imul(y,$)|0,n=n+Math.imul(p,J)|0,r=(r=r+Math.imul(p,tt)|0)+Math.imul(m,J)|0,s=s+Math.imul(m,tt)|0;var _t=(l+(n=n+Math.imul(c,it)|0)|0)+((8191&(r=(r=r+Math.imul(c,nt)|0)+Math.imul(d,it)|0))<<13)|0;l=((s=s+Math.imul(d,nt)|0)+(r>>>13)|0)+(_t>>>26)|0,_t&=67108863,n=Math.imul(I,j),r=(r=Math.imul(I,z))+Math.imul(q,j)|0,s=Math.imul(q,z),n=n+Math.imul(E,H)|0,r=(r=r+Math.imul(E,W)|0)+Math.imul(S,H)|0,s=s+Math.imul(S,W)|0,n=n+Math.imul(x,G)|0,r=(r=r+Math.imul(x,Q)|0)+Math.imul(k,G)|0,s=s+Math.imul(k,Q)|0,n=n+Math.imul(w,Z)|0,r=(r=r+Math.imul(w,$)|0)+Math.imul(_,Z)|0,s=s+Math.imul(_,$)|0,n=n+Math.imul(v,J)|0,r=(r=r+Math.imul(v,tt)|0)+Math.imul(y,J)|0,s=s+Math.imul(y,tt)|0,n=n+Math.imul(p,it)|0,r=(r=r+Math.imul(p,nt)|0)+Math.imul(m,it)|0,s=s+Math.imul(m,nt)|0;var Mt=(l+(n=n+Math.imul(c,st)|0)|0)+((8191&(r=(r=r+Math.imul(c,ot)|0)+Math.imul(d,st)|0))<<13)|0;l=((s=s+Math.imul(d,ot)|0)+(r>>>13)|0)+(Mt>>>26)|0,Mt&=67108863,n=Math.imul(R,j),r=(r=Math.imul(R,z))+Math.imul(D,j)|0,s=Math.imul(D,z),n=n+Math.imul(I,H)|0,r=(r=r+Math.imul(I,W)|0)+Math.imul(q,H)|0,s=s+Math.imul(q,W)|0,n=n+Math.imul(E,G)|0,r=(r=r+Math.imul(E,Q)|0)+Math.imul(S,G)|0,s=s+Math.imul(S,Q)|0,n=n+Math.imul(x,Z)|0,r=(r=r+Math.imul(x,$)|0)+Math.imul(k,Z)|0,s=s+Math.imul(k,$)|0,n=n+Math.imul(w,J)|0,r=(r=r+Math.imul(w,tt)|0)+Math.imul(_,J)|0,s=s+Math.imul(_,tt)|0,n=n+Math.imul(v,it)|0,r=(r=r+Math.imul(v,nt)|0)+Math.imul(y,it)|0,s=s+Math.imul(y,nt)|0,n=n+Math.imul(p,st)|0,r=(r=r+Math.imul(p,ot)|0)+Math.imul(m,st)|0,s=s+Math.imul(m,ot)|0;var xt=(l+(n=n+Math.imul(c,ht)|0)|0)+((8191&(r=(r=r+Math.imul(c,lt)|0)+Math.imul(d,ht)|0))<<13)|0;l=((s=s+Math.imul(d,lt)|0)+(r>>>13)|0)+(xt>>>26)|0,xt&=67108863,n=Math.imul(N,j),r=(r=Math.imul(N,z))+Math.imul(O,j)|0,s=Math.imul(O,z),n=n+Math.imul(R,H)|0,r=(r=r+Math.imul(R,W)|0)+Math.imul(D,H)|0,s=s+Math.imul(D,W)|0,n=n+Math.imul(I,G)|0,r=(r=r+Math.imul(I,Q)|0)+Math.imul(q,G)|0,s=s+Math.imul(q,Q)|0,n=n+Math.imul(E,Z)|0,r=(r=r+Math.imul(E,$)|0)+Math.imul(S,Z)|0,s=s+Math.imul(S,$)|0,n=n+Math.imul(x,J)|0,r=(r=r+Math.imul(x,tt)|0)+Math.imul(k,J)|0,s=s+Math.imul(k,tt)|0,n=n+Math.imul(w,it)|0,r=(r=r+Math.imul(w,nt)|0)+Math.imul(_,it)|0,s=s+Math.imul(_,nt)|0,n=n+Math.imul(v,st)|0,r=(r=r+Math.imul(v,ot)|0)+Math.imul(y,st)|0,s=s+Math.imul(y,ot)|0,n=n+Math.imul(p,ht)|0,r=(r=r+Math.imul(p,lt)|0)+Math.imul(m,ht)|0,s=s+Math.imul(m,lt)|0;var kt=(l+(n=n+Math.imul(c,ct)|0)|0)+((8191&(r=(r=r+Math.imul(c,dt)|0)+Math.imul(d,ct)|0))<<13)|0;l=((s=s+Math.imul(d,dt)|0)+(r>>>13)|0)+(kt>>>26)|0,kt&=67108863,n=Math.imul(B,j),r=(r=Math.imul(B,z))+Math.imul(U,j)|0,s=Math.imul(U,z),n=n+Math.imul(N,H)|0,r=(r=r+Math.imul(N,W)|0)+Math.imul(O,H)|0,s=s+Math.imul(O,W)|0,n=n+Math.imul(R,G)|0,r=(r=r+Math.imul(R,Q)|0)+Math.imul(D,G)|0,s=s+Math.imul(D,Q)|0,n=n+Math.imul(I,Z)|0,r=(r=r+Math.imul(I,$)|0)+Math.imul(q,Z)|0,s=s+Math.imul(q,$)|0,n=n+Math.imul(E,J)|0,r=(r=r+Math.imul(E,tt)|0)+Math.imul(S,J)|0,s=s+Math.imul(S,tt)|0,n=n+Math.imul(x,it)|0,r=(r=r+Math.imul(x,nt)|0)+Math.imul(k,it)|0,s=s+Math.imul(k,nt)|0,n=n+Math.imul(w,st)|0,r=(r=r+Math.imul(w,ot)|0)+Math.imul(_,st)|0,s=s+Math.imul(_,ot)|0,n=n+Math.imul(v,ht)|0,r=(r=r+Math.imul(v,lt)|0)+Math.imul(y,ht)|0,s=s+Math.imul(y,lt)|0,n=n+Math.imul(p,ct)|0,r=(r=r+Math.imul(p,dt)|0)+Math.imul(m,ct)|0,s=s+Math.imul(m,dt)|0;var At=(l+(n=n+Math.imul(c,pt)|0)|0)+((8191&(r=(r=r+Math.imul(c,mt)|0)+Math.imul(d,pt)|0))<<13)|0;l=((s=s+Math.imul(d,mt)|0)+(r>>>13)|0)+(At>>>26)|0,At&=67108863,n=Math.imul(B,H),r=(r=Math.imul(B,W))+Math.imul(U,H)|0,s=Math.imul(U,W),n=n+Math.imul(N,G)|0,r=(r=r+Math.imul(N,Q)|0)+Math.imul(O,G)|0,s=s+Math.imul(O,Q)|0,n=n+Math.imul(R,Z)|0,r=(r=r+Math.imul(R,$)|0)+Math.imul(D,Z)|0,s=s+Math.imul(D,$)|0,n=n+Math.imul(I,J)|0,r=(r=r+Math.imul(I,tt)|0)+Math.imul(q,J)|0,s=s+Math.imul(q,tt)|0,n=n+Math.imul(E,it)|0,r=(r=r+Math.imul(E,nt)|0)+Math.imul(S,it)|0,s=s+Math.imul(S,nt)|0,n=n+Math.imul(x,st)|0,r=(r=r+Math.imul(x,ot)|0)+Math.imul(k,st)|0,s=s+Math.imul(k,ot)|0,n=n+Math.imul(w,ht)|0,r=(r=r+Math.imul(w,lt)|0)+Math.imul(_,ht)|0,s=s+Math.imul(_,lt)|0,n=n+Math.imul(v,ct)|0,r=(r=r+Math.imul(v,dt)|0)+Math.imul(y,ct)|0,s=s+Math.imul(y,dt)|0;var Et=(l+(n=n+Math.imul(p,pt)|0)|0)+((8191&(r=(r=r+Math.imul(p,mt)|0)+Math.imul(m,pt)|0))<<13)|0;l=((s=s+Math.imul(m,mt)|0)+(r>>>13)|0)+(Et>>>26)|0,Et&=67108863,n=Math.imul(B,G),r=(r=Math.imul(B,Q))+Math.imul(U,G)|0,s=Math.imul(U,Q),n=n+Math.imul(N,Z)|0,r=(r=r+Math.imul(N,$)|0)+Math.imul(O,Z)|0,s=s+Math.imul(O,$)|0,n=n+Math.imul(R,J)|0,r=(r=r+Math.imul(R,tt)|0)+Math.imul(D,J)|0,s=s+Math.imul(D,tt)|0,n=n+Math.imul(I,it)|0,r=(r=r+Math.imul(I,nt)|0)+Math.imul(q,it)|0,s=s+Math.imul(q,nt)|0,n=n+Math.imul(E,st)|0,r=(r=r+Math.imul(E,ot)|0)+Math.imul(S,st)|0,s=s+Math.imul(S,ot)|0,n=n+Math.imul(x,ht)|0,r=(r=r+Math.imul(x,lt)|0)+Math.imul(k,ht)|0,s=s+Math.imul(k,lt)|0,n=n+Math.imul(w,ct)|0,r=(r=r+Math.imul(w,dt)|0)+Math.imul(_,ct)|0,s=s+Math.imul(_,dt)|0;var St=(l+(n=n+Math.imul(v,pt)|0)|0)+((8191&(r=(r=r+Math.imul(v,mt)|0)+Math.imul(y,pt)|0))<<13)|0;l=((s=s+Math.imul(y,mt)|0)+(r>>>13)|0)+(St>>>26)|0,St&=67108863,n=Math.imul(B,Z),r=(r=Math.imul(B,$))+Math.imul(U,Z)|0,s=Math.imul(U,$),n=n+Math.imul(N,J)|0,r=(r=r+Math.imul(N,tt)|0)+Math.imul(O,J)|0,s=s+Math.imul(O,tt)|0,n=n+Math.imul(R,it)|0,r=(r=r+Math.imul(R,nt)|0)+Math.imul(D,it)|0,s=s+Math.imul(D,nt)|0,n=n+Math.imul(I,st)|0,r=(r=r+Math.imul(I,ot)|0)+Math.imul(q,st)|0,s=s+Math.imul(q,ot)|0,n=n+Math.imul(E,ht)|0,r=(r=r+Math.imul(E,lt)|0)+Math.imul(S,ht)|0,s=s+Math.imul(S,lt)|0,n=n+Math.imul(x,ct)|0,r=(r=r+Math.imul(x,dt)|0)+Math.imul(k,ct)|0,s=s+Math.imul(k,dt)|0;var Tt=(l+(n=n+Math.imul(w,pt)|0)|0)+((8191&(r=(r=r+Math.imul(w,mt)|0)+Math.imul(_,pt)|0))<<13)|0;l=((s=s+Math.imul(_,mt)|0)+(r>>>13)|0)+(Tt>>>26)|0,Tt&=67108863,n=Math.imul(B,J),r=(r=Math.imul(B,tt))+Math.imul(U,J)|0,s=Math.imul(U,tt),n=n+Math.imul(N,it)|0,r=(r=r+Math.imul(N,nt)|0)+Math.imul(O,it)|0,s=s+Math.imul(O,nt)|0,n=n+Math.imul(R,st)|0,r=(r=r+Math.imul(R,ot)|0)+Math.imul(D,st)|0,s=s+Math.imul(D,ot)|0,n=n+Math.imul(I,ht)|0,r=(r=r+Math.imul(I,lt)|0)+Math.imul(q,ht)|0,s=s+Math.imul(q,lt)|0,n=n+Math.imul(E,ct)|0,r=(r=r+Math.imul(E,dt)|0)+Math.imul(S,ct)|0,s=s+Math.imul(S,dt)|0;var It=(l+(n=n+Math.imul(x,pt)|0)|0)+((8191&(r=(r=r+Math.imul(x,mt)|0)+Math.imul(k,pt)|0))<<13)|0;l=((s=s+Math.imul(k,mt)|0)+(r>>>13)|0)+(It>>>26)|0,It&=67108863,n=Math.imul(B,it),r=(r=Math.imul(B,nt))+Math.imul(U,it)|0,s=Math.imul(U,nt),n=n+Math.imul(N,st)|0,r=(r=r+Math.imul(N,ot)|0)+Math.imul(O,st)|0,s=s+Math.imul(O,ot)|0,n=n+Math.imul(R,ht)|0,r=(r=r+Math.imul(R,lt)|0)+Math.imul(D,ht)|0,s=s+Math.imul(D,lt)|0,n=n+Math.imul(I,ct)|0,r=(r=r+Math.imul(I,dt)|0)+Math.imul(q,ct)|0,s=s+Math.imul(q,dt)|0;var qt=(l+(n=n+Math.imul(E,pt)|0)|0)+((8191&(r=(r=r+Math.imul(E,mt)|0)+Math.imul(S,pt)|0))<<13)|0;l=((s=s+Math.imul(S,mt)|0)+(r>>>13)|0)+(qt>>>26)|0,qt&=67108863,n=Math.imul(B,st),r=(r=Math.imul(B,ot))+Math.imul(U,st)|0,s=Math.imul(U,ot),n=n+Math.imul(N,ht)|0,r=(r=r+Math.imul(N,lt)|0)+Math.imul(O,ht)|0,s=s+Math.imul(O,lt)|0,n=n+Math.imul(R,ct)|0,r=(r=r+Math.imul(R,dt)|0)+Math.imul(D,ct)|0,s=s+Math.imul(D,dt)|0;var Ct=(l+(n=n+Math.imul(I,pt)|0)|0)+((8191&(r=(r=r+Math.imul(I,mt)|0)+Math.imul(q,pt)|0))<<13)|0;l=((s=s+Math.imul(q,mt)|0)+(r>>>13)|0)+(Ct>>>26)|0,Ct&=67108863,n=Math.imul(B,ht),r=(r=Math.imul(B,lt))+Math.imul(U,ht)|0,s=Math.imul(U,lt),n=n+Math.imul(N,ct)|0,r=(r=r+Math.imul(N,dt)|0)+Math.imul(O,ct)|0,s=s+Math.imul(O,dt)|0;var Rt=(l+(n=n+Math.imul(R,pt)|0)|0)+((8191&(r=(r=r+Math.imul(R,mt)|0)+Math.imul(D,pt)|0))<<13)|0;l=((s=s+Math.imul(D,mt)|0)+(r>>>13)|0)+(Rt>>>26)|0,Rt&=67108863,n=Math.imul(B,ct),r=(r=Math.imul(B,dt))+Math.imul(U,ct)|0,s=Math.imul(U,dt);var Dt=(l+(n=n+Math.imul(N,pt)|0)|0)+((8191&(r=(r=r+Math.imul(N,mt)|0)+Math.imul(O,pt)|0))<<13)|0;l=((s=s+Math.imul(O,mt)|0)+(r>>>13)|0)+(Dt>>>26)|0,Dt&=67108863;var Lt=(l+(n=Math.imul(B,pt))|0)+((8191&(r=(r=Math.imul(B,mt))+Math.imul(U,pt)|0))<<13)|0;return l=((s=Math.imul(U,mt))+(r>>>13)|0)+(Lt>>>26)|0,Lt&=67108863,h[0]=gt,h[1]=vt,h[2]=yt,h[3]=bt,h[4]=wt,h[5]=_t,h[6]=Mt,h[7]=xt,h[8]=kt,h[9]=At,h[10]=Et,h[11]=St,h[12]=Tt,h[13]=It,h[14]=qt,h[15]=Ct,h[16]=Rt,h[17]=Dt,h[18]=Lt,0!==l&&(h[19]=l,i.length++),i};function m(t,e,i){return(new g).mulp(t,e,i)}function g(t,e){this.x=t,this.y=e}Math.imul||(p=f),s.prototype.mulTo=function(t,e){var i,n=this.length+t.length;return i=10===this.length&&10===t.length?p(this,t,e):n<63?f(this,t,e):n<1024?function(t,e,i){i.negative=e.negative^t.negative,i.length=t.length+e.length;for(var n=0,r=0,s=0;s<i.length-1;s++){var o=r;r=0;for(var a=67108863&n,h=Math.min(s,e.length-1),l=Math.max(0,s-t.length+1);l<=h;l++){var u=s-l,c=(0|t.words[u])*(0|e.words[l]),d=67108863&c;a=67108863&(d=d+a|0),r+=(o=(o=o+(c/67108864|0)|0)+(d>>>26)|0)>>>26,o&=67108863}i.words[s]=a,n=o,o=r}return 0!==n?i.words[s]=n:i.length--,i.strip()}(this,t,e):m(this,t,e),i},g.prototype.makeRBT=function(t){for(var e=new Array(t),i=s.prototype._countBits(t)-1,n=0;n<t;n++)e[n]=this.revBin(n,i,t);return e},g.prototype.revBin=function(t,e,i){if(0===t||t===i-1)return t;for(var n=0,r=0;r<e;r++)n|=(1&t)<<e-r-1,t>>=1;return n},g.prototype.permute=function(t,e,i,n,r,s){for(var o=0;o<s;o++)n[o]=e[t[o]],r[o]=i[t[o]]},g.prototype.transform=function(t,e,i,n,r,s){this.permute(s,t,e,i,n,r);for(var o=1;o<r;o<<=1)for(var a=o<<1,h=Math.cos(2*Math.PI/a),l=Math.sin(2*Math.PI/a),u=0;u<r;u+=a)for(var c=h,d=l,f=0;f<o;f++){var p=i[u+f],m=n[u+f],g=i[u+f+o],v=n[u+f+o],y=c*g-d*v;v=c*v+d*g,g=y,i[u+f]=p+g,n[u+f]=m+v,i[u+f+o]=p-g,n[u+f+o]=m-v,f!==a&&(y=h*c-l*d,d=h*d+l*c,c=y)}},g.prototype.guessLen13b=function(t,e){var i=1|Math.max(e,t),n=1&i,r=0;for(i=i/2|0;i;i>>>=1)r++;return 1<<r+1+n},g.prototype.conjugate=function(t,e,i){if(!(i<=1))for(var n=0;n<i/2;n++){var r=t[n];t[n]=t[i-n-1],t[i-n-1]=r,r=e[n],e[n]=-e[i-n-1],e[i-n-1]=-r}},g.prototype.normalize13b=function(t,e){for(var i=0,n=0;n<e/2;n++){var r=8192*Math.round(t[2*n+1]/e)+Math.round(t[2*n]/e)+i;t[n]=67108863&r,i=r<67108864?0:r/67108864|0}return t},g.prototype.convert13b=function(t,e,n,r){for(var s=0,o=0;o<e;o++)s+=0|t[o],n[2*o]=8191&s,s>>>=13,n[2*o+1]=8191&s,s>>>=13;for(o=2*e;o<r;++o)n[o]=0;i(0===s),i(0==(-8192&s))},g.prototype.stub=function(t){for(var e=new Array(t),i=0;i<t;i++)e[i]=0;return e},g.prototype.mulp=function(t,e,i){var n=2*this.guessLen13b(t.length,e.length),r=this.makeRBT(n),s=this.stub(n),o=new Array(n),a=new Array(n),h=new Array(n),l=new Array(n),u=new Array(n),c=new Array(n),d=i.words;d.length=n,this.convert13b(t.words,t.length,o,n),this.convert13b(e.words,e.length,l,n),this.transform(o,s,a,h,n,r),this.transform(l,s,u,c,n,r);for(var f=0;f<n;f++){var p=a[f]*u[f]-h[f]*c[f];h[f]=a[f]*c[f]+h[f]*u[f],a[f]=p}return this.conjugate(a,h,n),this.transform(a,h,d,s,n,r),this.conjugate(d,s,n),this.normalize13b(d,n),i.negative=t.negative^e.negative,i.length=t.length+e.length,i.strip()},s.prototype.mul=function(t){var e=new s(null);return e.words=new Array(this.length+t.length),this.mulTo(t,e)},s.prototype.mulf=function(t){var e=new s(null);return e.words=new Array(this.length+t.length),m(this,t,e)},s.prototype.imul=function(t){return this.clone().mulTo(t,this)},s.prototype.imuln=function(t){i("number"==typeof t),i(t<67108864);for(var e=0,n=0;n<this.length;n++){var r=(0|this.words[n])*t,s=(67108863&r)+(67108863&e);e>>=26,e+=r/67108864|0,e+=s>>>26,this.words[n]=67108863&s}return 0!==e&&(this.words[n]=e,this.length++),this},s.prototype.muln=function(t){return this.clone().imuln(t)},s.prototype.sqr=function(){return this.mul(this)},s.prototype.isqr=function(){return this.imul(this.clone())},s.prototype.pow=function(t){var e=function(t){for(var e=new Array(t.bitLength()),i=0;i<e.length;i++){var n=i/26|0,r=i%26;e[i]=(t.words[n]&1<<r)>>>r}return e}(t);if(0===e.length)return new s(1);for(var i=this,n=0;n<e.length&&0===e[n];n++,i=i.sqr());if(++n<e.length)for(var r=i.sqr();n<e.length;n++,r=r.sqr())0!==e[n]&&(i=i.mul(r));return i},s.prototype.iushln=function(t){i("number"==typeof t&&t>=0);var e,n=t%26,r=(t-n)/26,s=67108863>>>26-n<<26-n;if(0!==n){var o=0;for(e=0;e<this.length;e++){var a=this.words[e]&s,h=(0|this.words[e])-a<<n;this.words[e]=h|o,o=a>>>26-n}o&&(this.words[e]=o,this.length++)}if(0!==r){for(e=this.length-1;e>=0;e--)this.words[e+r]=this.words[e];for(e=0;e<r;e++)this.words[e]=0;this.length+=r}return this.strip()},s.prototype.ishln=function(t){return i(0===this.negative),this.iushln(t)},s.prototype.iushrn=function(t,e,n){var r;i("number"==typeof t&&t>=0),r=e?(e-e%26)/26:0;var s=t%26,o=Math.min((t-s)/26,this.length),a=67108863^67108863>>>s<<s,h=n;if(r-=o,r=Math.max(0,r),h){for(var l=0;l<o;l++)h.words[l]=this.words[l];h.length=o}if(0===o);else if(this.length>o)for(this.length-=o,l=0;l<this.length;l++)this.words[l]=this.words[l+o];else this.words[0]=0,this.length=1;var u=0;for(l=this.length-1;l>=0&&(0!==u||l>=r);l--){var c=0|this.words[l];this.words[l]=u<<26-s|c>>>s,u=c&a}return h&&0!==u&&(h.words[h.length++]=u),0===this.length&&(this.words[0]=0,this.length=1),this.strip()},s.prototype.ishrn=function(t,e,n){return i(0===this.negative),this.iushrn(t,e,n)},s.prototype.shln=function(t){return this.clone().ishln(t)},s.prototype.ushln=function(t){return this.clone().iushln(t)},s.prototype.shrn=function(t){return this.clone().ishrn(t)},s.prototype.ushrn=function(t){return this.clone().iushrn(t)},s.prototype.testn=function(t){i("number"==typeof t&&t>=0);var e=t%26,n=(t-e)/26,r=1<<e;return!(this.length<=n)&&!!(this.words[n]&r)},s.prototype.imaskn=function(t){i("number"==typeof t&&t>=0);var e=t%26,n=(t-e)/26;if(i(0===this.negative,"imaskn works only with positive numbers"),this.length<=n)return this;if(0!==e&&n++,this.length=Math.min(n,this.length),0!==e){var r=67108863^67108863>>>e<<e;this.words[this.length-1]&=r}return this.strip()},s.prototype.maskn=function(t){return this.clone().imaskn(t)},s.prototype.iaddn=function(t){return i("number"==typeof t),i(t<67108864),t<0?this.isubn(-t):0!==this.negative?1===this.length&&(0|this.words[0])<t?(this.words[0]=t-(0|this.words[0]),this.negative=0,this):(this.negative=0,this.isubn(t),this.negative=1,this):this._iaddn(t)},s.prototype._iaddn=function(t){this.words[0]+=t;for(var e=0;e<this.length&&this.words[e]>=67108864;e++)this.words[e]-=67108864,e===this.length-1?this.words[e+1]=1:this.words[e+1]++;return this.length=Math.max(this.length,e+1),this},s.prototype.isubn=function(t){if(i("number"==typeof t),i(t<67108864),t<0)return this.iaddn(-t);if(0!==this.negative)return this.negative=0,this.iaddn(t),this.negative=1,this;if(this.words[0]-=t,1===this.length&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var e=0;e<this.length&&this.words[e]<0;e++)this.words[e]+=67108864,this.words[e+1]-=1;return this.strip()},s.prototype.addn=function(t){return this.clone().iaddn(t)},s.prototype.subn=function(t){return this.clone().isubn(t)},s.prototype.iabs=function(){return this.negative=0,this},s.prototype.abs=function(){return this.clone().iabs()},s.prototype._ishlnsubmul=function(t,e,n){var r,s,o=t.length+n;this._expand(o);var a=0;for(r=0;r<t.length;r++){s=(0|this.words[r+n])+a;var h=(0|t.words[r])*e;a=((s-=67108863&h)>>26)-(h/67108864|0),this.words[r+n]=67108863&s}for(;r<this.length-n;r++)a=(s=(0|this.words[r+n])+a)>>26,this.words[r+n]=67108863&s;if(0===a)return this.strip();for(i(-1===a),a=0,r=0;r<this.length;r++)a=(s=-(0|this.words[r])+a)>>26,this.words[r]=67108863&s;return this.negative=1,this.strip()},s.prototype._wordDiv=function(t,e){var i=(this.length,t.length),n=this.clone(),r=t,o=0|r.words[r.length-1];0!==(i=26-this._countBits(o))&&(r=r.ushln(i),n.iushln(i),o=0|r.words[r.length-1]);var a,h=n.length-r.length;if("mod"!==e){(a=new s(null)).length=h+1,a.words=new Array(a.length);for(var l=0;l<a.length;l++)a.words[l]=0}var u=n.clone()._ishlnsubmul(r,1,h);0===u.negative&&(n=u,a&&(a.words[h]=1));for(var c=h-1;c>=0;c--){var d=67108864*(0|n.words[r.length+c])+(0|n.words[r.length+c-1]);for(d=Math.min(d/o|0,67108863),n._ishlnsubmul(r,d,c);0!==n.negative;)d--,n.negative=0,n._ishlnsubmul(r,1,c),n.isZero()||(n.negative^=1);a&&(a.words[c]=d)}return a&&a.strip(),n.strip(),"div"!==e&&0!==i&&n.iushrn(i),{div:a||null,mod:n}},s.prototype.divmod=function(t,e,n){return i(!t.isZero()),this.isZero()?{div:new s(0),mod:new s(0)}:0!==this.negative&&0===t.negative?(a=this.neg().divmod(t,e),"mod"!==e&&(r=a.div.neg()),"div"!==e&&(o=a.mod.neg(),n&&0!==o.negative&&o.iadd(t)),{div:r,mod:o}):0===this.negative&&0!==t.negative?(a=this.divmod(t.neg(),e),"mod"!==e&&(r=a.div.neg()),{div:r,mod:a.mod}):0!=(this.negative&t.negative)?(a=this.neg().divmod(t.neg(),e),"div"!==e&&(o=a.mod.neg(),n&&0!==o.negative&&o.isub(t)),{div:a.div,mod:o}):t.length>this.length||this.cmp(t)<0?{div:new s(0),mod:this}:1===t.length?"div"===e?{div:this.divn(t.words[0]),mod:null}:"mod"===e?{div:null,mod:new s(this.modn(t.words[0]))}:{div:this.divn(t.words[0]),mod:new s(this.modn(t.words[0]))}:this._wordDiv(t,e);var r,o,a},s.prototype.div=function(t){return this.divmod(t,"div",!1).div},s.prototype.mod=function(t){return this.divmod(t,"mod",!1).mod},s.prototype.umod=function(t){return this.divmod(t,"mod",!0).mod},s.prototype.divRound=function(t){var e=this.divmod(t);if(e.mod.isZero())return e.div;var i=0!==e.div.negative?e.mod.isub(t):e.mod,n=t.ushrn(1),r=t.andln(1),s=i.cmp(n);return s<0||1===r&&0===s?e.div:0!==e.div.negative?e.div.isubn(1):e.div.iaddn(1)},s.prototype.modn=function(t){i(t<=67108863);for(var e=67108864%t,n=0,r=this.length-1;r>=0;r--)n=(e*n+(0|this.words[r]))%t;return n},s.prototype.idivn=function(t){i(t<=67108863);for(var e=0,n=this.length-1;n>=0;n--){var r=(0|this.words[n])+67108864*e;this.words[n]=r/t|0,e=r%t}return this.strip()},s.prototype.divn=function(t){return this.clone().idivn(t)},s.prototype.egcd=function(t){i(0===t.negative),i(!t.isZero());var e=this,n=t.clone();e=0!==e.negative?e.umod(t):e.clone();for(var r=new s(1),o=new s(0),a=new s(0),h=new s(1),l=0;e.isEven()&&n.isEven();)e.iushrn(1),n.iushrn(1),++l;for(var u=n.clone(),c=e.clone();!e.isZero();){for(var d=0,f=1;0==(e.words[0]&f)&&d<26;++d,f<<=1);if(d>0)for(e.iushrn(d);d-- >0;)(r.isOdd()||o.isOdd())&&(r.iadd(u),o.isub(c)),r.iushrn(1),o.iushrn(1);for(var p=0,m=1;0==(n.words[0]&m)&&p<26;++p,m<<=1);if(p>0)for(n.iushrn(p);p-- >0;)(a.isOdd()||h.isOdd())&&(a.iadd(u),h.isub(c)),a.iushrn(1),h.iushrn(1);e.cmp(n)>=0?(e.isub(n),r.isub(a),o.isub(h)):(n.isub(e),a.isub(r),h.isub(o))}return{a:a,b:h,gcd:n.iushln(l)}},s.prototype._invmp=function(t){i(0===t.negative),i(!t.isZero());var e=this,n=t.clone();e=0!==e.negative?e.umod(t):e.clone();for(var r,o=new s(1),a=new s(0),h=n.clone();e.cmpn(1)>0&&n.cmpn(1)>0;){for(var l=0,u=1;0==(e.words[0]&u)&&l<26;++l,u<<=1);if(l>0)for(e.iushrn(l);l-- >0;)o.isOdd()&&o.iadd(h),o.iushrn(1);for(var c=0,d=1;0==(n.words[0]&d)&&c<26;++c,d<<=1);if(c>0)for(n.iushrn(c);c-- >0;)a.isOdd()&&a.iadd(h),a.iushrn(1);e.cmp(n)>=0?(e.isub(n),o.isub(a)):(n.isub(e),a.isub(o))}return(r=0===e.cmpn(1)?o:a).cmpn(0)<0&&r.iadd(t),r},s.prototype.gcd=function(t){if(this.isZero())return t.abs();if(t.isZero())return this.abs();var e=this.clone(),i=t.clone();e.negative=0,i.negative=0;for(var n=0;e.isEven()&&i.isEven();n++)e.iushrn(1),i.iushrn(1);for(;;){for(;e.isEven();)e.iushrn(1);for(;i.isEven();)i.iushrn(1);var r=e.cmp(i);if(r<0){var s=e;e=i,i=s}else if(0===r||0===i.cmpn(1))break;e.isub(i)}return i.iushln(n)},s.prototype.invm=function(t){return this.egcd(t).a.umod(t)},s.prototype.isEven=function(){return 0==(1&this.words[0])},s.prototype.isOdd=function(){return 1==(1&this.words[0])},s.prototype.andln=function(t){return this.words[0]&t},s.prototype.bincn=function(t){i("number"==typeof t);var e=t%26,n=(t-e)/26,r=1<<e;if(this.length<=n)return this._expand(n+1),this.words[n]|=r,this;for(var s=r,o=n;0!==s&&o<this.length;o++){var a=0|this.words[o];s=(a+=s)>>>26,a&=67108863,this.words[o]=a}return 0!==s&&(this.words[o]=s,this.length++),this},s.prototype.isZero=function(){return 1===this.length&&0===this.words[0]},s.prototype.cmpn=function(t){var e,n=t<0;if(0!==this.negative&&!n)return-1;if(0===this.negative&&n)return 1;if(this.strip(),this.length>1)e=1;else{n&&(t=-t),i(t<=67108863,"Number is too big");var r=0|this.words[0];e=r===t?0:r<t?-1:1}return 0!==this.negative?0|-e:e},s.prototype.cmp=function(t){if(0!==this.negative&&0===t.negative)return-1;if(0===this.negative&&0!==t.negative)return 1;var e=this.ucmp(t);return 0!==this.negative?0|-e:e},s.prototype.ucmp=function(t){if(this.length>t.length)return 1;if(this.length<t.length)return-1;for(var e=0,i=this.length-1;i>=0;i--){var n=0|this.words[i],r=0|t.words[i];if(n!==r){n<r?e=-1:n>r&&(e=1);break}}return e},s.prototype.gtn=function(t){return 1===this.cmpn(t)},s.prototype.gt=function(t){return 1===this.cmp(t)},s.prototype.gten=function(t){return this.cmpn(t)>=0},s.prototype.gte=function(t){return this.cmp(t)>=0},s.prototype.ltn=function(t){return-1===this.cmpn(t)},s.prototype.lt=function(t){return-1===this.cmp(t)},s.prototype.lten=function(t){return this.cmpn(t)<=0},s.prototype.lte=function(t){return this.cmp(t)<=0},s.prototype.eqn=function(t){return 0===this.cmpn(t)},s.prototype.eq=function(t){return 0===this.cmp(t)},s.red=function(t){return new x(t)},s.prototype.toRed=function(t){return i(!this.red,"Already a number in reduction context"),i(0===this.negative,"red works only with positives"),t.convertTo(this)._forceRed(t)},s.prototype.fromRed=function(){return i(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},s.prototype._forceRed=function(t){return this.red=t,this},s.prototype.forceRed=function(t){return i(!this.red,"Already a number in reduction context"),this._forceRed(t)},s.prototype.redAdd=function(t){return i(this.red,"redAdd works only with red numbers"),this.red.add(this,t)},s.prototype.redIAdd=function(t){return i(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,t)},s.prototype.redSub=function(t){return i(this.red,"redSub works only with red numbers"),this.red.sub(this,t)},s.prototype.redISub=function(t){return i(this.red,"redISub works only with red numbers"),this.red.isub(this,t)},s.prototype.redShl=function(t){return i(this.red,"redShl works only with red numbers"),this.red.shl(this,t)},s.prototype.redMul=function(t){return i(this.red,"redMul works only with red numbers"),this.red._verify2(this,t),this.red.mul(this,t)},s.prototype.redIMul=function(t){return i(this.red,"redMul works only with red numbers"),this.red._verify2(this,t),this.red.imul(this,t)},s.prototype.redSqr=function(){return i(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},s.prototype.redISqr=function(){return i(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},s.prototype.redSqrt=function(){return i(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},s.prototype.redInvm=function(){return i(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},s.prototype.redNeg=function(){return i(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},s.prototype.redPow=function(t){return i(this.red&&!t.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,t)};var v={k256:null,p224:null,p192:null,p25519:null};function y(t,e){this.name=t,this.p=new s(e,16),this.n=this.p.bitLength(),this.k=new s(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}function b(){y.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}function w(){y.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}function _(){y.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}function M(){y.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}function x(t){if("string"==typeof t){var e=s._prime(t);this.m=e.p,this.prime=e}else i(t.gtn(1),"modulus must be greater than 1"),this.m=t,this.prime=null}function k(t){x.call(this,t),this.shift=this.m.bitLength(),this.shift%26!=0&&(this.shift+=26-this.shift%26),this.r=new s(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}y.prototype._tmp=function(){var t=new s(null);return t.words=new Array(Math.ceil(this.n/13)),t},y.prototype.ireduce=function(t){var e,i=t;do{this.split(i,this.tmp),e=(i=(i=this.imulK(i)).iadd(this.tmp)).bitLength()}while(e>this.n);var n=e<this.n?-1:i.ucmp(this.p);return 0===n?(i.words[0]=0,i.length=1):n>0?i.isub(this.p):void 0!==i.strip?i.strip():i._strip(),i},y.prototype.split=function(t,e){t.iushrn(this.n,0,e)},y.prototype.imulK=function(t){return t.imul(this.k)},n(b,y),b.prototype.split=function(t,e){for(var i=4194303,n=Math.min(t.length,9),r=0;r<n;r++)e.words[r]=t.words[r];if(e.length=n,t.length<=9)return t.words[0]=0,void(t.length=1);var s=t.words[9];for(e.words[e.length++]=s&i,r=10;r<t.length;r++){var o=0|t.words[r];t.words[r-10]=(o&i)<<4|s>>>22,s=o}s>>>=22,t.words[r-10]=s,0===s&&t.length>10?t.length-=10:t.length-=9},b.prototype.imulK=function(t){t.words[t.length]=0,t.words[t.length+1]=0,t.length+=2;for(var e=0,i=0;i<t.length;i++){var n=0|t.words[i];e+=977*n,t.words[i]=67108863&e,e=64*n+(e/67108864|0)}return 0===t.words[t.length-1]&&(t.length--,0===t.words[t.length-1]&&t.length--),t},n(w,y),n(_,y),n(M,y),M.prototype.imulK=function(t){for(var e=0,i=0;i<t.length;i++){var n=19*(0|t.words[i])+e,r=67108863&n;n>>>=26,t.words[i]=r,e=n}return 0!==e&&(t.words[t.length++]=e),t},s._prime=function(t){if(v[t])return v[t];var e;if("k256"===t)e=new b;else if("p224"===t)e=new w;else if("p192"===t)e=new _;else{if("p25519"!==t)throw new Error("Unknown prime "+t);e=new M}return v[t]=e,e},x.prototype._verify1=function(t){i(0===t.negative,"red works only with positives"),i(t.red,"red works only with red numbers")},x.prototype._verify2=function(t,e){i(0==(t.negative|e.negative),"red works only with positives"),i(t.red&&t.red===e.red,"red works only with red numbers")},x.prototype.imod=function(t){return this.prime?this.prime.ireduce(t)._forceRed(this):t.umod(this.m)._forceRed(this)},x.prototype.neg=function(t){return t.isZero()?t.clone():this.m.sub(t)._forceRed(this)},x.prototype.add=function(t,e){this._verify2(t,e);var i=t.add(e);return i.cmp(this.m)>=0&&i.isub(this.m),i._forceRed(this)},x.prototype.iadd=function(t,e){this._verify2(t,e);var i=t.iadd(e);return i.cmp(this.m)>=0&&i.isub(this.m),i},x.prototype.sub=function(t,e){this._verify2(t,e);var i=t.sub(e);return i.cmpn(0)<0&&i.iadd(this.m),i._forceRed(this)},x.prototype.isub=function(t,e){this._verify2(t,e);var i=t.isub(e);return i.cmpn(0)<0&&i.iadd(this.m),i},x.prototype.shl=function(t,e){return this._verify1(t),this.imod(t.ushln(e))},x.prototype.imul=function(t,e){return this._verify2(t,e),this.imod(t.imul(e))},x.prototype.mul=function(t,e){return this._verify2(t,e),this.imod(t.mul(e))},x.prototype.isqr=function(t){return this.imul(t,t.clone())},x.prototype.sqr=function(t){return this.mul(t,t)},x.prototype.sqrt=function(t){if(t.isZero())return t.clone();var e=this.m.andln(3);if(i(e%2==1),3===e){var n=this.m.add(new s(1)).iushrn(2);return this.pow(t,n)}for(var r=this.m.subn(1),o=0;!r.isZero()&&0===r.andln(1);)o++,r.iushrn(1);i(!r.isZero());var a=new s(1).toRed(this),h=a.redNeg(),l=this.m.subn(1).iushrn(1),u=this.m.bitLength();for(u=new s(2*u*u).toRed(this);0!==this.pow(u,l).cmp(h);)u.redIAdd(h);for(var c=this.pow(u,r),d=this.pow(t,r.addn(1).iushrn(1)),f=this.pow(t,r),p=o;0!==f.cmp(a);){for(var m=f,g=0;0!==m.cmp(a);g++)m=m.redSqr();i(g<p);var v=this.pow(c,new s(1).iushln(p-g-1));d=d.redMul(v),c=v.redSqr(),f=f.redMul(c),p=g}return d},x.prototype.invm=function(t){var e=t._invmp(this.m);return 0!==e.negative?(e.negative=0,this.imod(e).redNeg()):this.imod(e)},x.prototype.pow=function(t,e){if(e.isZero())return new s(1).toRed(this);if(0===e.cmpn(1))return t.clone();var i=new Array(16);i[0]=new s(1).toRed(this),i[1]=t;for(var n=2;n<i.length;n++)i[n]=this.mul(i[n-1],t);var r=i[0],o=0,a=0,h=e.bitLength()%26;for(0===h&&(h=26),n=e.length-1;n>=0;n--){for(var l=e.words[n],u=h-1;u>=0;u--){var c=l>>u&1;r!==i[0]&&(r=this.sqr(r)),0!==c||0!==o?(o<<=1,o|=c,(4===++a||0===n&&0===u)&&(r=this.mul(r,i[o]),a=0,o=0)):a=0}h=26}return r},x.prototype.convertTo=function(t){var e=t.umod(this.m);return e===t?e.clone():e},x.prototype.convertFrom=function(t){var e=t.clone();return e.red=null,e},s.mont=function(t){return new k(t)},n(k,x),k.prototype.convertTo=function(t){return this.imod(t.ushln(this.shift))},k.prototype.convertFrom=function(t){var e=this.imod(t.mul(this.rinv));return e.red=null,e},k.prototype.imul=function(t,e){if(t.isZero()||e.isZero())return t.words[0]=0,t.length=1,t;var i=t.imul(e),n=i.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),r=i.isub(n).iushrn(this.shift),s=r;return r.cmp(this.m)>=0?s=r.isub(this.m):r.cmpn(0)<0&&(s=r.iadd(this.m)),s._forceRed(this)},k.prototype.mul=function(t,e){if(t.isZero()||e.isZero())return new s(0)._forceRed(this);var i=t.mul(e),n=i.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),r=i.isub(n).iushrn(this.shift),o=r;return r.cmp(this.m)>=0?o=r.isub(this.m):r.cmpn(0)<0&&(o=r.iadd(this.m)),o._forceRed(this)},k.prototype.invm=function(t){return this.imod(t._invmp(this.m).mul(this.r2))._forceRed(this)}}(t,this)})),r.register("dcylL",(function(t,e){var i=r("gtAYi"),n=r("7FEba"),s=r("kDUq9");function o(t,e){this.name=t,this.body=e,this.decoders={},this.encoders={}}t.exports.define=function(t,e){return new o(t,e)},o.prototype._createNamed=function(t){const e=this.name;function i(t){this._initNamed(t,e)}return s(i,t),i.prototype._initNamed=function(e,i){t.call(this,e,i)},new i(this)},o.prototype._getDecoder=function(t){return t=t||"der",this.decoders.hasOwnProperty(t)||(this.decoders[t]=this._createNamed(n[t])),this.decoders[t]},o.prototype.decode=function(t,e,i){return this._getDecoder(e).decode(t,i)},o.prototype._getEncoder=function(t){return t=t||"der",this.encoders.hasOwnProperty(t)||(this.encoders[t]=this._createNamed(i[t])),this.encoders[t]},o.prototype.encode=function(t,e,i){return this._getEncoder(e).encode(t,i)}})),r.register("gtAYi",(function(t,e){const i=t.exports;i.der=r("7zVBv"),i.pem=r("imYze")})),r.register("7zVBv",(function(t,e){var i=r("kDUq9"),n=r("2IRFC").Buffer,s=r("e4QRY"),o=r("lLun9");function a(t){this.enc="der",this.name=t.name,this.entity=t,this.tree=new h,this.tree._init(t.body)}function h(t){s.call(this,"der",t)}function l(t){return t<10?"0"+t:t}t.exports=a,a.prototype.encode=function(t,e){return this.tree._encode(t,e).join()},i(h,s),h.prototype._encodeComposite=function(t,e,i,r){const s=function(t,e,i,n){let r;"seqof"===t?t="seq":"setof"===t&&(t="set");if(o.tagByName.hasOwnProperty(t))r=o.tagByName[t];else{if("number"!=typeof t||(0|t)!==t)return n.error("Unknown tag: "+t);r=t}if(r>=31)return n.error("Multi-octet tag encoding unsupported");e||(r|=32);return r|=o.tagClassByName[i||"universal"]<<6,r}(t,e,i,this.reporter);if(r.length<128){const t=n.alloc(2);return t[0]=s,t[1]=r.length,this._createEncoderBuffer([t,r])}let a=1;for(let t=r.length;t>=256;t>>=8)a++;const h=n.alloc(2+a);h[0]=s,h[1]=128|a;for(let t=1+a,e=r.length;e>0;t--,e>>=8)h[t]=255&e;return this._createEncoderBuffer([h,r])},h.prototype._encodeStr=function(t,e){if("bitstr"===e)return this._createEncoderBuffer([0|t.unused,t.data]);if("bmpstr"===e){const e=n.alloc(2*t.length);for(let i=0;i<t.length;i++)e.writeUInt16BE(t.charCodeAt(i),2*i);return this._createEncoderBuffer(e)}return"numstr"===e?this._isNumstr(t)?this._createEncoderBuffer(t):this.reporter.error("Encoding of string type: numstr supports only digits and space"):"printstr"===e?this._isPrintstr(t)?this._createEncoderBuffer(t):this.reporter.error("Encoding of string type: printstr supports only latin upper and lower case letters, digits, space, apostrophe, left and rigth parenthesis, plus sign, comma, hyphen, dot, slash, colon, equal sign, question mark"):/str$/.test(e)||"objDesc"===e?this._createEncoderBuffer(t):this.reporter.error("Encoding of string type: "+e+" unsupported")},h.prototype._encodeObjid=function(t,e,i){if("string"==typeof t){if(!e)return this.reporter.error("string objid given, but no values map found");if(!e.hasOwnProperty(t))return this.reporter.error("objid not found in values map");t=e[t].split(/[\s.]+/g);for(let e=0;e<t.length;e++)t[e]|=0}else if(Array.isArray(t)){t=t.slice();for(let e=0;e<t.length;e++)t[e]|=0}if(!Array.isArray(t))return this.reporter.error("objid() should be either array or string, got: "+JSON.stringify(t));if(!i){if(t[1]>=40)return this.reporter.error("Second objid identifier OOB");t.splice(0,2,40*t[0]+t[1])}let r=0;for(let e=0;e<t.length;e++){let i=t[e];for(r++;i>=128;i>>=7)r++}const s=n.alloc(r);let o=s.length-1;for(let e=t.length-1;e>=0;e--){let i=t[e];for(s[o--]=127&i;(i>>=7)>0;)s[o--]=128|127&i}return this._createEncoderBuffer(s)},h.prototype._encodeTime=function(t,e){let i;const n=new Date(t);return"gentime"===e?i=[l(n.getUTCFullYear()),l(n.getUTCMonth()+1),l(n.getUTCDate()),l(n.getUTCHours()),l(n.getUTCMinutes()),l(n.getUTCSeconds()),"Z"].join(""):"utctime"===e?i=[l(n.getUTCFullYear()%100),l(n.getUTCMonth()+1),l(n.getUTCDate()),l(n.getUTCHours()),l(n.getUTCMinutes()),l(n.getUTCSeconds()),"Z"].join(""):this.reporter.error("Encoding "+e+" time is not supported yet"),this._encodeStr(i,"octstr")},h.prototype._encodeNull=function(){return this._createEncoderBuffer("")},h.prototype._encodeInt=function(t,e){if("string"==typeof t){if(!e)return this.reporter.error("String int or enum given, but no values map");if(!e.hasOwnProperty(t))return this.reporter.error("Values map doesn't contain: "+JSON.stringify(t));t=e[t]}if("number"!=typeof t&&!n.isBuffer(t)){const e=t.toArray();!t.sign&&128&e[0]&&e.unshift(0),t=n.from(e)}if(n.isBuffer(t)){let e=t.length;0===t.length&&e++;const i=n.alloc(e);return t.copy(i),0===t.length&&(i[0]=0),this._createEncoderBuffer(i)}if(t<128)return this._createEncoderBuffer(t);if(t<256)return this._createEncoderBuffer([0,t]);let i=1;for(let e=t;e>=256;e>>=8)i++;const r=new Array(i);for(let e=r.length-1;e>=0;e--)r[e]=255&t,t>>=8;return 128&r[0]&&r.unshift(0),this._createEncoderBuffer(n.from(r))},h.prototype._encodeBool=function(t){return this._createEncoderBuffer(t?255:0)},h.prototype._use=function(t,e){return"function"==typeof t&&(t=t(e)),t._getEncoder("der").tree},h.prototype._skipDefault=function(t,e,i){const n=this._baseState;let r;if(null===n.default)return!1;const s=t.join();if(void 0===n.defaultBuffer&&(n.defaultBuffer=this._encodeValue(n.default,e,i).join()),s.length!==n.defaultBuffer.length)return!1;for(r=0;r<s.length;r++)if(s[r]!==n.defaultBuffer[r])return!1;return!0}})),r.register("2IRFC",(function(t,e){var i,n=r("gXRuj"),s=r("hwHAp"),o=s.Buffer,a={};for(i in s)s.hasOwnProperty(i)&&"SlowBuffer"!==i&&"Buffer"!==i&&(a[i]=s[i]);var h=a.Buffer={};for(i in o)o.hasOwnProperty(i)&&"allocUnsafe"!==i&&"allocUnsafeSlow"!==i&&(h[i]=o[i]);if(a.Buffer.prototype=o.prototype,h.from&&h.from!==Uint8Array.from||(h.from=function(t,e,i){if("number"==typeof t)throw new TypeError('The "value" argument must not be of type number. Received type '+typeof t);if(t&&void 0===t.length)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof t);return o(t,e,i)}),h.alloc||(h.alloc=function(t,e,i){if("number"!=typeof t)throw new TypeError('The "size" argument must be of type number. Received type '+typeof t);if(t<0||t>=2147483648)throw new RangeError('The value "'+t+'" is invalid for option "size"');var n=o(t);return e&&0!==e.length?"string"==typeof i?n.fill(e,i):n.fill(e):n.fill(0),n}),!a.kStringMaxLength)try{a.kStringMaxLength=n.binding("buffer").kStringMaxLength}catch(t){}a.constants||(a.constants={MAX_LENGTH:a.kMaxLength},a.kStringMaxLength&&(a.constants.MAX_STRING_LENGTH=a.kStringMaxLength)),t.exports=a})),r.register("e4QRY",(function(t,e){var i=r("a8N2B").Reporter,n=r("8kHXB").EncoderBuffer,s=r("8kHXB").DecoderBuffer,o=r("bQfgu");const a=["seq","seqof","set","setof","objid","bool","gentime","utctime","null_","enum","int","objDesc","bitstr","bmpstr","charstr","genstr","graphstr","ia5str","iso646str","numstr","octstr","printstr","t61str","unistr","utf8str","videostr"],h=["key","obj","use","optional","explicit","implicit","def","choice","any","contains"].concat(a);function l(t,e,i){const n={};this._baseState=n,n.name=i,n.enc=t,n.parent=e||null,n.children=null,n.tag=null,n.args=null,n.reverseArgs=null,n.choice=null,n.optional=!1,n.any=!1,n.obj=!1,n.use=null,n.useDecoder=null,n.key=null,n.default=null,n.explicit=null,n.implicit=null,n.contains=null,n.parent||(n.children=[],this._wrap())}t.exports=l;const u=["enc","parent","children","tag","args","reverseArgs","choice","optional","any","obj","use","alteredUse","key","default","explicit","implicit","contains"];l.prototype.clone=function(){const t=this._baseState,e={};u.forEach((function(i){e[i]=t[i]}));const i=new this.constructor(e.parent);return i._baseState=e,i},l.prototype._wrap=function(){const t=this._baseState;h.forEach((function(e){this[e]=function(){const i=new this.constructor(this);return t.children.push(i),i[e].apply(i,arguments)}}),this)},l.prototype._init=function(t){const e=this._baseState;o(null===e.parent),t.call(this),e.children=e.children.filter((function(t){return t._baseState.parent===this}),this),o.equal(e.children.length,1,"Root node can have only one child")},l.prototype._useArgs=function(t){const e=this._baseState,i=t.filter((function(t){return t instanceof this.constructor}),this);t=t.filter((function(t){return!(t instanceof this.constructor)}),this),0!==i.length&&(o(null===e.children),e.children=i,i.forEach((function(t){t._baseState.parent=this}),this)),0!==t.length&&(o(null===e.args),e.args=t,e.reverseArgs=t.map((function(t){if("object"!=typeof t||t.constructor!==Object)return t;const e={};return Object.keys(t).forEach((function(i){i==(0|i)&&(i|=0);const n=t[i];e[n]=i})),e})))},["_peekTag","_decodeTag","_use","_decodeStr","_decodeObjid","_decodeTime","_decodeNull","_decodeInt","_decodeBool","_decodeList","_encodeComposite","_encodeStr","_encodeObjid","_encodeTime","_encodeNull","_encodeInt","_encodeBool"].forEach((function(t){l.prototype[t]=function(){const e=this._baseState;throw new Error(t+" not implemented for encoding: "+e.enc)}})),a.forEach((function(t){l.prototype[t]=function(){const e=this._baseState,i=Array.prototype.slice.call(arguments);return o(null===e.tag),e.tag=t,this._useArgs(i),this}})),l.prototype.use=function(t){o(t);const e=this._baseState;return o(null===e.use),e.use=t,this},l.prototype.optional=function(){return this._baseState.optional=!0,this},l.prototype.def=function(t){const e=this._baseState;return o(null===e.default),e.default=t,e.optional=!0,this},l.prototype.explicit=function(t){const e=this._baseState;return o(null===e.explicit&&null===e.implicit),e.explicit=t,this},l.prototype.implicit=function(t){const e=this._baseState;return o(null===e.explicit&&null===e.implicit),e.implicit=t,this},l.prototype.obj=function(){const t=this._baseState,e=Array.prototype.slice.call(arguments);return t.obj=!0,0!==e.length&&this._useArgs(e),this},l.prototype.key=function(t){const e=this._baseState;return o(null===e.key),e.key=t,this},l.prototype.any=function(){return this._baseState.any=!0,this},l.prototype.choice=function(t){const e=this._baseState;return o(null===e.choice),e.choice=t,this._useArgs(Object.keys(t).map((function(e){return t[e]}))),this},l.prototype.contains=function(t){const e=this._baseState;return o(null===e.use),e.contains=t,this},l.prototype._decode=function(t,e){const i=this._baseState;if(null===i.parent)return t.wrapResult(i.children[0]._decode(t,e));let n,r=i.default,o=!0,a=null;if(null!==i.key&&(a=t.enterKey(i.key)),i.optional){let n=null;if(null!==i.explicit?n=i.explicit:null!==i.implicit?n=i.implicit:null!==i.tag&&(n=i.tag),null!==n||i.any){if(o=this._peekTag(t,n,i.any),t.isError(o))return o}else{const n=t.save();try{null===i.choice?this._decodeGeneric(i.tag,t,e):this._decodeChoice(t,e),o=!0}catch(t){o=!1}t.restore(n)}}if(i.obj&&o&&(n=t.enterObject()),o){if(null!==i.explicit){const e=this._decodeTag(t,i.explicit);if(t.isError(e))return e;t=e}const n=t.offset;if(null===i.use&&null===i.choice){let e;i.any&&(e=t.save());const n=this._decodeTag(t,null!==i.implicit?i.implicit:i.tag,i.any);if(t.isError(n))return n;i.any?r=t.raw(e):t=n}if(e&&e.track&&null!==i.tag&&e.track(t.path(),n,t.length,"tagged"),e&&e.track&&null!==i.tag&&e.track(t.path(),t.offset,t.length,"content"),i.any||(r=null===i.choice?this._decodeGeneric(i.tag,t,e):this._decodeChoice(t,e)),t.isError(r))return r;if(i.any||null!==i.choice||null===i.children||i.children.forEach((function(i){i._decode(t,e)})),i.contains&&("octstr"===i.tag||"bitstr"===i.tag)){const n=new s(r);r=this._getUse(i.contains,t._reporterState.obj)._decode(n,e)}}return i.obj&&o&&(r=t.leaveObject(n)),null===i.key||null===r&&!0!==o?null!==a&&t.exitKey(a):t.leaveKey(a,i.key,r),r},l.prototype._decodeGeneric=function(t,e,i){const n=this._baseState;return"seq"===t||"set"===t?null:"seqof"===t||"setof"===t?this._decodeList(e,t,n.args[0],i):/str$/.test(t)?this._decodeStr(e,t,i):"objid"===t&&n.args?this._decodeObjid(e,n.args[0],n.args[1],i):"objid"===t?this._decodeObjid(e,null,null,i):"gentime"===t||"utctime"===t?this._decodeTime(e,t,i):"null_"===t?this._decodeNull(e,i):"bool"===t?this._decodeBool(e,i):"objDesc"===t?this._decodeStr(e,t,i):"int"===t||"enum"===t?this._decodeInt(e,n.args&&n.args[0],i):null!==n.use?this._getUse(n.use,e._reporterState.obj)._decode(e,i):e.error("unknown tag: "+t)},l.prototype._getUse=function(t,e){const i=this._baseState;return i.useDecoder=this._use(t,e),o(null===i.useDecoder._baseState.parent),i.useDecoder=i.useDecoder._baseState.children[0],i.implicit!==i.useDecoder._baseState.implicit&&(i.useDecoder=i.useDecoder.clone(),i.useDecoder._baseState.implicit=i.implicit),i.useDecoder},l.prototype._decodeChoice=function(t,e){const i=this._baseState;let n=null,r=!1;return Object.keys(i.choice).some((function(s){const o=t.save(),a=i.choice[s];try{const i=a._decode(t,e);if(t.isError(i))return!1;n={type:s,value:i},r=!0}catch(e){return t.restore(o),!1}return!0}),this),r?n:t.error("Choice not matched")},l.prototype._createEncoderBuffer=function(t){return new n(t,this.reporter)},l.prototype._encode=function(t,e,i){const n=this._baseState;if(null!==n.default&&n.default===t)return;const r=this._encodeValue(t,e,i);return void 0===r||this._skipDefault(r,e,i)?void 0:r},l.prototype._encodeValue=function(t,e,n){const r=this._baseState;if(null===r.parent)return r.children[0]._encode(t,e||new i);let s=null;if(this.reporter=e,r.optional&&void 0===t){if(null===r.default)return;t=r.default}let o=null,a=!1;if(r.any)s=this._createEncoderBuffer(t);else if(r.choice)s=this._encodeChoice(t,e);else if(r.contains)o=this._getUse(r.contains,n)._encode(t,e),a=!0;else if(r.children)o=r.children.map((function(i){if("null_"===i._baseState.tag)return i._encode(null,e,t);if(null===i._baseState.key)return e.error("Child should have a key");const n=e.enterKey(i._baseState.key);if("object"!=typeof t)return e.error("Child expected, but input is not object");const r=i._encode(t[i._baseState.key],e,t);return e.leaveKey(n),r}),this).filter((function(t){return t})),o=this._createEncoderBuffer(o);else if("seqof"===r.tag||"setof"===r.tag){if(!r.args||1!==r.args.length)return e.error("Too many args for : "+r.tag);if(!Array.isArray(t))return e.error("seqof/setof, but data is not Array");const i=this.clone();i._baseState.implicit=null,o=this._createEncoderBuffer(t.map((function(i){const n=this._baseState;return this._getUse(n.args[0],t)._encode(i,e)}),i))}else null!==r.use?s=this._getUse(r.use,n)._encode(t,e):(o=this._encodePrimitive(r.tag,t),a=!0);if(!r.any&&null===r.choice){const t=null!==r.implicit?r.implicit:r.tag,i=null===r.implicit?"universal":"context";null===t?null===r.use&&e.error("Tag could be omitted only for .use()"):null===r.use&&(s=this._encodeComposite(t,a,i,o))}return null!==r.explicit&&(s=this._encodeComposite(r.explicit,!1,"context",s)),s},l.prototype._encodeChoice=function(t,e){const i=this._baseState,n=i.choice[t.type];return n||o(!1,t.type+" not found in "+JSON.stringify(Object.keys(i.choice))),n._encode(t.value,e)},l.prototype._encodePrimitive=function(t,e){const i=this._baseState;if(/str$/.test(t))return this._encodeStr(e,t);if("objid"===t&&i.args)return this._encodeObjid(e,i.reverseArgs[0],i.args[1]);if("objid"===t)return this._encodeObjid(e,null,null);if("gentime"===t||"utctime"===t)return this._encodeTime(e,t);if("null_"===t)return this._encodeNull();if("int"===t||"enum"===t)return this._encodeInt(e,i.args&&i.reverseArgs[0]);if("bool"===t)return this._encodeBool(e);if("objDesc"===t)return this._encodeStr(e,t);throw new Error("Unsupported tag: "+t)},l.prototype._isNumstr=function(t){return/^[0-9 ]*$/.test(t)},l.prototype._isPrintstr=function(t){return/^[A-Za-z0-9 '()+,-./:=?]*$/.test(t)}})),r.register("a8N2B",(function(e,i){var n;t(e.exports,"Reporter",(()=>n),(t=>n=t));var s=r("kDUq9");function o(t){this._reporterState={obj:null,path:[],options:t||{},errors:[]}}function a(t,e){this.path=t,this.rethrow(e)}n=o,o.prototype.isError=function(t){return t instanceof a},o.prototype.save=function(){const t=this._reporterState;return{obj:t.obj,pathLen:t.path.length}},o.prototype.restore=function(t){const e=this._reporterState;e.obj=t.obj,e.path=e.path.slice(0,t.pathLen)},o.prototype.enterKey=function(t){return this._reporterState.path.push(t)},o.prototype.exitKey=function(t){const e=this._reporterState;e.path=e.path.slice(0,t-1)},o.prototype.leaveKey=function(t,e,i){const n=this._reporterState;this.exitKey(t),null!==n.obj&&(n.obj[e]=i)},o.prototype.path=function(){return this._reporterState.path.join("/")},o.prototype.enterObject=function(){const t=this._reporterState,e=t.obj;return t.obj={},e},o.prototype.leaveObject=function(t){const e=this._reporterState,i=e.obj;return e.obj=t,i},o.prototype.error=function(t){let e;const i=this._reporterState,n=t instanceof a;if(e=n?t:new a(i.path.map((function(t){return"["+JSON.stringify(t)+"]"})).join(""),t.message||t,t.stack),!i.options.partial)throw e;return n||i.errors.push(e),e},o.prototype.wrapResult=function(t){const e=this._reporterState;return e.options.partial?{result:this.isError(t)?null:t,errors:e.errors}:t},s(a,Error),a.prototype.rethrow=function(t){if(this.message=t+" at: "+(this.path||"(shallow)"),Error.captureStackTrace&&Error.captureStackTrace(this,a),!this.stack)try{throw new Error(this.message)}catch(t){this.stack=t.stack}return this}})),r.register("8kHXB",(function(e,i){var n,s;t(e.exports,"DecoderBuffer",(()=>n),(t=>n=t)),t(e.exports,"EncoderBuffer",(()=>s),(t=>s=t));var o=r("kDUq9"),a=r("a8N2B").Reporter,h=r("2IRFC").Buffer;function l(t,e){a.call(this,e),h.isBuffer(t)?(this.base=t,this.offset=0,this.length=t.length):this.error("Input not Buffer")}function u(t,e){if(Array.isArray(t))this.length=0,this.value=t.map((function(t){return u.isEncoderBuffer(t)||(t=new u(t,e)),this.length+=t.length,t}),this);else if("number"==typeof t){if(!(0<=t&&t<=255))return e.error("non-byte EncoderBuffer value");this.value=t,this.length=1}else if("string"==typeof t)this.value=t,this.length=h.byteLength(t);else{if(!h.isBuffer(t))return e.error("Unsupported type: "+typeof t);this.value=t,this.length=t.length}}o(l,a),n=l,l.isDecoderBuffer=function(t){if(t instanceof l)return!0;return"object"==typeof t&&h.isBuffer(t.base)&&"DecoderBuffer"===t.constructor.name&&"number"==typeof t.offset&&"number"==typeof t.length&&"function"==typeof t.save&&"function"==typeof t.restore&&"function"==typeof t.isEmpty&&"function"==typeof t.readUInt8&&"function"==typeof t.skip&&"function"==typeof t.raw},l.prototype.save=function(){return{offset:this.offset,reporter:a.prototype.save.call(this)}},l.prototype.restore=function(t){const e=new l(this.base);return e.offset=t.offset,e.length=this.offset,this.offset=t.offset,a.prototype.restore.call(this,t.reporter),e},l.prototype.isEmpty=function(){return this.offset===this.length},l.prototype.readUInt8=function(t){return this.offset+1<=this.length?this.base.readUInt8(this.offset++,!0):this.error(t||"DecoderBuffer overrun")},l.prototype.skip=function(t,e){if(!(this.offset+t<=this.length))return this.error(e||"DecoderBuffer overrun");const i=new l(this.base);return i._reporterState=this._reporterState,i.offset=this.offset,i.length=this.offset+t,this.offset+=t,i},l.prototype.raw=function(t){return this.base.slice(t?t.offset:this.offset,this.length)},s=u,u.isEncoderBuffer=function(t){if(t instanceof u)return!0;return"object"==typeof t&&"EncoderBuffer"===t.constructor.name&&"number"==typeof t.length&&"function"==typeof t.join},u.prototype.join=function(t,e){return t||(t=h.alloc(this.length)),e||(e=0),0===this.length||(Array.isArray(this.value)?this.value.forEach((function(i){i.join(t,e),e+=i.length})):("number"==typeof this.value?t[e]=this.value:"string"==typeof this.value?t.write(this.value,e):h.isBuffer(this.value)&&this.value.copy(t,e),e+=this.length)),t}})),r.register("lLun9",(function(e,i){var n,r,s,o;function a(t){const e={};return Object.keys(t).forEach((function(i){(0|i)==i&&(i|=0);const n=t[i];e[n]=i})),e}t(e.exports,"tagClass",(()=>n),(t=>n=t)),t(e.exports,"tagClassByName",(()=>r),(t=>r=t)),t(e.exports,"tag",(()=>s),(t=>s=t)),t(e.exports,"tagByName",(()=>o),(t=>o=t)),r=a(n={0:"universal",1:"application",2:"context",3:"private"}),o=a(s={0:"end",1:"bool",2:"int",3:"bitstr",4:"octstr",5:"null_",6:"objid",7:"objDesc",8:"external",9:"real",10:"enum",11:"embed",12:"utf8str",13:"relativeOid",16:"seq",17:"set",18:"numstr",19:"printstr",20:"t61str",21:"videostr",22:"ia5str",23:"utctime",24:"gentime",25:"graphstr",26:"iso646str",27:"genstr",28:"unistr",29:"charstr",30:"bmpstr"})})),r.register("imYze",(function(t,e){var i=r("kDUq9"),n=r("7zVBv");function s(t){n.call(this,t),this.enc="pem"}i(s,n),t.exports=s,s.prototype.encode=function(t,e){const i=n.prototype.encode.call(this,t).toString("base64"),r=["-----BEGIN "+e.label+"-----"];for(let t=0;t<i.length;t+=64)r.push(i.slice(t,t+64));return r.push("-----END "+e.label+"-----"),r.join("\n")}})),r.register("7FEba",(function(t,e){const i=t.exports;i.der=r("e5n55"),i.pem=r("3IjwG")})),r.register("e5n55",(function(t,e){var i=r("kDUq9"),n=r("jw5EG"),s=r("8kHXB").DecoderBuffer,o=r("e4QRY"),a=r("lLun9");function h(t){this.enc="der",this.name=t.name,this.entity=t,this.tree=new l,this.tree._init(t.body)}function l(t){o.call(this,"der",t)}function u(t,e){let i=t.readUInt8(e);if(t.isError(i))return i;const n=a.tagClass[i>>6],r=0==(32&i);if(31==(31&i)){let n=i;for(i=0;128==(128&n);){if(n=t.readUInt8(e),t.isError(n))return n;i<<=7,i|=127&n}}else i&=31;return{cls:n,primitive:r,tag:i,tagStr:a.tag[i]}}function c(t,e,i){let n=t.readUInt8(i);if(t.isError(n))return n;if(!e&&128===n)return null;if(0==(128&n))return n;const r=127&n;if(r>4)return t.error("length octect is too long");n=0;for(let e=0;e<r;e++){n<<=8;const e=t.readUInt8(i);if(t.isError(e))return e;n|=e}return n}t.exports=h,h.prototype.decode=function(t,e){return s.isDecoderBuffer(t)||(t=new s(t,e)),this.tree._decode(t,e)},i(l,o),l.prototype._peekTag=function(t,e,i){if(t.isEmpty())return!1;const n=t.save(),r=u(t,'Failed to peek tag: "'+e+'"');return t.isError(r)?r:(t.restore(n),r.tag===e||r.tagStr===e||r.tagStr+"of"===e||i)},l.prototype._decodeTag=function(t,e,i){const n=u(t,'Failed to decode tag of "'+e+'"');if(t.isError(n))return n;let r=c(t,n.primitive,'Failed to get length of "'+e+'"');if(t.isError(r))return r;if(!i&&n.tag!==e&&n.tagStr!==e&&n.tagStr+"of"!==e)return t.error('Failed to match tag: "'+e+'"');if(n.primitive||null!==r)return t.skip(r,'Failed to match body of: "'+e+'"');const s=t.save(),o=this._skipUntilEnd(t,'Failed to skip indefinite length body: "'+this.tag+'"');return t.isError(o)?o:(r=t.offset-s.offset,t.restore(s),t.skip(r,'Failed to match body of: "'+e+'"'))},l.prototype._skipUntilEnd=function(t,e){for(;;){const i=u(t,e);if(t.isError(i))return i;const n=c(t,i.primitive,e);if(t.isError(n))return n;let r;if(r=i.primitive||null!==n?t.skip(n):this._skipUntilEnd(t,e),t.isError(r))return r;if("end"===i.tagStr)break}},l.prototype._decodeList=function(t,e,i,n){const r=[];for(;!t.isEmpty();){const e=this._peekTag(t,"end");if(t.isError(e))return e;const s=i.decode(t,"der",n);if(t.isError(s)&&e)break;r.push(s)}return r},l.prototype._decodeStr=function(t,e){if("bitstr"===e){const e=t.readUInt8();return t.isError(e)?e:{unused:e,data:t.raw()}}if("bmpstr"===e){const e=t.raw();if(e.length%2==1)return t.error("Decoding of string type: bmpstr length mismatch");let i="";for(let t=0;t<e.length/2;t++)i+=String.fromCharCode(e.readUInt16BE(2*t));return i}if("numstr"===e){const e=t.raw().toString("ascii");return this._isNumstr(e)?e:t.error("Decoding of string type: numstr unsupported characters")}if("octstr"===e)return t.raw();if("objDesc"===e)return t.raw();if("printstr"===e){const e=t.raw().toString("ascii");return this._isPrintstr(e)?e:t.error("Decoding of string type: printstr unsupported characters")}return/str$/.test(e)?t.raw().toString():t.error("Decoding of string type: "+e+" unsupported")},l.prototype._decodeObjid=function(t,e,i){let n;const r=[];let s=0,o=0;for(;!t.isEmpty();)o=t.readUInt8(),s<<=7,s|=127&o,0==(128&o)&&(r.push(s),s=0);128&o&&r.push(s);const a=r[0]/40|0,h=r[0]%40;if(n=i?r:[a,h].concat(r.slice(1)),e){let t=e[n.join(" ")];void 0===t&&(t=e[n.join(".")]),void 0!==t&&(n=t)}return n},l.prototype._decodeTime=function(t,e){const i=t.raw().toString();let n,r,s,o,a,h;if("gentime"===e)n=0|i.slice(0,4),r=0|i.slice(4,6),s=0|i.slice(6,8),o=0|i.slice(8,10),a=0|i.slice(10,12),h=0|i.slice(12,14);else{if("utctime"!==e)return t.error("Decoding "+e+" time is not supported yet");n=0|i.slice(0,2),r=0|i.slice(2,4),s=0|i.slice(4,6),o=0|i.slice(6,8),a=0|i.slice(8,10),h=0|i.slice(10,12),n=n<70?2e3+n:1900+n}return Date.UTC(n,r-1,s,o,a,h,0)},l.prototype._decodeNull=function(){return null},l.prototype._decodeBool=function(t){const e=t.readUInt8();return t.isError(e)?e:0!==e},l.prototype._decodeInt=function(t,e){const i=t.raw();let r=new n(i);return e&&(r=e[r.toString(10)]||r),r},l.prototype._use=function(t,e){return"function"==typeof t&&(t=t(e)),t._getDecoder("der").tree}})),r.register("3IjwG",(function(t,e){var i=r("kDUq9"),n=r("2IRFC").Buffer,s=r("e5n55");function o(t){s.call(this,t),this.enc="pem"}i(o,s),t.exports=o,o.prototype.decode=function(t,e){const i=t.toString().split(/[\r\n]+/g),r=e.label.toUpperCase(),o=/^-----(BEGIN|END) ([^-]+)-----$/;let a=-1,h=-1;for(let t=0;t<i.length;t++){const e=i[t].match(o);if(null!==e&&e[2]===r){if(-1!==a){if("END"!==e[1])break;h=t;break}if("BEGIN"!==e[1])break;a=t}}if(-1===a||-1===h)throw new Error("PEM section not found for: "+r);const l=i.slice(a+1,h).join("");l.replace(/[^a-z0-9+/=]+/gi,"");const u=n.from(l,"base64");return s.prototype.decode.call(this,u,e)}})),r.register("9cbuU",(function(t,e){const i=t.exports;i.Reporter=r("a8N2B").Reporter,i.DecoderBuffer=r("8kHXB").DecoderBuffer,i.EncoderBuffer=r("8kHXB").EncoderBuffer,i.Node=r("e4QRY")})),r.register("4fob9",(function(t,e){const i=t.exports;i._reverse=function(t){const e={};return Object.keys(t).forEach((function(i){(0|i)==i&&(i|=0);const n=t[i];e[n]=i})),e},i.der=r("lLun9")})),r.register("8Ji0j",(function(t,e){var i=r("5EejX"),n=i.define("Time",(function(){this.choice({utcTime:this.utctime(),generalTime:this.gentime()})})),s=i.define("AttributeTypeValue",(function(){this.seq().obj(this.key("type").objid(),this.key("value").any())})),o=i.define("AlgorithmIdentifier",(function(){this.seq().obj(this.key("algorithm").objid(),this.key("parameters").optional(),this.key("curve").objid().optional())})),a=i.define("SubjectPublicKeyInfo",(function(){this.seq().obj(this.key("algorithm").use(o),this.key("subjectPublicKey").bitstr())})),h=i.define("RelativeDistinguishedName",(function(){this.setof(s)})),l=i.define("RDNSequence",(function(){this.seqof(h)})),u=i.define("Name",(function(){this.choice({rdnSequence:this.use(l)})})),c=i.define("Validity",(function(){this.seq().obj(this.key("notBefore").use(n),this.key("notAfter").use(n))})),d=i.define("Extension",(function(){this.seq().obj(this.key("extnID").objid(),this.key("critical").bool().def(!1),this.key("extnValue").octstr())})),f=i.define("TBSCertificate",(function(){this.seq().obj(this.key("version").explicit(0).int().optional(),this.key("serialNumber").int(),this.key("signature").use(o),this.key("issuer").use(u),this.key("validity").use(c),this.key("subject").use(u),this.key("subjectPublicKeyInfo").use(a),this.key("issuerUniqueID").implicit(1).bitstr().optional(),this.key("subjectUniqueID").implicit(2).bitstr().optional(),this.key("extensions").explicit(3).seqof(d).optional())})),p=i.define("X509Certificate",(function(){this.seq().obj(this.key("tbsCertificate").use(f),this.key("signatureAlgorithm").use(o),this.key("signatureValue").bitstr())}));t.exports=p})),r.register("26Yod",(function(t,e){t.exports=JSON.parse('{"2.16.840.1.101.3.4.1.1":"aes-128-ecb","2.16.840.1.101.3.4.1.2":"aes-128-cbc","2.16.840.1.101.3.4.1.3":"aes-128-ofb","2.16.840.1.101.3.4.1.4":"aes-128-cfb","2.16.840.1.101.3.4.1.21":"aes-192-ecb","2.16.840.1.101.3.4.1.22":"aes-192-cbc","2.16.840.1.101.3.4.1.23":"aes-192-ofb","2.16.840.1.101.3.4.1.24":"aes-192-cfb","2.16.840.1.101.3.4.1.41":"aes-256-ecb","2.16.840.1.101.3.4.1.42":"aes-256-cbc","2.16.840.1.101.3.4.1.43":"aes-256-ofb","2.16.840.1.101.3.4.1.44":"aes-256-cfb"}')})),r.register("gfjuC",(function(t,e){var i=/Proc-Type: 4,ENCRYPTED[\n\r]+DEK-Info: AES-((?:128)|(?:192)|(?:256))-CBC,([0-9A-H]+)[\n\r]+([0-9A-z\n\r+/=]+)[\n\r]+/m,n=/^-----BEGIN ((?:.*? KEY)|CERTIFICATE)-----/m,s=/^-----BEGIN ((?:.*? KEY)|CERTIFICATE)-----([0-9A-z\n\r+/=]+)-----END \1-----$/m,o=r("8zMGp"),a=r("glytb"),h=r("emGH0").Buffer;t.exports=function(t,e){var r,l=t.toString(),u=l.match(i);if(u){var c="aes"+u[1],d=h.from(u[2],"hex"),f=h.from(u[3].replace(/[\r\n]/g,""),"base64"),p=o(e,d.slice(0,8),parseInt(u[1],10)).key,m=[],g=a.createDecipheriv(c,p,d);m.push(g.update(f)),m.push(g.final()),r=h.concat(m)}else{var v=l.match(s);r=h.from(v[2].replace(/[\r\n]/g,""),"base64")}return{tag:l.match(n)[1],data:r}}})),r.register("9GQqz",(function(t,e){t.exports=JSON.parse('{"1.3.132.0.10":"secp256k1","1.3.132.0.33":"p224","1.2.840.10045.3.1.1":"p192","1.2.840.10045.3.1.7":"p256","1.3.132.0.34":"p384","1.3.132.0.35":"p521"}')})),r.register("gXEUI",(function(t,e){var i=r("emGH0").Buffer,n=r("fSW4W"),s=r("lcwES").ec,o=r("istSy"),a=r("9GQqz");function h(t,e){if(t.cmpn(0)<=0)throw new Error("invalid sig");if(t.cmp(e)>=e)throw new Error("invalid sig")}t.exports=function(t,e,r,l,u){var c=o(r);if("ec"===c.type){if("ecdsa"!==l&&"ecdsa/rsa"!==l)throw new Error("wrong public key type");return function(t,e,i){var n=a[i.data.algorithm.curve.join(".")];if(!n)throw new Error("unknown curve "+i.data.algorithm.curve.join("."));var r=new s(n),o=i.data.subjectPrivateKey.data;return r.verify(e,t,o)}(t,e,c)}if("dsa"===c.type){if("dsa"!==l)throw new Error("wrong public key type");return function(t,e,i){var r=i.data.p,s=i.data.q,a=i.data.g,l=i.data.pub_key,u=o.signature.decode(t,"der"),c=u.s,d=u.r;h(c,s),h(d,s);var f=n.mont(r),p=c.invm(s),m=a.toRed(f).redPow(new n(e).mul(p).mod(s)).fromRed().mul(l.toRed(f).redPow(d.mul(p).mod(s)).fromRed()).mod(r).mod(s);return 0===m.cmp(d)}(t,e,c)}if("rsa"!==l&&"ecdsa/rsa"!==l)throw new Error("wrong public key type");e=i.concat([u,e]);for(var d=c.modulus.byteLength(),f=[1],p=0;e.length+f.length+2<d;)f.push(255),p++;f.push(0);for(var m=-1;++m<e.length;)f.push(e[m]);f=i.from(f);var g=n.mont(c.modulus);t=(t=new n(t).toRed(g)).redPow(new n(c.publicExponent)),t=i.from(t.fromRed().toArray());var v=p<8?1:0;for(d=Math.min(t.length,f.length),t.length!==f.length&&(v=1),m=-1;++m<d;)v|=t[m]^f[m];return 0===v}})),r.register("ecERa",(function(t,e){var i=r("hwHAp").Buffer,n=r("lcwES"),s=r("dk8Eg");t.exports=function(t){return new a(t)};var o={secp256k1:{name:"secp256k1",byteLength:32},secp224r1:{name:"p224",byteLength:28},prime256v1:{name:"p256",byteLength:32},prime192v1:{name:"p192",byteLength:24},ed25519:{name:"ed25519",byteLength:32},secp384r1:{name:"p384",byteLength:48},secp521r1:{name:"p521",byteLength:66}};function a(t){this.curveType=o[t],this.curveType||(this.curveType={name:t}),this.curve=new n.ec(this.curveType.name),this.keys=void 0}function h(t,e,n){Array.isArray(t)||(t=t.toArray());var r=new i(t);if(n&&r.length<n){var s=new i(n-r.length);s.fill(0),r=i.concat([s,r])}return e?r.toString(e):r}o.p224=o.secp224r1,o.p256=o.secp256r1=o.prime256v1,o.p192=o.secp192r1=o.prime192v1,o.p384=o.secp384r1,o.p521=o.secp521r1,a.prototype.generateKeys=function(t,e){return this.keys=this.curve.genKeyPair(),this.getPublicKey(t,e)},a.prototype.computeSecret=function(t,e,n){return e=e||"utf8",i.isBuffer(t)||(t=new i(t,e)),h(this.curve.keyFromPublic(t).getPublic().mul(this.keys.getPrivate()).getX(),n,this.curveType.byteLength)},a.prototype.getPublicKey=function(t,e){var i=this.keys.getPublic("compressed"===e,!0);return"hybrid"===e&&(i[i.length-1]%2?i[0]=7:i[0]=6),h(i,t)},a.prototype.getPrivateKey=function(t){return h(this.keys.getPrivate(),t)},a.prototype.setPublicKey=function(t,e){return e=e||"utf8",i.isBuffer(t)||(t=new i(t,e)),this.keys._importPublic(t),this},a.prototype.setPrivateKey=function(t,e){e=e||"utf8",i.isBuffer(t)||(t=new i(t,e));var n=new s(t);return n=n.toString(16),this.keys=this.curve.genKeyPair(),this.keys._importPrivate(n),this}})),r.register("dk8Eg",(function(t,e){!function(t,e){function i(t,e){if(!t)throw new Error(e||"Assertion failed")}function n(t,e){t.super_=e;var i=function(){};i.prototype=e.prototype,t.prototype=new i,t.prototype.constructor=t}function s(t,e,i){if(s.isBN(t))return t;this.negative=0,this.words=null,this.length=0,this.red=null,null!==t&&("le"!==e&&"be"!==e||(i=e,e=10),this._init(t||0,e||10,i||"be"))}var o;"object"==typeof t?t.exports=s:e.BN=s,s.BN=s,s.wordSize=26;try{o="undefined"!=typeof window&&void 0!==window.Buffer?window.Buffer:r("lEqQD").Buffer}catch(t){}function a(t,e){var i=t.charCodeAt(e);return i>=65&&i<=70?i-55:i>=97&&i<=102?i-87:i-48&15}function h(t,e,i){var n=a(t,i);return i-1>=e&&(n|=a(t,i-1)<<4),n}function l(t,e,i,n){for(var r=0,s=Math.min(t.length,i),o=e;o<s;o++){var a=t.charCodeAt(o)-48;r*=n,r+=a>=49?a-49+10:a>=17?a-17+10:a}return r}s.isBN=function(t){return t instanceof s||null!==t&&"object"==typeof t&&t.constructor.wordSize===s.wordSize&&Array.isArray(t.words)},s.max=function(t,e){return t.cmp(e)>0?t:e},s.min=function(t,e){return t.cmp(e)<0?t:e},s.prototype._init=function(t,e,n){if("number"==typeof t)return this._initNumber(t,e,n);if("object"==typeof t)return this._initArray(t,e,n);"hex"===e&&(e=16),i(e===(0|e)&&e>=2&&e<=36);var r=0;"-"===(t=t.toString().replace(/\s+/g,""))[0]&&(r++,this.negative=1),r<t.length&&(16===e?this._parseHex(t,r,n):(this._parseBase(t,e,r),"le"===n&&this._initArray(this.toArray(),e,n)))},s.prototype._initNumber=function(t,e,n){t<0&&(this.negative=1,t=-t),t<67108864?(this.words=[67108863&t],this.length=1):t<4503599627370496?(this.words=[67108863&t,t/67108864&67108863],this.length=2):(i(t<9007199254740992),this.words=[67108863&t,t/67108864&67108863,1],this.length=3),"le"===n&&this._initArray(this.toArray(),e,n)},s.prototype._initArray=function(t,e,n){if(i("number"==typeof t.length),t.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(t.length/3),this.words=new Array(this.length);for(var r=0;r<this.length;r++)this.words[r]=0;var s,o,a=0;if("be"===n)for(r=t.length-1,s=0;r>=0;r-=3)o=t[r]|t[r-1]<<8|t[r-2]<<16,this.words[s]|=o<<a&67108863,this.words[s+1]=o>>>26-a&67108863,(a+=24)>=26&&(a-=26,s++);else if("le"===n)for(r=0,s=0;r<t.length;r+=3)o=t[r]|t[r+1]<<8|t[r+2]<<16,this.words[s]|=o<<a&67108863,this.words[s+1]=o>>>26-a&67108863,(a+=24)>=26&&(a-=26,s++);return this.strip()},s.prototype._parseHex=function(t,e,i){this.length=Math.ceil((t.length-e)/6),this.words=new Array(this.length);for(var n=0;n<this.length;n++)this.words[n]=0;var r,s=0,o=0;if("be"===i)for(n=t.length-1;n>=e;n-=2)r=h(t,e,n)<<s,this.words[o]|=67108863&r,s>=18?(s-=18,o+=1,this.words[o]|=r>>>26):s+=8;else for(n=(t.length-e)%2==0?e+1:e;n<t.length;n+=2)r=h(t,e,n)<<s,this.words[o]|=67108863&r,s>=18?(s-=18,o+=1,this.words[o]|=r>>>26):s+=8;this.strip()},s.prototype._parseBase=function(t,e,i){this.words=[0],this.length=1;for(var n=0,r=1;r<=67108863;r*=e)n++;n--,r=r/e|0;for(var s=t.length-i,o=s%n,a=Math.min(s,s-o)+i,h=0,u=i;u<a;u+=n)h=l(t,u,u+n,e),this.imuln(r),this.words[0]+h<67108864?this.words[0]+=h:this._iaddn(h);if(0!==o){var c=1;for(h=l(t,u,t.length,e),u=0;u<o;u++)c*=e;this.imuln(c),this.words[0]+h<67108864?this.words[0]+=h:this._iaddn(h)}this.strip()},s.prototype.copy=function(t){t.words=new Array(this.length);for(var e=0;e<this.length;e++)t.words[e]=this.words[e];t.length=this.length,t.negative=this.negative,t.red=this.red},s.prototype.clone=function(){var t=new s(null);return this.copy(t),t},s.prototype._expand=function(t){for(;this.length<t;)this.words[this.length++]=0;return this},s.prototype.strip=function(){for(;this.length>1&&0===this.words[this.length-1];)this.length--;return this._normSign()},s.prototype._normSign=function(){return 1===this.length&&0===this.words[0]&&(this.negative=0),this},s.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var u=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],c=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],d=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];function f(t,e,i){i.negative=e.negative^t.negative;var n=t.length+e.length|0;i.length=n,n=n-1|0;var r=0|t.words[0],s=0|e.words[0],o=r*s,a=67108863&o,h=o/67108864|0;i.words[0]=a;for(var l=1;l<n;l++){for(var u=h>>>26,c=67108863&h,d=Math.min(l,e.length-1),f=Math.max(0,l-t.length+1);f<=d;f++){var p=l-f|0;u+=(o=(r=0|t.words[p])*(s=0|e.words[f])+c)/67108864|0,c=67108863&o}i.words[l]=0|c,h=0|u}return 0!==h?i.words[l]=0|h:i.length--,i.strip()}s.prototype.toString=function(t,e){var n;if(e=0|e||1,16===(t=t||10)||"hex"===t){n="";for(var r=0,s=0,o=0;o<this.length;o++){var a=this.words[o],h=(16777215&(a<<r|s)).toString(16);n=0!==(s=a>>>24-r&16777215)||o!==this.length-1?u[6-h.length]+h+n:h+n,(r+=2)>=26&&(r-=26,o--)}for(0!==s&&(n=s.toString(16)+n);n.length%e!=0;)n="0"+n;return 0!==this.negative&&(n="-"+n),n}if(t===(0|t)&&t>=2&&t<=36){var l=c[t],f=d[t];n="";var p=this.clone();for(p.negative=0;!p.isZero();){var m=p.modn(f).toString(t);n=(p=p.idivn(f)).isZero()?m+n:u[l-m.length]+m+n}for(this.isZero()&&(n="0"+n);n.length%e!=0;)n="0"+n;return 0!==this.negative&&(n="-"+n),n}i(!1,"Base should be between 2 and 36")},s.prototype.toNumber=function(){var t=this.words[0];return 2===this.length?t+=67108864*this.words[1]:3===this.length&&1===this.words[2]?t+=4503599627370496+67108864*this.words[1]:this.length>2&&i(!1,"Number can only safely store up to 53 bits"),0!==this.negative?-t:t},s.prototype.toJSON=function(){return this.toString(16)},s.prototype.toBuffer=function(t,e){return i(void 0!==o),this.toArrayLike(o,t,e)},s.prototype.toArray=function(t,e){return this.toArrayLike(Array,t,e)},s.prototype.toArrayLike=function(t,e,n){var r=this.byteLength(),s=n||Math.max(1,r);i(r<=s,"byte array longer than desired length"),i(s>0,"Requested array length <= 0"),this.strip();var o,a,h="le"===e,l=new t(s),u=this.clone();if(h){for(a=0;!u.isZero();a++)o=u.andln(255),u.iushrn(8),l[a]=o;for(;a<s;a++)l[a]=0}else{for(a=0;a<s-r;a++)l[a]=0;for(a=0;!u.isZero();a++)o=u.andln(255),u.iushrn(8),l[s-a-1]=o}return l},Math.clz32?s.prototype._countBits=function(t){return 32-Math.clz32(t)}:s.prototype._countBits=function(t){var e=t,i=0;return e>=4096&&(i+=13,e>>>=13),e>=64&&(i+=7,e>>>=7),e>=8&&(i+=4,e>>>=4),e>=2&&(i+=2,e>>>=2),i+e},s.prototype._zeroBits=function(t){if(0===t)return 26;var e=t,i=0;return 0==(8191&e)&&(i+=13,e>>>=13),0==(127&e)&&(i+=7,e>>>=7),0==(15&e)&&(i+=4,e>>>=4),0==(3&e)&&(i+=2,e>>>=2),0==(1&e)&&i++,i},s.prototype.bitLength=function(){var t=this.words[this.length-1],e=this._countBits(t);return 26*(this.length-1)+e},s.prototype.zeroBits=function(){if(this.isZero())return 0;for(var t=0,e=0;e<this.length;e++){var i=this._zeroBits(this.words[e]);if(t+=i,26!==i)break}return t},s.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},s.prototype.toTwos=function(t){return 0!==this.negative?this.abs().inotn(t).iaddn(1):this.clone()},s.prototype.fromTwos=function(t){return this.testn(t-1)?this.notn(t).iaddn(1).ineg():this.clone()},s.prototype.isNeg=function(){return 0!==this.negative},s.prototype.neg=function(){return this.clone().ineg()},s.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},s.prototype.iuor=function(t){for(;this.length<t.length;)this.words[this.length++]=0;for(var e=0;e<t.length;e++)this.words[e]=this.words[e]|t.words[e];return this.strip()},s.prototype.ior=function(t){return i(0==(this.negative|t.negative)),this.iuor(t)},s.prototype.or=function(t){return this.length>t.length?this.clone().ior(t):t.clone().ior(this)},s.prototype.uor=function(t){return this.length>t.length?this.clone().iuor(t):t.clone().iuor(this)},s.prototype.iuand=function(t){var e;e=this.length>t.length?t:this;for(var i=0;i<e.length;i++)this.words[i]=this.words[i]&t.words[i];return this.length=e.length,this.strip()},s.prototype.iand=function(t){return i(0==(this.negative|t.negative)),this.iuand(t)},s.prototype.and=function(t){return this.length>t.length?this.clone().iand(t):t.clone().iand(this)},s.prototype.uand=function(t){return this.length>t.length?this.clone().iuand(t):t.clone().iuand(this)},s.prototype.iuxor=function(t){var e,i;this.length>t.length?(e=this,i=t):(e=t,i=this);for(var n=0;n<i.length;n++)this.words[n]=e.words[n]^i.words[n];if(this!==e)for(;n<e.length;n++)this.words[n]=e.words[n];return this.length=e.length,this.strip()},s.prototype.ixor=function(t){return i(0==(this.negative|t.negative)),this.iuxor(t)},s.prototype.xor=function(t){return this.length>t.length?this.clone().ixor(t):t.clone().ixor(this)},s.prototype.uxor=function(t){return this.length>t.length?this.clone().iuxor(t):t.clone().iuxor(this)},s.prototype.inotn=function(t){i("number"==typeof t&&t>=0);var e=0|Math.ceil(t/26),n=t%26;this._expand(e),n>0&&e--;for(var r=0;r<e;r++)this.words[r]=67108863&~this.words[r];return n>0&&(this.words[r]=~this.words[r]&67108863>>26-n),this.strip()},s.prototype.notn=function(t){return this.clone().inotn(t)},s.prototype.setn=function(t,e){i("number"==typeof t&&t>=0);var n=t/26|0,r=t%26;return this._expand(n+1),this.words[n]=e?this.words[n]|1<<r:this.words[n]&~(1<<r),this.strip()},s.prototype.iadd=function(t){var e,i,n;if(0!==this.negative&&0===t.negative)return this.negative=0,e=this.isub(t),this.negative^=1,this._normSign();if(0===this.negative&&0!==t.negative)return t.negative=0,e=this.isub(t),t.negative=1,e._normSign();this.length>t.length?(i=this,n=t):(i=t,n=this);for(var r=0,s=0;s<n.length;s++)e=(0|i.words[s])+(0|n.words[s])+r,this.words[s]=67108863&e,r=e>>>26;for(;0!==r&&s<i.length;s++)e=(0|i.words[s])+r,this.words[s]=67108863&e,r=e>>>26;if(this.length=i.length,0!==r)this.words[this.length]=r,this.length++;else if(i!==this)for(;s<i.length;s++)this.words[s]=i.words[s];return this},s.prototype.add=function(t){var e;return 0!==t.negative&&0===this.negative?(t.negative=0,e=this.sub(t),t.negative^=1,e):0===t.negative&&0!==this.negative?(this.negative=0,e=t.sub(this),this.negative=1,e):this.length>t.length?this.clone().iadd(t):t.clone().iadd(this)},s.prototype.isub=function(t){if(0!==t.negative){t.negative=0;var e=this.iadd(t);return t.negative=1,e._normSign()}if(0!==this.negative)return this.negative=0,this.iadd(t),this.negative=1,this._normSign();var i,n,r=this.cmp(t);if(0===r)return this.negative=0,this.length=1,this.words[0]=0,this;r>0?(i=this,n=t):(i=t,n=this);for(var s=0,o=0;o<n.length;o++)s=(e=(0|i.words[o])-(0|n.words[o])+s)>>26,this.words[o]=67108863&e;for(;0!==s&&o<i.length;o++)s=(e=(0|i.words[o])+s)>>26,this.words[o]=67108863&e;if(0===s&&o<i.length&&i!==this)for(;o<i.length;o++)this.words[o]=i.words[o];return this.length=Math.max(this.length,o),i!==this&&(this.negative=1),this.strip()},s.prototype.sub=function(t){return this.clone().isub(t)};var p=function(t,e,i){var n,r,s,o=t.words,a=e.words,h=i.words,l=0,u=0|o[0],c=8191&u,d=u>>>13,f=0|o[1],p=8191&f,m=f>>>13,g=0|o[2],v=8191&g,y=g>>>13,b=0|o[3],w=8191&b,_=b>>>13,M=0|o[4],x=8191&M,k=M>>>13,A=0|o[5],E=8191&A,S=A>>>13,T=0|o[6],I=8191&T,q=T>>>13,C=0|o[7],R=8191&C,D=C>>>13,L=0|o[8],N=8191&L,O=L>>>13,P=0|o[9],B=8191&P,U=P>>>13,F=0|a[0],j=8191&F,z=F>>>13,V=0|a[1],H=8191&V,W=V>>>13,K=0|a[2],G=8191&K,Q=K>>>13,Y=0|a[3],Z=8191&Y,$=Y>>>13,X=0|a[4],J=8191&X,tt=X>>>13,et=0|a[5],it=8191&et,nt=et>>>13,rt=0|a[6],st=8191&rt,ot=rt>>>13,at=0|a[7],ht=8191&at,lt=at>>>13,ut=0|a[8],ct=8191&ut,dt=ut>>>13,ft=0|a[9],pt=8191&ft,mt=ft>>>13;i.negative=t.negative^e.negative,i.length=19;var gt=(l+(n=Math.imul(c,j))|0)+((8191&(r=(r=Math.imul(c,z))+Math.imul(d,j)|0))<<13)|0;l=((s=Math.imul(d,z))+(r>>>13)|0)+(gt>>>26)|0,gt&=67108863,n=Math.imul(p,j),r=(r=Math.imul(p,z))+Math.imul(m,j)|0,s=Math.imul(m,z);var vt=(l+(n=n+Math.imul(c,H)|0)|0)+((8191&(r=(r=r+Math.imul(c,W)|0)+Math.imul(d,H)|0))<<13)|0;l=((s=s+Math.imul(d,W)|0)+(r>>>13)|0)+(vt>>>26)|0,vt&=67108863,n=Math.imul(v,j),r=(r=Math.imul(v,z))+Math.imul(y,j)|0,s=Math.imul(y,z),n=n+Math.imul(p,H)|0,r=(r=r+Math.imul(p,W)|0)+Math.imul(m,H)|0,s=s+Math.imul(m,W)|0;var yt=(l+(n=n+Math.imul(c,G)|0)|0)+((8191&(r=(r=r+Math.imul(c,Q)|0)+Math.imul(d,G)|0))<<13)|0;l=((s=s+Math.imul(d,Q)|0)+(r>>>13)|0)+(yt>>>26)|0,yt&=67108863,n=Math.imul(w,j),r=(r=Math.imul(w,z))+Math.imul(_,j)|0,s=Math.imul(_,z),n=n+Math.imul(v,H)|0,r=(r=r+Math.imul(v,W)|0)+Math.imul(y,H)|0,s=s+Math.imul(y,W)|0,n=n+Math.imul(p,G)|0,r=(r=r+Math.imul(p,Q)|0)+Math.imul(m,G)|0,s=s+Math.imul(m,Q)|0;var bt=(l+(n=n+Math.imul(c,Z)|0)|0)+((8191&(r=(r=r+Math.imul(c,$)|0)+Math.imul(d,Z)|0))<<13)|0;l=((s=s+Math.imul(d,$)|0)+(r>>>13)|0)+(bt>>>26)|0,bt&=67108863,n=Math.imul(x,j),r=(r=Math.imul(x,z))+Math.imul(k,j)|0,s=Math.imul(k,z),n=n+Math.imul(w,H)|0,r=(r=r+Math.imul(w,W)|0)+Math.imul(_,H)|0,s=s+Math.imul(_,W)|0,n=n+Math.imul(v,G)|0,r=(r=r+Math.imul(v,Q)|0)+Math.imul(y,G)|0,s=s+Math.imul(y,Q)|0,n=n+Math.imul(p,Z)|0,r=(r=r+Math.imul(p,$)|0)+Math.imul(m,Z)|0,s=s+Math.imul(m,$)|0;var wt=(l+(n=n+Math.imul(c,J)|0)|0)+((8191&(r=(r=r+Math.imul(c,tt)|0)+Math.imul(d,J)|0))<<13)|0;l=((s=s+Math.imul(d,tt)|0)+(r>>>13)|0)+(wt>>>26)|0,wt&=67108863,n=Math.imul(E,j),r=(r=Math.imul(E,z))+Math.imul(S,j)|0,s=Math.imul(S,z),n=n+Math.imul(x,H)|0,r=(r=r+Math.imul(x,W)|0)+Math.imul(k,H)|0,s=s+Math.imul(k,W)|0,n=n+Math.imul(w,G)|0,r=(r=r+Math.imul(w,Q)|0)+Math.imul(_,G)|0,s=s+Math.imul(_,Q)|0,n=n+Math.imul(v,Z)|0,r=(r=r+Math.imul(v,$)|0)+Math.imul(y,Z)|0,s=s+Math.imul(y,$)|0,n=n+Math.imul(p,J)|0,r=(r=r+Math.imul(p,tt)|0)+Math.imul(m,J)|0,s=s+Math.imul(m,tt)|0;var _t=(l+(n=n+Math.imul(c,it)|0)|0)+((8191&(r=(r=r+Math.imul(c,nt)|0)+Math.imul(d,it)|0))<<13)|0;l=((s=s+Math.imul(d,nt)|0)+(r>>>13)|0)+(_t>>>26)|0,_t&=67108863,n=Math.imul(I,j),r=(r=Math.imul(I,z))+Math.imul(q,j)|0,s=Math.imul(q,z),n=n+Math.imul(E,H)|0,r=(r=r+Math.imul(E,W)|0)+Math.imul(S,H)|0,s=s+Math.imul(S,W)|0,n=n+Math.imul(x,G)|0,r=(r=r+Math.imul(x,Q)|0)+Math.imul(k,G)|0,s=s+Math.imul(k,Q)|0,n=n+Math.imul(w,Z)|0,r=(r=r+Math.imul(w,$)|0)+Math.imul(_,Z)|0,s=s+Math.imul(_,$)|0,n=n+Math.imul(v,J)|0,r=(r=r+Math.imul(v,tt)|0)+Math.imul(y,J)|0,s=s+Math.imul(y,tt)|0,n=n+Math.imul(p,it)|0,r=(r=r+Math.imul(p,nt)|0)+Math.imul(m,it)|0,s=s+Math.imul(m,nt)|0;var Mt=(l+(n=n+Math.imul(c,st)|0)|0)+((8191&(r=(r=r+Math.imul(c,ot)|0)+Math.imul(d,st)|0))<<13)|0;l=((s=s+Math.imul(d,ot)|0)+(r>>>13)|0)+(Mt>>>26)|0,Mt&=67108863,n=Math.imul(R,j),r=(r=Math.imul(R,z))+Math.imul(D,j)|0,s=Math.imul(D,z),n=n+Math.imul(I,H)|0,r=(r=r+Math.imul(I,W)|0)+Math.imul(q,H)|0,s=s+Math.imul(q,W)|0,n=n+Math.imul(E,G)|0,r=(r=r+Math.imul(E,Q)|0)+Math.imul(S,G)|0,s=s+Math.imul(S,Q)|0,n=n+Math.imul(x,Z)|0,r=(r=r+Math.imul(x,$)|0)+Math.imul(k,Z)|0,s=s+Math.imul(k,$)|0,n=n+Math.imul(w,J)|0,r=(r=r+Math.imul(w,tt)|0)+Math.imul(_,J)|0,s=s+Math.imul(_,tt)|0,n=n+Math.imul(v,it)|0,r=(r=r+Math.imul(v,nt)|0)+Math.imul(y,it)|0,s=s+Math.imul(y,nt)|0,n=n+Math.imul(p,st)|0,r=(r=r+Math.imul(p,ot)|0)+Math.imul(m,st)|0,s=s+Math.imul(m,ot)|0;var xt=(l+(n=n+Math.imul(c,ht)|0)|0)+((8191&(r=(r=r+Math.imul(c,lt)|0)+Math.imul(d,ht)|0))<<13)|0;l=((s=s+Math.imul(d,lt)|0)+(r>>>13)|0)+(xt>>>26)|0,xt&=67108863,n=Math.imul(N,j),r=(r=Math.imul(N,z))+Math.imul(O,j)|0,s=Math.imul(O,z),n=n+Math.imul(R,H)|0,r=(r=r+Math.imul(R,W)|0)+Math.imul(D,H)|0,s=s+Math.imul(D,W)|0,n=n+Math.imul(I,G)|0,r=(r=r+Math.imul(I,Q)|0)+Math.imul(q,G)|0,s=s+Math.imul(q,Q)|0,n=n+Math.imul(E,Z)|0,r=(r=r+Math.imul(E,$)|0)+Math.imul(S,Z)|0,s=s+Math.imul(S,$)|0,n=n+Math.imul(x,J)|0,r=(r=r+Math.imul(x,tt)|0)+Math.imul(k,J)|0,s=s+Math.imul(k,tt)|0,n=n+Math.imul(w,it)|0,r=(r=r+Math.imul(w,nt)|0)+Math.imul(_,it)|0,s=s+Math.imul(_,nt)|0,n=n+Math.imul(v,st)|0,r=(r=r+Math.imul(v,ot)|0)+Math.imul(y,st)|0,s=s+Math.imul(y,ot)|0,n=n+Math.imul(p,ht)|0,r=(r=r+Math.imul(p,lt)|0)+Math.imul(m,ht)|0,s=s+Math.imul(m,lt)|0;var kt=(l+(n=n+Math.imul(c,ct)|0)|0)+((8191&(r=(r=r+Math.imul(c,dt)|0)+Math.imul(d,ct)|0))<<13)|0;l=((s=s+Math.imul(d,dt)|0)+(r>>>13)|0)+(kt>>>26)|0,kt&=67108863,n=Math.imul(B,j),r=(r=Math.imul(B,z))+Math.imul(U,j)|0,s=Math.imul(U,z),n=n+Math.imul(N,H)|0,r=(r=r+Math.imul(N,W)|0)+Math.imul(O,H)|0,s=s+Math.imul(O,W)|0,n=n+Math.imul(R,G)|0,r=(r=r+Math.imul(R,Q)|0)+Math.imul(D,G)|0,s=s+Math.imul(D,Q)|0,n=n+Math.imul(I,Z)|0,r=(r=r+Math.imul(I,$)|0)+Math.imul(q,Z)|0,s=s+Math.imul(q,$)|0,n=n+Math.imul(E,J)|0,r=(r=r+Math.imul(E,tt)|0)+Math.imul(S,J)|0,s=s+Math.imul(S,tt)|0,n=n+Math.imul(x,it)|0,r=(r=r+Math.imul(x,nt)|0)+Math.imul(k,it)|0,s=s+Math.imul(k,nt)|0,n=n+Math.imul(w,st)|0,r=(r=r+Math.imul(w,ot)|0)+Math.imul(_,st)|0,s=s+Math.imul(_,ot)|0,n=n+Math.imul(v,ht)|0,r=(r=r+Math.imul(v,lt)|0)+Math.imul(y,ht)|0,s=s+Math.imul(y,lt)|0,n=n+Math.imul(p,ct)|0,r=(r=r+Math.imul(p,dt)|0)+Math.imul(m,ct)|0,s=s+Math.imul(m,dt)|0;var At=(l+(n=n+Math.imul(c,pt)|0)|0)+((8191&(r=(r=r+Math.imul(c,mt)|0)+Math.imul(d,pt)|0))<<13)|0;l=((s=s+Math.imul(d,mt)|0)+(r>>>13)|0)+(At>>>26)|0,At&=67108863,n=Math.imul(B,H),r=(r=Math.imul(B,W))+Math.imul(U,H)|0,s=Math.imul(U,W),n=n+Math.imul(N,G)|0,r=(r=r+Math.imul(N,Q)|0)+Math.imul(O,G)|0,s=s+Math.imul(O,Q)|0,n=n+Math.imul(R,Z)|0,r=(r=r+Math.imul(R,$)|0)+Math.imul(D,Z)|0,s=s+Math.imul(D,$)|0,n=n+Math.imul(I,J)|0,r=(r=r+Math.imul(I,tt)|0)+Math.imul(q,J)|0,s=s+Math.imul(q,tt)|0,n=n+Math.imul(E,it)|0,r=(r=r+Math.imul(E,nt)|0)+Math.imul(S,it)|0,s=s+Math.imul(S,nt)|0,n=n+Math.imul(x,st)|0,r=(r=r+Math.imul(x,ot)|0)+Math.imul(k,st)|0,s=s+Math.imul(k,ot)|0,n=n+Math.imul(w,ht)|0,r=(r=r+Math.imul(w,lt)|0)+Math.imul(_,ht)|0,s=s+Math.imul(_,lt)|0,n=n+Math.imul(v,ct)|0,r=(r=r+Math.imul(v,dt)|0)+Math.imul(y,ct)|0,s=s+Math.imul(y,dt)|0;var Et=(l+(n=n+Math.imul(p,pt)|0)|0)+((8191&(r=(r=r+Math.imul(p,mt)|0)+Math.imul(m,pt)|0))<<13)|0;l=((s=s+Math.imul(m,mt)|0)+(r>>>13)|0)+(Et>>>26)|0,Et&=67108863,n=Math.imul(B,G),r=(r=Math.imul(B,Q))+Math.imul(U,G)|0,s=Math.imul(U,Q),n=n+Math.imul(N,Z)|0,r=(r=r+Math.imul(N,$)|0)+Math.imul(O,Z)|0,s=s+Math.imul(O,$)|0,n=n+Math.imul(R,J)|0,r=(r=r+Math.imul(R,tt)|0)+Math.imul(D,J)|0,s=s+Math.imul(D,tt)|0,n=n+Math.imul(I,it)|0,r=(r=r+Math.imul(I,nt)|0)+Math.imul(q,it)|0,s=s+Math.imul(q,nt)|0,n=n+Math.imul(E,st)|0,r=(r=r+Math.imul(E,ot)|0)+Math.imul(S,st)|0,s=s+Math.imul(S,ot)|0,n=n+Math.imul(x,ht)|0,r=(r=r+Math.imul(x,lt)|0)+Math.imul(k,ht)|0,s=s+Math.imul(k,lt)|0,n=n+Math.imul(w,ct)|0,r=(r=r+Math.imul(w,dt)|0)+Math.imul(_,ct)|0,s=s+Math.imul(_,dt)|0;var St=(l+(n=n+Math.imul(v,pt)|0)|0)+((8191&(r=(r=r+Math.imul(v,mt)|0)+Math.imul(y,pt)|0))<<13)|0;l=((s=s+Math.imul(y,mt)|0)+(r>>>13)|0)+(St>>>26)|0,St&=67108863,n=Math.imul(B,Z),r=(r=Math.imul(B,$))+Math.imul(U,Z)|0,s=Math.imul(U,$),n=n+Math.imul(N,J)|0,r=(r=r+Math.imul(N,tt)|0)+Math.imul(O,J)|0,s=s+Math.imul(O,tt)|0,n=n+Math.imul(R,it)|0,r=(r=r+Math.imul(R,nt)|0)+Math.imul(D,it)|0,s=s+Math.imul(D,nt)|0,n=n+Math.imul(I,st)|0,r=(r=r+Math.imul(I,ot)|0)+Math.imul(q,st)|0,s=s+Math.imul(q,ot)|0,n=n+Math.imul(E,ht)|0,r=(r=r+Math.imul(E,lt)|0)+Math.imul(S,ht)|0,s=s+Math.imul(S,lt)|0,n=n+Math.imul(x,ct)|0,r=(r=r+Math.imul(x,dt)|0)+Math.imul(k,ct)|0,s=s+Math.imul(k,dt)|0;var Tt=(l+(n=n+Math.imul(w,pt)|0)|0)+((8191&(r=(r=r+Math.imul(w,mt)|0)+Math.imul(_,pt)|0))<<13)|0;l=((s=s+Math.imul(_,mt)|0)+(r>>>13)|0)+(Tt>>>26)|0,Tt&=67108863,n=Math.imul(B,J),r=(r=Math.imul(B,tt))+Math.imul(U,J)|0,s=Math.imul(U,tt),n=n+Math.imul(N,it)|0,r=(r=r+Math.imul(N,nt)|0)+Math.imul(O,it)|0,s=s+Math.imul(O,nt)|0,n=n+Math.imul(R,st)|0,r=(r=r+Math.imul(R,ot)|0)+Math.imul(D,st)|0,s=s+Math.imul(D,ot)|0,n=n+Math.imul(I,ht)|0,r=(r=r+Math.imul(I,lt)|0)+Math.imul(q,ht)|0,s=s+Math.imul(q,lt)|0,n=n+Math.imul(E,ct)|0,r=(r=r+Math.imul(E,dt)|0)+Math.imul(S,ct)|0,s=s+Math.imul(S,dt)|0;var It=(l+(n=n+Math.imul(x,pt)|0)|0)+((8191&(r=(r=r+Math.imul(x,mt)|0)+Math.imul(k,pt)|0))<<13)|0;l=((s=s+Math.imul(k,mt)|0)+(r>>>13)|0)+(It>>>26)|0,It&=67108863,n=Math.imul(B,it),r=(r=Math.imul(B,nt))+Math.imul(U,it)|0,s=Math.imul(U,nt),n=n+Math.imul(N,st)|0,r=(r=r+Math.imul(N,ot)|0)+Math.imul(O,st)|0,s=s+Math.imul(O,ot)|0,n=n+Math.imul(R,ht)|0,r=(r=r+Math.imul(R,lt)|0)+Math.imul(D,ht)|0,s=s+Math.imul(D,lt)|0,n=n+Math.imul(I,ct)|0,r=(r=r+Math.imul(I,dt)|0)+Math.imul(q,ct)|0,s=s+Math.imul(q,dt)|0;var qt=(l+(n=n+Math.imul(E,pt)|0)|0)+((8191&(r=(r=r+Math.imul(E,mt)|0)+Math.imul(S,pt)|0))<<13)|0;l=((s=s+Math.imul(S,mt)|0)+(r>>>13)|0)+(qt>>>26)|0,qt&=67108863,n=Math.imul(B,st),r=(r=Math.imul(B,ot))+Math.imul(U,st)|0,s=Math.imul(U,ot),n=n+Math.imul(N,ht)|0,r=(r=r+Math.imul(N,lt)|0)+Math.imul(O,ht)|0,s=s+Math.imul(O,lt)|0,n=n+Math.imul(R,ct)|0,r=(r=r+Math.imul(R,dt)|0)+Math.imul(D,ct)|0,s=s+Math.imul(D,dt)|0;var Ct=(l+(n=n+Math.imul(I,pt)|0)|0)+((8191&(r=(r=r+Math.imul(I,mt)|0)+Math.imul(q,pt)|0))<<13)|0;l=((s=s+Math.imul(q,mt)|0)+(r>>>13)|0)+(Ct>>>26)|0,Ct&=67108863,n=Math.imul(B,ht),r=(r=Math.imul(B,lt))+Math.imul(U,ht)|0,s=Math.imul(U,lt),n=n+Math.imul(N,ct)|0,r=(r=r+Math.imul(N,dt)|0)+Math.imul(O,ct)|0,s=s+Math.imul(O,dt)|0;var Rt=(l+(n=n+Math.imul(R,pt)|0)|0)+((8191&(r=(r=r+Math.imul(R,mt)|0)+Math.imul(D,pt)|0))<<13)|0;l=((s=s+Math.imul(D,mt)|0)+(r>>>13)|0)+(Rt>>>26)|0,Rt&=67108863,n=Math.imul(B,ct),r=(r=Math.imul(B,dt))+Math.imul(U,ct)|0,s=Math.imul(U,dt);var Dt=(l+(n=n+Math.imul(N,pt)|0)|0)+((8191&(r=(r=r+Math.imul(N,mt)|0)+Math.imul(O,pt)|0))<<13)|0;l=((s=s+Math.imul(O,mt)|0)+(r>>>13)|0)+(Dt>>>26)|0,Dt&=67108863;var Lt=(l+(n=Math.imul(B,pt))|0)+((8191&(r=(r=Math.imul(B,mt))+Math.imul(U,pt)|0))<<13)|0;return l=((s=Math.imul(U,mt))+(r>>>13)|0)+(Lt>>>26)|0,Lt&=67108863,h[0]=gt,h[1]=vt,h[2]=yt,h[3]=bt,h[4]=wt,h[5]=_t,h[6]=Mt,h[7]=xt,h[8]=kt,h[9]=At,h[10]=Et,h[11]=St,h[12]=Tt,h[13]=It,h[14]=qt,h[15]=Ct,h[16]=Rt,h[17]=Dt,h[18]=Lt,0!==l&&(h[19]=l,i.length++),i};function m(t,e,i){return(new g).mulp(t,e,i)}function g(t,e){this.x=t,this.y=e}Math.imul||(p=f),s.prototype.mulTo=function(t,e){var i,n=this.length+t.length;return i=10===this.length&&10===t.length?p(this,t,e):n<63?f(this,t,e):n<1024?function(t,e,i){i.negative=e.negative^t.negative,i.length=t.length+e.length;for(var n=0,r=0,s=0;s<i.length-1;s++){var o=r;r=0;for(var a=67108863&n,h=Math.min(s,e.length-1),l=Math.max(0,s-t.length+1);l<=h;l++){var u=s-l,c=(0|t.words[u])*(0|e.words[l]),d=67108863&c;a=67108863&(d=d+a|0),r+=(o=(o=o+(c/67108864|0)|0)+(d>>>26)|0)>>>26,o&=67108863}i.words[s]=a,n=o,o=r}return 0!==n?i.words[s]=n:i.length--,i.strip()}(this,t,e):m(this,t,e),i},g.prototype.makeRBT=function(t){for(var e=new Array(t),i=s.prototype._countBits(t)-1,n=0;n<t;n++)e[n]=this.revBin(n,i,t);return e},g.prototype.revBin=function(t,e,i){if(0===t||t===i-1)return t;for(var n=0,r=0;r<e;r++)n|=(1&t)<<e-r-1,t>>=1;return n},g.prototype.permute=function(t,e,i,n,r,s){for(var o=0;o<s;o++)n[o]=e[t[o]],r[o]=i[t[o]]},g.prototype.transform=function(t,e,i,n,r,s){this.permute(s,t,e,i,n,r);for(var o=1;o<r;o<<=1)for(var a=o<<1,h=Math.cos(2*Math.PI/a),l=Math.sin(2*Math.PI/a),u=0;u<r;u+=a)for(var c=h,d=l,f=0;f<o;f++){var p=i[u+f],m=n[u+f],g=i[u+f+o],v=n[u+f+o],y=c*g-d*v;v=c*v+d*g,g=y,i[u+f]=p+g,n[u+f]=m+v,i[u+f+o]=p-g,n[u+f+o]=m-v,f!==a&&(y=h*c-l*d,d=h*d+l*c,c=y)}},g.prototype.guessLen13b=function(t,e){var i=1|Math.max(e,t),n=1&i,r=0;for(i=i/2|0;i;i>>>=1)r++;return 1<<r+1+n},g.prototype.conjugate=function(t,e,i){if(!(i<=1))for(var n=0;n<i/2;n++){var r=t[n];t[n]=t[i-n-1],t[i-n-1]=r,r=e[n],e[n]=-e[i-n-1],e[i-n-1]=-r}},g.prototype.normalize13b=function(t,e){for(var i=0,n=0;n<e/2;n++){var r=8192*Math.round(t[2*n+1]/e)+Math.round(t[2*n]/e)+i;t[n]=67108863&r,i=r<67108864?0:r/67108864|0}return t},g.prototype.convert13b=function(t,e,n,r){for(var s=0,o=0;o<e;o++)s+=0|t[o],n[2*o]=8191&s,s>>>=13,n[2*o+1]=8191&s,s>>>=13;for(o=2*e;o<r;++o)n[o]=0;i(0===s),i(0==(-8192&s))},g.prototype.stub=function(t){for(var e=new Array(t),i=0;i<t;i++)e[i]=0;return e},g.prototype.mulp=function(t,e,i){var n=2*this.guessLen13b(t.length,e.length),r=this.makeRBT(n),s=this.stub(n),o=new Array(n),a=new Array(n),h=new Array(n),l=new Array(n),u=new Array(n),c=new Array(n),d=i.words;d.length=n,this.convert13b(t.words,t.length,o,n),this.convert13b(e.words,e.length,l,n),this.transform(o,s,a,h,n,r),this.transform(l,s,u,c,n,r);for(var f=0;f<n;f++){var p=a[f]*u[f]-h[f]*c[f];h[f]=a[f]*c[f]+h[f]*u[f],a[f]=p}return this.conjugate(a,h,n),this.transform(a,h,d,s,n,r),this.conjugate(d,s,n),this.normalize13b(d,n),i.negative=t.negative^e.negative,i.length=t.length+e.length,i.strip()},s.prototype.mul=function(t){var e=new s(null);return e.words=new Array(this.length+t.length),this.mulTo(t,e)},s.prototype.mulf=function(t){var e=new s(null);return e.words=new Array(this.length+t.length),m(this,t,e)},s.prototype.imul=function(t){return this.clone().mulTo(t,this)},s.prototype.imuln=function(t){i("number"==typeof t),i(t<67108864);for(var e=0,n=0;n<this.length;n++){var r=(0|this.words[n])*t,s=(67108863&r)+(67108863&e);e>>=26,e+=r/67108864|0,e+=s>>>26,this.words[n]=67108863&s}return 0!==e&&(this.words[n]=e,this.length++),this},s.prototype.muln=function(t){return this.clone().imuln(t)},s.prototype.sqr=function(){return this.mul(this)},s.prototype.isqr=function(){return this.imul(this.clone())},s.prototype.pow=function(t){var e=function(t){for(var e=new Array(t.bitLength()),i=0;i<e.length;i++){var n=i/26|0,r=i%26;e[i]=(t.words[n]&1<<r)>>>r}return e}(t);if(0===e.length)return new s(1);for(var i=this,n=0;n<e.length&&0===e[n];n++,i=i.sqr());if(++n<e.length)for(var r=i.sqr();n<e.length;n++,r=r.sqr())0!==e[n]&&(i=i.mul(r));return i},s.prototype.iushln=function(t){i("number"==typeof t&&t>=0);var e,n=t%26,r=(t-n)/26,s=67108863>>>26-n<<26-n;if(0!==n){var o=0;for(e=0;e<this.length;e++){var a=this.words[e]&s,h=(0|this.words[e])-a<<n;this.words[e]=h|o,o=a>>>26-n}o&&(this.words[e]=o,this.length++)}if(0!==r){for(e=this.length-1;e>=0;e--)this.words[e+r]=this.words[e];for(e=0;e<r;e++)this.words[e]=0;this.length+=r}return this.strip()},s.prototype.ishln=function(t){return i(0===this.negative),this.iushln(t)},s.prototype.iushrn=function(t,e,n){var r;i("number"==typeof t&&t>=0),r=e?(e-e%26)/26:0;var s=t%26,o=Math.min((t-s)/26,this.length),a=67108863^67108863>>>s<<s,h=n;if(r-=o,r=Math.max(0,r),h){for(var l=0;l<o;l++)h.words[l]=this.words[l];h.length=o}if(0===o);else if(this.length>o)for(this.length-=o,l=0;l<this.length;l++)this.words[l]=this.words[l+o];else this.words[0]=0,this.length=1;var u=0;for(l=this.length-1;l>=0&&(0!==u||l>=r);l--){var c=0|this.words[l];this.words[l]=u<<26-s|c>>>s,u=c&a}return h&&0!==u&&(h.words[h.length++]=u),0===this.length&&(this.words[0]=0,this.length=1),this.strip()},s.prototype.ishrn=function(t,e,n){return i(0===this.negative),this.iushrn(t,e,n)},s.prototype.shln=function(t){return this.clone().ishln(t)},s.prototype.ushln=function(t){return this.clone().iushln(t)},s.prototype.shrn=function(t){return this.clone().ishrn(t)},s.prototype.ushrn=function(t){return this.clone().iushrn(t)},s.prototype.testn=function(t){i("number"==typeof t&&t>=0);var e=t%26,n=(t-e)/26,r=1<<e;return!(this.length<=n)&&!!(this.words[n]&r)},s.prototype.imaskn=function(t){i("number"==typeof t&&t>=0);var e=t%26,n=(t-e)/26;if(i(0===this.negative,"imaskn works only with positive numbers"),this.length<=n)return this;if(0!==e&&n++,this.length=Math.min(n,this.length),0!==e){var r=67108863^67108863>>>e<<e;this.words[this.length-1]&=r}return this.strip()},s.prototype.maskn=function(t){return this.clone().imaskn(t)},s.prototype.iaddn=function(t){return i("number"==typeof t),i(t<67108864),t<0?this.isubn(-t):0!==this.negative?1===this.length&&(0|this.words[0])<t?(this.words[0]=t-(0|this.words[0]),this.negative=0,this):(this.negative=0,this.isubn(t),this.negative=1,this):this._iaddn(t)},s.prototype._iaddn=function(t){this.words[0]+=t;for(var e=0;e<this.length&&this.words[e]>=67108864;e++)this.words[e]-=67108864,e===this.length-1?this.words[e+1]=1:this.words[e+1]++;return this.length=Math.max(this.length,e+1),this},s.prototype.isubn=function(t){if(i("number"==typeof t),i(t<67108864),t<0)return this.iaddn(-t);if(0!==this.negative)return this.negative=0,this.iaddn(t),this.negative=1,this;if(this.words[0]-=t,1===this.length&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var e=0;e<this.length&&this.words[e]<0;e++)this.words[e]+=67108864,this.words[e+1]-=1;return this.strip()},s.prototype.addn=function(t){return this.clone().iaddn(t)},s.prototype.subn=function(t){return this.clone().isubn(t)},s.prototype.iabs=function(){return this.negative=0,this},s.prototype.abs=function(){return this.clone().iabs()},s.prototype._ishlnsubmul=function(t,e,n){var r,s,o=t.length+n;this._expand(o);var a=0;for(r=0;r<t.length;r++){s=(0|this.words[r+n])+a;var h=(0|t.words[r])*e;a=((s-=67108863&h)>>26)-(h/67108864|0),this.words[r+n]=67108863&s}for(;r<this.length-n;r++)a=(s=(0|this.words[r+n])+a)>>26,this.words[r+n]=67108863&s;if(0===a)return this.strip();for(i(-1===a),a=0,r=0;r<this.length;r++)a=(s=-(0|this.words[r])+a)>>26,this.words[r]=67108863&s;return this.negative=1,this.strip()},s.prototype._wordDiv=function(t,e){var i=(this.length,t.length),n=this.clone(),r=t,o=0|r.words[r.length-1];0!==(i=26-this._countBits(o))&&(r=r.ushln(i),n.iushln(i),o=0|r.words[r.length-1]);var a,h=n.length-r.length;if("mod"!==e){(a=new s(null)).length=h+1,a.words=new Array(a.length);for(var l=0;l<a.length;l++)a.words[l]=0}var u=n.clone()._ishlnsubmul(r,1,h);0===u.negative&&(n=u,a&&(a.words[h]=1));for(var c=h-1;c>=0;c--){var d=67108864*(0|n.words[r.length+c])+(0|n.words[r.length+c-1]);for(d=Math.min(d/o|0,67108863),n._ishlnsubmul(r,d,c);0!==n.negative;)d--,n.negative=0,n._ishlnsubmul(r,1,c),n.isZero()||(n.negative^=1);a&&(a.words[c]=d)}return a&&a.strip(),n.strip(),"div"!==e&&0!==i&&n.iushrn(i),{div:a||null,mod:n}},s.prototype.divmod=function(t,e,n){return i(!t.isZero()),this.isZero()?{div:new s(0),mod:new s(0)}:0!==this.negative&&0===t.negative?(a=this.neg().divmod(t,e),"mod"!==e&&(r=a.div.neg()),"div"!==e&&(o=a.mod.neg(),n&&0!==o.negative&&o.iadd(t)),{div:r,mod:o}):0===this.negative&&0!==t.negative?(a=this.divmod(t.neg(),e),"mod"!==e&&(r=a.div.neg()),{div:r,mod:a.mod}):0!=(this.negative&t.negative)?(a=this.neg().divmod(t.neg(),e),"div"!==e&&(o=a.mod.neg(),n&&0!==o.negative&&o.isub(t)),{div:a.div,mod:o}):t.length>this.length||this.cmp(t)<0?{div:new s(0),mod:this}:1===t.length?"div"===e?{div:this.divn(t.words[0]),mod:null}:"mod"===e?{div:null,mod:new s(this.modn(t.words[0]))}:{div:this.divn(t.words[0]),mod:new s(this.modn(t.words[0]))}:this._wordDiv(t,e);var r,o,a},s.prototype.div=function(t){return this.divmod(t,"div",!1).div},s.prototype.mod=function(t){return this.divmod(t,"mod",!1).mod},s.prototype.umod=function(t){return this.divmod(t,"mod",!0).mod},s.prototype.divRound=function(t){var e=this.divmod(t);if(e.mod.isZero())return e.div;var i=0!==e.div.negative?e.mod.isub(t):e.mod,n=t.ushrn(1),r=t.andln(1),s=i.cmp(n);return s<0||1===r&&0===s?e.div:0!==e.div.negative?e.div.isubn(1):e.div.iaddn(1)},s.prototype.modn=function(t){i(t<=67108863);for(var e=67108864%t,n=0,r=this.length-1;r>=0;r--)n=(e*n+(0|this.words[r]))%t;return n},s.prototype.idivn=function(t){i(t<=67108863);for(var e=0,n=this.length-1;n>=0;n--){var r=(0|this.words[n])+67108864*e;this.words[n]=r/t|0,e=r%t}return this.strip()},s.prototype.divn=function(t){return this.clone().idivn(t)},s.prototype.egcd=function(t){i(0===t.negative),i(!t.isZero());var e=this,n=t.clone();e=0!==e.negative?e.umod(t):e.clone();for(var r=new s(1),o=new s(0),a=new s(0),h=new s(1),l=0;e.isEven()&&n.isEven();)e.iushrn(1),n.iushrn(1),++l;for(var u=n.clone(),c=e.clone();!e.isZero();){for(var d=0,f=1;0==(e.words[0]&f)&&d<26;++d,f<<=1);if(d>0)for(e.iushrn(d);d-- >0;)(r.isOdd()||o.isOdd())&&(r.iadd(u),o.isub(c)),r.iushrn(1),o.iushrn(1);for(var p=0,m=1;0==(n.words[0]&m)&&p<26;++p,m<<=1);if(p>0)for(n.iushrn(p);p-- >0;)(a.isOdd()||h.isOdd())&&(a.iadd(u),h.isub(c)),a.iushrn(1),h.iushrn(1);e.cmp(n)>=0?(e.isub(n),r.isub(a),o.isub(h)):(n.isub(e),a.isub(r),h.isub(o))}return{a:a,b:h,gcd:n.iushln(l)}},s.prototype._invmp=function(t){i(0===t.negative),i(!t.isZero());var e=this,n=t.clone();e=0!==e.negative?e.umod(t):e.clone();for(var r,o=new s(1),a=new s(0),h=n.clone();e.cmpn(1)>0&&n.cmpn(1)>0;){for(var l=0,u=1;0==(e.words[0]&u)&&l<26;++l,u<<=1);if(l>0)for(e.iushrn(l);l-- >0;)o.isOdd()&&o.iadd(h),o.iushrn(1);for(var c=0,d=1;0==(n.words[0]&d)&&c<26;++c,d<<=1);if(c>0)for(n.iushrn(c);c-- >0;)a.isOdd()&&a.iadd(h),a.iushrn(1);e.cmp(n)>=0?(e.isub(n),o.isub(a)):(n.isub(e),a.isub(o))}return(r=0===e.cmpn(1)?o:a).cmpn(0)<0&&r.iadd(t),r},s.prototype.gcd=function(t){if(this.isZero())return t.abs();if(t.isZero())return this.abs();var e=this.clone(),i=t.clone();e.negative=0,i.negative=0;for(var n=0;e.isEven()&&i.isEven();n++)e.iushrn(1),i.iushrn(1);for(;;){for(;e.isEven();)e.iushrn(1);for(;i.isEven();)i.iushrn(1);var r=e.cmp(i);if(r<0){var s=e;e=i,i=s}else if(0===r||0===i.cmpn(1))break;e.isub(i)}return i.iushln(n)},s.prototype.invm=function(t){return this.egcd(t).a.umod(t)},s.prototype.isEven=function(){return 0==(1&this.words[0])},s.prototype.isOdd=function(){return 1==(1&this.words[0])},s.prototype.andln=function(t){return this.words[0]&t},s.prototype.bincn=function(t){i("number"==typeof t);var e=t%26,n=(t-e)/26,r=1<<e;if(this.length<=n)return this._expand(n+1),this.words[n]|=r,this;for(var s=r,o=n;0!==s&&o<this.length;o++){var a=0|this.words[o];s=(a+=s)>>>26,a&=67108863,this.words[o]=a}return 0!==s&&(this.words[o]=s,this.length++),this},s.prototype.isZero=function(){return 1===this.length&&0===this.words[0]},s.prototype.cmpn=function(t){var e,n=t<0;if(0!==this.negative&&!n)return-1;if(0===this.negative&&n)return 1;if(this.strip(),this.length>1)e=1;else{n&&(t=-t),i(t<=67108863,"Number is too big");var r=0|this.words[0];e=r===t?0:r<t?-1:1}return 0!==this.negative?0|-e:e},s.prototype.cmp=function(t){if(0!==this.negative&&0===t.negative)return-1;if(0===this.negative&&0!==t.negative)return 1;var e=this.ucmp(t);return 0!==this.negative?0|-e:e},s.prototype.ucmp=function(t){if(this.length>t.length)return 1;if(this.length<t.length)return-1;for(var e=0,i=this.length-1;i>=0;i--){var n=0|this.words[i],r=0|t.words[i];if(n!==r){n<r?e=-1:n>r&&(e=1);break}}return e},s.prototype.gtn=function(t){return 1===this.cmpn(t)},s.prototype.gt=function(t){return 1===this.cmp(t)},s.prototype.gten=function(t){return this.cmpn(t)>=0},s.prototype.gte=function(t){return this.cmp(t)>=0},s.prototype.ltn=function(t){return-1===this.cmpn(t)},s.prototype.lt=function(t){return-1===this.cmp(t)},s.prototype.lten=function(t){return this.cmpn(t)<=0},s.prototype.lte=function(t){return this.cmp(t)<=0},s.prototype.eqn=function(t){return 0===this.cmpn(t)},s.prototype.eq=function(t){return 0===this.cmp(t)},s.red=function(t){return new x(t)},s.prototype.toRed=function(t){return i(!this.red,"Already a number in reduction context"),i(0===this.negative,"red works only with positives"),t.convertTo(this)._forceRed(t)},s.prototype.fromRed=function(){return i(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},s.prototype._forceRed=function(t){return this.red=t,this},s.prototype.forceRed=function(t){return i(!this.red,"Already a number in reduction context"),this._forceRed(t)},s.prototype.redAdd=function(t){return i(this.red,"redAdd works only with red numbers"),this.red.add(this,t)},s.prototype.redIAdd=function(t){return i(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,t)},s.prototype.redSub=function(t){return i(this.red,"redSub works only with red numbers"),this.red.sub(this,t)},s.prototype.redISub=function(t){return i(this.red,"redISub works only with red numbers"),this.red.isub(this,t)},s.prototype.redShl=function(t){return i(this.red,"redShl works only with red numbers"),this.red.shl(this,t)},s.prototype.redMul=function(t){return i(this.red,"redMul works only with red numbers"),this.red._verify2(this,t),this.red.mul(this,t)},s.prototype.redIMul=function(t){return i(this.red,"redMul works only with red numbers"),this.red._verify2(this,t),this.red.imul(this,t)},s.prototype.redSqr=function(){return i(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},s.prototype.redISqr=function(){return i(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},s.prototype.redSqrt=function(){return i(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},s.prototype.redInvm=function(){return i(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},s.prototype.redNeg=function(){return i(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},s.prototype.redPow=function(t){return i(this.red&&!t.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,t)};var v={k256:null,p224:null,p192:null,p25519:null};function y(t,e){this.name=t,this.p=new s(e,16),this.n=this.p.bitLength(),this.k=new s(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}function b(){y.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}function w(){y.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}function _(){y.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}function M(){y.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}function x(t){if("string"==typeof t){var e=s._prime(t);this.m=e.p,this.prime=e}else i(t.gtn(1),"modulus must be greater than 1"),this.m=t,this.prime=null}function k(t){x.call(this,t),this.shift=this.m.bitLength(),this.shift%26!=0&&(this.shift+=26-this.shift%26),this.r=new s(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}y.prototype._tmp=function(){var t=new s(null);return t.words=new Array(Math.ceil(this.n/13)),t},y.prototype.ireduce=function(t){var e,i=t;do{this.split(i,this.tmp),e=(i=(i=this.imulK(i)).iadd(this.tmp)).bitLength()}while(e>this.n);var n=e<this.n?-1:i.ucmp(this.p);return 0===n?(i.words[0]=0,i.length=1):n>0?i.isub(this.p):void 0!==i.strip?i.strip():i._strip(),i},y.prototype.split=function(t,e){t.iushrn(this.n,0,e)},y.prototype.imulK=function(t){return t.imul(this.k)},n(b,y),b.prototype.split=function(t,e){for(var i=4194303,n=Math.min(t.length,9),r=0;r<n;r++)e.words[r]=t.words[r];if(e.length=n,t.length<=9)return t.words[0]=0,void(t.length=1);var s=t.words[9];for(e.words[e.length++]=s&i,r=10;r<t.length;r++){var o=0|t.words[r];t.words[r-10]=(o&i)<<4|s>>>22,s=o}s>>>=22,t.words[r-10]=s,0===s&&t.length>10?t.length-=10:t.length-=9},b.prototype.imulK=function(t){t.words[t.length]=0,t.words[t.length+1]=0,t.length+=2;for(var e=0,i=0;i<t.length;i++){var n=0|t.words[i];e+=977*n,t.words[i]=67108863&e,e=64*n+(e/67108864|0)}return 0===t.words[t.length-1]&&(t.length--,0===t.words[t.length-1]&&t.length--),t},n(w,y),n(_,y),n(M,y),M.prototype.imulK=function(t){for(var e=0,i=0;i<t.length;i++){var n=19*(0|t.words[i])+e,r=67108863&n;n>>>=26,t.words[i]=r,e=n}return 0!==e&&(t.words[t.length++]=e),t},s._prime=function(t){if(v[t])return v[t];var e;if("k256"===t)e=new b;else if("p224"===t)e=new w;else if("p192"===t)e=new _;else{if("p25519"!==t)throw new Error("Unknown prime "+t);e=new M}return v[t]=e,e},x.prototype._verify1=function(t){i(0===t.negative,"red works only with positives"),i(t.red,"red works only with red numbers")},x.prototype._verify2=function(t,e){i(0==(t.negative|e.negative),"red works only with positives"),i(t.red&&t.red===e.red,"red works only with red numbers")},x.prototype.imod=function(t){return this.prime?this.prime.ireduce(t)._forceRed(this):t.umod(this.m)._forceRed(this)},x.prototype.neg=function(t){return t.isZero()?t.clone():this.m.sub(t)._forceRed(this)},x.prototype.add=function(t,e){this._verify2(t,e);var i=t.add(e);return i.cmp(this.m)>=0&&i.isub(this.m),i._forceRed(this)},x.prototype.iadd=function(t,e){this._verify2(t,e);var i=t.iadd(e);return i.cmp(this.m)>=0&&i.isub(this.m),i},x.prototype.sub=function(t,e){this._verify2(t,e);var i=t.sub(e);return i.cmpn(0)<0&&i.iadd(this.m),i._forceRed(this)},x.prototype.isub=function(t,e){this._verify2(t,e);var i=t.isub(e);return i.cmpn(0)<0&&i.iadd(this.m),i},x.prototype.shl=function(t,e){return this._verify1(t),this.imod(t.ushln(e))},x.prototype.imul=function(t,e){return this._verify2(t,e),this.imod(t.imul(e))},x.prototype.mul=function(t,e){return this._verify2(t,e),this.imod(t.mul(e))},x.prototype.isqr=function(t){return this.imul(t,t.clone())},x.prototype.sqr=function(t){return this.mul(t,t)},x.prototype.sqrt=function(t){if(t.isZero())return t.clone();var e=this.m.andln(3);if(i(e%2==1),3===e){var n=this.m.add(new s(1)).iushrn(2);return this.pow(t,n)}for(var r=this.m.subn(1),o=0;!r.isZero()&&0===r.andln(1);)o++,r.iushrn(1);i(!r.isZero());var a=new s(1).toRed(this),h=a.redNeg(),l=this.m.subn(1).iushrn(1),u=this.m.bitLength();for(u=new s(2*u*u).toRed(this);0!==this.pow(u,l).cmp(h);)u.redIAdd(h);for(var c=this.pow(u,r),d=this.pow(t,r.addn(1).iushrn(1)),f=this.pow(t,r),p=o;0!==f.cmp(a);){for(var m=f,g=0;0!==m.cmp(a);g++)m=m.redSqr();i(g<p);var v=this.pow(c,new s(1).iushln(p-g-1));d=d.redMul(v),c=v.redSqr(),f=f.redMul(c),p=g}return d},x.prototype.invm=function(t){var e=t._invmp(this.m);return 0!==e.negative?(e.negative=0,this.imod(e).redNeg()):this.imod(e)},x.prototype.pow=function(t,e){if(e.isZero())return new s(1).toRed(this);if(0===e.cmpn(1))return t.clone();var i=new Array(16);i[0]=new s(1).toRed(this),i[1]=t;for(var n=2;n<i.length;n++)i[n]=this.mul(i[n-1],t);var r=i[0],o=0,a=0,h=e.bitLength()%26;for(0===h&&(h=26),n=e.length-1;n>=0;n--){for(var l=e.words[n],u=h-1;u>=0;u--){var c=l>>u&1;r!==i[0]&&(r=this.sqr(r)),0!==c||0!==o?(o<<=1,o|=c,(4===++a||0===n&&0===u)&&(r=this.mul(r,i[o]),a=0,o=0)):a=0}h=26}return r},x.prototype.convertTo=function(t){var e=t.umod(this.m);return e===t?e.clone():e},x.prototype.convertFrom=function(t){var e=t.clone();return e.red=null,e},s.mont=function(t){return new k(t)},n(k,x),k.prototype.convertTo=function(t){return this.imod(t.ushln(this.shift))},k.prototype.convertFrom=function(t){var e=this.imod(t.mul(this.rinv));return e.red=null,e},k.prototype.imul=function(t,e){if(t.isZero()||e.isZero())return t.words[0]=0,t.length=1,t;var i=t.imul(e),n=i.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),r=i.isub(n).iushrn(this.shift),s=r;return r.cmp(this.m)>=0?s=r.isub(this.m):r.cmpn(0)<0&&(s=r.iadd(this.m)),s._forceRed(this)},k.prototype.mul=function(t,e){if(t.isZero()||e.isZero())return new s(0)._forceRed(this);var i=t.mul(e),n=i.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),r=i.isub(n).iushrn(this.shift),o=r;return r.cmp(this.m)>=0?o=r.isub(this.m):r.cmpn(0)<0&&(o=r.iadd(this.m)),o._forceRed(this)},k.prototype.invm=function(t){return this.imod(t._invmp(this.m).mul(this.r2))._forceRed(this)}}(t,this)})),r.register("93GUP",(function(e,i){var n,s,o,a;t(e.exports,"publicEncrypt",(()=>n),(t=>n=t)),t(e.exports,"privateDecrypt",(()=>s),(t=>s=t)),t(e.exports,"privateEncrypt",(()=>o),(t=>o=t)),t(e.exports,"publicDecrypt",(()=>a),(t=>a=t)),n=r("cooyg"),s=r("gm4RA"),o=function(t,e){return n(t,e,!0)},a=function(t,e){return s(t,e,!0)}})),r.register("cooyg",(function(t,e){var i=r("istSy"),n=r("jF6xI"),s=r("ghseq"),o=r("a9vEz"),a=r("4cUVQ"),h=r("cYqNP"),l=r("andWH"),u=r("3DKvV"),c=r("emGH0").Buffer;t.exports=function(t,e,r){var d;d=t.padding?t.padding:r?1:4;var f,p=i(t);if(4===d)f=function(t,e){var i=t.modulus.byteLength(),r=e.length,l=s("sha1").update(c.alloc(0)).digest(),u=l.length,d=2*u;if(r>i-d-2)throw new Error("message too long");var f=c.alloc(i-r-d-2),p=i-u-1,m=n(u),g=a(c.concat([l,f,c.alloc(1,1),e],p),o(m,p)),v=a(m,o(g,u));return new h(c.concat([c.alloc(1),v,g],i))}(p,e);else if(1===d)f=function(t,e,i){var r,s=e.length,o=t.modulus.byteLength();if(s>o-11)throw new Error("message too long");r=i?c.alloc(o-s-3,255):function(t){var e,i=c.allocUnsafe(t),r=0,s=n(2*t),o=0;for(;r<t;)o===s.length&&(s=n(2*t),o=0),(e=s[o++])&&(i[r++]=e);return i}(o-s-3);return new h(c.concat([c.from([0,i?1:2]),r,c.alloc(1),e],o))}(p,e,r);else{if(3!==d)throw new Error("unknown padding");if((f=new h(e)).cmp(p.modulus)>=0)throw new Error("data too long for modulus")}return r?u(f,p):l(f,p)}})),r.register("a9vEz",(function(t,e){var i=r("ghseq"),n=r("emGH0").Buffer;function s(t){var e=n.allocUnsafe(4);return e.writeUInt32BE(t,0),e}t.exports=function(t,e){for(var r,o=n.alloc(0),a=0;o.length<e;)r=s(a++),o=n.concat([o,i("sha1").update(t).update(r).digest()]);return o.slice(0,e)}})),r.register("4cUVQ",(function(t,e){t.exports=function(t,e){for(var i=t.length,n=-1;++n<i;)t[n]^=e[n];return t}})),r.register("cYqNP",(function(t,e){!function(t,e){function i(t,e){if(!t)throw new Error(e||"Assertion failed")}function n(t,e){t.super_=e;var i=function(){};i.prototype=e.prototype,t.prototype=new i,t.prototype.constructor=t}function s(t,e,i){if(s.isBN(t))return t;this.negative=0,this.words=null,this.length=0,this.red=null,null!==t&&("le"!==e&&"be"!==e||(i=e,e=10),this._init(t||0,e||10,i||"be"))}var o;"object"==typeof t?t.exports=s:e.BN=s,s.BN=s,s.wordSize=26;try{o="undefined"!=typeof window&&void 0!==window.Buffer?window.Buffer:r("lEqQD").Buffer}catch(t){}function a(t,e){var i=t.charCodeAt(e);return i>=65&&i<=70?i-55:i>=97&&i<=102?i-87:i-48&15}function h(t,e,i){var n=a(t,i);return i-1>=e&&(n|=a(t,i-1)<<4),n}function l(t,e,i,n){for(var r=0,s=Math.min(t.length,i),o=e;o<s;o++){var a=t.charCodeAt(o)-48;r*=n,r+=a>=49?a-49+10:a>=17?a-17+10:a}return r}s.isBN=function(t){return t instanceof s||null!==t&&"object"==typeof t&&t.constructor.wordSize===s.wordSize&&Array.isArray(t.words)},s.max=function(t,e){return t.cmp(e)>0?t:e},s.min=function(t,e){return t.cmp(e)<0?t:e},s.prototype._init=function(t,e,n){if("number"==typeof t)return this._initNumber(t,e,n);if("object"==typeof t)return this._initArray(t,e,n);"hex"===e&&(e=16),i(e===(0|e)&&e>=2&&e<=36);var r=0;"-"===(t=t.toString().replace(/\s+/g,""))[0]&&(r++,this.negative=1),r<t.length&&(16===e?this._parseHex(t,r,n):(this._parseBase(t,e,r),"le"===n&&this._initArray(this.toArray(),e,n)))},s.prototype._initNumber=function(t,e,n){t<0&&(this.negative=1,t=-t),t<67108864?(this.words=[67108863&t],this.length=1):t<4503599627370496?(this.words=[67108863&t,t/67108864&67108863],this.length=2):(i(t<9007199254740992),this.words=[67108863&t,t/67108864&67108863,1],this.length=3),"le"===n&&this._initArray(this.toArray(),e,n)},s.prototype._initArray=function(t,e,n){if(i("number"==typeof t.length),t.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(t.length/3),this.words=new Array(this.length);for(var r=0;r<this.length;r++)this.words[r]=0;var s,o,a=0;if("be"===n)for(r=t.length-1,s=0;r>=0;r-=3)o=t[r]|t[r-1]<<8|t[r-2]<<16,this.words[s]|=o<<a&67108863,this.words[s+1]=o>>>26-a&67108863,(a+=24)>=26&&(a-=26,s++);else if("le"===n)for(r=0,s=0;r<t.length;r+=3)o=t[r]|t[r+1]<<8|t[r+2]<<16,this.words[s]|=o<<a&67108863,this.words[s+1]=o>>>26-a&67108863,(a+=24)>=26&&(a-=26,s++);return this.strip()},s.prototype._parseHex=function(t,e,i){this.length=Math.ceil((t.length-e)/6),this.words=new Array(this.length);for(var n=0;n<this.length;n++)this.words[n]=0;var r,s=0,o=0;if("be"===i)for(n=t.length-1;n>=e;n-=2)r=h(t,e,n)<<s,this.words[o]|=67108863&r,s>=18?(s-=18,o+=1,this.words[o]|=r>>>26):s+=8;else for(n=(t.length-e)%2==0?e+1:e;n<t.length;n+=2)r=h(t,e,n)<<s,this.words[o]|=67108863&r,s>=18?(s-=18,o+=1,this.words[o]|=r>>>26):s+=8;this.strip()},s.prototype._parseBase=function(t,e,i){this.words=[0],this.length=1;for(var n=0,r=1;r<=67108863;r*=e)n++;n--,r=r/e|0;for(var s=t.length-i,o=s%n,a=Math.min(s,s-o)+i,h=0,u=i;u<a;u+=n)h=l(t,u,u+n,e),this.imuln(r),this.words[0]+h<67108864?this.words[0]+=h:this._iaddn(h);if(0!==o){var c=1;for(h=l(t,u,t.length,e),u=0;u<o;u++)c*=e;this.imuln(c),this.words[0]+h<67108864?this.words[0]+=h:this._iaddn(h)}this.strip()},s.prototype.copy=function(t){t.words=new Array(this.length);for(var e=0;e<this.length;e++)t.words[e]=this.words[e];t.length=this.length,t.negative=this.negative,t.red=this.red},s.prototype.clone=function(){var t=new s(null);return this.copy(t),t},s.prototype._expand=function(t){for(;this.length<t;)this.words[this.length++]=0;return this},s.prototype.strip=function(){for(;this.length>1&&0===this.words[this.length-1];)this.length--;return this._normSign()},s.prototype._normSign=function(){return 1===this.length&&0===this.words[0]&&(this.negative=0),this},s.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var u=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],c=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],d=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];function f(t,e,i){i.negative=e.negative^t.negative;var n=t.length+e.length|0;i.length=n,n=n-1|0;var r=0|t.words[0],s=0|e.words[0],o=r*s,a=67108863&o,h=o/67108864|0;i.words[0]=a;for(var l=1;l<n;l++){for(var u=h>>>26,c=67108863&h,d=Math.min(l,e.length-1),f=Math.max(0,l-t.length+1);f<=d;f++){var p=l-f|0;u+=(o=(r=0|t.words[p])*(s=0|e.words[f])+c)/67108864|0,c=67108863&o}i.words[l]=0|c,h=0|u}return 0!==h?i.words[l]=0|h:i.length--,i.strip()}s.prototype.toString=function(t,e){var n;if(e=0|e||1,16===(t=t||10)||"hex"===t){n="";for(var r=0,s=0,o=0;o<this.length;o++){var a=this.words[o],h=(16777215&(a<<r|s)).toString(16);n=0!==(s=a>>>24-r&16777215)||o!==this.length-1?u[6-h.length]+h+n:h+n,(r+=2)>=26&&(r-=26,o--)}for(0!==s&&(n=s.toString(16)+n);n.length%e!=0;)n="0"+n;return 0!==this.negative&&(n="-"+n),n}if(t===(0|t)&&t>=2&&t<=36){var l=c[t],f=d[t];n="";var p=this.clone();for(p.negative=0;!p.isZero();){var m=p.modn(f).toString(t);n=(p=p.idivn(f)).isZero()?m+n:u[l-m.length]+m+n}for(this.isZero()&&(n="0"+n);n.length%e!=0;)n="0"+n;return 0!==this.negative&&(n="-"+n),n}i(!1,"Base should be between 2 and 36")},s.prototype.toNumber=function(){var t=this.words[0];return 2===this.length?t+=67108864*this.words[1]:3===this.length&&1===this.words[2]?t+=4503599627370496+67108864*this.words[1]:this.length>2&&i(!1,"Number can only safely store up to 53 bits"),0!==this.negative?-t:t},s.prototype.toJSON=function(){return this.toString(16)},s.prototype.toBuffer=function(t,e){return i(void 0!==o),this.toArrayLike(o,t,e)},s.prototype.toArray=function(t,e){return this.toArrayLike(Array,t,e)},s.prototype.toArrayLike=function(t,e,n){var r=this.byteLength(),s=n||Math.max(1,r);i(r<=s,"byte array longer than desired length"),i(s>0,"Requested array length <= 0"),this.strip();var o,a,h="le"===e,l=new t(s),u=this.clone();if(h){for(a=0;!u.isZero();a++)o=u.andln(255),u.iushrn(8),l[a]=o;for(;a<s;a++)l[a]=0}else{for(a=0;a<s-r;a++)l[a]=0;for(a=0;!u.isZero();a++)o=u.andln(255),u.iushrn(8),l[s-a-1]=o}return l},Math.clz32?s.prototype._countBits=function(t){return 32-Math.clz32(t)}:s.prototype._countBits=function(t){var e=t,i=0;return e>=4096&&(i+=13,e>>>=13),e>=64&&(i+=7,e>>>=7),e>=8&&(i+=4,e>>>=4),e>=2&&(i+=2,e>>>=2),i+e},s.prototype._zeroBits=function(t){if(0===t)return 26;var e=t,i=0;return 0==(8191&e)&&(i+=13,e>>>=13),0==(127&e)&&(i+=7,e>>>=7),0==(15&e)&&(i+=4,e>>>=4),0==(3&e)&&(i+=2,e>>>=2),0==(1&e)&&i++,i},s.prototype.bitLength=function(){var t=this.words[this.length-1],e=this._countBits(t);return 26*(this.length-1)+e},s.prototype.zeroBits=function(){if(this.isZero())return 0;for(var t=0,e=0;e<this.length;e++){var i=this._zeroBits(this.words[e]);if(t+=i,26!==i)break}return t},s.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},s.prototype.toTwos=function(t){return 0!==this.negative?this.abs().inotn(t).iaddn(1):this.clone()},s.prototype.fromTwos=function(t){return this.testn(t-1)?this.notn(t).iaddn(1).ineg():this.clone()},s.prototype.isNeg=function(){return 0!==this.negative},s.prototype.neg=function(){return this.clone().ineg()},s.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},s.prototype.iuor=function(t){for(;this.length<t.length;)this.words[this.length++]=0;for(var e=0;e<t.length;e++)this.words[e]=this.words[e]|t.words[e];return this.strip()},s.prototype.ior=function(t){return i(0==(this.negative|t.negative)),this.iuor(t)},s.prototype.or=function(t){return this.length>t.length?this.clone().ior(t):t.clone().ior(this)},s.prototype.uor=function(t){return this.length>t.length?this.clone().iuor(t):t.clone().iuor(this)},s.prototype.iuand=function(t){var e;e=this.length>t.length?t:this;for(var i=0;i<e.length;i++)this.words[i]=this.words[i]&t.words[i];return this.length=e.length,this.strip()},s.prototype.iand=function(t){return i(0==(this.negative|t.negative)),this.iuand(t)},s.prototype.and=function(t){return this.length>t.length?this.clone().iand(t):t.clone().iand(this)},s.prototype.uand=function(t){return this.length>t.length?this.clone().iuand(t):t.clone().iuand(this)},s.prototype.iuxor=function(t){var e,i;this.length>t.length?(e=this,i=t):(e=t,i=this);for(var n=0;n<i.length;n++)this.words[n]=e.words[n]^i.words[n];if(this!==e)for(;n<e.length;n++)this.words[n]=e.words[n];return this.length=e.length,this.strip()},s.prototype.ixor=function(t){return i(0==(this.negative|t.negative)),this.iuxor(t)},s.prototype.xor=function(t){return this.length>t.length?this.clone().ixor(t):t.clone().ixor(this)},s.prototype.uxor=function(t){return this.length>t.length?this.clone().iuxor(t):t.clone().iuxor(this)},s.prototype.inotn=function(t){i("number"==typeof t&&t>=0);var e=0|Math.ceil(t/26),n=t%26;this._expand(e),n>0&&e--;for(var r=0;r<e;r++)this.words[r]=67108863&~this.words[r];return n>0&&(this.words[r]=~this.words[r]&67108863>>26-n),this.strip()},s.prototype.notn=function(t){return this.clone().inotn(t)},s.prototype.setn=function(t,e){i("number"==typeof t&&t>=0);var n=t/26|0,r=t%26;return this._expand(n+1),this.words[n]=e?this.words[n]|1<<r:this.words[n]&~(1<<r),this.strip()},s.prototype.iadd=function(t){var e,i,n;if(0!==this.negative&&0===t.negative)return this.negative=0,e=this.isub(t),this.negative^=1,this._normSign();if(0===this.negative&&0!==t.negative)return t.negative=0,e=this.isub(t),t.negative=1,e._normSign();this.length>t.length?(i=this,n=t):(i=t,n=this);for(var r=0,s=0;s<n.length;s++)e=(0|i.words[s])+(0|n.words[s])+r,this.words[s]=67108863&e,r=e>>>26;for(;0!==r&&s<i.length;s++)e=(0|i.words[s])+r,this.words[s]=67108863&e,r=e>>>26;if(this.length=i.length,0!==r)this.words[this.length]=r,this.length++;else if(i!==this)for(;s<i.length;s++)this.words[s]=i.words[s];return this},s.prototype.add=function(t){var e;return 0!==t.negative&&0===this.negative?(t.negative=0,e=this.sub(t),t.negative^=1,e):0===t.negative&&0!==this.negative?(this.negative=0,e=t.sub(this),this.negative=1,e):this.length>t.length?this.clone().iadd(t):t.clone().iadd(this)},s.prototype.isub=function(t){if(0!==t.negative){t.negative=0;var e=this.iadd(t);return t.negative=1,e._normSign()}if(0!==this.negative)return this.negative=0,this.iadd(t),this.negative=1,this._normSign();var i,n,r=this.cmp(t);if(0===r)return this.negative=0,this.length=1,this.words[0]=0,this;r>0?(i=this,n=t):(i=t,n=this);for(var s=0,o=0;o<n.length;o++)s=(e=(0|i.words[o])-(0|n.words[o])+s)>>26,this.words[o]=67108863&e;for(;0!==s&&o<i.length;o++)s=(e=(0|i.words[o])+s)>>26,this.words[o]=67108863&e;if(0===s&&o<i.length&&i!==this)for(;o<i.length;o++)this.words[o]=i.words[o];return this.length=Math.max(this.length,o),i!==this&&(this.negative=1),this.strip()},s.prototype.sub=function(t){return this.clone().isub(t)};var p=function(t,e,i){var n,r,s,o=t.words,a=e.words,h=i.words,l=0,u=0|o[0],c=8191&u,d=u>>>13,f=0|o[1],p=8191&f,m=f>>>13,g=0|o[2],v=8191&g,y=g>>>13,b=0|o[3],w=8191&b,_=b>>>13,M=0|o[4],x=8191&M,k=M>>>13,A=0|o[5],E=8191&A,S=A>>>13,T=0|o[6],I=8191&T,q=T>>>13,C=0|o[7],R=8191&C,D=C>>>13,L=0|o[8],N=8191&L,O=L>>>13,P=0|o[9],B=8191&P,U=P>>>13,F=0|a[0],j=8191&F,z=F>>>13,V=0|a[1],H=8191&V,W=V>>>13,K=0|a[2],G=8191&K,Q=K>>>13,Y=0|a[3],Z=8191&Y,$=Y>>>13,X=0|a[4],J=8191&X,tt=X>>>13,et=0|a[5],it=8191&et,nt=et>>>13,rt=0|a[6],st=8191&rt,ot=rt>>>13,at=0|a[7],ht=8191&at,lt=at>>>13,ut=0|a[8],ct=8191&ut,dt=ut>>>13,ft=0|a[9],pt=8191&ft,mt=ft>>>13;i.negative=t.negative^e.negative,i.length=19;var gt=(l+(n=Math.imul(c,j))|0)+((8191&(r=(r=Math.imul(c,z))+Math.imul(d,j)|0))<<13)|0;l=((s=Math.imul(d,z))+(r>>>13)|0)+(gt>>>26)|0,gt&=67108863,n=Math.imul(p,j),r=(r=Math.imul(p,z))+Math.imul(m,j)|0,s=Math.imul(m,z);var vt=(l+(n=n+Math.imul(c,H)|0)|0)+((8191&(r=(r=r+Math.imul(c,W)|0)+Math.imul(d,H)|0))<<13)|0;l=((s=s+Math.imul(d,W)|0)+(r>>>13)|0)+(vt>>>26)|0,vt&=67108863,n=Math.imul(v,j),r=(r=Math.imul(v,z))+Math.imul(y,j)|0,s=Math.imul(y,z),n=n+Math.imul(p,H)|0,r=(r=r+Math.imul(p,W)|0)+Math.imul(m,H)|0,s=s+Math.imul(m,W)|0;var yt=(l+(n=n+Math.imul(c,G)|0)|0)+((8191&(r=(r=r+Math.imul(c,Q)|0)+Math.imul(d,G)|0))<<13)|0;l=((s=s+Math.imul(d,Q)|0)+(r>>>13)|0)+(yt>>>26)|0,yt&=67108863,n=Math.imul(w,j),r=(r=Math.imul(w,z))+Math.imul(_,j)|0,s=Math.imul(_,z),n=n+Math.imul(v,H)|0,r=(r=r+Math.imul(v,W)|0)+Math.imul(y,H)|0,s=s+Math.imul(y,W)|0,n=n+Math.imul(p,G)|0,r=(r=r+Math.imul(p,Q)|0)+Math.imul(m,G)|0,s=s+Math.imul(m,Q)|0;var bt=(l+(n=n+Math.imul(c,Z)|0)|0)+((8191&(r=(r=r+Math.imul(c,$)|0)+Math.imul(d,Z)|0))<<13)|0;l=((s=s+Math.imul(d,$)|0)+(r>>>13)|0)+(bt>>>26)|0,bt&=67108863,n=Math.imul(x,j),r=(r=Math.imul(x,z))+Math.imul(k,j)|0,s=Math.imul(k,z),n=n+Math.imul(w,H)|0,r=(r=r+Math.imul(w,W)|0)+Math.imul(_,H)|0,s=s+Math.imul(_,W)|0,n=n+Math.imul(v,G)|0,r=(r=r+Math.imul(v,Q)|0)+Math.imul(y,G)|0,s=s+Math.imul(y,Q)|0,n=n+Math.imul(p,Z)|0,r=(r=r+Math.imul(p,$)|0)+Math.imul(m,Z)|0,s=s+Math.imul(m,$)|0;var wt=(l+(n=n+Math.imul(c,J)|0)|0)+((8191&(r=(r=r+Math.imul(c,tt)|0)+Math.imul(d,J)|0))<<13)|0;l=((s=s+Math.imul(d,tt)|0)+(r>>>13)|0)+(wt>>>26)|0,wt&=67108863,n=Math.imul(E,j),r=(r=Math.imul(E,z))+Math.imul(S,j)|0,s=Math.imul(S,z),n=n+Math.imul(x,H)|0,r=(r=r+Math.imul(x,W)|0)+Math.imul(k,H)|0,s=s+Math.imul(k,W)|0,n=n+Math.imul(w,G)|0,r=(r=r+Math.imul(w,Q)|0)+Math.imul(_,G)|0,s=s+Math.imul(_,Q)|0,n=n+Math.imul(v,Z)|0,r=(r=r+Math.imul(v,$)|0)+Math.imul(y,Z)|0,s=s+Math.imul(y,$)|0,n=n+Math.imul(p,J)|0,r=(r=r+Math.imul(p,tt)|0)+Math.imul(m,J)|0,s=s+Math.imul(m,tt)|0;var _t=(l+(n=n+Math.imul(c,it)|0)|0)+((8191&(r=(r=r+Math.imul(c,nt)|0)+Math.imul(d,it)|0))<<13)|0;l=((s=s+Math.imul(d,nt)|0)+(r>>>13)|0)+(_t>>>26)|0,_t&=67108863,n=Math.imul(I,j),r=(r=Math.imul(I,z))+Math.imul(q,j)|0,s=Math.imul(q,z),n=n+Math.imul(E,H)|0,r=(r=r+Math.imul(E,W)|0)+Math.imul(S,H)|0,s=s+Math.imul(S,W)|0,n=n+Math.imul(x,G)|0,r=(r=r+Math.imul(x,Q)|0)+Math.imul(k,G)|0,s=s+Math.imul(k,Q)|0,n=n+Math.imul(w,Z)|0,r=(r=r+Math.imul(w,$)|0)+Math.imul(_,Z)|0,s=s+Math.imul(_,$)|0,n=n+Math.imul(v,J)|0,r=(r=r+Math.imul(v,tt)|0)+Math.imul(y,J)|0,s=s+Math.imul(y,tt)|0,n=n+Math.imul(p,it)|0,r=(r=r+Math.imul(p,nt)|0)+Math.imul(m,it)|0,s=s+Math.imul(m,nt)|0;var Mt=(l+(n=n+Math.imul(c,st)|0)|0)+((8191&(r=(r=r+Math.imul(c,ot)|0)+Math.imul(d,st)|0))<<13)|0;l=((s=s+Math.imul(d,ot)|0)+(r>>>13)|0)+(Mt>>>26)|0,Mt&=67108863,n=Math.imul(R,j),r=(r=Math.imul(R,z))+Math.imul(D,j)|0,s=Math.imul(D,z),n=n+Math.imul(I,H)|0,r=(r=r+Math.imul(I,W)|0)+Math.imul(q,H)|0,s=s+Math.imul(q,W)|0,n=n+Math.imul(E,G)|0,r=(r=r+Math.imul(E,Q)|0)+Math.imul(S,G)|0,s=s+Math.imul(S,Q)|0,n=n+Math.imul(x,Z)|0,r=(r=r+Math.imul(x,$)|0)+Math.imul(k,Z)|0,s=s+Math.imul(k,$)|0,n=n+Math.imul(w,J)|0,r=(r=r+Math.imul(w,tt)|0)+Math.imul(_,J)|0,s=s+Math.imul(_,tt)|0,n=n+Math.imul(v,it)|0,r=(r=r+Math.imul(v,nt)|0)+Math.imul(y,it)|0,s=s+Math.imul(y,nt)|0,n=n+Math.imul(p,st)|0,r=(r=r+Math.imul(p,ot)|0)+Math.imul(m,st)|0,s=s+Math.imul(m,ot)|0;var xt=(l+(n=n+Math.imul(c,ht)|0)|0)+((8191&(r=(r=r+Math.imul(c,lt)|0)+Math.imul(d,ht)|0))<<13)|0;l=((s=s+Math.imul(d,lt)|0)+(r>>>13)|0)+(xt>>>26)|0,xt&=67108863,n=Math.imul(N,j),r=(r=Math.imul(N,z))+Math.imul(O,j)|0,s=Math.imul(O,z),n=n+Math.imul(R,H)|0,r=(r=r+Math.imul(R,W)|0)+Math.imul(D,H)|0,s=s+Math.imul(D,W)|0,n=n+Math.imul(I,G)|0,r=(r=r+Math.imul(I,Q)|0)+Math.imul(q,G)|0,s=s+Math.imul(q,Q)|0,n=n+Math.imul(E,Z)|0,r=(r=r+Math.imul(E,$)|0)+Math.imul(S,Z)|0,s=s+Math.imul(S,$)|0,n=n+Math.imul(x,J)|0,r=(r=r+Math.imul(x,tt)|0)+Math.imul(k,J)|0,s=s+Math.imul(k,tt)|0,n=n+Math.imul(w,it)|0,r=(r=r+Math.imul(w,nt)|0)+Math.imul(_,it)|0,s=s+Math.imul(_,nt)|0,n=n+Math.imul(v,st)|0,r=(r=r+Math.imul(v,ot)|0)+Math.imul(y,st)|0,s=s+Math.imul(y,ot)|0,n=n+Math.imul(p,ht)|0,r=(r=r+Math.imul(p,lt)|0)+Math.imul(m,ht)|0,s=s+Math.imul(m,lt)|0;var kt=(l+(n=n+Math.imul(c,ct)|0)|0)+((8191&(r=(r=r+Math.imul(c,dt)|0)+Math.imul(d,ct)|0))<<13)|0;l=((s=s+Math.imul(d,dt)|0)+(r>>>13)|0)+(kt>>>26)|0,kt&=67108863,n=Math.imul(B,j),r=(r=Math.imul(B,z))+Math.imul(U,j)|0,s=Math.imul(U,z),n=n+Math.imul(N,H)|0,r=(r=r+Math.imul(N,W)|0)+Math.imul(O,H)|0,s=s+Math.imul(O,W)|0,n=n+Math.imul(R,G)|0,r=(r=r+Math.imul(R,Q)|0)+Math.imul(D,G)|0,s=s+Math.imul(D,Q)|0,n=n+Math.imul(I,Z)|0,r=(r=r+Math.imul(I,$)|0)+Math.imul(q,Z)|0,s=s+Math.imul(q,$)|0,n=n+Math.imul(E,J)|0,r=(r=r+Math.imul(E,tt)|0)+Math.imul(S,J)|0,s=s+Math.imul(S,tt)|0,n=n+Math.imul(x,it)|0,r=(r=r+Math.imul(x,nt)|0)+Math.imul(k,it)|0,s=s+Math.imul(k,nt)|0,n=n+Math.imul(w,st)|0,r=(r=r+Math.imul(w,ot)|0)+Math.imul(_,st)|0,s=s+Math.imul(_,ot)|0,n=n+Math.imul(v,ht)|0,r=(r=r+Math.imul(v,lt)|0)+Math.imul(y,ht)|0,s=s+Math.imul(y,lt)|0,n=n+Math.imul(p,ct)|0,r=(r=r+Math.imul(p,dt)|0)+Math.imul(m,ct)|0,s=s+Math.imul(m,dt)|0;var At=(l+(n=n+Math.imul(c,pt)|0)|0)+((8191&(r=(r=r+Math.imul(c,mt)|0)+Math.imul(d,pt)|0))<<13)|0;l=((s=s+Math.imul(d,mt)|0)+(r>>>13)|0)+(At>>>26)|0,At&=67108863,n=Math.imul(B,H),r=(r=Math.imul(B,W))+Math.imul(U,H)|0,s=Math.imul(U,W),n=n+Math.imul(N,G)|0,r=(r=r+Math.imul(N,Q)|0)+Math.imul(O,G)|0,s=s+Math.imul(O,Q)|0,n=n+Math.imul(R,Z)|0,r=(r=r+Math.imul(R,$)|0)+Math.imul(D,Z)|0,s=s+Math.imul(D,$)|0,n=n+Math.imul(I,J)|0,r=(r=r+Math.imul(I,tt)|0)+Math.imul(q,J)|0,s=s+Math.imul(q,tt)|0,n=n+Math.imul(E,it)|0,r=(r=r+Math.imul(E,nt)|0)+Math.imul(S,it)|0,s=s+Math.imul(S,nt)|0,n=n+Math.imul(x,st)|0,r=(r=r+Math.imul(x,ot)|0)+Math.imul(k,st)|0,s=s+Math.imul(k,ot)|0,n=n+Math.imul(w,ht)|0,r=(r=r+Math.imul(w,lt)|0)+Math.imul(_,ht)|0,s=s+Math.imul(_,lt)|0,n=n+Math.imul(v,ct)|0,r=(r=r+Math.imul(v,dt)|0)+Math.imul(y,ct)|0,s=s+Math.imul(y,dt)|0;var Et=(l+(n=n+Math.imul(p,pt)|0)|0)+((8191&(r=(r=r+Math.imul(p,mt)|0)+Math.imul(m,pt)|0))<<13)|0;l=((s=s+Math.imul(m,mt)|0)+(r>>>13)|0)+(Et>>>26)|0,Et&=67108863,n=Math.imul(B,G),r=(r=Math.imul(B,Q))+Math.imul(U,G)|0,s=Math.imul(U,Q),n=n+Math.imul(N,Z)|0,r=(r=r+Math.imul(N,$)|0)+Math.imul(O,Z)|0,s=s+Math.imul(O,$)|0,n=n+Math.imul(R,J)|0,r=(r=r+Math.imul(R,tt)|0)+Math.imul(D,J)|0,s=s+Math.imul(D,tt)|0,n=n+Math.imul(I,it)|0,r=(r=r+Math.imul(I,nt)|0)+Math.imul(q,it)|0,s=s+Math.imul(q,nt)|0,n=n+Math.imul(E,st)|0,r=(r=r+Math.imul(E,ot)|0)+Math.imul(S,st)|0,s=s+Math.imul(S,ot)|0,n=n+Math.imul(x,ht)|0,r=(r=r+Math.imul(x,lt)|0)+Math.imul(k,ht)|0,s=s+Math.imul(k,lt)|0,n=n+Math.imul(w,ct)|0,r=(r=r+Math.imul(w,dt)|0)+Math.imul(_,ct)|0,s=s+Math.imul(_,dt)|0;var St=(l+(n=n+Math.imul(v,pt)|0)|0)+((8191&(r=(r=r+Math.imul(v,mt)|0)+Math.imul(y,pt)|0))<<13)|0;l=((s=s+Math.imul(y,mt)|0)+(r>>>13)|0)+(St>>>26)|0,St&=67108863,n=Math.imul(B,Z),r=(r=Math.imul(B,$))+Math.imul(U,Z)|0,s=Math.imul(U,$),n=n+Math.imul(N,J)|0,r=(r=r+Math.imul(N,tt)|0)+Math.imul(O,J)|0,s=s+Math.imul(O,tt)|0,n=n+Math.imul(R,it)|0,r=(r=r+Math.imul(R,nt)|0)+Math.imul(D,it)|0,s=s+Math.imul(D,nt)|0,n=n+Math.imul(I,st)|0,r=(r=r+Math.imul(I,ot)|0)+Math.imul(q,st)|0,s=s+Math.imul(q,ot)|0,n=n+Math.imul(E,ht)|0,r=(r=r+Math.imul(E,lt)|0)+Math.imul(S,ht)|0,s=s+Math.imul(S,lt)|0,n=n+Math.imul(x,ct)|0,r=(r=r+Math.imul(x,dt)|0)+Math.imul(k,ct)|0,s=s+Math.imul(k,dt)|0;var Tt=(l+(n=n+Math.imul(w,pt)|0)|0)+((8191&(r=(r=r+Math.imul(w,mt)|0)+Math.imul(_,pt)|0))<<13)|0;l=((s=s+Math.imul(_,mt)|0)+(r>>>13)|0)+(Tt>>>26)|0,Tt&=67108863,n=Math.imul(B,J),r=(r=Math.imul(B,tt))+Math.imul(U,J)|0,s=Math.imul(U,tt),n=n+Math.imul(N,it)|0,r=(r=r+Math.imul(N,nt)|0)+Math.imul(O,it)|0,s=s+Math.imul(O,nt)|0,n=n+Math.imul(R,st)|0,r=(r=r+Math.imul(R,ot)|0)+Math.imul(D,st)|0,s=s+Math.imul(D,ot)|0,n=n+Math.imul(I,ht)|0,r=(r=r+Math.imul(I,lt)|0)+Math.imul(q,ht)|0,s=s+Math.imul(q,lt)|0,n=n+Math.imul(E,ct)|0,r=(r=r+Math.imul(E,dt)|0)+Math.imul(S,ct)|0,s=s+Math.imul(S,dt)|0;var It=(l+(n=n+Math.imul(x,pt)|0)|0)+((8191&(r=(r=r+Math.imul(x,mt)|0)+Math.imul(k,pt)|0))<<13)|0;l=((s=s+Math.imul(k,mt)|0)+(r>>>13)|0)+(It>>>26)|0,It&=67108863,n=Math.imul(B,it),r=(r=Math.imul(B,nt))+Math.imul(U,it)|0,s=Math.imul(U,nt),n=n+Math.imul(N,st)|0,r=(r=r+Math.imul(N,ot)|0)+Math.imul(O,st)|0,s=s+Math.imul(O,ot)|0,n=n+Math.imul(R,ht)|0,r=(r=r+Math.imul(R,lt)|0)+Math.imul(D,ht)|0,s=s+Math.imul(D,lt)|0,n=n+Math.imul(I,ct)|0,r=(r=r+Math.imul(I,dt)|0)+Math.imul(q,ct)|0,s=s+Math.imul(q,dt)|0;var qt=(l+(n=n+Math.imul(E,pt)|0)|0)+((8191&(r=(r=r+Math.imul(E,mt)|0)+Math.imul(S,pt)|0))<<13)|0;l=((s=s+Math.imul(S,mt)|0)+(r>>>13)|0)+(qt>>>26)|0,qt&=67108863,n=Math.imul(B,st),r=(r=Math.imul(B,ot))+Math.imul(U,st)|0,s=Math.imul(U,ot),n=n+Math.imul(N,ht)|0,r=(r=r+Math.imul(N,lt)|0)+Math.imul(O,ht)|0,s=s+Math.imul(O,lt)|0,n=n+Math.imul(R,ct)|0,r=(r=r+Math.imul(R,dt)|0)+Math.imul(D,ct)|0,s=s+Math.imul(D,dt)|0;var Ct=(l+(n=n+Math.imul(I,pt)|0)|0)+((8191&(r=(r=r+Math.imul(I,mt)|0)+Math.imul(q,pt)|0))<<13)|0;l=((s=s+Math.imul(q,mt)|0)+(r>>>13)|0)+(Ct>>>26)|0,Ct&=67108863,n=Math.imul(B,ht),r=(r=Math.imul(B,lt))+Math.imul(U,ht)|0,s=Math.imul(U,lt),n=n+Math.imul(N,ct)|0,r=(r=r+Math.imul(N,dt)|0)+Math.imul(O,ct)|0,s=s+Math.imul(O,dt)|0;var Rt=(l+(n=n+Math.imul(R,pt)|0)|0)+((8191&(r=(r=r+Math.imul(R,mt)|0)+Math.imul(D,pt)|0))<<13)|0;l=((s=s+Math.imul(D,mt)|0)+(r>>>13)|0)+(Rt>>>26)|0,Rt&=67108863,n=Math.imul(B,ct),r=(r=Math.imul(B,dt))+Math.imul(U,ct)|0,s=Math.imul(U,dt);var Dt=(l+(n=n+Math.imul(N,pt)|0)|0)+((8191&(r=(r=r+Math.imul(N,mt)|0)+Math.imul(O,pt)|0))<<13)|0;l=((s=s+Math.imul(O,mt)|0)+(r>>>13)|0)+(Dt>>>26)|0,Dt&=67108863;var Lt=(l+(n=Math.imul(B,pt))|0)+((8191&(r=(r=Math.imul(B,mt))+Math.imul(U,pt)|0))<<13)|0;return l=((s=Math.imul(U,mt))+(r>>>13)|0)+(Lt>>>26)|0,Lt&=67108863,h[0]=gt,h[1]=vt,h[2]=yt,h[3]=bt,h[4]=wt,h[5]=_t,h[6]=Mt,h[7]=xt,h[8]=kt,h[9]=At,h[10]=Et,h[11]=St,h[12]=Tt,h[13]=It,h[14]=qt,h[15]=Ct,h[16]=Rt,h[17]=Dt,h[18]=Lt,0!==l&&(h[19]=l,i.length++),i};function m(t,e,i){return(new g).mulp(t,e,i)}function g(t,e){this.x=t,this.y=e}Math.imul||(p=f),s.prototype.mulTo=function(t,e){var i,n=this.length+t.length;return i=10===this.length&&10===t.length?p(this,t,e):n<63?f(this,t,e):n<1024?function(t,e,i){i.negative=e.negative^t.negative,i.length=t.length+e.length;for(var n=0,r=0,s=0;s<i.length-1;s++){var o=r;r=0;for(var a=67108863&n,h=Math.min(s,e.length-1),l=Math.max(0,s-t.length+1);l<=h;l++){var u=s-l,c=(0|t.words[u])*(0|e.words[l]),d=67108863&c;a=67108863&(d=d+a|0),r+=(o=(o=o+(c/67108864|0)|0)+(d>>>26)|0)>>>26,o&=67108863}i.words[s]=a,n=o,o=r}return 0!==n?i.words[s]=n:i.length--,i.strip()}(this,t,e):m(this,t,e),i},g.prototype.makeRBT=function(t){for(var e=new Array(t),i=s.prototype._countBits(t)-1,n=0;n<t;n++)e[n]=this.revBin(n,i,t);return e},g.prototype.revBin=function(t,e,i){if(0===t||t===i-1)return t;for(var n=0,r=0;r<e;r++)n|=(1&t)<<e-r-1,t>>=1;return n},g.prototype.permute=function(t,e,i,n,r,s){for(var o=0;o<s;o++)n[o]=e[t[o]],r[o]=i[t[o]]},g.prototype.transform=function(t,e,i,n,r,s){this.permute(s,t,e,i,n,r);for(var o=1;o<r;o<<=1)for(var a=o<<1,h=Math.cos(2*Math.PI/a),l=Math.sin(2*Math.PI/a),u=0;u<r;u+=a)for(var c=h,d=l,f=0;f<o;f++){var p=i[u+f],m=n[u+f],g=i[u+f+o],v=n[u+f+o],y=c*g-d*v;v=c*v+d*g,g=y,i[u+f]=p+g,n[u+f]=m+v,i[u+f+o]=p-g,n[u+f+o]=m-v,f!==a&&(y=h*c-l*d,d=h*d+l*c,c=y)}},g.prototype.guessLen13b=function(t,e){var i=1|Math.max(e,t),n=1&i,r=0;for(i=i/2|0;i;i>>>=1)r++;return 1<<r+1+n},g.prototype.conjugate=function(t,e,i){if(!(i<=1))for(var n=0;n<i/2;n++){var r=t[n];t[n]=t[i-n-1],t[i-n-1]=r,r=e[n],e[n]=-e[i-n-1],e[i-n-1]=-r}},g.prototype.normalize13b=function(t,e){for(var i=0,n=0;n<e/2;n++){var r=8192*Math.round(t[2*n+1]/e)+Math.round(t[2*n]/e)+i;t[n]=67108863&r,i=r<67108864?0:r/67108864|0}return t},g.prototype.convert13b=function(t,e,n,r){for(var s=0,o=0;o<e;o++)s+=0|t[o],n[2*o]=8191&s,s>>>=13,n[2*o+1]=8191&s,s>>>=13;for(o=2*e;o<r;++o)n[o]=0;i(0===s),i(0==(-8192&s))},g.prototype.stub=function(t){for(var e=new Array(t),i=0;i<t;i++)e[i]=0;return e},g.prototype.mulp=function(t,e,i){var n=2*this.guessLen13b(t.length,e.length),r=this.makeRBT(n),s=this.stub(n),o=new Array(n),a=new Array(n),h=new Array(n),l=new Array(n),u=new Array(n),c=new Array(n),d=i.words;d.length=n,this.convert13b(t.words,t.length,o,n),this.convert13b(e.words,e.length,l,n),this.transform(o,s,a,h,n,r),this.transform(l,s,u,c,n,r);for(var f=0;f<n;f++){var p=a[f]*u[f]-h[f]*c[f];h[f]=a[f]*c[f]+h[f]*u[f],a[f]=p}return this.conjugate(a,h,n),this.transform(a,h,d,s,n,r),this.conjugate(d,s,n),this.normalize13b(d,n),i.negative=t.negative^e.negative,i.length=t.length+e.length,i.strip()},s.prototype.mul=function(t){var e=new s(null);return e.words=new Array(this.length+t.length),this.mulTo(t,e)},s.prototype.mulf=function(t){var e=new s(null);return e.words=new Array(this.length+t.length),m(this,t,e)},s.prototype.imul=function(t){return this.clone().mulTo(t,this)},s.prototype.imuln=function(t){i("number"==typeof t),i(t<67108864);for(var e=0,n=0;n<this.length;n++){var r=(0|this.words[n])*t,s=(67108863&r)+(67108863&e);e>>=26,e+=r/67108864|0,e+=s>>>26,this.words[n]=67108863&s}return 0!==e&&(this.words[n]=e,this.length++),this},s.prototype.muln=function(t){return this.clone().imuln(t)},s.prototype.sqr=function(){return this.mul(this)},s.prototype.isqr=function(){return this.imul(this.clone())},s.prototype.pow=function(t){var e=function(t){for(var e=new Array(t.bitLength()),i=0;i<e.length;i++){var n=i/26|0,r=i%26;e[i]=(t.words[n]&1<<r)>>>r}return e}(t);if(0===e.length)return new s(1);for(var i=this,n=0;n<e.length&&0===e[n];n++,i=i.sqr());if(++n<e.length)for(var r=i.sqr();n<e.length;n++,r=r.sqr())0!==e[n]&&(i=i.mul(r));return i},s.prototype.iushln=function(t){i("number"==typeof t&&t>=0);var e,n=t%26,r=(t-n)/26,s=67108863>>>26-n<<26-n;if(0!==n){var o=0;for(e=0;e<this.length;e++){var a=this.words[e]&s,h=(0|this.words[e])-a<<n;this.words[e]=h|o,o=a>>>26-n}o&&(this.words[e]=o,this.length++)}if(0!==r){for(e=this.length-1;e>=0;e--)this.words[e+r]=this.words[e];for(e=0;e<r;e++)this.words[e]=0;this.length+=r}return this.strip()},s.prototype.ishln=function(t){return i(0===this.negative),this.iushln(t)},s.prototype.iushrn=function(t,e,n){var r;i("number"==typeof t&&t>=0),r=e?(e-e%26)/26:0;var s=t%26,o=Math.min((t-s)/26,this.length),a=67108863^67108863>>>s<<s,h=n;if(r-=o,r=Math.max(0,r),h){for(var l=0;l<o;l++)h.words[l]=this.words[l];h.length=o}if(0===o);else if(this.length>o)for(this.length-=o,l=0;l<this.length;l++)this.words[l]=this.words[l+o];else this.words[0]=0,this.length=1;var u=0;for(l=this.length-1;l>=0&&(0!==u||l>=r);l--){var c=0|this.words[l];this.words[l]=u<<26-s|c>>>s,u=c&a}return h&&0!==u&&(h.words[h.length++]=u),0===this.length&&(this.words[0]=0,this.length=1),this.strip()},s.prototype.ishrn=function(t,e,n){return i(0===this.negative),this.iushrn(t,e,n)},s.prototype.shln=function(t){return this.clone().ishln(t)},s.prototype.ushln=function(t){return this.clone().iushln(t)},s.prototype.shrn=function(t){return this.clone().ishrn(t)},s.prototype.ushrn=function(t){return this.clone().iushrn(t)},s.prototype.testn=function(t){i("number"==typeof t&&t>=0);var e=t%26,n=(t-e)/26,r=1<<e;return!(this.length<=n)&&!!(this.words[n]&r)},s.prototype.imaskn=function(t){i("number"==typeof t&&t>=0);var e=t%26,n=(t-e)/26;if(i(0===this.negative,"imaskn works only with positive numbers"),this.length<=n)return this;if(0!==e&&n++,this.length=Math.min(n,this.length),0!==e){var r=67108863^67108863>>>e<<e;this.words[this.length-1]&=r}return this.strip()},s.prototype.maskn=function(t){return this.clone().imaskn(t)},s.prototype.iaddn=function(t){return i("number"==typeof t),i(t<67108864),t<0?this.isubn(-t):0!==this.negative?1===this.length&&(0|this.words[0])<t?(this.words[0]=t-(0|this.words[0]),this.negative=0,this):(this.negative=0,this.isubn(t),this.negative=1,this):this._iaddn(t)},s.prototype._iaddn=function(t){this.words[0]+=t;for(var e=0;e<this.length&&this.words[e]>=67108864;e++)this.words[e]-=67108864,e===this.length-1?this.words[e+1]=1:this.words[e+1]++;return this.length=Math.max(this.length,e+1),this},s.prototype.isubn=function(t){if(i("number"==typeof t),i(t<67108864),t<0)return this.iaddn(-t);if(0!==this.negative)return this.negative=0,this.iaddn(t),this.negative=1,this;if(this.words[0]-=t,1===this.length&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var e=0;e<this.length&&this.words[e]<0;e++)this.words[e]+=67108864,this.words[e+1]-=1;return this.strip()},s.prototype.addn=function(t){return this.clone().iaddn(t)},s.prototype.subn=function(t){return this.clone().isubn(t)},s.prototype.iabs=function(){return this.negative=0,this},s.prototype.abs=function(){return this.clone().iabs()},s.prototype._ishlnsubmul=function(t,e,n){var r,s,o=t.length+n;this._expand(o);var a=0;for(r=0;r<t.length;r++){s=(0|this.words[r+n])+a;var h=(0|t.words[r])*e;a=((s-=67108863&h)>>26)-(h/67108864|0),this.words[r+n]=67108863&s}for(;r<this.length-n;r++)a=(s=(0|this.words[r+n])+a)>>26,this.words[r+n]=67108863&s;if(0===a)return this.strip();for(i(-1===a),a=0,r=0;r<this.length;r++)a=(s=-(0|this.words[r])+a)>>26,this.words[r]=67108863&s;return this.negative=1,this.strip()},s.prototype._wordDiv=function(t,e){var i=(this.length,t.length),n=this.clone(),r=t,o=0|r.words[r.length-1];0!==(i=26-this._countBits(o))&&(r=r.ushln(i),n.iushln(i),o=0|r.words[r.length-1]);var a,h=n.length-r.length;if("mod"!==e){(a=new s(null)).length=h+1,a.words=new Array(a.length);for(var l=0;l<a.length;l++)a.words[l]=0}var u=n.clone()._ishlnsubmul(r,1,h);0===u.negative&&(n=u,a&&(a.words[h]=1));for(var c=h-1;c>=0;c--){var d=67108864*(0|n.words[r.length+c])+(0|n.words[r.length+c-1]);for(d=Math.min(d/o|0,67108863),n._ishlnsubmul(r,d,c);0!==n.negative;)d--,n.negative=0,n._ishlnsubmul(r,1,c),n.isZero()||(n.negative^=1);a&&(a.words[c]=d)}return a&&a.strip(),n.strip(),"div"!==e&&0!==i&&n.iushrn(i),{div:a||null,mod:n}},s.prototype.divmod=function(t,e,n){return i(!t.isZero()),this.isZero()?{div:new s(0),mod:new s(0)}:0!==this.negative&&0===t.negative?(a=this.neg().divmod(t,e),"mod"!==e&&(r=a.div.neg()),"div"!==e&&(o=a.mod.neg(),n&&0!==o.negative&&o.iadd(t)),{div:r,mod:o}):0===this.negative&&0!==t.negative?(a=this.divmod(t.neg(),e),"mod"!==e&&(r=a.div.neg()),{div:r,mod:a.mod}):0!=(this.negative&t.negative)?(a=this.neg().divmod(t.neg(),e),"div"!==e&&(o=a.mod.neg(),n&&0!==o.negative&&o.isub(t)),{div:a.div,mod:o}):t.length>this.length||this.cmp(t)<0?{div:new s(0),mod:this}:1===t.length?"div"===e?{div:this.divn(t.words[0]),mod:null}:"mod"===e?{div:null,mod:new s(this.modn(t.words[0]))}:{div:this.divn(t.words[0]),mod:new s(this.modn(t.words[0]))}:this._wordDiv(t,e);var r,o,a},s.prototype.div=function(t){return this.divmod(t,"div",!1).div},s.prototype.mod=function(t){return this.divmod(t,"mod",!1).mod},s.prototype.umod=function(t){return this.divmod(t,"mod",!0).mod},s.prototype.divRound=function(t){var e=this.divmod(t);if(e.mod.isZero())return e.div;var i=0!==e.div.negative?e.mod.isub(t):e.mod,n=t.ushrn(1),r=t.andln(1),s=i.cmp(n);return s<0||1===r&&0===s?e.div:0!==e.div.negative?e.div.isubn(1):e.div.iaddn(1)},s.prototype.modn=function(t){i(t<=67108863);for(var e=67108864%t,n=0,r=this.length-1;r>=0;r--)n=(e*n+(0|this.words[r]))%t;return n},s.prototype.idivn=function(t){i(t<=67108863);for(var e=0,n=this.length-1;n>=0;n--){var r=(0|this.words[n])+67108864*e;this.words[n]=r/t|0,e=r%t}return this.strip()},s.prototype.divn=function(t){return this.clone().idivn(t)},s.prototype.egcd=function(t){i(0===t.negative),i(!t.isZero());var e=this,n=t.clone();e=0!==e.negative?e.umod(t):e.clone();for(var r=new s(1),o=new s(0),a=new s(0),h=new s(1),l=0;e.isEven()&&n.isEven();)e.iushrn(1),n.iushrn(1),++l;for(var u=n.clone(),c=e.clone();!e.isZero();){for(var d=0,f=1;0==(e.words[0]&f)&&d<26;++d,f<<=1);if(d>0)for(e.iushrn(d);d-- >0;)(r.isOdd()||o.isOdd())&&(r.iadd(u),o.isub(c)),r.iushrn(1),o.iushrn(1);for(var p=0,m=1;0==(n.words[0]&m)&&p<26;++p,m<<=1);if(p>0)for(n.iushrn(p);p-- >0;)(a.isOdd()||h.isOdd())&&(a.iadd(u),h.isub(c)),a.iushrn(1),h.iushrn(1);e.cmp(n)>=0?(e.isub(n),r.isub(a),o.isub(h)):(n.isub(e),a.isub(r),h.isub(o))}return{a:a,b:h,gcd:n.iushln(l)}},s.prototype._invmp=function(t){i(0===t.negative),i(!t.isZero());var e=this,n=t.clone();e=0!==e.negative?e.umod(t):e.clone();for(var r,o=new s(1),a=new s(0),h=n.clone();e.cmpn(1)>0&&n.cmpn(1)>0;){for(var l=0,u=1;0==(e.words[0]&u)&&l<26;++l,u<<=1);if(l>0)for(e.iushrn(l);l-- >0;)o.isOdd()&&o.iadd(h),o.iushrn(1);for(var c=0,d=1;0==(n.words[0]&d)&&c<26;++c,d<<=1);if(c>0)for(n.iushrn(c);c-- >0;)a.isOdd()&&a.iadd(h),a.iushrn(1);e.cmp(n)>=0?(e.isub(n),o.isub(a)):(n.isub(e),a.isub(o))}return(r=0===e.cmpn(1)?o:a).cmpn(0)<0&&r.iadd(t),r},s.prototype.gcd=function(t){if(this.isZero())return t.abs();if(t.isZero())return this.abs();var e=this.clone(),i=t.clone();e.negative=0,i.negative=0;for(var n=0;e.isEven()&&i.isEven();n++)e.iushrn(1),i.iushrn(1);for(;;){for(;e.isEven();)e.iushrn(1);for(;i.isEven();)i.iushrn(1);var r=e.cmp(i);if(r<0){var s=e;e=i,i=s}else if(0===r||0===i.cmpn(1))break;e.isub(i)}return i.iushln(n)},s.prototype.invm=function(t){return this.egcd(t).a.umod(t)},s.prototype.isEven=function(){return 0==(1&this.words[0])},s.prototype.isOdd=function(){return 1==(1&this.words[0])},s.prototype.andln=function(t){return this.words[0]&t},s.prototype.bincn=function(t){i("number"==typeof t);var e=t%26,n=(t-e)/26,r=1<<e;if(this.length<=n)return this._expand(n+1),this.words[n]|=r,this;for(var s=r,o=n;0!==s&&o<this.length;o++){var a=0|this.words[o];s=(a+=s)>>>26,a&=67108863,this.words[o]=a}return 0!==s&&(this.words[o]=s,this.length++),this},s.prototype.isZero=function(){return 1===this.length&&0===this.words[0]},s.prototype.cmpn=function(t){var e,n=t<0;if(0!==this.negative&&!n)return-1;if(0===this.negative&&n)return 1;if(this.strip(),this.length>1)e=1;else{n&&(t=-t),i(t<=67108863,"Number is too big");var r=0|this.words[0];e=r===t?0:r<t?-1:1}return 0!==this.negative?0|-e:e},s.prototype.cmp=function(t){if(0!==this.negative&&0===t.negative)return-1;if(0===this.negative&&0!==t.negative)return 1;var e=this.ucmp(t);return 0!==this.negative?0|-e:e},s.prototype.ucmp=function(t){if(this.length>t.length)return 1;if(this.length<t.length)return-1;for(var e=0,i=this.length-1;i>=0;i--){var n=0|this.words[i],r=0|t.words[i];if(n!==r){n<r?e=-1:n>r&&(e=1);break}}return e},s.prototype.gtn=function(t){return 1===this.cmpn(t)},s.prototype.gt=function(t){return 1===this.cmp(t)},s.prototype.gten=function(t){return this.cmpn(t)>=0},s.prototype.gte=function(t){return this.cmp(t)>=0},s.prototype.ltn=function(t){return-1===this.cmpn(t)},s.prototype.lt=function(t){return-1===this.cmp(t)},s.prototype.lten=function(t){return this.cmpn(t)<=0},s.prototype.lte=function(t){return this.cmp(t)<=0},s.prototype.eqn=function(t){return 0===this.cmpn(t)},s.prototype.eq=function(t){return 0===this.cmp(t)},s.red=function(t){return new x(t)},s.prototype.toRed=function(t){return i(!this.red,"Already a number in reduction context"),i(0===this.negative,"red works only with positives"),t.convertTo(this)._forceRed(t)},s.prototype.fromRed=function(){return i(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},s.prototype._forceRed=function(t){return this.red=t,this},s.prototype.forceRed=function(t){return i(!this.red,"Already a number in reduction context"),this._forceRed(t)},s.prototype.redAdd=function(t){return i(this.red,"redAdd works only with red numbers"),this.red.add(this,t)},s.prototype.redIAdd=function(t){return i(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,t)},s.prototype.redSub=function(t){return i(this.red,"redSub works only with red numbers"),this.red.sub(this,t)},s.prototype.redISub=function(t){return i(this.red,"redISub works only with red numbers"),this.red.isub(this,t)},s.prototype.redShl=function(t){return i(this.red,"redShl works only with red numbers"),this.red.shl(this,t)},s.prototype.redMul=function(t){return i(this.red,"redMul works only with red numbers"),this.red._verify2(this,t),this.red.mul(this,t)},s.prototype.redIMul=function(t){return i(this.red,"redMul works only with red numbers"),this.red._verify2(this,t),this.red.imul(this,t)},s.prototype.redSqr=function(){return i(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},s.prototype.redISqr=function(){return i(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},s.prototype.redSqrt=function(){return i(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},s.prototype.redInvm=function(){return i(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},s.prototype.redNeg=function(){return i(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},s.prototype.redPow=function(t){return i(this.red&&!t.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,t)};var v={k256:null,p224:null,p192:null,p25519:null};function y(t,e){this.name=t,this.p=new s(e,16),this.n=this.p.bitLength(),this.k=new s(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}function b(){y.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}function w(){y.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}function _(){y.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}function M(){y.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}function x(t){if("string"==typeof t){var e=s._prime(t);this.m=e.p,this.prime=e}else i(t.gtn(1),"modulus must be greater than 1"),this.m=t,this.prime=null}function k(t){x.call(this,t),this.shift=this.m.bitLength(),this.shift%26!=0&&(this.shift+=26-this.shift%26),this.r=new s(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}y.prototype._tmp=function(){var t=new s(null);return t.words=new Array(Math.ceil(this.n/13)),t},y.prototype.ireduce=function(t){var e,i=t;do{this.split(i,this.tmp),e=(i=(i=this.imulK(i)).iadd(this.tmp)).bitLength()}while(e>this.n);var n=e<this.n?-1:i.ucmp(this.p);return 0===n?(i.words[0]=0,i.length=1):n>0?i.isub(this.p):void 0!==i.strip?i.strip():i._strip(),i},y.prototype.split=function(t,e){t.iushrn(this.n,0,e)},y.prototype.imulK=function(t){return t.imul(this.k)},n(b,y),b.prototype.split=function(t,e){for(var i=4194303,n=Math.min(t.length,9),r=0;r<n;r++)e.words[r]=t.words[r];if(e.length=n,t.length<=9)return t.words[0]=0,void(t.length=1);var s=t.words[9];for(e.words[e.length++]=s&i,r=10;r<t.length;r++){var o=0|t.words[r];t.words[r-10]=(o&i)<<4|s>>>22,s=o}s>>>=22,t.words[r-10]=s,0===s&&t.length>10?t.length-=10:t.length-=9},b.prototype.imulK=function(t){t.words[t.length]=0,t.words[t.length+1]=0,t.length+=2;for(var e=0,i=0;i<t.length;i++){var n=0|t.words[i];e+=977*n,t.words[i]=67108863&e,e=64*n+(e/67108864|0)}return 0===t.words[t.length-1]&&(t.length--,0===t.words[t.length-1]&&t.length--),t},n(w,y),n(_,y),n(M,y),M.prototype.imulK=function(t){for(var e=0,i=0;i<t.length;i++){var n=19*(0|t.words[i])+e,r=67108863&n;n>>>=26,t.words[i]=r,e=n}return 0!==e&&(t.words[t.length++]=e),t},s._prime=function(t){if(v[t])return v[t];var e;if("k256"===t)e=new b;else if("p224"===t)e=new w;else if("p192"===t)e=new _;else{if("p25519"!==t)throw new Error("Unknown prime "+t);e=new M}return v[t]=e,e},x.prototype._verify1=function(t){i(0===t.negative,"red works only with positives"),i(t.red,"red works only with red numbers")},x.prototype._verify2=function(t,e){i(0==(t.negative|e.negative),"red works only with positives"),i(t.red&&t.red===e.red,"red works only with red numbers")},x.prototype.imod=function(t){return this.prime?this.prime.ireduce(t)._forceRed(this):t.umod(this.m)._forceRed(this)},x.prototype.neg=function(t){return t.isZero()?t.clone():this.m.sub(t)._forceRed(this)},x.prototype.add=function(t,e){this._verify2(t,e);var i=t.add(e);return i.cmp(this.m)>=0&&i.isub(this.m),i._forceRed(this)},x.prototype.iadd=function(t,e){this._verify2(t,e);var i=t.iadd(e);return i.cmp(this.m)>=0&&i.isub(this.m),i},x.prototype.sub=function(t,e){this._verify2(t,e);var i=t.sub(e);return i.cmpn(0)<0&&i.iadd(this.m),i._forceRed(this)},x.prototype.isub=function(t,e){this._verify2(t,e);var i=t.isub(e);return i.cmpn(0)<0&&i.iadd(this.m),i},x.prototype.shl=function(t,e){return this._verify1(t),this.imod(t.ushln(e))},x.prototype.imul=function(t,e){return this._verify2(t,e),this.imod(t.imul(e))},x.prototype.mul=function(t,e){return this._verify2(t,e),this.imod(t.mul(e))},x.prototype.isqr=function(t){return this.imul(t,t.clone())},x.prototype.sqr=function(t){return this.mul(t,t)},x.prototype.sqrt=function(t){if(t.isZero())return t.clone();var e=this.m.andln(3);if(i(e%2==1),3===e){var n=this.m.add(new s(1)).iushrn(2);return this.pow(t,n)}for(var r=this.m.subn(1),o=0;!r.isZero()&&0===r.andln(1);)o++,r.iushrn(1);i(!r.isZero());var a=new s(1).toRed(this),h=a.redNeg(),l=this.m.subn(1).iushrn(1),u=this.m.bitLength();for(u=new s(2*u*u).toRed(this);0!==this.pow(u,l).cmp(h);)u.redIAdd(h);for(var c=this.pow(u,r),d=this.pow(t,r.addn(1).iushrn(1)),f=this.pow(t,r),p=o;0!==f.cmp(a);){for(var m=f,g=0;0!==m.cmp(a);g++)m=m.redSqr();i(g<p);var v=this.pow(c,new s(1).iushln(p-g-1));d=d.redMul(v),c=v.redSqr(),f=f.redMul(c),p=g}return d},x.prototype.invm=function(t){var e=t._invmp(this.m);return 0!==e.negative?(e.negative=0,this.imod(e).redNeg()):this.imod(e)},x.prototype.pow=function(t,e){if(e.isZero())return new s(1).toRed(this);if(0===e.cmpn(1))return t.clone();var i=new Array(16);i[0]=new s(1).toRed(this),i[1]=t;for(var n=2;n<i.length;n++)i[n]=this.mul(i[n-1],t);var r=i[0],o=0,a=0,h=e.bitLength()%26;for(0===h&&(h=26),n=e.length-1;n>=0;n--){for(var l=e.words[n],u=h-1;u>=0;u--){var c=l>>u&1;r!==i[0]&&(r=this.sqr(r)),0!==c||0!==o?(o<<=1,o|=c,(4===++a||0===n&&0===u)&&(r=this.mul(r,i[o]),a=0,o=0)):a=0}h=26}return r},x.prototype.convertTo=function(t){var e=t.umod(this.m);return e===t?e.clone():e},x.prototype.convertFrom=function(t){var e=t.clone();return e.red=null,e},s.mont=function(t){return new k(t)},n(k,x),k.prototype.convertTo=function(t){return this.imod(t.ushln(this.shift))},k.prototype.convertFrom=function(t){var e=this.imod(t.mul(this.rinv));return e.red=null,e},k.prototype.imul=function(t,e){if(t.isZero()||e.isZero())return t.words[0]=0,t.length=1,t;var i=t.imul(e),n=i.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),r=i.isub(n).iushrn(this.shift),s=r;return r.cmp(this.m)>=0?s=r.isub(this.m):r.cmpn(0)<0&&(s=r.iadd(this.m)),s._forceRed(this)},k.prototype.mul=function(t,e){if(t.isZero()||e.isZero())return new s(0)._forceRed(this);var i=t.mul(e),n=i.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),r=i.isub(n).iushrn(this.shift),o=r;return r.cmp(this.m)>=0?o=r.isub(this.m):r.cmpn(0)<0&&(o=r.iadd(this.m)),o._forceRed(this)},k.prototype.invm=function(t){return this.imod(t._invmp(this.m).mul(this.r2))._forceRed(this)}}(t,this)})),r.register("andWH",(function(t,e){var i=r("cYqNP"),n=r("emGH0").Buffer;t.exports=function(t,e){return n.from(t.toRed(i.mont(e.modulus)).redPow(new i(e.publicExponent)).fromRed().toArray())}})),r.register("gm4RA",(function(t,e){var i=r("istSy"),n=r("a9vEz"),s=r("4cUVQ"),o=r("cYqNP"),a=r("3DKvV"),h=r("ghseq"),l=r("andWH"),u=r("emGH0").Buffer;t.exports=function(t,e,r){var c;c=t.padding?t.padding:r?1:4;var d,f=i(t),p=f.modulus.byteLength();if(e.length>p||new o(e).cmp(f.modulus)>=0)throw new Error("decryption error");d=r?l(new o(e),f):a(e,f);var m=u.alloc(p-d.length);if(d=u.concat([m,d],p),4===c)return function(t,e){var i=t.modulus.byteLength(),r=h("sha1").update(u.alloc(0)).digest(),o=r.length;if(0!==e[0])throw new Error("decryption error");var a=e.slice(1,o+1),l=e.slice(o+1),c=s(a,n(l,o)),d=s(l,n(c,i-o-1));if(function(t,e){t=u.from(t),e=u.from(e);var i=0,n=t.length;t.length!==e.length&&(i++,n=Math.min(t.length,e.length));var r=-1;for(;++r<n;)i+=t[r]^e[r];return i}(r,d.slice(0,o)))throw new Error("decryption error");var f=o;for(;0===d[f];)f++;if(1!==d[f++])throw new Error("decryption error");return d.slice(f)}(f,d);if(1===c)return function(t,e,i){var n=e.slice(0,2),r=2,s=0;for(;0!==e[r++];)if(r>=e.length){s++;break}var o=e.slice(2,r-1);("0002"!==n.toString("hex")&&!i||"0001"!==n.toString("hex")&&i)&&s++;o.length<8&&s++;if(s)throw new Error("decryption error");return e.slice(r)}(0,d,r);if(3===c)return d;throw new Error("unknown padding")}})),r.register("luoXv",(function(i,n){var s,o;t(i.exports,"randomFill",(()=>s),(t=>s=t)),t(i.exports,"randomFillSync",(()=>o),(t=>o=t));var a=r("gXRuj");function h(){throw new Error("secure random number generation not supported by this browser\nuse chrome, FireFox or Internet Explorer 11")}var l=r("emGH0"),u=(r("jF6xI"),l.Buffer),c=l.kMaxLength,d=e.crypto||e.msCrypto,f=Math.pow(2,32)-1;function p(t,e){if("number"!=typeof t||t!=t)throw new TypeError("offset must be a number");if(t>f||t<0)throw new TypeError("offset must be a uint32");if(t>c||t>e)throw new RangeError("offset out of range")}function m(t,e,i){if("number"!=typeof t||t!=t)throw new TypeError("size must be a number");if(t>f||t<0)throw new TypeError("size must be a uint32");if(t+e>i||t>c)throw new RangeError("buffer too small")}function g(t,e,i,n){var r=t.buffer,s=new Uint8Array(r,e,i);if(d.getRandomValues(s),!n)return t;a.nextTick((function(){n(null,t)}))}d&&d.getRandomValues?(s=function(t,i,n,r){if(!(u.isBuffer(t)||t instanceof e.Uint8Array))throw new TypeError('"buf" argument must be a Buffer or Uint8Array');if("function"==typeof i)r=i,i=0,n=t.length;else if("function"==typeof n)r=n,n=t.length-i;else if("function"!=typeof r)throw new TypeError('"cb" argument must be a function');return p(i,t.length),m(n,i,t.length),g(t,i,n,r)},o=function(t,i,n){void 0===i&&(i=0);if(!(u.isBuffer(t)||t instanceof e.Uint8Array))throw new TypeError('"buf" argument must be a Buffer or Uint8Array');p(i,t.length),void 0===n&&(n=t.length-i);return m(n,i,t.length),g(t,i,n)}):(s=h,o=h)})),r("bRe85").register(JSON.parse('{"1FgAu":"index.c065dd49.js","3FItI":"sw.js"}'));
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var s=r("gXRuj");const o=function(t){const e=[];let i=0;for(let n=0;n<t.length;n++){let r=t.charCodeAt(n);r<128?e[i++]=r:r<2048?(e[i++]=r>>6|192,e[i++]=63&r|128):55296==(64512&r)&&n+1<t.length&&56320==(64512&t.charCodeAt(n+1))?(r=65536+((1023&r)<<10)+(1023&t.charCodeAt(++n)),e[i++]=r>>18|240,e[i++]=r>>12&63|128,e[i++]=r>>6&63|128,e[i++]=63&r|128):(e[i++]=r>>12|224,e[i++]=r>>6&63|128,e[i++]=63&r|128)}return e},a={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const i=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,n=[];for(let e=0;e<t.length;e+=3){const r=t[e],s=e+1<t.length,o=s?t[e+1]:0,a=e+2<t.length,h=a?t[e+2]:0,l=r>>2,u=(3&r)<<4|o>>4;let c=(15&o)<<2|h>>6,d=63&h;a||(d=64,s||(c=64)),n.push(i[l],i[u],i[c],i[d])}return n.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(o(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):function(t){const e=[];let i=0,n=0;for(;i<t.length;){const r=t[i++];if(r<128)e[n++]=String.fromCharCode(r);else if(r>191&&r<224){const s=t[i++];e[n++]=String.fromCharCode((31&r)<<6|63&s)}else if(r>239&&r<365){const s=((7&r)<<18|(63&t[i++])<<12|(63&t[i++])<<6|63&t[i++])-65536;e[n++]=String.fromCharCode(55296+(s>>10)),e[n++]=String.fromCharCode(56320+(1023&s))}else{const s=t[i++],o=t[i++];e[n++]=String.fromCharCode((15&r)<<12|(63&s)<<6|63&o)}}return e.join("")}(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const i=e?this.charToByteMapWebSafe_:this.charToByteMap_,n=[];for(let e=0;e<t.length;){const r=i[t.charAt(e++)],s=e<t.length?i[t.charAt(e)]:0;++e;const o=e<t.length?i[t.charAt(e)]:64;++e;const a=e<t.length?i[t.charAt(e)]:64;if(++e,null==r||null==s||null==o||null==a)throw Error();const h=r<<2|s>>4;if(n.push(h),64!==o){const t=s<<4&240|o>>2;if(n.push(t),64!==a){const t=o<<6&192|a;n.push(t)}}}return n},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}},h=function(t){return function(t){const e=o(t);return a.encodeByteArray(e,!0)}(t).replace(/\./g,"")},l=function(t){try{return a.decodeString(t,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
const u=()=>
/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function(){if("undefined"!=typeof self)return self;if("undefined"!=typeof window)return window;if(void 0!==e)return e;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__,c=()=>{try{return u()||(()=>{if(void 0===s||void 0===s.env)return})()||(()=>{if("undefined"==typeof document)return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch(t){return}const e=t&&l(t[1]);return e&&JSON.parse(e)})()}catch(t){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`)}},d=t=>{var e,i;return null===(i=null===(e=c())||void 0===e?void 0:e.emulatorHosts)||void 0===i?void 0:i[t]},f=t=>{const e=d(t);if(!e)return;const i=e.lastIndexOf(":");if(i<=0||i+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const n=parseInt(e.substring(i+1),10);return"["===e[0]?[e.substring(1,i-1),n]:[e.substring(0,i),n]},p=()=>{var t;return null===(t=c())||void 0===t?void 0:t.config},m=t=>{var e;return null===(e=c())||void 0===e?void 0:e[`_${t}`]};
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class g{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise(((t,e)=>{this.resolve=t,this.reject=e}))}wrapCallback(t){return(e,i)=>{e?this.reject(e):this.resolve(i),"function"==typeof t&&(this.promise.catch((()=>{})),1===t.length?t(e):t(e,i))}}}
/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function v(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const i=e||"demo-project",n=t.iat||0,r=t.sub||t.user_id;if(!r)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const s=Object.assign({iss:`https://securetoken.google.com/${i}`,aud:i,iat:n,exp:n+3600,auth_time:n,sub:r,user_id:r,firebase:{sign_in_provider:"custom",identities:{}}},t);return[h(JSON.stringify({alg:"none",type:"JWT"})),h(JSON.stringify(s)),""].join(".")}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function y(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function b(){var t;const i=null===(t=c())||void 0===t?void 0:t.forceEnvironment;if("node"===i)return!0;if("browser"===i)return!1;try{return"[object process]"===Object.prototype.toString.call(e.process)}catch(t){return!1}}function w(){const t="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof t&&void 0!==t.id}function _(){const t=y();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function M(){try{return"object"==typeof indexedDB}catch(t){return!1}}class x extends Error{constructor(t,e,i){super(e),this.code=t,this.customData=i,this.name="FirebaseError",Object.setPrototypeOf(this,x.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,k.prototype.create)}}class k{constructor(t,e,i){this.service=t,this.serviceName=e,this.errors=i}create(t,...e){const i=e[0]||{},n=`${this.service}/${t}`,r=this.errors[t],s=r?function(t,e){return t.replace(A,((t,i)=>{const n=e[i];return null!=n?String(n):`<${i}?>`}))}(r,i):"Error",o=`${this.serviceName}: ${s} (${n}).`;return new x(n,o,i)}}const A=/\{\$([^}]+)}/g;
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function E(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function S(t,e){if(t===e)return!0;const i=Object.keys(t),n=Object.keys(e);for(const r of i){if(!n.includes(r))return!1;const i=t[r],s=e[r];if(T(i)&&T(s)){if(!S(i,s))return!1}else if(i!==s)return!1}for(const t of n)if(!i.includes(t))return!1;return!0}function T(t){return null!==t&&"object"==typeof t}
/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function I(t){const e=[];for(const[i,n]of Object.entries(t))Array.isArray(n)?n.forEach((t=>{e.push(encodeURIComponent(i)+"="+encodeURIComponent(t))})):e.push(encodeURIComponent(i)+"="+encodeURIComponent(n));return e.length?"&"+e.join("&"):""}function q(t){const e={};return t.replace(/^\?/,"").split("&").forEach((t=>{if(t){const[i,n]=t.split("=");e[decodeURIComponent(i)]=decodeURIComponent(n)}})),e}function C(t){const e=t.indexOf("?");if(!e)return"";const i=t.indexOf("#",e);return t.substring(e,i>0?i:void 0)}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function R(t,e){const i=new D(t,e);return i.subscribe.bind(i)}class D{constructor(t,e){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=e,this.task.then((()=>{t(this)})).catch((t=>{this.error(t)}))}next(t){this.forEachObserver((e=>{e.next(t)}))}error(t){this.forEachObserver((e=>{e.error(t)})),this.close(t)}complete(){this.forEachObserver((t=>{t.complete()})),this.close()}subscribe(t,e,i){let n;if(void 0===t&&void 0===e&&void 0===i)throw new Error("Missing Observer.");n=function(t,e){if("object"!=typeof t||null===t)return!1;for(const i of e)if(i in t&&"function"==typeof t[i])return!0;return!1}(t,["next","error","complete"])?t:{next:t,error:e,complete:i},void 0===n.next&&(n.next=L),void 0===n.error&&(n.error=L),void 0===n.complete&&(n.complete=L);const r=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((()=>{try{this.finalError?n.error(this.finalError):n.complete()}catch(t){}})),this.observers.push(n),r}unsubscribeOne(t){void 0!==this.observers&&void 0!==this.observers[t]&&(delete this.observers[t],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let e=0;e<this.observers.length;e++)this.sendOne(e,t)}sendOne(t,e){this.task.then((()=>{if(void 0!==this.observers&&void 0!==this.observers[t])try{e(this.observers[t])}catch(t){"undefined"!=typeof console&&console.error&&console.error(t)}}))}close(t){this.finalized||(this.finalized=!0,void 0!==t&&(this.finalError=t),this.task.then((()=>{this.observers=void 0,this.onNoObservers=void 0})))}}function L(){}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function N(t){return t&&t._delegate?t._delegate:t}class O{constructor(t,e,i){this.name=t,this.instanceFactory=e,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const P="[DEFAULT]";
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B{constructor(t,e){this.name=t,this.container=e,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const e=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(e)){const t=new g;if(this.instancesDeferred.set(e,t),this.isInitialized(e)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:e});i&&t.resolve(i)}catch(t){}}return this.instancesDeferred.get(e).promise}getImmediate(t){var e;const i=this.normalizeInstanceIdentifier(null==t?void 0:t.identifier),n=null!==(e=null==t?void 0:t.optional)&&void 0!==e&&e;if(!this.isInitialized(i)&&!this.shouldAutoInitialize()){if(n)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:i})}catch(t){if(n)return null;throw t}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,this.shouldAutoInitialize()){if(function(t){return"EAGER"===t.instantiationMode}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(t))try{this.getOrInitializeService({instanceIdentifier:P})}catch(t){}for(const[t,e]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(t);try{const t=this.getOrInitializeService({instanceIdentifier:i});e.resolve(t)}catch(t){}}}}clearInstance(t=P){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter((t=>"INTERNAL"in t)).map((t=>t.INTERNAL.delete())),...t.filter((t=>"_delete"in t)).map((t=>t._delete()))])}isComponentSet(){return null!=this.component}isInitialized(t=P){return this.instances.has(t)}getOptions(t=P){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:e={}}=t,i=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const n=this.getOrInitializeService({instanceIdentifier:i,options:e});for(const[t,e]of this.instancesDeferred.entries()){i===this.normalizeInstanceIdentifier(t)&&e.resolve(n)}return n}onInit(t,e){var i;const n=this.normalizeInstanceIdentifier(e),r=null!==(i=this.onInitCallbacks.get(n))&&void 0!==i?i:new Set;r.add(t),this.onInitCallbacks.set(n,r);const s=this.instances.get(n);return s&&t(s,n),()=>{r.delete(t)}}invokeOnInitCallbacks(t,e){const i=this.onInitCallbacks.get(e);if(i)for(const n of i)try{n(t,e)}catch(t){}}getOrInitializeService({instanceIdentifier:t,options:e={}}){let i=this.instances.get(t);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:(n=t,n===P?void 0:n),options:e}),this.instances.set(t,i),this.instancesOptions.set(t,e),this.invokeOnInitCallbacks(i,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,i)}catch(t){}var n;return i||null}normalizeInstanceIdentifier(t=P){return this.component?this.component.multipleInstances?t:P:t}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class U{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const e=this.getProvider(t.name);if(e.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);e.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const e=new B(t,this);return this.providers.set(t,e),e}getProviders(){return Array.from(this.providers.values())}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const F=[];var j,z;(z=j||(j={}))[z.DEBUG=0]="DEBUG",z[z.VERBOSE=1]="VERBOSE",z[z.INFO=2]="INFO",z[z.WARN=3]="WARN",z[z.ERROR=4]="ERROR",z[z.SILENT=5]="SILENT";const V={debug:j.DEBUG,verbose:j.VERBOSE,info:j.INFO,warn:j.WARN,error:j.ERROR,silent:j.SILENT},H=j.INFO,W={[j.DEBUG]:"log",[j.VERBOSE]:"log",[j.INFO]:"info",[j.WARN]:"warn",[j.ERROR]:"error"},K=(t,e,...i)=>{if(e<t.logLevel)return;const n=(new Date).toISOString(),r=W[e];if(!r)throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`);console[r](`[${n}]  ${t.name}:`,...i)};class G{constructor(t){this.name=t,this._logLevel=H,this._logHandler=K,this._userLogHandler=null,F.push(this)}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in j))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel="string"==typeof t?V[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if("function"!=typeof t)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,j.DEBUG,...t),this._logHandler(this,j.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,j.VERBOSE,...t),this._logHandler(this,j.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,j.INFO,...t),this._logHandler(this,j.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,j.WARN,...t),this._logHandler(this,j.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,j.ERROR,...t),this._logHandler(this,j.ERROR,...t)}}const Q=(t,e)=>e.some((e=>t instanceof e));let Y,Z;const X=new WeakMap,J=new WeakMap,tt=new WeakMap,et=new WeakMap,it=new WeakMap;let nt={get(t,e,i){if(t instanceof IDBTransaction){if("done"===e)return J.get(t);if("objectStoreNames"===e)return t.objectStoreNames||tt.get(t);if("store"===e)return i.objectStoreNames[1]?void 0:i.objectStore(i.objectStoreNames[0])}return ot(t[e])},set:(t,e,i)=>(t[e]=i,!0),has:(t,e)=>t instanceof IDBTransaction&&("done"===e||"store"===e)||e in t};function rt(t){return t!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(Z||(Z=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(t)?function(...e){return t.apply(at(this),e),ot(X.get(this))}:function(...e){return ot(t.apply(at(this),e))}:function(e,...i){const n=t.call(at(this),e,...i);return tt.set(n,e.sort?e.sort():[e]),ot(n)}}function st(t){return"function"==typeof t?rt(t):(t instanceof IDBTransaction&&function(t){if(J.has(t))return;const e=new Promise(((e,i)=>{const n=()=>{t.removeEventListener("complete",r),t.removeEventListener("error",s),t.removeEventListener("abort",s)},r=()=>{e(),n()},s=()=>{i(t.error||new DOMException("AbortError","AbortError")),n()};t.addEventListener("complete",r),t.addEventListener("error",s),t.addEventListener("abort",s)}));J.set(t,e)}(t),Q(t,Y||(Y=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction]))?new Proxy(t,nt):t)}function ot(t){if(t instanceof IDBRequest)return function(t){const e=new Promise(((e,i)=>{const n=()=>{t.removeEventListener("success",r),t.removeEventListener("error",s)},r=()=>{e(ot(t.result)),n()},s=()=>{i(t.error),n()};t.addEventListener("success",r),t.addEventListener("error",s)}));return e.then((e=>{e instanceof IDBCursor&&X.set(e,t)})).catch((()=>{})),it.set(e,t),e}(t);if(et.has(t))return et.get(t);const e=st(t);return e!==t&&(et.set(t,e),it.set(e,t)),e}const at=t=>it.get(t);function ht(t,e,{blocked:i,upgrade:n,blocking:r,terminated:s}={}){const o=indexedDB.open(t,e),a=ot(o);return n&&o.addEventListener("upgradeneeded",(t=>{n(ot(o.result),t.oldVersion,t.newVersion,ot(o.transaction))})),i&&o.addEventListener("blocked",(()=>i())),a.then((t=>{s&&t.addEventListener("close",(()=>s())),r&&t.addEventListener("versionchange",(()=>r()))})).catch((()=>{})),a}const lt=["get","getKey","getAll","getAllKeys","count"],ut=["put","add","delete","clear"],ct=new Map;function dt(t,e){if(!(t instanceof IDBDatabase)||e in t||"string"!=typeof e)return;if(ct.get(e))return ct.get(e);const i=e.replace(/FromIndex$/,""),n=e!==i,r=ut.includes(i);if(!(i in(n?IDBIndex:IDBObjectStore).prototype)||!r&&!lt.includes(i))return;const s=async function(t,...e){const s=this.transaction(t,r?"readwrite":"readonly");let o=s.store;return n&&(o=o.index(e.shift())),(await Promise.all([o[i](...e),r&&s.done]))[0]};return ct.set(e,s),s}nt=(t=>({...t,get:(e,i,n)=>dt(e,i)||t.get(e,i,n),has:(e,i)=>!!dt(e,i)||t.has(e,i)}))(nt);
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class ft{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map((t=>{if(function(t){const e=t.getComponent();return"VERSION"===(null==e?void 0:e.type)}(t)){const e=t.getImmediate();return`${e.library}/${e.version}`}return null})).filter((t=>t)).join(" ")}}const pt="@firebase/app",mt="0.9.3",gt=new G("@firebase/app"),vt="[DEFAULT]",yt={[pt]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},bt=new Map,wt=new Map;function _t(t,e){try{t.container.addComponent(e)}catch(i){gt.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,i)}}function Mt(t){const e=t.name;if(wt.has(e))return gt.debug(`There were multiple attempts to register component ${e}.`),!1;wt.set(e,t);for(const e of bt.values())_t(e,t);return!0}function xt(t,e){const i=t.container.getProvider("heartbeat").getImmediate({optional:!0});return i&&i.triggerHeartbeat(),t.container.getProvider(e)}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
const kt=new k("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class At{constructor(t,e,i){this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},e),this._name=e.name,this._automaticDataCollectionEnabled=e.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new O("app",(()=>this),"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw kt.create("app-deleted",{appName:this._name})}}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Et="9.17.1";function St(t,e={}){let i=t;if("object"!=typeof e){e={name:e}}const n=Object.assign({name:vt,automaticDataCollectionEnabled:!1},e),r=n.name;if("string"!=typeof r||!r)throw kt.create("bad-app-name",{appName:String(r)});if(i||(i=p()),!i)throw kt.create("no-options");const s=bt.get(r);if(s){if(S(i,s.options)&&S(n,s.config))return s;throw kt.create("duplicate-app",{appName:r})}const o=new U(r);for(const t of wt.values())o.addComponent(t);const a=new At(i,n,o);return bt.set(r,a),a}function Tt(t=vt){const e=bt.get(t);if(!e&&t===vt)return St();if(!e)throw kt.create("no-app",{appName:t});return e}function It(t,e,i){var n;let r=null!==(n=yt[t])&&void 0!==n?n:t;i&&(r+=`-${i}`);const s=r.match(/\s|\//),o=e.match(/\s|\//);if(s||o){const t=[`Unable to register library "${r}" with version "${e}":`];return s&&t.push(`library name "${r}" contains illegal characters (whitespace or "/")`),s&&o&&t.push("and"),o&&t.push(`version name "${e}" contains illegal characters (whitespace or "/")`),void gt.warn(t.join(" "))}Mt(new O(`${r}-version`,(()=>({library:r,version:e})),"VERSION"))}
/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
const qt="firebase-heartbeat-database",Ct=1,Rt="firebase-heartbeat-store";let Dt=null;function Lt(){return Dt||(Dt=ht(qt,Ct,{upgrade:(t,e)=>{if(0===e)t.createObjectStore(Rt)}}).catch((t=>{throw kt.create("idb-open",{originalErrorMessage:t.message})}))),Dt}async function Nt(t,e){try{const i=(await Lt()).transaction(Rt,"readwrite"),n=i.objectStore(Rt);return await n.put(e,Ot(t)),i.done}catch(t){if(t instanceof x)gt.warn(t.message);else{const e=kt.create("idb-set",{originalErrorMessage:null==t?void 0:t.message});gt.warn(e.message)}}}function Ot(t){return`${t.name}!${t.options.appId}`}
/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pt=1024;class Bt{constructor(t){this.container=t,this._heartbeatsCache=null;const e=this.container.getProvider("app").getImmediate();this._storage=new Ft(e),this._heartbeatsCachePromise=this._storage.read().then((t=>(this._heartbeatsCache=t,t)))}async triggerHeartbeat(){const t=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),e=Ut();if(null===this._heartbeatsCache&&(this._heartbeatsCache=await this._heartbeatsCachePromise),this._heartbeatsCache.lastSentHeartbeatDate!==e&&!this._heartbeatsCache.heartbeats.some((t=>t.date===e)))return this._heartbeatsCache.heartbeats.push({date:e,agent:t}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter((t=>{const e=new Date(t.date).valueOf();return Date.now()-e<=2592e6})),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){if(null===this._heartbeatsCache&&await this._heartbeatsCachePromise,null===this._heartbeatsCache||0===this._heartbeatsCache.heartbeats.length)return"";const t=Ut(),{heartbeatsToSend:e,unsentEntries:i}=function(t,e=Pt){const i=[];let n=t.slice();for(const r of t){const t=i.find((t=>t.agent===r.agent));if(t){if(t.dates.push(r.date),jt(i)>e){t.dates.pop();break}}else if(i.push({agent:r.agent,dates:[r.date]}),jt(i)>e){i.pop();break}n=n.slice(1)}return{heartbeatsToSend:i,unsentEntries:n}}(this._heartbeatsCache.heartbeats),n=h(JSON.stringify({version:2,heartbeats:e}));return this._heartbeatsCache.lastSentHeartbeatDate=t,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),n}}function Ut(){return(new Date).toISOString().substring(0,10)}class Ft{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return!!M()&&new Promise(((t,e)=>{try{let i=!0;const n="validate-browser-context-for-indexeddb-analytics-module",r=self.indexedDB.open(n);r.onsuccess=()=>{r.result.close(),i||self.indexedDB.deleteDatabase(n),t(!0)},r.onupgradeneeded=()=>{i=!1},r.onerror=()=>{var t;e((null===(t=r.error)||void 0===t?void 0:t.message)||"")}}catch(t){e(t)}})).then((()=>!0)).catch((()=>!1))}async read(){if(await this._canUseIndexedDBPromise){return await async function(t){try{return(await Lt()).transaction(Rt).objectStore(Rt).get(Ot(t))}catch(t){if(t instanceof x)gt.warn(t.message);else{const e=kt.create("idb-get",{originalErrorMessage:null==t?void 0:t.message});gt.warn(e.message)}}}(this.app)||{heartbeats:[]}}return{heartbeats:[]}}async overwrite(t){var e;if(await this._canUseIndexedDBPromise){const i=await this.read();return Nt(this.app,{lastSentHeartbeatDate:null!==(e=t.lastSentHeartbeatDate)&&void 0!==e?e:i.lastSentHeartbeatDate,heartbeats:t.heartbeats})}}async add(t){var e;if(await this._canUseIndexedDBPromise){const i=await this.read();return Nt(this.app,{lastSentHeartbeatDate:null!==(e=t.lastSentHeartbeatDate)&&void 0!==e?e:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...t.heartbeats]})}}}function jt(t){return h(JSON.stringify({version:2,heartbeats:t})).length}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var zt;zt="",Mt(new O("platform-logger",(t=>new ft(t)),"PRIVATE")),Mt(new O("heartbeat",(t=>new Bt(t)),"PRIVATE")),It(pt,mt,zt),It(pt,mt,"esm2017"),It("fire-js","");
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
It("firebase","9.17.1","app");function Vt(t,e){var i={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(i[n]=t[n]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(n=Object.getOwnPropertySymbols(t);r<n.length;r++)e.indexOf(n[r])<0&&Object.prototype.propertyIsEnumerable.call(t,n[r])&&(i[n[r]]=t[n[r]])}return i}Object.create;Object.create;function Ht(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const Wt=Ht,Kt=new k("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),Gt=new G("@firebase/auth");function Qt(t,...e){Gt.logLevel<=j.ERROR&&Gt.error(`Auth (${Et}): ${t}`,...e)}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yt(t,...e){throw Xt(t,...e)}function Zt(t,...e){return Xt(t,...e)}function $t(t,e,i){const n=Object.assign(Object.assign({},Wt()),{[e]:i});return new k("auth","Firebase",n).create(e,{appName:t.name})}function Xt(t,...e){if("string"!=typeof t){const i=e[0],n=[...e.slice(1)];return n[0]&&(n[0].appName=t.name),t._errorFactory.create(i,...n)}return Kt.create(t,...e)}function Jt(t,e,...i){if(!t)throw Xt(e,...i)}function te(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Qt(e),new Error(e)}function ee(t,e){t||te(e)}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ie=new Map;function ne(t){ee(t instanceof Function,"Expected a class definition");let e=ie.get(t);return e?(ee(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,ie.set(t,e),e)}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function re(){var t;return"undefined"!=typeof self&&(null===(t=self.location)||void 0===t?void 0:t.href)||""}function se(){return"http:"===oe()||"https:"===oe()}function oe(){var t;return"undefined"!=typeof self&&(null===(t=self.location)||void 0===t?void 0:t.protocol)||null}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ae(){return!("undefined"!=typeof navigator&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(se()||w()||"connection"in navigator))||navigator.onLine}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class he{constructor(t,e){this.shortDelay=t,this.longDelay=e,ee(e>t,"Short delay should be less than long delay!"),this.isMobile="undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(y())||"object"==typeof navigator&&"ReactNative"===navigator.product}get(){return ae()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function le(t,e){ee(t.emulator,"Emulator should always be set here");const{url:i}=t.emulator;return e?`${i}${e.startsWith("/")?e.slice(1):e}`:i}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ue{static initialize(t,e,i){this.fetchImpl=t,e&&(this.headersImpl=e),i&&(this.responseImpl=i)}static fetch(){return this.fetchImpl?this.fetchImpl:"undefined"!=typeof self&&"fetch"in self?self.fetch:void te("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:"undefined"!=typeof self&&"Headers"in self?self.Headers:void te("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:"undefined"!=typeof self&&"Response"in self?self.Response:void te("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ce={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error"},de=new he(3e4,6e4);
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fe(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function pe(t,e,i,n,r={}){return me(t,r,(async()=>{let r={},s={};n&&("GET"===e?s=n:r={body:JSON.stringify(n)});const o=I(Object.assign({key:t.config.apiKey},s)).slice(1),a=await t._getAdditionalHeaders();return a["Content-Type"]="application/json",t.languageCode&&(a["X-Firebase-Locale"]=t.languageCode),ue.fetch()(ve(t,t.config.apiHost,i,o),Object.assign({method:e,headers:a,referrerPolicy:"no-referrer"},r))}))}async function me(t,e,i){t._canInitEmulator=!1;const n=Object.assign(Object.assign({},ce),e);try{const e=new ye(t),r=await Promise.race([i(),e.promise]);e.clearNetworkTimeout();const s=await r.json();if("needConfirmation"in s)throw be(t,"account-exists-with-different-credential",s);if(r.ok&&!("errorMessage"in s))return s;{const e=r.ok?s.errorMessage:s.error.message,[i,o]=e.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===i)throw be(t,"credential-already-in-use",s);if("EMAIL_EXISTS"===i)throw be(t,"email-already-in-use",s);if("USER_DISABLED"===i)throw be(t,"user-disabled",s);const a=n[i]||i.toLowerCase().replace(/[_\s]+/g,"-");if(o)throw $t(t,a,o);Yt(t,a)}}catch(e){if(e instanceof x)throw e;Yt(t,"network-request-failed")}}async function ge(t,e,i,n,r={}){const s=await pe(t,e,i,n,r);return"mfaPendingCredential"in s&&Yt(t,"multi-factor-auth-required",{_serverResponse:s}),s}function ve(t,e,i,n){const r=`${e}${i}?${n}`;return t.config.emulator?le(t.config,r):`${t.config.apiScheme}://${r}`}class ye{constructor(t){this.auth=t,this.timer=null,this.promise=new Promise(((t,e)=>{this.timer=setTimeout((()=>e(Zt(this.auth,"network-request-failed"))),de.get())}))}clearNetworkTimeout(){clearTimeout(this.timer)}}function be(t,e,i){const n={appName:t.name};i.email&&(n.email=i.email),i.phoneNumber&&(n.phoneNumber=i.phoneNumber);const r=Zt(t,e,n);return r.customData._tokenResponse=i,r}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function we(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch(t){}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _e(t){return 1e3*Number(t)}function Me(t){const[e,i,n]=t.split(".");if(void 0===e||void 0===i||void 0===n)return Qt("JWT malformed, contained fewer than 3 sections"),null;try{const t=l(i);return t?JSON.parse(t):(Qt("Failed to decode base64 JWT payload"),null)}catch(t){return Qt("Caught error parsing JWT payload as JSON",null==t?void 0:t.toString()),null}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
async function xe(t,e,i=!1){if(i)return e;try{return await e}catch(e){throw e instanceof x&&function({code:t}){return"auth/user-disabled"===t||"auth/user-token-expired"===t}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(e)&&t.auth.currentUser===t&&await t.auth.signOut(),e}}class ke{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(t){var e;if(t){const t=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),t}{this.errorBackoff=3e4;const t=(null!==(e=this.user.stsTokenManager.expirationTime)&&void 0!==e?e:0)-Date.now()-3e5;return Math.max(0,t)}}schedule(t=!1){if(!this.isRunning)return;const e=this.getInterval(t);this.timerId=setTimeout((async()=>{await this.iteration()}),e)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){return void("auth/network-request-failed"===(null==t?void 0:t.code)&&this.schedule(!0))}this.schedule()}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ae{constructor(t,e){this.createdAt=t,this.lastLoginAt=e,this._initializeTime()}_initializeTime(){this.lastSignInTime=we(this.lastLoginAt),this.creationTime=we(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ee(t){var e;const i=t.auth,n=await t.getIdToken(),r=await xe(t,async function(t,e){return pe(t,"POST","/v1/accounts:lookup",e)}(i,{idToken:n}));Jt(null==r?void 0:r.users.length,i,"internal-error");const s=r.users[0];t._notifyReloadListener(s);const o=(null===(e=s.providerUserInfo)||void 0===e?void 0:e.length)?s.providerUserInfo.map((t=>{var{providerId:e}=t,i=Vt(t,["providerId"]);return{providerId:e,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}})):[];const a=(h=t.providerData,l=o,[...h.filter((t=>!l.some((e=>e.providerId===t.providerId)))),...l]);var h,l;const u=t.isAnonymous,c=!(t.email&&s.passwordHash||(null==a?void 0:a.length)),d=!!u&&c,f={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new Ae(s.createdAt,s.lastLoginAt),isAnonymous:d};Object.assign(t,f)}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class Se{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){Jt(t.idToken,"internal-error"),Jt(void 0!==t.idToken,"internal-error"),Jt(void 0!==t.refreshToken,"internal-error");const e="expiresIn"in t&&void 0!==t.expiresIn?Number(t.expiresIn):function(t){const e=Me(t);return Jt(e,"internal-error"),Jt(void 0!==e.exp,"internal-error"),Jt(void 0!==e.iat,"internal-error"),Number(e.exp)-Number(e.iat)}(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,e)}async getToken(t,e=!1){return Jt(!this.accessToken||this.refreshToken,t,"user-token-expired"),e||!this.accessToken||this.isExpired?this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null:this.accessToken}clearRefreshToken(){this.refreshToken=null}async refresh(t,e){const{accessToken:i,refreshToken:n,expiresIn:r}=await
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
async function(t,e){const i=await me(t,{},(async()=>{const i=I({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:n,apiKey:r}=t.config,s=ve(t,n,"/v1/token",`key=${r}`),o=await t._getAdditionalHeaders();return o["Content-Type"]="application/x-www-form-urlencoded",ue.fetch()(s,{method:"POST",headers:o,body:i})}));return{accessToken:i.access_token,expiresIn:i.expires_in,refreshToken:i.refresh_token}}(t,e);this.updateTokensAndExpiration(i,n,Number(r))}updateTokensAndExpiration(t,e,i){this.refreshToken=e||null,this.accessToken=t||null,this.expirationTime=Date.now()+1e3*i}static fromJSON(t,e){const{refreshToken:i,accessToken:n,expirationTime:r}=e,s=new Se;return i&&(Jt("string"==typeof i,"internal-error",{appName:t}),s.refreshToken=i),n&&(Jt("string"==typeof n,"internal-error",{appName:t}),s.accessToken=n),r&&(Jt("number"==typeof r,"internal-error",{appName:t}),s.expirationTime=r),s}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new Se,this.toJSON())}_performRefresh(){return te("not implemented")}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Te(t,e){Jt("string"==typeof t||void 0===t,"internal-error",{appName:e})}class Ie{constructor(t){var{uid:e,auth:i,stsTokenManager:n}=t,r=Vt(t,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new ke(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=i,this.stsTokenManager=n,this.accessToken=n.accessToken,this.displayName=r.displayName||null,this.email=r.email||null,this.emailVerified=r.emailVerified||!1,this.phoneNumber=r.phoneNumber||null,this.photoURL=r.photoURL||null,this.isAnonymous=r.isAnonymous||!1,this.tenantId=r.tenantId||null,this.providerData=r.providerData?[...r.providerData]:[],this.metadata=new Ae(r.createdAt||void 0,r.lastLoginAt||void 0)}async getIdToken(t){const e=await xe(this,this.stsTokenManager.getToken(this.auth,t));return Jt(e,this.auth,"internal-error"),this.accessToken!==e&&(this.accessToken=e,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),e}getIdTokenResult(t){return async function(t,e=!1){const i=N(t),n=await i.getIdToken(e),r=Me(n);Jt(r&&r.exp&&r.auth_time&&r.iat,i.auth,"internal-error");const s="object"==typeof r.firebase?r.firebase:void 0,o=null==s?void 0:s.sign_in_provider;return{claims:r,token:n,authTime:we(_e(r.auth_time)),issuedAtTime:we(_e(r.iat)),expirationTime:we(_e(r.exp)),signInProvider:o||null,signInSecondFactor:(null==s?void 0:s.sign_in_second_factor)||null}}(this,t)}reload(){return async function(t){const e=N(t);await Ee(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}(this)}_assign(t){this!==t&&(Jt(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map((t=>Object.assign({},t))),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){return new Ie(Object.assign(Object.assign({},this),{auth:t,stsTokenManager:this.stsTokenManager._clone()}))}_onReload(t){Jt(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,e=!1){let i=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),i=!0),e&&await Ee(this),await this.auth._persistUserIfCurrent(this),i&&this.auth._notifyListenersIfCurrent(this)}async delete(){const t=await this.getIdToken();return await xe(this,async function(t,e){return pe(t,"POST","/v1/accounts:delete",e)}(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map((t=>Object.assign({},t))),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,e){var i,n,r,s,o,a,h,l;const u=null!==(i=e.displayName)&&void 0!==i?i:void 0,c=null!==(n=e.email)&&void 0!==n?n:void 0,d=null!==(r=e.phoneNumber)&&void 0!==r?r:void 0,f=null!==(s=e.photoURL)&&void 0!==s?s:void 0,p=null!==(o=e.tenantId)&&void 0!==o?o:void 0,m=null!==(a=e._redirectEventId)&&void 0!==a?a:void 0,g=null!==(h=e.createdAt)&&void 0!==h?h:void 0,v=null!==(l=e.lastLoginAt)&&void 0!==l?l:void 0,{uid:y,emailVerified:b,isAnonymous:w,providerData:_,stsTokenManager:M}=e;Jt(y&&M,t,"internal-error");const x=Se.fromJSON(this.name,M);Jt("string"==typeof y,t,"internal-error"),Te(u,t.name),Te(c,t.name),Jt("boolean"==typeof b,t,"internal-error"),Jt("boolean"==typeof w,t,"internal-error"),Te(d,t.name),Te(f,t.name),Te(p,t.name),Te(m,t.name),Te(g,t.name),Te(v,t.name);const k=new Ie({uid:y,auth:t,email:c,emailVerified:b,displayName:u,isAnonymous:w,photoURL:f,phoneNumber:d,tenantId:p,stsTokenManager:x,createdAt:g,lastLoginAt:v});return _&&Array.isArray(_)&&(k.providerData=_.map((t=>Object.assign({},t)))),m&&(k._redirectEventId=m),k}static async _fromIdTokenResponse(t,e,i=!1){const n=new Se;n.updateFromServerResponse(e);const r=new Ie({uid:e.localId,auth:t,stsTokenManager:n,isAnonymous:i});return await Ee(r),r}}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qe{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,e){this.storage[t]=e}async _get(t){const e=this.storage[t];return void 0===e?null:e}async _remove(t){delete this.storage[t]}_addListener(t,e){}_removeListener(t,e){}}qe.type="NONE";const Ce=qe;
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Re(t,e,i){return`firebase:${t}:${e}:${i}`}class De{constructor(t,e,i){this.persistence=t,this.auth=e,this.userKey=i;const{config:n,name:r}=this.auth;this.fullUserKey=Re(this.userKey,n.apiKey,r),this.fullPersistenceKey=Re("persistence",n.apiKey,r),this.boundEventHandler=e._onStorageEvent.bind(e),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);return t?Ie._fromJSON(this.auth,t):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const e=await this.getCurrentUser();return await this.removeCurrentUser(),this.persistence=t,e?this.setCurrentUser(e):void 0}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,e,i="authUser"){if(!e.length)return new De(ne(Ce),t,i);const n=(await Promise.all(e.map((async t=>{if(await t._isAvailable())return t})))).filter((t=>t));let r=n[0]||ne(Ce);const s=Re(i,t.config.apiKey,t.name);let o=null;for(const i of e)try{const e=await i._get(s);if(e){const n=Ie._fromJSON(t,e);i!==r&&(o=n),r=i;break}}catch(t){}const a=n.filter((t=>t._shouldAllowMigration));return r._shouldAllowMigration&&a.length?(r=a[0],o&&await r._set(s,o.toJSON()),await Promise.all(e.map((async t=>{if(t!==r)try{await t._remove(s)}catch(t){}}))),new De(r,t,i)):new De(r,t,i)}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Le(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(Be(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(Ne(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(Fe(e))return"Blackberry";if(je(e))return"Webos";if(Oe(e))return"Safari";if((e.includes("chrome/")||Pe(e))&&!e.includes("edge/"))return"Chrome";if(Ue(e))return"Android";{const e=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,i=t.match(e);if(2===(null==i?void 0:i.length))return i[1]}return"Other"}function Ne(t=y()){return/firefox\//i.test(t)}function Oe(t=y()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function Pe(t=y()){return/crios\//i.test(t)}function Be(t=y()){return/iemobile/i.test(t)}function Ue(t=y()){return/android/i.test(t)}function Fe(t=y()){return/blackberry/i.test(t)}function je(t=y()){return/webos/i.test(t)}function ze(t=y()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function Ve(){return _()&&10===document.documentMode}function He(t=y()){return ze(t)||Ue(t)||je(t)||Fe(t)||/windows phone/i.test(t)||Be(t)}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function We(t,e=[]){let i;switch(t){case"Browser":i=Le(y());break;case"Worker":i=`${Le(y())}-${t}`;break;default:i=t}const n=e.length?e.join(","):"FirebaseCore-web";return`${i}/JsCore/${Et}/${n}`}
/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ke{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,e){const i=e=>new Promise(((i,n)=>{try{i(t(e))}catch(t){n(t)}}));i.onAbort=e,this.queue.push(i);const n=this.queue.length-1;return()=>{this.queue[n]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const e=[];try{for(const i of this.queue)await i(t),i.onAbort&&e.push(i.onAbort)}catch(t){e.reverse();for(const t of e)try{t()}catch(t){}throw this.auth._errorFactory.create("login-blocked",{originalMessage:null==t?void 0:t.message})}}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ge{constructor(t,e,i){this.app=t,this.heartbeatServiceProvider=e,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Ye(this),this.idTokenSubscription=new Ye(this),this.beforeStateQueue=new Ke(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Kt,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(t,e){return e&&(this._popupRedirectResolver=ne(e)),this._initializationPromise=this.queue((async()=>{var i,n;if(!this._deleted&&(this.persistenceManager=await De.create(this,t),!this._deleted)){if(null===(i=this._popupRedirectResolver)||void 0===i?void 0:i._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch(t){}await this.initializeCurrentUser(e),this.lastNotifiedUid=(null===(n=this.currentUser)||void 0===n?void 0:n.uid)||null,this._deleted||(this._isInitialized=!0)}})),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();return this.currentUser||t?this.currentUser&&t&&this.currentUser.uid===t.uid?(this._currentUser._assign(t),void await this.currentUser.getIdToken()):void await this._updateCurrentUser(t,!0):void 0}async initializeCurrentUser(t){var e;const i=await this.assertedPersistence.getCurrentUser();let n=i,r=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const i=null===(e=this.redirectUser)||void 0===e?void 0:e._redirectEventId,s=null==n?void 0:n._redirectEventId,o=await this.tryRedirectSignIn(t);i&&i!==s||!(null==o?void 0:o.user)||(n=o.user,r=!0)}if(!n)return this.directlySetCurrentUser(null);if(!n._redirectEventId){if(r)try{await this.beforeStateQueue.runMiddleware(n)}catch(t){n=i,this._popupRedirectResolver._overrideRedirectResult(this,(()=>Promise.reject(t)))}return n?this.reloadAndSetCurrentUserOrClear(n):this.directlySetCurrentUser(null)}return Jt(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===n._redirectEventId?this.directlySetCurrentUser(n):this.reloadAndSetCurrentUserOrClear(n)}async tryRedirectSignIn(t){let e=null;try{e=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch(t){await this._setRedirectUser(null)}return e}async reloadAndSetCurrentUserOrClear(t){try{await Ee(t)}catch(t){if("auth/network-request-failed"!==(null==t?void 0:t.code))return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=function(){if("undefined"==typeof navigator)return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}()}async _delete(){this._deleted=!0}async updateCurrentUser(t){const e=t?N(t):null;return e&&Jt(e.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(e&&e._clone(this))}async _updateCurrentUser(t,e=!1){if(!this._deleted)return t&&Jt(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),e||await this.beforeStateQueue.runMiddleware(t),this.queue((async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()}))}async signOut(){return await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0)}setPersistence(t){return this.queue((async()=>{await this.assertedPersistence.setPersistence(ne(t))}))}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(t){this._errorFactory=new k("auth","Firebase",t())}onAuthStateChanged(t,e,i){return this.registerStateListener(this.authStateSubscription,t,e,i)}beforeAuthStateChanged(t,e){return this.beforeStateQueue.pushCallback(t,e)}onIdTokenChanged(t,e,i){return this.registerStateListener(this.idTokenSubscription,t,e,i)}toJSON(){var t;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(t=this._currentUser)||void 0===t?void 0:t.toJSON()}}async _setRedirectUser(t,e){const i=await this.getOrInitRedirectPersistenceManager(e);return null===t?i.removeCurrentUser():i.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const e=t&&ne(t)||this._popupRedirectResolver;Jt(e,this,"argument-error"),this.redirectPersistenceManager=await De.create(this,[ne(e._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){var e,i;return this._isInitialized&&await this.queue((async()=>{})),(null===(e=this._currentUser)||void 0===e?void 0:e._redirectEventId)===t?this._currentUser:(null===(i=this.redirectUser)||void 0===i?void 0:i._redirectEventId)===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue((async()=>this.directlySetCurrentUser(t)))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var t,e;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const i=null!==(e=null===(t=this.currentUser)||void 0===t?void 0:t.uid)&&void 0!==e?e:null;this.lastNotifiedUid!==i&&(this.lastNotifiedUid=i,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,e,i,n){if(this._deleted)return()=>{};const r="function"==typeof e?e:e.next.bind(e),s=this._isInitialized?Promise.resolve():this._initializationPromise;return Jt(s,this,"internal-error"),s.then((()=>r(this.currentUser))),"function"==typeof e?t.addObserver(e,i,n):t.addObserver(e)}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return Jt(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){t&&!this.frameworks.includes(t)&&(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=We(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var t;const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const i=await(null===(t=this.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===t?void 0:t.getHeartbeatsHeader());return i&&(e["X-Firebase-Client"]=i),e}}function Qe(t){return N(t)}class Ye{constructor(t){this.auth=t,this.observer=null,this.addObserver=R((t=>this.observer=t))}get next(){return Jt(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function Ze(t,e,i){const n=Qe(t);Jt(n._canInitEmulator,n,"emulator-config-failed"),Jt(/^https?:\/\//.test(e),n,"invalid-emulator-scheme");const r=!!(null==i?void 0:i.disableWarnings),s=$e(e),{host:o,port:a}=function(t){const e=$e(t),i=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!i)return{host:"",port:null};const n=i[2].split("@").pop()||"",r=/^(\[[^\]]+\])(:|$)/.exec(n);if(r){const t=r[1];return{host:t,port:Xe(n.substr(t.length+1))}}{const[t,e]=n.split(":");return{host:t,port:Xe(e)}}}(e),h=null===a?"":`:${a}`;n.config.emulator={url:`${s}//${o}${h}/`},n.settings.appVerificationDisabledForTesting=!0,n.emulatorConfig=Object.freeze({host:o,port:a,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:r})}),r||function(){function t(){const t=document.createElement("p"),e=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",e.position="fixed",e.width="100%",e.backgroundColor="#ffffff",e.border=".1em solid #000000",e.color="#b50000",e.bottom="0px",e.left="0px",e.margin="0px",e.zIndex="10000",e.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}"undefined"!=typeof console&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials.");"undefined"!=typeof window&&"undefined"!=typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",t):t())}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */()}function $e(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function Xe(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}class Je{constructor(t,e){this.providerId=t,this.signInMethod=e}toJSON(){return te("not implemented")}_getIdTokenResponse(t){return te("not implemented")}_linkToIdToken(t,e){return te("not implemented")}_getReauthenticationResolver(t){return te("not implemented")}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ti(t,e){return pe(t,"POST","/v1/accounts:update",e)}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class ei extends Je{constructor(t,e,i,n=null){super("password",i),this._email=t,this._password=e,this._tenantId=n}static _fromEmailAndPassword(t,e){return new ei(t,e,"password")}static _fromEmailAndCode(t,e,i=null){return new ei(t,e,"emailLink",i)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(t){const e="string"==typeof t?JSON.parse(t):t;if((null==e?void 0:e.email)&&(null==e?void 0:e.password)){if("password"===e.signInMethod)return this._fromEmailAndPassword(e.email,e.password);if("emailLink"===e.signInMethod)return this._fromEmailAndCode(e.email,e.password,e.tenantId)}return null}async _getIdTokenResponse(t){switch(this.signInMethod){case"password":
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
return async function(t,e){return ge(t,"POST","/v1/accounts:signInWithPassword",fe(t,e))}(t,{returnSecureToken:!0,email:this._email,password:this._password});case"emailLink":
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
return async function(t,e){return ge(t,"POST","/v1/accounts:signInWithEmailLink",fe(t,e))}(t,{email:this._email,oobCode:this._password});default:Yt(t,"internal-error")}}async _linkToIdToken(t,e){switch(this.signInMethod){case"password":return ti(t,{idToken:e,returnSecureToken:!0,email:this._email,password:this._password});case"emailLink":return async function(t,e){return ge(t,"POST","/v1/accounts:signInWithEmailLink",fe(t,e))}(t,{idToken:e,email:this._email,oobCode:this._password});default:Yt(t,"internal-error")}}_getReauthenticationResolver(t){return this._getIdTokenResponse(t)}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ii(t,e){return ge(t,"POST","/v1/accounts:signInWithIdp",fe(t,e))}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ni extends Je{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const e=new ni(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(e.idToken=t.idToken),t.accessToken&&(e.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(e.nonce=t.nonce),t.pendingToken&&(e.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(e.accessToken=t.oauthToken,e.secret=t.oauthTokenSecret):Yt("argument-error"),e}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const e="string"==typeof t?JSON.parse(t):t,{providerId:i,signInMethod:n}=e,r=Vt(e,["providerId","signInMethod"]);if(!i||!n)return null;const s=new ni(i,n);return s.idToken=r.idToken||void 0,s.accessToken=r.accessToken||void 0,s.secret=r.secret,s.nonce=r.nonce,s.pendingToken=r.pendingToken||null,s}_getIdTokenResponse(t){return ii(t,this.buildRequest())}_linkToIdToken(t,e){const i=this.buildRequest();return i.idToken=e,ii(t,i)}_getReauthenticationResolver(t){const e=this.buildRequest();return e.autoCreate=!1,ii(t,e)}buildRequest(){const t={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const e={};this.idToken&&(e.id_token=this.idToken),this.accessToken&&(e.access_token=this.accessToken),this.secret&&(e.oauth_token_secret=this.secret),e.providerId=this.providerId,this.nonce&&!this.pendingToken&&(e.nonce=this.nonce),t.postBody=I(e)}return t}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ri={USER_NOT_FOUND:"user-not-found"};
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class si extends Je{constructor(t){super("phone","phone"),this.params=t}static _fromVerification(t,e){return new si({verificationId:t,verificationCode:e})}static _fromTokenResponse(t,e){return new si({phoneNumber:t,temporaryProof:e})}_getIdTokenResponse(t){return async function(t,e){return ge(t,"POST","/v1/accounts:signInWithPhoneNumber",fe(t,e))}(t,this._makeVerificationRequest())}_linkToIdToken(t,e){return async function(t,e){const i=await ge(t,"POST","/v1/accounts:signInWithPhoneNumber",fe(t,e));if(i.temporaryProof)throw be(t,"account-exists-with-different-credential",i);return i}(t,Object.assign({idToken:e},this._makeVerificationRequest()))}_getReauthenticationResolver(t){return async function(t,e){return ge(t,"POST","/v1/accounts:signInWithPhoneNumber",fe(t,Object.assign(Object.assign({},e),{operation:"REAUTH"})),ri)}(t,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:t,phoneNumber:e,verificationId:i,verificationCode:n}=this.params;return t&&e?{temporaryProof:t,phoneNumber:e}:{sessionInfo:i,code:n}}toJSON(){const t={providerId:this.providerId};return this.params.phoneNumber&&(t.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(t.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(t.verificationCode=this.params.verificationCode),this.params.verificationId&&(t.verificationId=this.params.verificationId),t}static fromJSON(t){"string"==typeof t&&(t=JSON.parse(t));const{verificationId:e,verificationCode:i,phoneNumber:n,temporaryProof:r}=t;return i||e||n||r?new si({verificationId:e,verificationCode:i,phoneNumber:n,temporaryProof:r}):null}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oi{constructor(t){var e,i,n,r,s,o;const a=q(C(t)),h=null!==(e=a.apiKey)&&void 0!==e?e:null,l=null!==(i=a.oobCode)&&void 0!==i?i:null,u=function(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(n=a.mode)&&void 0!==n?n:null);Jt(h&&l&&u,"argument-error"),this.apiKey=h,this.operation=u,this.code=l,this.continueUrl=null!==(r=a.continueUrl)&&void 0!==r?r:null,this.languageCode=null!==(s=a.languageCode)&&void 0!==s?s:null,this.tenantId=null!==(o=a.tenantId)&&void 0!==o?o:null}static parseLink(t){const e=function(t){const e=q(C(t)).link,i=e?q(C(e)).deep_link_id:null,n=q(C(t)).deep_link_id;return(n?q(C(n)).link:null)||n||i||e||t}(t);try{return new oi(e)}catch(t){return null}}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class ai{constructor(){this.providerId=ai.PROVIDER_ID}static credential(t,e){return ei._fromEmailAndPassword(t,e)}static credentialWithLink(t,e){const i=oi.parseLink(e);return Jt(i,"argument-error"),ei._fromEmailAndCode(t,i.code,i.tenantId)}}ai.PROVIDER_ID="password",ai.EMAIL_PASSWORD_SIGN_IN_METHOD="password",ai.EMAIL_LINK_SIGN_IN_METHOD="emailLink";
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class hi{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class li extends hi{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class ui extends li{constructor(){super("facebook.com")}static credential(t){return ni._fromParams({providerId:ui.PROVIDER_ID,signInMethod:ui.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return ui.credentialFromTaggedObject(t)}static credentialFromError(t){return ui.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return ui.credential(t.oauthAccessToken)}catch(t){return null}}}ui.FACEBOOK_SIGN_IN_METHOD="facebook.com",ui.PROVIDER_ID="facebook.com";
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class ci extends li{constructor(){super("google.com"),this.addScope("profile")}static credential(t,e){return ni._fromParams({providerId:ci.PROVIDER_ID,signInMethod:ci.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:e})}static credentialFromResult(t){return ci.credentialFromTaggedObject(t)}static credentialFromError(t){return ci.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:e,oauthAccessToken:i}=t;if(!e&&!i)return null;try{return ci.credential(e,i)}catch(t){return null}}}ci.GOOGLE_SIGN_IN_METHOD="google.com",ci.PROVIDER_ID="google.com";
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class di extends li{constructor(){super("github.com")}static credential(t){return ni._fromParams({providerId:di.PROVIDER_ID,signInMethod:di.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return di.credentialFromTaggedObject(t)}static credentialFromError(t){return di.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return di.credential(t.oauthAccessToken)}catch(t){return null}}}di.GITHUB_SIGN_IN_METHOD="github.com",di.PROVIDER_ID="github.com";
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class fi extends li{constructor(){super("twitter.com")}static credential(t,e){return ni._fromParams({providerId:fi.PROVIDER_ID,signInMethod:fi.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:e})}static credentialFromResult(t){return fi.credentialFromTaggedObject(t)}static credentialFromError(t){return fi.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:e,oauthTokenSecret:i}=t;if(!e||!i)return null;try{return fi.credential(e,i)}catch(t){return null}}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
async function pi(t,e){return ge(t,"POST","/v1/accounts:signUp",fe(t,e))}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */fi.TWITTER_SIGN_IN_METHOD="twitter.com",fi.PROVIDER_ID="twitter.com";class mi{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,e,i,n=!1){const r=await Ie._fromIdTokenResponse(t,i,n),s=gi(i);return new mi({user:r,providerId:s,_tokenResponse:i,operationType:e})}static async _forOperation(t,e,i){await t._updateTokensIfNecessary(i,!0);const n=gi(i);return new mi({user:t,providerId:n,_tokenResponse:i,operationType:e})}}function gi(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class vi extends x{constructor(t,e,i,n){var r;super(e.code,e.message),this.operationType=i,this.user=n,Object.setPrototypeOf(this,vi.prototype),this.customData={appName:t.name,tenantId:null!==(r=t.tenantId)&&void 0!==r?r:void 0,_serverResponse:e.customData._serverResponse,operationType:i}}static _fromErrorAndOperation(t,e,i,n){return new vi(t,e,i,n)}}function yi(t,e,i,n){return("reauthenticate"===e?i._getReauthenticationResolver(t):i._getIdTokenResponse(t)).catch((i=>{if("auth/multi-factor-auth-required"===i.code)throw vi._fromErrorAndOperation(t,i,e,n);throw i}))}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function bi(t,e,i=!1){const n=await xe(t,e._linkToIdToken(t.auth,await t.getIdToken()),i);return mi._forOperation(t,"link",n)}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
async function wi(t,e,i=!1){const{auth:n}=t,r="reauthenticate";try{const s=await xe(t,yi(n,r,e,t),i);Jt(s.idToken,n,"internal-error");const o=Me(s.idToken);Jt(o,n,"internal-error");const{sub:a}=o;return Jt(t.uid===a,n,"user-mismatch"),mi._forOperation(t,r,s)}catch(t){throw"auth/user-not-found"===(null==t?void 0:t.code)&&Yt(n,"user-mismatch"),t}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _i(t,e,i=!1){const n="signIn",r=await yi(t,n,e),s=await mi._fromIdTokenResponse(t,n,r);return i||await t._updateCurrentUser(s.user),s}async function Mi(t,e){return _i(Qe(t),e)}async function xi(t,e,i){const n=Qe(t),r=await pi(n,{returnSecureToken:!0,email:e,password:i}),s=await mi._fromIdTokenResponse(n,"signIn",r);return await n._updateCurrentUser(s.user),s}function ki(t,e,i){return Mi(N(t),ai.credential(e,i))}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ai(t,e){return Si(N(t),e,null)}function Ei(t,e){return Si(N(t),null,e)}async function Si(t,e,i){const{auth:n}=t,r={idToken:await t.getIdToken(),returnSecureToken:!0};e&&(r.email=e),i&&(r.password=i);const s=await xe(t,ti(n,r));await t._updateTokensIfNecessary(s,!0)}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ti(t,e,i,n){return N(t).onAuthStateChanged(e,i,n)}function Ii(t){return N(t).signOut()}new WeakMap;const qi="__sak";
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ci{constructor(t,e){this.storageRetriever=t,this.type=e}_isAvailable(){try{return this.storage?(this.storage.setItem(qi,"1"),this.storage.removeItem(qi),Promise.resolve(!0)):Promise.resolve(!1)}catch(t){return Promise.resolve(!1)}}_set(t,e){return this.storage.setItem(t,JSON.stringify(e)),Promise.resolve()}_get(t){const e=this.storage.getItem(t);return Promise.resolve(e?JSON.parse(e):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ri extends Ci{constructor(){super((()=>window.localStorage),"LOCAL"),this.boundEventHandler=(t,e)=>this.onStorageEvent(t,e),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function(){const t=y();return Oe(t)||ze(t)}()&&function(){try{return!(!window||window===window.top)}catch(t){return!1}}(),this.fallbackToPolling=He(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const e of Object.keys(this.listeners)){const i=this.storage.getItem(e),n=this.localCache[e];i!==n&&t(e,n,i)}}onStorageEvent(t,e=!1){if(!t.key)return void this.forAllChangedKeys(((t,e,i)=>{this.notifyListeners(t,i)}));const i=t.key;if(e?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const n=this.storage.getItem(i);if(t.newValue!==n)null!==t.newValue?this.storage.setItem(i,t.newValue):this.storage.removeItem(i);else if(this.localCache[i]===t.newValue&&!e)return}const n=()=>{const t=this.storage.getItem(i);(e||this.localCache[i]!==t)&&this.notifyListeners(i,t)},r=this.storage.getItem(i);Ve()&&r!==t.newValue&&t.newValue!==t.oldValue?setTimeout(n,10):n()}notifyListeners(t,e){this.localCache[t]=e;const i=this.listeners[t];if(i)for(const t of Array.from(i))t(e?JSON.parse(e):e)}startPolling(){this.stopPolling(),this.pollTimer=setInterval((()=>{this.forAllChangedKeys(((t,e,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:e,newValue:i}),!0)}))}),1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,e){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(e)}_removeListener(t,e){this.listeners[t]&&(this.listeners[t].delete(e),0===this.listeners[t].size&&delete this.listeners[t]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}async _set(t,e){await super._set(t,e),this.localCache[t]=JSON.stringify(e)}async _get(t){const e=await super._get(t);return this.localCache[t]=JSON.stringify(e),e}async _remove(t){await super._remove(t),delete this.localCache[t]}}Ri.type="LOCAL";const Di=Ri;
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Li extends Ci{constructor(){super((()=>window.sessionStorage),"SESSION")}_addListener(t,e){}_removeListener(t,e){}}Li.type="SESSION";const Ni=Li;
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class Oi{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const e=this.receivers.find((e=>e.isListeningto(t)));if(e)return e;const i=new Oi(t);return this.receivers.push(i),i}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const e=t,{eventId:i,eventType:n,data:r}=e.data,s=this.handlersMap[n];if(!(null==s?void 0:s.size))return;e.ports[0].postMessage({status:"ack",eventId:i,eventType:n});const o=Array.from(s).map((async t=>t(e.origin,r))),a=await function(t){return Promise.all(t.map((async t=>{try{return{fulfilled:!0,value:await t}}catch(t){return{fulfilled:!1,reason:t}}})))}(o);e.ports[0].postMessage({status:"done",eventId:i,eventType:n,response:a})}_subscribe(t,e){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(e)}_unsubscribe(t,e){this.handlersMap[t]&&e&&this.handlersMap[t].delete(e),e&&0!==this.handlersMap[t].size||delete this.handlersMap[t],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function Pi(t="",e=10){let i="";for(let t=0;t<e;t++)i+=Math.floor(10*Math.random());return t+i}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Oi.receivers=[];class Bi{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,e,i=50){const n="undefined"!=typeof MessageChannel?new MessageChannel:null;if(!n)throw new Error("connection_unavailable");let r,s;return new Promise(((o,a)=>{const h=Pi("",20);n.port1.start();const l=setTimeout((()=>{a(new Error("unsupported_event"))}),i);s={messageChannel:n,onMessage(t){const e=t;if(e.data.eventId===h)switch(e.data.status){case"ack":clearTimeout(l),r=setTimeout((()=>{a(new Error("timeout"))}),3e3);break;case"done":clearTimeout(r),o(e.data.response);break;default:clearTimeout(l),clearTimeout(r),a(new Error("invalid_response"))}}},this.handlers.add(s),n.port1.addEventListener("message",s.onMessage),this.target.postMessage({eventType:t,eventId:h,data:e},[n.port2])})).finally((()=>{s&&this.removeMessageHandler(s)}))}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ui(){return window}
/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function Fi(){return void 0!==Ui().WorkerGlobalScope&&"function"==typeof Ui().importScripts}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
const ji="firebaseLocalStorageDb",zi=1,Vi="firebaseLocalStorage",Hi="fbase_key";class Wi{constructor(t){this.request=t}toPromise(){return new Promise(((t,e)=>{this.request.addEventListener("success",(()=>{t(this.request.result)})),this.request.addEventListener("error",(()=>{e(this.request.error)}))}))}}function Ki(t,e){return t.transaction([Vi],e?"readwrite":"readonly").objectStore(Vi)}function Gi(){const t=indexedDB.open(ji,zi);return new Promise(((e,i)=>{t.addEventListener("error",(()=>{i(t.error)})),t.addEventListener("upgradeneeded",(()=>{const e=t.result;try{e.createObjectStore(Vi,{keyPath:Hi})}catch(t){i(t)}})),t.addEventListener("success",(async()=>{const i=t.result;i.objectStoreNames.contains(Vi)?e(i):(i.close(),await function(){const t=indexedDB.deleteDatabase(ji);return new Wi(t).toPromise()}(),e(await Gi()))}))}))}async function Qi(t,e,i){const n=Ki(t,!0).put({[Hi]:e,value:i});return new Wi(n).toPromise()}function Yi(t,e){const i=Ki(t,!0).delete(e);return new Wi(i).toPromise()}class Zi{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then((()=>{}),(()=>{}))}async _openDb(){return this.db||(this.db=await Gi()),this.db}async _withRetries(t){let e=0;for(;;)try{const e=await this._openDb();return await t(e)}catch(t){if(e++>3)throw t;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return Fi()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Oi._getInstance(Fi()?self:null),this.receiver._subscribe("keyChanged",(async(t,e)=>({keyProcessed:(await this._poll()).includes(e.key)}))),this.receiver._subscribe("ping",(async(t,e)=>["keyChanged"]))}async initializeSender(){var t,e;if(this.activeServiceWorker=await async function(){if(!(null===navigator||void 0===navigator?void 0:navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch(t){return null}}(),!this.activeServiceWorker)return;this.sender=new Bi(this.activeServiceWorker);const i=await this.sender._send("ping",{},800);i&&(null===(t=i[0])||void 0===t?void 0:t.fulfilled)&&(null===(e=i[0])||void 0===e?void 0:e.value.includes("keyChanged"))&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){var e;if(this.sender&&this.activeServiceWorker&&((null===(e=null===navigator||void 0===navigator?void 0:navigator.serviceWorker)||void 0===e?void 0:e.controller)||null)===this.activeServiceWorker)try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch(e){}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await Gi();return await Qi(t,qi,"1"),await Yi(t,qi),!0}catch(t){}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,e){return this._withPendingWrite((async()=>(await this._withRetries((i=>Qi(i,t,e))),this.localCache[t]=e,this.notifyServiceWorker(t))))}async _get(t){const e=await this._withRetries((e=>async function(t,e){const i=Ki(t,!1).get(e),n=await new Wi(i).toPromise();return void 0===n?null:n.value}(e,t)));return this.localCache[t]=e,e}async _remove(t){return this._withPendingWrite((async()=>(await this._withRetries((e=>Yi(e,t))),delete this.localCache[t],this.notifyServiceWorker(t))))}async _poll(){const t=await this._withRetries((t=>{const e=Ki(t,!1).getAll();return new Wi(e).toPromise()}));if(!t)return[];if(0!==this.pendingWrites)return[];const e=[],i=new Set;for(const{fbase_key:n,value:r}of t)i.add(n),JSON.stringify(this.localCache[n])!==JSON.stringify(r)&&(this.notifyListeners(n,r),e.push(n));for(const t of Object.keys(this.localCache))this.localCache[t]&&!i.has(t)&&(this.notifyListeners(t,null),e.push(t));return e}notifyListeners(t,e){this.localCache[t]=e;const i=this.listeners[t];if(i)for(const t of Array.from(i))t(e)}startPolling(){this.stopPolling(),this.pollTimer=setInterval((async()=>this._poll()),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,e){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(e)}_removeListener(t,e){this.listeners[t]&&(this.listeners[t].delete(e),0===this.listeners[t].size&&delete this.listeners[t]),0===Object.keys(this.listeners).length&&this.stopPolling()}}Zi.type="LOCAL";const $i=Zi;
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xi(t){return new Promise(((e,i)=>{const n=document.createElement("script");
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var r,s;n.setAttribute("src",t),n.onload=e,n.onerror=t=>{const e=Zt("internal-error");e.customData=t,i(e)},n.type="text/javascript",n.charset="UTF-8",(null!==(s=null===(r=document.getElementsByTagName("head"))||void 0===r?void 0:r[0])&&void 0!==s?s:document).appendChild(n)}))}function Ji(t){return`__${t}${Math.floor(1e6*Math.random())}`}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
Ji("rcb"),new he(3e4,6e4);
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
const tn="recaptcha";async function en(t,e,i){var n;const r=await i.verify();try{let s;if(Jt("string"==typeof r,t,"argument-error"),Jt(i.type===tn,t,"argument-error"),s="string"==typeof e?{phoneNumber:e}:e,"session"in s){const e=s.session;if("phoneNumber"in s){Jt("enroll"===e.type,t,"internal-error");const i=await
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function(t,e){return pe(t,"POST","/v2/accounts/mfaEnrollment:start",fe(t,e))}(t,{idToken:e.credential,phoneEnrollmentInfo:{phoneNumber:s.phoneNumber,recaptchaToken:r}});return i.phoneSessionInfo.sessionInfo}{Jt("signin"===e.type,t,"internal-error");const i=(null===(n=s.multiFactorHint)||void 0===n?void 0:n.uid)||s.multiFactorUid;Jt(i,t,"missing-multi-factor-info");const o=await function(t,e){return pe(t,"POST","/v2/accounts/mfaSignIn:start",fe(t,e))}(t,{mfaPendingCredential:e.credential,mfaEnrollmentId:i,phoneSignInInfo:{recaptchaToken:r}});return o.phoneResponseInfo.sessionInfo}}{const{sessionInfo:e}=await async function(t,e){return pe(t,"POST","/v1/accounts:sendVerificationCode",fe(t,e))}(t,{phoneNumber:s.phoneNumber,recaptchaToken:r});return e}}finally{i._reset()}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class nn{constructor(t){this.providerId=nn.PROVIDER_ID,this.auth=Qe(t)}verifyPhoneNumber(t,e){return en(this.auth,t,N(e))}static credential(t,e){return si._fromVerification(t,e)}static credentialFromResult(t){const e=t;return nn.credentialFromTaggedObject(e)}static credentialFromError(t){return nn.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{phoneNumber:e,temporaryProof:i}=t;return e&&i?si._fromTokenResponse(e,i):null}}
/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function rn(t,e){return e?ne(e):(Jt(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */nn.PROVIDER_ID="phone",nn.PHONE_SIGN_IN_METHOD="phone";class sn extends Je{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return ii(t,this._buildIdpRequest())}_linkToIdToken(t,e){return ii(t,this._buildIdpRequest(e))}_getReauthenticationResolver(t){return ii(t,this._buildIdpRequest())}_buildIdpRequest(t){const e={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(e.idToken=t),e}}function on(t){return _i(t.auth,new sn(t),t.bypassAuthState)}function an(t){const{auth:e,user:i}=t;return Jt(i,e,"internal-error"),wi(i,new sn(t),t.bypassAuthState)}async function hn(t){const{auth:e,user:i}=t;return Jt(i,e,"internal-error"),bi(i,new sn(t),t.bypassAuthState)}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ln{constructor(t,e,i,n,r=!1){this.auth=t,this.resolver=i,this.user=n,this.bypassAuthState=r,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(e)?e:[e]}execute(){return new Promise((async(t,e)=>{this.pendingPromise={resolve:t,reject:e};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(t){this.reject(t)}}))}async onAuthEvent(t){const{urlResponse:e,sessionId:i,postBody:n,tenantId:r,error:s,type:o}=t;if(s)return void this.reject(s);const a={auth:this.auth,requestUri:e,sessionId:i,tenantId:r||void 0,postBody:n||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(o)(a))}catch(t){this.reject(t)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return on;case"linkViaPopup":case"linkViaRedirect":return hn;case"reauthViaPopup":case"reauthViaRedirect":return an;default:Yt(this.auth,"internal-error")}}resolve(t){ee(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){ee(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const un=new he(2e3,1e4);class cn extends ln{constructor(t,e,i,n,r){super(t,e,n,r),this.provider=i,this.authWindow=null,this.pollId=null,cn.currentPopupAction&&cn.currentPopupAction.cancel(),cn.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return Jt(t,this.auth,"internal-error"),t}async onExecution(){ee(1===this.filter.length,"Popup operations only handle one event");const t=Pi();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch((t=>{this.reject(t)})),this.resolver._isIframeWebStorageSupported(this.auth,(t=>{t||this.reject(Zt(this.auth,"web-storage-unsupported"))})),this.pollUserCancellation()}get eventId(){var t;return(null===(t=this.authWindow)||void 0===t?void 0:t.associatedEvent)||null}cancel(){this.reject(Zt(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,cn.currentPopupAction=null}pollUserCancellation(){const t=()=>{var e,i;(null===(i=null===(e=this.authWindow)||void 0===e?void 0:e.window)||void 0===i?void 0:i.closed)?this.pollId=window.setTimeout((()=>{this.pollId=null,this.reject(Zt(this.auth,"popup-closed-by-user"))}),2e3):this.pollId=window.setTimeout(t,un.get())};t()}}cn.currentPopupAction=null;
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
const dn="pendingRedirect",fn=new Map;class pn extends ln{constructor(t,e,i=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],e,void 0,i),this.eventId=null}async execute(){let t=fn.get(this.auth._key());if(!t){try{const e=await async function(t,e){const i=vn(e),n=gn(t);if(!await n._isAvailable())return!1;const r="true"===await n._get(i);return await n._remove(i),r}(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(e)}catch(e){t=()=>Promise.reject(e)}fn.set(this.auth._key(),t)}return this.bypassAuthState||fn.set(this.auth._key(),(()=>Promise.resolve(null))),t()}async onAuthEvent(t){if("signInViaRedirect"===t.type)return super.onAuthEvent(t);if("unknown"!==t.type){if(t.eventId){const e=await this.auth._redirectUserForId(t.eventId);if(e)return this.user=e,super.onAuthEvent(t);this.resolve(null)}}else this.resolve(null)}async onExecution(){}cleanUp(){}}function mn(t,e){fn.set(t._key(),e)}function gn(t){return ne(t._redirectPersistence)}function vn(t){return Re(dn,t.config.apiKey,t.name)}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function yn(t,e,i=!1){const n=Qe(t),r=rn(n,e),s=new pn(n,r,i),o=await s.execute();return o&&!i&&(delete o.user._redirectEventId,await n._persistUserIfCurrent(o.user),await n._setRedirectUser(null,e)),o}class bn{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let e=!1;return this.consumers.forEach((i=>{this.isEventForConsumer(t,i)&&(e=!0,this.sendToConsumer(t,i),this.saveEventToCache(t))})),this.hasHandledPotentialRedirect||!function(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return _n(t);default:return!1}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(t)||(this.hasHandledPotentialRedirect=!0,e||(this.queuedRedirectEvent=t,e=!0)),e}sendToConsumer(t,e){var i;if(t.error&&!_n(t)){const n=(null===(i=t.error.code)||void 0===i?void 0:i.split("auth/")[1])||"internal-error";e.onError(Zt(this.auth,n))}else e.onAuthEvent(t)}isEventForConsumer(t,e){const i=null===e.eventId||!!t.eventId&&t.eventId===e.eventId;return e.filter.includes(t.type)&&i}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(wn(t))}saveEventToCache(t){this.cachedEventUids.add(wn(t)),this.lastProcessedEventTime=Date.now()}}function wn(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter((t=>t)).join("-")}function _n({type:t,error:e}){return"unknown"===t&&"auth/no-auth-event"===(null==e?void 0:e.code)}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
const Mn=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,xn=/^https?/;async function kn(t){if(t.config.emulator)return;const{authorizedDomains:e}=await async function(t,e={}){return pe(t,"GET","/v1/projects",e)}(t);for(const t of e)try{if(An(t))return}catch(t){}Yt(t,"unauthorized-domain")}function An(t){const e=re(),{protocol:i,hostname:n}=new URL(e);if(t.startsWith("chrome-extension://")){const r=new URL(t);return""===r.hostname&&""===n?"chrome-extension:"===i&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):"chrome-extension:"===i&&r.hostname===n}if(!xn.test(i))return!1;if(Mn.test(t))return n===t;const r=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+r+"|"+r+")$","i").test(n)}
/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const En=new he(3e4,6e4);function Sn(){const t=Ui().___jsl;if(null==t?void 0:t.H)for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let e=0;e<t.CP.length;e++)t.CP[e]=null}let Tn=null;function In(t){return Tn=Tn||function(t){return new Promise(((e,i)=>{var n,r,s;function o(){Sn(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{Sn(),i(Zt(t,"network-request-failed"))},timeout:En.get()})}if(null===(r=null===(n=Ui().gapi)||void 0===n?void 0:n.iframes)||void 0===r?void 0:r.Iframe)e(gapi.iframes.getContext());else{if(!(null===(s=Ui().gapi)||void 0===s?void 0:s.load)){const e=Ji("iframefcb");return Ui()[e]=()=>{gapi.load?o():i(Zt(t,"network-request-failed"))},Xi(`https://apis.google.com/js/api.js?onload=${e}`).catch((t=>i(t)))}o()}})).catch((t=>{throw Tn=null,t}))}(t),Tn}
/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qn=new he(5e3,15e3),Cn="__/auth/iframe",Rn="emulator/auth/iframe",Dn={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Ln=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Nn(t){const e=t.config;Jt(e.authDomain,t,"auth-domain-config-required");const i=e.emulator?le(e,Rn):`https://${t.config.authDomain}/${Cn}`,n={apiKey:e.apiKey,appName:t.name,v:Et},r=Ln.get(t.config.apiHost);r&&(n.eid=r);const s=t._getFrameworks();return s.length&&(n.fw=s.join(",")),`${i}?${I(n).slice(1)}`}
/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
const On={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},Pn=500,Bn=600,Un="_blank",Fn="http://localhost";class jn{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch(t){}}}function zn(t,e,i,n=Pn,r=Bn){const s=Math.max((window.screen.availHeight-r)/2,0).toString(),o=Math.max((window.screen.availWidth-n)/2,0).toString();let a="";const h=Object.assign(Object.assign({},On),{width:n.toString(),height:r.toString(),top:s,left:o}),l=y().toLowerCase();i&&(a=Pe(l)?Un:i),Ne(l)&&(e=e||Fn,h.scrollbars="yes");const u=Object.entries(h).reduce(((t,[e,i])=>`${t}${e}=${i},`),"");if(function(t=y()){var e;return ze(t)&&!!(null===(e=window.navigator)||void 0===e?void 0:e.standalone)}(l)&&"_self"!==a)return function(t,e){const i=document.createElement("a");i.href=t,i.target=e;const n=document.createEvent("MouseEvent");n.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),i.dispatchEvent(n)}
/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(e||"",a),new jn(null);const c=window.open(e||"",a,u);Jt(c,t,"popup-blocked");try{c.focus()}catch(t){}return new jn(c)}const Vn="__/auth/handler",Hn="emulator/auth/handler";function Wn(t,e,i,n,r,s){Jt(t.config.authDomain,t,"auth-domain-config-required"),Jt(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:i,redirectUrl:n,v:Et,eventId:r};if(e instanceof hi){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",E(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[t,e]of Object.entries(s||{}))o[t]=e}if(e instanceof li){const t=e.getScopes().filter((t=>""!==t));t.length>0&&(o.scopes=t.join(","))}t.tenantId&&(o.tid=t.tenantId);const a=o;for(const t of Object.keys(a))void 0===a[t]&&delete a[t];return`${function({config:t}){return t.emulator?le(t,Hn):`https://${t.authDomain}/${Vn}`}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(t)}?${I(a).slice(1)}`}const Kn="webStorageSupport";const Gn=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Ni,this._completeRedirectFn=yn,this._overrideRedirectResult=mn}async _openPopup(t,e,i,n){var r;ee(null===(r=this.eventManagers[t._key()])||void 0===r?void 0:r.manager,"_initialize() not called before _openPopup()");return zn(t,Wn(t,e,i,re(),n),Pi())}async _openRedirect(t,e,i,n){var r;return await this._originValidation(t),r=Wn(t,e,i,re(),n),Ui().location.href=r,new Promise((()=>{}))}_initialize(t){const e=t._key();if(this.eventManagers[e]){const{manager:t,promise:i}=this.eventManagers[e];return t?Promise.resolve(t):(ee(i,"If manager is not set, promise should be"),i)}const i=this.initAndGetManager(t);return this.eventManagers[e]={promise:i},i.catch((()=>{delete this.eventManagers[e]})),i}async initAndGetManager(t){const e=await async function(t){const e=await In(t),i=Ui().gapi;return Jt(i,t,"internal-error"),e.open({where:document.body,url:Nn(t),messageHandlersFilter:i.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Dn,dontclear:!0},(e=>new Promise((async(i,n)=>{await e.restyle({setHideOnLeave:!1});const r=Zt(t,"network-request-failed"),s=Ui().setTimeout((()=>{n(r)}),qn.get());function o(){Ui().clearTimeout(s),i(e)}e.ping(o).then(o,(()=>{n(r)}))}))))}(t),i=new bn(t);return e.register("authEvent",(e=>{Jt(null==e?void 0:e.authEvent,t,"invalid-auth-event");return{status:i.onEvent(e.authEvent)?"ACK":"ERROR"}}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:i},this.iframes[t._key()]=e,i}_isIframeWebStorageSupported(t,e){this.iframes[t._key()].send(Kn,{type:Kn},(i=>{var n;const r=null===(n=null==i?void 0:i[0])||void 0===n?void 0:n[Kn];void 0!==r&&e(!!r),Yt(t,"internal-error")}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const e=t._key();return this.originValidationPromises[e]||(this.originValidationPromises[e]=kn(t)),this.originValidationPromises[e]}get _shouldInitProactively(){return He()||Oe()||ze()}};var Qn="@firebase/auth",Yn="0.21.3";
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class Zn{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){var t;return this.assertAuthConfigured(),(null===(t=this.auth.currentUser)||void 0===t?void 0:t.uid)||null}async getToken(t){if(this.assertAuthConfigured(),await this.auth._initializationPromise,!this.auth.currentUser)return null;return{accessToken:await this.auth.currentUser.getIdToken(t)}}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const e=this.auth.onIdTokenChanged((e=>{t((null==e?void 0:e.stsTokenManager.accessToken)||null)}));this.internalListeners.set(t,e),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const e=this.internalListeners.get(t);e&&(this.internalListeners.delete(t),e(),this.updateProactiveRefresh())}assertAuthConfigured(){Jt(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
const $n=m("authIdTokenMaxAge")||300;let Xn=null;const Jn=t=>async e=>{const i=e&&await e.getIdTokenResult(),n=i&&((new Date).getTime()-Date.parse(i.issuedAtTime))/1e3;if(n&&n>$n)return;const r=null==i?void 0:i.token;Xn!==r&&(Xn=r,await fetch(t,{method:r?"POST":"DELETE",headers:r?{Authorization:`Bearer ${r}`}:{}}))};function tr(t=Tt()){const e=xt(t,"auth");if(e.isInitialized())return e.getImmediate();const i=function(t,e){const i=xt(t,"auth");if(i.isInitialized()){const t=i.getImmediate();if(S(i.getOptions(),null!=e?e:{}))return t;Yt(t,"already-initialized")}return i.initialize({options:e})}(t,{popupRedirectResolver:Gn,persistence:[$i,Di,Ni]}),n=m("authTokenSyncURL");if(n){const t=Jn(n);!function(t,e,i){N(t).beforeAuthStateChanged(e,i)}(i,t,(()=>t(i.currentUser))),function(t,e,i,n){N(t).onIdTokenChanged(e,i,n)}(i,(e=>t(e)))}const r=d("auth");return r&&Ze(i,`http://${r}`),i}var er;er="Browser",Mt(new O("auth",((t,{options:e})=>{const i=t.getProvider("app").getImmediate(),n=t.getProvider("heartbeat"),{apiKey:r,authDomain:s}=i.options;return((t,i)=>{Jt(r&&!r.includes(":"),"invalid-api-key",{appName:t.name}),Jt(!(null==s?void 0:s.includes(":")),"argument-error",{appName:t.name});const n={apiKey:r,authDomain:s,clientPlatform:er,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:We(er)},o=new Ge(t,i,n);return function(t,e){const i=(null==e?void 0:e.persistence)||[],n=(Array.isArray(i)?i:[i]).map(ne);(null==e?void 0:e.errorMap)&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(n,null==e?void 0:e.popupRedirectResolver)}(o,e),o})(i,n)}),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback(((t,e,i)=>{t.getProvider("auth-internal").initialize()}))),Mt(new O("auth-internal",(t=>(t=>new Zn(t))(Qe(t.getProvider("auth").getImmediate()))),"PRIVATE").setInstantiationMode("EXPLICIT")),It(Qn,Yn,function(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(er)),It(Qn,Yn,"esm2017");var ir,nr="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:void 0!==e?e:"undefined"!=typeof self?self:{},rr={},sr=sr||{},or=nr||self;function ar(){}function hr(t){var e=typeof t;return"array"==(e="object"!=e?e:t?Array.isArray(t)?"array":e:"null")||"object"==e&&"number"==typeof t.length}function lr(t){var e=typeof t;return"object"==e&&null!=t||"function"==e}var ur="closure_uid_"+(1e9*Math.random()>>>0),cr=0;function dr(t,e,i){return t.call.apply(t.bind,arguments)}function fr(t,e,i){if(!t)throw Error();if(2<arguments.length){var n=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,n),t.apply(e,i)}}return function(){return t.apply(e,arguments)}}function pr(t,e,i){return(pr=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?dr:fr).apply(null,arguments)}function mr(t,e){var i=Array.prototype.slice.call(arguments,1);return function(){var e=i.slice();return e.push.apply(e,arguments),t.apply(this,e)}}function gr(t,e){function i(){}i.prototype=e.prototype,t.X=e.prototype,t.prototype=new i,t.prototype.constructor=t,t.Wb=function(t,i,n){for(var r=Array(arguments.length-2),s=2;s<arguments.length;s++)r[s-2]=arguments[s];return e.prototype[i].apply(t,r)}}function vr(){this.s=this.s,this.o=this.o}vr.prototype.s=!1,vr.prototype.na=function(){var t;!this.s&&(this.s=!0,this.M(),0)&&(t=this,Object.prototype.hasOwnProperty.call(t,ur)&&t[ur]||(t[ur]=++cr))},vr.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const yr=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if("string"==typeof t)return"string"!=typeof e||1!=e.length?-1:t.indexOf(e,0);for(let i=0;i<t.length;i++)if(i in t&&t[i]===e)return i;return-1};function br(t){const e=t.length;if(0<e){const i=Array(e);for(let n=0;n<e;n++)i[n]=t[n];return i}return[]}function wr(t,e){for(let e=1;e<arguments.length;e++){const i=arguments[e];if(hr(i)){const e=t.length||0,n=i.length||0;t.length=e+n;for(let r=0;r<n;r++)t[e+r]=i[r]}else t.push(i)}}function _r(t,e){this.type=t,this.g=this.target=e,this.defaultPrevented=!1}_r.prototype.h=function(){this.defaultPrevented=!0};var Mr=function(){if(!or.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{or.addEventListener("test",ar,e),or.removeEventListener("test",ar,e)}catch(t){}return t}();function xr(t){return/^[\s\xa0]*$/.test(t)}var kr=String.prototype.trim?function(t){return t.trim()}:function(t){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(t)[1]};function Ar(t,e){return t<e?-1:t>e?1:0}function Er(){var t=or.navigator;return t&&(t=t.userAgent)?t:""}function Sr(t){return-1!=Er().indexOf(t)}function Tr(t){return Tr[" "](t),t}Tr[" "]=ar;var Ir,qr,Cr=Sr("Opera"),Rr=Sr("Trident")||Sr("MSIE"),Dr=Sr("Edge"),Lr=Dr||Rr,Nr=Sr("Gecko")&&!(-1!=Er().toLowerCase().indexOf("webkit")&&!Sr("Edge"))&&!(Sr("Trident")||Sr("MSIE"))&&!Sr("Edge"),Or=-1!=Er().toLowerCase().indexOf("webkit")&&!Sr("Edge");function Pr(){var t=or.document;return t?t.documentMode:void 0}t:{var Br="",Ur=(qr=Er(),Nr?/rv:([^\);]+)(\)|;)/.exec(qr):Dr?/Edge\/([\d\.]+)/.exec(qr):Rr?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(qr):Or?/WebKit\/(\S+)/.exec(qr):Cr?/(?:Version)[ \/]?(\S+)/.exec(qr):void 0);if(Ur&&(Br=Ur?Ur[1]:""),Rr){var Fr=Pr();if(null!=Fr&&Fr>parseFloat(Br)){Ir=String(Fr);break t}}Ir=Br}var jr,zr={};function Vr(){return function(t){var e=zr;return Object.prototype.hasOwnProperty.call(e,9)?e[9]:e[9]=t(9)}((function(){let t=0;const e=kr(String(Ir)).split("."),i=kr("9").split("."),n=Math.max(e.length,i.length);for(let o=0;0==t&&o<n;o++){var r=e[o]||"",s=i[o]||"";do{if(r=/(\d*)(\D*)(.*)/.exec(r)||["","","",""],s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],0==r[0].length&&0==s[0].length)break;t=Ar(0==r[1].length?0:parseInt(r[1],10),0==s[1].length?0:parseInt(s[1],10))||Ar(0==r[2].length,0==s[2].length)||Ar(r[2],s[2]),r=r[3],s=s[3]}while(0==t)}return 0<=t}))}if(or.document&&Rr){var Hr=Pr();jr=Hr||(parseInt(Ir,10)||void 0)}else jr=void 0;var Wr=jr;function Kr(t,e){if(_r.call(this,t?t.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,t){var i=this.type=t.type,n=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.g=e,e=t.relatedTarget){if(Nr){t:{try{Tr(e.nodeName);var r=!0;break t}catch(t){}r=!1}r||(e=null)}}else"mouseover"==i?e=t.fromElement:"mouseout"==i&&(e=t.toElement);this.relatedTarget=e,n?(this.clientX=void 0!==n.clientX?n.clientX:n.pageX,this.clientY=void 0!==n.clientY?n.clientY:n.pageY,this.screenX=n.screenX||0,this.screenY=n.screenY||0):(this.clientX=void 0!==t.clientX?t.clientX:t.pageX,this.clientY=void 0!==t.clientY?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType="string"==typeof t.pointerType?t.pointerType:Gr[t.pointerType]||"",this.state=t.state,this.i=t,t.defaultPrevented&&Kr.X.h.call(this)}}gr(Kr,_r);var Gr={2:"touch",3:"pen",4:"mouse"};Kr.prototype.h=function(){Kr.X.h.call(this);var t=this.i;t.preventDefault?t.preventDefault():t.returnValue=!1};var Qr="closure_listenable_"+(1e6*Math.random()|0),Yr=0;function Zr(t,e,i,n,r){this.listener=t,this.proxy=null,this.src=e,this.type=i,this.capture=!!n,this.ha=r,this.key=++Yr,this.ba=this.ea=!1}function $r(t){t.ba=!0,t.listener=null,t.proxy=null,t.src=null,t.ha=null}function Xr(t,e,i){for(const n in t)e.call(i,t[n],n,t)}function Jr(t){const e={};for(const i in t)e[i]=t[i];return e}const ts="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function es(t,e){let i,n;for(let e=1;e<arguments.length;e++){for(i in n=arguments[e],n)t[i]=n[i];for(let e=0;e<ts.length;e++)i=ts[e],Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}}function is(t){this.src=t,this.g={},this.h=0}function ns(t,e){var i=e.type;if(i in t.g){var n,r=t.g[i],s=yr(r,e);(n=0<=s)&&Array.prototype.splice.call(r,s,1),n&&($r(e),0==t.g[i].length&&(delete t.g[i],t.h--))}}function rs(t,e,i,n){for(var r=0;r<t.length;++r){var s=t[r];if(!s.ba&&s.listener==e&&s.capture==!!i&&s.ha==n)return r}return-1}is.prototype.add=function(t,e,i,n,r){var s=t.toString();(t=this.g[s])||(t=this.g[s]=[],this.h++);var o=rs(t,e,n,r);return-1<o?(e=t[o],i||(e.ea=!1)):((e=new Zr(e,this.src,s,!!n,r)).ea=i,t.push(e)),e};var ss="closure_lm_"+(1e6*Math.random()|0),os={};function as(t,e,i,n,r){if(n&&n.once)return ls(t,e,i,n,r);if(Array.isArray(e)){for(var s=0;s<e.length;s++)as(t,e[s],i,n,r);return null}return i=gs(i),t&&t[Qr]?t.N(e,i,lr(n)?!!n.capture:!!n,r):hs(t,e,i,!1,n,r)}function hs(t,e,i,n,r,s){if(!e)throw Error("Invalid event type");var o=lr(r)?!!r.capture:!!r,a=ps(t);if(a||(t[ss]=a=new is(t)),(i=a.add(e,i,n,o,s)).proxy)return i;if(n=function(){function t(i){return e.call(t.src,t.listener,i)}const e=fs;return t}(),i.proxy=n,n.src=t,n.listener=i,t.addEventListener)Mr||(r=o),void 0===r&&(r=!1),t.addEventListener(e.toString(),n,r);else if(t.attachEvent)t.attachEvent(ds(e.toString()),n);else{if(!t.addListener||!t.removeListener)throw Error("addEventListener and attachEvent are unavailable.");t.addListener(n)}return i}function ls(t,e,i,n,r){if(Array.isArray(e)){for(var s=0;s<e.length;s++)ls(t,e[s],i,n,r);return null}return i=gs(i),t&&t[Qr]?t.O(e,i,lr(n)?!!n.capture:!!n,r):hs(t,e,i,!0,n,r)}function us(t,e,i,n,r){if(Array.isArray(e))for(var s=0;s<e.length;s++)us(t,e[s],i,n,r);else n=lr(n)?!!n.capture:!!n,i=gs(i),t&&t[Qr]?(t=t.i,(e=String(e).toString())in t.g&&(-1<(i=rs(s=t.g[e],i,n,r))&&($r(s[i]),Array.prototype.splice.call(s,i,1),0==s.length&&(delete t.g[e],t.h--)))):t&&(t=ps(t))&&(e=t.g[e.toString()],t=-1,e&&(t=rs(e,i,n,r)),(i=-1<t?e[t]:null)&&cs(i))}function cs(t){if("number"!=typeof t&&t&&!t.ba){var e=t.src;if(e&&e[Qr])ns(e.i,t);else{var i=t.type,n=t.proxy;e.removeEventListener?e.removeEventListener(i,n,t.capture):e.detachEvent?e.detachEvent(ds(i),n):e.addListener&&e.removeListener&&e.removeListener(n),(i=ps(e))?(ns(i,t),0==i.h&&(i.src=null,e[ss]=null)):$r(t)}}}function ds(t){return t in os?os[t]:os[t]="on"+t}function fs(t,e){if(t.ba)t=!0;else{e=new Kr(e,this);var i=t.listener,n=t.ha||t.src;t.ea&&cs(t),t=i.call(n,e)}return t}function ps(t){return(t=t[ss])instanceof is?t:null}var ms="__closure_events_fn_"+(1e9*Math.random()>>>0);function gs(t){return"function"==typeof t?t:(t[ms]||(t[ms]=function(e){return t.handleEvent(e)}),t[ms])}function vs(){vr.call(this),this.i=new is(this),this.P=this,this.I=null}function ys(t,e){var i,n=t.I;if(n)for(i=[];n;n=n.I)i.push(n);if(t=t.P,n=e.type||e,"string"==typeof e)e=new _r(e,t);else if(e instanceof _r)e.target=e.target||t;else{var r=e;es(e=new _r(n,t),r)}if(r=!0,i)for(var s=i.length-1;0<=s;s--){var o=e.g=i[s];r=bs(o,n,!0,e)&&r}if(r=bs(o=e.g=t,n,!0,e)&&r,r=bs(o,n,!1,e)&&r,i)for(s=0;s<i.length;s++)r=bs(o=e.g=i[s],n,!1,e)&&r}function bs(t,e,i,n){if(!(e=t.i.g[String(e)]))return!0;e=e.concat();for(var r=!0,s=0;s<e.length;++s){var o=e[s];if(o&&!o.ba&&o.capture==i){var a=o.listener,h=o.ha||o.src;o.ea&&ns(t.i,o),r=!1!==a.call(h,n)&&r}}return r&&!n.defaultPrevented}gr(vs,vr),vs.prototype[Qr]=!0,vs.prototype.removeEventListener=function(t,e,i,n){us(this,t,e,i,n)},vs.prototype.M=function(){if(vs.X.M.call(this),this.i){var t,e=this.i;for(t in e.g){for(var i=e.g[t],n=0;n<i.length;n++)$r(i[n]);delete e.g[t],e.h--}}this.I=null},vs.prototype.N=function(t,e,i,n){return this.i.add(String(t),e,!1,i,n)},vs.prototype.O=function(t,e,i,n){return this.i.add(String(t),e,!0,i,n)};var ws=or.JSON.stringify;function _s(){var t=Ts;let e=null;return t.g&&(e=t.g,t.g=t.g.next,t.g||(t.h=null),e.next=null),e}var Ms,xs=new class{constructor(t,e){this.i=t,this.j=e,this.h=0,this.g=null}get(){let t;return 0<this.h?(this.h--,t=this.g,this.g=t.next,t.next=null):t=this.i(),t}}((()=>new ks),(t=>t.reset()));class ks{constructor(){this.next=this.g=this.h=null}set(t,e){this.h=t,this.g=e,this.next=null}reset(){this.next=this.g=this.h=null}}function As(t){or.setTimeout((()=>{throw t}),0)}function Es(t,e){Ms||function(){var t=or.Promise.resolve(void 0);Ms=function(){t.then(Is)}}(),Ss||(Ms(),Ss=!0),Ts.add(t,e)}var Ss=!1,Ts=new class{constructor(){this.h=this.g=null}add(t,e){const i=xs.get();i.set(t,e),this.h?this.h.next=i:this.g=i,this.h=i}};function Is(){for(var t;t=_s();){try{t.h.call(t.g)}catch(t){As(t)}var e=xs;e.j(t),100>e.h&&(e.h++,t.next=e.g,e.g=t)}Ss=!1}function qs(t,e){vs.call(this),this.h=t||1,this.g=e||or,this.j=pr(this.lb,this),this.l=Date.now()}function Cs(t){t.ca=!1,t.R&&(t.g.clearTimeout(t.R),t.R=null)}function Rs(t,e,i){if("function"==typeof t)i&&(t=pr(t,i));else{if(!t||"function"!=typeof t.handleEvent)throw Error("Invalid listener argument");t=pr(t.handleEvent,t)}return 2147483647<Number(e)?-1:or.setTimeout(t,e||0)}function Ds(t){t.g=Rs((()=>{t.g=null,t.i&&(t.i=!1,Ds(t))}),t.j);const e=t.h;t.h=null,t.m.apply(null,e)}gr(qs,vs),(ir=qs.prototype).ca=!1,ir.R=null,ir.lb=function(){if(this.ca){var t=Date.now()-this.l;0<t&&t<.8*this.h?this.R=this.g.setTimeout(this.j,this.h-t):(this.R&&(this.g.clearTimeout(this.R),this.R=null),ys(this,"tick"),this.ca&&(Cs(this),this.start()))}},ir.start=function(){this.ca=!0,this.R||(this.R=this.g.setTimeout(this.j,this.h),this.l=Date.now())},ir.M=function(){qs.X.M.call(this),Cs(this),delete this.g};class Ls extends vr{constructor(t,e){super(),this.m=t,this.j=e,this.h=null,this.i=!1,this.g=null}l(t){this.h=arguments,this.g?this.i=!0:Ds(this)}M(){super.M(),this.g&&(or.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Ns(t){vr.call(this),this.h=t,this.g={}}gr(Ns,vr);var Os=[];function Ps(t,e,i,n){Array.isArray(i)||(i&&(Os[0]=i.toString()),i=Os);for(var r=0;r<i.length;r++){var s=as(e,i[r],n||t.handleEvent,!1,t.h||t);if(!s)break;t.g[s.key]=s}}function Bs(t){Xr(t.g,(function(t,e){this.g.hasOwnProperty(e)&&cs(t)}),t),t.g={}}function Us(){this.g=!0}function Fs(t,e,i,n){t.info((function(){return"XMLHTTP TEXT ("+e+"): "+function(t,e){if(!t.g)return e;if(!e)return null;try{var i=JSON.parse(e);if(i)for(t=0;t<i.length;t++)if(Array.isArray(i[t])){var n=i[t];if(!(2>n.length)){var r=n[1];if(Array.isArray(r)&&!(1>r.length)){var s=r[0];if("noop"!=s&&"stop"!=s&&"close"!=s)for(var o=1;o<r.length;o++)r[o]=""}}}return ws(i)}catch(t){return e}}(t,i)+(n?" "+n:"")}))}Ns.prototype.M=function(){Ns.X.M.call(this),Bs(this)},Ns.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},Us.prototype.Aa=function(){this.g=!1},Us.prototype.info=function(){};var js={},zs=null;function Vs(){return zs=zs||new vs}function Hs(t){_r.call(this,js.Pa,t)}function Ws(t){const e=Vs();ys(e,new Hs(e))}function Ks(t,e){_r.call(this,js.STAT_EVENT,t),this.stat=e}function Gs(t){const e=Vs();ys(e,new Ks(e,t))}function Qs(t,e){_r.call(this,js.Qa,t),this.size=e}function Ys(t,e){if("function"!=typeof t)throw Error("Fn must not be null and must be a function");return or.setTimeout((function(){t()}),e)}js.Pa="serverreachability",gr(Hs,_r),js.STAT_EVENT="statevent",gr(Ks,_r),js.Qa="timingevent",gr(Qs,_r);var Zs={NO_ERROR:0,mb:1,zb:2,yb:3,tb:4,xb:5,Ab:6,Ma:7,TIMEOUT:8,Db:9},$s={rb:"complete",Nb:"success",Na:"error",Ma:"abort",Fb:"ready",Gb:"readystatechange",TIMEOUT:"timeout",Bb:"incrementaldata",Eb:"progress",ub:"downloadprogress",Vb:"uploadprogress"};function Xs(){}function Js(t){return t.h||(t.h=t.i())}function to(){}Xs.prototype.h=null;var eo,io={OPEN:"a",qb:"b",Na:"c",Cb:"d"};function no(){_r.call(this,"d")}function ro(){_r.call(this,"c")}function so(){}function oo(t,e,i,n){this.l=t,this.j=e,this.m=i,this.U=n||1,this.S=new Ns(this),this.O=ho,t=Lr?125:void 0,this.T=new qs(t),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.V=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.Y=-1,this.I=!1,this.N=0,this.L=null,this.$=this.J=this.Z=this.P=!1,this.h=new ao}function ao(){this.i=null,this.g="",this.h=!1}gr(no,_r),gr(ro,_r),gr(so,Xs),so.prototype.g=function(){return new XMLHttpRequest},so.prototype.i=function(){return{}},eo=new so;var ho=45e3,lo={},uo={};function co(t,e,i){t.K=1,t.v=Co(Eo(e)),t.s=i,t.P=!0,fo(t,null)}function fo(t,e){t.F=Date.now(),vo(t),t.A=Eo(t.v);var i=t.A,n=t.U;Array.isArray(n)||(n=[String(n)]),Ho(i.i,"t",n),t.C=0,i=t.l.H,t.h=new ao,t.g=Va(t.l,i?e:null,!t.s),0<t.N&&(t.L=new Ls(pr(t.La,t,t.g),t.N)),Ps(t.S,t.g,"readystatechange",t.ib),e=t.H?Jr(t.H):{},t.s?(t.u||(t.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.g.da(t.A,t.u,t.s,e)):(t.u="GET",t.g.da(t.A,t.u,null,e)),Ws(),function(t,e,i,n,r,s){t.info((function(){if(t.g)if(s)for(var o="",a=s.split("&"),h=0;h<a.length;h++){var l=a[h].split("=");if(1<l.length){var u=l[0];l=l[1];var c=u.split("_");o=2<=c.length&&"type"==c[1]?o+(u+"=")+l+"&":o+(u+"=redacted&")}}else o=null;else o=s;return"XMLHTTP REQ ("+n+") [attempt "+r+"]: "+e+"\n"+i+"\n"+o}))}(t.j,t.u,t.A,t.m,t.U,t.s)}function po(t){return!!t.g&&("GET"==t.u&&2!=t.K&&t.l.Da)}function mo(t,e,i){let n,r=!0;for(;!t.I&&t.C<i.length;){if(n=go(t,i),n==uo){4==e&&(t.o=4,Gs(14),r=!1),Fs(t.j,t.m,null,"[Incomplete Response]");break}if(n==lo){t.o=4,Gs(15),Fs(t.j,t.m,i,"[Invalid Chunk]"),r=!1;break}Fs(t.j,t.m,n,null),Mo(t,n)}po(t)&&n!=uo&&n!=lo&&(t.h.g="",t.C=0),4!=e||0!=i.length||t.h.h||(t.o=1,Gs(16),r=!1),t.i=t.i&&r,r?0<i.length&&!t.$&&(t.$=!0,(e=t.l).g==t&&e.$&&!e.K&&(e.j.info("Great, no buffering proxy detected. Bytes received: "+i.length),Na(e),e.K=!0,Gs(11))):(Fs(t.j,t.m,i,"[Invalid Chunked Response]"),_o(t),wo(t))}function go(t,e){var i=t.C,n=e.indexOf("\n",i);return-1==n?uo:(i=Number(e.substring(i,n)),isNaN(i)?lo:(n+=1)+i>e.length?uo:(e=e.substr(n,i),t.C=n+i,e))}function vo(t){t.V=Date.now()+t.O,yo(t,t.O)}function yo(t,e){if(null!=t.B)throw Error("WatchDog timer not null");t.B=Ys(pr(t.gb,t),e)}function bo(t){t.B&&(or.clearTimeout(t.B),t.B=null)}function wo(t){0==t.l.G||t.I||Ba(t.l,t)}function _o(t){bo(t);var e=t.L;e&&"function"==typeof e.na&&e.na(),t.L=null,Cs(t.T),Bs(t.S),t.g&&(e=t.g,t.g=null,e.abort(),e.na())}function Mo(t,e){try{var i=t.l;if(0!=i.G&&(i.g==t||Zo(i.h,t)))if(!t.J&&Zo(i.h,t)&&3==i.G){try{var n=i.Fa.g.parse(e)}catch(t){n=null}if(Array.isArray(n)&&3==n.length){var r=n;if(0==r[0]){t:if(!i.u){if(i.g){if(!(i.g.F+3e3<t.F))break t;Pa(i),Sa(i)}La(i),Gs(18)}}else i.Ba=r[1],0<i.Ba-i.T&&37500>r[2]&&i.L&&0==i.A&&!i.v&&(i.v=Ys(pr(i.cb,i),6e3));if(1>=Yo(i.h)&&i.ja){try{i.ja()}catch(t){}i.ja=void 0}}else Fa(i,11)}else if((t.J||i.g==t)&&Pa(i),!xr(e))for(r=i.Fa.g.parse(e),e=0;e<r.length;e++){let l=r[e];if(i.T=l[0],l=l[1],2==i.G)if("c"==l[0]){i.I=l[1],i.ka=l[2];const e=l[3];null!=e&&(i.ma=e,i.j.info("VER="+i.ma));const r=l[4];null!=r&&(i.Ca=r,i.j.info("SVER="+i.Ca));const u=l[5];null!=u&&"number"==typeof u&&0<u&&(n=1.5*u,i.J=n,i.j.info("backChannelRequestTimeoutMs_="+n)),n=i;const c=t.g;if(c){const t=c.g?c.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(t){var s=n.h;s.g||-1==t.indexOf("spdy")&&-1==t.indexOf("quic")&&-1==t.indexOf("h2")||(s.j=s.l,s.g=new Set,s.h&&($o(s,s.h),s.h=null))}if(n.D){const t=c.g?c.g.getResponseHeader("X-HTTP-Session-Id"):null;t&&(n.za=t,qo(n.F,n.D,t))}}i.G=3,i.l&&i.l.xa(),i.$&&(i.P=Date.now()-t.F,i.j.info("Handshake RTT: "+i.P+"ms"));var o=t;if((n=i).sa=za(n,n.H?n.ka:null,n.V),o.J){Xo(n.h,o);var a=o,h=n.J;h&&a.setTimeout(h),a.B&&(bo(a),vo(a)),n.g=o}else Da(n);0<i.i.length&&Ia(i)}else"stop"!=l[0]&&"close"!=l[0]||Fa(i,7);else 3==i.G&&("stop"==l[0]||"close"==l[0]?"stop"==l[0]?Fa(i,7):Ea(i):"noop"!=l[0]&&i.l&&i.l.wa(l),i.A=0)}Ws()}catch(t){}}function xo(t,e){if(t.forEach&&"function"==typeof t.forEach)t.forEach(e,void 0);else if(hr(t)||"string"==typeof t)Array.prototype.forEach.call(t,e,void 0);else for(var i=function(t){if(t.oa&&"function"==typeof t.oa)return t.oa();if(!t.W||"function"!=typeof t.W){if("undefined"!=typeof Map&&t instanceof Map)return Array.from(t.keys());if(!("undefined"!=typeof Set&&t instanceof Set)){if(hr(t)||"string"==typeof t){var e=[];t=t.length;for(var i=0;i<t;i++)e.push(i);return e}e=[],i=0;for(const n in t)e[i++]=n;return e}}}(t),n=function(t){if(t.W&&"function"==typeof t.W)return t.W();if("undefined"!=typeof Map&&t instanceof Map||"undefined"!=typeof Set&&t instanceof Set)return Array.from(t.values());if("string"==typeof t)return t.split("");if(hr(t)){for(var e=[],i=t.length,n=0;n<i;n++)e.push(t[n]);return e}for(n in e=[],i=0,t)e[i++]=t[n];return e}(t),r=n.length,s=0;s<r;s++)e.call(void 0,n[s],i&&i[s],t)}(ir=oo.prototype).setTimeout=function(t){this.O=t},ir.ib=function(t){t=t.target;const e=this.L;e&&3==wa(t)?e.l():this.La(t)},ir.La=function(t){try{if(t==this.g)t:{const u=wa(this.g);var e=this.g.Ea();this.g.aa();if(!(3>u)&&(3!=u||Lr||this.g&&(this.h.h||this.g.fa()||_a(this.g)))){this.I||4!=u||7==e||Ws(),bo(this);var i=this.g.aa();this.Y=i;e:if(po(this)){var n=_a(this.g);t="";var r=n.length,s=4==wa(this.g);if(!this.h.i){if("undefined"==typeof TextDecoder){_o(this),wo(this);var o="";break e}this.h.i=new or.TextDecoder}for(e=0;e<r;e++)this.h.h=!0,t+=this.h.i.decode(n[e],{stream:s&&e==r-1});n.splice(0,r),this.h.g+=t,this.C=0,o=this.h.g}else o=this.g.fa();if(this.i=200==i,function(t,e,i,n,r,s,o){t.info((function(){return"XMLHTTP RESP ("+n+") [ attempt "+r+"]: "+e+"\n"+i+"\n"+s+" "+o}))}(this.j,this.u,this.A,this.m,this.U,u,i),this.i){if(this.Z&&!this.J){e:{if(this.g){var a,h=this.g;if((a=h.g?h.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!xr(a)){var l=a;break e}}l=null}if(!(i=l)){this.i=!1,this.o=3,Gs(12),_o(this),wo(this);break t}Fs(this.j,this.m,i,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,Mo(this,i)}this.P?(mo(this,u,o),Lr&&this.i&&3==u&&(Ps(this.S,this.T,"tick",this.hb),this.T.start())):(Fs(this.j,this.m,o,null),Mo(this,o)),4==u&&_o(this),this.i&&!this.I&&(4==u?Ba(this.l,this):(this.i=!1,vo(this)))}else 400==i&&0<o.indexOf("Unknown SID")?(this.o=3,Gs(12)):(this.o=0,Gs(13)),_o(this),wo(this)}}}catch(t){}},ir.hb=function(){if(this.g){var t=wa(this.g),e=this.g.fa();this.C<e.length&&(bo(this),mo(this,t,e),this.i&&4!=t&&vo(this))}},ir.cancel=function(){this.I=!0,_o(this)},ir.gb=function(){this.B=null;const t=Date.now();0<=t-this.V?(function(t,e){t.info((function(){return"TIMEOUT: "+e}))}(this.j,this.A),2!=this.K&&(Ws(),Gs(17)),_o(this),this.o=2,wo(this)):yo(this,this.V-t)};var ko=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Ao(t,e){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,t instanceof Ao){this.h=void 0!==e?e:t.h,So(this,t.j),this.s=t.s,this.g=t.g,To(this,t.m),this.l=t.l,e=t.i;var i=new Fo;i.i=e.i,e.g&&(i.g=new Map(e.g),i.h=e.h),Io(this,i),this.o=t.o}else t&&(i=String(t).match(ko))?(this.h=!!e,So(this,i[1]||"",!0),this.s=Ro(i[2]||""),this.g=Ro(i[3]||"",!0),To(this,i[4]),this.l=Ro(i[5]||"",!0),Io(this,i[6]||"",!0),this.o=Ro(i[7]||"")):(this.h=!!e,this.i=new Fo(null,this.h))}function Eo(t){return new Ao(t)}function So(t,e,i){t.j=i?Ro(e,!0):e,t.j&&(t.j=t.j.replace(/:$/,""))}function To(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.m=e}else t.m=null}function Io(t,e,i){e instanceof Fo?(t.i=e,function(t,e){e&&!t.j&&(jo(t),t.i=null,t.g.forEach((function(t,e){var i=e.toLowerCase();e!=i&&(zo(this,e),Ho(this,i,t))}),t)),t.j=e}(t.i,t.h)):(i||(e=Do(e,Bo)),t.i=new Fo(e,t.h))}function qo(t,e,i){t.i.set(e,i)}function Co(t){return qo(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),t}function Ro(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function Do(t,e,i){return"string"==typeof t?(t=encodeURI(t).replace(e,Lo),i&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function Lo(t){return"%"+((t=t.charCodeAt(0))>>4&15).toString(16)+(15&t).toString(16)}Ao.prototype.toString=function(){var t=[],e=this.j;e&&t.push(Do(e,No,!0),":");var i=this.g;return(i||"file"==e)&&(t.push("//"),(e=this.s)&&t.push(Do(e,No,!0),"@"),t.push(encodeURIComponent(String(i)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(i=this.m)&&t.push(":",String(i))),(i=this.l)&&(this.g&&"/"!=i.charAt(0)&&t.push("/"),t.push(Do(i,"/"==i.charAt(0)?Po:Oo,!0))),(i=this.i.toString())&&t.push("?",i),(i=this.o)&&t.push("#",Do(i,Uo)),t.join("")};var No=/[#\/\?@]/g,Oo=/[#\?:]/g,Po=/[#\?]/g,Bo=/[#\?@]/g,Uo=/#/g;function Fo(t,e){this.h=this.g=null,this.i=t||null,this.j=!!e}function jo(t){t.g||(t.g=new Map,t.h=0,t.i&&function(t,e){if(t){t=t.split("&");for(var i=0;i<t.length;i++){var n=t[i].indexOf("="),r=null;if(0<=n){var s=t[i].substring(0,n);r=t[i].substring(n+1)}else s=t[i];e(s,r?decodeURIComponent(r.replace(/\+/g," ")):"")}}}(t.i,(function(e,i){t.add(decodeURIComponent(e.replace(/\+/g," ")),i)})))}function zo(t,e){jo(t),e=Wo(t,e),t.g.has(e)&&(t.i=null,t.h-=t.g.get(e).length,t.g.delete(e))}function Vo(t,e){return jo(t),e=Wo(t,e),t.g.has(e)}function Ho(t,e,i){zo(t,e),0<i.length&&(t.i=null,t.g.set(Wo(t,e),br(i)),t.h+=i.length)}function Wo(t,e){return e=String(e),t.j&&(e=e.toLowerCase()),e}(ir=Fo.prototype).add=function(t,e){jo(this),this.i=null,t=Wo(this,t);var i=this.g.get(t);return i||this.g.set(t,i=[]),i.push(e),this.h+=1,this},ir.forEach=function(t,e){jo(this),this.g.forEach((function(i,n){i.forEach((function(i){t.call(e,i,n,this)}),this)}),this)},ir.oa=function(){jo(this);const t=Array.from(this.g.values()),e=Array.from(this.g.keys()),i=[];for(let n=0;n<e.length;n++){const r=t[n];for(let t=0;t<r.length;t++)i.push(e[n])}return i},ir.W=function(t){jo(this);let e=[];if("string"==typeof t)Vo(this,t)&&(e=e.concat(this.g.get(Wo(this,t))));else{t=Array.from(this.g.values());for(let i=0;i<t.length;i++)e=e.concat(t[i])}return e},ir.set=function(t,e){return jo(this),this.i=null,Vo(this,t=Wo(this,t))&&(this.h-=this.g.get(t).length),this.g.set(t,[e]),this.h+=1,this},ir.get=function(t,e){return t&&0<(t=this.W(t)).length?String(t[0]):e},ir.toString=function(){if(this.i)return this.i;if(!this.g)return"";const t=[],e=Array.from(this.g.keys());for(var i=0;i<e.length;i++){var n=e[i];const s=encodeURIComponent(String(n)),o=this.W(n);for(n=0;n<o.length;n++){var r=s;""!==o[n]&&(r+="="+encodeURIComponent(String(o[n]))),t.push(r)}}return this.i=t.join("&")};function Ko(t){this.l=t||Go,or.PerformanceNavigationTiming?t=0<(t=or.performance.getEntriesByType("navigation")).length&&("hq"==t[0].nextHopProtocol||"h2"==t[0].nextHopProtocol):t=!!(or.g&&or.g.Ga&&or.g.Ga()&&or.g.Ga().$b),this.j=t?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var Go=10;function Qo(t){return!!t.h||!!t.g&&t.g.size>=t.j}function Yo(t){return t.h?1:t.g?t.g.size:0}function Zo(t,e){return t.h?t.h==e:!!t.g&&t.g.has(e)}function $o(t,e){t.g?t.g.add(e):t.h=e}function Xo(t,e){t.h&&t.h==e?t.h=null:t.g&&t.g.has(e)&&t.g.delete(e)}function Jo(t){if(null!=t.h)return t.i.concat(t.h.D);if(null!=t.g&&0!==t.g.size){let e=t.i;for(const i of t.g.values())e=e.concat(i.D);return e}return br(t.i)}function ta(){}function ea(){this.g=new ta}function ia(t,e,i){const n=i||"";try{xo(t,(function(t,i){let r=t;lr(t)&&(r=ws(t)),e.push(n+i+"="+encodeURIComponent(r))}))}catch(t){throw e.push(n+"type="+encodeURIComponent("_badmap")),t}}function na(t,e,i,n,r){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,r(n)}catch(t){}}function ra(t){this.l=t.ac||null,this.j=t.jb||!1}function sa(t,e){vs.call(this),this.D=t,this.u=e,this.m=void 0,this.readyState=oa,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}Ko.prototype.cancel=function(){if(this.i=Jo(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const t of this.g.values())t.cancel();this.g.clear()}},ta.prototype.stringify=function(t){return or.JSON.stringify(t,void 0)},ta.prototype.parse=function(t){return or.JSON.parse(t,void 0)},gr(ra,Xs),ra.prototype.g=function(){return new sa(this.l,this.j)},ra.prototype.i=function(t){return function(){return t}}({}),gr(sa,vs);var oa=0;function aa(t){t.j.read().then(t.Ta.bind(t)).catch(t.ga.bind(t))}function ha(t){t.readyState=4,t.l=null,t.j=null,t.A=null,la(t)}function la(t){t.onreadystatechange&&t.onreadystatechange.call(t)}(ir=sa.prototype).open=function(t,e){if(this.readyState!=oa)throw this.abort(),Error("Error reopening a connection");this.C=t,this.B=e,this.readyState=1,la(this)},ir.send=function(t){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};t&&(e.body=t),(this.D||or).fetch(new Request(this.B,e)).then(this.Wa.bind(this),this.ga.bind(this))},ir.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch((()=>{})),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,ha(this)),this.readyState=oa},ir.Wa=function(t){if(this.g&&(this.l=t,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=t.headers,this.readyState=2,la(this)),this.g&&(this.readyState=3,la(this),this.g)))if("arraybuffer"===this.responseType)t.arrayBuffer().then(this.Ua.bind(this),this.ga.bind(this));else if(void 0!==or.ReadableStream&&"body"in t){if(this.j=t.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;aa(this)}else t.text().then(this.Va.bind(this),this.ga.bind(this))},ir.Ta=function(t){if(this.g){if(this.u&&t.value)this.response.push(t.value);else if(!this.u){var e=t.value?t.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!t.done}))&&(this.response=this.responseText+=e)}t.done?ha(this):la(this),3==this.readyState&&aa(this)}},ir.Va=function(t){this.g&&(this.response=this.responseText=t,ha(this))},ir.Ua=function(t){this.g&&(this.response=t,ha(this))},ir.ga=function(){this.g&&ha(this)},ir.setRequestHeader=function(t,e){this.v.append(t,e)},ir.getResponseHeader=function(t){return this.h&&this.h.get(t.toLowerCase())||""},ir.getAllResponseHeaders=function(){if(!this.h)return"";const t=[],e=this.h.entries();for(var i=e.next();!i.done;)i=i.value,t.push(i[0]+": "+i[1]),i=e.next();return t.join("\r\n")},Object.defineProperty(sa.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(t){this.m=t?"include":"same-origin"}});var ua=or.JSON.parse;function ca(t){vs.call(this),this.headers=new Map,this.u=t||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=da,this.K=this.L=!1}gr(ca,vs);var da="",fa=/^https?$/i,pa=["POST","PUT"];function ma(t,e){t.h=!1,t.g&&(t.l=!0,t.g.abort(),t.l=!1),t.j=e,t.m=5,ga(t),ya(t)}function ga(t){t.D||(t.D=!0,ys(t,"complete"),ys(t,"error"))}function va(t){if(t.h&&void 0!==sr&&(!t.C[1]||4!=wa(t)||2!=t.aa()))if(t.v&&4==wa(t))Rs(t.Ha,0,t);else if(ys(t,"readystatechange"),4==wa(t)){t.h=!1;try{const a=t.aa();t:switch(a){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break t;default:e=!1}var i;if(!(i=e)){var n;if(n=0===a){var r=String(t.H).match(ko)[1]||null;if(!r&&or.self&&or.self.location){var s=or.self.location.protocol;r=s.substr(0,s.length-1)}n=!fa.test(r?r.toLowerCase():"")}i=n}if(i)ys(t,"complete"),ys(t,"success");else{t.m=6;try{var o=2<wa(t)?t.g.statusText:""}catch(t){o=""}t.j=o+" ["+t.aa()+"]",ga(t)}}finally{ya(t)}}}function ya(t,e){if(t.g){ba(t);const i=t.g,n=t.C[0]?ar:null;t.g=null,t.C=null,e||ys(t,"ready");try{i.onreadystatechange=n}catch(t){}}}function ba(t){t.g&&t.K&&(t.g.ontimeout=null),t.A&&(or.clearTimeout(t.A),t.A=null)}function wa(t){return t.g?t.g.readyState:0}function _a(t){try{if(!t.g)return null;if("response"in t.g)return t.g.response;switch(t.J){case da:case"text":return t.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in t.g)return t.g.mozResponseArrayBuffer}return null}catch(t){return null}}function Ma(t){let e="";return Xr(t,(function(t,i){e+=i,e+=":",e+=t,e+="\r\n"})),e}function xa(t,e,i){t:{for(n in i){var n=!1;break t}n=!0}n||(i=Ma(i),"string"==typeof t?null!=i&&encodeURIComponent(String(i)):qo(t,e,i))}function ka(t,e,i){return i&&i.internalChannelParams&&i.internalChannelParams[t]||e}function Aa(t){this.Ca=0,this.i=[],this.j=new Us,this.ka=this.sa=this.F=this.V=this.g=this.za=this.D=this.ia=this.o=this.S=this.s=null,this.ab=this.U=0,this.Za=ka("failFast",!1,t),this.L=this.v=this.u=this.m=this.l=null,this.Y=!0,this.pa=this.Ba=this.T=-1,this.Z=this.A=this.C=0,this.Xa=ka("baseRetryDelayMs",5e3,t),this.bb=ka("retryDelaySeedMs",1e4,t),this.$a=ka("forwardChannelMaxRetries",2,t),this.ta=ka("forwardChannelRequestTimeoutMs",2e4,t),this.ra=t&&t.xmlHttpFactory||void 0,this.Da=t&&t.Zb||!1,this.J=void 0,this.H=t&&t.supportsCrossDomainXhr||!1,this.I="",this.h=new Ko(t&&t.concurrentRequestLimit),this.Fa=new ea,this.O=t&&t.fastHandshake||!1,this.N=t&&t.encodeInitMessageHeaders||!1,this.O&&this.N&&(this.N=!1),this.Ya=t&&t.Xb||!1,t&&t.Aa&&this.j.Aa(),t&&t.forceLongPolling&&(this.Y=!1),this.$=!this.O&&this.Y&&t&&t.detectBufferingProxy||!1,this.ja=void 0,this.P=0,this.K=!1,this.la=this.B=null}function Ea(t){if(Ta(t),3==t.G){var e=t.U++,i=Eo(t.F);qo(i,"SID",t.I),qo(i,"RID",e),qo(i,"TYPE","terminate"),Ca(t,i),(e=new oo(t,t.j,e,void 0)).K=2,e.v=Co(Eo(i)),i=!1,or.navigator&&or.navigator.sendBeacon&&(i=or.navigator.sendBeacon(e.v.toString(),"")),!i&&or.Image&&((new Image).src=e.v,i=!0),i||(e.g=Va(e.l,null),e.g.da(e.v)),e.F=Date.now(),vo(e)}ja(t)}function Sa(t){t.g&&(Na(t),t.g.cancel(),t.g=null)}function Ta(t){Sa(t),t.u&&(or.clearTimeout(t.u),t.u=null),Pa(t),t.h.cancel(),t.m&&("number"==typeof t.m&&or.clearTimeout(t.m),t.m=null)}function Ia(t){Qo(t.h)||t.m||(t.m=!0,Es(t.Ja,t),t.C=0)}function qa(t,e){var i;i=e?e.m:t.U++;const n=Eo(t.F);qo(n,"SID",t.I),qo(n,"RID",i),qo(n,"AID",t.T),Ca(t,n),t.o&&t.s&&xa(n,t.o,t.s),i=new oo(t,t.j,i,t.C+1),null===t.o&&(i.H=t.s),e&&(t.i=e.D.concat(t.i)),e=Ra(t,i,1e3),i.setTimeout(Math.round(.5*t.ta)+Math.round(.5*t.ta*Math.random())),$o(t.h,i),co(i,n,e)}function Ca(t,e){t.ia&&Xr(t.ia,(function(t,i){qo(e,i,t)})),t.l&&xo({},(function(t,i){qo(e,i,t)}))}function Ra(t,e,i){i=Math.min(t.i.length,i);var n=t.l?pr(t.l.Ra,t.l,t):null;t:{var r=t.i;let e=-1;for(;;){const t=["count="+i];-1==e?0<i?(e=r[0].h,t.push("ofs="+e)):e=0:t.push("ofs="+e);let s=!0;for(let o=0;o<i;o++){let i=r[o].h;const a=r[o].g;if(i-=e,0>i)e=Math.max(0,r[o].h-100),s=!1;else try{ia(a,t,"req"+i+"_")}catch(t){n&&n(a)}}if(s){n=t.join("&");break t}}}return t=t.i.splice(0,i),e.D=t,n}function Da(t){t.g||t.u||(t.Z=1,Es(t.Ia,t),t.A=0)}function La(t){return!(t.g||t.u||3<=t.A)&&(t.Z++,t.u=Ys(pr(t.Ia,t),Ua(t,t.A)),t.A++,!0)}function Na(t){null!=t.B&&(or.clearTimeout(t.B),t.B=null)}function Oa(t){t.g=new oo(t,t.j,"rpc",t.Z),null===t.o&&(t.g.H=t.s),t.g.N=0;var e=Eo(t.sa);qo(e,"RID","rpc"),qo(e,"SID",t.I),qo(e,"CI",t.L?"0":"1"),qo(e,"AID",t.T),qo(e,"TYPE","xmlhttp"),Ca(t,e),t.o&&t.s&&xa(e,t.o,t.s),t.J&&t.g.setTimeout(t.J);var i=t.g;t=t.ka,i.K=1,i.v=Co(Eo(e)),i.s=null,i.P=!0,fo(i,t)}function Pa(t){null!=t.v&&(or.clearTimeout(t.v),t.v=null)}function Ba(t,e){var i=null;if(t.g==e){Pa(t),Na(t),t.g=null;var n=2}else{if(!Zo(t.h,e))return;i=e.D,Xo(t.h,e),n=1}if(0!=t.G)if(t.pa=e.Y,e.i)if(1==n){i=e.s?e.s.length:0,e=Date.now()-e.F;var r=t.C;ys(n=Vs(),new Qs(n,i)),Ia(t)}else Da(t);else if(3==(r=e.o)||0==r&&0<t.pa||!(1==n&&function(t,e){return!(Yo(t.h)>=t.h.j-(t.m?1:0)||(t.m?(t.i=e.D.concat(t.i),0):1==t.G||2==t.G||t.C>=(t.Za?0:t.$a)||(t.m=Ys(pr(t.Ja,t,e),Ua(t,t.C)),t.C++,0)))}(t,e)||2==n&&La(t)))switch(i&&0<i.length&&(e=t.h,e.i=e.i.concat(i)),r){case 1:Fa(t,5);break;case 4:Fa(t,10);break;case 3:Fa(t,6);break;default:Fa(t,2)}}function Ua(t,e){let i=t.Xa+Math.floor(Math.random()*t.bb);return t.l||(i*=2),i*e}function Fa(t,e){if(t.j.info("Error code "+e),2==e){var i=null;t.l&&(i=null);var n=pr(t.kb,t);i||(i=new Ao("//www.google.com/images/cleardot.gif"),or.location&&"http"==or.location.protocol||So(i,"https"),Co(i)),function(t,e){const i=new Us;if(or.Image){const n=new Image;n.onload=mr(na,i,n,"TestLoadImage: loaded",!0,e),n.onerror=mr(na,i,n,"TestLoadImage: error",!1,e),n.onabort=mr(na,i,n,"TestLoadImage: abort",!1,e),n.ontimeout=mr(na,i,n,"TestLoadImage: timeout",!1,e),or.setTimeout((function(){n.ontimeout&&n.ontimeout()}),1e4),n.src=t}else e(!1)}(i.toString(),n)}else Gs(2);t.G=0,t.l&&t.l.va(e),ja(t),Ta(t)}function ja(t){if(t.G=0,t.la=[],t.l){const e=Jo(t.h);0==e.length&&0==t.i.length||(wr(t.la,e),wr(t.la,t.i),t.h.i.length=0,br(t.i),t.i.length=0),t.l.ua()}}function za(t,e,i){var n=i instanceof Ao?Eo(i):new Ao(i,void 0);if(""!=n.g)e&&(n.g=e+"."+n.g),To(n,n.m);else{var r=or.location;n=r.protocol,e=e?e+"."+r.hostname:r.hostname,r=+r.port;var s=new Ao(null,void 0);n&&So(s,n),e&&(s.g=e),r&&To(s,r),i&&(s.l=i),n=s}return i=t.D,e=t.za,i&&e&&qo(n,i,e),qo(n,"VER",t.ma),Ca(t,n),n}function Va(t,e,i){if(e&&!t.H)throw Error("Can't create secondary domain capable XhrIo object.");return(e=i&&t.Da&&!t.ra?new ca(new ra({jb:!0})):new ca(t.ra)).Ka(t.H),e}function Ha(){}function Wa(){if(Rr&&!(10<=Number(Wr)))throw Error("Environmental error: no available transport.")}function Ka(t,e){vs.call(this),this.g=new Aa(e),this.l=t,this.h=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.g.s=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.ya&&(t?t["X-WebChannel-Client-Profile"]=e.ya:t={"X-WebChannel-Client-Profile":e.ya}),this.g.S=t,(t=e&&e.Yb)&&!xr(t)&&(this.g.o=t),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!xr(e)&&(this.g.D=e,null!==(t=this.h)&&e in t&&(e in(t=this.h)&&delete t[e])),this.j=new Ya(this)}function Ga(t){no.call(this);var e=t.__sm__;if(e){t:{for(const i in e){t=i;break t}t=void 0}(this.i=t)&&(t=this.i,e=null!==e&&t in e?e[t]:void 0),this.data=e}else this.data=t}function Qa(){ro.call(this),this.status=1}function Ya(t){this.g=t}(ir=ca.prototype).Ka=function(t){this.L=t},ir.da=function(t,e,i,n){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+t);e=e?e.toUpperCase():"GET",this.H=t,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():eo.g(),this.C=this.u?Js(this.u):Js(eo),this.g.onreadystatechange=pr(this.Ha,this);try{this.F=!0,this.g.open(e,String(t),!0),this.F=!1}catch(t){return void ma(this,t)}if(t=i||"",i=new Map(this.headers),n)if(Object.getPrototypeOf(n)===Object.prototype)for(var r in n)i.set(r,n[r]);else{if("function"!=typeof n.keys||"function"!=typeof n.get)throw Error("Unknown input type for opt_headers: "+String(n));for(const t of n.keys())i.set(t,n.get(t))}n=Array.from(i.keys()).find((t=>"content-type"==t.toLowerCase())),r=or.FormData&&t instanceof or.FormData,!(0<=yr(pa,e))||n||r||i.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[t,e]of i)this.g.setRequestHeader(t,e);this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{ba(this),0<this.B&&((this.K=function(t){return Rr&&Vr()&&"number"==typeof t.timeout&&void 0!==t.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=pr(this.qa,this)):this.A=Rs(this.qa,this.B,this)),this.v=!0,this.g.send(t),this.v=!1}catch(t){ma(this,t)}},ir.qa=function(){void 0!==sr&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,ys(this,"timeout"),this.abort(8))},ir.abort=function(t){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=t||7,ys(this,"complete"),ys(this,"abort"),ya(this))},ir.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),ya(this,!0)),ca.X.M.call(this)},ir.Ha=function(){this.s||(this.F||this.v||this.l?va(this):this.fb())},ir.fb=function(){va(this)},ir.aa=function(){try{return 2<wa(this)?this.g.status:-1}catch(t){return-1}},ir.fa=function(){try{return this.g?this.g.responseText:""}catch(t){return""}},ir.Sa=function(t){if(this.g){var e=this.g.responseText;return t&&0==e.indexOf(t)&&(e=e.substring(t.length)),ua(e)}},ir.Ea=function(){return this.m},ir.Oa=function(){return"string"==typeof this.j?this.j:String(this.j)},(ir=Aa.prototype).ma=8,ir.G=1,ir.Ja=function(t){if(this.m)if(this.m=null,1==this.G){if(!t){this.U=Math.floor(1e5*Math.random()),t=this.U++;const r=new oo(this,this.j,t,void 0);let s=this.s;if(this.S&&(s?(s=Jr(s),es(s,this.S)):s=this.S),null!==this.o||this.N||(r.H=s,s=null),this.O)t:{for(var e=0,i=0;i<this.i.length;i++){var n=this.i[i];if(void 0===(n="__data__"in n.g&&"string"==typeof(n=n.g.__data__)?n.length:void 0))break;if(4096<(e+=n)){e=i;break t}if(4096===e||i===this.i.length-1){e=i+1;break t}}e=1e3}else e=1e3;e=Ra(this,r,e),qo(i=Eo(this.F),"RID",t),qo(i,"CVER",22),this.D&&qo(i,"X-HTTP-Session-Id",this.D),Ca(this,i),s&&(this.N?e="headers="+encodeURIComponent(String(Ma(s)))+"&"+e:this.o&&xa(i,this.o,s)),$o(this.h,r),this.Ya&&qo(i,"TYPE","init"),this.O?(qo(i,"$req",e),qo(i,"SID","null"),r.Z=!0,co(r,i,null)):co(r,i,e),this.G=2}}else 3==this.G&&(t?qa(this,t):0==this.i.length||Qo(this.h)||qa(this))},ir.Ia=function(){if(this.u=null,Oa(this),this.$&&!(this.K||null==this.g||0>=this.P)){var t=2*this.P;this.j.info("BP detection timer enabled: "+t),this.B=Ys(pr(this.eb,this),t)}},ir.eb=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.L=!1,this.K=!0,Gs(10),Sa(this),Oa(this))},ir.cb=function(){null!=this.v&&(this.v=null,Sa(this),La(this),Gs(19))},ir.kb=function(t){t?(this.j.info("Successfully pinged google.com"),Gs(2)):(this.j.info("Failed to ping google.com"),Gs(1))},(ir=Ha.prototype).xa=function(){},ir.wa=function(){},ir.va=function(){},ir.ua=function(){},ir.Ra=function(){},Wa.prototype.g=function(t,e){return new Ka(t,e)},gr(Ka,vs),Ka.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.H=!0);var t=this.g,e=this.l,i=this.h||void 0;Gs(0),t.V=e,t.ia=i||{},t.L=t.Y,t.F=za(t,null,t.V),Ia(t)},Ka.prototype.close=function(){Ea(this.g)},Ka.prototype.u=function(t){var e=this.g;if("string"==typeof t){var i={};i.__data__=t,t=i}else this.v&&((i={}).__data__=ws(t),t=i);e.i.push(new class{constructor(t,e){this.h=t,this.g=e}}(e.ab++,t)),3==e.G&&Ia(e)},Ka.prototype.M=function(){this.g.l=null,delete this.j,Ea(this.g),delete this.g,Ka.X.M.call(this)},gr(Ga,no),gr(Qa,ro),gr(Ya,Ha),Ya.prototype.xa=function(){ys(this.g,"a")},Ya.prototype.wa=function(t){ys(this.g,new Ga(t))},Ya.prototype.va=function(t){ys(this.g,new Qa)},Ya.prototype.ua=function(){ys(this.g,"b")},Wa.prototype.createWebChannel=Wa.prototype.g,Ka.prototype.send=Ka.prototype.u,Ka.prototype.open=Ka.prototype.m,Ka.prototype.close=Ka.prototype.close,Zs.NO_ERROR=0,Zs.TIMEOUT=8,Zs.HTTP_ERROR=6,$s.COMPLETE="complete",to.EventType=io,io.OPEN="a",io.CLOSE="b",io.ERROR="c",io.MESSAGE="d",vs.prototype.listen=vs.prototype.N,ca.prototype.listenOnce=ca.prototype.O,ca.prototype.getLastError=ca.prototype.Oa,ca.prototype.getLastErrorCode=ca.prototype.Ea,ca.prototype.getStatus=ca.prototype.aa,ca.prototype.getResponseJson=ca.prototype.Sa,ca.prototype.getResponseText=ca.prototype.fa,ca.prototype.send=ca.prototype.da,ca.prototype.setWithCredentials=ca.prototype.Ka;var Za=rr.createWebChannelTransport=function(){return new Wa},$a=rr.getStatEventTarget=function(){return Vs()},Xa=rr.ErrorCode=Zs,Ja=rr.EventType=$s,th=rr.Event=js,eh=rr.Stat={sb:0,vb:1,wb:2,Pb:3,Ub:4,Rb:5,Sb:6,Qb:7,Ob:8,Tb:9,PROXY:10,NOPROXY:11,Mb:12,Ib:13,Jb:14,Hb:15,Kb:16,Lb:17,ob:18,nb:19,pb:20},ih=rr.FetchXmlHttpFactory=ra,nh=rr.WebChannel=to,rh=rr.XhrIo=ca;s=r("gXRuj");const sh="@firebase/firestore";
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oh{constructor(t){this.uid=t}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}oh.UNAUTHENTICATED=new oh(null),oh.GOOGLE_CREDENTIALS=new oh("google-credentials-uid"),oh.FIRST_PARTY=new oh("first-party-uid"),oh.MOCK_USER=new oh("mock-user");
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
let ah="9.17.1";
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hh=new G("@firebase/firestore");function lh(){return hh.logLevel}function uh(t,...e){if(hh.logLevel<=j.DEBUG){const i=e.map(fh);hh.debug(`Firestore (${ah}): ${t}`,...i)}}function ch(t,...e){if(hh.logLevel<=j.ERROR){const i=e.map(fh);hh.error(`Firestore (${ah}): ${t}`,...i)}}function dh(t,...e){if(hh.logLevel<=j.WARN){const i=e.map(fh);hh.warn(`Firestore (${ah}): ${t}`,...i)}}function fh(t){if("string"==typeof t)return t;try{return e=t,JSON.stringify(e)}catch(e){return t}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var e}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ph(t="Unexpected state"){const e=`FIRESTORE (${ah}) INTERNAL ASSERTION FAILED: `+t;throw ch(e),new Error(e)}function mh(t,e){t||ph()}function gh(t,e){return t}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vh={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class yh extends x{constructor(t,e){super(t,e),this.code=t,this.message=e,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bh{constructor(){this.promise=new Promise(((t,e)=>{this.resolve=t,this.reject=e}))}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wh{constructor(t,e){this.user=e,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class _h{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,e){t.enqueueRetryable((()=>e(oh.UNAUTHENTICATED)))}shutdown(){}}class Mh{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,e){this.changeListener=e,t.enqueueRetryable((()=>e(this.token.user)))}shutdown(){this.changeListener=null}}class xh{constructor(t){this.t=t,this.currentUser=oh.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,e){let i=this.i;const n=t=>this.i!==i?(i=this.i,e(t)):Promise.resolve();let r=new bh;this.o=()=>{this.i++,this.currentUser=this.u(),r.resolve(),r=new bh,t.enqueueRetryable((()=>n(this.currentUser)))};const s=()=>{const e=r;t.enqueueRetryable((async()=>{await e.promise,await n(this.currentUser)}))},o=t=>{uh("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=t,this.auth.addAuthTokenListener(this.o),s()};this.t.onInit((t=>o(t))),setTimeout((()=>{if(!this.auth){const t=this.t.getImmediate({optional:!0});t?o(t):(uh("FirebaseAuthCredentialsProvider","Auth not yet detected"),r.resolve(),r=new bh)}}),0),s()}getToken(){const t=this.i,e=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(e).then((e=>this.i!==t?(uh("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):e?(mh("string"==typeof e.accessToken),new wh(e.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const t=this.auth&&this.auth.getUid();return mh(null===t||"string"==typeof t),new oh(t)}}class kh{constructor(t,e,i,n){this.h=t,this.l=e,this.m=i,this.g=n,this.type="FirstParty",this.user=oh.FIRST_PARTY,this.p=new Map}I(){return this.g?this.g():(mh(!("object"!=typeof this.h||null===this.h||!this.h.auth||!this.h.auth.getAuthHeaderValueForFirstParty)),this.h.auth.getAuthHeaderValueForFirstParty([]))}get headers(){this.p.set("X-Goog-AuthUser",this.l);const t=this.I();return t&&this.p.set("Authorization",t),this.m&&this.p.set("X-Goog-Iam-Authorization-Token",this.m),this.p}}class Ah{constructor(t,e,i,n){this.h=t,this.l=e,this.m=i,this.g=n}getToken(){return Promise.resolve(new kh(this.h,this.l,this.m,this.g))}start(t,e){t.enqueueRetryable((()=>e(oh.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class Eh{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Sh{constructor(t){this.T=t,this.forceRefresh=!1,this.appCheck=null,this.A=null}start(t,e){const i=t=>{null!=t.error&&uh("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${t.error.message}`);const i=t.token!==this.A;return this.A=t.token,uh("FirebaseAppCheckTokenProvider",`Received ${i?"new":"existing"} token.`),i?e(t.token):Promise.resolve()};this.o=e=>{t.enqueueRetryable((()=>i(e)))};const n=t=>{uh("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=t,this.appCheck.addTokenListener(this.o)};this.T.onInit((t=>n(t))),setTimeout((()=>{if(!this.appCheck){const t=this.T.getImmediate({optional:!0});t?n(t):uh("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then((t=>t?(mh("string"==typeof t.token),this.A=t.token,new Eh(t.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function Th(t){const e="undefined"!=typeof self&&(self.crypto||self.msCrypto),i=new Uint8Array(t);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(i);else for(let e=0;e<t;e++)i[e]=Math.floor(256*Math.random());return i}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ih{static R(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",e=Math.floor(256/t.length)*t.length;let i="";for(;i.length<20;){const n=Th(40);for(let r=0;r<n.length;++r)i.length<20&&n[r]<e&&(i+=t.charAt(n[r]%t.length))}return i}}function qh(t,e){return t<e?-1:t>e?1:0}function Ch(t,e,i){return t.length===e.length&&t.every(((t,n)=>i(t,e[n])))}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class Rh{constructor(t,e){if(this.seconds=t,this.nanoseconds=e,e<0)throw new yh(vh.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(e>=1e9)throw new yh(vh.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(t<-62135596800)throw new yh(vh.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new yh(vh.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}static now(){return Rh.fromMillis(Date.now())}static fromDate(t){return Rh.fromMillis(t.getTime())}static fromMillis(t){const e=Math.floor(t/1e3),i=Math.floor(1e6*(t-1e3*e));return new Rh(e,i)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(t){return this.seconds===t.seconds?qh(this.nanoseconds,t.nanoseconds):qh(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const t=this.seconds- -62135596800;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dh{constructor(t){this.timestamp=t}static fromTimestamp(t){return new Dh(t)}static min(){return new Dh(new Rh(0,0))}static max(){return new Dh(new Rh(253402300799,999999999))}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lh{constructor(t,e,i){void 0===e?e=0:e>t.length&&ph(),void 0===i?i=t.length-e:i>t.length-e&&ph(),this.segments=t,this.offset=e,this.len=i}get length(){return this.len}isEqual(t){return 0===Lh.comparator(this,t)}child(t){const e=this.segments.slice(this.offset,this.limit());return t instanceof Lh?t.forEach((t=>{e.push(t)})):e.push(t),this.construct(e)}limit(){return this.offset+this.length}popFirst(t){return t=void 0===t?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return 0===this.length}isPrefixOf(t){if(t.length<this.length)return!1;for(let e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0}forEach(t){for(let e=this.offset,i=this.limit();e<i;e++)t(this.segments[e])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,e){const i=Math.min(t.length,e.length);for(let n=0;n<i;n++){const i=t.get(n),r=e.get(n);if(i<r)return-1;if(i>r)return 1}return t.length<e.length?-1:t.length>e.length?1:0}}class Nh extends Lh{construct(t,e,i){return new Nh(t,e,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...t){const e=[];for(const i of t){if(i.indexOf("//")>=0)throw new yh(vh.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);e.push(...i.split("/").filter((t=>t.length>0)))}return new Nh(e)}static emptyPath(){return new Nh([])}}const Oh=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Ph extends Lh{construct(t,e,i){return new Ph(t,e,i)}static isValidIdentifier(t){return Oh.test(t)}canonicalString(){return this.toArray().map((t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Ph.isValidIdentifier(t)||(t="`"+t+"`"),t))).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new Ph(["__name__"])}static fromServerFormat(t){const e=[];let i="",n=0;const r=()=>{if(0===i.length)throw new yh(vh.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);e.push(i),i=""};let s=!1;for(;n<t.length;){const e=t[n];if("\\"===e){if(n+1===t.length)throw new yh(vh.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const e=t[n+1];if("\\"!==e&&"."!==e&&"`"!==e)throw new yh(vh.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);i+=e,n+=2}else"`"===e?(s=!s,n++):"."!==e||s?(i+=e,n++):(r(),n++)}if(r(),s)throw new yh(vh.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new Ph(e)}static emptyPath(){return new Ph([])}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bh{constructor(t){this.path=t}static fromPath(t){return new Bh(Nh.fromString(t))}static fromName(t){return new Bh(Nh.fromString(t).popFirst(5))}static empty(){return new Bh(Nh.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return null!==t&&0===Nh.comparator(this.path,t.path)}toString(){return this.path.toString()}static comparator(t,e){return Nh.comparator(t.path,e.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new Bh(new Nh(t.slice()))}}
/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uh{constructor(t,e,i,n){this.indexId=t,this.collectionGroup=e,this.fields=i,this.indexState=n}}Uh.UNKNOWN_ID=-1;function Fh(t,e){const i=t.toTimestamp().seconds,n=t.toTimestamp().nanoseconds+1,r=Dh.fromTimestamp(1e9===n?new Rh(i+1,0):new Rh(i,n));return new zh(r,Bh.empty(),e)}function jh(t){return new zh(t.readTime,t.key,-1)}class zh{constructor(t,e,i){this.readTime=t,this.documentKey=e,this.largestBatchId=i}static min(){return new zh(Dh.min(),Bh.empty(),-1)}static max(){return new zh(Dh.max(),Bh.empty(),-1)}}function Vh(t,e){let i=t.readTime.compareTo(e.readTime);return 0!==i?i:(i=Bh.comparator(t.documentKey,e.documentKey),0!==i?i:qh(t.largestBatchId,e.largestBatchId))}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hh="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Wh{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((t=>t()))}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Kh(t){if(t.code!==vh.FAILED_PRECONDITION||t.message!==Hh)throw t;uh("LocalStore","Unexpectedly lost primary lease")}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gh{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)}),(t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)}))}catch(t){return this.next(void 0,t)}next(t,e){return this.callbackAttached&&ph(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(e,this.error):this.wrapSuccess(t,this.result):new Gh(((i,n)=>{this.nextCallback=e=>{this.wrapSuccess(t,e).next(i,n)},this.catchCallback=t=>{this.wrapFailure(e,t).next(i,n)}}))}toPromise(){return new Promise(((t,e)=>{this.next(t,e)}))}wrapUserFunction(t){try{const e=t();return e instanceof Gh?e:Gh.resolve(e)}catch(t){return Gh.reject(t)}}wrapSuccess(t,e){return t?this.wrapUserFunction((()=>t(e))):Gh.resolve(e)}wrapFailure(t,e){return t?this.wrapUserFunction((()=>t(e))):Gh.reject(e)}static resolve(t){return new Gh(((e,i)=>{e(t)}))}static reject(t){return new Gh(((e,i)=>{i(t)}))}static waitFor(t){return new Gh(((e,i)=>{let n=0,r=0,s=!1;t.forEach((t=>{++n,t.next((()=>{++r,s&&r===n&&e()}),(t=>i(t)))})),s=!0,r===n&&e()}))}static or(t){let e=Gh.resolve(!1);for(const i of t)e=e.next((t=>t?Gh.resolve(t):i()));return e}static forEach(t,e){const i=[];return t.forEach(((t,n)=>{i.push(e.call(this,t,n))})),this.waitFor(i)}static mapArray(t,e){return new Gh(((i,n)=>{const r=t.length,s=new Array(r);let o=0;for(let a=0;a<r;a++){const h=a;e(t[h]).next((t=>{s[h]=t,++o,o===r&&i(s)}),(t=>n(t)))}}))}static doWhile(t,e){return new Gh(((i,n)=>{const r=()=>{!0===t()?e().next((()=>{r()}),n):i()};r()}))}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qh(t){return"IndexedDbTransactionError"===t.name}
/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class Yh{constructor(t,e){this.previousValue=t,e&&(e.sequenceNumberHandler=t=>this.ut(t),this.ct=t=>e.writeSequenceNumber(t))}ut(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ct&&this.ct(t),t}}Yh.at=-1;
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class Zh{constructor(t,e,i,n,r,s,o,a){this.databaseId=t,this.appId=e,this.persistenceKey=i,this.host=n,this.ssl=r,this.forceLongPolling=s,this.autoDetectLongPolling=o,this.useFetchStreams=a}}class $h{constructor(t,e){this.projectId=t,this.database=e||"(default)"}static empty(){return new $h("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(t){return t instanceof $h&&t.projectId===this.projectId&&t.database===this.database}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xh(t){let e=0;for(const i in t)Object.prototype.hasOwnProperty.call(t,i)&&e++;return e}function Jh(t,e){for(const i in t)Object.prototype.hasOwnProperty.call(t,i)&&e(i,t[i])}function tl(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function el(t){return null==t}function il(t){return 0===t&&1/t==-1/0}function nl(t){return"number"==typeof t&&Number.isInteger(t)&&!il(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class rl{constructor(t){this.binaryString=t}static fromBase64String(t){const e=atob(t);return new rl(e)}static fromUint8Array(t){const e=function(t){let e="";for(let i=0;i<t.length;++i)e+=String.fromCharCode(t[i]);return e}(t);return new rl(e)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){var t;return t=this.binaryString,btoa(t)}toUint8Array(){return function(t){const e=new Uint8Array(t.length);for(let i=0;i<t.length;i++)e[i]=t.charCodeAt(i);return e}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return qh(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}rl.EMPTY_BYTE_STRING=new rl("");const sl=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ol(t){if(mh(!!t),"string"==typeof t){let e=0;const i=sl.exec(t);if(mh(!!i),i[1]){let t=i[1];t=(t+"000000000").substr(0,9),e=Number(t)}const n=new Date(t);return{seconds:Math.floor(n.getTime()/1e3),nanos:e}}return{seconds:al(t.seconds),nanos:al(t.nanos)}}function al(t){return"number"==typeof t?t:"string"==typeof t?Number(t):0}function hl(t){return"string"==typeof t?rl.fromBase64String(t):rl.fromUint8Array(t)}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ll(t){var e,i;return"server_timestamp"===(null===(i=((null===(e=null==t?void 0:t.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===i?void 0:i.stringValue)}function ul(t){const e=t.mapValue.fields.__previous_value__;return ll(e)?ul(e):e}function cl(t){const e=ol(t.mapValue.fields.__local_write_time__.timestampValue);return new Rh(e.seconds,e.nanos)}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dl={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function fl(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?ll(t)?4:Sl(t)?9007199254740991:10:ph()}function pl(t,e){if(t===e)return!0;const i=fl(t);if(i!==fl(e))return!1;switch(i){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return cl(t).isEqual(cl(e));case 3:return function(t,e){if("string"==typeof t.timestampValue&&"string"==typeof e.timestampValue&&t.timestampValue.length===e.timestampValue.length)return t.timestampValue===e.timestampValue;const i=ol(t.timestampValue),n=ol(e.timestampValue);return i.seconds===n.seconds&&i.nanos===n.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(t,e){return hl(t.bytesValue).isEqual(hl(e.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(t,e){return al(t.geoPointValue.latitude)===al(e.geoPointValue.latitude)&&al(t.geoPointValue.longitude)===al(e.geoPointValue.longitude)}(t,e);case 2:return function(t,e){if("integerValue"in t&&"integerValue"in e)return al(t.integerValue)===al(e.integerValue);if("doubleValue"in t&&"doubleValue"in e){const i=al(t.doubleValue),n=al(e.doubleValue);return i===n?il(i)===il(n):isNaN(i)&&isNaN(n)}return!1}(t,e);case 9:return Ch(t.arrayValue.values||[],e.arrayValue.values||[],pl);case 10:return function(t,e){const i=t.mapValue.fields||{},n=e.mapValue.fields||{};if(Xh(i)!==Xh(n))return!1;for(const t in i)if(i.hasOwnProperty(t)&&(void 0===n[t]||!pl(i[t],n[t])))return!1;return!0}(t,e);default:return ph()}}function ml(t,e){return void 0!==(t.values||[]).find((t=>pl(t,e)))}function gl(t,e){if(t===e)return 0;const i=fl(t),n=fl(e);if(i!==n)return qh(i,n);switch(i){case 0:case 9007199254740991:return 0;case 1:return qh(t.booleanValue,e.booleanValue);case 2:return function(t,e){const i=al(t.integerValue||t.doubleValue),n=al(e.integerValue||e.doubleValue);return i<n?-1:i>n?1:i===n?0:isNaN(i)?isNaN(n)?0:-1:1}(t,e);case 3:return vl(t.timestampValue,e.timestampValue);case 4:return vl(cl(t),cl(e));case 5:return qh(t.stringValue,e.stringValue);case 6:return function(t,e){const i=hl(t),n=hl(e);return i.compareTo(n)}(t.bytesValue,e.bytesValue);case 7:return function(t,e){const i=t.split("/"),n=e.split("/");for(let t=0;t<i.length&&t<n.length;t++){const e=qh(i[t],n[t]);if(0!==e)return e}return qh(i.length,n.length)}(t.referenceValue,e.referenceValue);case 8:return function(t,e){const i=qh(al(t.latitude),al(e.latitude));return 0!==i?i:qh(al(t.longitude),al(e.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(t,e){const i=t.values||[],n=e.values||[];for(let t=0;t<i.length&&t<n.length;++t){const e=gl(i[t],n[t]);if(e)return e}return qh(i.length,n.length)}(t.arrayValue,e.arrayValue);case 10:return function(t,e){if(t===dl.mapValue&&e===dl.mapValue)return 0;if(t===dl.mapValue)return 1;if(e===dl.mapValue)return-1;const i=t.fields||{},n=Object.keys(i),r=e.fields||{},s=Object.keys(r);n.sort(),s.sort();for(let t=0;t<n.length&&t<s.length;++t){const e=qh(n[t],s[t]);if(0!==e)return e;const o=gl(i[n[t]],r[s[t]]);if(0!==o)return o}return qh(n.length,s.length)}(t.mapValue,e.mapValue);default:throw ph()}}function vl(t,e){if("string"==typeof t&&"string"==typeof e&&t.length===e.length)return qh(t,e);const i=ol(t),n=ol(e),r=qh(i.seconds,n.seconds);return 0!==r?r:qh(i.nanos,n.nanos)}function yl(t){return bl(t)}function bl(t){var e,i;return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(t){const e=ol(t);return`time(${e.seconds},${e.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?hl(t.bytesValue).toBase64():"referenceValue"in t?(i=t.referenceValue,Bh.fromName(i).toString()):"geoPointValue"in t?`geo(${(e=t.geoPointValue).latitude},${e.longitude})`:"arrayValue"in t?function(t){let e="[",i=!0;for(const n of t.values||[])i?i=!1:e+=",",e+=bl(n);return e+"]"}(t.arrayValue):"mapValue"in t?function(t){const e=Object.keys(t.fields||{}).sort();let i="{",n=!0;for(const r of e)n?n=!1:i+=",",i+=`${r}:${bl(t.fields[r])}`;return i+"}"}(t.mapValue):ph()}function wl(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function _l(t){return!!t&&"integerValue"in t}function Ml(t){return!!t&&"arrayValue"in t}function xl(t){return!!t&&"nullValue"in t}function kl(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Al(t){return!!t&&"mapValue"in t}function El(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&"object"==typeof t.timestampValue)return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return Jh(t.mapValue.fields,((t,i)=>e.mapValue.fields[t]=El(i))),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let i=0;i<(t.arrayValue.values||[]).length;++i)e.arrayValue.values[i]=El(t.arrayValue.values[i]);return e}return Object.assign({},t)}function Sl(t){return"__max__"===(((t.mapValue||{}).fields||{}).__type__||{}).stringValue}
/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class Tl{constructor(t,e){this.position=t,this.inclusive=e}}function Il(t,e,i){let n=0;for(let r=0;r<t.position.length;r++){const s=e[r],o=t.position[r];if(n=s.field.isKeyField()?Bh.comparator(Bh.fromName(o.referenceValue),i.key):gl(o,i.data.field(s.field)),"desc"===s.dir&&(n*=-1),0!==n)break}return n}function ql(t,e){if(null===t)return null===e;if(null===e)return!1;if(t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let i=0;i<t.position.length;i++)if(!pl(t.position[i],e.position[i]))return!1;return!0}
/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cl{}class Rl extends Cl{constructor(t,e,i){super(),this.field=t,this.op=e,this.value=i}static create(t,e,i){return t.isKeyField()?"in"===e||"not-in"===e?this.createKeyFieldInFilter(t,e,i):new Fl(t,e,i):"array-contains"===e?new Hl(t,i):"in"===e?new Wl(t,i):"not-in"===e?new Kl(t,i):"array-contains-any"===e?new Gl(t,i):new Rl(t,e,i)}static createKeyFieldInFilter(t,e,i){return"in"===e?new jl(t,i):new zl(t,i)}matches(t){const e=t.data.field(this.field);return"!="===this.op?null!==e&&this.matchesComparison(gl(e,this.value)):null!==e&&fl(this.value)===fl(e)&&this.matchesComparison(gl(e,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return 0===t;case"!=":return 0!==t;case">":return t>0;case">=":return t>=0;default:return ph()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}getFirstInequalityField(){return this.isInequality()?this.field:null}}class Dl extends Cl{constructor(t,e){super(),this.filters=t,this.op=e,this.ht=null}static create(t,e){return new Dl(t,e)}matches(t){return Ll(this)?void 0===this.filters.find((e=>!e.matches(t))):void 0!==this.filters.find((e=>e.matches(t)))}getFlattenedFilters(){return null!==this.ht||(this.ht=this.filters.reduce(((t,e)=>t.concat(e.getFlattenedFilters())),[])),this.ht}getFilters(){return Object.assign([],this.filters)}getFirstInequalityField(){const t=this.lt((t=>t.isInequality()));return null!==t?t.field:null}lt(t){for(const e of this.getFlattenedFilters())if(t(e))return e;return null}}function Ll(t){return"and"===t.op}function Nl(t){return Ol(t)&&Ll(t)}function Ol(t){for(const e of t.filters)if(e instanceof Dl)return!1;return!0}function Pl(t){if(t instanceof Rl)return t.field.canonicalString()+t.op.toString()+yl(t.value);if(Nl(t))return t.filters.map((t=>Pl(t))).join(",");{const e=t.filters.map((t=>Pl(t))).join(",");return`${t.op}(${e})`}}function Bl(t,e){return t instanceof Rl?function(t,e){return e instanceof Rl&&t.op===e.op&&t.field.isEqual(e.field)&&pl(t.value,e.value)}(t,e):t instanceof Dl?function(t,e){return e instanceof Dl&&t.op===e.op&&t.filters.length===e.filters.length&&t.filters.reduce(((t,i,n)=>t&&Bl(i,e.filters[n])),!0)}(t,e):void ph()}function Ul(t){return t instanceof Rl?function(t){return`${t.field.canonicalString()} ${t.op} ${yl(t.value)}`}(t):t instanceof Dl?function(t){return t.op.toString()+" {"+t.getFilters().map(Ul).join(" ,")+"}"}(t):"Filter"}class Fl extends Rl{constructor(t,e,i){super(t,e,i),this.key=Bh.fromName(i.referenceValue)}matches(t){const e=Bh.comparator(t.key,this.key);return this.matchesComparison(e)}}class jl extends Rl{constructor(t,e){super(t,"in",e),this.keys=Vl("in",e)}matches(t){return this.keys.some((e=>e.isEqual(t.key)))}}class zl extends Rl{constructor(t,e){super(t,"not-in",e),this.keys=Vl("not-in",e)}matches(t){return!this.keys.some((e=>e.isEqual(t.key)))}}function Vl(t,e){var i;return((null===(i=e.arrayValue)||void 0===i?void 0:i.values)||[]).map((t=>Bh.fromName(t.referenceValue)))}class Hl extends Rl{constructor(t,e){super(t,"array-contains",e)}matches(t){const e=t.data.field(this.field);return Ml(e)&&ml(e.arrayValue,this.value)}}class Wl extends Rl{constructor(t,e){super(t,"in",e)}matches(t){const e=t.data.field(this.field);return null!==e&&ml(this.value.arrayValue,e)}}class Kl extends Rl{constructor(t,e){super(t,"not-in",e)}matches(t){if(ml(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const e=t.data.field(this.field);return null!==e&&!ml(this.value.arrayValue,e)}}class Gl extends Rl{constructor(t,e){super(t,"array-contains-any",e)}matches(t){const e=t.data.field(this.field);return!(!Ml(e)||!e.arrayValue.values)&&e.arrayValue.values.some((t=>ml(this.value.arrayValue,t)))}}
/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ql{constructor(t,e="asc"){this.field=t,this.dir=e}}function Yl(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zl{constructor(t,e){this.comparator=t,this.root=e||Xl.EMPTY}insert(t,e){return new Zl(this.comparator,this.root.insert(t,e,this.comparator).copy(null,null,Xl.BLACK,null,null))}remove(t){return new Zl(this.comparator,this.root.remove(t,this.comparator).copy(null,null,Xl.BLACK,null,null))}get(t){let e=this.root;for(;!e.isEmpty();){const i=this.comparator(t,e.key);if(0===i)return e.value;i<0?e=e.left:i>0&&(e=e.right)}return null}indexOf(t){let e=0,i=this.root;for(;!i.isEmpty();){const n=this.comparator(t,i.key);if(0===n)return e+i.left.size;n<0?i=i.left:(e+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal(((e,i)=>(t(e,i),!1)))}toString(){const t=[];return this.inorderTraversal(((e,i)=>(t.push(`${e}:${i}`),!1))),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new $l(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new $l(this.root,t,this.comparator,!1)}getReverseIterator(){return new $l(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new $l(this.root,t,this.comparator,!0)}}class $l{constructor(t,e,i,n){this.isReverse=n,this.nodeStack=[];let r=1;for(;!t.isEmpty();)if(r=e?i(t.key,e):1,e&&n&&(r*=-1),r<0)t=this.isReverse?t.left:t.right;else{if(0===r){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const e={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return e}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class Xl{constructor(t,e,i,n,r){this.key=t,this.value=e,this.color=null!=i?i:Xl.RED,this.left=null!=n?n:Xl.EMPTY,this.right=null!=r?r:Xl.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,e,i,n,r){return new Xl(null!=t?t:this.key,null!=e?e:this.value,null!=i?i:this.color,null!=n?n:this.left,null!=r?r:this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,e,i){let n=this;const r=i(t,n.key);return n=r<0?n.copy(null,null,null,n.left.insert(t,e,i),null):0===r?n.copy(null,e,null,null,null):n.copy(null,null,null,null,n.right.insert(t,e,i)),n.fixUp()}removeMin(){if(this.left.isEmpty())return Xl.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,e){let i,n=this;if(e(t,n.key)<0)n.left.isEmpty()||n.left.isRed()||n.left.left.isRed()||(n=n.moveRedLeft()),n=n.copy(null,null,null,n.left.remove(t,e),null);else{if(n.left.isRed()&&(n=n.rotateRight()),n.right.isEmpty()||n.right.isRed()||n.right.left.isRed()||(n=n.moveRedRight()),0===e(t,n.key)){if(n.right.isEmpty())return Xl.EMPTY;i=n.right.min(),n=n.copy(i.key,i.value,null,null,n.right.removeMin())}n=n.copy(null,null,null,null,n.right.remove(t,e))}return n.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,Xl.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,Xl.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),e=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,e)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw ph();if(this.right.isRed())throw ph();const t=this.left.check();if(t!==this.right.check())throw ph();return t+(this.isRed()?0:1)}}Xl.EMPTY=null,Xl.RED=!0,Xl.BLACK=!1,Xl.EMPTY=new class{constructor(){this.size=0}get key(){throw ph()}get value(){throw ph()}get color(){throw ph()}get left(){throw ph()}get right(){throw ph()}copy(t,e,i,n,r){return this}insert(t,e,i){return new Xl(t,e)}remove(t,e){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class Jl{constructor(t){this.comparator=t,this.data=new Zl(this.comparator)}has(t){return null!==this.data.get(t)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal(((e,i)=>(t(e),!1)))}forEachInRange(t,e){const i=this.data.getIteratorFrom(t[0]);for(;i.hasNext();){const n=i.getNext();if(this.comparator(n.key,t[1])>=0)return;e(n.key)}}forEachWhile(t,e){let i;for(i=void 0!==e?this.data.getIteratorFrom(e):this.data.getIterator();i.hasNext();)if(!t(i.getNext().key))return}firstAfterOrEqual(t){const e=this.data.getIteratorFrom(t);return e.hasNext()?e.getNext().key:null}getIterator(){return new tu(this.data.getIterator())}getIteratorFrom(t){return new tu(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let e=this;return e.size<t.size&&(e=t,t=this),t.forEach((t=>{e=e.add(t)})),e}isEqual(t){if(!(t instanceof Jl))return!1;if(this.size!==t.size)return!1;const e=this.data.getIterator(),i=t.data.getIterator();for(;e.hasNext();){const t=e.getNext().key,n=i.getNext().key;if(0!==this.comparator(t,n))return!1}return!0}toArray(){const t=[];return this.forEach((e=>{t.push(e)})),t}toString(){const t=[];return this.forEach((e=>t.push(e))),"SortedSet("+t.toString()+")"}copy(t){const e=new Jl(this.comparator);return e.data=t,e}}class tu{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class eu{constructor(t){this.fields=t,t.sort(Ph.comparator)}static empty(){return new eu([])}unionWith(t){let e=new Jl(Ph.comparator);for(const t of this.fields)e=e.add(t);for(const i of t)e=e.add(i);return new eu(e.toArray())}covers(t){for(const e of this.fields)if(e.isPrefixOf(t))return!0;return!1}isEqual(t){return Ch(this.fields,t.fields,((t,e)=>t.isEqual(e)))}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iu{constructor(t){this.value=t}static empty(){return new iu({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let e=this.value;for(let i=0;i<t.length-1;++i)if(e=(e.mapValue.fields||{})[t.get(i)],!Al(e))return null;return e=(e.mapValue.fields||{})[t.lastSegment()],e||null}}set(t,e){this.getFieldsMap(t.popLast())[t.lastSegment()]=El(e)}setAll(t){let e=Ph.emptyPath(),i={},n=[];t.forEach(((t,r)=>{if(!e.isImmediateParentOf(r)){const t=this.getFieldsMap(e);this.applyChanges(t,i,n),i={},n=[],e=r.popLast()}t?i[r.lastSegment()]=El(t):n.push(r.lastSegment())}));const r=this.getFieldsMap(e);this.applyChanges(r,i,n)}delete(t){const e=this.field(t.popLast());Al(e)&&e.mapValue.fields&&delete e.mapValue.fields[t.lastSegment()]}isEqual(t){return pl(this.value,t.value)}getFieldsMap(t){let e=this.value;e.mapValue.fields||(e.mapValue={fields:{}});for(let i=0;i<t.length;++i){let n=e.mapValue.fields[t.get(i)];Al(n)&&n.mapValue.fields||(n={mapValue:{fields:{}}},e.mapValue.fields[t.get(i)]=n),e=n}return e.mapValue.fields}applyChanges(t,e,i){Jh(e,((e,i)=>t[e]=i));for(const e of i)delete t[e]}clone(){return new iu(El(this.value))}}function nu(t){const e=[];return Jh(t.fields,((t,i)=>{const n=new Ph([t]);if(Al(i)){const t=nu(i.mapValue).fields;if(0===t.length)e.push(n);else for(const i of t)e.push(n.child(i))}else e.push(n)})),new eu(e)
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */}class ru{constructor(t,e,i,n,r,s,o){this.key=t,this.documentType=e,this.version=i,this.readTime=n,this.createTime=r,this.data=s,this.documentState=o}static newInvalidDocument(t){return new ru(t,0,Dh.min(),Dh.min(),Dh.min(),iu.empty(),0)}static newFoundDocument(t,e,i,n){return new ru(t,1,e,Dh.min(),i,n,0)}static newNoDocument(t,e){return new ru(t,2,e,Dh.min(),Dh.min(),iu.empty(),0)}static newUnknownDocument(t,e){return new ru(t,3,e,Dh.min(),Dh.min(),iu.empty(),2)}convertToFoundDocument(t,e){return!this.createTime.isEqual(Dh.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=t),this.version=t,this.documentType=1,this.data=e,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=iu.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=iu.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Dh.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(t){return t instanceof ru&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new ru(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class su{constructor(t,e=null,i=[],n=[],r=null,s=null,o=null){this.path=t,this.collectionGroup=e,this.orderBy=i,this.filters=n,this.limit=r,this.startAt=s,this.endAt=o,this.ft=null}}function ou(t,e=null,i=[],n=[],r=null,s=null,o=null){return new su(t,e,i,n,r,s,o)}function au(t){const e=gh(t);if(null===e.ft){let t=e.path.canonicalString();null!==e.collectionGroup&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map((t=>Pl(t))).join(","),t+="|ob:",t+=e.orderBy.map((t=>function(t){return t.field.canonicalString()+t.dir}(t))).join(","),el(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map((t=>yl(t))).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map((t=>yl(t))).join(",")),e.ft=t}return e.ft}function hu(t,e){if(t.limit!==e.limit)return!1;if(t.orderBy.length!==e.orderBy.length)return!1;for(let i=0;i<t.orderBy.length;i++)if(!Yl(t.orderBy[i],e.orderBy[i]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let i=0;i<t.filters.length;i++)if(!Bl(t.filters[i],e.filters[i]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!ql(t.startAt,e.startAt)&&ql(t.endAt,e.endAt)}function lu(t){return Bh.isDocumentKey(t.path)&&null===t.collectionGroup&&0===t.filters.length}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class uu{constructor(t,e=null,i=[],n=[],r=null,s="F",o=null,a=null){this.path=t,this.collectionGroup=e,this.explicitOrderBy=i,this.filters=n,this.limit=r,this.limitType=s,this.startAt=o,this.endAt=a,this.dt=null,this._t=null,this.startAt,this.endAt}}function cu(t,e,i,n,r,s,o,a){return new uu(t,e,i,n,r,s,o,a)}function du(t){return new uu(t)}function fu(t){return 0===t.filters.length&&null===t.limit&&null==t.startAt&&null==t.endAt&&(0===t.explicitOrderBy.length||1===t.explicitOrderBy.length&&t.explicitOrderBy[0].field.isKeyField())}function pu(t){return t.explicitOrderBy.length>0?t.explicitOrderBy[0].field:null}function mu(t){for(const e of t.filters){const t=e.getFirstInequalityField();if(null!==t)return t}return null}function gu(t){return null!==t.collectionGroup}function vu(t){const e=gh(t);if(null===e.dt){e.dt=[];const t=mu(e),i=pu(e);if(null!==t&&null===i)t.isKeyField()||e.dt.push(new Ql(t)),e.dt.push(new Ql(Ph.keyField(),"asc"));else{let t=!1;for(const i of e.explicitOrderBy)e.dt.push(i),i.field.isKeyField()&&(t=!0);if(!t){const t=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.dt.push(new Ql(Ph.keyField(),t))}}}return e.dt}function yu(t){const e=gh(t);if(!e._t)if("F"===e.limitType)e._t=ou(e.path,e.collectionGroup,vu(e),e.filters,e.limit,e.startAt,e.endAt);else{const t=[];for(const i of vu(e)){const e="desc"===i.dir?"asc":"desc";t.push(new Ql(i.field,e))}const i=e.endAt?new Tl(e.endAt.position,e.endAt.inclusive):null,n=e.startAt?new Tl(e.startAt.position,e.startAt.inclusive):null;e._t=ou(e.path,e.collectionGroup,t,e.filters,e.limit,i,n)}return e._t}function bu(t,e){e.getFirstInequalityField(),mu(t);const i=t.filters.concat([e]);return new uu(t.path,t.collectionGroup,t.explicitOrderBy.slice(),i,t.limit,t.limitType,t.startAt,t.endAt)}function wu(t,e,i){return new uu(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,i,t.startAt,t.endAt)}function _u(t,e){return hu(yu(t),yu(e))&&t.limitType===e.limitType}function Mu(t){return`${au(yu(t))}|lt:${t.limitType}`}function xu(t){return`Query(target=${function(t){let e=t.path.canonicalString();return null!==t.collectionGroup&&(e+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(e+=`, filters: [${t.filters.map((t=>Ul(t))).join(", ")}]`),el(t.limit)||(e+=", limit: "+t.limit),t.orderBy.length>0&&(e+=`, orderBy: [${t.orderBy.map((t=>function(t){return`${t.field.canonicalString()} (${t.dir})`}(t))).join(", ")}]`),t.startAt&&(e+=", startAt: ",e+=t.startAt.inclusive?"b:":"a:",e+=t.startAt.position.map((t=>yl(t))).join(",")),t.endAt&&(e+=", endAt: ",e+=t.endAt.inclusive?"a:":"b:",e+=t.endAt.position.map((t=>yl(t))).join(",")),`Target(${e})`}(yu(t))}; limitType=${t.limitType})`}function ku(t,e){return e.isFoundDocument()&&function(t,e){const i=e.key.path;return null!==t.collectionGroup?e.key.hasCollectionId(t.collectionGroup)&&t.path.isPrefixOf(i):Bh.isDocumentKey(t.path)?t.path.isEqual(i):t.path.isImmediateParentOf(i)}(t,e)&&function(t,e){for(const i of vu(t))if(!i.field.isKeyField()&&null===e.data.field(i.field))return!1;return!0}(t,e)&&function(t,e){for(const i of t.filters)if(!i.matches(e))return!1;return!0}(t,e)&&function(t,e){return!(t.startAt&&!function(t,e,i){const n=Il(t,e,i);return t.inclusive?n<=0:n<0}(t.startAt,vu(t),e))&&!(t.endAt&&!function(t,e,i){const n=Il(t,e,i);return t.inclusive?n>=0:n>0}(t.endAt,vu(t),e))}(t,e)}function Au(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function Eu(t){return(e,i)=>{let n=!1;for(const r of vu(t)){const t=Su(r,e,i);if(0!==t)return t;n=n||r.field.isKeyField()}return 0}}function Su(t,e,i){const n=t.field.isKeyField()?Bh.comparator(e.key,i.key):function(t,e,i){const n=e.data.field(t),r=i.data.field(t);return null!==n&&null!==r?gl(n,r):ph()}(t.field,e,i);switch(t.dir){case"asc":return n;case"desc":return-1*n;default:return ph()}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tu(t,e){if(t.wt){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:il(e)?"-0":e}}function Iu(t){return{integerValue:""+t}}function qu(t,e){return nl(e)?Iu(e):Tu(t,e)}
/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cu{constructor(){this._=void 0}}function Ru(t,e,i){return t instanceof Nu?function(t,e){const i={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:t.seconds,nanos:t.nanoseconds}}}};return e&&(i.fields.__previous_value__=e),{mapValue:i}}(i,e):t instanceof Ou?Pu(t,e):t instanceof Bu?Uu(t,e):function(t,e){const i=Lu(t,e),n=ju(i)+ju(t.gt);return _l(i)&&_l(t.gt)?Iu(n):Tu(t.yt,n)}(t,e)}function Du(t,e,i){return t instanceof Ou?Pu(t,e):t instanceof Bu?Uu(t,e):i}function Lu(t,e){var i;return t instanceof Fu?_l(i=e)||function(t){return!!t&&"doubleValue"in t}(i)?e:{integerValue:0}:null}class Nu extends Cu{}class Ou extends Cu{constructor(t){super(),this.elements=t}}function Pu(t,e){const i=zu(e);for(const e of t.elements)i.some((t=>pl(t,e)))||i.push(e);return{arrayValue:{values:i}}}class Bu extends Cu{constructor(t){super(),this.elements=t}}function Uu(t,e){let i=zu(e);for(const e of t.elements)i=i.filter((t=>!pl(t,e)));return{arrayValue:{values:i}}}class Fu extends Cu{constructor(t,e){super(),this.yt=t,this.gt=e}}function ju(t){return al(t.integerValue||t.doubleValue)}function zu(t){return Ml(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vu{constructor(t,e){this.field=t,this.transform=e}}class Hu{constructor(t,e){this.version=t,this.transformResults=e}}class Wu{constructor(t,e){this.updateTime=t,this.exists=e}static none(){return new Wu}static exists(t){return new Wu(void 0,t)}static updateTime(t){return new Wu(t)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function Ku(t,e){return void 0!==t.updateTime?e.isFoundDocument()&&e.version.isEqual(t.updateTime):void 0===t.exists||t.exists===e.isFoundDocument()}class Gu{}function Qu(t,e){if(!t.hasLocalMutations||e&&0===e.fields.length)return null;if(null===e)return t.isNoDocument()?new rc(t.key,Wu.none()):new Ju(t.key,t.data,Wu.none());{const i=t.data,n=iu.empty();let r=new Jl(Ph.comparator);for(let t of e.fields)if(!r.has(t)){let e=i.field(t);null===e&&t.length>1&&(t=t.popLast(),e=i.field(t)),null===e?n.delete(t):n.set(t,e),r=r.add(t)}return new tc(t.key,n,new eu(r.toArray()),Wu.none())}}function Yu(t,e,i){t instanceof Ju?function(t,e,i){const n=t.value.clone(),r=ic(t.fieldTransforms,e,i.transformResults);n.setAll(r),e.convertToFoundDocument(i.version,n).setHasCommittedMutations()}(t,e,i):t instanceof tc?function(t,e,i){if(!Ku(t.precondition,e))return void e.convertToUnknownDocument(i.version);const n=ic(t.fieldTransforms,e,i.transformResults),r=e.data;r.setAll(ec(t)),r.setAll(n),e.convertToFoundDocument(i.version,r).setHasCommittedMutations()}(t,e,i):function(t,e,i){e.convertToNoDocument(i.version).setHasCommittedMutations()}(0,e,i)}function Zu(t,e,i,n){return t instanceof Ju?function(t,e,i,n){if(!Ku(t.precondition,e))return i;const r=t.value.clone(),s=nc(t.fieldTransforms,n,e);return r.setAll(s),e.convertToFoundDocument(e.version,r).setHasLocalMutations(),null}(t,e,i,n):t instanceof tc?function(t,e,i,n){if(!Ku(t.precondition,e))return i;const r=nc(t.fieldTransforms,n,e),s=e.data;return s.setAll(ec(t)),s.setAll(r),e.convertToFoundDocument(e.version,s).setHasLocalMutations(),null===i?null:i.unionWith(t.fieldMask.fields).unionWith(t.fieldTransforms.map((t=>t.field)))}(t,e,i,n):function(t,e,i){return Ku(t.precondition,e)?(e.convertToNoDocument(e.version).setHasLocalMutations(),null):i}(t,e,i)}function $u(t,e){let i=null;for(const n of t.fieldTransforms){const t=e.data.field(n.field),r=Lu(n.transform,t||null);null!=r&&(null===i&&(i=iu.empty()),i.set(n.field,r))}return i||null}function Xu(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(t,e){return void 0===t&&void 0===e||!(!t||!e)&&Ch(t,e,((t,e)=>function(t,e){return t.field.isEqual(e.field)&&function(t,e){return t instanceof Ou&&e instanceof Ou||t instanceof Bu&&e instanceof Bu?Ch(t.elements,e.elements,pl):t instanceof Fu&&e instanceof Fu?pl(t.gt,e.gt):t instanceof Nu&&e instanceof Nu}(t.transform,e.transform)}(t,e)))}(t.fieldTransforms,e.fieldTransforms)&&(0===t.type?t.value.isEqual(e.value):1!==t.type||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Ju extends Gu{constructor(t,e,i,n=[]){super(),this.key=t,this.value=e,this.precondition=i,this.fieldTransforms=n,this.type=0}getFieldMask(){return null}}class tc extends Gu{constructor(t,e,i,n,r=[]){super(),this.key=t,this.data=e,this.fieldMask=i,this.precondition=n,this.fieldTransforms=r,this.type=1}getFieldMask(){return this.fieldMask}}function ec(t){const e=new Map;return t.fieldMask.fields.forEach((i=>{if(!i.isEmpty()){const n=t.data.field(i);e.set(i,n)}})),e}function ic(t,e,i){const n=new Map;mh(t.length===i.length);for(let r=0;r<i.length;r++){const s=t[r],o=s.transform,a=e.data.field(s.field);n.set(s.field,Du(o,a,i[r]))}return n}function nc(t,e,i){const n=new Map;for(const r of t){const t=r.transform,s=i.data.field(r.field);n.set(r.field,Ru(t,s,e))}return n}class rc extends Gu{constructor(t,e){super(),this.key=t,this.precondition=e,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class sc extends Gu{constructor(t,e){super(),this.key=t,this.precondition=e,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oc{constructor(t){this.count=t}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ac,hc;function lc(t){switch(t){default:return ph();case vh.CANCELLED:case vh.UNKNOWN:case vh.DEADLINE_EXCEEDED:case vh.RESOURCE_EXHAUSTED:case vh.INTERNAL:case vh.UNAVAILABLE:case vh.UNAUTHENTICATED:return!1;case vh.INVALID_ARGUMENT:case vh.NOT_FOUND:case vh.ALREADY_EXISTS:case vh.PERMISSION_DENIED:case vh.FAILED_PRECONDITION:case vh.ABORTED:case vh.OUT_OF_RANGE:case vh.UNIMPLEMENTED:case vh.DATA_LOSS:return!0}}function uc(t){if(void 0===t)return ch("GRPC error has no .code"),vh.UNKNOWN;switch(t){case ac.OK:return vh.OK;case ac.CANCELLED:return vh.CANCELLED;case ac.UNKNOWN:return vh.UNKNOWN;case ac.DEADLINE_EXCEEDED:return vh.DEADLINE_EXCEEDED;case ac.RESOURCE_EXHAUSTED:return vh.RESOURCE_EXHAUSTED;case ac.INTERNAL:return vh.INTERNAL;case ac.UNAVAILABLE:return vh.UNAVAILABLE;case ac.UNAUTHENTICATED:return vh.UNAUTHENTICATED;case ac.INVALID_ARGUMENT:return vh.INVALID_ARGUMENT;case ac.NOT_FOUND:return vh.NOT_FOUND;case ac.ALREADY_EXISTS:return vh.ALREADY_EXISTS;case ac.PERMISSION_DENIED:return vh.PERMISSION_DENIED;case ac.FAILED_PRECONDITION:return vh.FAILED_PRECONDITION;case ac.ABORTED:return vh.ABORTED;case ac.OUT_OF_RANGE:return vh.OUT_OF_RANGE;case ac.UNIMPLEMENTED:return vh.UNIMPLEMENTED;case ac.DATA_LOSS:return vh.DATA_LOSS;default:return ph()}}(hc=ac||(ac={}))[hc.OK=0]="OK",hc[hc.CANCELLED=1]="CANCELLED",hc[hc.UNKNOWN=2]="UNKNOWN",hc[hc.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",hc[hc.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",hc[hc.NOT_FOUND=5]="NOT_FOUND",hc[hc.ALREADY_EXISTS=6]="ALREADY_EXISTS",hc[hc.PERMISSION_DENIED=7]="PERMISSION_DENIED",hc[hc.UNAUTHENTICATED=16]="UNAUTHENTICATED",hc[hc.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",hc[hc.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",hc[hc.ABORTED=10]="ABORTED",hc[hc.OUT_OF_RANGE=11]="OUT_OF_RANGE",hc[hc.UNIMPLEMENTED=12]="UNIMPLEMENTED",hc[hc.INTERNAL=13]="INTERNAL",hc[hc.UNAVAILABLE=14]="UNAVAILABLE",hc[hc.DATA_LOSS=15]="DATA_LOSS";
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class cc{constructor(t,e){this.mapKeyFn=t,this.equalsFn=e,this.inner={},this.innerSize=0}get(t){const e=this.mapKeyFn(t),i=this.inner[e];if(void 0!==i)for(const[e,n]of i)if(this.equalsFn(e,t))return n}has(t){return void 0!==this.get(t)}set(t,e){const i=this.mapKeyFn(t),n=this.inner[i];if(void 0===n)return this.inner[i]=[[t,e]],void this.innerSize++;for(let i=0;i<n.length;i++)if(this.equalsFn(n[i][0],t))return void(n[i]=[t,e]);n.push([t,e]),this.innerSize++}delete(t){const e=this.mapKeyFn(t),i=this.inner[e];if(void 0===i)return!1;for(let n=0;n<i.length;n++)if(this.equalsFn(i[n][0],t))return 1===i.length?delete this.inner[e]:i.splice(n,1),this.innerSize--,!0;return!1}forEach(t){Jh(this.inner,((e,i)=>{for(const[e,n]of i)t(e,n)}))}isEmpty(){return tl(this.inner)}size(){return this.innerSize}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dc=new Zl(Bh.comparator);function fc(){return dc}const pc=new Zl(Bh.comparator);function mc(...t){let e=pc;for(const i of t)e=e.insert(i.key,i);return e}function gc(t){let e=pc;return t.forEach(((t,i)=>e=e.insert(t,i.overlayedDocument))),e}function vc(){return bc()}function yc(){return bc()}function bc(){return new cc((t=>t.toString()),((t,e)=>t.isEqual(e)))}const wc=new Zl(Bh.comparator),_c=new Jl(Bh.comparator);function Mc(...t){let e=_c;for(const i of t)e=e.add(i);return e}const xc=new Jl(qh);function kc(){return xc}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ac{constructor(t,e,i,n,r){this.snapshotVersion=t,this.targetChanges=e,this.targetMismatches=i,this.documentUpdates=n,this.resolvedLimboDocuments=r}static createSynthesizedRemoteEventForCurrentChange(t,e,i){const n=new Map;return n.set(t,Ec.createSynthesizedTargetChangeForCurrentChange(t,e,i)),new Ac(Dh.min(),n,kc(),fc(),Mc())}}class Ec{constructor(t,e,i,n,r){this.resumeToken=t,this.current=e,this.addedDocuments=i,this.modifiedDocuments=n,this.removedDocuments=r}static createSynthesizedTargetChangeForCurrentChange(t,e,i){return new Ec(i,e,Mc(),Mc(),Mc())}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sc{constructor(t,e,i,n){this.It=t,this.removedTargetIds=e,this.key=i,this.Tt=n}}class Tc{constructor(t,e){this.targetId=t,this.Et=e}}class Ic{constructor(t,e,i=rl.EMPTY_BYTE_STRING,n=null){this.state=t,this.targetIds=e,this.resumeToken=i,this.cause=n}}class qc{constructor(){this.At=0,this.Rt=Dc(),this.bt=rl.EMPTY_BYTE_STRING,this.Pt=!1,this.vt=!0}get current(){return this.Pt}get resumeToken(){return this.bt}get Vt(){return 0!==this.At}get St(){return this.vt}Dt(t){t.approximateByteSize()>0&&(this.vt=!0,this.bt=t)}Ct(){let t=Mc(),e=Mc(),i=Mc();return this.Rt.forEach(((n,r)=>{switch(r){case 0:t=t.add(n);break;case 2:e=e.add(n);break;case 1:i=i.add(n);break;default:ph()}})),new Ec(this.bt,this.Pt,t,e,i)}xt(){this.vt=!1,this.Rt=Dc()}Nt(t,e){this.vt=!0,this.Rt=this.Rt.insert(t,e)}kt(t){this.vt=!0,this.Rt=this.Rt.remove(t)}Ot(){this.At+=1}Mt(){this.At-=1}Ft(){this.vt=!0,this.Pt=!0}}class Cc{constructor(t){this.$t=t,this.Bt=new Map,this.Lt=fc(),this.qt=Rc(),this.Ut=new Jl(qh)}Kt(t){for(const e of t.It)t.Tt&&t.Tt.isFoundDocument()?this.Gt(e,t.Tt):this.Qt(e,t.key,t.Tt);for(const e of t.removedTargetIds)this.Qt(e,t.key,t.Tt)}jt(t){this.forEachTarget(t,(e=>{const i=this.Wt(e);switch(t.state){case 0:this.zt(e)&&i.Dt(t.resumeToken);break;case 1:i.Mt(),i.Vt||i.xt(),i.Dt(t.resumeToken);break;case 2:i.Mt(),i.Vt||this.removeTarget(e);break;case 3:this.zt(e)&&(i.Ft(),i.Dt(t.resumeToken));break;case 4:this.zt(e)&&(this.Ht(e),i.Dt(t.resumeToken));break;default:ph()}}))}forEachTarget(t,e){t.targetIds.length>0?t.targetIds.forEach(e):this.Bt.forEach(((t,i)=>{this.zt(i)&&e(i)}))}Jt(t){const e=t.targetId,i=t.Et.count,n=this.Yt(e);if(n){const t=n.target;if(lu(t))if(0===i){const i=new Bh(t.path);this.Qt(e,i,ru.newNoDocument(i,Dh.min()))}else mh(1===i);else this.Xt(e)!==i&&(this.Ht(e),this.Ut=this.Ut.add(e))}}Zt(t){const e=new Map;this.Bt.forEach(((i,n)=>{const r=this.Yt(n);if(r){if(i.current&&lu(r.target)){const e=new Bh(r.target.path);null!==this.Lt.get(e)||this.te(n,e)||this.Qt(n,e,ru.newNoDocument(e,t))}i.St&&(e.set(n,i.Ct()),i.xt())}}));let i=Mc();this.qt.forEach(((t,e)=>{let n=!0;e.forEachWhile((t=>{const e=this.Yt(t);return!e||2===e.purpose||(n=!1,!1)})),n&&(i=i.add(t))})),this.Lt.forEach(((e,i)=>i.setReadTime(t)));const n=new Ac(t,e,this.Ut,this.Lt,i);return this.Lt=fc(),this.qt=Rc(),this.Ut=new Jl(qh),n}Gt(t,e){if(!this.zt(t))return;const i=this.te(t,e.key)?2:0;this.Wt(t).Nt(e.key,i),this.Lt=this.Lt.insert(e.key,e),this.qt=this.qt.insert(e.key,this.ee(e.key).add(t))}Qt(t,e,i){if(!this.zt(t))return;const n=this.Wt(t);this.te(t,e)?n.Nt(e,1):n.kt(e),this.qt=this.qt.insert(e,this.ee(e).delete(t)),i&&(this.Lt=this.Lt.insert(e,i))}removeTarget(t){this.Bt.delete(t)}Xt(t){const e=this.Wt(t).Ct();return this.$t.getRemoteKeysForTarget(t).size+e.addedDocuments.size-e.removedDocuments.size}Ot(t){this.Wt(t).Ot()}Wt(t){let e=this.Bt.get(t);return e||(e=new qc,this.Bt.set(t,e)),e}ee(t){let e=this.qt.get(t);return e||(e=new Jl(qh),this.qt=this.qt.insert(t,e)),e}zt(t){const e=null!==this.Yt(t);return e||uh("WatchChangeAggregator","Detected inactive target",t),e}Yt(t){const e=this.Bt.get(t);return e&&e.Vt?null:this.$t.ne(t)}Ht(t){this.Bt.set(t,new qc),this.$t.getRemoteKeysForTarget(t).forEach((e=>{this.Qt(t,e,null)}))}te(t,e){return this.$t.getRemoteKeysForTarget(t).has(e)}}function Rc(){return new Zl(Bh.comparator)}function Dc(){return new Zl(Bh.comparator)}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lc={asc:"ASCENDING",desc:"DESCENDING"},Nc={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Oc={and:"AND",or:"OR"};class Pc{constructor(t,e){this.databaseId=t,this.wt=e}}function Bc(t,e){return t.wt?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function Uc(t,e){return t.wt?e.toBase64():e.toUint8Array()}function Fc(t,e){return Bc(t,e.toTimestamp())}function jc(t){return mh(!!t),Dh.fromTimestamp(function(t){const e=ol(t);return new Rh(e.seconds,e.nanos)}(t))}function zc(t,e){return function(t){return new Nh(["projects",t.projectId,"databases",t.database])}(t).child("documents").child(e).canonicalString()}function Vc(t){const e=Nh.fromString(t);return mh(ld(e)),e}function Hc(t,e){return zc(t.databaseId,e.path)}function Wc(t,e){const i=Vc(e);if(i.get(1)!==t.databaseId.projectId)throw new yh(vh.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+i.get(1)+" vs "+t.databaseId.projectId);if(i.get(3)!==t.databaseId.database)throw new yh(vh.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+i.get(3)+" vs "+t.databaseId.database);return new Bh(Yc(i))}function Kc(t,e){return zc(t.databaseId,e)}function Gc(t){const e=Vc(t);return 4===e.length?Nh.emptyPath():Yc(e)}function Qc(t){return new Nh(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function Yc(t){return mh(t.length>4&&"documents"===t.get(4)),t.popFirst(5)}function Zc(t,e,i){return{name:Hc(t,e),fields:i.value.mapValue.fields}}function $c(t,e){let i;if(e instanceof Ju)i={update:Zc(t,e.key,e.value)};else if(e instanceof rc)i={delete:Hc(t,e.key)};else if(e instanceof tc)i={update:Zc(t,e.key,e.data),updateMask:hd(e.fieldMask)};else{if(!(e instanceof sc))return ph();i={verify:Hc(t,e.key)}}return e.fieldTransforms.length>0&&(i.updateTransforms=e.fieldTransforms.map((t=>function(t,e){const i=e.transform;if(i instanceof Nu)return{fieldPath:e.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(i instanceof Ou)return{fieldPath:e.field.canonicalString(),appendMissingElements:{values:i.elements}};if(i instanceof Bu)return{fieldPath:e.field.canonicalString(),removeAllFromArray:{values:i.elements}};if(i instanceof Fu)return{fieldPath:e.field.canonicalString(),increment:i.gt};throw ph()}(0,t)))),e.precondition.isNone||(i.currentDocument=function(t,e){return void 0!==e.updateTime?{updateTime:Fc(t,e.updateTime)}:void 0!==e.exists?{exists:e.exists}:ph()}(t,e.precondition)),i}function Xc(t,e){return{documents:[Kc(t,e.path)]}}function Jc(t,e){const i={structuredQuery:{}},n=e.path;null!==e.collectionGroup?(i.parent=Kc(t,n),i.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i.parent=Kc(t,n.popLast()),i.structuredQuery.from=[{collectionId:n.lastSegment()}]);const r=function(t){if(0!==t.length)return ad(Dl.create(t,"and"))}(e.filters);r&&(i.structuredQuery.where=r);const s=function(t){if(0!==t.length)return t.map((t=>function(t){return{field:sd(t.field),direction:id(t.dir)}}(t)))}(e.orderBy);s&&(i.structuredQuery.orderBy=s);const o=function(t,e){return t.wt||el(e)?e:{value:e}}(t,e.limit);var a;return null!==o&&(i.structuredQuery.limit=o),e.startAt&&(i.structuredQuery.startAt={before:(a=e.startAt).inclusive,values:a.position}),e.endAt&&(i.structuredQuery.endAt=function(t){return{before:!t.inclusive,values:t.position}}(e.endAt)),i}function td(t){let e=Gc(t.parent);const i=t.structuredQuery,n=i.from?i.from.length:0;let r=null;if(n>0){mh(1===n);const t=i.from[0];t.allDescendants?r=t.collectionId:e=e.child(t.collectionId)}let s=[];i.where&&(s=function(t){const e=ed(t);return e instanceof Dl&&Nl(e)?e.getFilters():[e]}(i.where));let o=[];i.orderBy&&(o=i.orderBy.map((t=>function(t){return new Ql(od(t.field),function(t){switch(t){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(t.direction))}(t))));let a=null;i.limit&&(a=function(t){let e;return e="object"==typeof t?t.value:t,el(e)?null:e}(i.limit));let h=null;i.startAt&&(h=function(t){const e=!!t.before,i=t.values||[];return new Tl(i,e)}(i.startAt));let l=null;return i.endAt&&(l=function(t){const e=!t.before,i=t.values||[];return new Tl(i,e)}(i.endAt)),cu(e,r,o,s,a,"F",h,l)}function ed(t){return void 0!==t.unaryFilter?function(t){switch(t.unaryFilter.op){case"IS_NAN":const e=od(t.unaryFilter.field);return Rl.create(e,"==",{doubleValue:NaN});case"IS_NULL":const i=od(t.unaryFilter.field);return Rl.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const n=od(t.unaryFilter.field);return Rl.create(n,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const r=od(t.unaryFilter.field);return Rl.create(r,"!=",{nullValue:"NULL_VALUE"});default:return ph()}}(t):void 0!==t.fieldFilter?function(t){return Rl.create(od(t.fieldFilter.field),function(t){switch(t){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return ph()}}(t.fieldFilter.op),t.fieldFilter.value)}(t):void 0!==t.compositeFilter?function(t){return Dl.create(t.compositeFilter.filters.map((t=>ed(t))),function(t){switch(t){case"AND":return"and";case"OR":return"or";default:return ph()}}(t.compositeFilter.op))}(t):ph()}function id(t){return Lc[t]}function nd(t){return Nc[t]}function rd(t){return Oc[t]}function sd(t){return{fieldPath:t.canonicalString()}}function od(t){return Ph.fromServerFormat(t.fieldPath)}function ad(t){return t instanceof Rl?function(t){if("=="===t.op){if(kl(t.value))return{unaryFilter:{field:sd(t.field),op:"IS_NAN"}};if(xl(t.value))return{unaryFilter:{field:sd(t.field),op:"IS_NULL"}}}else if("!="===t.op){if(kl(t.value))return{unaryFilter:{field:sd(t.field),op:"IS_NOT_NAN"}};if(xl(t.value))return{unaryFilter:{field:sd(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:sd(t.field),op:nd(t.op),value:t.value}}}(t):t instanceof Dl?function(t){const e=t.getFilters().map((t=>ad(t)));return 1===e.length?e[0]:{compositeFilter:{op:rd(t.op),filters:e}}}(t):ph()}function hd(t){const e=[];return t.fields.forEach((t=>e.push(t.canonicalString()))),{fieldPaths:e}}function ld(t){return t.length>=4&&"projects"===t.get(0)&&"databases"===t.get(2)}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ud=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],cd=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],dd=cd;
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class fd{constructor(t,e,i,n){this.batchId=t,this.localWriteTime=e,this.baseMutations=i,this.mutations=n}applyToRemoteDocument(t,e){const i=e.mutationResults;for(let e=0;e<this.mutations.length;e++){const n=this.mutations[e];n.key.isEqual(t.key)&&Yu(n,t,i[e])}}applyToLocalView(t,e){for(const i of this.baseMutations)i.key.isEqual(t.key)&&(e=Zu(i,t,e,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(t.key)&&(e=Zu(i,t,e,this.localWriteTime));return e}applyToLocalDocumentSet(t,e){const i=yc();return this.mutations.forEach((n=>{const r=t.get(n.key),s=r.overlayedDocument;let o=this.applyToLocalView(s,r.mutatedFields);o=e.has(n.key)?null:o;const a=Qu(s,o);null!==a&&i.set(n.key,a),s.isValidDocument()||s.convertToNoDocument(Dh.min())})),i}keys(){return this.mutations.reduce(((t,e)=>t.add(e.key)),Mc())}isEqual(t){return this.batchId===t.batchId&&Ch(this.mutations,t.mutations,((t,e)=>Xu(t,e)))&&Ch(this.baseMutations,t.baseMutations,((t,e)=>Xu(t,e)))}}class pd{constructor(t,e,i,n){this.batch=t,this.commitVersion=e,this.mutationResults=i,this.docVersions=n}static from(t,e,i){mh(t.mutations.length===i.length);let n=wc;const r=t.mutations;for(let t=0;t<r.length;t++)n=n.insert(r[t].key,i[t].version);return new pd(t,e,i,n)}}
/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class md{constructor(t,e){this.largestBatchId=t,this.mutation=e}getKey(){return this.mutation.key}isEqual(t){return null!==t&&this.mutation===t.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gd{constructor(t,e,i,n,r=Dh.min(),s=Dh.min(),o=rl.EMPTY_BYTE_STRING){this.target=t,this.targetId=e,this.purpose=i,this.sequenceNumber=n,this.snapshotVersion=r,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=o}withSequenceNumber(t){return new gd(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}withResumeToken(t,e){return new gd(this.target,this.targetId,this.purpose,this.sequenceNumber,e,this.lastLimboFreeSnapshotVersion,t)}withLastLimboFreeSnapshotVersion(t){return new gd(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken)}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vd{constructor(t){this.ie=t}}function yd(t){const e=td({parent:t.parent,structuredQuery:t.structuredQuery});return"LAST"===t.limitType?wu(e,e.limit,"L"):e}
/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bd{constructor(){}ue(t,e){this.ce(t,e),e.ae()}ce(t,e){if("nullValue"in t)this.he(e,5);else if("booleanValue"in t)this.he(e,10),e.le(t.booleanValue?1:0);else if("integerValue"in t)this.he(e,15),e.le(al(t.integerValue));else if("doubleValue"in t){const i=al(t.doubleValue);isNaN(i)?this.he(e,13):(this.he(e,15),il(i)?e.le(0):e.le(i))}else if("timestampValue"in t){const i=t.timestampValue;this.he(e,20),"string"==typeof i?e.fe(i):(e.fe(`${i.seconds||""}`),e.le(i.nanos||0))}else if("stringValue"in t)this.de(t.stringValue,e),this._e(e);else if("bytesValue"in t)this.he(e,30),e.we(hl(t.bytesValue)),this._e(e);else if("referenceValue"in t)this.me(t.referenceValue,e);else if("geoPointValue"in t){const i=t.geoPointValue;this.he(e,45),e.le(i.latitude||0),e.le(i.longitude||0)}else"mapValue"in t?Sl(t)?this.he(e,Number.MAX_SAFE_INTEGER):(this.ge(t.mapValue,e),this._e(e)):"arrayValue"in t?(this.ye(t.arrayValue,e),this._e(e)):ph()}de(t,e){this.he(e,25),this.pe(t,e)}pe(t,e){e.fe(t)}ge(t,e){const i=t.fields||{};this.he(e,55);for(const t of Object.keys(i))this.de(t,e),this.ce(i[t],e)}ye(t,e){const i=t.values||[];this.he(e,50);for(const t of i)this.ce(t,e)}me(t,e){this.he(e,37),Bh.fromName(t).path.forEach((t=>{this.he(e,60),this.pe(t,e)}))}he(t,e){t.le(e)}_e(t){t.le(2)}}bd.Ie=new bd;
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class wd{constructor(){this.Je=new _d}addToCollectionParentIndex(t,e){return this.Je.add(e),Gh.resolve()}getCollectionParents(t,e){return Gh.resolve(this.Je.getEntries(e))}addFieldIndex(t,e){return Gh.resolve()}deleteFieldIndex(t,e){return Gh.resolve()}getDocumentsMatchingTarget(t,e){return Gh.resolve(null)}getIndexType(t,e){return Gh.resolve(0)}getFieldIndexes(t,e){return Gh.resolve([])}getNextCollectionGroupToUpdate(t){return Gh.resolve(null)}getMinOffset(t,e){return Gh.resolve(zh.min())}getMinOffsetFromCollectionGroup(t,e){return Gh.resolve(zh.min())}updateCollectionGroup(t,e,i){return Gh.resolve()}updateIndexEntries(t,e){return Gh.resolve()}}class _d{constructor(){this.index={}}add(t){const e=t.lastSegment(),i=t.popLast(),n=this.index[e]||new Jl(Nh.comparator),r=!n.has(i);return this.index[e]=n.add(i),r}has(t){const e=t.lastSegment(),i=t.popLast(),n=this.index[e];return n&&n.has(i)}getEntries(t){return(this.index[t]||new Jl(Nh.comparator)).toArray()}}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */new Uint8Array(0);class Md{constructor(t,e,i){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=e,this.maximumSequenceNumbersToCollect=i}static withCacheSize(t){return new Md(t,Md.DEFAULT_COLLECTION_PERCENTILE,Md.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Md.DEFAULT_COLLECTION_PERCENTILE=10,Md.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Md.DEFAULT=new Md(41943040,Md.DEFAULT_COLLECTION_PERCENTILE,Md.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Md.DISABLED=new Md(-1,0,0);
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class xd{constructor(t){this.bn=t}next(){return this.bn+=2,this.bn}static Pn(){return new xd(0)}static vn(){return new xd(-1)}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class kd{constructor(){this.changes=new cc((t=>t.toString()),((t,e)=>t.isEqual(e))),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,e){this.assertNotApplied(),this.changes.set(t,ru.newInvalidDocument(t).setReadTime(e))}getEntry(t,e){this.assertNotApplied();const i=this.changes.get(e);return void 0!==i?Gh.resolve(i):this.getFromCache(t,e)}getEntries(t,e){return this.getAllFromCache(t,e)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class Ad{constructor(t,e){this.overlayedDocument=t,this.mutatedFields=e}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ed{constructor(t,e,i,n){this.remoteDocumentCache=t,this.mutationQueue=e,this.documentOverlayCache=i,this.indexManager=n}getDocument(t,e){let i=null;return this.documentOverlayCache.getOverlay(t,e).next((n=>(i=n,this.remoteDocumentCache.getEntry(t,e)))).next((t=>(null!==i&&Zu(i.mutation,t,eu.empty(),Rh.now()),t)))}getDocuments(t,e){return this.remoteDocumentCache.getEntries(t,e).next((e=>this.getLocalViewOfDocuments(t,e,Mc()).next((()=>e))))}getLocalViewOfDocuments(t,e,i=Mc()){const n=vc();return this.populateOverlays(t,n,e).next((()=>this.computeViews(t,e,n,i).next((t=>{let e=mc();return t.forEach(((t,i)=>{e=e.insert(t,i.overlayedDocument)})),e}))))}getOverlayedDocuments(t,e){const i=vc();return this.populateOverlays(t,i,e).next((()=>this.computeViews(t,e,i,Mc())))}populateOverlays(t,e,i){const n=[];return i.forEach((t=>{e.has(t)||n.push(t)})),this.documentOverlayCache.getOverlays(t,n).next((t=>{t.forEach(((t,i)=>{e.set(t,i)}))}))}computeViews(t,e,i,n){let r=fc();const s=bc(),o=bc();return e.forEach(((t,e)=>{const o=i.get(e.key);n.has(e.key)&&(void 0===o||o.mutation instanceof tc)?r=r.insert(e.key,e):void 0!==o?(s.set(e.key,o.mutation.getFieldMask()),Zu(o.mutation,e,o.mutation.getFieldMask(),Rh.now())):s.set(e.key,eu.empty())})),this.recalculateAndSaveOverlays(t,r).next((t=>(t.forEach(((t,e)=>s.set(t,e))),e.forEach(((t,e)=>{var i;return o.set(t,new Ad(e,null!==(i=s.get(t))&&void 0!==i?i:null))})),o)))}recalculateAndSaveOverlays(t,e){const i=bc();let n=new Zl(((t,e)=>t-e)),r=Mc();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,e).next((t=>{for(const r of t)r.keys().forEach((t=>{const s=e.get(t);if(null===s)return;let o=i.get(t)||eu.empty();o=r.applyToLocalView(s,o),i.set(t,o);const a=(n.get(r.batchId)||Mc()).add(t);n=n.insert(r.batchId,a)}))})).next((()=>{const s=[],o=n.getReverseIterator();for(;o.hasNext();){const n=o.getNext(),a=n.key,h=n.value,l=yc();h.forEach((t=>{if(!r.has(t)){const n=Qu(e.get(t),i.get(t));null!==n&&l.set(t,n),r=r.add(t)}})),s.push(this.documentOverlayCache.saveOverlays(t,a,l))}return Gh.waitFor(s)})).next((()=>i))}recalculateAndSaveOverlaysForDocumentKeys(t,e){return this.remoteDocumentCache.getEntries(t,e).next((e=>this.recalculateAndSaveOverlays(t,e)))}getDocumentsMatchingQuery(t,e,i){return function(t){return Bh.isDocumentKey(t.path)&&null===t.collectionGroup&&0===t.filters.length}(e)?this.getDocumentsMatchingDocumentQuery(t,e.path):gu(e)?this.getDocumentsMatchingCollectionGroupQuery(t,e,i):this.getDocumentsMatchingCollectionQuery(t,e,i)}getNextDocuments(t,e,i,n){return this.remoteDocumentCache.getAllFromCollectionGroup(t,e,i,n).next((r=>{const s=n-r.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,e,i.largestBatchId,n-r.size):Gh.resolve(vc());let o=-1,a=r;return s.next((e=>Gh.forEach(e,((e,i)=>(o<i.largestBatchId&&(o=i.largestBatchId),r.get(e)?Gh.resolve():this.remoteDocumentCache.getEntry(t,e).next((t=>{a=a.insert(e,t)}))))).next((()=>this.populateOverlays(t,e,r))).next((()=>this.computeViews(t,a,e,Mc()))).next((t=>({batchId:o,changes:gc(t)})))))}))}getDocumentsMatchingDocumentQuery(t,e){return this.getDocument(t,new Bh(e)).next((t=>{let e=mc();return t.isFoundDocument()&&(e=e.insert(t.key,t)),e}))}getDocumentsMatchingCollectionGroupQuery(t,e,i){const n=e.collectionGroup;let r=mc();return this.indexManager.getCollectionParents(t,n).next((s=>Gh.forEach(s,(s=>{const o=function(t,e){return new uu(e,null,t.explicitOrderBy.slice(),t.filters.slice(),t.limit,t.limitType,t.startAt,t.endAt)}(e,s.child(n));return this.getDocumentsMatchingCollectionQuery(t,o,i).next((t=>{t.forEach(((t,e)=>{r=r.insert(t,e)}))}))})).next((()=>r))))}getDocumentsMatchingCollectionQuery(t,e,i){let n;return this.documentOverlayCache.getOverlaysForCollection(t,e.path,i.largestBatchId).next((r=>(n=r,this.remoteDocumentCache.getDocumentsMatchingQuery(t,e,i,n)))).next((t=>{n.forEach(((e,i)=>{const n=i.getKey();null===t.get(n)&&(t=t.insert(n,ru.newInvalidDocument(n)))}));let i=mc();return t.forEach(((t,r)=>{const s=n.get(t);void 0!==s&&Zu(s.mutation,r,eu.empty(),Rh.now()),ku(e,r)&&(i=i.insert(t,r))})),i}))}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sd{constructor(t){this.yt=t,this.Zn=new Map,this.ts=new Map}getBundleMetadata(t,e){return Gh.resolve(this.Zn.get(e))}saveBundleMetadata(t,e){var i;return this.Zn.set(e.id,{id:(i=e).id,version:i.version,createTime:jc(i.createTime)}),Gh.resolve()}getNamedQuery(t,e){return Gh.resolve(this.ts.get(e))}saveNamedQuery(t,e){return this.ts.set(e.name,function(t){return{name:t.name,query:yd(t.bundledQuery),readTime:jc(t.readTime)}}(e)),Gh.resolve()}}
/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Td{constructor(){this.overlays=new Zl(Bh.comparator),this.es=new Map}getOverlay(t,e){return Gh.resolve(this.overlays.get(e))}getOverlays(t,e){const i=vc();return Gh.forEach(e,(e=>this.getOverlay(t,e).next((t=>{null!==t&&i.set(e,t)})))).next((()=>i))}saveOverlays(t,e,i){return i.forEach(((i,n)=>{this.oe(t,e,n)})),Gh.resolve()}removeOverlaysForBatchId(t,e,i){const n=this.es.get(i);return void 0!==n&&(n.forEach((t=>this.overlays=this.overlays.remove(t))),this.es.delete(i)),Gh.resolve()}getOverlaysForCollection(t,e,i){const n=vc(),r=e.length+1,s=new Bh(e.child("")),o=this.overlays.getIteratorFrom(s);for(;o.hasNext();){const t=o.getNext().value,s=t.getKey();if(!e.isPrefixOf(s.path))break;s.path.length===r&&t.largestBatchId>i&&n.set(t.getKey(),t)}return Gh.resolve(n)}getOverlaysForCollectionGroup(t,e,i,n){let r=new Zl(((t,e)=>t-e));const s=this.overlays.getIterator();for(;s.hasNext();){const t=s.getNext().value;if(t.getKey().getCollectionGroup()===e&&t.largestBatchId>i){let e=r.get(t.largestBatchId);null===e&&(e=vc(),r=r.insert(t.largestBatchId,e)),e.set(t.getKey(),t)}}const o=vc(),a=r.getIterator();for(;a.hasNext()&&(a.getNext().value.forEach(((t,e)=>o.set(t,e))),!(o.size()>=n)););return Gh.resolve(o)}oe(t,e,i){const n=this.overlays.get(i.key);if(null!==n){const t=this.es.get(n.largestBatchId).delete(i.key);this.es.set(n.largestBatchId,t)}this.overlays=this.overlays.insert(i.key,new md(e,i));let r=this.es.get(e);void 0===r&&(r=Mc(),this.es.set(e,r)),this.es.set(e,r.add(i.key))}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Id{constructor(){this.ns=new Jl(qd.ss),this.rs=new Jl(qd.os)}isEmpty(){return this.ns.isEmpty()}addReference(t,e){const i=new qd(t,e);this.ns=this.ns.add(i),this.rs=this.rs.add(i)}us(t,e){t.forEach((t=>this.addReference(t,e)))}removeReference(t,e){this.cs(new qd(t,e))}hs(t,e){t.forEach((t=>this.removeReference(t,e)))}ls(t){const e=new Bh(new Nh([])),i=new qd(e,t),n=new qd(e,t+1),r=[];return this.rs.forEachInRange([i,n],(t=>{this.cs(t),r.push(t.key)})),r}fs(){this.ns.forEach((t=>this.cs(t)))}cs(t){this.ns=this.ns.delete(t),this.rs=this.rs.delete(t)}ds(t){const e=new Bh(new Nh([])),i=new qd(e,t),n=new qd(e,t+1);let r=Mc();return this.rs.forEachInRange([i,n],(t=>{r=r.add(t.key)})),r}containsKey(t){const e=new qd(t,0),i=this.ns.firstAfterOrEqual(e);return null!==i&&t.isEqual(i.key)}}class qd{constructor(t,e){this.key=t,this._s=e}static ss(t,e){return Bh.comparator(t.key,e.key)||qh(t._s,e._s)}static os(t,e){return qh(t._s,e._s)||Bh.comparator(t.key,e.key)}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cd{constructor(t,e){this.indexManager=t,this.referenceDelegate=e,this.mutationQueue=[],this.ws=1,this.gs=new Jl(qd.ss)}checkEmpty(t){return Gh.resolve(0===this.mutationQueue.length)}addMutationBatch(t,e,i,n){const r=this.ws;this.ws++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const s=new fd(r,e,i,n);this.mutationQueue.push(s);for(const e of n)this.gs=this.gs.add(new qd(e.key,r)),this.indexManager.addToCollectionParentIndex(t,e.key.path.popLast());return Gh.resolve(s)}lookupMutationBatch(t,e){return Gh.resolve(this.ys(e))}getNextMutationBatchAfterBatchId(t,e){const i=e+1,n=this.ps(i),r=n<0?0:n;return Gh.resolve(this.mutationQueue.length>r?this.mutationQueue[r]:null)}getHighestUnacknowledgedBatchId(){return Gh.resolve(0===this.mutationQueue.length?-1:this.ws-1)}getAllMutationBatches(t){return Gh.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,e){const i=new qd(e,0),n=new qd(e,Number.POSITIVE_INFINITY),r=[];return this.gs.forEachInRange([i,n],(t=>{const e=this.ys(t._s);r.push(e)})),Gh.resolve(r)}getAllMutationBatchesAffectingDocumentKeys(t,e){let i=new Jl(qh);return e.forEach((t=>{const e=new qd(t,0),n=new qd(t,Number.POSITIVE_INFINITY);this.gs.forEachInRange([e,n],(t=>{i=i.add(t._s)}))})),Gh.resolve(this.Is(i))}getAllMutationBatchesAffectingQuery(t,e){const i=e.path,n=i.length+1;let r=i;Bh.isDocumentKey(r)||(r=r.child(""));const s=new qd(new Bh(r),0);let o=new Jl(qh);return this.gs.forEachWhile((t=>{const e=t.key.path;return!!i.isPrefixOf(e)&&(e.length===n&&(o=o.add(t._s)),!0)}),s),Gh.resolve(this.Is(o))}Is(t){const e=[];return t.forEach((t=>{const i=this.ys(t);null!==i&&e.push(i)})),e}removeMutationBatch(t,e){mh(0===this.Ts(e.batchId,"removed")),this.mutationQueue.shift();let i=this.gs;return Gh.forEach(e.mutations,(n=>{const r=new qd(n.key,e.batchId);return i=i.delete(r),this.referenceDelegate.markPotentiallyOrphaned(t,n.key)})).next((()=>{this.gs=i}))}An(t){}containsKey(t,e){const i=new qd(e,0),n=this.gs.firstAfterOrEqual(i);return Gh.resolve(e.isEqual(n&&n.key))}performConsistencyCheck(t){return this.mutationQueue.length,Gh.resolve()}Ts(t,e){return this.ps(t)}ps(t){return 0===this.mutationQueue.length?0:t-this.mutationQueue[0].batchId}ys(t){const e=this.ps(t);return e<0||e>=this.mutationQueue.length?null:this.mutationQueue[e]}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rd{constructor(t){this.Es=t,this.docs=new Zl(Bh.comparator),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,e){const i=e.key,n=this.docs.get(i),r=n?n.size:0,s=this.Es(e);return this.docs=this.docs.insert(i,{document:e.mutableCopy(),size:s}),this.size+=s-r,this.indexManager.addToCollectionParentIndex(t,i.path.popLast())}removeEntry(t){const e=this.docs.get(t);e&&(this.docs=this.docs.remove(t),this.size-=e.size)}getEntry(t,e){const i=this.docs.get(e);return Gh.resolve(i?i.document.mutableCopy():ru.newInvalidDocument(e))}getEntries(t,e){let i=fc();return e.forEach((t=>{const e=this.docs.get(t);i=i.insert(t,e?e.document.mutableCopy():ru.newInvalidDocument(t))})),Gh.resolve(i)}getDocumentsMatchingQuery(t,e,i,n){let r=fc();const s=e.path,o=new Bh(s.child("")),a=this.docs.getIteratorFrom(o);for(;a.hasNext();){const{key:t,value:{document:o}}=a.getNext();if(!s.isPrefixOf(t.path))break;t.path.length>s.length+1||Vh(jh(o),i)<=0||(n.has(o.key)||ku(e,o))&&(r=r.insert(o.key,o.mutableCopy()))}return Gh.resolve(r)}getAllFromCollectionGroup(t,e,i,n){ph()}As(t,e){return Gh.forEach(this.docs,(t=>e(t)))}newChangeBuffer(t){return new Dd(this)}getSize(t){return Gh.resolve(this.size)}}class Dd extends kd{constructor(t){super(),this.Yn=t}applyChanges(t){const e=[];return this.changes.forEach(((i,n)=>{n.isValidDocument()?e.push(this.Yn.addEntry(t,n)):this.Yn.removeEntry(i)})),Gh.waitFor(e)}getFromCache(t,e){return this.Yn.getEntry(t,e)}getAllFromCache(t,e){return this.Yn.getEntries(t,e)}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ld{constructor(t){this.persistence=t,this.Rs=new cc((t=>au(t)),hu),this.lastRemoteSnapshotVersion=Dh.min(),this.highestTargetId=0,this.bs=0,this.Ps=new Id,this.targetCount=0,this.vs=xd.Pn()}forEachTarget(t,e){return this.Rs.forEach(((t,i)=>e(i))),Gh.resolve()}getLastRemoteSnapshotVersion(t){return Gh.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return Gh.resolve(this.bs)}allocateTargetId(t){return this.highestTargetId=this.vs.next(),Gh.resolve(this.highestTargetId)}setTargetsMetadata(t,e,i){return i&&(this.lastRemoteSnapshotVersion=i),e>this.bs&&(this.bs=e),Gh.resolve()}Dn(t){this.Rs.set(t.target,t);const e=t.targetId;e>this.highestTargetId&&(this.vs=new xd(e),this.highestTargetId=e),t.sequenceNumber>this.bs&&(this.bs=t.sequenceNumber)}addTargetData(t,e){return this.Dn(e),this.targetCount+=1,Gh.resolve()}updateTargetData(t,e){return this.Dn(e),Gh.resolve()}removeTargetData(t,e){return this.Rs.delete(e.target),this.Ps.ls(e.targetId),this.targetCount-=1,Gh.resolve()}removeTargets(t,e,i){let n=0;const r=[];return this.Rs.forEach(((s,o)=>{o.sequenceNumber<=e&&null===i.get(o.targetId)&&(this.Rs.delete(s),r.push(this.removeMatchingKeysForTargetId(t,o.targetId)),n++)})),Gh.waitFor(r).next((()=>n))}getTargetCount(t){return Gh.resolve(this.targetCount)}getTargetData(t,e){const i=this.Rs.get(e)||null;return Gh.resolve(i)}addMatchingKeys(t,e,i){return this.Ps.us(e,i),Gh.resolve()}removeMatchingKeys(t,e,i){this.Ps.hs(e,i);const n=this.persistence.referenceDelegate,r=[];return n&&e.forEach((e=>{r.push(n.markPotentiallyOrphaned(t,e))})),Gh.waitFor(r)}removeMatchingKeysForTargetId(t,e){return this.Ps.ls(e),Gh.resolve()}getMatchingKeysForTargetId(t,e){const i=this.Ps.ds(e);return Gh.resolve(i)}containsKey(t,e){return Gh.resolve(this.Ps.containsKey(e))}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nd{constructor(t,e){this.Vs={},this.overlays={},this.Ss=new Yh(0),this.Ds=!1,this.Ds=!0,this.referenceDelegate=t(this),this.Cs=new Ld(this),this.indexManager=new wd,this.remoteDocumentCache=function(t){return new Rd(t)}((t=>this.referenceDelegate.xs(t))),this.yt=new vd(e),this.Ns=new Sd(this.yt)}start(){return Promise.resolve()}shutdown(){return this.Ds=!1,Promise.resolve()}get started(){return this.Ds}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let e=this.overlays[t.toKey()];return e||(e=new Td,this.overlays[t.toKey()]=e),e}getMutationQueue(t,e){let i=this.Vs[t.toKey()];return i||(i=new Cd(e,this.referenceDelegate),this.Vs[t.toKey()]=i),i}getTargetCache(){return this.Cs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ns}runTransaction(t,e,i){uh("MemoryPersistence","Starting transaction:",t);const n=new Od(this.Ss.next());return this.referenceDelegate.ks(),i(n).next((t=>this.referenceDelegate.Os(n).next((()=>t)))).toPromise().then((t=>(n.raiseOnCommittedEvent(),t)))}Ms(t,e){return Gh.or(Object.values(this.Vs).map((i=>()=>i.containsKey(t,e))))}}class Od extends Wh{constructor(t){super(),this.currentSequenceNumber=t}}class Pd{constructor(t){this.persistence=t,this.Fs=new Id,this.$s=null}static Bs(t){return new Pd(t)}get Ls(){if(this.$s)return this.$s;throw ph()}addReference(t,e,i){return this.Fs.addReference(i,e),this.Ls.delete(i.toString()),Gh.resolve()}removeReference(t,e,i){return this.Fs.removeReference(i,e),this.Ls.add(i.toString()),Gh.resolve()}markPotentiallyOrphaned(t,e){return this.Ls.add(e.toString()),Gh.resolve()}removeTarget(t,e){this.Fs.ls(e.targetId).forEach((t=>this.Ls.add(t.toString())));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(t,e.targetId).next((t=>{t.forEach((t=>this.Ls.add(t.toString())))})).next((()=>i.removeTargetData(t,e)))}ks(){this.$s=new Set}Os(t){const e=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Gh.forEach(this.Ls,(i=>{const n=Bh.fromPath(i);return this.qs(t,n).next((t=>{t||e.removeEntry(n,Dh.min())}))})).next((()=>(this.$s=null,e.apply(t))))}updateLimboDocument(t,e){return this.qs(t,e).next((t=>{t?this.Ls.delete(e.toString()):this.Ls.add(e.toString())}))}xs(t){return 0}qs(t,e){return Gh.or([()=>Gh.resolve(this.Fs.containsKey(e)),()=>this.persistence.getTargetCache().containsKey(t,e),()=>this.persistence.Ms(t,e)])}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class Bd{constructor(t,e,i,n){this.targetId=t,this.fromCache=e,this.Si=i,this.Di=n}static Ci(t,e){let i=Mc(),n=Mc();for(const t of e.docChanges)switch(t.type){case 0:i=i.add(t.doc.key);break;case 1:n=n.add(t.doc.key)}return new Bd(t,e.fromCache,i,n)}}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ud{constructor(){this.xi=!1}initialize(t,e){this.Ni=t,this.indexManager=e,this.xi=!0}getDocumentsMatchingQuery(t,e,i,n){return this.ki(t,e).next((r=>r||this.Oi(t,e,n,i))).next((i=>i||this.Mi(t,e)))}ki(t,e){if(fu(e))return Gh.resolve(null);let i=yu(e);return this.indexManager.getIndexType(t,i).next((n=>0===n?null:(null!==e.limit&&1===n&&(e=wu(e,null,"F"),i=yu(e)),this.indexManager.getDocumentsMatchingTarget(t,i).next((n=>{const r=Mc(...n);return this.Ni.getDocuments(t,r).next((n=>this.indexManager.getMinOffset(t,i).next((i=>{const s=this.Fi(e,n);return this.$i(e,s,r,i.readTime)?this.ki(t,wu(e,null,"F")):this.Bi(t,s,e,i)}))))})))))}Oi(t,e,i,n){return fu(e)||n.isEqual(Dh.min())?this.Mi(t,e):this.Ni.getDocuments(t,i).next((r=>{const s=this.Fi(e,r);return this.$i(e,s,i,n)?this.Mi(t,e):(lh()<=j.DEBUG&&uh("QueryEngine","Re-using previous result from %s to execute query: %s",n.toString(),xu(e)),this.Bi(t,s,e,Fh(n,-1)))}))}Fi(t,e){let i=new Jl(Eu(t));return e.forEach(((e,n)=>{ku(t,n)&&(i=i.add(n))})),i}$i(t,e,i,n){if(null===t.limit)return!1;if(i.size!==e.size)return!0;const r="F"===t.limitType?e.last():e.first();return!!r&&(r.hasPendingWrites||r.version.compareTo(n)>0)}Mi(t,e){return lh()<=j.DEBUG&&uh("QueryEngine","Using full collection scan to execute query:",xu(e)),this.Ni.getDocumentsMatchingQuery(t,e,zh.min())}Bi(t,e,i,n){return this.Ni.getDocumentsMatchingQuery(t,i,n).next((t=>(e.forEach((e=>{t=t.insert(e.key,e)})),t)))}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fd{constructor(t,e,i,n){this.persistence=t,this.Li=e,this.yt=n,this.qi=new Zl(qh),this.Ui=new cc((t=>au(t)),hu),this.Ki=new Map,this.Gi=t.getRemoteDocumentCache(),this.Cs=t.getTargetCache(),this.Ns=t.getBundleCache(),this.Qi(i)}Qi(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new Ed(this.Gi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Gi.setIndexManager(this.indexManager),this.Li.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(e=>t.collect(e,this.qi)))}}function jd(t,e,i,n){return new Fd(t,e,i,n)}async function zd(t,e){const i=gh(t);return await i.persistence.runTransaction("Handle user change","readonly",(t=>{let n;return i.mutationQueue.getAllMutationBatches(t).next((r=>(n=r,i.Qi(e),i.mutationQueue.getAllMutationBatches(t)))).next((e=>{const r=[],s=[];let o=Mc();for(const t of n){r.push(t.batchId);for(const e of t.mutations)o=o.add(e.key)}for(const t of e){s.push(t.batchId);for(const e of t.mutations)o=o.add(e.key)}return i.localDocuments.getDocuments(t,o).next((t=>({ji:t,removedBatchIds:r,addedBatchIds:s})))}))}))}function Vd(t){const e=gh(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(t=>e.Cs.getLastRemoteSnapshotVersion(t)))}function Hd(t,e,i){let n=Mc(),r=Mc();return i.forEach((t=>n=n.add(t))),e.getEntries(t,n).next((t=>{let n=fc();return i.forEach(((i,s)=>{const o=t.get(i);s.isFoundDocument()!==o.isFoundDocument()&&(r=r.add(i)),s.isNoDocument()&&s.version.isEqual(Dh.min())?(e.removeEntry(i,s.readTime),n=n.insert(i,s)):!o.isValidDocument()||s.version.compareTo(o.version)>0||0===s.version.compareTo(o.version)&&o.hasPendingWrites?(e.addEntry(s),n=n.insert(i,s)):uh("LocalStore","Ignoring outdated watch update for ",i,". Current version:",o.version," Watch version:",s.version)})),{Wi:n,zi:r}}))}function Wd(t,e){const i=gh(t);return i.persistence.runTransaction("Get next mutation batch","readonly",(t=>(void 0===e&&(e=-1),i.mutationQueue.getNextMutationBatchAfterBatchId(t,e))))}function Kd(t,e){const i=gh(t);return i.persistence.runTransaction("Allocate target","readwrite",(t=>{let n;return i.Cs.getTargetData(t,e).next((r=>r?(n=r,Gh.resolve(n)):i.Cs.allocateTargetId(t).next((r=>(n=new gd(e,r,0,t.currentSequenceNumber),i.Cs.addTargetData(t,n).next((()=>n)))))))})).then((t=>{const n=i.qi.get(t.targetId);return(null===n||t.snapshotVersion.compareTo(n.snapshotVersion)>0)&&(i.qi=i.qi.insert(t.targetId,t),i.Ui.set(e,t.targetId)),t}))}async function Gd(t,e,i){const n=gh(t),r=n.qi.get(e),s=i?"readwrite":"readwrite-primary";try{i||await n.persistence.runTransaction("Release target",s,(t=>n.persistence.referenceDelegate.removeTarget(t,r)))}catch(t){if(!Qh(t))throw t;uh("LocalStore",`Failed to update sequence numbers for target ${e}: ${t}`)}n.qi=n.qi.remove(e),n.Ui.delete(r.target)}function Qd(t,e,i){const n=gh(t);let r=Dh.min(),s=Mc();return n.persistence.runTransaction("Execute query","readonly",(t=>function(t,e,i){const n=gh(t),r=n.Ui.get(i);return void 0!==r?Gh.resolve(n.qi.get(r)):n.Cs.getTargetData(e,i)}(n,t,yu(e)).next((e=>{if(e)return r=e.lastLimboFreeSnapshotVersion,n.Cs.getMatchingKeysForTargetId(t,e.targetId).next((t=>{s=t}))})).next((()=>n.Li.getDocumentsMatchingQuery(t,e,i?r:Dh.min(),i?s:Mc()))).next((t=>(Yd(n,Au(e),t),{documents:t,Hi:s})))))}function Yd(t,e,i){let n=t.Ki.get(e)||Dh.min();i.forEach(((t,e)=>{e.readTime.compareTo(n)>0&&(n=e.readTime)})),t.Ki.set(e,n)}class Zd{constructor(){this.activeTargetIds=kc()}er(t){this.activeTargetIds=this.activeTargetIds.add(t)}nr(t){this.activeTargetIds=this.activeTargetIds.delete(t)}tr(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class $d{constructor(){this.Lr=new Zd,this.qr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,e,i){}addLocalQueryTarget(t){return this.Lr.er(t),this.qr[t]||"not-current"}updateQueryState(t,e,i){this.qr[t]=e}removeLocalQueryTarget(t){this.Lr.nr(t)}isLocalQueryTarget(t){return this.Lr.activeTargetIds.has(t)}clearQueryState(t){delete this.qr[t]}getAllActiveQueryTargets(){return this.Lr.activeTargetIds}isActiveQueryTarget(t){return this.Lr.activeTargetIds.has(t)}start(){return this.Lr=new Zd,Promise.resolve()}handleUserChange(t,e,i){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xd{Ur(t){}shutdown(){}}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jd{constructor(){this.Kr=()=>this.Gr(),this.Qr=()=>this.jr(),this.Wr=[],this.zr()}Ur(t){this.Wr.push(t)}shutdown(){window.removeEventListener("online",this.Kr),window.removeEventListener("offline",this.Qr)}zr(){window.addEventListener("online",this.Kr),window.addEventListener("offline",this.Qr)}Gr(){uh("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const t of this.Wr)t(0)}jr(){uh("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const t of this.Wr)t(1)}static C(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tf={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ef{constructor(t){this.Hr=t.Hr,this.Jr=t.Jr}Yr(t){this.Xr=t}Zr(t){this.eo=t}onMessage(t){this.no=t}close(){this.Jr()}send(t){this.Hr(t)}so(){this.Xr()}io(t){this.eo(t)}ro(t){this.no(t)}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nf extends class{constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const e=t.ssl?"https":"http";this.oo=e+"://"+t.host,this.uo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}get co(){return!1}ao(t,e,i,n,r){const s=this.ho(t,e);uh("RestConnection","Sending: ",s,i);const o={};return this.lo(o,n,r),this.fo(t,s,o,i).then((t=>(uh("RestConnection","Received: ",t),t)),(e=>{throw dh("RestConnection",`${t} failed with error: `,e,"url: ",s,"request:",i),e}))}_o(t,e,i,n,r,s){return this.ao(t,e,i,n,r)}lo(t,e,i){t["X-Goog-Api-Client"]="gl-js/ fire/"+ah,t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),e&&e.headers.forEach(((e,i)=>t[i]=e)),i&&i.headers.forEach(((e,i)=>t[i]=e))}ho(t,e){const i=tf[t];return`${this.oo}/v1/${e}:${i}`}}{constructor(t){super(t),this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams}fo(t,e,i,n){return new Promise(((r,s)=>{const o=new rh;o.setWithCredentials(!0),o.listenOnce(Ja.COMPLETE,(()=>{try{switch(o.getLastErrorCode()){case Xa.NO_ERROR:const e=o.getResponseJson();uh("Connection","XHR received:",JSON.stringify(e)),r(e);break;case Xa.TIMEOUT:uh("Connection",'RPC "'+t+'" timed out'),s(new yh(vh.DEADLINE_EXCEEDED,"Request time out"));break;case Xa.HTTP_ERROR:const i=o.getStatus();if(uh("Connection",'RPC "'+t+'" failed with status:',i,"response text:",o.getResponseText()),i>0){let t=o.getResponseJson();Array.isArray(t)&&(t=t[0]);const e=null==t?void 0:t.error;if(e&&e.status&&e.message){const t=function(t){const e=t.toLowerCase().replace(/_/g,"-");return Object.values(vh).indexOf(e)>=0?e:vh.UNKNOWN}(e.status);s(new yh(t,e.message))}else s(new yh(vh.UNKNOWN,"Server responded with status "+o.getStatus()))}else s(new yh(vh.UNAVAILABLE,"Connection failed."));break;default:ph()}}finally{uh("Connection",'RPC "'+t+'" completed.')}}));const a=JSON.stringify(n);o.send(e,"POST",a,i,15)}))}wo(t,e,i){const n=[this.oo,"/","google.firestore.v1.Firestore","/",t,"/channel"],r=Za(),s=$a(),o={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(o.xmlHttpFactory=new ih({})),this.lo(o.initMessageHeaders,e,i),o.encodeInitMessageHeaders=!0;const a=n.join("");uh("Connection","Creating WebChannel: "+a,o);const h=r.createWebChannel(a,o);let l=!1,u=!1;const c=new ef({Hr:t=>{u?uh("Connection","Not sending because WebChannel is closed:",t):(l||(uh("Connection","Opening WebChannel transport."),h.open(),l=!0),uh("Connection","WebChannel sending:",t),h.send(t))},Jr:()=>h.close()}),d=(t,e,i)=>{t.listen(e,(t=>{try{i(t)}catch(t){setTimeout((()=>{throw t}),0)}}))};return d(h,nh.EventType.OPEN,(()=>{u||uh("Connection","WebChannel transport opened.")})),d(h,nh.EventType.CLOSE,(()=>{u||(u=!0,uh("Connection","WebChannel transport closed"),c.io())})),d(h,nh.EventType.ERROR,(t=>{u||(u=!0,dh("Connection","WebChannel transport errored:",t),c.io(new yh(vh.UNAVAILABLE,"The operation could not be completed")))})),d(h,nh.EventType.MESSAGE,(t=>{var e;if(!u){const i=t.data[0];mh(!!i);const n=i,r=n.error||(null===(e=n[0])||void 0===e?void 0:e.error);if(r){uh("Connection","WebChannel received error:",r);const t=r.status;let e=function(t){const e=ac[t];if(void 0!==e)return uc(e)}(t),i=r.message;void 0===e&&(e=vh.INTERNAL,i="Unknown error status: "+t+" with message "+r.message),u=!0,c.io(new yh(e,i)),h.close()}else uh("Connection","WebChannel received:",i),c.ro(i)}})),d(s,th.STAT_EVENT,(t=>{t.stat===eh.PROXY?uh("Connection","Detected buffering proxy"):t.stat===eh.NOPROXY&&uh("Connection","Detected no buffering proxy")})),setTimeout((()=>{c.so()}),0),c}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rf(){return"undefined"!=typeof document?document:null}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sf(t){return new Pc(t,!0)}class of{constructor(t,e,i=1e3,n=1.5,r=6e4){this.Hs=t,this.timerId=e,this.mo=i,this.yo=n,this.po=r,this.Io=0,this.To=null,this.Eo=Date.now(),this.reset()}reset(){this.Io=0}Ao(){this.Io=this.po}Ro(t){this.cancel();const e=Math.floor(this.Io+this.bo()),i=Math.max(0,Date.now()-this.Eo),n=Math.max(0,e-i);n>0&&uh("ExponentialBackoff",`Backing off for ${n} ms (base delay: ${this.Io} ms, delay with jitter: ${e} ms, last attempt: ${i} ms ago)`),this.To=this.Hs.enqueueAfterDelay(this.timerId,n,(()=>(this.Eo=Date.now(),t()))),this.Io*=this.yo,this.Io<this.mo&&(this.Io=this.mo),this.Io>this.po&&(this.Io=this.po)}Po(){null!==this.To&&(this.To.skipDelay(),this.To=null)}cancel(){null!==this.To&&(this.To.cancel(),this.To=null)}bo(){return(Math.random()-.5)*this.Io}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class af{constructor(t,e,i,n,r,s,o,a){this.Hs=t,this.vo=i,this.Vo=n,this.connection=r,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=o,this.listener=a,this.state=0,this.So=0,this.Do=null,this.Co=null,this.stream=null,this.xo=new of(t,e)}No(){return 1===this.state||5===this.state||this.ko()}ko(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Oo()}async stop(){this.No()&&await this.close(0)}Mo(){this.state=0,this.xo.reset()}Fo(){this.ko()&&null===this.Do&&(this.Do=this.Hs.enqueueAfterDelay(this.vo,6e4,(()=>this.$o())))}Bo(t){this.Lo(),this.stream.send(t)}async $o(){if(this.ko())return this.close(0)}Lo(){this.Do&&(this.Do.cancel(),this.Do=null)}qo(){this.Co&&(this.Co.cancel(),this.Co=null)}async close(t,e){this.Lo(),this.qo(),this.xo.cancel(),this.So++,4!==t?this.xo.reset():e&&e.code===vh.RESOURCE_EXHAUSTED?(ch(e.toString()),ch("Using maximum backoff delay to prevent overloading the backend."),this.xo.Ao()):e&&e.code===vh.UNAUTHENTICATED&&3!==this.state&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),null!==this.stream&&(this.Uo(),this.stream.close(),this.stream=null),this.state=t,await this.listener.Zr(e)}Uo(){}auth(){this.state=1;const t=this.Ko(this.So),e=this.So;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([t,i])=>{this.So===e&&this.Go(t,i)}),(e=>{t((()=>{const t=new yh(vh.UNKNOWN,"Fetching auth token failed: "+e.message);return this.Qo(t)}))}))}Go(t,e){const i=this.Ko(this.So);this.stream=this.jo(t,e),this.stream.Yr((()=>{i((()=>(this.state=2,this.Co=this.Hs.enqueueAfterDelay(this.Vo,1e4,(()=>(this.ko()&&(this.state=3),Promise.resolve()))),this.listener.Yr())))})),this.stream.Zr((t=>{i((()=>this.Qo(t)))})),this.stream.onMessage((t=>{i((()=>this.onMessage(t)))}))}Oo(){this.state=5,this.xo.Ro((async()=>{this.state=0,this.start()}))}Qo(t){return uh("PersistentStream",`close with error: ${t}`),this.stream=null,this.close(4,t)}Ko(t){return e=>{this.Hs.enqueueAndForget((()=>this.So===t?e():(uh("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class hf extends af{constructor(t,e,i,n,r,s){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",e,i,n,s),this.yt=r}jo(t,e){return this.connection.wo("Listen",t,e)}onMessage(t){this.xo.reset();const e=function(t,e){let i;if("targetChange"in e){e.targetChange;const n=function(t){return"NO_CHANGE"===t?0:"ADD"===t?1:"REMOVE"===t?2:"CURRENT"===t?3:"RESET"===t?4:ph()}(e.targetChange.targetChangeType||"NO_CHANGE"),r=e.targetChange.targetIds||[],s=function(t,e){return t.wt?(mh(void 0===e||"string"==typeof e),rl.fromBase64String(e||"")):(mh(void 0===e||e instanceof Uint8Array),rl.fromUint8Array(e||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(t){const e=void 0===t.code?vh.UNKNOWN:uc(t.code);return new yh(e,t.message||"")}(o);i=new Ic(n,r,s,a||null)}else if("documentChange"in e){e.documentChange;const n=e.documentChange;n.document,n.document.name,n.document.updateTime;const r=Wc(t,n.document.name),s=jc(n.document.updateTime),o=n.document.createTime?jc(n.document.createTime):Dh.min(),a=new iu({mapValue:{fields:n.document.fields}}),h=ru.newFoundDocument(r,s,o,a),l=n.targetIds||[],u=n.removedTargetIds||[];i=new Sc(l,u,h.key,h)}else if("documentDelete"in e){e.documentDelete;const n=e.documentDelete;n.document;const r=Wc(t,n.document),s=n.readTime?jc(n.readTime):Dh.min(),o=ru.newNoDocument(r,s),a=n.removedTargetIds||[];i=new Sc([],a,o.key,o)}else if("documentRemove"in e){e.documentRemove;const n=e.documentRemove;n.document;const r=Wc(t,n.document),s=n.removedTargetIds||[];i=new Sc([],s,r,null)}else{if(!("filter"in e))return ph();{e.filter;const t=e.filter;t.targetId;const n=t.count||0,r=new oc(n),s=t.targetId;i=new Tc(s,r)}}return i}(this.yt,t),i=function(t){if(!("targetChange"in t))return Dh.min();const e=t.targetChange;return e.targetIds&&e.targetIds.length?Dh.min():e.readTime?jc(e.readTime):Dh.min()}(t);return this.listener.Wo(e,i)}zo(t){const e={};e.database=Qc(this.yt),e.addTarget=function(t,e){let i;const n=e.target;return i=lu(n)?{documents:Xc(t,n)}:{query:Jc(t,n)},i.targetId=e.targetId,e.resumeToken.approximateByteSize()>0?i.resumeToken=Uc(t,e.resumeToken):e.snapshotVersion.compareTo(Dh.min())>0&&(i.readTime=Bc(t,e.snapshotVersion.toTimestamp())),i}(this.yt,t);const i=function(t,e){const i=function(t,e){switch(e){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return ph()}}(0,e.purpose);return null==i?null:{"goog-listen-tags":i}}(this.yt,t);i&&(e.labels=i),this.Bo(e)}Ho(t){const e={};e.database=Qc(this.yt),e.removeTarget=t,this.Bo(e)}}class lf extends af{constructor(t,e,i,n,r,s){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",e,i,n,s),this.yt=r,this.Jo=!1}get Yo(){return this.Jo}start(){this.Jo=!1,this.lastStreamToken=void 0,super.start()}Uo(){this.Jo&&this.Xo([])}jo(t,e){return this.connection.wo("Write",t,e)}onMessage(t){if(mh(!!t.streamToken),this.lastStreamToken=t.streamToken,this.Jo){this.xo.reset();const e=function(t,e){return t&&t.length>0?(mh(void 0!==e),t.map((t=>function(t,e){let i=t.updateTime?jc(t.updateTime):jc(e);return i.isEqual(Dh.min())&&(i=jc(e)),new Hu(i,t.transformResults||[])}(t,e)))):[]}(t.writeResults,t.commitTime),i=jc(t.commitTime);return this.listener.Zo(i,e)}return mh(!t.writeResults||0===t.writeResults.length),this.Jo=!0,this.listener.tu()}eu(){const t={};t.database=Qc(this.yt),this.Bo(t)}Xo(t){const e={streamToken:this.lastStreamToken,writes:t.map((t=>$c(this.yt,t)))};this.Bo(e)}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uf extends class{}{constructor(t,e,i,n){super(),this.authCredentials=t,this.appCheckCredentials=e,this.connection=i,this.yt=n,this.nu=!1}su(){if(this.nu)throw new yh(vh.FAILED_PRECONDITION,"The client has already been terminated.")}ao(t,e,i){return this.su(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([n,r])=>this.connection.ao(t,e,i,n,r))).catch((t=>{throw"FirebaseError"===t.name?(t.code===vh.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),t):new yh(vh.UNKNOWN,t.toString())}))}_o(t,e,i,n){return this.su(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([r,s])=>this.connection._o(t,e,i,r,s,n))).catch((t=>{throw"FirebaseError"===t.name?(t.code===vh.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),t):new yh(vh.UNKNOWN,t.toString())}))}terminate(){this.nu=!0}}class cf{constructor(t,e){this.asyncQueue=t,this.onlineStateHandler=e,this.state="Unknown",this.iu=0,this.ru=null,this.ou=!0}uu(){0===this.iu&&(this.cu("Unknown"),this.ru=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this.ru=null,this.au("Backend didn't respond within 10 seconds."),this.cu("Offline"),Promise.resolve()))))}hu(t){"Online"===this.state?this.cu("Unknown"):(this.iu++,this.iu>=1&&(this.lu(),this.au(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.cu("Offline")))}set(t){this.lu(),this.iu=0,"Online"===t&&(this.ou=!1),this.cu(t)}cu(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}au(t){const e=`Could not reach Cloud Firestore backend. ${t}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.ou?(ch(e),this.ou=!1):uh("OnlineStateTracker",e)}lu(){null!==this.ru&&(this.ru.cancel(),this.ru=null)}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class df{constructor(t,e,i,n,r){this.localStore=t,this.datastore=e,this.asyncQueue=i,this.remoteSyncer={},this.fu=[],this.du=new Map,this._u=new Set,this.wu=[],this.mu=r,this.mu.Ur((t=>{i.enqueueAndForget((async()=>{_f(this)&&(uh("RemoteStore","Restarting streams for network reachability change."),await async function(t){const e=gh(t);e._u.add(4),await pf(e),e.gu.set("Unknown"),e._u.delete(4),await ff(e)}(this))}))})),this.gu=new cf(i,n)}}async function ff(t){if(_f(t))for(const e of t.wu)await e(!0)}async function pf(t){for(const e of t.wu)await e(!1)}function mf(t,e){const i=gh(t);i.du.has(e.targetId)||(i.du.set(e.targetId,e),wf(i)?bf(i):Uf(i).ko()&&vf(i,e))}function gf(t,e){const i=gh(t),n=Uf(i);i.du.delete(e),n.ko()&&yf(i,e),0===i.du.size&&(n.ko()?n.Fo():_f(i)&&i.gu.set("Unknown"))}function vf(t,e){t.yu.Ot(e.targetId),Uf(t).zo(e)}function yf(t,e){t.yu.Ot(e),Uf(t).Ho(e)}function bf(t){t.yu=new Cc({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),ne:e=>t.du.get(e)||null}),Uf(t).start(),t.gu.uu()}function wf(t){return _f(t)&&!Uf(t).No()&&t.du.size>0}function _f(t){return 0===gh(t)._u.size}function Mf(t){t.yu=void 0}async function xf(t){t.du.forEach(((e,i)=>{vf(t,e)}))}async function kf(t,e){Mf(t),wf(t)?(t.gu.hu(e),bf(t)):t.gu.set("Unknown")}async function Af(t,e,i){if(t.gu.set("Online"),e instanceof Ic&&2===e.state&&e.cause)try{await async function(t,e){const i=e.cause;for(const n of e.targetIds)t.du.has(n)&&(await t.remoteSyncer.rejectListen(n,i),t.du.delete(n),t.yu.removeTarget(n))}(t,e)}catch(i){uh("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),i),await Ef(t,i)}else if(e instanceof Sc?t.yu.Kt(e):e instanceof Tc?t.yu.Jt(e):t.yu.jt(e),!i.isEqual(Dh.min()))try{const e=await Vd(t.localStore);i.compareTo(e)>=0&&await function(t,e){const i=t.yu.Zt(e);return i.targetChanges.forEach(((i,n)=>{if(i.resumeToken.approximateByteSize()>0){const r=t.du.get(n);r&&t.du.set(n,r.withResumeToken(i.resumeToken,e))}})),i.targetMismatches.forEach((e=>{const i=t.du.get(e);if(!i)return;t.du.set(e,i.withResumeToken(rl.EMPTY_BYTE_STRING,i.snapshotVersion)),yf(t,e);const n=new gd(i.target,e,1,i.sequenceNumber);vf(t,n)})),t.remoteSyncer.applyRemoteEvent(i)}(t,i)}catch(e){uh("RemoteStore","Failed to raise snapshot:",e),await Ef(t,e)}}async function Ef(t,e,i){if(!Qh(e))throw e;t._u.add(1),await pf(t),t.gu.set("Offline"),i||(i=()=>Vd(t.localStore)),t.asyncQueue.enqueueRetryable((async()=>{uh("RemoteStore","Retrying IndexedDB access"),await i(),t._u.delete(1),await ff(t)}))}function Sf(t,e){return e().catch((i=>Ef(t,i,e)))}async function Tf(t){const e=gh(t),i=Ff(e);let n=e.fu.length>0?e.fu[e.fu.length-1].batchId:-1;for(;If(e);)try{const t=await Wd(e.localStore,n);if(null===t){0===e.fu.length&&i.Fo();break}n=t.batchId,qf(e,t)}catch(t){await Ef(e,t)}Cf(e)&&Rf(e)}function If(t){return _f(t)&&t.fu.length<10}function qf(t,e){t.fu.push(e);const i=Ff(t);i.ko()&&i.Yo&&i.Xo(e.mutations)}function Cf(t){return _f(t)&&!Ff(t).No()&&t.fu.length>0}function Rf(t){Ff(t).start()}async function Df(t){Ff(t).eu()}async function Lf(t){const e=Ff(t);for(const i of t.fu)e.Xo(i.mutations)}async function Nf(t,e,i){const n=t.fu.shift(),r=pd.from(n,e,i);await Sf(t,(()=>t.remoteSyncer.applySuccessfulWrite(r))),await Tf(t)}async function Of(t,e){e&&Ff(t).Yo&&await async function(t,e){if(lc(i=e.code)&&i!==vh.ABORTED){const i=t.fu.shift();Ff(t).Mo(),await Sf(t,(()=>t.remoteSyncer.rejectFailedWrite(i.batchId,e))),await Tf(t)}var i}(t,e),Cf(t)&&Rf(t)}async function Pf(t,e){const i=gh(t);i.asyncQueue.verifyOperationInProgress(),uh("RemoteStore","RemoteStore received new credentials");const n=_f(i);i._u.add(3),await pf(i),n&&i.gu.set("Unknown"),await i.remoteSyncer.handleCredentialChange(e),i._u.delete(3),await ff(i)}async function Bf(t,e){const i=gh(t);e?(i._u.delete(2),await ff(i)):e||(i._u.add(2),await pf(i),i.gu.set("Unknown"))}function Uf(t){return t.pu||(t.pu=function(t,e,i){const n=gh(t);return n.su(),new hf(e,n.connection,n.authCredentials,n.appCheckCredentials,n.yt,i)}(t.datastore,t.asyncQueue,{Yr:xf.bind(null,t),Zr:kf.bind(null,t),Wo:Af.bind(null,t)}),t.wu.push((async e=>{e?(t.pu.Mo(),wf(t)?bf(t):t.gu.set("Unknown")):(await t.pu.stop(),Mf(t))}))),t.pu}function Ff(t){return t.Iu||(t.Iu=function(t,e,i){const n=gh(t);return n.su(),new lf(e,n.connection,n.authCredentials,n.appCheckCredentials,n.yt,i)}(t.datastore,t.asyncQueue,{Yr:Df.bind(null,t),Zr:Of.bind(null,t),tu:Lf.bind(null,t),Zo:Nf.bind(null,t)}),t.wu.push((async e=>{e?(t.Iu.Mo(),await Tf(t)):(await t.Iu.stop(),t.fu.length>0&&(uh("RemoteStore",`Stopping write stream with ${t.fu.length} pending writes`),t.fu=[]))}))),t.Iu
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */}class jf{constructor(t,e,i,n,r){this.asyncQueue=t,this.timerId=e,this.targetTimeMs=i,this.op=n,this.removalCallback=r,this.deferred=new bh,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((t=>{}))}static createAndSchedule(t,e,i,n,r){const s=Date.now()+i,o=new jf(t,e,s,n,r);return o.start(i),o}start(t){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new yh(vh.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then((t=>this.deferred.resolve(t)))):Promise.resolve()))}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function zf(t,e){if(ch("AsyncQueue",`${e}: ${t}`),Qh(t))return new yh(vh.UNAVAILABLE,`${e}: ${t}`);throw t}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vf{constructor(t){this.comparator=t?(e,i)=>t(e,i)||Bh.comparator(e.key,i.key):(t,e)=>Bh.comparator(t.key,e.key),this.keyedMap=mc(),this.sortedSet=new Zl(this.comparator)}static emptySet(t){return new Vf(t.comparator)}has(t){return null!=this.keyedMap.get(t)}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const e=this.keyedMap.get(t);return e?this.sortedSet.indexOf(e):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal(((e,i)=>(t(e),!1)))}add(t){const e=this.delete(t.key);return e.copy(e.keyedMap.insert(t.key,t),e.sortedSet.insert(t,null))}delete(t){const e=this.get(t);return e?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(e)):this}isEqual(t){if(!(t instanceof Vf))return!1;if(this.size!==t.size)return!1;const e=this.sortedSet.getIterator(),i=t.sortedSet.getIterator();for(;e.hasNext();){const t=e.getNext().key,n=i.getNext().key;if(!t.isEqual(n))return!1}return!0}toString(){const t=[];return this.forEach((e=>{t.push(e.toString())})),0===t.length?"DocumentSet ()":"DocumentSet (\n  "+t.join("  \n")+"\n)"}copy(t,e){const i=new Vf;return i.comparator=this.comparator,i.keyedMap=t,i.sortedSet=e,i}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hf{constructor(){this.Tu=new Zl(Bh.comparator)}track(t){const e=t.doc.key,i=this.Tu.get(e);i?0!==t.type&&3===i.type?this.Tu=this.Tu.insert(e,t):3===t.type&&1!==i.type?this.Tu=this.Tu.insert(e,{type:i.type,doc:t.doc}):2===t.type&&2===i.type?this.Tu=this.Tu.insert(e,{type:2,doc:t.doc}):2===t.type&&0===i.type?this.Tu=this.Tu.insert(e,{type:0,doc:t.doc}):1===t.type&&0===i.type?this.Tu=this.Tu.remove(e):1===t.type&&2===i.type?this.Tu=this.Tu.insert(e,{type:1,doc:i.doc}):0===t.type&&1===i.type?this.Tu=this.Tu.insert(e,{type:2,doc:t.doc}):ph():this.Tu=this.Tu.insert(e,t)}Eu(){const t=[];return this.Tu.inorderTraversal(((e,i)=>{t.push(i)})),t}}class Wf{constructor(t,e,i,n,r,s,o,a,h){this.query=t,this.docs=e,this.oldDocs=i,this.docChanges=n,this.mutatedKeys=r,this.fromCache=s,this.syncStateChanged=o,this.excludesMetadataChanges=a,this.hasCachedResults=h}static fromInitialDocuments(t,e,i,n,r){const s=[];return e.forEach((t=>{s.push({type:0,doc:t})})),new Wf(t,e,Vf.emptySet(e),s,i,n,!0,!1,r)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&_u(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const e=this.docChanges,i=t.docChanges;if(e.length!==i.length)return!1;for(let t=0;t<e.length;t++)if(e[t].type!==i[t].type||!e[t].doc.isEqual(i[t].doc))return!1;return!0}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kf{constructor(){this.Au=void 0,this.listeners=[]}}class Gf{constructor(){this.queries=new cc((t=>Mu(t)),_u),this.onlineState="Unknown",this.Ru=new Set}}async function Qf(t,e){const i=gh(t),n=e.query;let r=!1,s=i.queries.get(n);if(s||(r=!0,s=new Kf),r)try{s.Au=await i.onListen(n)}catch(t){const i=zf(t,`Initialization of query '${xu(e.query)}' failed`);return void e.onError(i)}i.queries.set(n,s),s.listeners.push(e),e.bu(i.onlineState),s.Au&&e.Pu(s.Au)&&Xf(i)}async function Yf(t,e){const i=gh(t),n=e.query;let r=!1;const s=i.queries.get(n);if(s){const t=s.listeners.indexOf(e);t>=0&&(s.listeners.splice(t,1),r=0===s.listeners.length)}if(r)return i.queries.delete(n),i.onUnlisten(n)}function Zf(t,e){const i=gh(t);let n=!1;for(const t of e){const e=t.query,r=i.queries.get(e);if(r){for(const e of r.listeners)e.Pu(t)&&(n=!0);r.Au=t}}n&&Xf(i)}function $f(t,e,i){const n=gh(t),r=n.queries.get(e);if(r)for(const t of r.listeners)t.onError(i);n.queries.delete(e)}function Xf(t){t.Ru.forEach((t=>{t.next()}))}class Jf{constructor(t,e,i){this.query=t,this.vu=e,this.Vu=!1,this.Su=null,this.onlineState="Unknown",this.options=i||{}}Pu(t){if(!this.options.includeMetadataChanges){const e=[];for(const i of t.docChanges)3!==i.type&&e.push(i);t=new Wf(t.query,t.docs,t.oldDocs,e,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let e=!1;return this.Vu?this.Du(t)&&(this.vu.next(t),e=!0):this.Cu(t,this.onlineState)&&(this.xu(t),e=!0),this.Su=t,e}onError(t){this.vu.error(t)}bu(t){this.onlineState=t;let e=!1;return this.Su&&!this.Vu&&this.Cu(this.Su,t)&&(this.xu(this.Su),e=!0),e}Cu(t,e){if(!t.fromCache)return!0;const i="Offline"!==e;return(!this.options.Nu||!i)&&(!t.docs.isEmpty()||t.hasCachedResults||"Offline"===e)}Du(t){if(t.docChanges.length>0)return!0;const e=this.Su&&this.Su.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!e)&&!0===this.options.includeMetadataChanges}xu(t){t=Wf.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.Vu=!0,this.vu.next(t)}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class tp{constructor(t){this.key=t}}class ep{constructor(t){this.key=t}}class ip{constructor(t,e){this.query=t,this.qu=e,this.Uu=null,this.hasCachedResults=!1,this.current=!1,this.Ku=Mc(),this.mutatedKeys=Mc(),this.Gu=Eu(t),this.Qu=new Vf(this.Gu)}get ju(){return this.qu}Wu(t,e){const i=e?e.zu:new Hf,n=e?e.Qu:this.Qu;let r=e?e.mutatedKeys:this.mutatedKeys,s=n,o=!1;const a="F"===this.query.limitType&&n.size===this.query.limit?n.last():null,h="L"===this.query.limitType&&n.size===this.query.limit?n.first():null;if(t.inorderTraversal(((t,e)=>{const l=n.get(t),u=ku(this.query,e)?e:null,c=!!l&&this.mutatedKeys.has(l.key),d=!!u&&(u.hasLocalMutations||this.mutatedKeys.has(u.key)&&u.hasCommittedMutations);let f=!1;l&&u?l.data.isEqual(u.data)?c!==d&&(i.track({type:3,doc:u}),f=!0):this.Hu(l,u)||(i.track({type:2,doc:u}),f=!0,(a&&this.Gu(u,a)>0||h&&this.Gu(u,h)<0)&&(o=!0)):!l&&u?(i.track({type:0,doc:u}),f=!0):l&&!u&&(i.track({type:1,doc:l}),f=!0,(a||h)&&(o=!0)),f&&(u?(s=s.add(u),r=d?r.add(t):r.delete(t)):(s=s.delete(t),r=r.delete(t)))})),null!==this.query.limit)for(;s.size>this.query.limit;){const t="F"===this.query.limitType?s.last():s.first();s=s.delete(t.key),r=r.delete(t.key),i.track({type:1,doc:t})}return{Qu:s,zu:i,$i:o,mutatedKeys:r}}Hu(t,e){return t.hasLocalMutations&&e.hasCommittedMutations&&!e.hasLocalMutations}applyChanges(t,e,i){const n=this.Qu;this.Qu=t.Qu,this.mutatedKeys=t.mutatedKeys;const r=t.zu.Eu();r.sort(((t,e)=>function(t,e){const i=t=>{switch(t){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ph()}};return i(t)-i(e)}(t.type,e.type)||this.Gu(t.doc,e.doc))),this.Ju(i);const s=e?this.Yu():[],o=0===this.Ku.size&&this.current?1:0,a=o!==this.Uu;return this.Uu=o,0!==r.length||a?{snapshot:new Wf(this.query,t.Qu,n,r,t.mutatedKeys,0===o,a,!1,!!i&&i.resumeToken.approximateByteSize()>0),Xu:s}:{Xu:s}}bu(t){return this.current&&"Offline"===t?(this.current=!1,this.applyChanges({Qu:this.Qu,zu:new Hf,mutatedKeys:this.mutatedKeys,$i:!1},!1)):{Xu:[]}}Zu(t){return!this.qu.has(t)&&!!this.Qu.has(t)&&!this.Qu.get(t).hasLocalMutations}Ju(t){t&&(t.addedDocuments.forEach((t=>this.qu=this.qu.add(t))),t.modifiedDocuments.forEach((t=>{})),t.removedDocuments.forEach((t=>this.qu=this.qu.delete(t))),this.current=t.current)}Yu(){if(!this.current)return[];const t=this.Ku;this.Ku=Mc(),this.Qu.forEach((t=>{this.Zu(t.key)&&(this.Ku=this.Ku.add(t.key))}));const e=[];return t.forEach((t=>{this.Ku.has(t)||e.push(new ep(t))})),this.Ku.forEach((i=>{t.has(i)||e.push(new tp(i))})),e}tc(t){this.qu=t.Hi,this.Ku=Mc();const e=this.Wu(t.documents);return this.applyChanges(e,!0)}ec(){return Wf.fromInitialDocuments(this.query,this.Qu,this.mutatedKeys,0===this.Uu,this.hasCachedResults)}}class np{constructor(t,e,i){this.query=t,this.targetId=e,this.view=i}}class rp{constructor(t){this.key=t,this.nc=!1}}class sp{constructor(t,e,i,n,r,s){this.localStore=t,this.remoteStore=e,this.eventManager=i,this.sharedClientState=n,this.currentUser=r,this.maxConcurrentLimboResolutions=s,this.sc={},this.ic=new cc((t=>Mu(t)),_u),this.rc=new Map,this.oc=new Set,this.uc=new Zl(Bh.comparator),this.cc=new Map,this.ac=new Id,this.hc={},this.lc=new Map,this.fc=xd.vn(),this.onlineState="Unknown",this.dc=void 0}get isPrimaryClient(){return!0===this.dc}}async function op(t,e){const i=kp(t);let n,r;const s=i.ic.get(e);if(s)n=s.targetId,i.sharedClientState.addLocalQueryTarget(n),r=s.view.ec();else{const t=await Kd(i.localStore,yu(e));i.isPrimaryClient&&mf(i.remoteStore,t);const s=i.sharedClientState.addLocalQueryTarget(t.targetId);n=t.targetId,r=await ap(i,e,n,"current"===s,t.resumeToken)}return r}async function ap(t,e,i,n,r){t._c=(e,i,n)=>async function(t,e,i,n){let r=e.view.Wu(i);r.$i&&(r=await Qd(t.localStore,e.query,!1).then((({documents:t})=>e.view.Wu(t,r))));const s=n&&n.targetChanges.get(e.targetId),o=e.view.applyChanges(r,t.isPrimaryClient,s);return yp(t,e.targetId,o.Xu),o.snapshot}(t,e,i,n);const s=await Qd(t.localStore,e,!0),o=new ip(e,s.Hi),a=o.Wu(s.documents),h=Ec.createSynthesizedTargetChangeForCurrentChange(i,n&&"Offline"!==t.onlineState,r),l=o.applyChanges(a,t.isPrimaryClient,h);yp(t,i,l.Xu);const u=new np(e,i,o);return t.ic.set(e,u),t.rc.has(i)?t.rc.get(i).push(e):t.rc.set(i,[e]),l.snapshot}async function hp(t,e){const i=gh(t),n=i.ic.get(e),r=i.rc.get(n.targetId);if(r.length>1)return i.rc.set(n.targetId,r.filter((t=>!_u(t,e)))),void i.ic.delete(e);i.isPrimaryClient?(i.sharedClientState.removeLocalQueryTarget(n.targetId),i.sharedClientState.isActiveQueryTarget(n.targetId)||await Gd(i.localStore,n.targetId,!1).then((()=>{i.sharedClientState.clearQueryState(n.targetId),gf(i.remoteStore,n.targetId),gp(i,n.targetId)})).catch(Kh)):(gp(i,n.targetId),await Gd(i.localStore,n.targetId,!0))}async function lp(t,e){const i=gh(t);try{const t=await function(t,e){const i=gh(t),n=e.snapshotVersion;let r=i.qi;return i.persistence.runTransaction("Apply remote event","readwrite-primary",(t=>{const s=i.Gi.newChangeBuffer({trackRemovals:!0});r=i.qi;const o=[];e.targetChanges.forEach(((s,a)=>{const h=r.get(a);if(!h)return;o.push(i.Cs.removeMatchingKeys(t,s.removedDocuments,a).next((()=>i.Cs.addMatchingKeys(t,s.addedDocuments,a))));let l=h.withSequenceNumber(t.currentSequenceNumber);e.targetMismatches.has(a)?l=l.withResumeToken(rl.EMPTY_BYTE_STRING,Dh.min()).withLastLimboFreeSnapshotVersion(Dh.min()):s.resumeToken.approximateByteSize()>0&&(l=l.withResumeToken(s.resumeToken,n)),r=r.insert(a,l),function(t,e,i){return 0===t.resumeToken.approximateByteSize()||e.snapshotVersion.toMicroseconds()-t.snapshotVersion.toMicroseconds()>=3e8||i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size>0}(h,l,s)&&o.push(i.Cs.updateTargetData(t,l))}));let a=fc(),h=Mc();if(e.documentUpdates.forEach((n=>{e.resolvedLimboDocuments.has(n)&&o.push(i.persistence.referenceDelegate.updateLimboDocument(t,n))})),o.push(Hd(t,s,e.documentUpdates).next((t=>{a=t.Wi,h=t.zi}))),!n.isEqual(Dh.min())){const e=i.Cs.getLastRemoteSnapshotVersion(t).next((e=>i.Cs.setTargetsMetadata(t,t.currentSequenceNumber,n)));o.push(e)}return Gh.waitFor(o).next((()=>s.apply(t))).next((()=>i.localDocuments.getLocalViewOfDocuments(t,a,h))).next((()=>a))})).then((t=>(i.qi=r,t)))}(i.localStore,e);e.targetChanges.forEach(((t,e)=>{const n=i.cc.get(e);n&&(mh(t.addedDocuments.size+t.modifiedDocuments.size+t.removedDocuments.size<=1),t.addedDocuments.size>0?n.nc=!0:t.modifiedDocuments.size>0?mh(n.nc):t.removedDocuments.size>0&&(mh(n.nc),n.nc=!1))})),await _p(i,t,e)}catch(t){await Kh(t)}}function up(t,e,i){const n=gh(t);if(n.isPrimaryClient&&0===i||!n.isPrimaryClient&&1===i){const t=[];n.ic.forEach(((i,n)=>{const r=n.view.bu(e);r.snapshot&&t.push(r.snapshot)})),function(t,e){const i=gh(t);i.onlineState=e;let n=!1;i.queries.forEach(((t,i)=>{for(const t of i.listeners)t.bu(e)&&(n=!0)})),n&&Xf(i)}(n.eventManager,e),t.length&&n.sc.Wo(t),n.onlineState=e,n.isPrimaryClient&&n.sharedClientState.setOnlineState(e)}}async function cp(t,e,i){const n=gh(t);n.sharedClientState.updateQueryState(e,"rejected",i);const r=n.cc.get(e),s=r&&r.key;if(s){let t=new Zl(Bh.comparator);t=t.insert(s,ru.newNoDocument(s,Dh.min()));const i=Mc().add(s),r=new Ac(Dh.min(),new Map,new Jl(qh),t,i);await lp(n,r),n.uc=n.uc.remove(s),n.cc.delete(e),wp(n)}else await Gd(n.localStore,e,!1).then((()=>gp(n,e,i))).catch(Kh)}async function dp(t,e){const i=gh(t),n=e.batch.batchId;try{const t=await function(t,e){const i=gh(t);return i.persistence.runTransaction("Acknowledge batch","readwrite-primary",(t=>{const n=e.batch.keys(),r=i.Gi.newChangeBuffer({trackRemovals:!0});return function(t,e,i,n){const r=i.batch,s=r.keys();let o=Gh.resolve();return s.forEach((t=>{o=o.next((()=>n.getEntry(e,t))).next((e=>{const s=i.docVersions.get(t);mh(null!==s),e.version.compareTo(s)<0&&(r.applyToRemoteDocument(e,i),e.isValidDocument()&&(e.setReadTime(i.commitVersion),n.addEntry(e)))}))})),o.next((()=>t.mutationQueue.removeMutationBatch(e,r)))}(i,t,e,r).next((()=>r.apply(t))).next((()=>i.mutationQueue.performConsistencyCheck(t))).next((()=>i.documentOverlayCache.removeOverlaysForBatchId(t,n,e.batch.batchId))).next((()=>i.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(t,function(t){let e=Mc();for(let i=0;i<t.mutationResults.length;++i)t.mutationResults[i].transformResults.length>0&&(e=e.add(t.batch.mutations[i].key));return e}(e)))).next((()=>i.localDocuments.getDocuments(t,n)))}))}(i.localStore,e);mp(i,n,null),pp(i,n),i.sharedClientState.updateMutationState(n,"acknowledged"),await _p(i,t)}catch(t){await Kh(t)}}async function fp(t,e,i){const n=gh(t);try{const t=await function(t,e){const i=gh(t);return i.persistence.runTransaction("Reject batch","readwrite-primary",(t=>{let n;return i.mutationQueue.lookupMutationBatch(t,e).next((e=>(mh(null!==e),n=e.keys(),i.mutationQueue.removeMutationBatch(t,e)))).next((()=>i.mutationQueue.performConsistencyCheck(t))).next((()=>i.documentOverlayCache.removeOverlaysForBatchId(t,n,e))).next((()=>i.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(t,n))).next((()=>i.localDocuments.getDocuments(t,n)))}))}(n.localStore,e);mp(n,e,i),pp(n,e),n.sharedClientState.updateMutationState(e,"rejected",i),await _p(n,t)}catch(i){await Kh(i)}}function pp(t,e){(t.lc.get(e)||[]).forEach((t=>{t.resolve()})),t.lc.delete(e)}function mp(t,e,i){const n=gh(t);let r=n.hc[n.currentUser.toKey()];if(r){const t=r.get(e);t&&(i?t.reject(i):t.resolve(),r=r.remove(e)),n.hc[n.currentUser.toKey()]=r}}function gp(t,e,i=null){t.sharedClientState.removeLocalQueryTarget(e);for(const n of t.rc.get(e))t.ic.delete(n),i&&t.sc.wc(n,i);t.rc.delete(e),t.isPrimaryClient&&t.ac.ls(e).forEach((e=>{t.ac.containsKey(e)||vp(t,e)}))}function vp(t,e){t.oc.delete(e.path.canonicalString());const i=t.uc.get(e);null!==i&&(gf(t.remoteStore,i),t.uc=t.uc.remove(e),t.cc.delete(i),wp(t))}function yp(t,e,i){for(const n of i)n instanceof tp?(t.ac.addReference(n.key,e),bp(t,n)):n instanceof ep?(uh("SyncEngine","Document no longer in limbo: "+n.key),t.ac.removeReference(n.key,e),t.ac.containsKey(n.key)||vp(t,n.key)):ph()}function bp(t,e){const i=e.key,n=i.path.canonicalString();t.uc.get(i)||t.oc.has(n)||(uh("SyncEngine","New document in limbo: "+i),t.oc.add(n),wp(t))}function wp(t){for(;t.oc.size>0&&t.uc.size<t.maxConcurrentLimboResolutions;){const e=t.oc.values().next().value;t.oc.delete(e);const i=new Bh(Nh.fromString(e)),n=t.fc.next();t.cc.set(n,new rp(i)),t.uc=t.uc.insert(i,n),mf(t.remoteStore,new gd(yu(du(i.path)),n,2,Yh.at))}}async function _p(t,e,i){const n=gh(t),r=[],s=[],o=[];n.ic.isEmpty()||(n.ic.forEach(((t,a)=>{o.push(n._c(a,e,i).then((t=>{if((t||i)&&n.isPrimaryClient&&n.sharedClientState.updateQueryState(a.targetId,(null==t?void 0:t.fromCache)?"not-current":"current"),t){r.push(t);const e=Bd.Ci(a.targetId,t);s.push(e)}})))})),await Promise.all(o),n.sc.Wo(r),await async function(t,e){const i=gh(t);try{await i.persistence.runTransaction("notifyLocalViewChanges","readwrite",(t=>Gh.forEach(e,(e=>Gh.forEach(e.Si,(n=>i.persistence.referenceDelegate.addReference(t,e.targetId,n))).next((()=>Gh.forEach(e.Di,(n=>i.persistence.referenceDelegate.removeReference(t,e.targetId,n)))))))))}catch(t){if(!Qh(t))throw t;uh("LocalStore","Failed to update sequence numbers: "+t)}for(const t of e){const e=t.targetId;if(!t.fromCache){const t=i.qi.get(e),n=t.snapshotVersion,r=t.withLastLimboFreeSnapshotVersion(n);i.qi=i.qi.insert(e,r)}}}(n.localStore,s))}async function Mp(t,e){const i=gh(t);if(!i.currentUser.isEqual(e)){uh("SyncEngine","User change. New user:",e.toKey());const t=await zd(i.localStore,e);i.currentUser=e,function(t,e){t.lc.forEach((t=>{t.forEach((t=>{t.reject(new yh(vh.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))}))})),t.lc.clear()}(i),i.sharedClientState.handleUserChange(e,t.removedBatchIds,t.addedBatchIds),await _p(i,t.ji)}}function xp(t,e){const i=gh(t),n=i.cc.get(e);if(n&&n.nc)return Mc().add(n.key);{let t=Mc();const n=i.rc.get(e);if(!n)return t;for(const e of n){const n=i.ic.get(e);t=t.unionWith(n.view.ju)}return t}}function kp(t){const e=gh(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=lp.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=xp.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=cp.bind(null,e),e.sc.Wo=Zf.bind(null,e.eventManager),e.sc.wc=$f.bind(null,e.eventManager),e}function Ap(t){const e=gh(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=dp.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=fp.bind(null,e),e}class Ep{constructor(){this.synchronizeTabs=!1}async initialize(t){this.yt=sf(t.databaseInfo.databaseId),this.sharedClientState=this.gc(t),this.persistence=this.yc(t),await this.persistence.start(),this.localStore=this.Ic(t),this.gcScheduler=this.Tc(t,this.localStore),this.indexBackfillerScheduler=this.Ec(t,this.localStore)}Tc(t,e){return null}Ec(t,e){return null}Ic(t){return jd(this.persistence,new Ud,t.initialUser,this.yt)}yc(t){return new Nd(Pd.Bs,this.yt)}gc(t){return new $d}async terminate(){this.gcScheduler&&this.gcScheduler.stop(),await this.sharedClientState.shutdown(),await this.persistence.shutdown()}}class Sp{async initialize(t,e){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(e),this.remoteStore=this.createRemoteStore(e),this.eventManager=this.createEventManager(e),this.syncEngine=this.createSyncEngine(e,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=t=>up(this.syncEngine,t,1),this.remoteStore.remoteSyncer.handleCredentialChange=Mp.bind(null,this.syncEngine),await Bf(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return new Gf}createDatastore(t){const e=sf(t.databaseInfo.databaseId),i=(n=t.databaseInfo,new nf(n));var n;return function(t,e,i,n){return new uf(t,e,i,n)}(t.authCredentials,t.appCheckCredentials,i,e)}createRemoteStore(t){var e,i,n,r,s;return e=this.localStore,i=this.datastore,n=t.asyncQueue,r=t=>up(this.syncEngine,t,0),s=Jd.C()?new Jd:new Xd,new df(e,i,n,r,s)}createSyncEngine(t,e){return function(t,e,i,n,r,s,o){const a=new sp(t,e,i,n,r,s);return o&&(a.dc=!0),a}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,e)}terminate(){return async function(t){const e=gh(t);uh("RemoteStore","RemoteStore shutting down."),e._u.add(5),await pf(e),e.mu.shutdown(),e.gu.set("Unknown")}(this.remoteStore)}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tp(t,e,i){if(!i)throw new yh(vh.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function Ip(t){if(!Bh.isDocumentKey(t))throw new yh(vh.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function qp(t){if(Bh.isDocumentKey(t))throw new yh(vh.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function Cp(t){if(void 0===t)return"undefined";if(null===t)return"null";if("string"==typeof t)return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if("number"==typeof t||"boolean"==typeof t)return""+t;if("object"==typeof t){if(t instanceof Array)return"an array";{const e=function(t){return t.constructor?t.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return"function"==typeof t?"a function":ph()}function Rp(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new yh(vh.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const i=Cp(t);throw new yh(vh.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${i}`)}}return t}function Dp(t,e){if(e<=0)throw new yh(vh.INVALID_ARGUMENT,`Function ${t}() requires a positive number, but it was: ${e}.`)}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lp=new Map;class Np{constructor(t){var e;if(void 0===t.host){if(void 0!==t.ssl)throw new yh(vh.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=null===(e=t.ssl)||void 0===e||e;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,void 0===t.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==t.cacheSizeBytes&&t.cacheSizeBytes<1048576)throw new yh(vh.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.useFetchStreams=!!t.useFetchStreams,function(t,e,i,n){if(!0===e&&!0===n)throw new yh(vh.INVALID_ARGUMENT,`${t} and ${i} cannot be used together.`)}("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling)}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Op{constructor(t,e,i,n){this._authCredentials=t,this._appCheckCredentials=e,this._databaseId=i,this._app=n,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Np({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new yh(vh.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(t){if(this._settingsFrozen)throw new yh(vh.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Np(t),void 0!==t.credentials&&(this._authCredentials=function(t){if(!t)return new _h;switch(t.type){case"gapi":const e=t.client;return new Ah(e,t.sessionIndex||"0",t.iamToken||null,t.authTokenFactory||null);case"provider":return t.client;default:throw new yh(vh.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(t.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const e=Lp.get(t);e&&(uh("ComponentProvider","Removing Datastore"),Lp.delete(t),e.terminate())}(this),Promise.resolve()}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class Pp{constructor(t,e,i){this.converter=e,this._key=i,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Up(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new Pp(this.firestore,t,this._key)}}class Bp{constructor(t,e,i){this.converter=e,this._query=i,this.type="query",this.firestore=t}withConverter(t){return new Bp(this.firestore,t,this._query)}}class Up extends Bp{constructor(t,e,i){super(t,e,du(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new Pp(this.firestore,null,new Bh(t))}withConverter(t){return new Up(this.firestore,t,this._path)}}function Fp(t,e,...i){if(t=N(t),Tp("collection","path",e),t instanceof Op){const n=Nh.fromString(e,...i);return qp(n),new Up(t,null,n)}{if(!(t instanceof Pp||t instanceof Up))throw new yh(vh.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=t._path.child(Nh.fromString(e,...i));return qp(n),new Up(t.firestore,null,n)}}function jp(t,e,...i){if(t=N(t),1===arguments.length&&(e=Ih.R()),Tp("doc","path",e),t instanceof Op){const n=Nh.fromString(e,...i);return Ip(n),new Pp(t,null,new Bh(n))}{if(!(t instanceof Pp||t instanceof Up))throw new yh(vh.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=t._path.child(Nh.fromString(e,...i));return Ip(n),new Pp(t.firestore,t instanceof Up?t.converter:null,new Bh(n))}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class zp{constructor(t){this.observer=t,this.muted=!1}next(t){this.observer.next&&this.Rc(this.observer.next,t)}error(t){this.observer.error?this.Rc(this.observer.error,t):ch("Uncaught Error in snapshot listener:",t.toString())}bc(){this.muted=!0}Rc(t,e){this.muted||setTimeout((()=>{this.muted||t(e)}),0)}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class Vp{constructor(t,e,i,n){this.authCredentials=t,this.appCheckCredentials=e,this.asyncQueue=i,this.databaseInfo=n,this.user=oh.UNAUTHENTICATED,this.clientId=Ih.R(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(i,(async t=>{uh("FirestoreClient","Received user=",t.uid),await this.authCredentialListener(t),this.user=t})),this.appCheckCredentials.start(i,(t=>(uh("FirestoreClient","Received new app check token=",t),this.appCheckCredentialListener(t,this.user))))}async getConfiguration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new yh(vh.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();const t=new bh;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this.onlineComponents&&await this.onlineComponents.terminate(),this.offlineComponents&&await this.offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(e){const i=zf(e,"Failed to shutdown persistence");t.reject(i)}})),t.promise}}async function Hp(t,e){t.asyncQueue.verifyOperationInProgress(),uh("FirestoreClient","Initializing OfflineComponentProvider");const i=await t.getConfiguration();await e.initialize(i);let n=i.initialUser;t.setCredentialChangeListener((async t=>{n.isEqual(t)||(await zd(e.localStore,t),n=t)})),e.persistence.setDatabaseDeletedListener((()=>t.terminate())),t.offlineComponents=e}async function Wp(t,e){t.asyncQueue.verifyOperationInProgress();const i=await Kp(t);uh("FirestoreClient","Initializing OnlineComponentProvider");const n=await t.getConfiguration();await e.initialize(i,n),t.setCredentialChangeListener((t=>Pf(e.remoteStore,t))),t.setAppCheckTokenChangeListener(((t,i)=>Pf(e.remoteStore,i))),t.onlineComponents=e}async function Kp(t){return t.offlineComponents||(uh("FirestoreClient","Using default OfflineComponentProvider"),await Hp(t,new Ep)),t.offlineComponents}async function Gp(t){return t.onlineComponents||(uh("FirestoreClient","Using default OnlineComponentProvider"),await Wp(t,new Sp)),t.onlineComponents}function Qp(t){return Gp(t).then((t=>t.syncEngine))}async function Yp(t){const e=await Gp(t),i=e.eventManager;return i.onListen=op.bind(null,e.syncEngine),i.onUnlisten=hp.bind(null,e.syncEngine),i}function Zp(t,e,i={}){const n=new bh;return t.asyncQueue.enqueueAndForget((async()=>function(t,e,i,n,r){const s=new zp({next:s=>{e.enqueueAndForget((()=>Yf(t,o)));const a=s.docs.has(i);!a&&s.fromCache?r.reject(new yh(vh.UNAVAILABLE,"Failed to get document because the client is offline.")):a&&s.fromCache&&n&&"server"===n.source?r.reject(new yh(vh.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):r.resolve(s)},error:t=>r.reject(t)}),o=new Jf(du(i.path),s,{includeMetadataChanges:!0,Nu:!0});return Qf(t,o)}(await Yp(t),t.asyncQueue,e,i,n))),n.promise}function $p(t,e,i={}){const n=new bh;return t.asyncQueue.enqueueAndForget((async()=>function(t,e,i,n,r){const s=new zp({next:i=>{e.enqueueAndForget((()=>Yf(t,o))),i.fromCache&&"server"===n.source?r.reject(new yh(vh.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):r.resolve(i)},error:t=>r.reject(t)}),o=new Jf(i,s,{includeMetadataChanges:!0,Nu:!0});return Qf(t,o)}(await Yp(t),t.asyncQueue,e,i,n))),n.promise}class Xp{constructor(){this.Bc=Promise.resolve(),this.Lc=[],this.qc=!1,this.Uc=[],this.Kc=null,this.Gc=!1,this.Qc=!1,this.jc=[],this.xo=new of(this,"async_queue_retry"),this.Wc=()=>{const t=rf();t&&uh("AsyncQueue","Visibility state changed to "+t.visibilityState),this.xo.Po()};const t=rf();t&&"function"==typeof t.addEventListener&&t.addEventListener("visibilitychange",this.Wc)}get isShuttingDown(){return this.qc}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.zc(),this.Hc(t)}enterRestrictedMode(t){if(!this.qc){this.qc=!0,this.Qc=t||!1;const e=rf();e&&"function"==typeof e.removeEventListener&&e.removeEventListener("visibilitychange",this.Wc)}}enqueue(t){if(this.zc(),this.qc)return new Promise((()=>{}));const e=new bh;return this.Hc((()=>this.qc&&this.Qc?Promise.resolve():(t().then(e.resolve,e.reject),e.promise))).then((()=>e.promise))}enqueueRetryable(t){this.enqueueAndForget((()=>(this.Lc.push(t),this.Jc())))}async Jc(){if(0!==this.Lc.length){try{await this.Lc[0](),this.Lc.shift(),this.xo.reset()}catch(t){if(!Qh(t))throw t;uh("AsyncQueue","Operation failed with retryable error: "+t)}this.Lc.length>0&&this.xo.Ro((()=>this.Jc()))}}Hc(t){const e=this.Bc.then((()=>(this.Gc=!0,t().catch((t=>{this.Kc=t,this.Gc=!1;const e=function(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+"\n"+t.stack),e}(t);throw ch("INTERNAL UNHANDLED ERROR: ",e),t})).then((t=>(this.Gc=!1,t))))));return this.Bc=e,e}enqueueAfterDelay(t,e,i){this.zc(),this.jc.indexOf(t)>-1&&(e=0);const n=jf.createAndSchedule(this,t,e,i,(t=>this.Yc(t)));return this.Uc.push(n),n}zc(){this.Kc&&ph()}verifyOperationInProgress(){}async Xc(){let t;do{t=this.Bc,await t}while(t!==this.Bc)}Zc(t){for(const e of this.Uc)if(e.timerId===t)return!0;return!1}ta(t){return this.Xc().then((()=>{this.Uc.sort(((t,e)=>t.targetTimeMs-e.targetTimeMs));for(const e of this.Uc)if(e.skipDelay(),"all"!==t&&e.timerId===t)break;return this.Xc()}))}ea(t){this.jc.push(t)}Yc(t){const e=this.Uc.indexOf(t);this.Uc.splice(e,1)}}function Jp(t){return function(t,e){if("object"!=typeof t||null===t)return!1;const i=t;for(const t of["next","error","complete"])if(t in i&&"function"==typeof i[t])return!0;return!1}(t)}class tm extends Op{constructor(t,e,i,n){super(t,e,i,n),this.type="firestore",this._queue=new Xp,this._persistenceKey=(null==n?void 0:n.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||nm(this),this._firestoreClient.terminate()}}function em(t,e){const i="string"==typeof t?t:e||"(default)",n=xt("object"==typeof t?t:Tt(),"firestore").getImmediate({identifier:i});if(!n._initialized){const t=f("firestore");t&&function(t,e,i,n={}){var r;const s=(t=Rp(t,Op))._getSettings();if("firestore.googleapis.com"!==s.host&&s.host!==e&&dh("Host has been set in both settings() and useEmulator(), emulator host will be used"),t._setSettings(Object.assign(Object.assign({},s),{host:`${e}:${i}`,ssl:!1})),n.mockUserToken){let e,i;if("string"==typeof n.mockUserToken)e=n.mockUserToken,i=oh.MOCK_USER;else{e=v(n.mockUserToken,null===(r=t._app)||void 0===r?void 0:r.options.projectId);const s=n.mockUserToken.sub||n.mockUserToken.user_id;if(!s)throw new yh(vh.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");i=new oh(s)}t._authCredentials=new Mh(new wh(e,i))}}(n,...t)}return n}function im(t){return t._firestoreClient||nm(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function nm(t){var e;const i=t._freezeSettings(),n=function(t,e,i,n){return new Zh(t,e,i,n.host,n.ssl,n.experimentalForceLongPolling,n.experimentalAutoDetectLongPolling,n.useFetchStreams)}(t._databaseId,(null===(e=t._app)||void 0===e?void 0:e.options.appId)||"",t._persistenceKey,i);t._firestoreClient=new Vp(t._authCredentials,t._appCheckCredentials,t._queue,n)}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class rm{constructor(t){this._byteString=t}static fromBase64String(t){try{return new rm(rl.fromBase64String(t))}catch(t){throw new yh(vh.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(t){return new rm(rl.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sm{constructor(...t){for(let e=0;e<t.length;++e)if(0===t[e].length)throw new yh(vh.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Ph(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class om{constructor(t){this._methodName=t}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class am{constructor(t,e){if(!isFinite(t)||t<-90||t>90)throw new yh(vh.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(e)||e<-180||e>180)throw new yh(vh.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+e);this._lat=t,this._long=e}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(t){return qh(this._lat,t._lat)||qh(this._long,t._long)}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hm=/^__.*__$/;class lm{constructor(t,e,i){this.data=t,this.fieldMask=e,this.fieldTransforms=i}toMutation(t,e){return null!==this.fieldMask?new tc(t,this.data,this.fieldMask,e,this.fieldTransforms):new Ju(t,this.data,e,this.fieldTransforms)}}class um{constructor(t,e,i){this.data=t,this.fieldMask=e,this.fieldTransforms=i}toMutation(t,e){return new tc(t,this.data,this.fieldMask,e,this.fieldTransforms)}}function cm(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ph()}}class dm{constructor(t,e,i,n,r,s){this.settings=t,this.databaseId=e,this.yt=i,this.ignoreUndefinedProperties=n,void 0===r&&this.na(),this.fieldTransforms=r||[],this.fieldMask=s||[]}get path(){return this.settings.path}get sa(){return this.settings.sa}ia(t){return new dm(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.yt,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}ra(t){var e;const i=null===(e=this.path)||void 0===e?void 0:e.child(t),n=this.ia({path:i,oa:!1});return n.ua(t),n}ca(t){var e;const i=null===(e=this.path)||void 0===e?void 0:e.child(t),n=this.ia({path:i,oa:!1});return n.na(),n}aa(t){return this.ia({path:void 0,oa:!0})}ha(t){return Cm(t,this.settings.methodName,this.settings.la||!1,this.path,this.settings.fa)}contains(t){return void 0!==this.fieldMask.find((e=>t.isPrefixOf(e)))||void 0!==this.fieldTransforms.find((e=>t.isPrefixOf(e.field)))}na(){if(this.path)for(let t=0;t<this.path.length;t++)this.ua(this.path.get(t))}ua(t){if(0===t.length)throw this.ha("Document fields must not be empty");if(cm(this.sa)&&hm.test(t))throw this.ha('Document fields cannot begin and end with "__"')}}class fm{constructor(t,e,i){this.databaseId=t,this.ignoreUndefinedProperties=e,this.yt=i||sf(t)}da(t,e,i,n=!1){return new dm({sa:t,methodName:e,fa:i,path:Ph.emptyPath(),oa:!1,la:n},this.databaseId,this.yt,this.ignoreUndefinedProperties)}}function pm(t){const e=t._freezeSettings(),i=sf(t._databaseId);return new fm(t._databaseId,!!e.ignoreUndefinedProperties,i)}function mm(t,e,i,n,r,s={}){const o=t.da(s.merge||s.mergeFields?2:0,e,i,r);Sm("Data must be an object, but it was:",o,n);const a=Am(n,o);let h,l;if(s.merge)h=new eu(o.fieldMask),l=o.fieldTransforms;else if(s.mergeFields){const t=[];for(const n of s.mergeFields){const r=Tm(e,n,i);if(!o.contains(r))throw new yh(vh.INVALID_ARGUMENT,`Field '${r}' is specified in your field mask but missing from your input data.`);Rm(t,r)||t.push(r)}h=new eu(t),l=o.fieldTransforms.filter((t=>h.covers(t.field)))}else h=null,l=o.fieldTransforms;return new lm(new iu(a),h,l)}class gm extends om{_toFieldTransform(t){if(2!==t.sa)throw 1===t.sa?t.ha(`${this._methodName}() can only appear at the top level of your update data`):t.ha(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return t.fieldMask.push(t.path),null}isEqual(t){return t instanceof gm}}function vm(t,e,i){return new dm({sa:3,fa:e.settings.fa,methodName:t._methodName,oa:i},e.databaseId,e.yt,e.ignoreUndefinedProperties)}class ym extends om{_toFieldTransform(t){return new Vu(t.path,new Nu)}isEqual(t){return t instanceof ym}}class bm extends om{constructor(t,e){super(t),this._a=e}_toFieldTransform(t){const e=vm(this,t,!0),i=this._a.map((t=>km(t,e))),n=new Ou(i);return new Vu(t.path,n)}isEqual(t){return this===t}}class wm extends om{constructor(t,e){super(t),this._a=e}_toFieldTransform(t){const e=vm(this,t,!0),i=this._a.map((t=>km(t,e))),n=new Bu(i);return new Vu(t.path,n)}isEqual(t){return this===t}}function _m(t,e,i,n){const r=t.da(1,e,i);Sm("Data must be an object, but it was:",r,n);const s=[],o=iu.empty();Jh(n,((t,n)=>{const a=qm(e,t,i);n=N(n);const h=r.ca(a);if(n instanceof gm)s.push(a);else{const t=km(n,h);null!=t&&(s.push(a),o.set(a,t))}}));const a=new eu(s);return new um(o,a,r.fieldTransforms)}function Mm(t,e,i,n,r,s){const o=t.da(1,e,i),a=[Tm(e,n,i)],h=[r];if(s.length%2!=0)throw new yh(vh.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let t=0;t<s.length;t+=2)a.push(Tm(e,s[t])),h.push(s[t+1]);const l=[],u=iu.empty();for(let t=a.length-1;t>=0;--t)if(!Rm(l,a[t])){const e=a[t];let i=h[t];i=N(i);const n=o.ca(e);if(i instanceof gm)l.push(e);else{const t=km(i,n);null!=t&&(l.push(e),u.set(e,t))}}const c=new eu(l);return new um(u,c,o.fieldTransforms)}function xm(t,e,i,n=!1){return km(i,t.da(n?4:3,e))}function km(t,e){if(Em(t=N(t)))return Sm("Unsupported field value:",e,t),Am(t,e);if(t instanceof om)return function(t,e){if(!cm(e.sa))throw e.ha(`${t._methodName}() can only be used with update() and set()`);if(!e.path)throw e.ha(`${t._methodName}() is not currently supported inside arrays`);const i=t._toFieldTransform(e);i&&e.fieldTransforms.push(i)}(t,e),null;if(void 0===t&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.oa&&4!==e.sa)throw e.ha("Nested arrays are not supported");return function(t,e){const i=[];let n=0;for(const r of t){let t=km(r,e.aa(n));null==t&&(t={nullValue:"NULL_VALUE"}),i.push(t),n++}return{arrayValue:{values:i}}}(t,e)}return function(t,e){if(null===(t=N(t)))return{nullValue:"NULL_VALUE"};if("number"==typeof t)return qu(e.yt,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){const i=Rh.fromDate(t);return{timestampValue:Bc(e.yt,i)}}if(t instanceof Rh){const i=new Rh(t.seconds,1e3*Math.floor(t.nanoseconds/1e3));return{timestampValue:Bc(e.yt,i)}}if(t instanceof am)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof rm)return{bytesValue:Uc(e.yt,t._byteString)};if(t instanceof Pp){const i=e.databaseId,n=t.firestore._databaseId;if(!n.isEqual(i))throw e.ha(`Document reference is for database ${n.projectId}/${n.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:zc(t.firestore._databaseId||e.databaseId,t._key.path)}}throw e.ha(`Unsupported field value: ${Cp(t)}`)}(t,e)}function Am(t,e){const i={};return tl(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Jh(t,((t,n)=>{const r=km(n,e.ra(t));null!=r&&(i[t]=r)})),{mapValue:{fields:i}}}function Em(t){return!("object"!=typeof t||null===t||t instanceof Array||t instanceof Date||t instanceof Rh||t instanceof am||t instanceof rm||t instanceof Pp||t instanceof om)}function Sm(t,e,i){if(!Em(i)||!function(t){return"object"==typeof t&&null!==t&&(Object.getPrototypeOf(t)===Object.prototype||null===Object.getPrototypeOf(t))}(i)){const n=Cp(i);throw"an object"===n?e.ha(t+" a custom object"):e.ha(t+" "+n)}}function Tm(t,e,i){if((e=N(e))instanceof sm)return e._internalPath;if("string"==typeof e)return qm(t,e);throw Cm("Field path arguments must be of type string or ",t,!1,void 0,i)}const Im=new RegExp("[~\\*/\\[\\]]");function qm(t,e,i){if(e.search(Im)>=0)throw Cm(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,i);try{return new sm(...e.split("."))._internalPath}catch(n){throw Cm(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,i)}}function Cm(t,e,i,n,r){const s=n&&!n.isEmpty(),o=void 0!==r;let a=`Function ${e}() called with invalid data`;i&&(a+=" (via `toFirestore()`)"),a+=". ";let h="";return(s||o)&&(h+=" (found",s&&(h+=` in field ${n}`),o&&(h+=` in document ${r}`),h+=")"),new yh(vh.INVALID_ARGUMENT,a+t+h)}function Rm(t,e){return t.some((t=>t.isEqual(e)))}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dm{constructor(t,e,i,n,r){this._firestore=t,this._userDataWriter=e,this._key=i,this._document=n,this._converter=r}get id(){return this._key.path.lastSegment()}get ref(){return new Pp(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const t=new Lm(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const e=this._document.data.field(Nm("DocumentSnapshot.get",t));if(null!==e)return this._userDataWriter.convertValue(e)}}}class Lm extends Dm{data(){return super.data()}}function Nm(t,e){return"string"==typeof e?qm(t,e):e instanceof sm?e._internalPath:e._delegate._internalPath}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Om(t){if("L"===t.limitType&&0===t.explicitOrderBy.length)throw new yh(vh.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Pm{}class Bm extends Pm{}function Um(t,e,...i){let n=[];e instanceof Pm&&n.push(e),n=n.concat(i),function(t){const e=t.filter((t=>t instanceof zm)).length,i=t.filter((t=>t instanceof Fm)).length;if(e>1||e>0&&i>0)throw new yh(vh.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(n);for(const e of n)t=e._apply(t);return t}class Fm extends Bm{constructor(t,e,i){super(),this._field=t,this._op=e,this._value=i,this.type="where"}static _create(t,e,i){return new Fm(t,e,i)}_apply(t){const e=this._parse(t);return Ym(t._query,e),new Bp(t.firestore,t.converter,bu(t._query,e))}_parse(t){const e=pm(t.firestore),i=function(t,e,i,n,r,s,o){let a;if(r.isKeyField()){if("array-contains"===s||"array-contains-any"===s)throw new yh(vh.INVALID_ARGUMENT,`Invalid Query. You can't perform '${s}' queries on documentId().`);if("in"===s||"not-in"===s){Qm(o,s);const e=[];for(const i of o)e.push(Gm(n,t,i));a={arrayValue:{values:e}}}else a=Gm(n,t,o)}else"in"!==s&&"not-in"!==s&&"array-contains-any"!==s||Qm(o,s),a=xm(i,"where",o,"in"===s||"not-in"===s);return Rl.create(r,s,a)}(t._query,0,e,t.firestore._databaseId,this._field,this._op,this._value);return i}}function jm(t,e,i){const n=e,r=Nm("where",t);return Fm._create(r,n,i)}class zm extends Pm{constructor(t,e){super(),this.type=t,this._queryConstraints=e}static _create(t,e){return new zm(t,e)}_parse(t){const e=this._queryConstraints.map((e=>e._parse(t))).filter((t=>t.getFilters().length>0));return 1===e.length?e[0]:Dl.create(e,this._getOperator())}_apply(t){const e=this._parse(t);return 0===e.getFilters().length?t:(function(t,e){let i=t;const n=e.getFlattenedFilters();for(const t of n)Ym(i,t),i=bu(i,t)}(t._query,e),new Bp(t.firestore,t.converter,bu(t._query,e)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}class Vm extends Bm{constructor(t,e){super(),this._field=t,this._direction=e,this.type="orderBy"}static _create(t,e){return new Vm(t,e)}_apply(t){const e=function(t,e,i){if(null!==t.startAt)throw new yh(vh.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==t.endAt)throw new yh(vh.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const n=new Ql(e,i);return function(t,e){if(null===pu(t)){const i=mu(t);null!==i&&Zm(t,i,e.field)}}(t,n),n}(t._query,this._field,this._direction);return new Bp(t.firestore,t.converter,function(t,e){const i=t.explicitOrderBy.concat([e]);return new uu(t.path,t.collectionGroup,i,t.filters.slice(),t.limit,t.limitType,t.startAt,t.endAt)}(t._query,e))}}function Hm(t,e="asc"){const i=e,n=Nm("orderBy",t);return Vm._create(n,i)}class Wm extends Bm{constructor(t,e,i){super(),this.type=t,this._limit=e,this._limitType=i}static _create(t,e,i){return new Wm(t,e,i)}_apply(t){return new Bp(t.firestore,t.converter,wu(t._query,this._limit,this._limitType))}}function Km(t){return Dp("limit",t),Wm._create("limit",t,"F")}function Gm(t,e,i){if("string"==typeof(i=N(i))){if(""===i)throw new yh(vh.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!gu(e)&&-1!==i.indexOf("/"))throw new yh(vh.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${i}' contains a '/' character.`);const n=e.path.child(Nh.fromString(i));if(!Bh.isDocumentKey(n))throw new yh(vh.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${n}' is not because it has an odd number of segments (${n.length}).`);return wl(t,new Bh(n))}if(i instanceof Pp)return wl(t,i._key);throw new yh(vh.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Cp(i)}.`)}function Qm(t,e){if(!Array.isArray(t)||0===t.length)throw new yh(vh.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`);if(t.length>10)throw new yh(vh.INVALID_ARGUMENT,`Invalid Query. '${e.toString()}' filters support a maximum of 10 elements in the value array.`)}function Ym(t,e){if(e.isInequality()){const i=mu(t),n=e.field;if(null!==i&&!i.isEqual(n))throw new yh(vh.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${i.toString()}' and '${n.toString()}'`);const r=pu(t);null!==r&&Zm(t,n,r)}const i=function(t,e){for(const i of t)for(const t of i.getFlattenedFilters())if(e.indexOf(t.op)>=0)return t.op;return null}(t.filters,function(t){switch(t){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(null!==i)throw i===e.op?new yh(vh.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new yh(vh.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${i.toString()}' filters.`)}function Zm(t,e,i){if(!i.isEqual(e))throw new yh(vh.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${e.toString()}' and so you must also use '${e.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${i.toString()}' instead.`)}class $m{convertValue(t,e="none"){switch(fl(t)){case 0:return null;case 1:return t.booleanValue;case 2:return al(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,e);case 5:return t.stringValue;case 6:return this.convertBytes(hl(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,e);case 10:return this.convertObject(t.mapValue,e);default:throw ph()}}convertObject(t,e){const i={};return Jh(t.fields,((t,n)=>{i[t]=this.convertValue(n,e)})),i}convertGeoPoint(t){return new am(al(t.latitude),al(t.longitude))}convertArray(t,e){return(t.values||[]).map((t=>this.convertValue(t,e)))}convertServerTimestamp(t,e){switch(e){case"previous":const i=ul(t);return null==i?null:this.convertValue(i,e);case"estimate":return this.convertTimestamp(cl(t));default:return null}}convertTimestamp(t){const e=ol(t);return new Rh(e.seconds,e.nanos)}convertDocumentKey(t,e){const i=Nh.fromString(t);mh(ld(i));const n=new $h(i.get(1),i.get(3)),r=new Bh(i.popFirst(5));return n.isEqual(e)||ch(`Document ${r} contains a document reference within a different database (${n.projectId}/${n.database}) which is not supported. It will be treated as a reference in the current database (${e.projectId}/${e.database}) instead.`),r}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xm(t,e,i){let n;return n=t?i&&(i.merge||i.mergeFields)?t.toFirestore(e,i):t.toFirestore(e):e,n}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class Jm{constructor(t,e){this.hasPendingWrites=t,this.fromCache=e}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class tg extends Dm{constructor(t,e,i,n,r,s){super(t,e,i,n,s),this._firestore=t,this._firestoreImpl=t,this.metadata=r}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const e=new eg(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(e,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,e={}){if(this._document){const i=this._document.data.field(Nm("DocumentSnapshot.get",t));if(null!==i)return this._userDataWriter.convertValue(i,e.serverTimestamps)}}}class eg extends tg{data(t={}){return super.data(t)}}class ig{constructor(t,e,i,n){this._firestore=t,this._userDataWriter=e,this._snapshot=n,this.metadata=new Jm(n.hasPendingWrites,n.fromCache),this.query=i}get docs(){const t=[];return this.forEach((e=>t.push(e))),t}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(t,e){this._snapshot.docs.forEach((i=>{t.call(e,new eg(this._firestore,this._userDataWriter,i.key,i,new Jm(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(t={}){const e=!!t.includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new yh(vh.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=function(t,e){if(t._snapshot.oldDocs.isEmpty()){let e=0;return t._snapshot.docChanges.map((i=>{const n=new eg(t._firestore,t._userDataWriter,i.doc.key,i.doc,new Jm(t._snapshot.mutatedKeys.has(i.doc.key),t._snapshot.fromCache),t.query.converter);return i.doc,{type:"added",doc:n,oldIndex:-1,newIndex:e++}}))}{let i=t._snapshot.oldDocs;return t._snapshot.docChanges.filter((t=>e||3!==t.type)).map((e=>{const n=new eg(t._firestore,t._userDataWriter,e.doc.key,e.doc,new Jm(t._snapshot.mutatedKeys.has(e.doc.key),t._snapshot.fromCache),t.query.converter);let r=-1,s=-1;return 0!==e.type&&(r=i.indexOf(e.doc.key),i=i.delete(e.doc.key)),1!==e.type&&(i=i.add(e.doc),s=i.indexOf(e.doc.key)),{type:ng(e.type),doc:n,oldIndex:r,newIndex:s}}))}}(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges}}function ng(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ph()}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function rg(t){t=Rp(t,Pp);const e=Rp(t.firestore,tm);return Zp(im(e),t._key).then((i=>fg(e,t,i)))}class sg extends $m{constructor(t){super(),this.firestore=t}convertBytes(t){return new rm(t)}convertReference(t){const e=this.convertDocumentKey(t,this.firestore._databaseId);return new Pp(this.firestore,null,e)}}function og(t){t=Rp(t,Bp);const e=Rp(t.firestore,tm),i=im(e),n=new sg(e);return Om(t._query),$p(i,t._query).then((i=>new ig(e,n,t,i)))}function ag(t,e,i){t=Rp(t,Pp);const n=Rp(t.firestore,tm),r=Xm(t.converter,e,i);return dg(n,[mm(pm(n),"setDoc",t._key,r,null!==t.converter,i).toMutation(t._key,Wu.none())])}function hg(t,e,i,...n){t=Rp(t,Pp);const r=Rp(t.firestore,tm),s=pm(r);let o;return o="string"==typeof(e=N(e))||e instanceof sm?Mm(s,"updateDoc",t._key,e,i,n):_m(s,"updateDoc",t._key,e),dg(r,[o.toMutation(t._key,Wu.exists(!0))])}function lg(t){return dg(Rp(t.firestore,tm),[new rc(t._key,Wu.none())])}function ug(t,e){const i=Rp(t.firestore,tm),n=jp(t),r=Xm(t.converter,e);return dg(i,[mm(pm(t.firestore),"addDoc",n._key,r,null!==t.converter,{}).toMutation(n._key,Wu.exists(!1))]).then((()=>n))}function cg(t,...e){var i,n,r;t=N(t);let s={includeMetadataChanges:!1},o=0;"object"!=typeof e[o]||Jp(e[o])||(s=e[o],o++);const a={includeMetadataChanges:s.includeMetadataChanges};if(Jp(e[o])){const t=e[o];e[o]=null===(i=t.next)||void 0===i?void 0:i.bind(t),e[o+1]=null===(n=t.error)||void 0===n?void 0:n.bind(t),e[o+2]=null===(r=t.complete)||void 0===r?void 0:r.bind(t)}let h,l,u;if(t instanceof Pp)l=Rp(t.firestore,tm),u=du(t._key.path),h={next:i=>{e[o]&&e[o](fg(l,t,i))},error:e[o+1],complete:e[o+2]};else{const i=Rp(t,Bp);l=Rp(i.firestore,tm),u=i._query;const n=new sg(l);h={next:t=>{e[o]&&e[o](new ig(l,n,i,t))},error:e[o+1],complete:e[o+2]},Om(t._query)}return function(t,e,i,n){const r=new zp(n),s=new Jf(e,r,i);return t.asyncQueue.enqueueAndForget((async()=>Qf(await Yp(t),s))),()=>{r.bc(),t.asyncQueue.enqueueAndForget((async()=>Yf(await Yp(t),s)))}}(im(l),u,a,h)}function dg(t,e){return function(t,e){const i=new bh;return t.asyncQueue.enqueueAndForget((async()=>async function(t,e,i){const n=Ap(t);try{const t=await function(t,e){const i=gh(t),n=Rh.now(),r=e.reduce(((t,e)=>t.add(e.key)),Mc());let s,o;return i.persistence.runTransaction("Locally write mutations","readwrite",(t=>{let a=fc(),h=Mc();return i.Gi.getEntries(t,r).next((t=>{a=t,a.forEach(((t,e)=>{e.isValidDocument()||(h=h.add(t))}))})).next((()=>i.localDocuments.getOverlayedDocuments(t,a))).next((r=>{s=r;const o=[];for(const t of e){const e=$u(t,s.get(t.key).overlayedDocument);null!=e&&o.push(new tc(t.key,e,nu(e.value.mapValue),Wu.exists(!0)))}return i.mutationQueue.addMutationBatch(t,n,o,e)})).next((e=>{o=e;const n=e.applyToLocalDocumentSet(s,h);return i.documentOverlayCache.saveOverlays(t,e.batchId,n)}))})).then((()=>({batchId:o.batchId,changes:gc(s)})))}(n.localStore,e);n.sharedClientState.addPendingMutation(t.batchId),function(t,e,i){let n=t.hc[t.currentUser.toKey()];n||(n=new Zl(qh)),n=n.insert(e,i),t.hc[t.currentUser.toKey()]=n}(n,t.batchId,i),await _p(n,t.changes),await Tf(n.remoteStore)}catch(t){const e=zf(t,"Failed to persist write");i.reject(e)}}(await Qp(t),e,i))),i.promise}(im(t),e)}function fg(t,e,i){const n=i.docs.get(e._key),r=new sg(t);return new tg(t,r,e._key,n,new Jm(i.hasPendingWrites,i.fromCache),e.converter)}
/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pg(){return new ym("serverTimestamp")}function mg(...t){return new bm("arrayUnion",t)}function gg(...t){return new wm("arrayRemove",t)}!function(t,e=!0){ah=Et,Mt(new O("firestore",((t,{instanceIdentifier:i,options:n})=>{const r=t.getProvider("app").getImmediate(),s=new tm(new xh(t.getProvider("auth-internal")),new Sh(t.getProvider("app-check-internal")),function(t,e){if(!Object.prototype.hasOwnProperty.apply(t.options,["projectId"]))throw new yh(vh.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new $h(t.options.projectId,e)}(r,i),r);return n=Object.assign({useFetchStreams:e},n),s._setSettings(n),s}),"PUBLIC").setMultipleInstances(!0)),It(sh,"3.8.3",t),It(sh,"3.8.3","esm2017")}();
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
const vg="firebasestorage.googleapis.com",yg="storageBucket";
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class bg extends x{constructor(t,e,i=0){super(kg(t),`Firebase Storage: ${e} (${kg(t)})`),this.status_=i,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,bg.prototype)}get status(){return this.status_}set status(t){this.status_=t}_codeEquals(t){return kg(t)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(t){this.customData.serverResponse=t,this.customData.serverResponse?this.message=`${this._baseMessage}\n${this.customData.serverResponse}`:this.message=this._baseMessage}}var wg,_g,Mg,xg;function kg(t){return"storage/"+t}function Ag(){return new bg(wg.UNKNOWN,"An unknown error occurred, please check the error payload for server response.")}function Eg(){return new bg(wg.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function Sg(){return new bg(wg.CANCELED,"User canceled the upload/download.")}function Tg(){return new bg(wg.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function Ig(t){return new bg(wg.INVALID_ARGUMENT,t)}function qg(){return new bg(wg.APP_DELETED,"The Firebase app was deleted.")}function Cg(t,e){return new bg(wg.INVALID_FORMAT,"String does not match format '"+t+"': "+e)}function Rg(t){throw new bg(wg.INTERNAL_ERROR,"Internal error: "+t)}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(_g=wg||(wg={})).UNKNOWN="unknown",_g.OBJECT_NOT_FOUND="object-not-found",_g.BUCKET_NOT_FOUND="bucket-not-found",_g.PROJECT_NOT_FOUND="project-not-found",_g.QUOTA_EXCEEDED="quota-exceeded",_g.UNAUTHENTICATED="unauthenticated",_g.UNAUTHORIZED="unauthorized",_g.UNAUTHORIZED_APP="unauthorized-app",_g.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",_g.INVALID_CHECKSUM="invalid-checksum",_g.CANCELED="canceled",_g.INVALID_EVENT_NAME="invalid-event-name",_g.INVALID_URL="invalid-url",_g.INVALID_DEFAULT_BUCKET="invalid-default-bucket",_g.NO_DEFAULT_BUCKET="no-default-bucket",_g.CANNOT_SLICE_BLOB="cannot-slice-blob",_g.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",_g.NO_DOWNLOAD_URL="no-download-url",_g.INVALID_ARGUMENT="invalid-argument",_g.INVALID_ARGUMENT_COUNT="invalid-argument-count",_g.APP_DELETED="app-deleted",_g.INVALID_ROOT_OPERATION="invalid-root-operation",_g.INVALID_FORMAT="invalid-format",_g.INTERNAL_ERROR="internal-error",_g.UNSUPPORTED_ENVIRONMENT="unsupported-environment";class Dg{constructor(t,e){this.bucket=t,this.path_=e}get path(){return this.path_}get isRoot(){return 0===this.path.length}fullServerUrl(){const t=encodeURIComponent;return"/b/"+t(this.bucket)+"/o/"+t(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(t,e){let i;try{i=Dg.makeFromUrl(t,e)}catch(e){return new Dg(t,"")}if(""===i.path)return i;throw n=t,new bg(wg.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+n+"'.");var n}static makeFromUrl(t,e){let i=null;const n="([A-Za-z0-9.\\-_]+)";const r=new RegExp("^gs://"+n+"(/(.*))?$","i");function s(t){t.path_=decodeURIComponent(t.path)}const o=e.replace(/[.]/g,"\\."),a=[{regex:r,indices:{bucket:1,path:3},postModify:function(t){"/"===t.path.charAt(t.path.length-1)&&(t.path_=t.path_.slice(0,-1))}},{regex:new RegExp(`^https?://${o}/v[A-Za-z0-9_]+/b/${n}/o(/([^?#]*).*)?$`,"i"),indices:{bucket:1,path:3},postModify:s},{regex:new RegExp(`^https?://${e===vg?"(?:storage.googleapis.com|storage.cloud.google.com)":e}/${n}/([^?#]*)`,"i"),indices:{bucket:1,path:2},postModify:s}];for(let e=0;e<a.length;e++){const n=a[e],r=n.regex.exec(t);if(r){const t=r[n.indices.bucket];let e=r[n.indices.path];e||(e=""),i=new Dg(t,e),n.postModify(i);break}}if(null==i)throw function(t){return new bg(wg.INVALID_URL,"Invalid URL '"+t+"'.")}(t);return i}}class Lg{constructor(t){this.promise_=Promise.reject(t)}getPromise(){return this.promise_}cancel(t=!1){}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ng(t){return"string"==typeof t||t instanceof String}function Og(t){return Pg()&&t instanceof Blob}function Pg(){return"undefined"!=typeof Blob&&!b()}function Bg(t,e,i,n){if(n<e)throw Ig(`Invalid value for '${t}'. Expected ${e} or greater.`);if(n>i)throw Ig(`Invalid value for '${t}'. Expected ${i} or less.`)}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ug(t,e,i){let n=e;return null==i&&(n=`https://${e}`),`${i}://${n}/v0${t}`}function Fg(t){const e=encodeURIComponent;let i="?";for(const n in t)if(t.hasOwnProperty(n)){i=i+(e(n)+"="+e(t[n]))+"&"}return i=i.slice(0,-1),i}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function jg(t,e){const i=t>=500&&t<600,n=-1!==[408,429].indexOf(t),r=-1!==e.indexOf(t);return i||n||r}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(xg=Mg||(Mg={}))[xg.NO_ERROR=0]="NO_ERROR",xg[xg.NETWORK_ERROR=1]="NETWORK_ERROR",xg[xg.ABORT=2]="ABORT";class zg{constructor(t,e,i,n,r,s,o,a,h,l,u,c=!0){this.url_=t,this.method_=e,this.headers_=i,this.body_=n,this.successCodes_=r,this.additionalRetryCodes_=s,this.callback_=o,this.errorCallback_=a,this.timeout_=h,this.progressCallback_=l,this.connectionFactory_=u,this.retry=c,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise(((t,e)=>{this.resolve_=t,this.reject_=e,this.start_()}))}start_(){const t=(t,e)=>{const i=this.resolve_,n=this.reject_,r=e.connection;if(e.wasSuccessCode)try{const t=this.callback_(r,r.getResponse());void 0!==t?i(t):i()}catch(t){n(t)}else if(null!==r){const t=Ag();t.serverResponse=r.getErrorText(),this.errorCallback_?n(this.errorCallback_(r,t)):n(t)}else if(e.canceled){n(this.appDelete_?qg():Sg())}else{n(Eg())}};this.canceled_?t(0,new Vg(!1,null,!0)):this.backoffId_=function(t,e,i){let n=1,r=null,s=null,o=!1,a=0;function h(){return 2===a}let l=!1;function u(...t){l||(l=!0,e.apply(null,t))}function c(e){r=setTimeout((()=>{r=null,t(f,h())}),e)}function d(){s&&clearTimeout(s)}function f(t,...e){if(l)return void d();if(t)return d(),void u.call(null,t,...e);if(h()||o)return d(),void u.call(null,t,...e);let i;n<64&&(n*=2),1===a?(a=2,i=0):i=1e3*(n+Math.random()),c(i)}let p=!1;function m(t){p||(p=!0,d(),l||(null!==r?(t||(a=2),clearTimeout(r),c(0)):t||(a=1)))}return c(0),s=setTimeout((()=>{o=!0,m(!0)}),i),m}(((t,e)=>{if(e)return void t(!1,new Vg(!1,null,!0));const i=this.connectionFactory_();this.pendingConnection_=i;const n=t=>{const e=t.loaded,i=t.lengthComputable?t.total:-1;null!==this.progressCallback_&&this.progressCallback_(e,i)};null!==this.progressCallback_&&i.addUploadProgressListener(n),i.send(this.url_,this.method_,this.body_,this.headers_).then((()=>{null!==this.progressCallback_&&i.removeUploadProgressListener(n),this.pendingConnection_=null;const e=i.getErrorCode()===Mg.NO_ERROR,r=i.getStatus();if(!e||jg(r,this.additionalRetryCodes_)&&this.retry){const e=i.getErrorCode()===Mg.ABORT;return void t(!1,new Vg(!1,null,e))}const s=-1!==this.successCodes_.indexOf(r);t(!0,new Vg(s,i))}))}),t,this.timeout_)}getPromise(){return this.promise_}cancel(t){this.canceled_=!0,this.appDelete_=t||!1,null!==this.backoffId_&&(0,this.backoffId_)(!1),null!==this.pendingConnection_&&this.pendingConnection_.abort()}}class Vg{constructor(t,e,i){this.wasSuccessCode=t,this.connection=e,this.canceled=!!i}}function Hg(...t){const e="undefined"!=typeof BlobBuilder?BlobBuilder:"undefined"!=typeof WebKitBlobBuilder?WebKitBlobBuilder:void 0;if(void 0!==e){const i=new e;for(let e=0;e<t.length;e++)i.append(t[e]);return i.getBlob()}if(Pg())return new Blob(t);throw new bg(wg.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}
/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wg(t){if("undefined"==typeof atob)throw e="base-64",new bg(wg.UNSUPPORTED_ENVIRONMENT,`${e} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`);var e;return atob(t)}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kg={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class Gg{constructor(t,e){this.data=t,this.contentType=e||null}}function Qg(t,e){switch(t){case Kg.RAW:return new Gg(Yg(e));case Kg.BASE64:case Kg.BASE64URL:return new Gg(Zg(t,e));case Kg.DATA_URL:return new Gg(function(t){const e=new $g(t);return e.base64?Zg(Kg.BASE64,e.rest):function(t){let e;try{e=decodeURIComponent(t)}catch(t){throw Cg(Kg.DATA_URL,"Malformed data URL.")}return Yg(e)}(e.rest)}(e),new $g(e).contentType)}throw Ag()}function Yg(t){const e=[];for(let i=0;i<t.length;i++){let n=t.charCodeAt(i);if(n<=127)e.push(n);else if(n<=2047)e.push(192|n>>6,128|63&n);else if(55296==(64512&n)){if(i<t.length-1&&56320==(64512&t.charCodeAt(i+1))){n=65536|(1023&n)<<10|1023&t.charCodeAt(++i),e.push(240|n>>18,128|n>>12&63,128|n>>6&63,128|63&n)}else e.push(239,191,189)}else 56320==(64512&n)?e.push(239,191,189):e.push(224|n>>12,128|n>>6&63,128|63&n)}return new Uint8Array(e)}function Zg(t,e){switch(t){case Kg.BASE64:{const i=-1!==e.indexOf("-"),n=-1!==e.indexOf("_");if(i||n){throw Cg(t,"Invalid character '"+(i?"-":"_")+"' found: is it base64url encoded?")}break}case Kg.BASE64URL:{const i=-1!==e.indexOf("+"),n=-1!==e.indexOf("/");if(i||n){throw Cg(t,"Invalid character '"+(i?"+":"/")+"' found: is it base64 encoded?")}e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let i;try{i=Wg(e)}catch(e){if(e.message.includes("polyfill"))throw e;throw Cg(t,"Invalid character found")}const n=new Uint8Array(i.length);for(let t=0;t<i.length;t++)n[t]=i.charCodeAt(t);return n}class $g{constructor(t){this.base64=!1,this.contentType=null;const e=t.match(/^data:([^,]+)?,/);if(null===e)throw Cg(Kg.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const i=e[1]||null;var n,r;
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */null!=i&&(this.base64=(r=";base64",!!((n=i).length>=r.length)&&n.substring(n.length-r.length)===r),this.contentType=this.base64?i.substring(0,i.length-7):i),this.rest=t.substring(t.indexOf(",")+1)}}class Xg{constructor(t,e){let i=0,n="";Og(t)?(this.data_=t,i=t.size,n=t.type):t instanceof ArrayBuffer?(e?this.data_=new Uint8Array(t):(this.data_=new Uint8Array(t.byteLength),this.data_.set(new Uint8Array(t))),i=this.data_.length):t instanceof Uint8Array&&(e?this.data_=t:(this.data_=new Uint8Array(t.length),this.data_.set(t)),i=t.length),this.size_=i,this.type_=n}size(){return this.size_}type(){return this.type_}slice(t,e){if(Og(this.data_)){const s=this.data_,o=(n=t,r=e,(i=s).webkitSlice?i.webkitSlice(n,r):i.mozSlice?i.mozSlice(n,r):i.slice?i.slice(n,r):null);return null===o?null:new Xg(o)}{const i=new Uint8Array(this.data_.buffer,t,e-t);return new Xg(i,!0)}var i,n,r}static getBlob(...t){if(Pg()){const e=t.map((t=>t instanceof Xg?t.data_:t));return new Xg(Hg.apply(null,e))}{const e=t.map((t=>Ng(t)?Qg(Kg.RAW,t).data:t.data_));let i=0;e.forEach((t=>{i+=t.byteLength}));const n=new Uint8Array(i);let r=0;return e.forEach((t=>{for(let e=0;e<t.length;e++)n[r++]=t[e]})),new Xg(n,!0)}}uploadData(){return this.data_}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jg(t){let e;try{e=JSON.parse(t)}catch(t){return null}return"object"!=typeof(i=e)||Array.isArray(i)?null:e;var i}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tv(t){const e=t.lastIndexOf("/",t.length-2);return-1===e?t:t.slice(e+1)}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ev(t,e){return e}class iv{constructor(t,e,i,n){this.server=t,this.local=e||t,this.writable=!!i,this.xform=n||ev}}let nv=null;function rv(){if(nv)return nv;const t=[];t.push(new iv("bucket")),t.push(new iv("generation")),t.push(new iv("metageneration")),t.push(new iv("name","fullPath",!0));const e=new iv("name");e.xform=function(t,e){return function(t){return!Ng(t)||t.length<2?t:tv(t)}(e)},t.push(e);const i=new iv("size");return i.xform=function(t,e){return void 0!==e?Number(e):e},t.push(i),t.push(new iv("timeCreated")),t.push(new iv("updated")),t.push(new iv("md5Hash",null,!0)),t.push(new iv("cacheControl",null,!0)),t.push(new iv("contentDisposition",null,!0)),t.push(new iv("contentEncoding",null,!0)),t.push(new iv("contentLanguage",null,!0)),t.push(new iv("contentType",null,!0)),t.push(new iv("metadata","customMetadata",!0)),nv=t,nv}function sv(t,e,i){const n={type:"file"},r=i.length;for(let t=0;t<r;t++){const r=i[t];n[r.local]=r.xform(n,e[r.server])}return function(t,e){Object.defineProperty(t,"ref",{get:function(){const i=t.bucket,n=t.fullPath,r=new Dg(i,n);return e._makeStorageReference(r)}})}(n,t),n}function ov(t,e,i){const n=Jg(e);if(null===n)return null;return sv(t,n,i)}function av(t,e){const i={},n=e.length;for(let r=0;r<n;r++){const n=e[r];n.writable&&(i[n.server]=t[n.local])}return JSON.stringify(i)}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hv{constructor(t,e,i,n){this.url=t,this.method=e,this.handler=i,this.timeout=n,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lv(t){if(!t)throw Ag()}function uv(t,e){return function(i,n){const r=ov(t,n,e);return lv(null!==r),r}}function cv(t,e){return function(i,n){const r=ov(t,n,e);return lv(null!==r),function(t,e,i,n){const r=Jg(e);if(null===r)return null;if(!Ng(r.downloadTokens))return null;const s=r.downloadTokens;if(0===s.length)return null;const o=encodeURIComponent;return s.split(",").map((e=>{const r=t.bucket,s=t.fullPath;return Ug("/b/"+o(r)+"/o/"+o(s),i,n)+Fg({alt:"media",token:e})}))[0]}(r,n,t.host,t._protocol)}}function dv(t){return function(e,i){let n;var r,s;return 401===e.getStatus()?n=e.getErrorText().includes("Firebase App Check token is invalid")?new bg(wg.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project."):new bg(wg.UNAUTHENTICATED,"User is not authenticated, please authenticate using Firebase Authentication and try again."):402===e.getStatus()?(s=t.bucket,n=new bg(wg.QUOTA_EXCEEDED,"Quota for bucket '"+s+"' exceeded, please view quota on https://firebase.google.com/pricing/.")):403===e.getStatus()?(r=t.path,n=new bg(wg.UNAUTHORIZED,"User does not have permission to access '"+r+"'.")):n=i,n.status=e.getStatus(),n.serverResponse=i.serverResponse,n}}function fv(t){const e=dv(t);return function(i,n){let r=e(i,n);var s;return 404===i.getStatus()&&(s=t.path,r=new bg(wg.OBJECT_NOT_FOUND,"Object '"+s+"' does not exist.")),r.serverResponse=n.serverResponse,r}}function pv(t,e,i){const n=Ug(e.fullServerUrl(),t.host,t._protocol),r=t.maxOperationRetryTime,s=new hv(n,"GET",uv(t,i),r);return s.errorHandler=fv(e),s}function mv(t,e,i){const n=Object.assign({},i);return n.fullPath=t.path,n.size=e.size(),n.contentType||(n.contentType=function(t,e){return t&&t.contentType||e&&e.type()||"application/octet-stream"}(null,e)),n}function gv(t,e,i,n,r){const s=e.bucketOnlyServerUrl(),o={"X-Goog-Upload-Protocol":"multipart"};const a=function(){let t="";for(let e=0;e<2;e++)t+=Math.random().toString().slice(2);return t}();o["Content-Type"]="multipart/related; boundary="+a;const h=mv(e,n,r),l="--"+a+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+av(h,i)+"\r\n--"+a+"\r\nContent-Type: "+h.contentType+"\r\n\r\n",u="\r\n--"+a+"--",c=Xg.getBlob(l,n,u);if(null===c)throw Tg();const d={name:h.fullPath},f=Ug(s,t.host,t._protocol),p=t.maxUploadRetryTime,m=new hv(f,"POST",uv(t,i),p);return m.urlParams=d,m.headers=o,m.body=c.uploadData(),m.errorHandler=dv(e),m}class vv{constructor(t,e,i,n){this.current=t,this.total=e,this.finalized=!!i,this.metadata=n||null}}function yv(t,e){let i=null;try{i=t.getResponseHeader("X-Goog-Upload-Status")}catch(t){lv(!1)}return lv(!!i&&-1!==(e||["active"]).indexOf(i)),i}const bv=262144;function wv(t,e,i,n,r,s,o,a){const h=new vv(0,0);if(o?(h.current=o.current,h.total=o.total):(h.current=0,h.total=n.size()),n.size()!==h.total)throw new bg(wg.SERVER_FILE_WRONG_SIZE,"Server recorded incorrect upload file size, please retry the upload.");const l=h.total-h.current;let u=l;r>0&&(u=Math.min(u,r));const c=h.current,d=c+u;let f="";f=0===u?"finalize":l===u?"upload, finalize":"upload";const p={"X-Goog-Upload-Command":f,"X-Goog-Upload-Offset":`${h.current}`},m=n.slice(c,d);if(null===m)throw Tg();const g=e.maxUploadRetryTime,v=new hv(i,"POST",(function(t,i){const r=yv(t,["active","final"]),o=h.current+u,a=n.size();let l;return l="final"===r?uv(e,s)(t,i):null,new vv(o,a,"final"===r,l)}),g);return v.headers=p,v.body=m.uploadData(),v.progressCallback=a||null,v.errorHandler=dv(t),v}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _v={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function Mv(t){switch(t){case"running":case"pausing":case"canceling":return _v.RUNNING;case"paused":return _v.PAUSED;case"success":return _v.SUCCESS;case"canceled":return _v.CANCELED;default:return _v.ERROR}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xv{constructor(t,e,i){if("function"==typeof t||null!=e||null!=i)this.next=t,this.error=null!=e?e:void 0,this.complete=null!=i?i:void 0;else{const e=t;this.next=e.next,this.error=e.error,this.complete=e.complete}}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kv(t){return(...e)=>{Promise.resolve().then((()=>t(...e)))}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Av=null;class Ev{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=Mg.NO_ERROR,this.sendPromise_=new Promise((t=>{this.xhr_.addEventListener("abort",(()=>{this.errorCode_=Mg.ABORT,t()})),this.xhr_.addEventListener("error",(()=>{this.errorCode_=Mg.NETWORK_ERROR,t()})),this.xhr_.addEventListener("load",(()=>{t()}))}))}send(t,e,i,n){if(this.sent_)throw Rg("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(e,t,!0),void 0!==n)for(const t in n)n.hasOwnProperty(t)&&this.xhr_.setRequestHeader(t,n[t].toString());return void 0!==i?this.xhr_.send(i):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw Rg("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw Rg("cannot .getStatus() before sending");try{return this.xhr_.status}catch(t){return-1}}getResponse(){if(!this.sent_)throw Rg("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw Rg("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(t){return this.xhr_.getResponseHeader(t)}addUploadProgressListener(t){null!=this.xhr_.upload&&this.xhr_.upload.addEventListener("progress",t)}removeUploadProgressListener(t){null!=this.xhr_.upload&&this.xhr_.upload.removeEventListener("progress",t)}}class Sv extends Ev{initXhr(){this.xhr_.responseType="text"}}function Tv(){return Av?Av():new Sv}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class Iv{constructor(t,e,i=null){this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=t,this._blob=e,this._metadata=i,this._mappings=rv(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=t=>{if(this._request=void 0,this._chunkMultiplier=1,t._codeEquals(wg.CANCELED))this._needToFetchStatus=!0,this.completeTransitions_();else{const e=this.isExponentialBackoffExpired();if(jg(t.status,[])){if(!e)return this.sleepTime=Math.max(2*this.sleepTime,1e3),this._needToFetchStatus=!0,void this.completeTransitions_();t=Eg()}this._error=t,this._transition("error")}},this._metadataErrorHandler=t=>{this._request=void 0,t._codeEquals(wg.CANCELED)?this.completeTransitions_():(this._error=t,this._transition("error"))},this.sleepTime=0,this.maxSleepTime=this._ref.storage.maxUploadRetryTime,this._promise=new Promise(((t,e)=>{this._resolve=t,this._reject=e,this._start()})),this._promise.then(null,(()=>{}))}isExponentialBackoffExpired(){return this.sleepTime>this.maxSleepTime}_makeProgressCallback(){const t=this._transferred;return e=>this._updateProgress(t+e)}_shouldDoResumable(t){return t.size()>262144}_start(){"running"===this._state&&void 0===this._request&&(this._resumable?void 0===this._uploadUrl?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this.pendingTimeout=setTimeout((()=>{this.pendingTimeout=void 0,this._continueUpload()}),this.sleepTime):this._oneShotUpload())}_resolveToken(t){Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then((([e,i])=>{switch(this._state){case"running":t(e,i);break;case"canceling":this._transition("canceled");break;case"pausing":this._transition("paused")}}))}_createResumable(){this._resolveToken(((t,e)=>{const i=function(t,e,i,n,r){const s=e.bucketOnlyServerUrl(),o=mv(e,n,r),a={name:o.fullPath},h=Ug(s,t.host,t._protocol),l={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${n.size()}`,"X-Goog-Upload-Header-Content-Type":o.contentType,"Content-Type":"application/json; charset=utf-8"},u=av(o,i),c=t.maxUploadRetryTime,d=new hv(h,"POST",(function(t){let e;yv(t);try{e=t.getResponseHeader("X-Goog-Upload-URL")}catch(t){lv(!1)}return lv(Ng(e)),e}),c);return d.urlParams=a,d.headers=l,d.body=u,d.errorHandler=dv(e),d}(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),n=this._ref.storage._makeRequest(i,Tv,t,e);this._request=n,n.getPromise().then((t=>{this._request=void 0,this._uploadUrl=t,this._needToFetchStatus=!1,this.completeTransitions_()}),this._errorHandler)}))}_fetchStatus(){const t=this._uploadUrl;this._resolveToken(((e,i)=>{const n=function(t,e,i,n){const r=t.maxUploadRetryTime,s=new hv(i,"POST",(function(t){const e=yv(t,["active","final"]);let i=null;try{i=t.getResponseHeader("X-Goog-Upload-Size-Received")}catch(t){lv(!1)}i||lv(!1);const r=Number(i);return lv(!isNaN(r)),new vv(r,n.size(),"final"===e)}),r);return s.headers={"X-Goog-Upload-Command":"query"},s.errorHandler=dv(e),s}(this._ref.storage,this._ref._location,t,this._blob),r=this._ref.storage._makeRequest(n,Tv,e,i);this._request=r,r.getPromise().then((t=>{this._request=void 0,this._updateProgress(t.current),this._needToFetchStatus=!1,t.finalized&&(this._needToFetchMetadata=!0),this.completeTransitions_()}),this._errorHandler)}))}_continueUpload(){const t=bv*this._chunkMultiplier,e=new vv(this._transferred,this._blob.size()),i=this._uploadUrl;this._resolveToken(((n,r)=>{let s;try{s=wv(this._ref._location,this._ref.storage,i,this._blob,t,this._mappings,e,this._makeProgressCallback())}catch(t){return this._error=t,void this._transition("error")}const o=this._ref.storage._makeRequest(s,Tv,n,r,!1);this._request=o,o.getPromise().then((t=>{this._increaseMultiplier(),this._request=void 0,this._updateProgress(t.current),t.finalized?(this._metadata=t.metadata,this._transition("success")):this.completeTransitions_()}),this._errorHandler)}))}_increaseMultiplier(){2*(bv*this._chunkMultiplier)<33554432&&(this._chunkMultiplier*=2)}_fetchMetadata(){this._resolveToken(((t,e)=>{const i=pv(this._ref.storage,this._ref._location,this._mappings),n=this._ref.storage._makeRequest(i,Tv,t,e);this._request=n,n.getPromise().then((t=>{this._request=void 0,this._metadata=t,this._transition("success")}),this._metadataErrorHandler)}))}_oneShotUpload(){this._resolveToken(((t,e)=>{const i=gv(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),n=this._ref.storage._makeRequest(i,Tv,t,e);this._request=n,n.getPromise().then((t=>{this._request=void 0,this._metadata=t,this._updateProgress(this._blob.size()),this._transition("success")}),this._errorHandler)}))}_updateProgress(t){const e=this._transferred;this._transferred=t,this._transferred!==e&&this._notifyObservers()}_transition(t){if(this._state!==t)switch(t){case"canceling":case"pausing":this._state=t,void 0!==this._request?this._request.cancel():this.pendingTimeout&&(clearTimeout(this.pendingTimeout),this.pendingTimeout=void 0,this.completeTransitions_());break;case"running":const e="paused"===this._state;this._state=t,e&&(this._notifyObservers(),this._start());break;case"paused":case"error":case"success":this._state=t,this._notifyObservers();break;case"canceled":this._error=Sg(),this._state=t,this._notifyObservers()}}completeTransitions_(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start()}}get snapshot(){const t=Mv(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:t,metadata:this._metadata,task:this,ref:this._ref}}on(t,e,i,n){const r=new xv(e||void 0,i||void 0,n||void 0);return this._addObserver(r),()=>{this._removeObserver(r)}}then(t,e){return this._promise.then(t,e)}catch(t){return this.then(null,t)}_addObserver(t){this._observers.push(t),this._notifyObserver(t)}_removeObserver(t){const e=this._observers.indexOf(t);-1!==e&&this._observers.splice(e,1)}_notifyObservers(){this._finishPromise();this._observers.slice().forEach((t=>{this._notifyObserver(t)}))}_finishPromise(){if(void 0!==this._resolve){let t=!0;switch(Mv(this._state)){case _v.SUCCESS:kv(this._resolve.bind(null,this.snapshot))();break;case _v.CANCELED:case _v.ERROR:kv(this._reject.bind(null,this._error))();break;default:t=!1}t&&(this._resolve=void 0,this._reject=void 0)}}_notifyObserver(t){switch(Mv(this._state)){case _v.RUNNING:case _v.PAUSED:t.next&&kv(t.next.bind(t,this.snapshot))();break;case _v.SUCCESS:t.complete&&kv(t.complete.bind(t))();break;case _v.CANCELED:case _v.ERROR:default:t.error&&kv(t.error.bind(t,this._error))()}}resume(){const t="paused"===this._state||"pausing"===this._state;return t&&this._transition("running"),t}pause(){const t="running"===this._state;return t&&this._transition("pausing"),t}cancel(){const t="running"===this._state||"pausing"===this._state;return t&&this._transition("canceling"),t}}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qv{constructor(t,e){this._service=t,this._location=e instanceof Dg?e:Dg.makeFromUrl(e,t.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(t,e){return new qv(t,e)}get root(){const t=new Dg(this._location.bucket,"");return this._newRef(this._service,t)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return tv(this._location.path)}get storage(){return this._service}get parent(){const t=function(t){if(0===t.length)return null;const e=t.lastIndexOf("/");return-1===e?"":t.slice(0,e)}(this._location.path);if(null===t)return null;const e=new Dg(this._location.bucket,t);return new qv(this._service,e)}_throwIfRoot(t){if(""===this._location.path)throw function(t){return new bg(wg.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}(t)}}function Cv(t){t._throwIfRoot("getDownloadURL");const e=function(t,e,i){const n=Ug(e.fullServerUrl(),t.host,t._protocol),r=t.maxOperationRetryTime,s=new hv(n,"GET",cv(t,i),r);return s.errorHandler=fv(e),s}(t.storage,t._location,rv());return t.storage.makeRequestWithTokens(e,Tv).then((t=>{if(null===t)throw new bg(wg.NO_DOWNLOAD_URL,"The given file does not have any download URLs.");return t}))}function Rv(t,e){const i=function(t,e){const i=e.split("/").filter((t=>t.length>0)).join("/");return 0===t.length?i:t+"/"+i}(t._location.path,e),n=new Dg(t._location.bucket,i);return new qv(t.storage,n)}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dv(t,e){if(t instanceof Ov){const i=t;if(null==i._bucket)throw new bg(wg.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+yg+"' property when initializing the app?");const n=new qv(i,i._bucket);return null!=e?Dv(n,e):n}return void 0!==e?Rv(t,e):t}function Lv(t,e){if(e&&/^[A-Za-z]+:\/\//.test(e)){if(t instanceof Ov)return new qv(t,e);throw Ig("To use ref(service, url), the first argument must be a Storage instance.")}return Dv(t,e)}function Nv(t,e){const i=null==e?void 0:e[yg];return null==i?null:Dg.makeFromBucketSpec(i,t)}class Ov{constructor(t,e,i,n,r){this.app=t,this._authProvider=e,this._appCheckProvider=i,this._url=n,this._firebaseVersion=r,this._bucket=null,this._host=vg,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=n?Dg.makeFromBucketSpec(n,this._host):Nv(this._host,this.app.options)}get host(){return this._host}set host(t){this._host=t,null!=this._url?this._bucket=Dg.makeFromBucketSpec(this._url,t):this._bucket=Nv(t,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(t){Bg("time",0,Number.POSITIVE_INFINITY,t),this._maxUploadRetryTime=t}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(t){Bg("time",0,Number.POSITIVE_INFINITY,t),this._maxOperationRetryTime=t}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const t=this._authProvider.getImmediate({optional:!0});if(t){const e=await t.getToken();if(null!==e)return e.accessToken}return null}async _getAppCheckToken(){const t=this._appCheckProvider.getImmediate({optional:!0});if(t){return(await t.getToken()).token}return null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach((t=>t.cancel())),this._requests.clear()),Promise.resolve()}_makeStorageReference(t){return new qv(this,t)}_makeRequest(t,e,i,n,r=!0){if(this._deleted)return new Lg(qg());{const s=function(t,e,i,n,r,s,o=!0){const a=Fg(t.urlParams),h=t.url+a,l=Object.assign({},t.headers);return function(t,e){e&&(t["X-Firebase-GMPID"]=e)}(l,e),function(t,e){null!==e&&e.length>0&&(t.Authorization="Firebase "+e)}(l,i),function(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(null!=e?e:"AppManager")}(l,s),function(t,e){null!==e&&(t["X-Firebase-AppCheck"]=e)}(l,n),new zg(h,t.method,l,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,r,o)}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(t,this._appId,i,n,e,this._firebaseVersion,r);return this._requests.add(s),s.getPromise().then((()=>this._requests.delete(s)),(()=>this._requests.delete(s))),s}}async makeRequestWithTokens(t,e){const[i,n]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(t,e,i,n).getPromise()}}const Pv="@firebase/storage",Bv="0.11.1",Uv="storage";function Fv(t,e,i){return function(t,e,i){return t._throwIfRoot("uploadBytesResumable"),new Iv(t,new Xg(e),i)}(t=N(t),e,i)}function jv(t){return Cv(t=N(t))}function zv(t,e){return Lv(t=N(t),e)}function Vv(t,{instanceIdentifier:e}){const i=t.getProvider("app").getImmediate(),n=t.getProvider("auth-internal"),r=t.getProvider("app-check-internal");return new Ov(i,n,r,e,Et)}Mt(new O(Uv,Vv,"PUBLIC").setMultipleInstances(!0)),It(Pv,Bv,""),It(Pv,Bv,"esm2017");let Hv='\n<span class="in_t">About</span>\n        <img id="abt_tab_t_t_img" alt="MTT Logo" src="https://avatars1.githubusercontent.com/u/64828294?s=460&amp;v=4">\n        <div id="abt_tab_t_hold">\n            <span id="abt_name">Mr Techtroid</span>\n            <span class="abt_det">\n                <span id="abt_email">mrtechtroid@outlook.com</span>\n            </span>\n            <div style="font-size: 16px;max-width:400px;align-items: flex-end;">\n                <span>I Am Mr Techtroid The Main Developer Of <span class="sp_txt">Quarkz!</span></span>\n                <span>I Built This Website As A Way For Schools To Head Towards Online Learning</span>\n                <span>Its Built In A Way That It Is Easy For Both Teachers And Students To Use</span>\n                <span>Quarkz Is Currently Under Beta Version And Many Features Will Come In The Future</span>\n            </div>\n        </div>\n        <div id="abt_c_1">\n            <button id="lgl_btn" class="tst_btn rpl">Legal</button>\n            <button id="rbu_btn" class="tst_btn rpl" onclick="window.location = \'/#/bugreport\'">Report Bugs</button>\n            <button id="apinf_btn" class="tst_btn rpl" onclick="window.location = \'/#/appinfo\'">App Info</button>\n            <a id="contq_btn"\n                href="https://docs.google.com/forms/d/e/1FAIpQLSfLZ2_GUDv6EYRR3kz53BYtsP3SaTIMfCo8az-xPzUi1nb91A/viewform"\n                class="tst_btn rpl" target="_blank">Contact Us</a>\n        </div>\n';let Wv='\n<span class="in_t">Chapters</span>\n        <hr style="color:var(--clr18)" width="100%">\n        <div style="display: flex;flex-direction: row;flex-wrap: wrap;justify-content:center;">\n            <button class="tst_btn rpl" id="pchb">Physics</button>\n            <button class="tst_btn rpl" id="cchb">Chemistry</button>\n            <button class="tst_btn rpl" id="mchb">Maths</button>\n            <button class="tst_btn rpl" id="bchb">Biology</button>\n            <button class="tst_btn rpl" id="cochb">Computer</button>\n            <button class="tst_btn rpl" id="schb">Statistics</button>\n            <button class="tst_btn rpl" id="uchb">Unfiled</button>\n        </div>\n        <div id="qb_cont_2" style="overflow-y: scroll;height:50vh;" class="flex_type">\n        </div>',Kv='\n<span><span class="in_t" id="chp_chaptername">Topic</span><button class="tst_btn rpl" id="chp_edit">Edit</button></span>\n        <div class = "flex_type" style="flex-direction: row;flex-wrap: wrap;align-items:center;justify-content:center;">\n            <div id="chpt_topics" class = "db_class">\n                <span style="font-size: 25px;color:var(--clr16)">Topics</span>\n                <div id="chp_tpc_list" style="overflow-y: scroll;height:60vh;" class="flex_type"></div>\n            </div>\n            <div id="chpt_qbanks" class = "db_class">\n                <span style="font-size: 25px;color:var(--clr16)">Question Banks</span>\n                <div id="chp_qbk_list" style="overflow-y: scroll;height:60vh;" class="flex_type"></div>\n            </div>\n        </div>';let Gv='<div id="cyberhunt" class="full_page flex_type">\n        <div id="cyb_code" class="flex_type">\n            <span class="in_t">Join Cyberhunt!</span>\n            <hr style="color:var(--clr18)" width="100%">\n            <span>Do You Want To Join A Cyberhunt?Enter The Cyberhunt Code Below:</span>\n            <input id="cyb_cd_in" class="_in_aq" placeholder="i2a01pmzshn1">\n            <button class="tst_btn rpl" id="cyb_cd_sbm"\n                onclick="if (document.getElementById(\'cyb_cd_in\').value != \'\'){window.location.hash = \'/cyberhunt/\'+document.getElementById(\'cyb_cd_in\').value}">Submit</button>\n            <span>Joined Cyberhunts</span>\n            <div id="cyb_joined"\n                style="overflow-y: scroll;display: flex;flex-direction: column;height: 30vh;width: 40vw;border: 3px greenyellow solid;padding-left: 6px;">\n            </div>\n        </div>\n        <div id="cyb_edit">\n\n        </div>\n        <div id="cyb_viewer" class="flex_type" style="width:100%;height:100%">\n            <div\n                style="display:flex;flex-direction:column;justify-content: left;width:100%;margin-left:5vw;margin-top:10px;">\n                <span style="font-size: 16px;">Welcome to</span>\n                <span id="cyb_v_name" style="font-size: 30px">CyberHunt Name</span>\n                <span id="cyb_v_status" style="font-size: 18px">started on XX:XX</span>\n                <span id="cyb_v_crtby" style="font-size: 15px">By Mr Techtroid</span>\n            </div>\n            <span style="font-size: 16px;">Participants List</span>\n            <div id="cyb_v_plist"\n                style="display:flex;flex-direction:row;flex-wrap:wrap;border: solid grey 2px;border-radius: 10px 10px 10px;width:90%;height:40vh;padding:10px;overflow-y: scroll;">\n                <div class="cyb_v_plist_p"\n                    style="display: flex;flex-direction: column;width:100px;height:50px;border: solid grey 2px;border-radius: 10px 10px 10px;text-align: center;">\n                    <span>Mr Techtroid</span>\n                </div>\n            </div>\n        </div>\n\n    </div>';let Qv='\n<div id="options_tab"\n                style="display: flex;flex-direction: column;align-items:center;justify-content: space-evenly;width: 150px;height:100%;">\n                <span class="material-symbols-outlined rpl rpl-2 db_opt" translate="no" onclick="window.location = \'#/settings\'">settings</span>\n                <span class="material-symbols-outlined rpl rpl-2 db_opt" translate="no" onclick="window.location = \'#/about\'">info</span>\n                <span class="material-symbols-outlined rpl rpl-2 db_opt" translate="no" onclick="window.location = \'#/updates\'">notifications</span>\n                <span class="material-symbols-outlined rpl rpl-2 db_opt" translate="no" onclick="window.location = \'#/profile\'">account_circle</span>\n                <span class="material-symbols-outlined rpl rpl-2 db_opt" translate="no" onclick="window.location = \'#/store\'">shopping_cart</span>\n                <span class="material-symbols-outlined rpl rpl-2 db_opt" translate="no" onclick="window.location = \'#/codehunt\'">code</span>\n                <span class="material-symbols-outlined rpl rpl-2 db_opt" translate="no" onclick="window.location = \'#/logout\'">logout</span>\n            </div>\n        <div\n            style="display: flex;flex-direction: row;flex-wrap: wrap;margin-left: 10px;align-items: flex-start;height:100%;margin-top: 15px;justify-content: space-evenly;overflow-y: scroll;margin-bottom:10px;">\n            <div id="db_exam_info" class = "db_class" style="max-height: 30vh;">\n                <span style="font-size: 25px;color:var(--clr16)">Exam Info</span>\n                <div id="db_exam_list"></div>\n            </div>\n            <div id="db_social_media" class = "db_class">\n                <span style="font-size: 25px;color:var(--clr16)">We\'re on Social Media</span>\n                <span style="font-size: 14px;color:grey;margin-left: 10px;">Follow us, & share with your friends. It motivates us to keep\n                    working hard for you to bring new features. </span>\n                <img style="width:50px;cursor:pointer;" alt="Youtube Logo" class="rpl rpl-2"\n                    onclick="window.open(\'https://www.youtube.com/@quarkz./\', \'_blank\');"\n                    src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAIAAAABaCAMAAABHRa6wAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAACcFBMVEUAAAD/Ly//BQX/AAD/ExP/MDD/LS3/LCz/PDz/Z2f/X1//EhL/CAj/AAD/AAD/AAD/AAD/AAD/AAD/AAD/AAD/AAD/AAD/AAD/AAD/AAD/AAD/AAD/AAD/AAD/AAD/AAD/AAD/AAD/AAD/AAD/AAD/AAD/AAD/AAD/AAD/AAD/AAD/AAD/AAD/AAD/AAD/AAD/AAD/AAD/AAD/AAD/AAD/AAD/AAD/AAD/AAD/AAD/AAD/AAD/AAD/AAD/AAD/AAD/AAD/AAD/AAD/AAD/AAD/AAD/CAj/AAD/AAD/AAD/AAD/AAD/AAD/AAD/AAD/AAD/AAD/AAD/AAD/AAD/AAD/AAD/AAD/AAD/AAD/AAD/AAD/AAD/AAD/AAD/AAD/AAD/AAD/AAD/AAD/AAD/AAD/AAD/AAD/AAD/AAD/AAD/R0f/Q0P/Wlr/QED/Vlb/PT3/UlL/PDz/UFD/Ojr/Tk7/OTn/TEz/ODj/S0v/Nzf/Skr/Nzf/SUn/Njb/SEj/Njb/SEj/Njb/R0f/NTX/R0f/NTX/R0f/NTX/Rkb/NTX/NTX/AAD/AAD/AAD/CAj/Hh7/HBz/HBz/Gxv/Gxv/Ghr/FBT/FBT/FBT/FBT/FBT/FBT/FBT/FBT/FBT/FBT/FBT/FBT/FBT/FBT/FBT/FBT/FBT/FBT/FBT/FBT/FBT/FBT/FBT/FBT/FBT/FBT/HR3/AAD/AQH/BQX/wcH/EBD/////jY3/X1//7+//MzP/x8f/DQ3/mZn/Zmb/9vb/Ojr/0ND/EhL/oqL/dXX/+vr/QkL/1dX/GRn/qKj/fHz/SUn/3Nz/Hh7/sbH/paX/S0s8CEr+AAAAsHRSTlMAAAAAAAAAAAAAAAAABhMhKzdCUVlkbnqHjpidpqi3us7C1tnP3uLl7uzn18W2saV8ZVtQRjYBHDxaq8HT5vP98uivXkAiBidyrN3ksnkvCpenGaG5VfWCqhXb+kNxs8bp9ESQjLjN8OP5AQ4JIBYxJkE4VUhlVnJlgHSOgJiKoZOpnrKftKu9r8LA9/bYAQ4bJC88R1BYYnB6goqQlZykp7WzvL69xcrJzNrZxqmjGt/aNR4AAAABYktHRLUzDlpLAAAAB3RJTUUH5wEdCycyRsErbAAAAv5JREFUaN7dmudXE1EQxR8bu0KiKCSgggFi1KhRUexKVEQFxV6xYa/Yu2LBrkjvKE0CtmcZe+/df8nNCgfhgLi7z9xznE/58ub+srtvd97MZewP4SNJBl8/o6lzF/+u3QICzZag4O49eoaE9rKGhUfYbLbe9j5y2PvKPyPC+1kdoSH9BwwMDrKYnQGDBg+JHGoy+vkaJMmHqQtpWNTwEYGWkaNGjxk7juuP8dFWh8vinDBxUoyhRe3JsVOmCtBsNqbFxU9vnmJGwr/Uro+Zs5r+97O9I++JOU1cBZP35D0R2Vh/rnf1OXc21Pf3tj7n8b/rG72v3+AuGOYhAHj9kzgfos8X1Om3wuhzvrAWIBYFkFALsAgFsFhS9GNQ+pwbFYAlOIBEBcCMA1iqACzDASz31CqtV+AAlHeRAajPPZVBFBJgJXYT/NoGiUiAJBlgFRJgtQzgQgJYZYA1ahfdFgiwtg1ru07tojt374kjaMfar1e9iOi+MIANrIP6RSTHA0EAG9kmbQD08JEQgM1si0YAosdPBABsZcmaAYie6gfYxrbrACB6phdgB9upC4Cev9AHsIvt1gdA9PKVHoA9bK9eAKLXOgD2sf36AYjeaAY4wA6KAKC37zQCHGKHhQAQvf+gCeAISxEEQPRRC8BRdkwYANEn9bmOsxMCAYg+q82Vyk4KBaAvX9XlOsVOiwUg+qYq1xnxAETfVeQ6+x8CqL0F8IdQ7Db8oTZXKv5FlCIMQOOrGP4xgn+O4QUJvCSDF6Xwshx+MEnWASDkaAY/nMKP5/AGBbxFA29Swdt0+EYlvFULb1bD2/XwgQV8ZAMfWsHHdvjBJXx0Cx9ew8f3eAMD3MIBN7HgbTxwIxPeyoU3s+HtfHhDI97SqVwFrKm1jsJj63VaXI6w6HMiRM/bLzjikv7O1tsofCSp48W0S+kZmVnZObl5+QWFRcUll6+UlpVXVF6tcrura67JUVPtdlddr6woLyu9cbOkuKiwID8vNyc7KzMj/VZap5aMzT8BRpXwJFof0ooAAAAldEVYdGRhdGU6Y3JlYXRlADIwMjMtMDEtMjlUMTE6Mzk6NTArMDA6MDCGz66vAAAAJXRFWHRkYXRlOm1vZGlmeQAyMDIzLTAxLTI5VDExOjM5OjUwKzAwOjAw95IWEwAAACB0RVh0c29mdHdhcmUAaHR0cHM6Ly9pbWFnZW1hZ2ljay5vcme8zx2dAAAAGHRFWHRUaHVtYjo6RG9jdW1lbnQ6OlBhZ2VzADGn/7svAAAAF3RFWHRUaHVtYjo6SW1hZ2U6OkhlaWdodAA5MDwVcVIAAAAXdEVYdFRodW1iOjpJbWFnZTo6V2lkdGgAMTI40I0R3QAAABl0RVh0VGh1bWI6Ok1pbWV0eXBlAGltYWdlL3BuZz+yVk4AAAARdEVYdFRodW1iOjpTaXplADE1NDVC02RgawAAABZ0RVh0VGh1bWI6OlVSSQBmaWxlOi8vUE5HOqYqZyIAAAAASUVORK5CYII=">\n                <span style="font-size: 25px;color:var(--clr16)">Join Our Discord Server</span>\n                    <span style="font-size: 14px;color:grey;margin-left: 10px;">Join our Server, and talk with like-minded peers. Ask doubts. Answer Doubts.</span>\n                    <svg style="width:50px;cursor:pointer;" alt="Discord Logo" class="rpl rpl-2"\n                    onclick="window.open(\'https://discord.gg/XKTtqaSW\', \'_blank\');" viewBox="0 -28.5 256 256" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" preserveAspectRatio="xMidYMid">\n                    <g><path d="M216.856339,16.5966031 C200.285002,8.84328665 182.566144,3.2084988 164.041564,0 C161.766523,4.11318106 159.108624,9.64549908 157.276099,14.0464379 C137.583995,11.0849896 118.072967,11.0849896 98.7430163,14.0464379 C96.9108417,9.64549908 94.1925838,4.11318106 91.8971895,0 C73.3526068,3.2084988 55.6133949,8.86399117 39.0420583,16.6376612 C5.61752293,67.146514 -3.4433191,116.400813 1.08711069,164.955721 C23.2560196,181.510915 44.7403634,191.567697 65.8621325,198.148576 C71.0772151,190.971126 75.7283628,183.341335 79.7352139,175.300261 C72.104019,172.400575 64.7949724,168.822202 57.8887866,164.667963 C59.7209612,163.310589 61.5131304,161.891452 63.2445898,160.431257 C105.36741,180.133187 151.134928,180.133187 192.754523,160.431257 C194.506336,161.891452 196.298154,163.310589 198.110326,164.667963 C191.183787,168.842556 183.854737,172.420929 176.223542,175.320965 C180.230393,183.341335 184.861538,190.991831 190.096624,198.16893 C211.238746,191.588051 232.743023,181.531619 254.911949,164.955721 C260.227747,108.668201 245.831087,59.8662432 216.856339,16.5966031 Z M85.4738752,135.09489 C72.8290281,135.09489 62.4592217,123.290155 62.4592217,108.914901 C62.4592217,94.5396472 72.607595,82.7145587 85.4738752,82.7145587 C98.3405064,82.7145587 108.709962,94.5189427 108.488529,108.914901 C108.508531,123.290155 98.3405064,135.09489 85.4738752,135.09489 Z M170.525237,135.09489 C157.88039,135.09489 147.510584,123.290155 147.510584,108.914901 C147.510584,94.5396472 157.658606,82.7145587 170.525237,82.7145587 C183.391518,82.7145587 193.761324,94.5189427 193.539891,108.914901 C193.539891,123.290155 183.391518,135.09489 170.525237,135.09489 Z" fill="#5865F2" fill-rule="nonzero">\n                    </path></g></svg>\n                    <span style = "font-size:10px;color:grey;">Copyright 2023 Quarkz! by MTTOne</span>\n                    </div>\n            <div id="db_study_resources" class = "db_class">\n                <span style="font-size: 25px;color:var(--clr16)">Additional Study Resources</span>\n                <div class="tlinks_min rpl" onclick="window.location.hash = \'/mainsformulas\'"><span\n                        style="font-size: 16px;">JEE Mains Formula Sheets</span></div>\n                <div class="tlinks_min rpl" onclick="window.location.hash = \'/downloads\'"><span\n                        style="font-size: 16px;">FREE PDF Downloads</span></div>\n            </div>\n            <div class = "db_class" id="profile_tab"\n                style="display: flex;flex-direction: column;align-items: center;">\n                <span style="font-size: 25px;color:var(--clr16)">About Me</span>\n                <img id="prf_tab_img" style="width: 100px;height:100px;object-fit: cover;margin:5px;border:2px solid #06d85f;border-radius:30px;"></img>\n                <span style="color:var(--clr4)" id="dshd_name">NAME</span>\n                <span style="color:var(--clr5);font-size: small;" id="dshd_uname">@username</span>\n                <span style="color:var(--clr16)" id="dshd_batch">BATCH</span>\n            </div>\n        </div>\n<div id="options_tab_2"\n        style="display: flex;flex-direction: column;align-items:center;justify-content: space-evenly;width: 150px;height:100%;">\n        <span class="material-symbols-outlined rpl rpl-2 db_opt" translate="no" onclick="window.location = \'#/timetable\'">calendar_month</span>\n        <span class="material-symbols-outlined rpl rpl-2 db_opt" translate="no" onclick="window.location = \'#/chplist\'">menu_book</span>\n        <span class="material-symbols-outlined rpl rpl-2 db_opt" translate="no" onclick="window.location = \'#/testinfo\'">glyphs</span>\n        <span class="material-symbols-outlined rpl rpl-2 db_opt" translate="no" onclick="window.location = \'#/simlist\'">play_circle</span>\n        <span class="material-symbols-outlined rpl rpl-2 db_opt" translate="no" onclick="window.location = \'#/usernotes\'">edit_note</span>\n        <span class="material-symbols-outlined rpl rpl-2 db_opt" translate="no" id = "adminonly" onclick="window.location = \'#/functions\'">admin_panel_settings</span>\n</div>\n',Yv='\n<iframe id="bgrep_frame"\n            src="https://docs.google.com/forms/d/e/1FAIpQLSeo2JZDaBApBiTeXmAnkVX60hSuJGHJkd9jsF9ePg0iM9ufjA/formResponse?embedded=true&entry.1599248323=Quarkz!&entry.1645606077='+Date.now()+'"\n            frameborder="0" marginheight="0" marginwidth="0" width="100%" height="90%">Loading</iframe>',Zv='\n<span class="in_t">App Info</span>\n        <code style = "width:100%" id="ren_appinf"></code>',$v='\n<span class="in_t">Schedule</span>\n        <iframe id="tmt_frame" width="100%" height="90%" frameborder="0" scrolling="no" onload = "showqLS(\'q\')"></iframe>',Xv='\n<span class="in_t">404</span>\n        <hr style="color:var(--clr18)" width="100%">\n        <span style="font-size: 3vh;">You don\'t have access to this page.</span>\n        <div style = "display:flex;flex-direction:row;flex-wrap:wrap;justify-content:center;">\n        <a class="tst_btn rpl"  onclick = "history.back()">Go Back</a>\n        <a class="tst_btn rpl"  href="/#/dashboard">Dashboard</a>\n        <a class="tst_btn rpl"  href="/#/login">Login</a>\n        </div>\n        ',Jv='\n<div style="position: fixed;width:100%;">\n            <iframe id="nt_id" style="width: 100%;height: 90vh;"></iframe>\n            <div id = "nt_nocontrol">Quarkz!</div>\n        </div>',ty='\n<div id="c-output"\n            style="color:var(--clr16);overflow-y: scroll;display: flex;flex-direction: column;height: 80vh;width: 90vw;border: 3px greenvar(--clr16) solid;padding-left: 6px;">\n\n        </div>\n        <div>\n            <input type="text" id="c-input" class="_in_aq" placeholder="Command">\n            <button class="tst_btn rpl" id="c-exec">Execute</button>\n        </div>',ey='\n<div class = "flex_type" style="flex-direction: row;flex-wrap: wrap;">\n            <div class = "db_class">\n                <span style="font-size: 25px;color:var(--clr16)">Release Notes</span>\n                <div id="rel_list" style="overflow-y: scroll;height:80vh; width: 100%; display: block;" class="flex_type"></div>\n            </div>\n            <div class = "db_class">\n                <span style="font-size: 25px;color:var(--clr16)">Updates</span>\n                <div id="updt_list" style="overflow-y: scroll;height:80vh; width: 100%; display: block;" class="flex_type"></div>\n            </div>\n        </div>\n\n\n',iy='\n<div class = "db_class">\n<span style="font-size: 25px;color:var(--clr16)">Upload Files</span>\n        <label for="file" style= "background-color: indigo;color: var(--clr18);padding: 0.5rem;font-family: sans-serif;border-radius: 0.3rem;cursor: pointer;margin-top: 1rem;" class = "rpl">Choose File To Upload</label>\n        <input type="file" id="file" style="width: 50vw;height: 30px;margin: auto;" hidden>\n        <span id="file_progress"></span>\n        <span id="file_status"></span>\n        <input id="file_link_long" type="url" class = "_in_aq" style = "width:20vw;" placeholder = "Long URL" disabled>\n        <span style="font-size: 10px;">Note: File Names Will Be Modified to the following format:</span>\n        <span style="font-size: 10px;">{IP ADDRESS}-{DATE}-{ORIGNAL FILE NAME}</span>\n        <span style="font-size: 10px;">Max File Upload Size: 50mb</span>\n    </div>\n';function ny(t,e){var i="";i+="formulasheet"==e?'<span style="font-size: 5vh;color:var(--clr16)" id="fm_title">Mains Formula Sheet</span>':'<span style="font-size: 5vh;color:var(--clr16)" id="fm_title">Downloads</span>',i+='\n    <hr style="color:var(--clr18)" width="100%">\n    <div style="overflow-y: scroll;height:50vh;" class="flex_type">';for(var n=0;n<t.length;n++)t[n].type2==e&&(""==t[n].url?i+='<span class="tlinks-2 rpl " onclick = "window.location.hash = \''+t[n].hashurl+'\'"><span class="material-symbols-outlined">'+t[n].type+"</span>&nbsp;&nbsp;"+t[n].title+"</span>":i+='<span class="tlinks-2 rpl " onclick = "window.open(\''+t[n].url+"','_blank')\"><span class=\"material-symbols-outlined\">"+t[n].type+"</span>&nbsp;&nbsp;"+t[n].title+"</span>");return i+=' </div>\n    <span style="font-size: 8px;">All PDF\'s Marked As <span style="font-size: 8px;" class="material-symbols-outlined">quiet_time_active</span> Are Owned by their Respective Owners</span>'}let ry=[{hashurl:"/notes/PHYFORMULAS",title:"Physics Formula Sheet",url:"",type:"quiet_time_active",type2:"formulasheet"},{hashurl:"/notes/MATHFORMULAS",title:"Maths Formula Sheet",url:"",type:"quiet_time_active",type2:"formulasheet"},{hashurl:"/notes/PCHEMNOTES",title:"Physical Chemistry Formula Sheet",url:"",type:"quiet_time_active",type2:"formulasheet"},{hashurl:"/notes/OCHEMNOTES",title:"Organic Chemistry Sheet",url:"",type:"quiet_time_active",type2:"formulasheet"},{hashurl:"/notes/ICHEMNOTES",title:"Inorganic Chemistry Sheet",url:"",type:"quiet_time_active",type2:"formulasheet"},{hashurl:"",title:"Full Chemistry Modules",url:"https://drive.google.com/file/d/1PKwlLjqXESAewAOHFi866uUb72XjooQH/view",type:"quiet_time_active",type2:"downloads"},{hashurl:"",title:"Full Maths Modules",url:"https://drive.google.com/file/d/1_TLdj5e8SG8VFvKu-asEy7RAq4_T85YB/view",type:"quiet_time_active",type2:"downloads"},{hashurl:"",title:"Full Physics Modules",url:"https://drive.google.com/file/d/10NWV6viuY2eru-y1j9MSXmhbl7bZKyOD/view",type:"quiet_time_active",type2:"downloads"}];let sy='\n<span style="font-size: 5vh;color:yellow;text-align:center;" id="fti_title">Test Name</span>\n<hr style="color:var(--clr18)" width="100%">\n<div id="fto_overview" style="display: flex;flex-direction: row;flex-wrap:wrap;justify-content:center;">\n    <div class="fto_box">\n        <div class="fto_box_title">TOTAL MARKS</div>\n        <div class="fto_box_content" id="fto_total">100/100</div>\n    </div>\n    <div class="fto_box">\n        <div class="fto_box_title">CORRECT</div>\n        <div class="fto_box_content"><span id="fto_correct">45</span><span class="fto_small">marks</span></div>\n    </div>\n    <div class="fto_box">\n        <div class="fto_box_title">INCORRECT</div>\n        <div class="fto_box_content"><span id="fto_incorrect">45</span><span class="fto_small">marks</span>\n        </div>\n    </div>\n    <div class="fto_box">\n        <div class="fto_box_title">UNANSWERED</div>\n        <div class="fto_box_content"><span id="fto_unanswered">45</span><span class="fto_small">marks</span>\n        </div>\n    </div>\n    <div class="fto_box">\n        <div class="fto_box_title">RANK</div>\n        <div class="fto_box_content" id="fto_rank">5</div>\n    </div>\n    <div class="fto_box">\n        <div class="fto_box_title">ACCURACY</div>\n        <div class="fto_box_content" id="fto_accuracy">89%</div>\n    </div>\n    <div class="fto_box">\n        <div class="fto_box_title">TIME TAKEN</div>\n        <div class="fto_box_content" id="fto_timetaken">180M</div>\n    </div>\n    <div class="fto_box">\n        <div class="fto_box_title">QS ATTEMPTED</div>\n        <div class="fto_box_content" id="fto_qsattempted">10/23</div>\n    </div>\n</div>\n<hr style="color:var(--clr18)" width="100%">\n<div id="fto_overview" style="display: flex;flex-direction: row;flex-wrap:wrap">\n    <button class="tst_btn rpl" id="fto_detail"\n        onclick=\'window.location.hash = "#/testreport/" + window.location.hash.split("#/finished/")[1]\'>Detailed\n        View</button>\n</div>\n<hr style="color:var(--clr18)" width="100%"><br>\n<details>\n    <summary><span style="font-size: 4vh;">Overview</span></summary>\n    <div class = "summary_div">\n    <div>\n    <center><span id = "fto_passed" style="font-size:3vh;">You Have Passed The Test</span></center>\n    </div>\n    <div>\n    <span style="font-size:3vh;">This is a quick snapshot of your performance measured in terms of attempts that\n            were correct, incorrect, unattempted. The individual subject-Wise analysis will help you gaze your\n            performance on a subject level.</span>\n    <div id="fto_overview_table" style="display: flex;flex-direction: column;"></div>\n    </div><br>\n    <div>\n        <span style="font-size: 3vh;">Section Wise Scores</span>\n        <center><canvas id="fto_table_score"></canvas></center>\n    </div><br>\n    <div style="display:flex;flex-direction:column;flex-wrap:wrap">\n        <span style="font-size: 3vh;">Section Wise Questions</span>\n        <center><div id="fto_table_pie"></div></center>\n    </div><br>\n</details>\n<br>\n<details>\n    <summary><span style="font-size: 4vh;">Time And Accuracy</span></summary>\n    <div class = "summary_div">\n    <div>\n        <span style="font-size:3vh;">Time is the most important resource in any competitive exam. And one major element\n            of any test analysis is\n            to check the time spent on an individual subject. This section will not only give you insight on the time\n            spent\n            but also the percentage attempt and accuracy at the subject level. Make sure to maintain a good balance\n            between accuracy and time spent on a subject.</span>\n        <div id="fto_time_table" style="display: flex;flex-direction: column;"></div>\n    </div><br>\n    <div style="display:flex;flex-direction:column;flex-wrap:wrap">\n        <span style="font-size: 3vh;">Section Wise Time Spent</span>\n        <center><canvas id="fto_table_time"></canvas></center>\n    </div><br>\n    <div style="display:flex;flex-direction:column;flex-wrap:wrap;">\n        <span style="font-size: 3vh;">Subject Accuracy vs Attempted(%)</span>\n        <center><canvas id="fto_table_accuracy"></canvas></center>\n    </div>\n    </div>\n</details>\n<br>\n<details>\n    <summary><span style="font-size: 4vh;">Leaderboard</span></summary>\n    <div class = "summary_div">\n    <span style="font-size:3vh;">Seeing how your peers fared during the test, allows you to better prepare and brings a competitive spirit to the tests.</span>\n    <center>\n        <div id="fto_leaderboard"></div>\n    </center>\n    </div>\n</details>\n<br>\n<details>\n    <summary><span style="font-size: 4vh;">Missed Concepts</span></summary>\n    <div class = "summary_div">\n    <div>\n        <span style="font-size:3vh;">This section will list all the concepts you got wrong in the exam on an individual\n            subject level. This information\n            becomes relevant for you as you will now need to spend some time brushing up these concepts.</span>\n        <div id="fto_missed" style="display:flex;flex-direction:row;flex-wrap:wrap;">\n\n        </div>\n    </div>\n        <span style="font-size:3vh;">Legend:&nbsp;<span>Unanswered</span>&nbsp;<span style = "color:red">Incorrect</span></span>\n    </div>\n</details>\n</br>\n        ';let oy='\n<span style="font-size: 5vh;color:var(--clr16)" id="fm_title">Forum</span>\n        <hr width="100%" style="color:var(--clr18)">\n        <div style="border:hotpink 3px solid;width:80%;">\n            <div id=\'pinned_msg\'\n                style="background-color: rgb(38, 44, 31);color:rgb(21, 209, 209);overflow-y: scroll;height:30px;">Pinned\n                Message:<span id=\'pinnedtxt\'>1</span></div>\n            <div id="forum_live" style="height:60vh;overflow-y: scroll;display: flex;flex-direction: column;">\n            </div>\n        </div>\n\n        <div>\n            <input type="text" id="fm_message" class="_in_aq" placeholder="Message">\n            <button class="tst_btn rpl" id="fm_send">Send</button>\n        </div>\n';let ay='\n<span class="in_t" class="">Functions</span>\n        <div class = "flex_type" style = "flex-direction: row;flex-wrap: wrap;justify-content:center;">\n        <div id="fc_chapters" class = "db_class">\n            <span style="font-size: 25px;color:var(--clr16);">Chapters</span>\n            <div class="dshbox_v2 rpl" onclick="window.location.hash = \'#/add/chapter\'">Add Chapter</div>\n            <div class="dshbox_v2 rpl" onclick="window.location.hash = \'#/list/chapter\'">List Chapter</div>\n        </div>\n        <div id="fc_topics_qbanks" class = "db_class">\n            <span style="font-size: 25px;color:var(--clr16);">Topics/Question Banks</span>\n            <div class="dshbox_v2 rpl" onclick="window.location.hash = \'#/add/qubank\'">Add Question Bank</div>\n        </div>\n            <div id="fc_sims" class = "db_class">\n                <span style="font-size: 25px;color:var(--clr16);">Question Banks/Sims</span>\n                <div class="dshbox_v2 rpl" onclick="window.location.hash = \'#/add/simulation\'">Add Simulations</div>\n                <div class="dshbox_v2 rpl" onclick="window.location.hash = \'#/add/qubank\'">Add Question Bank</div>\n            </div>\n            <div id="fc_tests" class = "db_class">\n                <span style="font-size: 25px;color:var(--clr16);">Tests</span>\n                <div class="dshbox_v2 rpl" onclick="window.location.hash = \'#/add/tests\'">Add Test</div>\n                <div class="dshbox_v2 rpl" onclick="window.location.hash = \'#/list/tests\'">List Tests</div>\n            </div>\n            <div id="fc_batch" class = "db_class">\n                <span style="font-size: 25px;color:var(--clr16);">Batches</span>\n                <div class="dshbox_v2 rpl" onclick="window.location.hash = \'#/add/batch\'">Add New Batch</div>\n                <div class="dshbox_v2 rpl" onclick="window.location.hash = \'#/list/batch\'">List Batches</div>\n            </div>\n            <div id="fc_misc" class = "db_class">\n                <span style="font-size: 25px;color:var(--clr16);">Misc</span>\n                <div class="dshbox_v2 rpl" onclick="window.location.hash = \'#/edit_exams\'">Edit Exams</div>\n                <div class="dshbox_v2 rpl" onclick="window.location.hash = \'#/site-analytics\'">Site Analytics</div>\n                <div class="dshbox_v2 rpl" onclick="window.location.hash = \'#/reports\'">Reports</div>\n            </div>\n        </div>\n';function hy(t,e,i,n,r){var s=Math.floor(1e4*Math.random()),o='\n    <div id="msg_popup_'+s+'" class="overlay">\n    <div class="popup">\n        <center>\n            <h2 id="msg_popup_txt_'+s+'">Note</h2>\n        </center>\n        <a class="close_btn"\n            onclick="document.getElementById(\'msg_popup_'+s+'\').remove()">&times;</a>\n        <p id="msg_popup_content_'+s+'"></p>\n        <button class="tst_btn rpl" id="msg_action_'+s+'"></button>\n    </div>\n    </div>\n    ';if(1==r)dE("output").insertAdjacentHTML("beforeend",o);else if(3==r){o='\n    <div id="msg_popup_'+s+'" class="overlay">\n    <div class="popup">\n        <center>\n            <h2 id="msg_popup_txt_'+s+'">'+t+'</h2>\n        </center>\n        <a class="close_btn"\n            onclick="document.getElementById(\'msg_popup_'+s+'\').remove()">&times;</a>\n        <p id="msg_popup_content_'+s+'">'+e+'</p>\n        <button class="tst_btn rpl" id="msg_info_'+s+'" onclick = "window.open(\''+i+'\', \'_blank\');">Info</button>\n        <button class="tst_btn rpl" id="msg_syllabus_'+s+'" onclick = "window.open(\''+n+"', '_blank');\">Syllabus</button>\n    </div>\n    </div>\n    ";dE("quarkz_body").insertAdjacentHTML("beforeend",o)}else dE("quarkz_body").insertAdjacentHTML("beforeend",o);if(dE("msg_popup_"+s).style.visibility="visible",dE("msg_popup_"+s).style.opacity="1",3!=r)return dE("msg_action_"+s).style.display="none",document.getElementById("msg_popup_txt_"+s).innerText=t,document.getElementById("msg_popup_content_"+s).innerText=e,null==i?i=function(){}:dE("msg_action_"+s).style.display="block",null==n&&(n=""),dE("msg_action_"+s).onclick=i,dE("msg_action_"+s).innerText=n,"msg_popup_"+s}function ly(t,e){var i='\n  <div id="msg_popup_qp" class="overlay">\n    <div class="it_popup">\n        <center>\n            <h2 id="msg_popup_txt_qp">'+t+'</h2><a class="close_btn"\n            onclick="document.getElementById(\'msg_popup_qp\').remove()">&times;</a>\n        </center>\n        <div id = "container">\n        '+e+"\n        </div>\n    </div>\n    </div>\n  ";dE("output").insertAdjacentHTML("beforeend",i),dE("msg_popup_qp").style.visibility="visible",dE("msg_popup_qp").style.opacity="1"}function uy(){dE("output").insertAdjacentHTML("beforeend",'\n  <div id="msg_popup_report" class="overlay">\n    <div class="it_popup">\n        <center>\n            <h2 id="msg_popup_txt_report">Report Error</h2><a class="close_btn"\n            onclick="document.getElementById(\'msg_popup_report\').remove()">&times;</a>\n        </center>\n        <div style = "display:flex;flex-direction:row;flex-wrap:wrap;overflow-y:scroll;height:80%;justify-content:center;">\n          <div id="db_rep_les" class = "db_class">\n          <span style="font-size: 25px;color:var(--clr16)">Lesson</span>\n          <div>\n            <input type="checkbox" id="incorrect-video" name="problem[]" value="incorrect-video">\n            <label for="wrong-answer">Incorrect/No Video</label>\n          </div>\n          <div>\n            <input type="checkbox" id="incorrect-theory" name="problem[]" value="incorrect-theory">\n            <label for="wrong-answer">Incorrect/No Theory</label>\n          </div>\n          <div>\n            <input type="checkbox" id="wrong-image" name="problem[]" value="wrong-image">\n            <label for="confusing-image">Wrong/Incomplete/No Image(s) or Video(s)</label>\n          </div>\n          </div>\n        <div id="db_rep_qbk" class = "db_class">\n        <span style="font-size: 25px;color:var(--clr16)">Question Bank/Tests</span>\n          <div>\n            <input type="checkbox" id="incorrect-answer-key" name="problem[]" value="incorrect-answer-key">\n            <label for="wrong-answer">Incorrect Answer Key</label>\n          </div>\n          <div>\n            <input type="checkbox" id="wrong-solution" name="problem[]" value="wrong-solution">\n            <label for="incomplete-answer">Wrong/Incomplete Solution</label>\n          </div>\n          <div>\n            <input type="checkbox" id="wrong-question" name="problem[]" value="wrong-question">\n            <label for="confusing-question">Wrong/Incomplete Question</label>\n          </div>\n          <div>\n            <input type="checkbox" id="wrong-explanation" name="problem[]" value="wrong-explanation">\n            <label for="confusing-explanation">Wrong Explanation</label>\n          </div>\n          <div>\n            <input type="checkbox" id="wrong-image" name="problem[]" value="wrong-image">\n            <label for="confusing-image">Wrong/Incomplete/No Image(s) or Video(s)</label>\n          </div>\n          </div>\n          <div id="db_rep_oth" class = "db_class">\n          <span style="font-size: 25px;color:var(--clr16)">Other Issues</span>\n          <div>\n            <input type="checkbox" id="other-issue" name="problem[]" value="other-issue">\n            <label for="other-issue">Other Issue</label>\n          </div>\n          <textarea placeholder="(Optional)" style="height: 50px;resize: none;" id="extra_comment"></textarea>\n          </div>\n        </div>\n        <center><button class="tst_btn rpl" id = "popup_report">Report</button></center>\n    </div>\n    \n    </div>\n  '),dE("msg_popup_report").style.visibility="visible",dE("msg_popup_report").style.opacity="1",window.location.hash.includes("topic")?(dE("db_rep_les").style.display="flex",dE("db_rep_qbk").style.display="none",dE("db_rep_oth").style.display="flex"):(window.location.hash.includes("qbank")||window.location.hash.includes("testreport"))&&(dE("db_rep_les").style.display="none",dE("db_rep_qbk").style.display="flex",dE("db_rep_oth").style.display="flex");new BroadcastChannel("Quarkz!").postMessage("QZCODE-REPORT")}let cy='\n<div id="lgn_bx">\n    <center><span class="in_t">Welcome to Quarkz!</span></center>\n    <input type="text" id="lg_uname" class="text_bx_1" placeholder="Username">\n    <input type="password" id="lg_pass" class="text_bx_1" placeholder="Password">\n    <div>\n        <button class="tst_btn rpl" id="sgn_in">Sign In</button>\n        <button class="tst_btn rpl" id="reg_in">Register</button>\n    </div>\n    <span class="lgn_c_1"><a href="/#/about">About</a>&nbsp;&nbsp;<a href="/#/legal">Legal</a>&nbsp;&nbsp;<a\n            href="/#/bugreport">Report A Bug</a>\n    </span>\n    <span class="lgn_c_1">\n        <a href="/#/mainsformulas">Formula Sheets</a>&nbsp;&nbsp;\n        <a href="/#/downloads">Downloads</a>\n    </span>\n</div>\n';let dy='\n<span class=" in_t no-print">Export</span>\n        <hr style="color:var(--clr18)" width="100%" class="no-print">\n        <span class="no-print"><button class="tst_btn rpl no-print" onclick="print()">Print</button><button\n                class="tst_btn rpl no-print" id="shf_btn">Shuffle</button><button class="tst_btn rpl no-print"\n                id="tsinf_btn">Update Bank\n                Info</button><button class="tst_btn rpl no-print" id="tans_btn">Answers</button><button\n                class="tst_btn rpl no-print" id="tansexpl_btn">Explanation And Answers</button><button\n                class="tst_btn rpl no-print" id="tremove_btn">Remove\n                All</button></span>\n        <hr width="100%">\n        <span class="in_t_3" id="qb_title">ERROR</span>\n        <hr width="100%">\n        <div id="pt_ins" type="1"></div>\n        <div id="eqb_add" type="1">\n        </div>\n\n';let fy='\n<div id="prf_tab_t">\n            <div id="prf_tab_t_t">\n                <img style = "background-color:black;border:2px solid #06d85f;border-radius:30px;" id="prf_tab_t_t_img"></img>\n                <div id="prf_tab_t_hold">\n                    <span id="prf_name"></span>\n                    <span class="prf_det">\n                        <span id="prf_email"></span>&nbsp;&nbsp;<span id="prf_gender"></span>\n                    </span>\n                    <span class="prf_det">\n                        <span id="prf_phone"></span>&nbsp;&nbsp;<span id="prf_class"></span>\n                    </span>\n                    <span class="prf_det">\n                        <span id="prf_batch"></span>&nbsp;&nbsp;<span id="prf_crton"></span>\n                    </span>\n                </div>\n            </div>\n        </div>\n';let py='\n<button id="qbnk_vid_btn" class="tst_btn rpl">Start</button>\n        <button id="qbnk_vid_btn_e" class="tst_btn rpl" style="display: none;">Stop</button>\n        <span style="font-size: 5vh;color:var(--clr16);font-family: Nunito;" id="tb_q_title">Topic Name</span>\n        <hr width="100%" style="color:var(--clr18)">\n        <div class="div-qbnk">Quarkz!</div>\n        <img alt="Quarkz Logo" src="assets/Quarkz-T.png"\n            style="position:absolute;height:100px;width: 100px;top:0;left:0;z-index: 1;">\n        <div id="qbnk_vid_q" style="display: flex;flex-direction: column;align-items: center;z-index: 2;">\n            <div class="div-qbnk1"><span>Pause The Video If You Need More Time.Each Question Will Be Shown For 10\n                    Seconds.</span><span id="qbnk_timer" style="font-size: 80px;color:rgb(0, 255, 255)">0</span></div>\n            <span style="width: 60vw;"><span id="tb_q_qno" style="color: coral;"></span>\n                <div id="tb_q_qtext" style="width:100%;height:max-content;min-height: 12vh;">Question</div>\n            </span>\n            <div id="tb_q_ans_hold">\n                <input type="answer" id="tb_q_answer" class="_in_aq" placeholder="Answer">\n                <div id="tb_q_mcq_con" class="flex_type">\n                </div>\n                <div id="tb_q_matrix">\n                    <table>\n                        <tr>\n                            <td><span class="tb_q_i1"></span><span class="tb_q_i2"></span></td>\n                        </tr>\n                        <tr>\n                            <td><span class="tb_q_i1"></span><span class="tb_q_i2"></span></td>\n                        </tr>\n                        <tr>\n                            <td><span class="tb_q_i1"></span><span class="tb_q_i2"></span></td>\n                        </tr>\n                        <tr>\n                            <td><span class="tb_q_i1"></span><span class="tb_q_i2"></span></td>\n                        </tr>\n                    </table>\n                </div>\n            </div>\n        </div>\n        <div id="qbnk_vid_ans" style="display: flex;flex-direction: column;align-items: center;">\n            <span style="font-size: 5vh;color:var(--clr16);">Answer</span>\n            <div id="tb_q_hint" style="width:80%;height:max-content;min-height: 12vh;"></div>\n            <div id="tb_q_ans" style="height:max-content;min-height: 12vh;"></div>\n            <div id="tb_q_expl" style="width:80%;height:max-content;min-height: 12vh;"></div>\n        </div>\n        <div id="qbnk_vid_title"\n            style="display:flex;flex-direction: column;align-items: center;justify-content: center;height:60vh">\n            <span style="font-size: 15vh;color:var(--clr16);font-family: Nunito;" id="qb_vid_ti"></span>\n        </div>\n        <div id="qbnk_vid_end" style="display:flex;flex-direction: column;align-items: center;justify-content: center;">\n            <span style="font-size: 5vh;color:var(--clr16)">Thanks For Watching</span>\n            <span style="font-size: 3vh;color:var(--clr16)">Subscribe To Quarkz! For More Such Videos</span>\n\n        </div>';let my='\n<span class="in_t">Register</span>\n    <div style = "display:flex;flex-direction:row;flex-wrap:wrap;font-size:15px;">\n        <div class = "db_class">\n        <span style="font-size: max(14px,3vh);color:var(--clr16)">Personal Info</span>\n        <input type="text" id="rg_name" class="_in_reg" placeholder="Name">\n        <div style = "display:flex;flex-direction:row;align-items:center;flex-wrap:wrap;">\n        <label style = "font-size:20px;" for="rg_dob">Date of Birth:&nbsp;&nbsp;</label>\n        <input name = "rg_dob" type="date" id="rg_dob" class="_in_reg">\n        </div>\n        <div style = "display:flex;flex-direction:row;align-items:center;">\n        <label style = "font-size:20px;" for="class">Class:&nbsp;&nbsp;</label>\n        <select name="class" id="rg_class">\n            <option value="6">6</option>\n            <option value="7">7</option>\n            <option value="8">8</option>\n            <option value="9">9</option>\n            <option value="10">10</option>\n            <option value="11">11</option>\n            <option value="12">12</option>\n        </select>\n        </div>\n        <div style = "display:flex;flex-direction:row;align-items:center;">\n        <label style = "font-size:20px;" for="gender">Gender:&nbsp;&nbsp;</label>\n        <select name="gender" id="rg_gender">\n            <option value="Male">Male</option>\n            <option value="Female">Female</option>\n        </select>\n        </div>\n        </div>\n        <div class = "db_class">\n        <span style="font-size: max(14px,3vh);color:var(--clr16)">Account Info</span>\n        <input type="tel" id="rg_mbleno" class="_in_reg" placeholder="Mobile No">\n        <input type="text" id="rg_uname" class="_in_reg" placeholder="Email Address">\n        <input type="password" id="rg_pass" class="_in_reg" placeholder="Password">\n        <input type="password" id="rg_pass1" class="_in_reg" placeholder="Confirm Password">\n        </div>\n        </div>\n        <button class="tst_btn rpl" id="rg_in">Register</button>\n\n',gy="\n\n\n\n\n";let vy='\n<span class="in_t">Settings</span>\n        <hr style="color:var(--clr18)" width="100%">\n        <div class = "flex_type" style = "flex-direction: row;flex-wrap: wrap;justify-content:center;align-items:center;">\n            <div id="st_rateapp" class = "db_class">\n                <span style="font-size: 25px;color:var(--clr16);">Rate Our App!</span>\n                <div id="stars">\n                <span class="star" data-value="1">&#9733;</span>\n                <span class="star" data-value="2">&#9733;</span> \n                <span class="star" data-value="3">&#9733;</span>\n                <span class="star" data-value="4">&#9733;</span>\n                <span class="star" data-value="5">&#9733;</span>\n                </div>\n                <textarea placeholder="This App was Very Useful!" style="height: 50px;resize: none;" id="rate_comment"></textarea>\n                <button id="sub_rat_btn" class="tst_btn rpl">Submit Rating</button>\n            </div>\n            <div id="st_prftype" class = "db_class">\n                <span style="font-size: 25px;color:var(--clr16);">Profile Picture Type</span>\n                <span style = "font-size:12px">These Pictures are generated using Hashes/Initials of your Names.</span>\n                <div style ="display:flex;flex-direction:row;width:330px;overflow-x:scroll;">\n                <img style = "border:2px solid #06d85f;border-radius:30px;width:100px;height:100px;" class = "prf_typ" id="prf_typ_1"></img>\n                <img style = "border:2px solid #06d85f;border-radius:30px;width:100px;height:100px;" class = "prf_typ" id="prf_typ_2"></img>\n                <img style = "border:2px solid #06d85f;border-radius:30px;width:100px;height:100px;" class = "prf_typ" id="prf_typ_3"></img>\n                </div>\n            </div>\n            <div id="st_langtype" class = "db_class">\n                <span style="font-size: 25px;color:var(--clr16);">Languages</span>\n                <span style = "font-size:max(12px,2vh)">You can use this website in your language of choice.</span>\n                <span><input name = "trans_lang" type = "radio" value = "en" checked onclick = "changeLanguageByButtonClick()">English</input></span>\n                <span><input name = "trans_lang" type = "radio" value = "hi" onclick = "changeLanguageByButtonClick()">Hindi</input></span>\n                <span><input name = "trans_lang" type = "radio" value = "ru" onclick = "changeLanguageByButtonClick()">Russian</input></span>\n                <span><input name = "trans_lang" type = "radio" value = "es" onclick = "changeLanguageByButtonClick()">Spanish</input></span>\n                <span style = "font-size:12px">Powered by Google</span>\n            </div>\n            <div id="st_changemail" class = "db_class">\n                <span style="font-size: 25px;color:var(--clr16);">Change Email</span>\n                <span>Email: <input id = "inp_mail" type = "email" value = ""></input></span>\n                <button id="sub_chg_mail" class="tst_btn rpl">Update Email</button>\n            </div>\n            <div id="st_changepass" class = "db_class">\n                <span style="font-size: 25px;color:var(--clr16);">Change Password</span>\n                <span>New Password: <input id = "inp_new_pass" type = "password" value = ""></input></span>\n                <span>Retype Password: <input id = "inp_retype_pass" type = "password" value = ""></input></span>\n                <button id="sub_chg_pass" class="tst_btn rpl">Update Password</button>\n            </div>\n            <div id="st_changebatch" class = "db_class">\n            <span style="font-size: 25px;color:var(--clr16);">Change Active Batch</span>\n            <span>BID:<select id = "inp_batch" value = ""></select></span>\n            <button id="sub_chg_batch" class="tst_btn rpl">Update Batch</button>\n            </div>\n        </div>';let yy='\n<span class="in_t" class="">Add/Edit Simulation</span>\n        <input type="text" id="aq_simname" class="_in_aq" placeholder="Simulation Name">\n        <input type="url" id="aq_simurl" class="_in_aq" placeholder="Simulation URL">\n        <input type="text" id="aq_simprov" class="_in_aq" placeholder="Simulation Provider">\n        <input type="text" id="aq_simlicense" class="_in_aq" placeholder="Simulation License">\n        <select name="type" id="aq_simsubj" class="_in_aq col-red">\n            <option value="physics">Physics</option>\n            <option value="chemistry">Chemistry</option>\n            <option value="maths">Maths</option>\n            <option value="biology">Biology</option>\n            <option value="computer">Computer</option>\n            <option value="statistics">Statistics</option>\n            <option value="unfiled">Unfiled</option>\n        </select>\n        <button class="tst_btn rpl" id="aq_sims_save">Save</button>\n\n',by='\n<div style = "display:flex;flex-direction:row;flex-wrap:wrap;"><span class="in_t">Simulations</span><button class="tst_btn rpl" id="sms_edit" style="display: none;" onclick=\'window.location.hash = "#/edit_sim/" + window.location.hash.split("#/sims/")[1]\'>Edit Sim</button></div>\n        <hr style="color:var(--clr18)" width="100%">\n            <iframe id="sim_frame" frameborder="0"\n                style="width:90vw;height:70vh;background-color: black;color:var(--clr18);scroll-behavior: smooth;"></iframe>\n        <div style="display: flex;flex-direction: row;flex-wrap: wrap;width:100%;margin-left:5vw;">\n        <ul style="font-size: 14px;color:var(--clr16);">\n                <li> Simulation:&nbsp;<span id = "sms_name"></span></li>\n                <li> Provider:&nbsp;<span id = "sms_prov"></span> </li>\n        </ul>\n        </div>\n        <div>\n        </div>\n        ',wy='\n<span class="in_t">Simulations List</span>\n        <hr style="color:var(--clr18)" width="100%">\n        <div style="display: flex;flex-direction: row;flex-wrap: wrap;justify-content:center;">\n            <button class="tst_btn rpl" id="psims">Physics</button>\n            <button class="tst_btn rpl" id="csims">Chemistry</button>\n            <button class="tst_btn rpl" id="msims">Maths</button>\n            <button class="tst_btn rpl" id="bsims">Biology</button>\n            <button class="tst_btn rpl" id="cosims">Computer</button>\n            <button class="tst_btn rpl" id="ssims">Statistics</button>\n            <button class="tst_btn rpl" id="usims">Unfiled</button>\n        </div>\n        <div id="sim_cont" style="overflow-y: scroll;height:50vh;" class="flex_type">\n        </div>';let _y='\n<span class="in_t" id = "ti_title">Test Instructions</span>\n        <hr style="color:var(--clr18)" width="100%" id = "ti_hr">\n        <div id = "ti_i" style="width:80vw;overflow-y: scroll;border:var(--clr16) 3px solid;display: flex;flex-direction: column;">\n            <span style="font-size:5vh;text-align: center;">Please Read The Instructions And Terms Carefully</span>\n            <span style="font-size:18px;color:var(--clr16)">Test Information:</span>\n            <ul style="font-size: 14px;color:var(--clr16);">\n                <li> Test Name:&nbsp;<span id = "i_name"></span></li>\n                <li> Starts From:&nbsp;<span id = "i_start"></span> </li>\n                <li> Ends At:&nbsp;<span id = "i_end"></span> </li>\n                <li> Time Allotted:&nbsp;<span id = "i_time"></span> </li>\n                <li> Syllabus:&nbsp;<span id = "i_syllabus"></span> </li>\n                <li> Total Marks:&nbsp;<span id = "i_total"></span> </li>\n                <li> No of Questions:&nbsp;<span id = "i_qno"></span> </li>\n            </ul>\n            <span style="font-size:18px;color:var(--clr16)">General Instructions:</span>\n            <ol style="font-size: 14px;">\n                <li>The Exam Must Be Completed In 1 Sitting. You Will Be Able To Open This Test Window Only Once. </li>\n                <li>Read Every Question Carefully And Select Your Answer and Try To Answer As Many Questions As Possible\n                    In The Exam.</li>\n                <li>The Questions Palette displayed on the right side of screen will show the status of each question\n                    using one of the following symbols:</li>\n                <div>\n                    <div style="margin:17px"><span class="tts_notvisit">12</span>You have not visited the question yet.\n                    </div>\n                    <div style="margin:17px"><span class="tts_notanswer">21</span>You have not answered the question.\n                    </div>\n                    <div style="margin:17px"><span class="tts_answered">45</span>You have answered the question.</div>\n                    <div style="margin:17px"><span class="tts_review">30</span>You have NOT answered the question, but\n                        have marked the question for review.</div>\n                    <div style="margin:17px"><span class="tts_ansreview">37</span>The question(s) "Answered and Marked\n                        for Review" will be considered for evalution.</div>\n                </div>\n                <li>To expand the Image, you can Hover on the Image.(Only On Desktop/Laptop Devices). For Mobile Devices click on the Image.</li>\n                <li>When the timer reaches zero, the examination will end by itself. You will not be required to end or\n                    submit your examination.</li>\n                <li>Make Sure To Have A Good Internet Connection. Loss in Internet Connectivity may prevent submission\n                    of answers. </li>\n                <li>DO NOT TRY TO Minimise The Full Screen Mode Of The Exam. You Will Recieive 1 Warning For Doing So\n                    After Which Your Test Will End</li>\n            </ol>\n            <hr style = "width:95%">\n            <span style="font-size:18px;color:var(--clr16)">Navigating to a Question:</span>\n            <ol style="font-size:14px;">\n                <li>To view/answer a question, do the following: Click on the question number in the Question Palette at\n                    the right of your screen to go to that numbered question directly. Note that using this option does\n                    NOT save your answer to the current question.</li>\n            </ol>\n            <hr style = "width:95%">\n            <span style="font-size:18px;color:var(--clr16)">Answering a Question:</span>\n            <ol style="font-size:14px;">\n                Procedure for answering a multiple choice type question:\n                <li>To select you answer, click on the button of one of the options.</li>\n                <li>To deselect your chosen answer, click on the button of the chosen option again or click on the Clear\n                    Response button</li>\n                <li>To change your chosen answer, click on the button of another option</li>\n                <li>To save your answer, you MUST click on the Save button.</li>\n                <li>To mark the question for review, click on the Mark for Review button.</li>\n                <li>To change your answer to a question that has already been answered, first select that question for\n                    answering and then follow the procedure for answering that type of question.</li>\n            </ol>\n            <hr style = "width:95%">\n            <span style="font-size:18px;color:var(--clr16)">Navigating through sections:</span>\n            <ol style="font-size:14px;">\n                <li>All Questions are Visible in the Question Pallete along under the respective sections/subjects</li>\n            </ol>\n            <hr style = "width:95%">\n            <span style="font-size:18px;color:var(--clr16)">Test Specific Instructions:</span>\n            <div id = "tsi" style="font-size:14px;">\n            </div>\n            <hr style = "width:95%">\n            <span style="font-size:18px;color:var(--clr16)">Terms And Conditions:</span>\n            <span style="font-size:14px;">By Checking on "I Agree" you Agree to All Terms And Conditions:</span>\n            <ol style="font-size:14px;">\n                <li>I have read and understood all the instructions. </li>\n                <li>I agree that all computer hardware allotted to me are in proper working condition. </li>\n                <li>I declare that i am not in possession of / not wearing / not carrying any prohibited gadget like\n                    mobile phone,bluetooth devices etc. /any prohibited material with me into the Examination Hall.</li>\n                <li>I also agree that I will not tamper with any software/technologies/devices alloted to me while\n                    attempting\n                    this test.\n                </li>\n                <li>I agree that in case of not adhering to the instructions, I shall be liable to be debarred from this\n                    Test and/or to disciplinary action, which may include ban from future Test / Examinations</li>\n            </ol>\n            <div style = "font-size:25px;color:lime;"><input type="checkbox" id = "agree_in" name = "agree_in"><label for="agree_in">I Agree</label></div>\n            <span style="font-size:5vh;text-align: center;"> All The Best! </span>\n            <button class="tst_btn rpl" id="tin_start" \n                onclick=\'window.location.hash = "#/attempt/" + window.location.hash.split("#/instructions/")[1]\' disabled>Start</button>\n        </div>\n';let My='\n<span class="in_t">Tests</span>\n        <hr style="color:var(--clr18)" width="100%">\n        <div><button class="tst_btn rpl" id="ti_act">Active Tests</button><button class="tst_btn rpl"\n                id="ti_fin">Finished Tests</button><button class="tst_btn rpl" id="ti_upc">Upcoming Tests</button></div>\n        <div id="testlinks">\n        </div>',xy='\n<div style="border: grey 2px dashed;flex-direction: row;margin:10px;min-width:820px;" class="flex_type">\n            <div style="display: flex;flex-direction: column;width: 80vw;height:80vh;margin:10px;min-width: 500px;">\n                <div id="tt_extrabx" style="display: flex;flex-direction:row;height: 40px;margin:10px;">\n                    <span id="tt_timeleft">00:00:00</span>\n                    <span id="tt_marksaward"></span>\n                    <span id="tt_timespent" style="margin-left:5px;"></span>\n                    <span id="tt_testname" style="width: 100%;text-align: right;margin-left: 5px;">TEST\n                        NAME</span>\n                    <button id="tt_rep" class="tst_btn rpl">Report</button>\n                    <button id="tt_sub" class="tst_btn rpl">Submit</button>\n                </div>\n                <div id="tt_question">\n                    <div style="font-size: larger;">Question <span id="tt_qno">12</span></div>\n                    <hr>\n                    <div id="tt_qtitle">Who Is The President Of India?</div>\n                    <hr>\n                </div>\n                <div id="tt_footer" style="display:flex;">\n                    <button class="tst_btn rpl" id="tt_save">Save</button>\n                    <button class="tst_btn rpl" id="tt_clear">Clear</button>\n                    <button class="tst_btn rpl" id="tt_review">Mark For Review</button>\n                    <button class="tst_btn rpl" id="tt_ansreview">Save And Mark For Review</button>\n                </div>\n            </div>\n            <div>\n                <div id="tt_chgbx">\n                    <button class="tst_btn rpl" id="tt_qp">Q.Paper</button>\n                    <button class="tst_btn rpl" id="tt_instr">Instructions</button>\n                </div>\n                <div id="tt_infobx">\n                    <div style="margin:9px"><span class="tts_notvisit">12</span>Not Visited</div>\n                    <div style="margin:9px"><span class="tts_notanswer">21</span>Not Answered</div>\n                    <div style="margin:9px"><span class="tts_answered">45</span>Answered</div>\n                    <div style="margin:9px"><span class="tts_review">30</span>Review</div>\n                    <div style="margin:9px"><span class="tts_ansreview">37</span>Review And Answered</div>\n                </div>\n                <div id="tt_qnobx">\n                    <div>\n                        <div id="tw_Physics"><span>Physics</span>\n                            <div id="tw_Physics_c"></div>\n                        </div>\n                        <div id="tw_Chemistry"><span>Chemistry</span>\n                            <div id="tw_Chemistry_c"></div>\n                        </div>\n                        <div id="tw_Math"><span>Math</span>\n                            <div id="tw_Math_c"></div>\n                        </div>\n                        <div id="tw_Computer"><span>Computer</span>\n                            <div id="tw_Computer_c"></div>\n                        </div>\n                        <div id="tw_Biology"><span>Biology</span>\n                            <div id="tw_Biology_c"></div>\n                        </div>\n                        <div id="tw_Statistics"><span>Statistics</span>\n                            <div id="tw_Statistics_c"></div>\n                        </div>\n                        <div id="tw_Unfiled"><span>Unfiled</span>\n                            <div id="tw_Unfiled_c"></div>\n                        </div>\n                    </div>\n                </div>\n            </div>\n        </div>',ky='\n<span class="in_t" id="te_title">The Test Has Ended</span>\n        <span style="font-size:3vh;" id ="te_msg">Your Results Will Be Released After<span id="te_endtime"></span></span>\n        <a class="tst_btn rpl" href="/#/dashboard">Go To Dashboard</a>\n        <hr style="color:var(--clr18)" width="100%">';let Ay='\n<span class="in_t" style = "text-align:center">Terms And Conditions</span>\n        <span class="sp_txt" style = "text-align:center">Copyright 2021-23 Quarkz By Mr Techtroid</span>\n        <span class="in_t_2">Last Updated: 04 April 2023(IST)</span>\n<div id="lgl_container">\n    <ol>\n        <h3>A. Acceptance of Terms and Conditions</h3>\n        <li>By using the Quarkz website, you acknowledge and agree to the terms and conditions set forth below. If you do not agree to these terms and conditions, you should not use the Quarkz website.</li>\n        <h3>B. Account Information And User Generated Content</h3>\n        <li>By creating an account on the Quarkz website, you agree to provide accurate and complete information about yourself as requested in the registration form. You also agree to keep your account information up-to-date and secure. </li>\n        <li>All user-generated content on the Quarkz website, including but not limited to quizzes, tests, assignments, notes, and forum posts, may be accessed by Quarkz admins or authorized moderators. When you request account deletion, no user-generated data will be deleted. Instead, the account will be unlinked from our authentication services. However, this data will continue to be accessible to ONLY Quarkz admins.\n        <li>Any content uploaded, published, submitted, or posted by you on the Quarkz platform, including without limitation, text, graphics, images, videos, and audio, will be owned by you, but we are also granted a worldwide, non-exclusive, royalty-free, sublicensable, and transferable license to use, reproduce, distribute, share, display, publish, retain, make available online, and/or electronically transmit such user-generated content as well as technical information collected. You represent and warrant that you have all necessary rights to grant us this license.</li>\n        <h3>C. Free Content</h3>\n        <li> The User may be provided with certain Free Content upon registering to the Platform. Such Free Content is provided at the discretion of Quarkz! and can be modified into a paid subscription any point of time after notification to the user.</li>\n        <h3>D. Code of Conduct</h3>\n        <li>You agree to use the Quarkz(Platform) website in a lawful and ethical manner. You agree, undertake and confirm that Your use of the Platform shall be strictly governed by the following binding principles and You agree not to:</li>\n        <ol>\n        <li> defeat, damage or interfere with any security feature of our Platform, nor attempt to do so.</li>\n        <li> cheat, use any deceptive methods or otherwise evade or violate the rules or intended operation of any software, nor attempt to do so.</li>\n        <li>alter or modify any Content of our Platform, other than information or User Content you have submitted or posted through the Platform.</li>\n        <li> reproduce, duplicate, copy, sell, trade, or exploit, for any commercial purpose, any Content or component of or any access to the Platform, without the prior written permission of Embibe, except for User Content or registration information you have submitted or posted through the Platform.\n        <li>use or attempt to use any automated system, software, or device to generate and send communications to or through the Platform nor will you annoy or harass any person through or in connection with the use of the Platform.\n        <li> use or attempt to use any engine, software, tool, agent, or other device or mechanism (including, without limitation, browsers, spiders, robots, avatars, or intelligent agents) to navigate or search the Platform other than the search engine and search agents available on the Platform.\n        <li>upload, post, transmit, share or otherwise make available through the Platform any illegal material, or any material that contains software viruses or any other computer code designed to interfere with the functionality of any computer software or hardware or telecommunications equipment.\n        <li> upload, transmit, or post any material that is obscene, sexually explicit, hateful, intimidating or threatening, or that violates the rights of Embibe or of any third party.\n        <li>use the Platform to upload, modify, publish, post, transmit, or share material that is defamatory, obscene, pornographic, paedophilic, invasive of anothers privacy\n        <li>including bodily privacy, insulting or harassing on the basis of gender, libellous,\n        <li>racially or ethnically objectionable, relating or encouraging money laundering or\n        <li>gambling, or otherwise inconsistent with or contrary to the laws in force.\n        <li>use our Platform to post, transmit, or share material that you did not create or that you do not have permission to use.\n        <li>use the Platform for any commercial use as the Platform is intended for personal, non-commercial use only except with our prior written permission.\n        <li>copy or distribute in any manner, any proprietary information for any commercial or business use, except with our prior written permission.\n        <li>modify, edit or change or otherwise make any derivative work of the paper or digital copies of any materials You have printed off or downloaded in any way.\n        <li>make unsolicited offers, advertisements, proposals, or send junk mail or spam to other Users of the Platform.\n        <li>reverse engineer, decompile, disassemble or otherwise attempt to discover the source code of the Platform or any part thereof, except and only to the extent that such activity is expressly permitted by Applicable Law.\n        <li>interfere with or damage operation of the Platform, upload or otherwise disseminate viruses, adware, spyware, worms, or other malicious code intended to interrupt, destroy or limit the functionality of any computer resource.\n        <li>not to upload, modify, publish, transmit, store, update or share any information that,  is harmful to child\n        <li>violates any law for the time being in force;\n        <li>deceives or misleads the addressee about the origin of the message or knowingly and intentionally communicates any information which is patently false or misleading in nature but may reasonably be perceived as a fact;\n        <li>impersonates another person;\n        <li>threatens the unity, integrity, defence, security or sovereignty of India, friendly relations with foreign States, or public order, or causes incitement to the commission of any cognisable offence or prevents investigation of any offence or is insulting other nation;\n        <li>is patently false and untrue, and is written or published in any form, with the intent to mislead or harass a person, entity or agency for financial gain or to cause any injury to any person;\n        <li> You agree not to engage in any activity that could damage, disable, overburden, or impair the website, or interfere with any other user\'s access to the website. You agree not to post or transmit any content that is obscene, defamatory, libelous, abusive, discriminatory, or otherwise offensive. You agree not to harass or bully other users on the website.</li>\n        </ol>\n        <h3>E. Termination of Access</h3>\n        <li>We reserve the right to terminate access to the Quarkz website, or any part thereof, to any user at any time, without prior notice, for any reason, including without limitation, for a violation of these terms and conditions.</li>\n        <li>We may terminate your access to the site, without cause or notice, which may result in the forfeiture and destruction of all information associated with your account. All provisions of these Terms and Conditions that by their nature should survive termination shall survive termination, including, without limitation, ownership provisions, warranty disclaimers, indemnity, and limitations of liability.</li>\n        <h3>F. Age Restrictions</h3>\n        <li>By creating an account on the Quarkz website, you represent and warrant that you are 13 years of age or older. If you are under 13 years of age, you must obtain permission from your guardians or parents to use the Quarkz website. We do not knowingly collect any personal information from users under 13 years of age. If we become aware that we have collected personal information from a user under 13 years of age, we will take steps to delete that information.</li>\n        <h3>G. Free Use Disclaimer</h3>\n        <li>The Quarkz website may contain copyrighted material that has not been specifically authorized by the copyright owner. Such material is made available for educational purposes under the "fair use" provision of the Copyright Act. Quarkz respects the intellectual property rights of others, and we ask that our users do the same.</li>\n        <li>Copyright Disclaimer under section 107 of the Copyright Act 1976, allowance is made for fair use\n            for purposes such as criticism, comment, news reporting, teaching, scholarship, education and\n            research. </li>\n        <h3>H. Licensing And Assets</h3>\n        <li>All codes, graphics, assets, files, and information located on the Quarkz website <span class="sp_txt">quarkz.netlify.app</span> or any of our storage services, such as Firebase, are part of Quarkz. Any usage, reproduction of any of the same without prior consent of owner Mr. Techtroid or Quarkz team is prohibited. </li>\n        <li>YouTube videos used on this website belong to their respective channel owners. Usage of questions and notes are from fair use under education, teaching, and research categories. Simulations used on this website belong to the respective providers.</li>\n        <li>If You Feel Any Content is violating your Copyright and want it to be removed from this site, contact us at the contact us page. We will make sure that we will remove the content in 24 Hours.</li>\n        <h3>I. User Conduct</h3>\n        <li>When using Quarkz, you agree to abide by all applicable laws and regulations, as well as our community guidelines. You also agree to respect the rights and dignity of others and not engage in any conduct that is discriminatory, harassing, or harmful in any way. Any violation of these rules may result in the termination of your account and may also lead to legal action.\n        <h3>J. Indemnification</h3>\n        <li>You agree to indemnify and hold Quarkz, its affiliates, licensors, and their respective directors, officers, agents, and employees, harmless from and against any and all claims, losses, liabilities, damages, costs, and expenses, including reasonable attorneys\' fees, arising out of or related to your use of our website, your violation of these Terms and Conditions, or any unauthorized use of your account.</li>\n        <h3>K. Disclaimer of Warranties</h3>\n        <li>Quarkz does not warrant that the site will be error-free, uninterrupted, or secure. You acknowledge and agree that your use of the site is at your own risk. Quarkz makes no representations or warranties of any kind, express or implied, regarding the accuracy, completeness, reliability, suitability, or availability of the site or the information, products, services, or related graphics contained on the site for any purpose. To the fullest extent permitted by law, Quarkz disclaims all warranties, including but not limited to warranties of title, non-infringement, merchantability, and fitness for a particular purpose.</li>\n        <h3>L. Limitation of Liability</h3>\n        <li>In no event shall Quarkz be liable for any direct, indirect, incidental, special, or consequential damages arising out of or in any way connected with your use of or inability to use the site, or for any information, products, services, or related graphics obtained through the site, even if Quarkz has been advised of the possibility of such damages. Some jurisdictions do not allow the exclusion or limitation of liability for incidental or consequential damages, so the above limitation may not apply to you.</li>\n        <h3>M. Governing Law and Jurisdiction</h3>\n        <li>These Terms and Conditions shall be governed by and construed in accordance with the laws of India, without giving effect to any principles of conflicts of law. You agree that any dispute arising from or relating to these Terms and Conditions or your use of the site shall be brought exclusively in the courts located in India, and you hereby consent to the personal jurisdiction and venue of such courts.</li>\n        <h3>N. Entire Agreement</h3>\n        <li>These Terms and Conditions constitute the entire agreement between you and Quarkz and supersedes all prior or contemporaneous agreements, representations, warranties, and understandings, whether written or oral, relating to the site.</li>\n        <h3>O. Contact Us</h3>\n        <li>If you have any questions or comments about these Terms and Conditions or our website, please contact us through our "Contact Us" page.</li>\n    </ol>\n</div>';let Ey='\n<span class="in_t" class="" id="fu_topic_title">Add/Edit Topic</span>\n        <div id="aq_basic" style="flex-direction: column;">\n            <input type="text" id="aq_tpcname" class="_in_aq" placeholder="Tests/Topic/Question Bank Name">\n            <select name="type" id="aq_tpclevel" class="_in_aq col-red">\n                <option value="jee">JEE</option>\n                <option value="neet">NEET</option>\n                <option value="foundation">Foundation</option>\n            </select>\n            <input type="text" id="aq_tpc_chapterid" class="_in_aq" placeholder="Chapter ID">\n            <select name="type" id="aq_tpc_subj" class="_in_aq col-red">\n                <option value="physics">Physics</option>\n                <option value="chemistry">Chemistry</option>\n                <option value="maths">Maths</option>\n                <option value="biology">Biology</option>\n                <option value="computer">Computer</option>\n                <option value="statistics">Statistics</option>\n                <option value="unfiled">Unfiled</option>\n            </select>\n        </div>\n        <div id="aq_test_extra" style="flex-direction: column;width:72vw">\n            <input type="text" id="aq_tst_batches" class="_in_aq" placeholder="Batch ID">\n            <input type="datetime-local" id="aq_tst_stron" class="_in_aq">\n            <input type="datetime-local" id="aq_tst_endon" class="_in_aq">\n            <input type="text" id="aq_tst_syllabi" class="_in_aq" placeholder="Syllabus">\n            <input type="number" id="aq_tst_timealotted" class="_in_aq" placeholder="Time Alloted">\n            <input type="number" id="aq_tst_passpercentage" class="_in_aq" placeholder="Pass Percentage" value = "33">\n            <div><input type="checkbox" id="aq_randomize" name="aq_randomise" value="randomize">\n            <label for="aq_randomize">Randomise Questions</label></div>\n            <div><input type="checkbox" id="aq_blockresult" name="aq_randomise" value="randomize">\n            <label for="aq_blockresult">Block Result</label></div>\n            <div class="summernote" id="aq_add_test_instr">Additional Test Instructions</div>\n        </div>\n        <div id="lqadd" style="display: flex;flex-direction: row;margin:10px;height: 50vh;">\n            <div id="question_list"\n                style="border: 2px lime solid;width: 15vw;height:50vh;display: flex;flex-direction: column;align-items: center;text-align: center;font-size: 3vh;overflow-y: scroll;"\n                class="title-notes"></span>\n            </div>\n            <div\n                style="border: 2px lime solid;width:75vw;display: flex;flex-direction: column;overflow-y: scroll;height:50vh;">\n                <select name="type" id="aq_mode" class="_in_aq col-red">\n                    <option value="question">Question</option>\n                    <option value="lesson">Lesson</option>\n                    <option value="exam">Exam</option>\n                    <option value="store">Store Item</option>\n                </select>\n                <div class="flex_type" id="aq_exams">\n                    <input type="text" id="aq_examname" class="_in_aq" placeholder="Exam Names">\n                    <input type="text" id="aq_examdate" class="_in_aq" placeholder="Exam Dates">\n                    <input type="text" id="aq_examinfo" class="_in_aq" placeholder="Exam Info Link">\n                    <input type="text" id="aq_examsyllabus" class="_in_aq" placeholder="Syllabus Link">\n                </div>\n                <div class="flex_type" id="aq_all" style="align-items: unset;" id="aq_uiad">\n                    <input type="text" id="aq_id" class="_in_aq" placeholder="ID" disabled style="color:grey">\n                    <div class="summernote" id="aq_qtext">Question</div>\n                    <input type="text" id="aq_answer" class="_in_aq" placeholder="Answer">\n                    <input type="url" id="aq_yurl" class="_in_aq" placeholder="Youtube ID">\n                    <div class="summernote" id="aq_expl">Explanation</div>\n                    <textarea type="answer" id="aq_hint" class="_in_aq" style="resize: none;overflow-y: scroll;"\n                        placeholder="Hint"></textarea>\n                    <input type="number" id="aq_posmrks" class="_in_aq" placeholder="Marks For Correct">\n                    <input type="number" id="aq_negmrks" class="_in_aq" placeholder="Marks For Incorrect">\n                    <input type="url" id="aq_q_topic" class="_in_aq" placeholder="Topic">\n                    <select name="type" id="aq_section" class="_in_aq col-red">\n                        <option value="Physics">Physics</option>\n                        <option value="Chemistry">Chemistry</option>\n                        <option value="Math">Math</option>\n                        <option value="Biology">Biology</option>\n                        <option value="Computer">Computer</option>\n                        <option value="Statistics">Statistics</option>\n                        <option value="Unfiled">Unfiled</option>\n                    </select>\n                </div>\n                <div id="aq_ans_hold">\n                    <select name="type" id="aq_type" class="_in_aq col-red">\n                        <option value="mcq">MCQ</option>\n                        <option value="mcq_multiple">MCQ Multiple</option>\n                        <option value="mcq_multiple_partial">MCQ Multiple(Partial)</option>\n                        <option value="matrix">Matrix</option>\n                        <option value="numerical">Numerical</option>\n                        <option value="explain">Explain</option>\n                        <option value="fill">Fill In The Blanks</option>\n                    </select>\n                    <div id="aq_mcq_con" class="flex_type">\n                        <div class="aq_mcq_p" onclick="changeColor(this)"><input class="aq_mcq"></div>\n                        <div class="aq_mcq_p" onclick="changeColor(this)"><input class="aq_mcq"></div>\n                        <div class="aq_mcq_p" onclick="changeColor(this)"><input class="aq_mcq"></div>\n                        <div class="aq_mcq_p" onclick="changeColor(this)"><input class="aq_mcq"></div>\n                    </div>\n                    <div id="aq_matrix">\n                        <table>\n                            <tr>\n                                <td><input class="aq_i1"><input class="aq_i2"></td>\n                            </tr>\n                            <tr>\n                                <td><input class="aq_i1"><input class="aq_i2"></td>\n                            </tr>\n                            <tr>\n                                <td><input class="aq_i1"><input class="aq_i2"></td>\n                            </tr>\n                            <tr>\n                                <td><input class="aq_i1"><input class="aq_i2"></td>\n                            </tr>\n                        </table>\n                    </div>\n                    <button class="tst_btn rpl" id="aq_ao">Add Option</button>\n                    <button class="tst_btn rpl" id="aq_ro">Remove Option</button>\n                </div>\n                <button class="tst_btn rpl" id="aq_re">Remove Entry</button>\n            </div>\n        </div>\n        <button class="tst_btn rpl" id="aq_tpc_save">Save/Update Topic</button>\n        <button class="tst_btn rpl" id="aq_qbc_save">Save/Update QBank</button>\n        <button class="tst_btn rpl" id="aq_tst_save">Save/Update Test</button>\n        <button class="tst_btn rpl" id="aq_exam_save">Save/Update Exams</button>\n        <button class="tst_btn rpl" id="aq_export">Export</button>\n\n',Sy='\n<span style="font-size: 3vh;color:lime" id="tp_title">Topic Name</span>\n<span style="font-size: 4vh;color:var(--clr16)" id="tp_lsno">Lesson Name</span>\n        <hr width="100%" style="color:var(--clr18)">\n        <div class="flex_type" style="flex-direction: row;flex-wrap: wrap;">\n            <button class="tst_btn rpl" id="tp_nxt">Next</button>\n            <button class="tst_btn rpl" id="tp_prv">Previous</button>\n            <button class="tst_btn rpl" id="tp_pnt" style="display: none;">Export</button>\n            <button class="tst_btn rpl" id="tp_edt" style="display: none;">Edit</button>\n            <button class="tst_btn rpl" id="tp_rep">Report</button>\n        </div>\n        <hr width="100%" style="color:var(--clr18)">\n        <div id="tp_lesson" style="width: 80%;">\n            <div id="tp_full_vid">\n                \x3c!-- <iframe id = "video" style = "width:80%; height: 450px; border-style: solid; ;border-width: 10px;" hidden = "True"  allow = "autoplay"></iframe> --\x3e\n                <div style="pointer-events: none;width:100%;">\n                    <div>\n                        <div id="player" style="width: 100%;"></div>\n                    </div>\n                    <div id="yt_progressBar" style="width:100%;">\n                        <div id="yt_progressBar_in"></div>\n                    </div>\n                </div>\n                <div id="toolbar"\n                    style="border:3px solid grey; border-radius: 10px 10px 10px 10px;padding-left: 5px;padding-right: 5px;min-width:400px;">\n                    <span class="material-icons" id="tp_bw_btn" onclick="player.seekTo(player.getCurrentTime()-10)"\n                        title="-10 Seconds">fast_rewind</span>\n                    <span class="material-icons" id="tp_pl_btn" title="Play"\n                        onclick="player.playVideo()">play_arrow</span>\n                    <span class="material-icons" id="tb_pa_btn" title="Pause" onclick="player.pauseVideo()">pause</span>\n                    <span class="material-icons" onclick="player.stopVideo()" id="tb_st_btn" title="Stop">stop</span>\n                    <span class="material-icons" id="tb_fw_btn" onclick="player.seekTo(player.getCurrentTime()+10)"\n                        title="+10 Seconds">fast_forward</span>\n                    <span id="mute" class="material-icons" id="tb_um_btn" onclick="volumetype()"\n                        title="Mute/Unmute">volume_up</span>\n                    <span id="mute" class="material-icons" id="tb_um_btn" title="Mute/Unmute"\n                        onclick="fullscreen()">fit_screen</span>\n                    <span class="material-symbols-outlined" id="tb_wy_btn" onclick="window.open(player.getVideoUrl())"\n                        title="Watch On Youtube">youtube_activity</span>\n                    <input type="range" min="0" max="100" value="50" id="tb_vl_br" style="background-color: grey;"\n                        onchange="volumechange()" oninput="volumechange()">\n                </div>\n            </div>\n            <div>\n                <div id="tp_expl" style="height:max-content;min-height: 12vh;text-align: left;">Explanation</div>\n                <img id="tp_lsimg">\n            </div>\n        </div>\n\n        <div id="tp_question" style="width: 80%;align-items: center;display: flex;flex-direction: column;">\n            <div id="tp_qtext" style="width:80%;height:max-content;min-height: 12vh;">Question</div>\n            <div id="tp_ans_hold">\n                <input type="answer" id="tp_answer" class="_in_aq" placeholder="Answer">\n                <div id="tp_mcq_con" class="flex_type">\n                </div>\n                <div id="tp_matrix">\n                    <table>\n                        <tr>\n                            <td><span class="tp_i1"></span><span class="tp_i2"></span></td>\n                        </tr>\n                        <tr>\n                            <td><span class="tp_i1"></span><span class="tp_i2"></span></td>\n                        </tr>\n                        <tr>\n                            <td><span class="tp_i1"></span><span class="tp_i2"></span></td>\n                        </tr>\n                        <tr>\n                            <td><span class="tp_i1"></span><span class="tp_i2"></span></td>\n                        </tr>\n                    </table>\n                </div>\n            </div>\n\n            <div>\n                <button class="tst_btn rpl" id="tp_sbm">Submit</button>\n                <div id="tp_status"></div>\n            </div>\n            <div id="tp_hint" style="display: none;">Hint</div>\n            <div id="tp_e_answer" style="display: none;">Answer</div>\n            <div id="tp_a_expl" style="display: none;">Explanation</div>\n        </div>';let Ty='\n<span class="in_t">Users</span>\n        <hr style="color:var(--clr18)" width="100%">\n        <div\n            style="border:orangered 3px solid;border-radius: 30px;display: flex;flex-direction: column;align-items: center;width:80%;">\n            <span style="font-size:3vh;color:var(--yellow);width:80%;">Add Users</span><iframe\n                href="index.html#/register"></iframe>\n        </div>\n        <hr style="color:var(--clr18)" width="50%">\n        <input type="answer" id="us_user" class="_in_aq" placeholder="username">\n\n';let Iy='\n<div id="un_list" class = "no-print" style="border:3px solid grey;width:25vw;height:90%"></div>\n        <div id="un_render" style="width:77vw;height:100%">\n            <div id="un_tools" class = "no-print" style="width:100%;display: flex;flex-direction: row;flex-wrap: wrap;">\n                <select id="un_rendermode" class="_in_aq" style="width: 100px;color:red;"\n                    value="edit">\n                    <option value="edit">edit</option>\n                    <option value="preview">preview</option>\n                </select>\n                <select id="un_viewership" class="_in_aq" style="width: 100px;color:red;">\n                    <option value="private">private</option>\n                    <option value="public_view">public(view_only)</option>\n                    <option value="public">public</option>\n                </select>\n                <input id="un_title" type="text" class="_in_aq" style="width:20vw;" value="Notes Title">\n                <button id="un_save" class="rpl tst_btn" style="height: 30px;">Save</button>\n                <button id="un_print" class="rpl tst_btn" style="height: 30px;">Print</button>\n                <button id="un_delete" class="rpl tst_btn" style="height: 30px;">Delete</button>\n            </div>\n            <div id="un_edit" style="height:90%;width:100%;overflow-y:scroll">\n                <div class="summernote" id="un_editable" style="height:90%">Notes</div>\n            </div>\n            <div id="un_preview" style="height:90%;width:100%;overflow:scroll">\n            </div>\n            <iframe style="display: none;" id="un_print_iframe"></iframe>\n        </div>\n';let qy='\n<span class="in_t">Store</span><button class="tst_btn rpl" id="stre_itm_add" style="display: none;" onclick=\'window.location.hash = "#/add_storeitem/"\'>Add Item</button>\n<hr style="color:var(--clr18)" width="100%">\n<div id = "store_list" style = "width:100%;height:75vh;display:flex;flex-direction:row;flex-wrap:wrap;justify-content:center;"></div>\n<span style = "font-size:10px">This page contains product affiliate links. We may receive a commission if you make a purchase after clicking on one of these links.</span>\n';let Cy='\n<div style = "display:flex;flex-direction:row;flex-wrap:wrap;width:100%;margin:10px;padding:10px;padding-left:10px;justify-content:center">\n  <span style = "font-size:16px" id = "vid_title">Counsilling Session - 1</span>\n</div>\n<div style = "border-radius:5px;width:90vw;height:60vh;position:relative">\n  <video id="remoteVideo" autoplay playsinline style = "width:100%;height:100%;border: white solid 2px"></video>\n  <video id="webcamVideo" autoplay playsinline style="position:absolute;width:200px;height:100px;right:10px;bottom:10px;border: white solid 2px"></video>\n</div>\n<div>\n\n</div>\n<div style = "display:flex;flex-direction:row;width:100%;justify-content:space-around;padding:10px;">\n<div style = "display:flex;flex-direction:row">\n  <button id="joinaudioButton" class = "material-symbols-outlined vid_ico">mic</button>\n  <button id="webcamButton" class = "material-symbols-outlined vid_ico">videocam</button>\n</div>\n<div style = "display:flex;flex-direction:row">\n  <button id="callButton" class = "material-symbols-outlined vid_ico" disabled>call</button>\n  <button id="screenButton" class = "material-symbols-outlined vid_ico">desktop_windows</button>\n</div>\n<button id="hangupButton" class = "material-symbols-outlined vid_ico" disabled>call_end</button>\n</div>\n\n</div>\n',Ry='\n<span class="in_t" class="" id="fu_vidchat_title">Schedule Meeting</span>\n        <div id="vdc_basic" style="flex-direction: column;width:100%;display:flex;align-items:center;">\n            <label for = "vdc_tpcname">Meeting Topic</label>\n            <input type="text" id="vdc_tpcname" class="_in_aq" placeholder="Dummy Meeting"><br>\n            <label for = "vdc_stron">Starts On:</label>\n            <input type="datetime-local" id="vdc_stron" class="_in_aq"><br>\n            <label for = "vdc_duration">Duration(mins)</label>\n            <input type="text" id="vdc_duration" class="_in_aq" placeholder="60" value = "60"><br>\n            <label for = "vdc_meetid">Meeting ID</label>\n            <input type="text" id="vdc_meetid" class="_in_aq" placeholder="GENERATINGSOON"><br>\n            <button class="tst_btn rpl" id="vdc_create">Create Call</button>\n            <button class="tst_btn rpl" id="vdc_update">Update Call Details</button>\n        </div>\n';function Dy(t){t=Number(t);var e=Math.floor(t/86400),i=Math.floor(t%86400/3600),n=Math.floor(t%3600/60),r=Math.floor(t%60);return(e>0?e+(1==e?" day, ":" days, "):"")+(i>0?i+(1==i?" hour, ":" hours, "):"")+(n>0?n+(1==n?" minute, ":" minutes, "):"")+(r>0?r+(1==r?" second":" seconds"):"")}function Ly(t,e){let i=t.length;if(i!=e.length)return!1;t.sort(),e.sort();for(let n=0;n<i;n++)if(t[n]!=e[n])return!1;return!0}function Ny(t,e){const i=Object.keys,n=typeof t;return t&&e&&"object"===n&&n===typeof e?i(t).length===i(e).length&&i(t).every((i=>Ny(t[i],e[i]))):t===e}function Oy(t){fetch(t).then((t=>{var e;for(var i of t.headers.entries())"date"===i[0]&&(e=new Date(i[1]).getTime());return e}))}function Py(t){t.requestFullscreen?t.requestFullscreen():t.mozRequestFullScreen?t.mozRequestFullScreen():t.webkitRequestFullscreen?t.webkitRequestFullscreen():t.msRequestFullscreen&&t.msRequestFullscreen()}const By=(t,e)=>t.map((t=>({...e.find((e=>e.qid===t.qid&&e)),...t})));function Uy(t){return document.getElementById(t)}function Fy(t,e,i){var n;return 0==i&&(n=t=>(e,i)=>e[t]>i[t]?1:-1),1==i&&(n=t=>(e,i)=>e[t]>i[t]?-1:1),t.sort(n(e))}function jy(t,e,i,n){var r;return 0==n?r=(t,e)=>(i,n)=>i[t]===n[t]?i[e]>n[e]?1:-1:i[t]>n[t]?1:-1:1==n&&(r=(t,e)=>(i,n)=>i[t]===n[t]?i[e]>n[e]?-1:1:i[t]>n[t]?-1:1),t.sort(r(e,i))}function zy(t,e,i,n,r,s){if(null==i||i==[]||0==i.length)return{type:"unattempted",points:s};if("numerical"==t||"fill"==t){return e.some((t=>i.includes(t)))?{type:"correct",marks:n}:{type:"incorrect",marks:r}}if("mcq"==t||"mcq_multiple"==t){return Ly(e,i)?{type:"correct",marks:n}:{type:"incorrect",marks:r}}if("mcq_multiple_partial"==t){if(i.length>e.length)return{type:"incorrect",marks:r};let t=0;if(i.every((t=>e.includes(t)))){switch(i.length){case 3:t=.75*n;break;case 2:t=.5*n;break;case 1:t=.25*n}return{type:"correct",marks:t}}return{type:"incorrect",marks:r}}}function Vy(t){let e=new Audio;1==t?e.src="data:audio/mp3;base64,//NAxAALQAZ2X0EYAJ49pNra2nJwOIHKB9NZ8QBj1O+GOAwffBAHw//B8H3//8Pn//gR3/5yv/8oGPPPefPDDDDDDb186YxYsYPRbsWEH1mpoRfuDcILXq9NdBAEgtOkocV0H8nIkBn/80LELh+CHuWVmVgAHrqhHIc3Iyug3/zBpGKDIxVPqV//lZnSJfRYhbs5rf//wsskcVPsaq09D+1L////z7DTZGcebwI3OGJSxv+GDhQHxRoYORiVIb/+8if/xxSEIExwirioyUO/QOL/80DEDBdROuwBmEgAwyzKLPPH4hQw7VbLsj4f4dVbI7QGKQmufTxLU3btuTxLySxenJdS7S6Xj8+TyVb8TKk0Btzx6ktSSe4YOSTa0VUpw+tCRe1lz9m6lGx7tKbalUllwO+mwOjYq//zQsQJFKEi8AGYSAAznHAlb3TT56hyYiMkHijTQeyCzkNwLUyd5vuTzuh0nJbO314VCu/xrc2Xz4l2uMjEoa8Y9CEsax46og1rqmuelLRNscP0t/7+lSq2H0OKWbKECbWZap1I2Rxh5v/zQMQSF+l67AGYSACadS5H+ixc8HA/MWVeQWkj5k9I2k6WpdPpam51vrWslT2adWp+72sjtfKxL341m5C8r1qZdDGnAgqgmlrbnjkKRJMYxwxSEMZf0Ma8d0IgI0IqmfhYJRB1KF3q//NCxA0U+P7wAZhIAGbrOP1NvZQxuhco3oeo+s5FayHnjlNpPrKeltPlq13Wq2/vSqHeQYOGrSQJsGDFpIMJMU5Y9CGvGLTYUsuxd4ymx3966fvVWmjCOrbUqLbdhEPs7lD21X+oXt4///NAxBUXmUbsAZhIAHcF13C4fw0VbL2iIOeN0j59fpvTcm+GJ9nvUt/ev5W+G3WViXr7WTxPhQYpCGMa9yxiUNY8apLReShNcKDRiUNZeujvVShl7lUKVVQJpaJZEDHWaVJ2MyBlEvj/80LEERc5PuwBmEgA9QOrJHnmqUaMB7jhZgzNpFzxWk09S1PJPTcn2Kdb27u9db71PwvKzNnUaxLnBwBHyVh4aosVY1rhq0IQTa2OqcPUpLH3f3KTbe5a0SVDQGBIEkZ0sW3uOTOsykX/80DEEBgRnuwBmEgADGn9uudNhxc8Oh+4lXlOaI7MIKVtybrPQzuS1qoXrOsp6tbaf3J/axPwvKyOzqNZfl9v/5sft+tSLIbPvHrSwSEEueoc0YpDU39O6+lLOOoVIUw6SDaG7KiLc//zQsQKFOEG8AGYSACici3A1NDlDEaGBrrajYuHpC5Zz+aQ2wWpWnVtOT6WJ4r5X0qdfTu7xLnBwwBpINCIyhBNrXrHUJTYpaUVk2Y1Txyl2tq+51f+hRgCeSEoSOSKbiw2HWZRt/3zef/zQMQSF3ky7AGYMAApIs/EHS8daBEgCniNE6OG0DopKEbGPSS8tTGOt8UxxHu1Zpe20tkJ90oJhFphg+PUJQHNjqloZa97lMMCVMgLsS5uhuruXVZ///XUAq3kDEKHAYzPHnb6s2d3//NCxA8YGSLoAZhIAB56GMPnG5RGEJEqDiSEngZsws9GqbWSOWw6oxijihfJfx2ME4yalO41P3s9dARmwTNg+sWNjRVSXigsLmx4uhlw5qSo9BgXQZeLpfrS/+r/VRURFf8UMz8tmyl+//NAxAoR4LbwAZgYACemJc/2chp6eUSKVhXEBA4AGCwxIdBaDBDCuM2aECQGhdBomYFAZIC6CB46seKgc01DGsOrFVlbKGN/RxilJkukBTKGEE3Sa1SvVFGcQJFIhAs3A8cEZ2ZgujH/80LEHRhxUugBmEgAEqjPIWefWbYTrGW18dqsmHNzUl4ZVNTSljdVKe7jru9+7Vx12DCQ0XLMMMJCxo2xzZuybFzKFUjGmh7DO77Wpo0723elCiHLCBrAlvXjfiBaz2we8kuj8IkktmT/80DEFxUA+uwBmDAAXiZpyQIBEhxpi0k8Ur1klNO7CltbTry8sUUe4w+TWABGbEb0jzgcZAQsgegXIv9/GUvZQMFP///0////6BGRwB07RC1DlQPCLsVd2dkc1TTMHTSxDCTsMORVdP/zQsQeEljy8AGYMACNG9RVxGGtimqdm36qedzCiwsNMmTM0ZFgMTYZSzNOiySYteroNb9NtX/9Sko3RLgr7ITRl2cILzcunuymTyqpSnQRFuiiegtMtZUUjpjSvYiHhlLsRIEiRx4cw//zQMQwEWDK8AGYMABmhrTZMVMuFJpWgcxtCoq1Fswz72GaC6WkFrFVi9Uof+TwzAz8vfCZVL4zCpcNHVFyslTr4PieYWdFVVa7pa3qJVUNqPnfjUFJhoRsNEggBiYPtNjGmVsC5gqK//NCxEUVgPbsAZhIACChgUSaV0pVQulQu3qo/Z/pCx2RjjGigkr8xV57bzQNA0UisVl0XnSBNGixGH6b5pRthc1NiSknJwnaa033t91XGsilYVIEj5p6TAFIhwWYlqRZimmixpqTC21I//NAxEsUmPbsAZhIAEPXWygW//0VFgLyLTL4FFyN/pG+lGzitFpFCJDLZEQFUKEFExBmpJQqQyZzVVGFUqoXla1dEuKWlDfWrtuthpeD57KorL8snuvf2VXV75bfP21ffPd6l1u6Bmn/80LEUxRBKuwBmDABI9HlguvYZLIMpf9s8HVrX+CJE4ifH/kpY71Yf9VhG+NbX/7Mloylfjn//pNKnuBWR8sJWCzWtZ+ZFUi04+r/1hLRGHhTX//UlaA26G5LNgPgGuWeJXEPKuET2+r/80DEXhKhFuABmEgAeV6g6V+z/DXLf/////+DSw0W+SnlqkxBTUUzLjEwMKqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqv/zQsRuCggF0l/AEACqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqg==":2==t&&(e.src="data:audio/mp3;base64,//NIZAAFvAE3L6CIAAg4BeABQBAAlj9tackkSXAfLvgm+J3tUGOXB9+CEoCAIf8Hw//sf/4IO6gwH///y4Pn//y8T+XP/wQBAEDn///6gxKAg4hf//8EAQBCo5/BMH3/g4CAYRbnMzpMlkcVicRiMQAP4avle0n2eEEd2Ig+yxg/FEknHuXzckR6qdqfJdSR//NIZCwPFYFvL8e0AYbIRoxthRAAkVJrdBjho63HkYqlymg7PzA0pyaJMGyULXMLIfMPnSSTQZalWUaUPmZi30hnUtSmUipSbJl+/1GlhzP9ZkdaqtaS132ROfsZv/9RiBAACAIEABgf/GeBHf8p8479P/6v/7f/l////k0aQZHhlbthc46MySSxxAjxJBO0//NIZBMKyPVrP+a0AQmp7oSp1GgBQhAbQXY1R0frRajUlSTNS6XS638yPgvK/6ReLxeNndFL//0VJJGRkXkv/+tElR6kqPoKyIKD47v/UDQNf/BUFTv/h0EP/uiFuwNCZEzLVD///tR/8fwuZo3/////9///tQQtJAzAEwl3HABSiiAV2ylyDGWOG3ap4Cv3//NIZBEKIY19PwHnK4kx6r46UBtq+SRTmm5sDPZ5Ehv//8/QxiEwyp7/6iOJbGN+r5jD4PwfiQQnv///3YVlS3/////3QwcAYDgmejf///9BwaDRpABBYAYAsP+YVDMSwnIFgRZQ9/////8PQQGb//qPHTM4FTEHFZoDUFS2LxwPIfsk5kkX0S60yCiDXRqS//NIZBYMAY9zLzWSsQgoor2uAIpG9f6kUW/Ul9JJFHA8qZW90O0ieTD+ILGp7/6kkkkmUk///+vSM0W//////qIuCOxwutumiy0WSWiyn6kknrSSMSZIqUBHQYCC0JECE0UQAoG4UKxlA4E9rf+qR/6P////8qd///UGPi3/qN0AQgMS2iZjAPm5X9g3iavO//NIRBAHZUVfLwFnJw+LGspeAdRK//9Lf6MeSdTm+p6I6CoqLf/92OnJX///6Epb/////+gGlFK5wuskj+siDQAhAYu2N7HA3k9gCwibf//2OY39mPPBstt0ICyMMDxKKhY//9nt///f6D5S//////+GYrbNxYMM5M///9UIVQBQC7dMb2OAkIwGozCHRHhO//NIZBEImVdfLwAyIwvyhsG+A05OvS9/61Ukyq6/f3LTerdByGIEq44zAYn/+pSLqUur6f//qPHTP//////FZGxq81LRiln/rA4UFtaugACburwcQWOpUT/96Nd00q9yDP//HjALf/89ivqf///6nCT7/////8FA9QHAA7bOboOB/RUYGppNc3AOEGU63dyI//NIZBcL4Y1XL0itaQiA5spcKAbGt7dnmYTcwpTW6TAxSLQzhECKByCEFyEBHgaCEEpv/+iVHSgfYv2MkUf//XWbMaCLP6/////+sEODUggpuPYolwxd///+Tx3qAFQAG2AGwD/kZ0ZtQz/mscRTn+aQoEgEf6nf//+tP//8GgBAA9tUd6MB/7HadicCnBzW//NIRBEHbUVhLzRHbw5p5sZeAcpO2N0dOvnCBjoy/M70b/+gYV//2CKGaZ3r///caDQCz//////qIokt+f/9YAqBo2ue9HANdaZQFwS+ZX/95iCyn/6BiGa3dos8jCQBM//+MEB6D////1Eg8Bw48N//+Cv7f+XATggs2GHzROkoXc8MRUeOaf//7rr+Y6DL//NIZBcIEUU2agHnJg7qimQAA9RMqi/VkFLohQEP/6K5NjiRVkdf//9h0FBR///+v/0PHAKsKhrtS5n4XAKf7GGWKzFcFAS2Pipn/+6Gnf6zVFhVt92OICRHKHX//yx8w9bP///3EEpO6af//yJTf+glBuc4l1f9KQAqQq6yIB/9EAtHlwUAIjp6///PVovL//NIZBUH6Yk6Kyhnho4qimQKA9RI/5O4LU4if8YEzuIAKf/86ejs1HX///NPB2Yk9H/////xwozf/Z///3JDQk/sVKrmcYYUwITrt//U2rf6FDiWYzf5MflBS3/92I1ZU3///8hFQUj7ub///R//MGYIR7Pt/7grAJh9w+J34EvErYGURcb5//9JYfHL9Knj//NIZBgIgUU0KgHqJgtKgmQAA85NVkPVvuhhpEaIws3/+s8fIWd2p///qyngvCJvKmmP//+z/+cA+SP8XY//JgL/CRGbXT1aGfDzT//6L/6mC+x/6GKYfYeFjf/rfSe7f///gqEzu9/////+BoYqAAmoG212t4CIEDcEkMAbfP//7FS5Y1PpjYw3/2LkqCYX//NIZCEHzYtdLwFnNQqqhmQAAs5NX//muNz2su///+oUHXfr///v/8gSJ/849e///TI/QjASHS5Iewm26//+xrKn9HLNf/o2UGf//df////UKiQ5zJ/////0EIvn/9zwtADuQ9yIAgAn46mv//s26frc8ZHz/+sthQZ//0VGNZ0an//+jDgsJdv//+3/yp5c//NIRDMGzUUuAKicAA2ihnT/TSgAI//9AaFNKBiAf/YegFBTSYFEQl///qif92MLCFv9dqCr//0Rxwszrff///AIWf3/////xgHd9bv+LaMBQGYNR6LRsJhsLhKAAtVXWsm4F0I4JCP2BzsSRTNPtNUkUfbWdSXo/KHQIhiaJuon/n/uXkVJLUr+j+w+O12R//NIREEJ4VtLf8a0AJAp6n5dkWgASWl/2/+tv///mD//zpWAEiNtiIJhoJhQeOAVM/diZwqhah2C4qwZ7DiKZp9TM7I+jziTrQL31vUx30Uf29e3q/u/6qvr/80v8Ndv9T/xMgIAAKKKLRqB7v+Iv57+s6V/+Iuo8R///0+7///iVqrzMyxoBCYBgEk4KSrf//NIRCwDsADnL+AIAAqgkWgBxhgA57VAICMKAiYBDDwKuBkNf////////BVQdEq3FkxBTUUzLjEwMKqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqq//NIZF8AAAGkAAAAAAAAA0gAAAAAqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqq"),e.play()}function Hy(t){let e=document.getElementById("loading-spinner");e.style.display="s"==t?"block":"none"}function Wy(t){Uy(t).addEventListener("mousedown",(function(){return!1})),Uy(t).addEventListener("selectstart",(function(){return!1})),Uy(t).addEventListener("cut",(function(){return!1})),Uy(t).addEventListener("copy",(function(){return!1})),Uy(t).addEventListener("paste",(function(){return!1})),Uy(t).addEventListener("drag",(function(){return!1})),Uy(t).addEventListener("drop",(function(){return!1})),Uy(t).classList.add("disable-text-selection")}function Ky(t,e){function i(t){var e=1e4*Math.sin(t++);return e-Math.floor(e)}for(var n,r,s=t.length;s;)r=Math.floor(i(e)*s--),n=t[s],t[s]=t[r],t[r]=n,++e;return t}function Gy(t){var e=document.createElement("table"),i=document.createElement("tr"),n=document.createElement("th"),r=document.createElement("td");e.classList.add("table1");for(var s=e.cloneNode(!1),o=function(t,e){for(var r=[],s=i.cloneNode(!1),o=0,a=t.length;o<a;o++)for(var h in t[o])if(t[o].hasOwnProperty(h)&&-1===r.indexOf(h)){r.push(h);var l=n.cloneNode(!1);l.appendChild(document.createTextNode(h)),s.appendChild(l)}return e.appendChild(s),r}(t,s),a=0,h=t.length;a<h;++a){for(var l=i.cloneNode(!1),u=0,c=o.length;u<c;++u){var d=r.cloneNode(!1);t[a][o[u]];d.appendChild(document.createTextNode(t[a][o[u]]||"")),l.appendChild(d)}s.appendChild(l)}return s}function Qy(t){return t.forEach(((e,i)=>{i>0&&e.marks===t[i-1].marks?e.rank=t[i-1].rank:e.rank=i+1})),t}function Yy(t,e,i){function n(t){let e="";const i=t.split(" ");for(let t=0;t<i.length;t++){const n=i[t];n.length>0&&(e+=n[0].toUpperCase())}return e}const s=r("iN8QG").createHash("sha256").update(t).digest("hex"),o=parseInt(s.slice(0,6),16);let a=n(t);return"v1"==i?"https://ui-avatars.com/api/?background=random&size=100&bold=true&name="+n(t):"v2"==i?"Male"==e?"https://api.dicebear.com/5.x/avataaars/svg?top%5B%5D=dreads01,dreads02,eyepatch,frizzle,shortCurly,shortFlat,shortRound,shortWaved,sides,theCaesar,theCaesarAndSidePart,turban&seed="+a+o.toString():"https://api.dicebear.com/5.x/avataaars/svg?facialHairProbability=0&top%5B%5D=bigHair,bob,bun,curly,curvy,dreads,frida,fro,hijab,longButNotTooLong,miaWallace,shaggy,shaggyMullet,shavedSides,straightAndStrand,straight01,straight02&seed="+a+o.toString():"v3"==i?"https://api.dicebear.com/6.x/bottts/svg?seed="+a+o.toString():void 0}function Zy(){console;console={},console={log:function(t){},error:function(t){},warn:function(t){}};console}let $y='\n<span class="in_t">Batches</span>\n        <hr style = "color:var(--clr18)" width="100%">\n        <div id="batchlinks">\n        </div>',Xy='\n<span class="in_t" class="" id="fu_topic_title">Add/Edit Batch</span>\n<center>\n<div id="aq_basic" style="flex-direction: column;">    \n    <input type="text" id="aq_batname" class="_in_aq" placeholder="Batch Name">\n    <input type="number" id="aq_class" class="_in_aq" placeholder="Class">\n    <input type="datetime-local" id="aq_tst_delon" class="_in_aq">\n    <input type="text" id="aq_timetable" class="_in_aq" placeholder="Timetable ID">\n    <select name="type" id="aq_level" class="_in_aq col-red">\n                <option value="jee">JEE</option>\n                <option value="neet">NEET</option>\n                <option value="foundation">Foundation</option>\n    </select>\n</div>\n</center>\n    <button class="tst_btn rpl" id="aq_batch_save">Save/Update Batch</button>\n';
/*!
 * Chart.js v4.3.0
 * https://www.chartjs.org
 * (c) 2023 Chart.js Contributors
 * Released under the MIT License
 */
/*!
 * Chart.js v4.3.0
 * https://www.chartjs.org
 * (c) 2023 Chart.js Contributors
 * Released under the MIT License
 */
/*!
 * @kurkle/color v0.3.2
 * https://github.com/kurkle/color#readme
 * (c) 2023 Jukka Kurkela
 * Released under the MIT License
 */
function Jy(t){return t+.5|0}const tb=(t,e,i)=>Math.max(Math.min(t,i),e);function eb(t){return tb(Jy(2.55*t),0,255)}function ib(t){return tb(Jy(255*t),0,255)}function nb(t){return tb(Jy(t/2.55)/100,0,1)}function rb(t){return tb(Jy(100*t),0,100)}const sb={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},ob=[..."0123456789ABCDEF"],ab=t=>ob[15&t],hb=t=>ob[(240&t)>>4]+ob[15&t],lb=t=>(240&t)>>4==(15&t),ub=t=>lb(t.r)&&lb(t.g)&&lb(t.b)&&lb(t.a);const cb=(t,e)=>t<255?e(t):"";const db=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function fb(t,e,i){const n=e*Math.min(i,1-i),r=(e,r=(e+t/30)%12)=>i-n*Math.max(Math.min(r-3,9-r,1),-1);return[r(0),r(8),r(4)]}function pb(t,e,i){const n=(n,r=(n+t/60)%6)=>i-i*e*Math.max(Math.min(r,4-r,1),0);return[n(5),n(3),n(1)]}function mb(t,e,i){const n=fb(t,1,.5);let r;for(e+i>1&&(r=1/(e+i),e*=r,i*=r),r=0;r<3;r++)n[r]*=1-e-i,n[r]+=e;return n}function gb(t){const e=t.r/255,i=t.g/255,n=t.b/255,r=Math.max(e,i,n),s=Math.min(e,i,n),o=(r+s)/2;let a,h,l;return r!==s&&(l=r-s,h=o>.5?l/(2-r-s):l/(r+s),a=function(t,e,i,n,r){return t===r?(e-i)/n+(e<i?6:0):e===r?(i-t)/n+2:(t-e)/n+4}(e,i,n,l,r),a=60*a+.5),[0|a,h||0,o]}function vb(t,e,i,n){return(Array.isArray(e)?t(e[0],e[1],e[2]):t(e,i,n)).map(ib)}function yb(t,e,i){return vb(fb,t,e,i)}function bb(t){return(t%360+360)%360}function wb(t){const e=db.exec(t);let i,n=255;if(!e)return;e[5]!==i&&(n=e[6]?eb(+e[5]):ib(+e[5]));const r=bb(+e[2]),s=+e[3]/100,o=+e[4]/100;return i="hwb"===e[1]?function(t,e,i){return vb(mb,t,e,i)}(r,s,o):"hsv"===e[1]?function(t,e,i){return vb(pb,t,e,i)}(r,s,o):yb(r,s,o),{r:i[0],g:i[1],b:i[2],a:n}}const _b={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},Mb={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};let xb;function kb(t){xb||(xb=function(){const t={},e=Object.keys(Mb),i=Object.keys(_b);let n,r,s,o,a;for(n=0;n<e.length;n++){for(o=a=e[n],r=0;r<i.length;r++)s=i[r],a=a.replace(s,_b[s]);s=parseInt(Mb[o],16),t[a]=[s>>16&255,s>>8&255,255&s]}return t}(),xb.transparent=[0,0,0,0]);const e=xb[t.toLowerCase()];return e&&{r:e[0],g:e[1],b:e[2],a:4===e.length?e[3]:255}}const Ab=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;const Eb=t=>t<=.0031308?12.92*t:1.055*Math.pow(t,1/2.4)-.055,Sb=t=>t<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4);function Tb(t,e,i){if(t){let n=gb(t);n[e]=Math.max(0,Math.min(n[e]+n[e]*i,0===e?360:1)),n=yb(n),t.r=n[0],t.g=n[1],t.b=n[2]}}function Ib(t,e){return t?Object.assign(e||{},t):t}function qb(t){var e={r:0,g:0,b:0,a:255};return Array.isArray(t)?t.length>=3&&(e={r:t[0],g:t[1],b:t[2],a:255},t.length>3&&(e.a=ib(t[3]))):(e=Ib(t,{r:0,g:0,b:0,a:1})).a=ib(e.a),e}function Cb(t){return"r"===t.charAt(0)?function(t){const e=Ab.exec(t);let i,n,r,s=255;if(e){if(e[7]!==i){const t=+e[7];s=e[8]?eb(t):tb(255*t,0,255)}return i=+e[1],n=+e[3],r=+e[5],i=255&(e[2]?eb(i):tb(i,0,255)),n=255&(e[4]?eb(n):tb(n,0,255)),r=255&(e[6]?eb(r):tb(r,0,255)),{r:i,g:n,b:r,a:s}}}(t):wb(t)}class Rb{constructor(t){if(t instanceof Rb)return t;const e=typeof t;let i;var n,r,s;"object"===e?i=qb(t):"string"===e&&(s=(n=t).length,"#"===n[0]&&(4===s||5===s?r={r:255&17*sb[n[1]],g:255&17*sb[n[2]],b:255&17*sb[n[3]],a:5===s?17*sb[n[4]]:255}:7!==s&&9!==s||(r={r:sb[n[1]]<<4|sb[n[2]],g:sb[n[3]]<<4|sb[n[4]],b:sb[n[5]]<<4|sb[n[6]],a:9===s?sb[n[7]]<<4|sb[n[8]]:255})),i=r||kb(t)||Cb(t)),this._rgb=i,this._valid=!!i}get valid(){return this._valid}get rgb(){var t=Ib(this._rgb);return t&&(t.a=nb(t.a)),t}set rgb(t){this._rgb=qb(t)}rgbString(){return this._valid?(t=this._rgb)&&(t.a<255?`rgba(${t.r}, ${t.g}, ${t.b}, ${nb(t.a)})`:`rgb(${t.r}, ${t.g}, ${t.b})`):void 0;var t}hexString(){return this._valid?(t=this._rgb,e=ub(t)?ab:hb,t?"#"+e(t.r)+e(t.g)+e(t.b)+cb(t.a,e):void 0):void 0;var t,e}hslString(){return this._valid?function(t){if(!t)return;const e=gb(t),i=e[0],n=rb(e[1]),r=rb(e[2]);return t.a<255?`hsla(${i}, ${n}%, ${r}%, ${nb(t.a)})`:`hsl(${i}, ${n}%, ${r}%)`}(this._rgb):void 0}mix(t,e){if(t){const i=this.rgb,n=t.rgb;let r;const s=e===r?.5:e,o=2*s-1,a=i.a-n.a,h=((o*a==-1?o:(o+a)/(1+o*a))+1)/2;r=1-h,i.r=255&h*i.r+r*n.r+.5,i.g=255&h*i.g+r*n.g+.5,i.b=255&h*i.b+r*n.b+.5,i.a=s*i.a+(1-s)*n.a,this.rgb=i}return this}interpolate(t,e){return t&&(this._rgb=function(t,e,i){const n=Sb(nb(t.r)),r=Sb(nb(t.g)),s=Sb(nb(t.b));return{r:ib(Eb(n+i*(Sb(nb(e.r))-n))),g:ib(Eb(r+i*(Sb(nb(e.g))-r))),b:ib(Eb(s+i*(Sb(nb(e.b))-s))),a:t.a+i*(e.a-t.a)}}(this._rgb,t._rgb,e)),this}clone(){return new Rb(this.rgb)}alpha(t){return this._rgb.a=ib(t),this}clearer(t){return this._rgb.a*=1-t,this}greyscale(){const t=this._rgb,e=Jy(.3*t.r+.59*t.g+.11*t.b);return t.r=t.g=t.b=e,this}opaquer(t){return this._rgb.a*=1+t,this}negate(){const t=this._rgb;return t.r=255-t.r,t.g=255-t.g,t.b=255-t.b,this}lighten(t){return Tb(this._rgb,2,t),this}darken(t){return Tb(this._rgb,2,-t),this}saturate(t){return Tb(this._rgb,1,t),this}desaturate(t){return Tb(this._rgb,1,-t),this}rotate(t){return function(t,e){var i=gb(t);i[0]=bb(i[0]+e),i=yb(i),t.r=i[0],t.g=i[1],t.b=i[2]}(this._rgb,t),this}}function Db(){}const Lb=(()=>{let t=0;return()=>t++})();function Nb(t){return null==t}function Ob(t){if(Array.isArray&&Array.isArray(t))return!0;const e=Object.prototype.toString.call(t);return"[object"===e.slice(0,7)&&"Array]"===e.slice(-6)}function Pb(t){return null!==t&&"[object Object]"===Object.prototype.toString.call(t)}function Bb(t){return("number"==typeof t||t instanceof Number)&&isFinite(+t)}function Ub(t,e){return Bb(t)?t:e}function Fb(t,e){return void 0===t?e:t}const jb=(t,e)=>"string"==typeof t&&t.endsWith("%")?parseFloat(t)/100*e:+t;function zb(t,e,i){if(t&&"function"==typeof t.call)return t.apply(i,e)}function Vb(t,e,i,n){let r,s,o;if(Ob(t))if(s=t.length,n)for(r=s-1;r>=0;r--)e.call(i,t[r],r);else for(r=0;r<s;r++)e.call(i,t[r],r);else if(Pb(t))for(o=Object.keys(t),s=o.length,r=0;r<s;r++)e.call(i,t[o[r]],o[r])}function Hb(t,e){let i,n,r,s;if(!t||!e||t.length!==e.length)return!1;for(i=0,n=t.length;i<n;++i)if(r=t[i],s=e[i],r.datasetIndex!==s.datasetIndex||r.index!==s.index)return!1;return!0}function Wb(t){if(Ob(t))return t.map(Wb);if(Pb(t)){const e=Object.create(null),i=Object.keys(t),n=i.length;let r=0;for(;r<n;++r)e[i[r]]=Wb(t[i[r]]);return e}return t}function Kb(t){return-1===["__proto__","prototype","constructor"].indexOf(t)}function Gb(t,e,i,n){if(!Kb(t))return;const r=e[t],s=i[t];Pb(r)&&Pb(s)?Qb(r,s,n):e[t]=Wb(s)}function Qb(t,e,i){const n=Ob(e)?e:[e],r=n.length;if(!Pb(t))return t;const s=(i=i||{}).merger||Gb;let o;for(let e=0;e<r;++e){if(o=n[e],!Pb(o))continue;const r=Object.keys(o);for(let e=0,n=r.length;e<n;++e)s(r[e],t,o,i)}return t}function Yb(t,e){return Qb(t,e,{merger:Zb})}function Zb(t,e,i){if(!Kb(t))return;const n=e[t],r=i[t];Pb(n)&&Pb(r)?Yb(n,r):Object.prototype.hasOwnProperty.call(e,t)||(e[t]=Wb(r))}const $b={"":t=>t,x:t=>t.x,y:t=>t.y};function Xb(t,e){const i=$b[e]||($b[e]=function(t){const e=function(t){const e=t.split("."),i=[];let n="";for(const t of e)n+=t,n.endsWith("\\")?n=n.slice(0,-1)+".":(i.push(n),n="");return i}(t);return t=>{for(const i of e){if(""===i)break;t=t&&t[i]}return t}}(e));return i(t)}function Jb(t){return t.charAt(0).toUpperCase()+t.slice(1)}const tw=t=>void 0!==t,ew=t=>"function"==typeof t,iw=(t,e)=>{if(t.size!==e.size)return!1;for(const i of t)if(!e.has(i))return!1;return!0};function nw(t){return"mouseup"===t.type||"click"===t.type||"contextmenu"===t.type}const rw=Math.PI,sw=2*rw,ow=sw+rw,aw=Number.POSITIVE_INFINITY,hw=rw/180,lw=rw/2,uw=rw/4,cw=2*rw/3,dw=Math.log10,fw=Math.sign;function pw(t,e,i){return Math.abs(t-e)<i}function mw(t){const e=Math.round(t);t=pw(t,e,t/1e3)?e:t;const i=Math.pow(10,Math.floor(dw(t))),n=t/i;return(n<=1?1:n<=2?2:n<=5?5:10)*i}function gw(t){const e=[],i=Math.sqrt(t);let n;for(n=1;n<i;n++)t%n==0&&(e.push(n),e.push(t/n));return i===(0|i)&&e.push(i),e.sort(((t,e)=>t-e)).pop(),e}function vw(t){return!isNaN(parseFloat(t))&&isFinite(t)}function yw(t,e){const i=Math.round(t);return i-e<=t&&i+e>=t}function bw(t,e,i){let n,r,s;for(n=0,r=t.length;n<r;n++)s=t[n][i],isNaN(s)||(e.min=Math.min(e.min,s),e.max=Math.max(e.max,s))}function ww(t){return t*(rw/180)}function _w(t){return t*(180/rw)}function Mw(t){if(!Bb(t))return;let e=1,i=0;for(;Math.round(t*e)/e!==t;)e*=10,i++;return i}function xw(t,e){const i=e.x-t.x,n=e.y-t.y,r=Math.sqrt(i*i+n*n);let s=Math.atan2(n,i);return s<-.5*rw&&(s+=sw),{angle:s,distance:r}}function kw(t,e){return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))}function Aw(t,e){return(t-e+ow)%sw-rw}function Ew(t){return(t%sw+sw)%sw}function Sw(t,e,i,n){const r=Ew(t),s=Ew(e),o=Ew(i),a=Ew(s-r),h=Ew(o-r),l=Ew(r-s),u=Ew(r-o);return r===s||r===o||n&&s===o||a>h&&l<u}function Tw(t,e,i){return Math.max(e,Math.min(i,t))}function Iw(t,e,i,n=1e-6){return t>=Math.min(e,i)-n&&t<=Math.max(e,i)+n}function qw(t,e,i){i=i||(i=>t[i]<e);let n,r=t.length-1,s=0;for(;r-s>1;)n=s+r>>1,i(n)?s=n:r=n;return{lo:s,hi:r}}const Cw=(t,e,i,n)=>qw(t,i,n?n=>{const r=t[n][e];return r<i||r===i&&t[n+1][e]===i}:n=>t[n][e]<i),Rw=(t,e,i)=>qw(t,i,(n=>t[n][e]>=i));function Dw(t,e,i){let n=0,r=t.length;for(;n<r&&t[n]<e;)n++;for(;r>n&&t[r-1]>i;)r--;return n>0||r<t.length?t.slice(n,r):t}const Lw=["push","pop","shift","splice","unshift"];function Nw(t,e){const i=t._chartjs;if(!i)return;const n=i.listeners,r=n.indexOf(e);-1!==r&&n.splice(r,1),n.length>0||(Lw.forEach((e=>{delete t[e]})),delete t._chartjs)}function Ow(t){const e=new Set(t);return e.size===t.length?t:Array.from(e)}const Pw="undefined"==typeof window?function(t){return t()}:window.requestAnimationFrame;function Bw(t,e){let i=[],n=!1;return function(...r){i=r,n||(n=!0,Pw.call(window,(()=>{n=!1,t.apply(e,i)})))}}function Uw(t,e){let i;return function(...n){return e?(clearTimeout(i),i=setTimeout(t,e,n)):t.apply(this,n),e}}const Fw=t=>"start"===t?"left":"end"===t?"right":"center",jw=(t,e,i)=>"start"===t?e:"end"===t?i:(e+i)/2,zw=(t,e,i,n)=>t===(n?"left":"right")?i:"center"===t?(e+i)/2:e;function Vw(t,e,i){const n=e.length;let r=0,s=n;if(t._sorted){const{iScale:o,_parsed:a}=t,h=o.axis,{min:l,max:u,minDefined:c,maxDefined:d}=o.getUserBounds();c&&(r=Tw(Math.min(Cw(a,o.axis,l).lo,i?n:Cw(e,h,o.getPixelForValue(l)).lo),0,n-1)),s=d?Tw(Math.max(Cw(a,o.axis,u,!0).hi+1,i?0:Cw(e,h,o.getPixelForValue(u),!0).hi+1),r,n)-r:n-r}return{start:r,count:s}}function Hw(t){const{xScale:e,yScale:i,_scaleRanges:n}=t,r={xmin:e.min,xmax:e.max,ymin:i.min,ymax:i.max};if(!n)return t._scaleRanges=r,!0;const s=n.xmin!==e.min||n.xmax!==e.max||n.ymin!==i.min||n.ymax!==i.max;return Object.assign(n,r),s}const Ww=t=>0===t||1===t,Kw=(t,e,i)=>-Math.pow(2,10*(t-=1))*Math.sin((t-e)*sw/i),Gw=(t,e,i)=>Math.pow(2,-10*t)*Math.sin((t-e)*sw/i)+1,Qw={linear:t=>t,easeInQuad:t=>t*t,easeOutQuad:t=>-t*(t-2),easeInOutQuad:t=>(t/=.5)<1?.5*t*t:-.5*(--t*(t-2)-1),easeInCubic:t=>t*t*t,easeOutCubic:t=>(t-=1)*t*t+1,easeInOutCubic:t=>(t/=.5)<1?.5*t*t*t:.5*((t-=2)*t*t+2),easeInQuart:t=>t*t*t*t,easeOutQuart:t=>-((t-=1)*t*t*t-1),easeInOutQuart:t=>(t/=.5)<1?.5*t*t*t*t:-.5*((t-=2)*t*t*t-2),easeInQuint:t=>t*t*t*t*t,easeOutQuint:t=>(t-=1)*t*t*t*t+1,easeInOutQuint:t=>(t/=.5)<1?.5*t*t*t*t*t:.5*((t-=2)*t*t*t*t+2),easeInSine:t=>1-Math.cos(t*lw),easeOutSine:t=>Math.sin(t*lw),easeInOutSine:t=>-.5*(Math.cos(rw*t)-1),easeInExpo:t=>0===t?0:Math.pow(2,10*(t-1)),easeOutExpo:t=>1===t?1:1-Math.pow(2,-10*t),easeInOutExpo:t=>Ww(t)?t:t<.5?.5*Math.pow(2,10*(2*t-1)):.5*(2-Math.pow(2,-10*(2*t-1))),easeInCirc:t=>t>=1?t:-(Math.sqrt(1-t*t)-1),easeOutCirc:t=>Math.sqrt(1-(t-=1)*t),easeInOutCirc:t=>(t/=.5)<1?-.5*(Math.sqrt(1-t*t)-1):.5*(Math.sqrt(1-(t-=2)*t)+1),easeInElastic:t=>Ww(t)?t:Kw(t,.075,.3),easeOutElastic:t=>Ww(t)?t:Gw(t,.075,.3),easeInOutElastic(t){const e=.1125;return Ww(t)?t:t<.5?.5*Kw(2*t,e,.45):.5+.5*Gw(2*t-1,e,.45)},easeInBack(t){const e=1.70158;return t*t*((e+1)*t-e)},easeOutBack(t){const e=1.70158;return(t-=1)*t*((e+1)*t+e)+1},easeInOutBack(t){let e=1.70158;return(t/=.5)<1?t*t*((1+(e*=1.525))*t-e)*.5:.5*((t-=2)*t*((1+(e*=1.525))*t+e)+2)},easeInBounce:t=>1-Qw.easeOutBounce(1-t),easeOutBounce(t){const e=7.5625,i=2.75;return t<1/i?e*t*t:t<2/i?e*(t-=1.5/i)*t+.75:t<2.5/i?e*(t-=2.25/i)*t+.9375:e*(t-=2.625/i)*t+.984375},easeInOutBounce:t=>t<.5?.5*Qw.easeInBounce(2*t):.5*Qw.easeOutBounce(2*t-1)+.5};function Yw(t){if(t&&"object"==typeof t){const e=t.toString();return"[object CanvasPattern]"===e||"[object CanvasGradient]"===e}return!1}function Zw(t){return Yw(t)?t:new Rb(t)}function $w(t){return Yw(t)?t:new Rb(t).saturate(.5).darken(.1).hexString()}const Xw=["x","y","borderWidth","radius","tension"],Jw=["color","borderColor","backgroundColor"];const t_=new Map;function e_(t,e,i){return function(t,e){e=e||{};const i=t+JSON.stringify(e);let n=t_.get(i);return n||(n=new Intl.NumberFormat(t,e),t_.set(i,n)),n}(e,i).format(t)}const i_={values:t=>Ob(t)?t:""+t,numeric(t,e,i){if(0===t)return"0";const n=this.chart.options.locale;let r,s=t;if(i.length>1){const e=Math.max(Math.abs(i[0].value),Math.abs(i[i.length-1].value));(e<1e-4||e>1e15)&&(r="scientific"),s=function(t,e){let i=e.length>3?e[2].value-e[1].value:e[1].value-e[0].value;Math.abs(i)>=1&&t!==Math.floor(t)&&(i=t-Math.floor(t));return i}(t,i)}const o=dw(Math.abs(s)),a=isNaN(o)?1:Math.max(Math.min(-1*Math.floor(o),20),0),h={notation:r,minimumFractionDigits:a,maximumFractionDigits:a};return Object.assign(h,this.options.ticks.format),e_(t,n,h)},logarithmic(t,e,i){if(0===t)return"0";const n=i[e].significand||t/Math.pow(10,Math.floor(dw(t)));return[1,2,3,5,10,15].includes(n)||e>.8*i.length?i_.numeric.call(this,t,e,i):""}};var n_={formatters:i_};const r_=Object.create(null),s_=Object.create(null);function o_(t,e){if(!e)return t;const i=e.split(".");for(let e=0,n=i.length;e<n;++e){const n=i[e];t=t[n]||(t[n]=Object.create(null))}return t}function a_(t,e,i){return"string"==typeof e?Qb(o_(t,e),i):Qb(o_(t,""),e)}class h_{constructor(t,e){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=t=>t.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(t,e)=>$w(e.backgroundColor),this.hoverBorderColor=(t,e)=>$w(e.borderColor),this.hoverColor=(t,e)=>$w(e.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(t),this.apply(e)}set(t,e){return a_(this,t,e)}get(t){return o_(this,t)}describe(t,e){return a_(s_,t,e)}override(t,e){return a_(r_,t,e)}route(t,e,i,n){const r=o_(this,t),s=o_(this,i),o="_"+e;Object.defineProperties(r,{[o]:{value:r[e],writable:!0},[e]:{enumerable:!0,get(){const t=this[o],e=s[n];return Pb(t)?Object.assign({},e,t):Fb(t,e)},set(t){this[o]=t}}})}apply(t){t.forEach((t=>t(this)))}}var l_=new h_({_scriptable:t=>!t.startsWith("on"),_indexable:t=>"events"!==t,hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[function(t){t.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),t.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:t=>"onProgress"!==t&&"onComplete"!==t&&"fn"!==t}),t.set("animations",{colors:{type:"color",properties:Jw},numbers:{type:"number",properties:Xw}}),t.describe("animations",{_fallback:"animation"}),t.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:t=>0|t}}}})},function(t){t.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})},function(t){t.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(t,e)=>e.lineWidth,tickColor:(t,e)=>e.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:n_.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),t.route("scale.ticks","color","","color"),t.route("scale.grid","color","","borderColor"),t.route("scale.border","color","","borderColor"),t.route("scale.title","color","","color"),t.describe("scale",{_fallback:!1,_scriptable:t=>!t.startsWith("before")&&!t.startsWith("after")&&"callback"!==t&&"parser"!==t,_indexable:t=>"borderDash"!==t&&"tickBorderDash"!==t&&"dash"!==t}),t.describe("scales",{_fallback:"scale"}),t.describe("scale.ticks",{_scriptable:t=>"backdropPadding"!==t&&"callback"!==t,_indexable:t=>"backdropPadding"!==t})}]);function u_(t,e,i,n,r){let s=e[r];return s||(s=e[r]=t.measureText(r).width,i.push(r)),s>n&&(n=s),n}function c_(t,e,i,n){let r=(n=n||{}).data=n.data||{},s=n.garbageCollect=n.garbageCollect||[];n.font!==e&&(r=n.data={},s=n.garbageCollect=[],n.font=e),t.save(),t.font=e;let o=0;const a=i.length;let h,l,u,c,d;for(h=0;h<a;h++)if(c=i[h],null==c||Ob(c)){if(Ob(c))for(l=0,u=c.length;l<u;l++)d=c[l],null==d||Ob(d)||(o=u_(t,r,s,o,d))}else o=u_(t,r,s,o,c);t.restore();const f=s.length/2;if(f>i.length){for(h=0;h<f;h++)delete r[s[h]];s.splice(0,f)}return o}function d_(t,e,i){const n=t.currentDevicePixelRatio,r=0!==i?Math.max(i/2,.5):0;return Math.round((e-r)*n)/n+r}function f_(t,e){(e=e||t.getContext("2d")).save(),e.resetTransform(),e.clearRect(0,0,t.width,t.height),e.restore()}function p_(t,e,i,n){m_(t,e,i,n,null)}function m_(t,e,i,n,r){let s,o,a,h,l,u,c,d;const f=e.pointStyle,p=e.rotation,m=e.radius;let g=(p||0)*hw;if(f&&"object"==typeof f&&(s=f.toString(),"[object HTMLImageElement]"===s||"[object HTMLCanvasElement]"===s))return t.save(),t.translate(i,n),t.rotate(g),t.drawImage(f,-f.width/2,-f.height/2,f.width,f.height),void t.restore();if(!(isNaN(m)||m<=0)){switch(t.beginPath(),f){default:r?t.ellipse(i,n,r/2,m,0,0,sw):t.arc(i,n,m,0,sw),t.closePath();break;case"triangle":u=r?r/2:m,t.moveTo(i+Math.sin(g)*u,n-Math.cos(g)*m),g+=cw,t.lineTo(i+Math.sin(g)*u,n-Math.cos(g)*m),g+=cw,t.lineTo(i+Math.sin(g)*u,n-Math.cos(g)*m),t.closePath();break;case"rectRounded":l=.516*m,h=m-l,o=Math.cos(g+uw)*h,c=Math.cos(g+uw)*(r?r/2-l:h),a=Math.sin(g+uw)*h,d=Math.sin(g+uw)*(r?r/2-l:h),t.arc(i-c,n-a,l,g-rw,g-lw),t.arc(i+d,n-o,l,g-lw,g),t.arc(i+c,n+a,l,g,g+lw),t.arc(i-d,n+o,l,g+lw,g+rw),t.closePath();break;case"rect":if(!p){h=Math.SQRT1_2*m,u=r?r/2:h,t.rect(i-u,n-h,2*u,2*h);break}g+=uw;case"rectRot":c=Math.cos(g)*(r?r/2:m),o=Math.cos(g)*m,a=Math.sin(g)*m,d=Math.sin(g)*(r?r/2:m),t.moveTo(i-c,n-a),t.lineTo(i+d,n-o),t.lineTo(i+c,n+a),t.lineTo(i-d,n+o),t.closePath();break;case"crossRot":g+=uw;case"cross":c=Math.cos(g)*(r?r/2:m),o=Math.cos(g)*m,a=Math.sin(g)*m,d=Math.sin(g)*(r?r/2:m),t.moveTo(i-c,n-a),t.lineTo(i+c,n+a),t.moveTo(i+d,n-o),t.lineTo(i-d,n+o);break;case"star":c=Math.cos(g)*(r?r/2:m),o=Math.cos(g)*m,a=Math.sin(g)*m,d=Math.sin(g)*(r?r/2:m),t.moveTo(i-c,n-a),t.lineTo(i+c,n+a),t.moveTo(i+d,n-o),t.lineTo(i-d,n+o),g+=uw,c=Math.cos(g)*(r?r/2:m),o=Math.cos(g)*m,a=Math.sin(g)*m,d=Math.sin(g)*(r?r/2:m),t.moveTo(i-c,n-a),t.lineTo(i+c,n+a),t.moveTo(i+d,n-o),t.lineTo(i-d,n+o);break;case"line":o=r?r/2:Math.cos(g)*m,a=Math.sin(g)*m,t.moveTo(i-o,n-a),t.lineTo(i+o,n+a);break;case"dash":t.moveTo(i,n),t.lineTo(i+Math.cos(g)*(r?r/2:m),n+Math.sin(g)*m);break;case!1:t.closePath()}t.fill(),e.borderWidth>0&&t.stroke()}}function g_(t,e,i){return i=i||.5,!e||t&&t.x>e.left-i&&t.x<e.right+i&&t.y>e.top-i&&t.y<e.bottom+i}function v_(t,e){t.save(),t.beginPath(),t.rect(e.left,e.top,e.right-e.left,e.bottom-e.top),t.clip()}function y_(t){t.restore()}function b_(t,e,i,n,r){if(!e)return t.lineTo(i.x,i.y);if("middle"===r){const n=(e.x+i.x)/2;t.lineTo(n,e.y),t.lineTo(n,i.y)}else"after"===r!=!!n?t.lineTo(e.x,i.y):t.lineTo(i.x,e.y);t.lineTo(i.x,i.y)}function w_(t,e,i,n){if(!e)return t.lineTo(i.x,i.y);t.bezierCurveTo(n?e.cp1x:e.cp2x,n?e.cp1y:e.cp2y,n?i.cp2x:i.cp1x,n?i.cp2y:i.cp1y,i.x,i.y)}function __(t,e,i,n,r){if(r.strikethrough||r.underline){const s=t.measureText(n),o=e-s.actualBoundingBoxLeft,a=e+s.actualBoundingBoxRight,h=i-s.actualBoundingBoxAscent,l=i+s.actualBoundingBoxDescent,u=r.strikethrough?(h+l)/2:l;t.strokeStyle=t.fillStyle,t.beginPath(),t.lineWidth=r.decorationWidth||2,t.moveTo(o,u),t.lineTo(a,u),t.stroke()}}function M_(t,e){const i=t.fillStyle;t.fillStyle=e.color,t.fillRect(e.left,e.top,e.width,e.height),t.fillStyle=i}function x_(t,e,i,n,r,s={}){const o=Ob(e)?e:[e],a=s.strokeWidth>0&&""!==s.strokeColor;let h,l;for(t.save(),t.font=r.string,function(t,e){e.translation&&t.translate(e.translation[0],e.translation[1]),Nb(e.rotation)||t.rotate(e.rotation),e.color&&(t.fillStyle=e.color),e.textAlign&&(t.textAlign=e.textAlign),e.textBaseline&&(t.textBaseline=e.textBaseline)}(t,s),h=0;h<o.length;++h)l=o[h],s.backdrop&&M_(t,s.backdrop),a&&(s.strokeColor&&(t.strokeStyle=s.strokeColor),Nb(s.strokeWidth)||(t.lineWidth=s.strokeWidth),t.strokeText(l,i,n,s.maxWidth)),t.fillText(l,i,n,s.maxWidth),__(t,i,n,l,s),n+=Number(r.lineHeight);t.restore()}function k_(t,e){const{x:i,y:n,w:r,h:s,radius:o}=e;t.arc(i+o.topLeft,n+o.topLeft,o.topLeft,-lw,rw,!0),t.lineTo(i,n+s-o.bottomLeft),t.arc(i+o.bottomLeft,n+s-o.bottomLeft,o.bottomLeft,rw,lw,!0),t.lineTo(i+r-o.bottomRight,n+s),t.arc(i+r-o.bottomRight,n+s-o.bottomRight,o.bottomRight,lw,0,!0),t.lineTo(i+r,n+o.topRight),t.arc(i+r-o.topRight,n+o.topRight,o.topRight,0,-lw,!0),t.lineTo(i+o.topLeft,n)}const A_=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,E_=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function S_(t,e){const i=(""+t).match(A_);if(!i||"normal"===i[1])return 1.2*e;switch(t=+i[2],i[3]){case"px":return t;case"%":t/=100}return e*t}const T_=t=>+t||0;function I_(t,e){const i={},n=Pb(e),r=n?Object.keys(e):e,s=Pb(t)?n?i=>Fb(t[i],t[e[i]]):e=>t[e]:()=>t;for(const t of r)i[t]=T_(s(t));return i}function q_(t){return I_(t,{top:"y",right:"x",bottom:"y",left:"x"})}function C_(t){return I_(t,["topLeft","topRight","bottomLeft","bottomRight"])}function R_(t){const e=q_(t);return e.width=e.left+e.right,e.height=e.top+e.bottom,e}function D_(t,e){t=t||{},e=e||l_.font;let i=Fb(t.size,e.size);"string"==typeof i&&(i=parseInt(i,10));let n=Fb(t.style,e.style);n&&!(""+n).match(E_)&&(console.warn('Invalid font style specified: "'+n+'"'),n=void 0);const r={family:Fb(t.family,e.family),lineHeight:S_(Fb(t.lineHeight,e.lineHeight),i),size:i,style:n,weight:Fb(t.weight,e.weight),string:""};return r.string=function(t){return!t||Nb(t.size)||Nb(t.family)?null:(t.style?t.style+" ":"")+(t.weight?t.weight+" ":"")+t.size+"px "+t.family}(r),r}function L_(t,e,i,n){let r,s,o,a=!0;for(r=0,s=t.length;r<s;++r)if(o=t[r],void 0!==o&&(void 0!==e&&"function"==typeof o&&(o=o(e),a=!1),void 0!==i&&Ob(o)&&(o=o[i%o.length],a=!1),void 0!==o))return n&&!a&&(n.cacheable=!1),o}function N_(t,e,i){const{min:n,max:r}=t,s=jb(e,(r-n)/2),o=(t,e)=>i&&0===t?0:t+e;return{min:o(n,-Math.abs(s)),max:o(r,s)}}function O_(t,e){return Object.assign(Object.create(t),e)}function P_(t,e=[""],i,n,r=(()=>t[0])){const s=i||t;void 0===n&&(n=Q_("_fallback",t));const o={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:t,_rootScopes:s,_fallback:n,_getTarget:r,override:i=>P_([i,...t],e,s,n)};return new Proxy(o,{deleteProperty:(e,i)=>(delete e[i],delete e._keys,delete t[0][i],!0),get:(i,n)=>z_(i,n,(()=>function(t,e,i,n){let r;for(const s of e)if(r=Q_(F_(s,t),i),void 0!==r)return j_(t,r)?K_(i,n,t,r):r}(n,e,t,i))),getOwnPropertyDescriptor:(t,e)=>Reflect.getOwnPropertyDescriptor(t._scopes[0],e),getPrototypeOf:()=>Reflect.getPrototypeOf(t[0]),has:(t,e)=>Y_(t).includes(e),ownKeys:t=>Y_(t),set(t,e,i){const n=t._storage||(t._storage=r());return t[e]=n[e]=i,delete t._keys,!0}})}function B_(t,e,i,n){const r={_cacheable:!1,_proxy:t,_context:e,_subProxy:i,_stack:new Set,_descriptors:U_(t,n),setContext:e=>B_(t,e,i,n),override:r=>B_(t.override(r),e,i,n)};return new Proxy(r,{deleteProperty:(e,i)=>(delete e[i],delete t[i],!0),get:(t,e,i)=>z_(t,e,(()=>function(t,e,i){const{_proxy:n,_context:r,_subProxy:s,_descriptors:o}=t;let a=n[e];ew(a)&&o.isScriptable(e)&&(a=function(t,e,i,n){const{_proxy:r,_context:s,_subProxy:o,_stack:a}=i;if(a.has(t))throw new Error("Recursion detected: "+Array.from(a).join("->")+"->"+t);a.add(t);let h=e(s,o||n);a.delete(t),j_(t,h)&&(h=K_(r._scopes,r,t,h));return h}(e,a,t,i));Ob(a)&&a.length&&(a=function(t,e,i,n){const{_proxy:r,_context:s,_subProxy:o,_descriptors:a}=i;if(void 0!==s.index&&n(t))return e[s.index%e.length];if(Pb(e[0])){const i=e,n=r._scopes.filter((t=>t!==i));e=[];for(const h of i){const i=K_(n,r,t,h);e.push(B_(i,s,o&&o[t],a))}}return e}(e,a,t,o.isIndexable));j_(e,a)&&(a=B_(a,r,s&&s[e],o));return a}(t,e,i))),getOwnPropertyDescriptor:(e,i)=>e._descriptors.allKeys?Reflect.has(t,i)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(t,i),getPrototypeOf:()=>Reflect.getPrototypeOf(t),has:(e,i)=>Reflect.has(t,i),ownKeys:()=>Reflect.ownKeys(t),set:(e,i,n)=>(t[i]=n,delete e[i],!0)})}function U_(t,e={scriptable:!0,indexable:!0}){const{_scriptable:i=e.scriptable,_indexable:n=e.indexable,_allKeys:r=e.allKeys}=t;return{allKeys:r,scriptable:i,indexable:n,isScriptable:ew(i)?i:()=>i,isIndexable:ew(n)?n:()=>n}}const F_=(t,e)=>t?t+Jb(e):e,j_=(t,e)=>Pb(e)&&"adapters"!==t&&(null===Object.getPrototypeOf(e)||e.constructor===Object);function z_(t,e,i){if(Object.prototype.hasOwnProperty.call(t,e))return t[e];const n=i();return t[e]=n,n}function V_(t,e,i){return ew(t)?t(e,i):t}const H_=(t,e)=>!0===t?e:"string"==typeof t?Xb(e,t):void 0;function W_(t,e,i,n,r){for(const s of e){const e=H_(i,s);if(e){t.add(e);const s=V_(e._fallback,i,r);if(void 0!==s&&s!==i&&s!==n)return s}else if(!1===e&&void 0!==n&&i!==n)return null}return!1}function K_(t,e,i,n){const r=e._rootScopes,s=V_(e._fallback,i,n),o=[...t,...r],a=new Set;a.add(n);let h=G_(a,o,i,s||i,n);return null!==h&&((void 0===s||s===i||(h=G_(a,o,s,h,n),null!==h))&&P_(Array.from(a),[""],r,s,(()=>function(t,e,i){const n=t._getTarget();e in n||(n[e]={});const r=n[e];return Ob(r)&&Pb(i)?i:r||{}}(e,i,n))))}function G_(t,e,i,n,r){for(;i;)i=W_(t,e,i,n,r);return i}function Q_(t,e){for(const i of e){if(!i)continue;const e=i[t];if(void 0!==e)return e}}function Y_(t){let e=t._keys;return e||(e=t._keys=function(t){const e=new Set;for(const i of t)for(const t of Object.keys(i).filter((t=>!t.startsWith("_"))))e.add(t);return Array.from(e)}(t._scopes)),e}function Z_(t,e,i,n){const{iScale:r}=t,{key:s="r"}=this._parsing,o=new Array(n);let a,h,l,u;for(a=0,h=n;a<h;++a)l=a+i,u=e[l],o[a]={r:r.parse(Xb(u,s),l)};return o}const $_=Number.EPSILON||1e-14,X_=(t,e)=>e<t.length&&!t[e].skip&&t[e],J_=t=>"x"===t?"y":"x";function tM(t,e,i,n){const r=t.skip?e:t,s=e,o=i.skip?e:i,a=kw(s,r),h=kw(o,s);let l=a/(a+h),u=h/(a+h);l=isNaN(l)?0:l,u=isNaN(u)?0:u;const c=n*l,d=n*u;return{previous:{x:s.x-c*(o.x-r.x),y:s.y-c*(o.y-r.y)},next:{x:s.x+d*(o.x-r.x),y:s.y+d*(o.y-r.y)}}}function eM(t,e="x"){const i=J_(e),n=t.length,r=Array(n).fill(0),s=Array(n);let o,a,h,l=X_(t,0);for(o=0;o<n;++o)if(a=h,h=l,l=X_(t,o+1),h){if(l){const t=l[e]-h[e];r[o]=0!==t?(l[i]-h[i])/t:0}s[o]=a?l?fw(r[o-1])!==fw(r[o])?0:(r[o-1]+r[o])/2:r[o-1]:r[o]}!function(t,e,i){const n=t.length;let r,s,o,a,h,l=X_(t,0);for(let u=0;u<n-1;++u)h=l,l=X_(t,u+1),h&&l&&(pw(e[u],0,$_)?i[u]=i[u+1]=0:(r=i[u]/e[u],s=i[u+1]/e[u],a=Math.pow(r,2)+Math.pow(s,2),a<=9||(o=3/Math.sqrt(a),i[u]=r*o*e[u],i[u+1]=s*o*e[u])))}(t,r,s),function(t,e,i="x"){const n=J_(i),r=t.length;let s,o,a,h=X_(t,0);for(let l=0;l<r;++l){if(o=a,a=h,h=X_(t,l+1),!a)continue;const r=a[i],u=a[n];o&&(s=(r-o[i])/3,a[`cp1${i}`]=r-s,a[`cp1${n}`]=u-s*e[l]),h&&(s=(h[i]-r)/3,a[`cp2${i}`]=r+s,a[`cp2${n}`]=u+s*e[l])}}(t,s,e)}function iM(t,e,i){return Math.max(Math.min(t,i),e)}function nM(t,e,i,n,r){let s,o,a,h;if(e.spanGaps&&(t=t.filter((t=>!t.skip))),"monotone"===e.cubicInterpolationMode)eM(t,r);else{let i=n?t[t.length-1]:t[0];for(s=0,o=t.length;s<o;++s)a=t[s],h=tM(i,a,t[Math.min(s+1,o-(n?0:1))%o],e.tension),a.cp1x=h.previous.x,a.cp1y=h.previous.y,a.cp2x=h.next.x,a.cp2y=h.next.y,i=a}e.capBezierPoints&&function(t,e){let i,n,r,s,o,a=g_(t[0],e);for(i=0,n=t.length;i<n;++i)o=s,s=a,a=i<n-1&&g_(t[i+1],e),s&&(r=t[i],o&&(r.cp1x=iM(r.cp1x,e.left,e.right),r.cp1y=iM(r.cp1y,e.top,e.bottom)),a&&(r.cp2x=iM(r.cp2x,e.left,e.right),r.cp2y=iM(r.cp2y,e.top,e.bottom)))}(t,i)}function rM(){return"undefined"!=typeof window&&"undefined"!=typeof document}function sM(t){let e=t.parentNode;return e&&"[object ShadowRoot]"===e.toString()&&(e=e.host),e}function oM(t,e,i){let n;return"string"==typeof t?(n=parseInt(t,10),-1!==t.indexOf("%")&&(n=n/100*e.parentNode[i])):n=t,n}const aM=t=>t.ownerDocument.defaultView.getComputedStyle(t,null);const hM=["top","right","bottom","left"];function lM(t,e,i){const n={};i=i?"-"+i:"";for(let r=0;r<4;r++){const s=hM[r];n[s]=parseFloat(t[e+"-"+s+i])||0}return n.width=n.left+n.right,n.height=n.top+n.bottom,n}const uM=(t,e,i)=>(t>0||e>0)&&(!i||!i.shadowRoot);function cM(t,e){if("native"in t)return t;const{canvas:i,currentDevicePixelRatio:n}=e,r=aM(i),s="border-box"===r.boxSizing,o=lM(r,"padding"),a=lM(r,"border","width"),{x:h,y:l,box:u}=function(t,e){const i=t.touches,n=i&&i.length?i[0]:t,{offsetX:r,offsetY:s}=n;let o,a,h=!1;if(uM(r,s,t.target))o=r,a=s;else{const t=e.getBoundingClientRect();o=n.clientX-t.left,a=n.clientY-t.top,h=!0}return{x:o,y:a,box:h}}(t,i),c=o.left+(u&&a.left),d=o.top+(u&&a.top);let{width:f,height:p}=e;return s&&(f-=o.width+a.width,p-=o.height+a.height),{x:Math.round((h-c)/f*i.width/n),y:Math.round((l-d)/p*i.height/n)}}const dM=t=>Math.round(10*t)/10;function fM(t,e,i,n){const r=aM(t),s=lM(r,"margin"),o=oM(r.maxWidth,t,"clientWidth")||aw,a=oM(r.maxHeight,t,"clientHeight")||aw,h=function(t,e,i){let n,r;if(void 0===e||void 0===i){const s=sM(t);if(s){const t=s.getBoundingClientRect(),o=aM(s),a=lM(o,"border","width"),h=lM(o,"padding");e=t.width-h.width-a.width,i=t.height-h.height-a.height,n=oM(o.maxWidth,s,"clientWidth"),r=oM(o.maxHeight,s,"clientHeight")}else e=t.clientWidth,i=t.clientHeight}return{width:e,height:i,maxWidth:n||aw,maxHeight:r||aw}}(t,e,i);let{width:l,height:u}=h;if("content-box"===r.boxSizing){const t=lM(r,"border","width"),e=lM(r,"padding");l-=e.width+t.width,u-=e.height+t.height}l=Math.max(0,l-s.width),u=Math.max(0,n?l/n:u-s.height),l=dM(Math.min(l,o,h.maxWidth)),u=dM(Math.min(u,a,h.maxHeight)),l&&!u&&(u=dM(l/2));return(void 0!==e||void 0!==i)&&n&&h.height&&u>h.height&&(u=h.height,l=dM(Math.floor(u*n))),{width:l,height:u}}function pM(t,e,i){const n=e||1,r=Math.floor(t.height*n),s=Math.floor(t.width*n);t.height=Math.floor(t.height),t.width=Math.floor(t.width);const o=t.canvas;return o.style&&(i||!o.style.height&&!o.style.width)&&(o.style.height=`${t.height}px`,o.style.width=`${t.width}px`),(t.currentDevicePixelRatio!==n||o.height!==r||o.width!==s)&&(t.currentDevicePixelRatio=n,o.height=r,o.width=s,t.ctx.setTransform(n,0,0,n,0,0),!0)}const mM=function(){let t=!1;try{const e={get passive(){return t=!0,!1}};window.addEventListener("test",null,e),window.removeEventListener("test",null,e)}catch(t){}return t}();function gM(t,e){const i=function(t,e){return aM(t).getPropertyValue(e)}(t,e),n=i&&i.match(/^(\d+)(\.\d+)?px$/);return n?+n[1]:void 0}function vM(t,e,i,n){return{x:t.x+i*(e.x-t.x),y:t.y+i*(e.y-t.y)}}function yM(t,e,i,n){return{x:t.x+i*(e.x-t.x),y:"middle"===n?i<.5?t.y:e.y:"after"===n?i<1?t.y:e.y:i>0?e.y:t.y}}function bM(t,e,i,n){const r={x:t.cp2x,y:t.cp2y},s={x:e.cp1x,y:e.cp1y},o=vM(t,r,i),a=vM(r,s,i),h=vM(s,e,i),l=vM(o,a,i),u=vM(a,h,i);return vM(l,u,i)}const wM=function(t,e){return{x:i=>t+t+e-i,setWidth(t){e=t},textAlign:t=>"center"===t?t:"right"===t?"left":"right",xPlus:(t,e)=>t-e,leftForLtr:(t,e)=>t-e}},_M=function(){return{x:t=>t,setWidth(t){},textAlign:t=>t,xPlus:(t,e)=>t+e,leftForLtr:(t,e)=>t}};function MM(t,e,i){return t?wM(e,i):_M()}function xM(t,e){let i,n;"ltr"!==e&&"rtl"!==e||(i=t.canvas.style,n=[i.getPropertyValue("direction"),i.getPropertyPriority("direction")],i.setProperty("direction",e,"important"),t.prevTextDirection=n)}function kM(t,e){void 0!==e&&(delete t.prevTextDirection,t.canvas.style.setProperty("direction",e[0],e[1]))}function AM(t){return"angle"===t?{between:Sw,compare:Aw,normalize:Ew}:{between:Iw,compare:(t,e)=>t-e,normalize:t=>t}}function EM({start:t,end:e,count:i,loop:n,style:r}){return{start:t%i,end:e%i,loop:n&&(e-t+1)%i==0,style:r}}function SM(t,e,i){if(!i)return[t];const{property:n,start:r,end:s}=i,o=e.length,{compare:a,between:h,normalize:l}=AM(n),{start:u,end:c,loop:d,style:f}=function(t,e,i){const{property:n,start:r,end:s}=i,{between:o,normalize:a}=AM(n),h=e.length;let l,u,{start:c,end:d,loop:f}=t;if(f){for(c+=h,d+=h,l=0,u=h;l<u&&o(a(e[c%h][n]),r,s);++l)c--,d--;c%=h,d%=h}return d<c&&(d+=h),{start:c,end:d,loop:f,style:t.style}}(t,e,i),p=[];let m,g,v,y=!1,b=null;const w=()=>y||h(r,v,m)&&0!==a(r,v),_=()=>!y||0===a(s,m)||h(s,v,m);for(let t=u,i=u;t<=c;++t)g=e[t%o],g.skip||(m=l(g[n]),m!==v&&(y=h(m,r,s),null===b&&w()&&(b=0===a(m,r)?t:i),null!==b&&_()&&(p.push(EM({start:b,end:t,loop:d,count:o,style:f})),b=null),i=t,v=m));return null!==b&&p.push(EM({start:b,end:c,loop:d,count:o,style:f})),p}function TM(t,e){const i=[],n=t.segments;for(let r=0;r<n.length;r++){const s=SM(n[r],t.points,e);s.length&&i.push(...s)}return i}function IM(t,e){const i=t.points,n=t.options.spanGaps,r=i.length;if(!r)return[];const s=!!t._loop,{start:o,end:a}=function(t,e,i,n){let r=0,s=e-1;if(i&&!n)for(;r<e&&!t[r].skip;)r++;for(;r<e&&t[r].skip;)r++;for(r%=e,i&&(s+=r);s>r&&t[s%e].skip;)s--;return s%=e,{start:r,end:s}}(i,r,s,n);if(!0===n)return qM(t,[{start:o,end:a,loop:s}],i,e);return qM(t,function(t,e,i,n){const r=t.length,s=[];let o,a=e,h=t[e];for(o=e+1;o<=i;++o){const i=t[o%r];i.skip||i.stop?h.skip||(n=!1,s.push({start:e%r,end:(o-1)%r,loop:n}),e=a=i.stop?o:null):(a=o,h.skip&&(e=o)),h=i}return null!==a&&s.push({start:e%r,end:a%r,loop:n}),s}(i,o,a<o?a+r:a,!!t._fullLoop&&0===o&&a===r-1),i,e)}function qM(t,e,i,n){return n&&n.setContext&&i?function(t,e,i,n){const r=t._chart.getContext(),s=CM(t.options),{_datasetIndex:o,options:{spanGaps:a}}=t,h=i.length,l=[];let u=s,c=e[0].start,d=c;function f(t,e,n,r){const s=a?-1:1;if(t!==e){for(t+=h;i[t%h].skip;)t-=s;for(;i[e%h].skip;)e+=s;t%h!=e%h&&(l.push({start:t%h,end:e%h,loop:n,style:r}),u=r,c=e%h)}}for(const t of e){c=a?c:t.start;let e,s=i[c%h];for(d=c+1;d<=t.end;d++){const a=i[d%h];e=CM(n.setContext(O_(r,{type:"segment",p0:s,p1:a,p0DataIndex:(d-1)%h,p1DataIndex:d%h,datasetIndex:o}))),RM(e,u)&&f(c,d-1,t.loop,u),s=a,u=e}c<d-1&&f(c,d-1,t.loop,u)}return l}(t,e,i,n):e}function CM(t){return{backgroundColor:t.backgroundColor,borderCapStyle:t.borderCapStyle,borderDash:t.borderDash,borderDashOffset:t.borderDashOffset,borderJoinStyle:t.borderJoinStyle,borderWidth:t.borderWidth,borderColor:t.borderColor}}function RM(t,e){if(!e)return!1;const i=[],n=function(t,e){return Yw(e)?(i.includes(e)||i.push(e),i.indexOf(e)):e};return JSON.stringify(t,n)!==JSON.stringify(e,n)}class DM{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(t,e,i,n){const r=e.listeners[n],s=e.duration;r.forEach((n=>n({chart:t,initial:e.initial,numSteps:s,currentStep:Math.min(i-e.start,s)})))}_refresh(){this._request||(this._running=!0,this._request=Pw.call(window,(()=>{this._update(),this._request=null,this._running&&this._refresh()})))}_update(t=Date.now()){let e=0;this._charts.forEach(((i,n)=>{if(!i.running||!i.items.length)return;const r=i.items;let s,o=r.length-1,a=!1;for(;o>=0;--o)s=r[o],s._active?(s._total>i.duration&&(i.duration=s._total),s.tick(t),a=!0):(r[o]=r[r.length-1],r.pop());a&&(n.draw(),this._notify(n,i,t,"progress")),r.length||(i.running=!1,this._notify(n,i,t,"complete"),i.initial=!1),e+=r.length})),this._lastDate=t,0===e&&(this._running=!1)}_getAnims(t){const e=this._charts;let i=e.get(t);return i||(i={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},e.set(t,i)),i}listen(t,e,i){this._getAnims(t).listeners[e].push(i)}add(t,e){e&&e.length&&this._getAnims(t).items.push(...e)}has(t){return this._getAnims(t).items.length>0}start(t){const e=this._charts.get(t);e&&(e.running=!0,e.start=Date.now(),e.duration=e.items.reduce(((t,e)=>Math.max(t,e._duration)),0),this._refresh())}running(t){if(!this._running)return!1;const e=this._charts.get(t);return!!(e&&e.running&&e.items.length)}stop(t){const e=this._charts.get(t);if(!e||!e.items.length)return;const i=e.items;let n=i.length-1;for(;n>=0;--n)i[n].cancel();e.items=[],this._notify(t,e,Date.now(),"complete")}remove(t){return this._charts.delete(t)}}var LM=new DM;const NM="transparent",OM={boolean:(t,e,i)=>i>.5?e:t,color(t,e,i){const n=Zw(t||NM),r=n.valid&&Zw(e||NM);return r&&r.valid?r.mix(n,i).hexString():e},number:(t,e,i)=>t+(e-t)*i};class PM{constructor(t,e,i,n){const r=e[i];n=L_([t.to,n,r,t.from]);const s=L_([t.from,r,n]);this._active=!0,this._fn=t.fn||OM[t.type||typeof s],this._easing=Qw[t.easing]||Qw.linear,this._start=Math.floor(Date.now()+(t.delay||0)),this._duration=this._total=Math.floor(t.duration),this._loop=!!t.loop,this._target=e,this._prop=i,this._from=s,this._to=n,this._promises=void 0}active(){return this._active}update(t,e,i){if(this._active){this._notify(!1);const n=this._target[this._prop],r=i-this._start,s=this._duration-r;this._start=i,this._duration=Math.floor(Math.max(s,t.duration)),this._total+=r,this._loop=!!t.loop,this._to=L_([t.to,e,n,t.from]),this._from=L_([t.from,n,e])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(t){const e=t-this._start,i=this._duration,n=this._prop,r=this._from,s=this._loop,o=this._to;let a;if(this._active=r!==o&&(s||e<i),!this._active)return this._target[n]=o,void this._notify(!0);e<0?this._target[n]=r:(a=e/i%2,a=s&&a>1?2-a:a,a=this._easing(Math.min(1,Math.max(0,a))),this._target[n]=this._fn(r,o,a))}wait(){const t=this._promises||(this._promises=[]);return new Promise(((e,i)=>{t.push({res:e,rej:i})}))}_notify(t){const e=t?"res":"rej",i=this._promises||[];for(let t=0;t<i.length;t++)i[t][e]()}}class BM{constructor(t,e){this._chart=t,this._properties=new Map,this.configure(e)}configure(t){if(!Pb(t))return;const e=Object.keys(l_.animation),i=this._properties;Object.getOwnPropertyNames(t).forEach((n=>{const r=t[n];if(!Pb(r))return;const s={};for(const t of e)s[t]=r[t];(Ob(r.properties)&&r.properties||[n]).forEach((t=>{t!==n&&i.has(t)||i.set(t,s)}))}))}_animateOptions(t,e){const i=e.options,n=function(t,e){if(!e)return;let i=t.options;if(!i)return void(t.options=e);i.$shared&&(t.options=i=Object.assign({},i,{$shared:!1,$animations:{}}));return i}(t,i);if(!n)return[];const r=this._createAnimations(n,i);return i.$shared&&function(t,e){const i=[],n=Object.keys(e);for(let e=0;e<n.length;e++){const r=t[n[e]];r&&r.active()&&i.push(r.wait())}return Promise.all(i)}(t.options.$animations,i).then((()=>{t.options=i}),(()=>{})),r}_createAnimations(t,e){const i=this._properties,n=[],r=t.$animations||(t.$animations={}),s=Object.keys(e),o=Date.now();let a;for(a=s.length-1;a>=0;--a){const h=s[a];if("$"===h.charAt(0))continue;if("options"===h){n.push(...this._animateOptions(t,e));continue}const l=e[h];let u=r[h];const c=i.get(h);if(u){if(c&&u.active()){u.update(c,l,o);continue}u.cancel()}c&&c.duration?(r[h]=u=new PM(c,t,h,l),n.push(u)):t[h]=l}return n}update(t,e){if(0===this._properties.size)return void Object.assign(t,e);const i=this._createAnimations(t,e);return i.length?(LM.add(this._chart,i),!0):void 0}}function UM(t,e){const i=t&&t.options||{},n=i.reverse,r=void 0===i.min?e:0,s=void 0===i.max?e:0;return{start:n?s:r,end:n?r:s}}function FM(t,e){const i=[],n=t._getSortedDatasetMetas(e);let r,s;for(r=0,s=n.length;r<s;++r)i.push(n[r].index);return i}function jM(t,e,i,n={}){const r=t.keys,s="single"===n.mode;let o,a,h,l;if(null!==e){for(o=0,a=r.length;o<a;++o){if(h=+r[o],h===i){if(n.all)continue;break}l=t.values[h],Bb(l)&&(s||0===e||fw(e)===fw(l))&&(e+=l)}return e}}function zM(t,e){const i=t&&t.options.stacked;return i||void 0===i&&void 0!==e.stack}function VM(t,e,i){const n=t[e]||(t[e]={});return n[i]||(n[i]={})}function HM(t,e,i,n){for(const r of e.getMatchingVisibleMetas(n).reverse()){const e=t[r.index];if(i&&e>0||!i&&e<0)return r.index}return null}function WM(t,e){const{chart:i,_cachedMeta:n}=t,r=i._stacks||(i._stacks={}),{iScale:s,vScale:o,index:a}=n,h=s.axis,l=o.axis,u=function(t,e,i){return`${t.id}.${e.id}.${i.stack||i.type}`}(s,o,n),c=e.length;let d;for(let t=0;t<c;++t){const i=e[t],{[h]:s,[l]:c}=i;d=(i._stacks||(i._stacks={}))[l]=VM(r,u,s),d[a]=c,d._top=HM(d,o,!0,n.type),d._bottom=HM(d,o,!1,n.type);(d._visualValues||(d._visualValues={}))[a]=c}}function KM(t,e){const i=t.scales;return Object.keys(i).filter((t=>i[t].axis===e)).shift()}function GM(t,e){const i=t.controller.index,n=t.vScale&&t.vScale.axis;if(n){e=e||t._parsed;for(const t of e){const e=t._stacks;if(!e||void 0===e[n]||void 0===e[n][i])return;delete e[n][i],void 0!==e[n]._visualValues&&void 0!==e[n]._visualValues[i]&&delete e[n]._visualValues[i]}}}const QM=t=>"reset"===t||"none"===t,YM=(t,e)=>e?t:Object.assign({},t);class ZM{static defaults={};static datasetElementType=null;static dataElementType=null;constructor(t,e){this.chart=t,this._ctx=t.ctx,this.index=e,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){const t=this._cachedMeta;this.configure(),this.linkScales(),t._stacked=zM(t.vScale,t),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(t){this.index!==t&&GM(this._cachedMeta),this.index=t}linkScales(){const t=this.chart,e=this._cachedMeta,i=this.getDataset(),n=(t,e,i,n)=>"x"===t?e:"r"===t?n:i,r=e.xAxisID=Fb(i.xAxisID,KM(t,"x")),s=e.yAxisID=Fb(i.yAxisID,KM(t,"y")),o=e.rAxisID=Fb(i.rAxisID,KM(t,"r")),a=e.indexAxis,h=e.iAxisID=n(a,r,s,o),l=e.vAxisID=n(a,s,r,o);e.xScale=this.getScaleForId(r),e.yScale=this.getScaleForId(s),e.rScale=this.getScaleForId(o),e.iScale=this.getScaleForId(h),e.vScale=this.getScaleForId(l)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(t){return this.chart.scales[t]}_getOtherScale(t){const e=this._cachedMeta;return t===e.iScale?e.vScale:e.iScale}reset(){this._update("reset")}_destroy(){const t=this._cachedMeta;this._data&&Nw(this._data,this),t._stacked&&GM(t)}_dataCheck(){const t=this.getDataset(),e=t.data||(t.data=[]),i=this._data;if(Pb(e))this._data=function(t){const e=Object.keys(t),i=new Array(e.length);let n,r,s;for(n=0,r=e.length;n<r;++n)s=e[n],i[n]={x:s,y:t[s]};return i}(e);else if(i!==e){if(i){Nw(i,this);const t=this._cachedMeta;GM(t),t._parsed=[]}e&&Object.isExtensible(e)&&(r=this,(n=e)._chartjs?n._chartjs.listeners.push(r):(Object.defineProperty(n,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[r]}}),Lw.forEach((t=>{const e="_onData"+Jb(t),i=n[t];Object.defineProperty(n,t,{configurable:!0,enumerable:!1,value(...t){const r=i.apply(this,t);return n._chartjs.listeners.forEach((i=>{"function"==typeof i[e]&&i[e](...t)})),r}})})))),this._syncList=[],this._data=e}var n,r}addElements(){const t=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(t.dataset=new this.datasetElementType)}buildOrUpdateElements(t){const e=this._cachedMeta,i=this.getDataset();let n=!1;this._dataCheck();const r=e._stacked;e._stacked=zM(e.vScale,e),e.stack!==i.stack&&(n=!0,GM(e),e.stack=i.stack),this._resyncElements(t),(n||r!==e._stacked)&&WM(this,e._parsed)}configure(){const t=this.chart.config,e=t.datasetScopeKeys(this._type),i=t.getOptionScopes(this.getDataset(),e,!0);this.options=t.createResolver(i,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(t,e){const{_cachedMeta:i,_data:n}=this,{iScale:r,_stacked:s}=i,o=r.axis;let a,h,l,u=0===t&&e===n.length||i._sorted,c=t>0&&i._parsed[t-1];if(!1===this._parsing)i._parsed=n,i._sorted=!0,l=n;else{l=Ob(n[t])?this.parseArrayData(i,n,t,e):Pb(n[t])?this.parseObjectData(i,n,t,e):this.parsePrimitiveData(i,n,t,e);const r=()=>null===h[o]||c&&h[o]<c[o];for(a=0;a<e;++a)i._parsed[a+t]=h=l[a],u&&(r()&&(u=!1),c=h);i._sorted=u}s&&WM(this,l)}parsePrimitiveData(t,e,i,n){const{iScale:r,vScale:s}=t,o=r.axis,a=s.axis,h=r.getLabels(),l=r===s,u=new Array(n);let c,d,f;for(c=0,d=n;c<d;++c)f=c+i,u[c]={[o]:l||r.parse(h[f],f),[a]:s.parse(e[f],f)};return u}parseArrayData(t,e,i,n){const{xScale:r,yScale:s}=t,o=new Array(n);let a,h,l,u;for(a=0,h=n;a<h;++a)l=a+i,u=e[l],o[a]={x:r.parse(u[0],l),y:s.parse(u[1],l)};return o}parseObjectData(t,e,i,n){const{xScale:r,yScale:s}=t,{xAxisKey:o="x",yAxisKey:a="y"}=this._parsing,h=new Array(n);let l,u,c,d;for(l=0,u=n;l<u;++l)c=l+i,d=e[c],h[l]={x:r.parse(Xb(d,o),c),y:s.parse(Xb(d,a),c)};return h}getParsed(t){return this._cachedMeta._parsed[t]}getDataElement(t){return this._cachedMeta.data[t]}applyStack(t,e,i){const n=this.chart,r=this._cachedMeta,s=e[t.axis];return jM({keys:FM(n,!0),values:e._stacks[t.axis]._visualValues},s,r.index,{mode:i})}updateRangeFromParsed(t,e,i,n){const r=i[e.axis];let s=null===r?NaN:r;const o=n&&i._stacks[e.axis];n&&o&&(n.values=o,s=jM(n,r,this._cachedMeta.index)),t.min=Math.min(t.min,s),t.max=Math.max(t.max,s)}getMinMax(t,e){const i=this._cachedMeta,n=i._parsed,r=i._sorted&&t===i.iScale,s=n.length,o=this._getOtherScale(t),a=((t,e,i)=>t&&!e.hidden&&e._stacked&&{keys:FM(i,!0),values:null})(e,i,this.chart),h={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:l,max:u}=function(t){const{min:e,max:i,minDefined:n,maxDefined:r}=t.getUserBounds();return{min:n?e:Number.NEGATIVE_INFINITY,max:r?i:Number.POSITIVE_INFINITY}}(o);let c,d;function f(){d=n[c];const e=d[o.axis];return!Bb(d[t.axis])||l>e||u<e}for(c=0;c<s&&(f()||(this.updateRangeFromParsed(h,t,d,a),!r));++c);if(r)for(c=s-1;c>=0;--c)if(!f()){this.updateRangeFromParsed(h,t,d,a);break}return h}getAllParsedValues(t){const e=this._cachedMeta._parsed,i=[];let n,r,s;for(n=0,r=e.length;n<r;++n)s=e[n][t.axis],Bb(s)&&i.push(s);return i}getMaxOverflow(){return!1}getLabelAndValue(t){const e=this._cachedMeta,i=e.iScale,n=e.vScale,r=this.getParsed(t);return{label:i?""+i.getLabelForValue(r[i.axis]):"",value:n?""+n.getLabelForValue(r[n.axis]):""}}_update(t){const e=this._cachedMeta;this.update(t||"default"),e._clip=function(t){let e,i,n,r;return Pb(t)?(e=t.top,i=t.right,n=t.bottom,r=t.left):e=i=n=r=t,{top:e,right:i,bottom:n,left:r,disabled:!1===t}}(Fb(this.options.clip,function(t,e,i){if(!1===i)return!1;const n=UM(t,i),r=UM(e,i);return{top:r.end,right:n.end,bottom:r.start,left:n.start}}(e.xScale,e.yScale,this.getMaxOverflow())))}update(t){}draw(){const t=this._ctx,e=this.chart,i=this._cachedMeta,n=i.data||[],r=e.chartArea,s=[],o=this._drawStart||0,a=this._drawCount||n.length-o,h=this.options.drawActiveElementsOnTop;let l;for(i.dataset&&i.dataset.draw(t,r,o,a),l=o;l<o+a;++l){const e=n[l];e.hidden||(e.active&&h?s.push(e):e.draw(t,r))}for(l=0;l<s.length;++l)s[l].draw(t,r)}getStyle(t,e){const i=e?"active":"default";return void 0===t&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(i):this.resolveDataElementOptions(t||0,i)}getContext(t,e,i){const n=this.getDataset();let r;if(t>=0&&t<this._cachedMeta.data.length){const e=this._cachedMeta.data[t];r=e.$context||(e.$context=function(t,e,i){return O_(t,{active:!1,dataIndex:e,parsed:void 0,raw:void 0,element:i,index:e,mode:"default",type:"data"})}(this.getContext(),t,e)),r.parsed=this.getParsed(t),r.raw=n.data[t],r.index=r.dataIndex=t}else r=this.$context||(this.$context=function(t,e){return O_(t,{active:!1,dataset:void 0,datasetIndex:e,index:e,mode:"default",type:"dataset"})}(this.chart.getContext(),this.index)),r.dataset=n,r.index=r.datasetIndex=this.index;return r.active=!!e,r.mode=i,r}resolveDatasetElementOptions(t){return this._resolveElementOptions(this.datasetElementType.id,t)}resolveDataElementOptions(t,e){return this._resolveElementOptions(this.dataElementType.id,e,t)}_resolveElementOptions(t,e="default",i){const n="active"===e,r=this._cachedDataOpts,s=t+"-"+e,o=r[s],a=this.enableOptionSharing&&tw(i);if(o)return YM(o,a);const h=this.chart.config,l=h.datasetElementScopeKeys(this._type,t),u=n?[`${t}Hover`,"hover",t,""]:[t,""],c=h.getOptionScopes(this.getDataset(),l),d=Object.keys(l_.elements[t]),f=h.resolveNamedOptions(c,d,(()=>this.getContext(i,n,e)),u);return f.$shared&&(f.$shared=a,r[s]=Object.freeze(YM(f,a))),f}_resolveAnimations(t,e,i){const n=this.chart,r=this._cachedDataOpts,s=`animation-${e}`,o=r[s];if(o)return o;let a;if(!1!==n.options.animation){const n=this.chart.config,r=n.datasetAnimationScopeKeys(this._type,e),s=n.getOptionScopes(this.getDataset(),r);a=n.createResolver(s,this.getContext(t,i,e))}const h=new BM(n,a&&a.animations);return a&&a._cacheable&&(r[s]=Object.freeze(h)),h}getSharedOptions(t){if(t.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},t))}includeOptions(t,e){return!e||QM(t)||this.chart._animationsDisabled}_getSharedOptions(t,e){const i=this.resolveDataElementOptions(t,e),n=this._sharedOptions,r=this.getSharedOptions(i),s=this.includeOptions(e,r)||r!==n;return this.updateSharedOptions(r,e,i),{sharedOptions:r,includeOptions:s}}updateElement(t,e,i,n){QM(n)?Object.assign(t,i):this._resolveAnimations(e,n).update(t,i)}updateSharedOptions(t,e,i){t&&!QM(e)&&this._resolveAnimations(void 0,e).update(t,i)}_setStyle(t,e,i,n){t.active=n;const r=this.getStyle(e,n);this._resolveAnimations(e,i,n).update(t,{options:!n&&this.getSharedOptions(r)||r})}removeHoverStyle(t,e,i){this._setStyle(t,i,"active",!1)}setHoverStyle(t,e,i){this._setStyle(t,i,"active",!0)}_removeDatasetHoverStyle(){const t=this._cachedMeta.dataset;t&&this._setStyle(t,void 0,"active",!1)}_setDatasetHoverStyle(){const t=this._cachedMeta.dataset;t&&this._setStyle(t,void 0,"active",!0)}_resyncElements(t){const e=this._data,i=this._cachedMeta.data;for(const[t,e,i]of this._syncList)this[t](e,i);this._syncList=[];const n=i.length,r=e.length,s=Math.min(r,n);s&&this.parse(0,s),r>n?this._insertElements(n,r-n,t):r<n&&this._removeElements(r,n-r)}_insertElements(t,e,i=!0){const n=this._cachedMeta,r=n.data,s=t+e;let o;const a=t=>{for(t.length+=e,o=t.length-1;o>=s;o--)t[o]=t[o-e]};for(a(r),o=t;o<s;++o)r[o]=new this.dataElementType;this._parsing&&a(n._parsed),this.parse(t,e),i&&this.updateElements(r,t,e,"reset")}updateElements(t,e,i,n){}_removeElements(t,e){const i=this._cachedMeta;if(this._parsing){const n=i._parsed.splice(t,e);i._stacked&&GM(i,n)}i.data.splice(t,e)}_sync(t){if(this._parsing)this._syncList.push(t);else{const[e,i,n]=t;this[e](i,n)}this.chart._dataChanges.push([this.index,...t])}_onDataPush(){const t=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-t,t])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(t,e){e&&this._sync(["_removeElements",t,e]);const i=arguments.length-2;i&&this._sync(["_insertElements",t,i])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}function $M(t){const e=t.iScale,i=function(t,e){if(!t._cache.$bar){const i=t.getMatchingVisibleMetas(e);let n=[];for(let e=0,r=i.length;e<r;e++)n=n.concat(i[e].controller.getAllParsedValues(t));t._cache.$bar=Ow(n.sort(((t,e)=>t-e)))}return t._cache.$bar}(e,t.type);let n,r,s,o,a=e._length;const h=()=>{32767!==s&&-32768!==s&&(tw(o)&&(a=Math.min(a,Math.abs(s-o)||a)),o=s)};for(n=0,r=i.length;n<r;++n)s=e.getPixelForValue(i[n]),h();for(o=void 0,n=0,r=e.ticks.length;n<r;++n)s=e.getPixelForTick(n),h();return a}function XM(t,e,i,n){return Ob(t)?function(t,e,i,n){const r=i.parse(t[0],n),s=i.parse(t[1],n),o=Math.min(r,s),a=Math.max(r,s);let h=o,l=a;Math.abs(o)>Math.abs(a)&&(h=a,l=o),e[i.axis]=l,e._custom={barStart:h,barEnd:l,start:r,end:s,min:o,max:a}}(t,e,i,n):e[i.axis]=i.parse(t,n),e}function JM(t,e,i,n){const r=t.iScale,s=t.vScale,o=r.getLabels(),a=r===s,h=[];let l,u,c,d;for(l=i,u=i+n;l<u;++l)d=e[l],c={},c[r.axis]=a||r.parse(o[l],l),h.push(XM(d,c,s,l));return h}function tx(t){return t&&void 0!==t.barStart&&void 0!==t.barEnd}function ex(t,e,i,n){let r=e.borderSkipped;const s={};if(!r)return void(t.borderSkipped=s);if(!0===r)return void(t.borderSkipped={top:!0,right:!0,bottom:!0,left:!0});const{start:o,end:a,reverse:h,top:l,bottom:u}=function(t){let e,i,n,r,s;return t.horizontal?(e=t.base>t.x,i="left",n="right"):(e=t.base<t.y,i="bottom",n="top"),e?(r="end",s="start"):(r="start",s="end"),{start:i,end:n,reverse:e,top:r,bottom:s}}(t);"middle"===r&&i&&(t.enableBorderRadius=!0,(i._top||0)===n?r=l:(i._bottom||0)===n?r=u:(s[ix(u,o,a,h)]=!0,r=l)),s[ix(r,o,a,h)]=!0,t.borderSkipped=s}function ix(t,e,i,n){var r,s,o;return n?(o=i,t=nx(t=(r=t)===(s=e)?o:r===o?s:r,i,e)):t=nx(t,e,i),t}function nx(t,e,i){return"start"===t?e:"end"===t?i:t}function rx(t,{inflateAmount:e},i){t.inflateAmount="auto"===e?1===i?.33:0:e}class sx extends ZM{static id="doughnut";static defaults={datasetElementType:!1,dataElementType:"arc",animation:{animateRotate:!0,animateScale:!1},animations:{numbers:{type:"number",properties:["circumference","endAngle","innerRadius","outerRadius","startAngle","x","y","offset","borderWidth","spacing"]}},cutout:"50%",rotation:0,circumference:360,radius:"100%",spacing:0,indexAxis:"r"};static descriptors={_scriptable:t=>"spacing"!==t,_indexable:t=>"spacing"!==t&&!t.startsWith("borderDash")&&!t.startsWith("hoverBorderDash")};static overrides={aspectRatio:1,plugins:{legend:{labels:{generateLabels(t){const e=t.data;if(e.labels.length&&e.datasets.length){const{labels:{pointStyle:i,color:n}}=t.legend.options;return e.labels.map(((e,r)=>{const s=t.getDatasetMeta(0).controller.getStyle(r);return{text:e,fillStyle:s.backgroundColor,strokeStyle:s.borderColor,fontColor:n,lineWidth:s.borderWidth,pointStyle:i,hidden:!t.getDataVisibility(r),index:r}}))}return[]}},onClick(t,e,i){i.chart.toggleDataVisibility(e.index),i.chart.update()}}}};constructor(t,e){super(t,e),this.enableOptionSharing=!0,this.innerRadius=void 0,this.outerRadius=void 0,this.offsetX=void 0,this.offsetY=void 0}linkScales(){}parse(t,e){const i=this.getDataset().data,n=this._cachedMeta;if(!1===this._parsing)n._parsed=i;else{let r,s,o=t=>+i[t];if(Pb(i[t])){const{key:t="value"}=this._parsing;o=e=>+Xb(i[e],t)}for(r=t,s=t+e;r<s;++r)n._parsed[r]=o(r)}}_getRotation(){return ww(this.options.rotation-90)}_getCircumference(){return ww(this.options.circumference)}_getRotationExtents(){let t=sw,e=-sw;for(let i=0;i<this.chart.data.datasets.length;++i)if(this.chart.isDatasetVisible(i)&&this.chart.getDatasetMeta(i).type===this._type){const n=this.chart.getDatasetMeta(i).controller,r=n._getRotation(),s=n._getCircumference();t=Math.min(t,r),e=Math.max(e,r+s)}return{rotation:t,circumference:e-t}}update(t){const e=this.chart,{chartArea:i}=e,n=this._cachedMeta,r=n.data,s=this.getMaxBorderWidth()+this.getMaxOffset(r)+this.options.spacing,o=Math.max((Math.min(i.width,i.height)-s)/2,0),a=Math.min((h=this.options.cutout,l=o,"string"==typeof h&&h.endsWith("%")?parseFloat(h)/100:+h/l),1);var h,l;const u=this._getRingWeight(this.index),{circumference:c,rotation:d}=this._getRotationExtents(),{ratioX:f,ratioY:p,offsetX:m,offsetY:g}=function(t,e,i){let n=1,r=1,s=0,o=0;if(e<sw){const a=t,h=a+e,l=Math.cos(a),u=Math.sin(a),c=Math.cos(h),d=Math.sin(h),f=(t,e,n)=>Sw(t,a,h,!0)?1:Math.max(e,e*i,n,n*i),p=(t,e,n)=>Sw(t,a,h,!0)?-1:Math.min(e,e*i,n,n*i),m=f(0,l,c),g=f(lw,u,d),v=p(rw,l,c),y=p(rw+lw,u,d);n=(m-v)/2,r=(g-y)/2,s=-(m+v)/2,o=-(g+y)/2}return{ratioX:n,ratioY:r,offsetX:s,offsetY:o}}(d,c,a),v=(i.width-s)/f,y=(i.height-s)/p,b=Math.max(Math.min(v,y)/2,0),w=jb(this.options.radius,b),_=(w-Math.max(w*a,0))/this._getVisibleDatasetWeightTotal();this.offsetX=m*w,this.offsetY=g*w,n.total=this.calculateTotal(),this.outerRadius=w-_*this._getRingWeightOffset(this.index),this.innerRadius=Math.max(this.outerRadius-_*u,0),this.updateElements(r,0,r.length,t)}_circumference(t,e){const i=this.options,n=this._cachedMeta,r=this._getCircumference();return e&&i.animation.animateRotate||!this.chart.getDataVisibility(t)||null===n._parsed[t]||n.data[t].hidden?0:this.calculateCircumference(n._parsed[t]*r/sw)}updateElements(t,e,i,n){const r="reset"===n,s=this.chart,o=s.chartArea,a=s.options.animation,h=(o.left+o.right)/2,l=(o.top+o.bottom)/2,u=r&&a.animateScale,c=u?0:this.innerRadius,d=u?0:this.outerRadius,{sharedOptions:f,includeOptions:p}=this._getSharedOptions(e,n);let m,g=this._getRotation();for(m=0;m<e;++m)g+=this._circumference(m,r);for(m=e;m<e+i;++m){const e=this._circumference(m,r),i=t[m],s={x:h+this.offsetX,y:l+this.offsetY,startAngle:g,endAngle:g+e,circumference:e,outerRadius:d,innerRadius:c};p&&(s.options=f||this.resolveDataElementOptions(m,i.active?"active":n)),g+=e,this.updateElement(i,m,s,n)}}calculateTotal(){const t=this._cachedMeta,e=t.data;let i,n=0;for(i=0;i<e.length;i++){const r=t._parsed[i];null===r||isNaN(r)||!this.chart.getDataVisibility(i)||e[i].hidden||(n+=Math.abs(r))}return n}calculateCircumference(t){const e=this._cachedMeta.total;return e>0&&!isNaN(t)?sw*(Math.abs(t)/e):0}getLabelAndValue(t){const e=this._cachedMeta,i=this.chart,n=i.data.labels||[],r=e_(e._parsed[t],i.options.locale);return{label:n[t]||"",value:r}}getMaxBorderWidth(t){let e=0;const i=this.chart;let n,r,s,o,a;if(!t)for(n=0,r=i.data.datasets.length;n<r;++n)if(i.isDatasetVisible(n)){s=i.getDatasetMeta(n),t=s.data,o=s.controller;break}if(!t)return 0;for(n=0,r=t.length;n<r;++n)a=o.resolveDataElementOptions(n),"inner"!==a.borderAlign&&(e=Math.max(e,a.borderWidth||0,a.hoverBorderWidth||0));return e}getMaxOffset(t){let e=0;for(let i=0,n=t.length;i<n;++i){const t=this.resolveDataElementOptions(i);e=Math.max(e,t.offset||0,t.hoverOffset||0)}return e}_getRingWeightOffset(t){let e=0;for(let i=0;i<t;++i)this.chart.isDatasetVisible(i)&&(e+=this._getRingWeight(i));return e}_getRingWeight(t){return Math.max(Fb(this.chart.data.datasets[t].weight,1),0)}_getVisibleDatasetWeightTotal(){return this._getRingWeightOffset(this.chart.data.datasets.length)||1}}class ox extends ZM{static id="polarArea";static defaults={dataElementType:"arc",animation:{animateRotate:!0,animateScale:!0},animations:{numbers:{type:"number",properties:["x","y","startAngle","endAngle","innerRadius","outerRadius"]}},indexAxis:"r",startAngle:0};static overrides={aspectRatio:1,plugins:{legend:{labels:{generateLabels(t){const e=t.data;if(e.labels.length&&e.datasets.length){const{labels:{pointStyle:i,color:n}}=t.legend.options;return e.labels.map(((e,r)=>{const s=t.getDatasetMeta(0).controller.getStyle(r);return{text:e,fillStyle:s.backgroundColor,strokeStyle:s.borderColor,fontColor:n,lineWidth:s.borderWidth,pointStyle:i,hidden:!t.getDataVisibility(r),index:r}}))}return[]}},onClick(t,e,i){i.chart.toggleDataVisibility(e.index),i.chart.update()}}},scales:{r:{type:"radialLinear",angleLines:{display:!1},beginAtZero:!0,grid:{circular:!0},pointLabels:{display:!1},startAngle:0}}};constructor(t,e){super(t,e),this.innerRadius=void 0,this.outerRadius=void 0}getLabelAndValue(t){const e=this._cachedMeta,i=this.chart,n=i.data.labels||[],r=e_(e._parsed[t].r,i.options.locale);return{label:n[t]||"",value:r}}parseObjectData(t,e,i,n){return Z_.bind(this)(t,e,i,n)}update(t){const e=this._cachedMeta.data;this._updateRadius(),this.updateElements(e,0,e.length,t)}getMinMax(){const t=this._cachedMeta,e={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY};return t.data.forEach(((t,i)=>{const n=this.getParsed(i).r;!isNaN(n)&&this.chart.getDataVisibility(i)&&(n<e.min&&(e.min=n),n>e.max&&(e.max=n))})),e}_updateRadius(){const t=this.chart,e=t.chartArea,i=t.options,n=Math.min(e.right-e.left,e.bottom-e.top),r=Math.max(n/2,0),s=(r-Math.max(i.cutoutPercentage?r/100*i.cutoutPercentage:1,0))/t.getVisibleDatasetCount();this.outerRadius=r-s*this.index,this.innerRadius=this.outerRadius-s}updateElements(t,e,i,n){const r="reset"===n,s=this.chart,o=s.options.animation,a=this._cachedMeta.rScale,h=a.xCenter,l=a.yCenter,u=a.getIndexAngle(0)-.5*rw;let c,d=u;const f=360/this.countVisibleElements();for(c=0;c<e;++c)d+=this._computeAngle(c,n,f);for(c=e;c<e+i;c++){const e=t[c];let i=d,p=d+this._computeAngle(c,n,f),m=s.getDataVisibility(c)?a.getDistanceFromCenterForValue(this.getParsed(c).r):0;d=p,r&&(o.animateScale&&(m=0),o.animateRotate&&(i=p=u));const g={x:h,y:l,innerRadius:0,outerRadius:m,startAngle:i,endAngle:p,options:this.resolveDataElementOptions(c,e.active?"active":n)};this.updateElement(e,c,g,n)}}countVisibleElements(){const t=this._cachedMeta;let e=0;return t.data.forEach(((t,i)=>{!isNaN(this.getParsed(i).r)&&this.chart.getDataVisibility(i)&&e++})),e}_computeAngle(t,e,i){return this.chart.getDataVisibility(t)?ww(this.resolveDataElementOptions(t,e).angle||i):0}}var ax=Object.freeze({__proto__:null,BarController:class extends ZM{static id="bar";static defaults={datasetElementType:!1,dataElementType:"bar",categoryPercentage:.8,barPercentage:.9,grouped:!0,animations:{numbers:{type:"number",properties:["x","y","base","width","height"]}}};static overrides={scales:{_index_:{type:"category",offset:!0,grid:{offset:!0}},_value_:{type:"linear",beginAtZero:!0}}};parsePrimitiveData(t,e,i,n){return JM(t,e,i,n)}parseArrayData(t,e,i,n){return JM(t,e,i,n)}parseObjectData(t,e,i,n){const{iScale:r,vScale:s}=t,{xAxisKey:o="x",yAxisKey:a="y"}=this._parsing,h="x"===r.axis?o:a,l="x"===s.axis?o:a,u=[];let c,d,f,p;for(c=i,d=i+n;c<d;++c)p=e[c],f={},f[r.axis]=r.parse(Xb(p,h),c),u.push(XM(Xb(p,l),f,s,c));return u}updateRangeFromParsed(t,e,i,n){super.updateRangeFromParsed(t,e,i,n);const r=i._custom;r&&e===this._cachedMeta.vScale&&(t.min=Math.min(t.min,r.min),t.max=Math.max(t.max,r.max))}getMaxOverflow(){return 0}getLabelAndValue(t){const e=this._cachedMeta,{iScale:i,vScale:n}=e,r=this.getParsed(t),s=r._custom,o=tx(s)?"["+s.start+", "+s.end+"]":""+n.getLabelForValue(r[n.axis]);return{label:""+i.getLabelForValue(r[i.axis]),value:o}}initialize(){this.enableOptionSharing=!0,super.initialize();this._cachedMeta.stack=this.getDataset().stack}update(t){const e=this._cachedMeta;this.updateElements(e.data,0,e.data.length,t)}updateElements(t,e,i,n){const r="reset"===n,{index:s,_cachedMeta:{vScale:o}}=this,a=o.getBasePixel(),h=o.isHorizontal(),l=this._getRuler(),{sharedOptions:u,includeOptions:c}=this._getSharedOptions(e,n);for(let d=e;d<e+i;d++){const e=this.getParsed(d),i=r||Nb(e[o.axis])?{base:a,head:a}:this._calculateBarValuePixels(d),f=this._calculateBarIndexPixels(d,l),p=(e._stacks||{})[o.axis],m={horizontal:h,base:i.base,enableBorderRadius:!p||tx(e._custom)||s===p._top||s===p._bottom,x:h?i.head:f.center,y:h?f.center:i.head,height:h?f.size:Math.abs(i.size),width:h?Math.abs(i.size):f.size};c&&(m.options=u||this.resolveDataElementOptions(d,t[d].active?"active":n));const g=m.options||t[d].options;ex(m,g,p,s),rx(m,g,l.ratio),this.updateElement(t[d],d,m,n)}}_getStacks(t,e){const{iScale:i}=this._cachedMeta,n=i.getMatchingVisibleMetas(this._type).filter((t=>t.controller.options.grouped)),r=i.options.stacked,s=[],o=t=>{const i=t.controller.getParsed(e),n=i&&i[t.vScale.axis];if(Nb(n)||isNaN(n))return!0};for(const i of n)if((void 0===e||!o(i))&&((!1===r||-1===s.indexOf(i.stack)||void 0===r&&void 0===i.stack)&&s.push(i.stack),i.index===t))break;return s.length||s.push(void 0),s}_getStackCount(t){return this._getStacks(void 0,t).length}_getStackIndex(t,e,i){const n=this._getStacks(t,i),r=void 0!==e?n.indexOf(e):-1;return-1===r?n.length-1:r}_getRuler(){const t=this.options,e=this._cachedMeta,i=e.iScale,n=[];let r,s;for(r=0,s=e.data.length;r<s;++r)n.push(i.getPixelForValue(this.getParsed(r)[i.axis],r));const o=t.barThickness;return{min:o||$M(e),pixels:n,start:i._startPixel,end:i._endPixel,stackCount:this._getStackCount(),scale:i,grouped:t.grouped,ratio:o?1:t.categoryPercentage*t.barPercentage}}_calculateBarValuePixels(t){const{_cachedMeta:{vScale:e,_stacked:i,index:n},options:{base:r,minBarLength:s}}=this,o=r||0,a=this.getParsed(t),h=a._custom,l=tx(h);let u,c,d=a[e.axis],f=0,p=i?this.applyStack(e,a,i):d;p!==d&&(f=p-d,p=d),l&&(d=h.barStart,p=h.barEnd-h.barStart,0!==d&&fw(d)!==fw(h.barEnd)&&(f=0),f+=d);const m=Nb(r)||l?f:r;let g=e.getPixelForValue(m);if(u=this.chart.getDataVisibility(t)?e.getPixelForValue(f+p):g,c=u-g,Math.abs(c)<s){c=function(t,e,i){return 0!==t?fw(t):(e.isHorizontal()?1:-1)*(e.min>=i?1:-1)}(c,e,o)*s,d===o&&(g-=c/2);const t=e.getPixelForDecimal(0),r=e.getPixelForDecimal(1),h=Math.min(t,r),f=Math.max(t,r);g=Math.max(Math.min(g,f),h),u=g+c,i&&!l&&(a._stacks[e.axis]._visualValues[n]=e.getValueForPixel(u)-e.getValueForPixel(g))}if(g===e.getPixelForValue(o)){const t=fw(c)*e.getLineWidthForValue(o)/2;g+=t,c-=t}return{size:c,base:g,head:u,center:u+c/2}}_calculateBarIndexPixels(t,e){const i=e.scale,n=this.options,r=n.skipNull,s=Fb(n.maxBarThickness,1/0);let o,a;if(e.grouped){const i=r?this._getStackCount(t):e.stackCount,h="flex"===n.barThickness?function(t,e,i,n){const r=e.pixels,s=r[t];let o=t>0?r[t-1]:null,a=t<r.length-1?r[t+1]:null;const h=i.categoryPercentage;null===o&&(o=s-(null===a?e.end-e.start:a-s)),null===a&&(a=s+s-o);const l=s-(s-Math.min(o,a))/2*h;return{chunk:Math.abs(a-o)/2*h/n,ratio:i.barPercentage,start:l}}(t,e,n,i):function(t,e,i,n){const r=i.barThickness;let s,o;return Nb(r)?(s=e.min*i.categoryPercentage,o=i.barPercentage):(s=r*n,o=1),{chunk:s/n,ratio:o,start:e.pixels[t]-s/2}}(t,e,n,i),l=this._getStackIndex(this.index,this._cachedMeta.stack,r?t:void 0);o=h.start+h.chunk*l+h.chunk/2,a=Math.min(s,h.chunk*h.ratio)}else o=i.getPixelForValue(this.getParsed(t)[i.axis],t),a=Math.min(s,e.min*e.ratio);return{base:o-a/2,head:o+a/2,center:o,size:a}}draw(){const t=this._cachedMeta,e=t.vScale,i=t.data,n=i.length;let r=0;for(;r<n;++r)null!==this.getParsed(r)[e.axis]&&i[r].draw(this._ctx)}},BubbleController:class extends ZM{static id="bubble";static defaults={datasetElementType:!1,dataElementType:"point",animations:{numbers:{type:"number",properties:["x","y","borderWidth","radius"]}}};static overrides={scales:{x:{type:"linear"},y:{type:"linear"}}};initialize(){this.enableOptionSharing=!0,super.initialize()}parsePrimitiveData(t,e,i,n){const r=super.parsePrimitiveData(t,e,i,n);for(let t=0;t<r.length;t++)r[t]._custom=this.resolveDataElementOptions(t+i).radius;return r}parseArrayData(t,e,i,n){const r=super.parseArrayData(t,e,i,n);for(let t=0;t<r.length;t++){const n=e[i+t];r[t]._custom=Fb(n[2],this.resolveDataElementOptions(t+i).radius)}return r}parseObjectData(t,e,i,n){const r=super.parseObjectData(t,e,i,n);for(let t=0;t<r.length;t++){const n=e[i+t];r[t]._custom=Fb(n&&n.r&&+n.r,this.resolveDataElementOptions(t+i).radius)}return r}getMaxOverflow(){const t=this._cachedMeta.data;let e=0;for(let i=t.length-1;i>=0;--i)e=Math.max(e,t[i].size(this.resolveDataElementOptions(i))/2);return e>0&&e}getLabelAndValue(t){const e=this._cachedMeta,i=this.chart.data.labels||[],{xScale:n,yScale:r}=e,s=this.getParsed(t),o=n.getLabelForValue(s.x),a=r.getLabelForValue(s.y),h=s._custom;return{label:i[t]||"",value:"("+o+", "+a+(h?", "+h:"")+")"}}update(t){const e=this._cachedMeta.data;this.updateElements(e,0,e.length,t)}updateElements(t,e,i,n){const r="reset"===n,{iScale:s,vScale:o}=this._cachedMeta,{sharedOptions:a,includeOptions:h}=this._getSharedOptions(e,n),l=s.axis,u=o.axis;for(let c=e;c<e+i;c++){const e=t[c],i=!r&&this.getParsed(c),d={},f=d[l]=r?s.getPixelForDecimal(.5):s.getPixelForValue(i[l]),p=d[u]=r?o.getBasePixel():o.getPixelForValue(i[u]);d.skip=isNaN(f)||isNaN(p),h&&(d.options=a||this.resolveDataElementOptions(c,e.active?"active":n),r&&(d.options.radius=0)),this.updateElement(e,c,d,n)}}resolveDataElementOptions(t,e){const i=this.getParsed(t);let n=super.resolveDataElementOptions(t,e);n.$shared&&(n=Object.assign({},n,{$shared:!1}));const r=n.radius;return"active"!==e&&(n.radius=0),n.radius+=Fb(i&&i._custom,r),n}},DoughnutController:sx,LineController:class extends ZM{static id="line";static defaults={datasetElementType:"line",dataElementType:"point",showLine:!0,spanGaps:!1};static overrides={scales:{_index_:{type:"category"},_value_:{type:"linear"}}};initialize(){this.enableOptionSharing=!0,this.supportsDecimation=!0,super.initialize()}update(t){const e=this._cachedMeta,{dataset:i,data:n=[],_dataset:r}=e,s=this.chart._animationsDisabled;let{start:o,count:a}=Vw(e,n,s);this._drawStart=o,this._drawCount=a,Hw(e)&&(o=0,a=n.length),i._chart=this.chart,i._datasetIndex=this.index,i._decimated=!!r._decimated,i.points=n;const h=this.resolveDatasetElementOptions(t);this.options.showLine||(h.borderWidth=0),h.segment=this.options.segment,this.updateElement(i,void 0,{animated:!s,options:h},t),this.updateElements(n,o,a,t)}updateElements(t,e,i,n){const r="reset"===n,{iScale:s,vScale:o,_stacked:a,_dataset:h}=this._cachedMeta,{sharedOptions:l,includeOptions:u}=this._getSharedOptions(e,n),c=s.axis,d=o.axis,{spanGaps:f,segment:p}=this.options,m=vw(f)?f:Number.POSITIVE_INFINITY,g=this.chart._animationsDisabled||r||"none"===n,v=e+i,y=t.length;let b=e>0&&this.getParsed(e-1);for(let i=0;i<y;++i){const f=t[i],y=g?f:{};if(i<e||i>=v){y.skip=!0;continue}const w=this.getParsed(i),_=Nb(w[d]),M=y[c]=s.getPixelForValue(w[c],i),x=y[d]=r||_?o.getBasePixel():o.getPixelForValue(a?this.applyStack(o,w,a):w[d],i);y.skip=isNaN(M)||isNaN(x)||_,y.stop=i>0&&Math.abs(w[c]-b[c])>m,p&&(y.parsed=w,y.raw=h.data[i]),u&&(y.options=l||this.resolveDataElementOptions(i,f.active?"active":n)),g||this.updateElement(f,i,y,n),b=w}}getMaxOverflow(){const t=this._cachedMeta,e=t.dataset,i=e.options&&e.options.borderWidth||0,n=t.data||[];if(!n.length)return i;const r=n[0].size(this.resolveDataElementOptions(0)),s=n[n.length-1].size(this.resolveDataElementOptions(n.length-1));return Math.max(i,r,s)/2}draw(){const t=this._cachedMeta;t.dataset.updateControlPoints(this.chart.chartArea,t.iScale.axis),super.draw()}},PieController:class extends sx{static id="pie";static defaults={cutout:0,rotation:0,circumference:360,radius:"100%"}},PolarAreaController:ox,RadarController:class extends ZM{static id="radar";static defaults={datasetElementType:"line",dataElementType:"point",indexAxis:"r",showLine:!0,elements:{line:{fill:"start"}}};static overrides={aspectRatio:1,scales:{r:{type:"radialLinear"}}};getLabelAndValue(t){const e=this._cachedMeta.vScale,i=this.getParsed(t);return{label:e.getLabels()[t],value:""+e.getLabelForValue(i[e.axis])}}parseObjectData(t,e,i,n){return Z_.bind(this)(t,e,i,n)}update(t){const e=this._cachedMeta,i=e.dataset,n=e.data||[],r=e.iScale.getLabels();if(i.points=n,"resize"!==t){const e=this.resolveDatasetElementOptions(t);this.options.showLine||(e.borderWidth=0);const s={_loop:!0,_fullLoop:r.length===n.length,options:e};this.updateElement(i,void 0,s,t)}this.updateElements(n,0,n.length,t)}updateElements(t,e,i,n){const r=this._cachedMeta.rScale,s="reset"===n;for(let o=e;o<e+i;o++){const e=t[o],i=this.resolveDataElementOptions(o,e.active?"active":n),a=r.getPointPositionForValue(o,this.getParsed(o).r),h=s?r.xCenter:a.x,l=s?r.yCenter:a.y,u={x:h,y:l,angle:a.angle,skip:isNaN(h)||isNaN(l),options:i};this.updateElement(e,o,u,n)}}},ScatterController:class extends ZM{static id="scatter";static defaults={datasetElementType:!1,dataElementType:"point",showLine:!1,fill:!1};static overrides={interaction:{mode:"point"},scales:{x:{type:"linear"},y:{type:"linear"}}};getLabelAndValue(t){const e=this._cachedMeta,i=this.chart.data.labels||[],{xScale:n,yScale:r}=e,s=this.getParsed(t),o=n.getLabelForValue(s.x),a=r.getLabelForValue(s.y);return{label:i[t]||"",value:"("+o+", "+a+")"}}update(t){const e=this._cachedMeta,{data:i=[]}=e,n=this.chart._animationsDisabled;let{start:r,count:s}=Vw(e,i,n);if(this._drawStart=r,this._drawCount=s,Hw(e)&&(r=0,s=i.length),this.options.showLine){const{dataset:r,_dataset:s}=e;r._chart=this.chart,r._datasetIndex=this.index,r._decimated=!!s._decimated,r.points=i;const o=this.resolveDatasetElementOptions(t);o.segment=this.options.segment,this.updateElement(r,void 0,{animated:!n,options:o},t)}this.updateElements(i,r,s,t)}addElements(){const{showLine:t}=this.options;!this.datasetElementType&&t&&(this.datasetElementType=this.chart.registry.getElement("line")),super.addElements()}updateElements(t,e,i,n){const r="reset"===n,{iScale:s,vScale:o,_stacked:a,_dataset:h}=this._cachedMeta,l=this.resolveDataElementOptions(e,n),u=this.getSharedOptions(l),c=this.includeOptions(n,u),d=s.axis,f=o.axis,{spanGaps:p,segment:m}=this.options,g=vw(p)?p:Number.POSITIVE_INFINITY,v=this.chart._animationsDisabled||r||"none"===n;let y=e>0&&this.getParsed(e-1);for(let l=e;l<e+i;++l){const e=t[l],i=this.getParsed(l),p=v?e:{},b=Nb(i[f]),w=p[d]=s.getPixelForValue(i[d],l),_=p[f]=r||b?o.getBasePixel():o.getPixelForValue(a?this.applyStack(o,i,a):i[f],l);p.skip=isNaN(w)||isNaN(_)||b,p.stop=l>0&&Math.abs(i[d]-y[d])>g,m&&(p.parsed=i,p.raw=h.data[l]),c&&(p.options=u||this.resolveDataElementOptions(l,e.active?"active":n)),v||this.updateElement(e,l,p,n),y=i}this.updateSharedOptions(u,n,l)}getMaxOverflow(){const t=this._cachedMeta,e=t.data||[];if(!this.options.showLine){let t=0;for(let i=e.length-1;i>=0;--i)t=Math.max(t,e[i].size(this.resolveDataElementOptions(i))/2);return t>0&&t}const i=t.dataset,n=i.options&&i.options.borderWidth||0;if(!e.length)return n;const r=e[0].size(this.resolveDataElementOptions(0)),s=e[e.length-1].size(this.resolveDataElementOptions(e.length-1));return Math.max(n,r,s)/2}}});function hx(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}class lx{static override(t){Object.assign(lx.prototype,t)}options;constructor(t){this.options=t||{}}init(){}formats(){return hx()}parse(){return hx()}format(){return hx()}add(){return hx()}diff(){return hx()}startOf(){return hx()}endOf(){return hx()}}var ux=lx;function cx(t,e,i,n){const{controller:r,data:s,_sorted:o}=t,a=r._cachedMeta.iScale;if(a&&e===a.axis&&"r"!==e&&o&&s.length){const t=a._reversePixels?Rw:Cw;if(!n)return t(s,e,i);if(r._sharedOptions){const n=s[0],r="function"==typeof n.getRange&&n.getRange(e);if(r){const n=t(s,e,i-r),o=t(s,e,i+r);return{lo:n.lo,hi:o.hi}}}}return{lo:0,hi:s.length-1}}function dx(t,e,i,n,r){const s=t.getSortedVisibleDatasetMetas(),o=i[e];for(let t=0,i=s.length;t<i;++t){const{index:i,data:a}=s[t],{lo:h,hi:l}=cx(s[t],e,o,r);for(let t=h;t<=l;++t){const e=a[t];e.skip||n(e,i,t)}}}function fx(t,e,i,n,r){const s=[];if(!r&&!t.isPointInArea(e))return s;return dx(t,i,e,(function(i,o,a){(r||g_(i,t.chartArea,0))&&i.inRange(e.x,e.y,n)&&s.push({element:i,datasetIndex:o,index:a})}),!0),s}function px(t,e,i,n,r,s){let o=[];const a=function(t){const e=-1!==t.indexOf("x"),i=-1!==t.indexOf("y");return function(t,n){const r=e?Math.abs(t.x-n.x):0,s=i?Math.abs(t.y-n.y):0;return Math.sqrt(Math.pow(r,2)+Math.pow(s,2))}}(i);let h=Number.POSITIVE_INFINITY;return dx(t,i,e,(function(i,l,u){const c=i.inRange(e.x,e.y,r);if(n&&!c)return;const d=i.getCenterPoint(r);if(!(!!s||t.isPointInArea(d))&&!c)return;const f=a(e,d);f<h?(o=[{element:i,datasetIndex:l,index:u}],h=f):f===h&&o.push({element:i,datasetIndex:l,index:u})})),o}function mx(t,e,i,n,r,s){return s||t.isPointInArea(e)?"r"!==i||n?px(t,e,i,n,r,s):function(t,e,i,n){let r=[];return dx(t,i,e,(function(t,i,s){const{startAngle:o,endAngle:a}=t.getProps(["startAngle","endAngle"],n),{angle:h}=xw(t,{x:e.x,y:e.y});Sw(h,o,a)&&r.push({element:t,datasetIndex:i,index:s})})),r}(t,e,i,r):[]}function gx(t,e,i,n,r){const s=[],o="x"===i?"inXRange":"inYRange";let a=!1;return dx(t,i,e,((t,n,h)=>{t[o](e[i],r)&&(s.push({element:t,datasetIndex:n,index:h}),a=a||t.inRange(e.x,e.y,r))})),n&&!a?[]:s}var vx={evaluateInteractionItems:dx,modes:{index(t,e,i,n){const r=cM(e,t),s=i.axis||"x",o=i.includeInvisible||!1,a=i.intersect?fx(t,r,s,n,o):mx(t,r,s,!1,n,o),h=[];return a.length?(t.getSortedVisibleDatasetMetas().forEach((t=>{const e=a[0].index,i=t.data[e];i&&!i.skip&&h.push({element:i,datasetIndex:t.index,index:e})})),h):[]},dataset(t,e,i,n){const r=cM(e,t),s=i.axis||"xy",o=i.includeInvisible||!1;let a=i.intersect?fx(t,r,s,n,o):mx(t,r,s,!1,n,o);if(a.length>0){const e=a[0].datasetIndex,i=t.getDatasetMeta(e).data;a=[];for(let t=0;t<i.length;++t)a.push({element:i[t],datasetIndex:e,index:t})}return a},point:(t,e,i,n)=>fx(t,cM(e,t),i.axis||"xy",n,i.includeInvisible||!1),nearest(t,e,i,n){const r=cM(e,t),s=i.axis||"xy",o=i.includeInvisible||!1;return mx(t,r,s,i.intersect,n,o)},x:(t,e,i,n)=>gx(t,cM(e,t),"x",i.intersect,n),y:(t,e,i,n)=>gx(t,cM(e,t),"y",i.intersect,n)}};const yx=["left","top","right","bottom"];function bx(t,e){return t.filter((t=>t.pos===e))}function wx(t,e){return t.filter((t=>-1===yx.indexOf(t.pos)&&t.box.axis===e))}function _x(t,e){return t.sort(((t,i)=>{const n=e?i:t,r=e?t:i;return n.weight===r.weight?n.index-r.index:n.weight-r.weight}))}function Mx(t,e){const i=function(t){const e={};for(const i of t){const{stack:t,pos:n,stackWeight:r}=i;if(!t||!yx.includes(n))continue;const s=e[t]||(e[t]={count:0,placed:0,weight:0,size:0});s.count++,s.weight+=r}return e}(t),{vBoxMaxWidth:n,hBoxMaxHeight:r}=e;let s,o,a;for(s=0,o=t.length;s<o;++s){a=t[s];const{fullSize:o}=a.box,h=i[a.stack],l=h&&a.stackWeight/h.weight;a.horizontal?(a.width=l?l*n:o&&e.availableWidth,a.height=r):(a.width=n,a.height=l?l*r:o&&e.availableHeight)}return i}function xx(t,e,i,n){return Math.max(t[i],e[i])+Math.max(t[n],e[n])}function kx(t,e){t.top=Math.max(t.top,e.top),t.left=Math.max(t.left,e.left),t.bottom=Math.max(t.bottom,e.bottom),t.right=Math.max(t.right,e.right)}function Ax(t,e,i,n){const{pos:r,box:s}=i,o=t.maxPadding;if(!Pb(r)){i.size&&(t[r]-=i.size);const e=n[i.stack]||{size:0,count:1};e.size=Math.max(e.size,i.horizontal?s.height:s.width),i.size=e.size/e.count,t[r]+=i.size}s.getPadding&&kx(o,s.getPadding());const a=Math.max(0,e.outerWidth-xx(o,t,"left","right")),h=Math.max(0,e.outerHeight-xx(o,t,"top","bottom")),l=a!==t.w,u=h!==t.h;return t.w=a,t.h=h,i.horizontal?{same:l,other:u}:{same:u,other:l}}function Ex(t,e){const i=e.maxPadding;function n(t){const n={left:0,top:0,right:0,bottom:0};return t.forEach((t=>{n[t]=Math.max(e[t],i[t])})),n}return n(t?["left","right"]:["top","bottom"])}function Sx(t,e,i,n){const r=[];let s,o,a,h,l,u;for(s=0,o=t.length,l=0;s<o;++s){a=t[s],h=a.box,h.update(a.width||e.w,a.height||e.h,Ex(a.horizontal,e));const{same:o,other:c}=Ax(e,i,a,n);l|=o&&r.length,u=u||c,h.fullSize||r.push(a)}return l&&Sx(r,e,i,n)||u}function Tx(t,e,i,n,r){t.top=i,t.left=e,t.right=e+n,t.bottom=i+r,t.width=n,t.height=r}function Ix(t,e,i,n){const r=i.padding;let{x:s,y:o}=e;for(const a of t){const t=a.box,h=n[a.stack]||{count:1,placed:0,weight:1},l=a.stackWeight/h.weight||1;if(a.horizontal){const n=e.w*l,s=h.size||t.height;tw(h.start)&&(o=h.start),t.fullSize?Tx(t,r.left,o,i.outerWidth-r.right-r.left,s):Tx(t,e.left+h.placed,o,n,s),h.start=o,h.placed+=n,o=t.bottom}else{const n=e.h*l,o=h.size||t.width;tw(h.start)&&(s=h.start),t.fullSize?Tx(t,s,r.top,o,i.outerHeight-r.bottom-r.top):Tx(t,s,e.top+h.placed,o,n),h.start=s,h.placed+=n,s=t.right}}e.x=s,e.y=o}var qx={addBox(t,e){t.boxes||(t.boxes=[]),e.fullSize=e.fullSize||!1,e.position=e.position||"top",e.weight=e.weight||0,e._layers=e._layers||function(){return[{z:0,draw(t){e.draw(t)}}]},t.boxes.push(e)},removeBox(t,e){const i=t.boxes?t.boxes.indexOf(e):-1;-1!==i&&t.boxes.splice(i,1)},configure(t,e,i){e.fullSize=i.fullSize,e.position=i.position,e.weight=i.weight},update(t,e,i,n){if(!t)return;const r=R_(t.options.layout.padding),s=Math.max(e-r.width,0),o=Math.max(i-r.height,0),a=function(t){const e=function(t){const e=[];let i,n,r,s,o,a;for(i=0,n=(t||[]).length;i<n;++i)r=t[i],({position:s,options:{stack:o,stackWeight:a=1}}=r),e.push({index:i,box:r,pos:s,horizontal:r.isHorizontal(),weight:r.weight,stack:o&&s+o,stackWeight:a});return e}(t),i=_x(e.filter((t=>t.box.fullSize)),!0),n=_x(bx(e,"left"),!0),r=_x(bx(e,"right")),s=_x(bx(e,"top"),!0),o=_x(bx(e,"bottom")),a=wx(e,"x"),h=wx(e,"y");return{fullSize:i,leftAndTop:n.concat(s),rightAndBottom:r.concat(h).concat(o).concat(a),chartArea:bx(e,"chartArea"),vertical:n.concat(r).concat(h),horizontal:s.concat(o).concat(a)}}(t.boxes),h=a.vertical,l=a.horizontal;Vb(t.boxes,(t=>{"function"==typeof t.beforeLayout&&t.beforeLayout()}));const u=h.reduce(((t,e)=>e.box.options&&!1===e.box.options.display?t:t+1),0)||1,c=Object.freeze({outerWidth:e,outerHeight:i,padding:r,availableWidth:s,availableHeight:o,vBoxMaxWidth:s/2/u,hBoxMaxHeight:o/2}),d=Object.assign({},r);kx(d,R_(n));const f=Object.assign({maxPadding:d,w:s,h:o,x:r.left,y:r.top},r),p=Mx(h.concat(l),c);Sx(a.fullSize,f,c,p),Sx(h,f,c,p),Sx(l,f,c,p)&&Sx(h,f,c,p),function(t){const e=t.maxPadding;function i(i){const n=Math.max(e[i]-t[i],0);return t[i]+=n,n}t.y+=i("top"),t.x+=i("left"),i("right"),i("bottom")}(f),Ix(a.leftAndTop,f,c,p),f.x+=f.w,f.y+=f.h,Ix(a.rightAndBottom,f,c,p),t.chartArea={left:f.left,top:f.top,right:f.left+f.w,bottom:f.top+f.h,height:f.h,width:f.w},Vb(a.chartArea,(e=>{const i=e.box;Object.assign(i,t.chartArea),i.update(f.w,f.h,{left:0,top:0,right:0,bottom:0})}))}};class Cx{acquireContext(t,e){}releaseContext(t){return!1}addEventListener(t,e,i){}removeEventListener(t,e,i){}getDevicePixelRatio(){return 1}getMaximumSize(t,e,i,n){return e=Math.max(0,e||t.width),i=i||t.height,{width:e,height:Math.max(0,n?Math.floor(e/n):i)}}isAttached(t){return!0}updateConfig(t){}}class Rx extends Cx{acquireContext(t){return t&&t.getContext&&t.getContext("2d")||null}updateConfig(t){t.options.animation=!1}}const Dx="$chartjs",Lx={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},Nx=t=>null===t||""===t;const Ox=!!mM&&{passive:!0};function Px(t,e,i){t.canvas.removeEventListener(e,i,Ox)}function Bx(t,e){for(const i of t)if(i===e||i.contains(e))return!0}function Ux(t,e,i){const n=t.canvas,r=new MutationObserver((t=>{let e=!1;for(const i of t)e=e||Bx(i.addedNodes,n),e=e&&!Bx(i.removedNodes,n);e&&i()}));return r.observe(document,{childList:!0,subtree:!0}),r}function Fx(t,e,i){const n=t.canvas,r=new MutationObserver((t=>{let e=!1;for(const i of t)e=e||Bx(i.removedNodes,n),e=e&&!Bx(i.addedNodes,n);e&&i()}));return r.observe(document,{childList:!0,subtree:!0}),r}const jx=new Map;let zx=0;function Vx(){const t=window.devicePixelRatio;t!==zx&&(zx=t,jx.forEach(((e,i)=>{i.currentDevicePixelRatio!==t&&e()})))}function Hx(t,e,i){const n=t.canvas,r=n&&sM(n);if(!r)return;const s=Bw(((t,e)=>{const n=r.clientWidth;i(t,e),n<r.clientWidth&&i()}),window),o=new ResizeObserver((t=>{const e=t[0],i=e.contentRect.width,n=e.contentRect.height;0===i&&0===n||s(i,n)}));return o.observe(r),function(t,e){jx.size||window.addEventListener("resize",Vx),jx.set(t,e)}(t,s),o}function Wx(t,e,i){i&&i.disconnect(),"resize"===e&&function(t){jx.delete(t),jx.size||window.removeEventListener("resize",Vx)}(t)}function Kx(t,e,i){const n=t.canvas,r=Bw((e=>{null!==t.ctx&&i(function(t,e){const i=Lx[t.type]||t.type,{x:n,y:r}=cM(t,e);return{type:i,chart:e,native:t,x:void 0!==n?n:null,y:void 0!==r?r:null}}(e,t))}),t);return function(t,e,i){t.addEventListener(e,i,Ox)}(n,e,r),r}class Gx extends Cx{acquireContext(t,e){const i=t&&t.getContext&&t.getContext("2d");return i&&i.canvas===t?(function(t,e){const i=t.style,n=t.getAttribute("height"),r=t.getAttribute("width");if(t[Dx]={initial:{height:n,width:r,style:{display:i.display,height:i.height,width:i.width}}},i.display=i.display||"block",i.boxSizing=i.boxSizing||"border-box",Nx(r)){const e=gM(t,"width");void 0!==e&&(t.width=e)}if(Nx(n))if(""===t.style.height)t.height=t.width/(e||2);else{const e=gM(t,"height");void 0!==e&&(t.height=e)}}(t,e),i):null}releaseContext(t){const e=t.canvas;if(!e[Dx])return!1;const i=e[Dx].initial;["height","width"].forEach((t=>{const n=i[t];Nb(n)?e.removeAttribute(t):e.setAttribute(t,n)}));const n=i.style||{};return Object.keys(n).forEach((t=>{e.style[t]=n[t]})),e.width=e.width,delete e[Dx],!0}addEventListener(t,e,i){this.removeEventListener(t,e);const n=t.$proxies||(t.$proxies={}),r={attach:Ux,detach:Fx,resize:Hx}[e]||Kx;n[e]=r(t,e,i)}removeEventListener(t,e){const i=t.$proxies||(t.$proxies={}),n=i[e];if(!n)return;({attach:Wx,detach:Wx,resize:Wx}[e]||Px)(t,e,n),i[e]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(t,e,i,n){return fM(t,e,i,n)}isAttached(t){const e=sM(t);return!(!e||!e.isConnected)}}class Qx{static defaults={};static defaultRoutes=void 0;x;y;active=!1;options;$animations;tooltipPosition(t){const{x:e,y:i}=this.getProps(["x","y"],t);return{x:e,y:i}}hasValue(){return vw(this.x)&&vw(this.y)}getProps(t,e){const i=this.$animations;if(!e||!i)return this;const n={};return t.forEach((t=>{n[t]=i[t]&&i[t].active()?i[t]._to:this[t]})),n}}function Yx(t,e){const i=t.options.ticks,n=function(t){const e=t.options.offset,i=t._tickSize(),n=t._length/i+(e?0:1),r=t._maxLength/i;return Math.floor(Math.min(n,r))}(t),r=Math.min(i.maxTicksLimit||n,n),s=i.major.enabled?function(t){const e=[];let i,n;for(i=0,n=t.length;i<n;i++)t[i].major&&e.push(i);return e}(e):[],o=s.length,a=s[0],h=s[o-1],l=[];if(o>r)return function(t,e,i,n){let r,s=0,o=i[0];for(n=Math.ceil(n),r=0;r<t.length;r++)r===o&&(e.push(t[r]),s++,o=i[s*n])}(e,l,s,o/r),l;const u=function(t,e,i){const n=function(t){const e=t.length;let i,n;if(e<2)return!1;for(n=t[0],i=1;i<e;++i)if(t[i]-t[i-1]!==n)return!1;return n}(t),r=e.length/i;if(!n)return Math.max(r,1);const s=gw(n);for(let t=0,e=s.length-1;t<e;t++){const e=s[t];if(e>r)return e}return Math.max(r,1)}(s,e,r);if(o>0){let t,i;const n=o>1?Math.round((h-a)/(o-1)):null;for(Zx(e,l,u,Nb(n)?0:a-n,a),t=0,i=o-1;t<i;t++)Zx(e,l,u,s[t],s[t+1]);return Zx(e,l,u,h,Nb(n)?e.length:h+n),l}return Zx(e,l,u),l}function Zx(t,e,i,n,r){const s=Fb(n,0),o=Math.min(Fb(r,t.length),t.length);let a,h,l,u=0;for(i=Math.ceil(i),r&&(a=r-n,i=a/Math.floor(a/i)),l=s;l<0;)u++,l=Math.round(s+u*i);for(h=Math.max(s,0);h<o;h++)h===l&&(e.push(t[h]),u++,l=Math.round(s+u*i))}const $x=t=>"left"===t?"right":"right"===t?"left":t,Xx=(t,e,i)=>"top"===e||"left"===e?t[e]+i:t[e]-i,Jx=(t,e)=>Math.min(e||t,t);function tk(t,e){const i=[],n=t.length/e,r=t.length;let s=0;for(;s<r;s+=n)i.push(t[Math.floor(s)]);return i}function ek(t,e,i){const n=t.ticks.length,r=Math.min(e,n-1),s=t._startPixel,o=t._endPixel,a=1e-6;let h,l=t.getPixelForTick(r);if(!(i&&(h=1===n?Math.max(l-s,o-l):0===e?(t.getPixelForTick(1)-l)/2:(l-t.getPixelForTick(r-1))/2,l+=r<e?h:-h,l<s-a||l>o+a)))return l}function ik(t){return t.drawTicks?t.tickLength:0}function nk(t,e){if(!t.display)return 0;const i=D_(t.font,e),n=R_(t.padding);return(Ob(t.text)?t.text.length:1)*i.lineHeight+n.height}function rk(t,e,i){let n=Fw(t);return(i&&"right"!==e||!i&&"right"===e)&&(n=$x(n)),n}class sk extends Qx{constructor(t){super(),this.id=t.id,this.type=t.type,this.options=void 0,this.ctx=t.ctx,this.chart=t.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(t){this.options=t.setContext(this.getContext()),this.axis=t.axis,this._userMin=this.parse(t.min),this._userMax=this.parse(t.max),this._suggestedMin=this.parse(t.suggestedMin),this._suggestedMax=this.parse(t.suggestedMax)}parse(t,e){return t}getUserBounds(){let{_userMin:t,_userMax:e,_suggestedMin:i,_suggestedMax:n}=this;return t=Ub(t,Number.POSITIVE_INFINITY),e=Ub(e,Number.NEGATIVE_INFINITY),i=Ub(i,Number.POSITIVE_INFINITY),n=Ub(n,Number.NEGATIVE_INFINITY),{min:Ub(t,i),max:Ub(e,n),minDefined:Bb(t),maxDefined:Bb(e)}}getMinMax(t){let e,{min:i,max:n,minDefined:r,maxDefined:s}=this.getUserBounds();if(r&&s)return{min:i,max:n};const o=this.getMatchingVisibleMetas();for(let a=0,h=o.length;a<h;++a)e=o[a].controller.getMinMax(this,t),r||(i=Math.min(i,e.min)),s||(n=Math.max(n,e.max));return i=s&&i>n?n:i,n=r&&i>n?i:n,{min:Ub(i,Ub(n,i)),max:Ub(n,Ub(i,n))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const t=this.chart.data;return this.options.labels||(this.isHorizontal()?t.xLabels:t.yLabels)||t.labels||[]}getLabelItems(t=this.chart.chartArea){return this._labelItems||(this._labelItems=this._computeLabelItems(t))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){zb(this.options.beforeUpdate,[this])}update(t,e,i){const{beginAtZero:n,grace:r,ticks:s}=this.options,o=s.sampleSize;this.beforeUpdate(),this.maxWidth=t,this.maxHeight=e,this._margins=i=Object.assign({left:0,right:0,top:0,bottom:0},i),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+i.left+i.right:this.height+i.top+i.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=N_(this,r,n),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const a=o<this.ticks.length;this._convertTicksToLabels(a?tk(this.ticks,o):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),s.display&&(s.autoSkip||"auto"===s.source)&&(this.ticks=Yx(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),a&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let t,e,i=this.options.reverse;this.isHorizontal()?(t=this.left,e=this.right):(t=this.top,e=this.bottom,i=!i),this._startPixel=t,this._endPixel=e,this._reversePixels=i,this._length=e-t,this._alignToPixels=this.options.alignToPixels}afterUpdate(){zb(this.options.afterUpdate,[this])}beforeSetDimensions(){zb(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){zb(this.options.afterSetDimensions,[this])}_callHooks(t){this.chart.notifyPlugins(t,this.getContext()),zb(this.options[t],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){zb(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(t){const e=this.options.ticks;let i,n,r;for(i=0,n=t.length;i<n;i++)r=t[i],r.label=zb(e.callback,[r.value,i,t],this)}afterTickToLabelConversion(){zb(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){zb(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const t=this.options,e=t.ticks,i=Jx(this.ticks.length,t.ticks.maxTicksLimit),n=e.minRotation||0,r=e.maxRotation;let s,o,a,h=n;if(!this._isVisible()||!e.display||n>=r||i<=1||!this.isHorizontal())return void(this.labelRotation=n);const l=this._getLabelSizes(),u=l.widest.width,c=l.highest.height,d=Tw(this.chart.width-u,0,this.maxWidth);s=t.offset?this.maxWidth/i:d/(i-1),u+6>s&&(s=d/(i-(t.offset?.5:1)),o=this.maxHeight-ik(t.grid)-e.padding-nk(t.title,this.chart.options.font),a=Math.sqrt(u*u+c*c),h=_w(Math.min(Math.asin(Tw((l.highest.height+6)/s,-1,1)),Math.asin(Tw(o/a,-1,1))-Math.asin(Tw(c/a,-1,1)))),h=Math.max(n,Math.min(r,h))),this.labelRotation=h}afterCalculateLabelRotation(){zb(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){zb(this.options.beforeFit,[this])}fit(){const t={width:0,height:0},{chart:e,options:{ticks:i,title:n,grid:r}}=this,s=this._isVisible(),o=this.isHorizontal();if(s){const s=nk(n,e.options.font);if(o?(t.width=this.maxWidth,t.height=ik(r)+s):(t.height=this.maxHeight,t.width=ik(r)+s),i.display&&this.ticks.length){const{first:e,last:n,widest:r,highest:s}=this._getLabelSizes(),a=2*i.padding,h=ww(this.labelRotation),l=Math.cos(h),u=Math.sin(h);if(o){const e=i.mirror?0:u*r.width+l*s.height;t.height=Math.min(this.maxHeight,t.height+e+a)}else{const e=i.mirror?0:l*r.width+u*s.height;t.width=Math.min(this.maxWidth,t.width+e+a)}this._calculatePadding(e,n,u,l)}}this._handleMargins(),o?(this.width=this._length=e.width-this._margins.left-this._margins.right,this.height=t.height):(this.width=t.width,this.height=this._length=e.height-this._margins.top-this._margins.bottom)}_calculatePadding(t,e,i,n){const{ticks:{align:r,padding:s},position:o}=this.options,a=0!==this.labelRotation,h="top"!==o&&"x"===this.axis;if(this.isHorizontal()){const o=this.getPixelForTick(0)-this.left,l=this.right-this.getPixelForTick(this.ticks.length-1);let u=0,c=0;a?h?(u=n*t.width,c=i*e.height):(u=i*t.height,c=n*e.width):"start"===r?c=e.width:"end"===r?u=t.width:"inner"!==r&&(u=t.width/2,c=e.width/2),this.paddingLeft=Math.max((u-o+s)*this.width/(this.width-o),0),this.paddingRight=Math.max((c-l+s)*this.width/(this.width-l),0)}else{let i=e.height/2,n=t.height/2;"start"===r?(i=0,n=t.height):"end"===r&&(i=e.height,n=0),this.paddingTop=i+s,this.paddingBottom=n+s}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){zb(this.options.afterFit,[this])}isHorizontal(){const{axis:t,position:e}=this.options;return"top"===e||"bottom"===e||"x"===t}isFullSize(){return this.options.fullSize}_convertTicksToLabels(t){let e,i;for(this.beforeTickToLabelConversion(),this.generateTickLabels(t),e=0,i=t.length;e<i;e++)Nb(t[e].label)&&(t.splice(e,1),i--,e--);this.afterTickToLabelConversion()}_getLabelSizes(){let t=this._labelSizes;if(!t){const e=this.options.ticks.sampleSize;let i=this.ticks;e<i.length&&(i=tk(i,e)),this._labelSizes=t=this._computeLabelSizes(i,i.length,this.options.ticks.maxTicksLimit)}return t}_computeLabelSizes(t,e,i){const{ctx:n,_longestTextCache:r}=this,s=[],o=[],a=Math.floor(e/Jx(e,i));let h,l,u,c,d,f,p,m,g,v,y,b=0,w=0;for(h=0;h<e;h+=a){if(c=t[h].label,d=this._resolveTickFontOptions(h),n.font=f=d.string,p=r[f]=r[f]||{data:{},gc:[]},m=d.lineHeight,g=v=0,Nb(c)||Ob(c)){if(Ob(c))for(l=0,u=c.length;l<u;++l)y=c[l],Nb(y)||Ob(y)||(g=u_(n,p.data,p.gc,g,y),v+=m)}else g=u_(n,p.data,p.gc,g,c),v=m;s.push(g),o.push(v),b=Math.max(g,b),w=Math.max(v,w)}!function(t,e){Vb(t,(t=>{const i=t.gc,n=i.length/2;let r;if(n>e){for(r=0;r<n;++r)delete t.data[i[r]];i.splice(0,n)}}))}(r,e);const _=s.indexOf(b),M=o.indexOf(w),x=t=>({width:s[t]||0,height:o[t]||0});return{first:x(0),last:x(e-1),widest:x(_),highest:x(M),widths:s,heights:o}}getLabelForValue(t){return t}getPixelForValue(t,e){return NaN}getValueForPixel(t){}getPixelForTick(t){const e=this.ticks;return t<0||t>e.length-1?null:this.getPixelForValue(e[t].value)}getPixelForDecimal(t){this._reversePixels&&(t=1-t);const e=this._startPixel+t*this._length;return Tw(this._alignToPixels?d_(this.chart,e,0):e,-32768,32767)}getDecimalForPixel(t){const e=(t-this._startPixel)/this._length;return this._reversePixels?1-e:e}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:t,max:e}=this;return t<0&&e<0?e:t>0&&e>0?t:0}getContext(t){const e=this.ticks||[];if(t>=0&&t<e.length){const i=e[t];return i.$context||(i.$context=function(t,e,i){return O_(t,{tick:i,index:e,type:"tick"})}(this.getContext(),t,i))}return this.$context||(this.$context=O_(this.chart.getContext(),{scale:this,type:"scale"}))}_tickSize(){const t=this.options.ticks,e=ww(this.labelRotation),i=Math.abs(Math.cos(e)),n=Math.abs(Math.sin(e)),r=this._getLabelSizes(),s=t.autoSkipPadding||0,o=r?r.widest.width+s:0,a=r?r.highest.height+s:0;return this.isHorizontal()?a*i>o*n?o/i:a/n:a*n<o*i?a/i:o/n}_isVisible(){const t=this.options.display;return"auto"!==t?!!t:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(t){const e=this.axis,i=this.chart,n=this.options,{grid:r,position:s,border:o}=n,a=r.offset,h=this.isHorizontal(),l=this.ticks.length+(a?1:0),u=ik(r),c=[],d=o.setContext(this.getContext()),f=d.display?d.width:0,p=f/2,m=function(t){return d_(i,t,f)};let g,v,y,b,w,_,M,x,k,A,E,S;if("top"===s)g=m(this.bottom),_=this.bottom-u,x=g-p,A=m(t.top)+p,S=t.bottom;else if("bottom"===s)g=m(this.top),A=t.top,S=m(t.bottom)-p,_=g+p,x=this.top+u;else if("left"===s)g=m(this.right),w=this.right-u,M=g-p,k=m(t.left)+p,E=t.right;else if("right"===s)g=m(this.left),k=t.left,E=m(t.right)-p,w=g+p,M=this.left+u;else if("x"===e){if("center"===s)g=m((t.top+t.bottom)/2+.5);else if(Pb(s)){const t=Object.keys(s)[0],e=s[t];g=m(this.chart.scales[t].getPixelForValue(e))}A=t.top,S=t.bottom,_=g+p,x=_+u}else if("y"===e){if("center"===s)g=m((t.left+t.right)/2);else if(Pb(s)){const t=Object.keys(s)[0],e=s[t];g=m(this.chart.scales[t].getPixelForValue(e))}w=g-p,M=w-u,k=t.left,E=t.right}const T=Fb(n.ticks.maxTicksLimit,l),I=Math.max(1,Math.ceil(l/T));for(v=0;v<l;v+=I){const t=this.getContext(v),e=r.setContext(t),n=o.setContext(t),s=e.lineWidth,l=e.color,u=n.dash||[],d=n.dashOffset,f=e.tickWidth,p=e.tickColor,m=e.tickBorderDash||[],g=e.tickBorderDashOffset;y=ek(this,v,a),void 0!==y&&(b=d_(i,y,s),h?w=M=k=E=b:_=x=A=S=b,c.push({tx1:w,ty1:_,tx2:M,ty2:x,x1:k,y1:A,x2:E,y2:S,width:s,color:l,borderDash:u,borderDashOffset:d,tickWidth:f,tickColor:p,tickBorderDash:m,tickBorderDashOffset:g}))}return this._ticksLength=l,this._borderValue=g,c}_computeLabelItems(t){const e=this.axis,i=this.options,{position:n,ticks:r}=i,s=this.isHorizontal(),o=this.ticks,{align:a,crossAlign:h,padding:l,mirror:u}=r,c=ik(i.grid),d=c+l,f=u?-l:d,p=-ww(this.labelRotation),m=[];let g,v,y,b,w,_,M,x,k,A,E,S,T="middle";if("top"===n)_=this.bottom-f,M=this._getXAxisLabelAlignment();else if("bottom"===n)_=this.top+f,M=this._getXAxisLabelAlignment();else if("left"===n){const t=this._getYAxisLabelAlignment(c);M=t.textAlign,w=t.x}else if("right"===n){const t=this._getYAxisLabelAlignment(c);M=t.textAlign,w=t.x}else if("x"===e){if("center"===n)_=(t.top+t.bottom)/2+d;else if(Pb(n)){const t=Object.keys(n)[0],e=n[t];_=this.chart.scales[t].getPixelForValue(e)+d}M=this._getXAxisLabelAlignment()}else if("y"===e){if("center"===n)w=(t.left+t.right)/2-d;else if(Pb(n)){const t=Object.keys(n)[0],e=n[t];w=this.chart.scales[t].getPixelForValue(e)}M=this._getYAxisLabelAlignment(c).textAlign}"y"===e&&("start"===a?T="top":"end"===a&&(T="bottom"));const I=this._getLabelSizes();for(g=0,v=o.length;g<v;++g){y=o[g],b=y.label;const t=r.setContext(this.getContext(g));x=this.getPixelForTick(g)+r.labelOffset,k=this._resolveTickFontOptions(g),A=k.lineHeight,E=Ob(b)?b.length:1;const e=E/2,i=t.color,a=t.textStrokeColor,l=t.textStrokeWidth;let c,d=M;if(s?(w=x,"inner"===M&&(d=g===v-1?this.options.reverse?"left":"right":0===g?this.options.reverse?"right":"left":"center"),S="top"===n?"near"===h||0!==p?-E*A+A/2:"center"===h?-I.highest.height/2-e*A+A:-I.highest.height+A/2:"near"===h||0!==p?A/2:"center"===h?I.highest.height/2-e*A:I.highest.height-E*A,u&&(S*=-1),0===p||t.showLabelBackdrop||(w+=A/2*Math.sin(p))):(_=x,S=(1-E)*A/2),t.showLabelBackdrop){const e=R_(t.backdropPadding),i=I.heights[g],n=I.widths[g];let r=S-e.top,s=0-e.left;switch(T){case"middle":r-=i/2;break;case"bottom":r-=i}switch(M){case"center":s-=n/2;break;case"right":s-=n}c={left:s,top:r,width:n+e.width,height:i+e.height,color:t.backdropColor}}m.push({label:b,font:k,textOffset:S,options:{rotation:p,color:i,strokeColor:a,strokeWidth:l,textAlign:d,textBaseline:T,translation:[w,_],backdrop:c}})}return m}_getXAxisLabelAlignment(){const{position:t,ticks:e}=this.options;if(-ww(this.labelRotation))return"top"===t?"left":"right";let i="center";return"start"===e.align?i="left":"end"===e.align?i="right":"inner"===e.align&&(i="inner"),i}_getYAxisLabelAlignment(t){const{position:e,ticks:{crossAlign:i,mirror:n,padding:r}}=this.options,s=t+r,o=this._getLabelSizes().widest.width;let a,h;return"left"===e?n?(h=this.right+r,"near"===i?a="left":"center"===i?(a="center",h+=o/2):(a="right",h+=o)):(h=this.right-s,"near"===i?a="right":"center"===i?(a="center",h-=o/2):(a="left",h=this.left)):"right"===e?n?(h=this.left+r,"near"===i?a="right":"center"===i?(a="center",h-=o/2):(a="left",h-=o)):(h=this.left+s,"near"===i?a="left":"center"===i?(a="center",h+=o/2):(a="right",h=this.right)):a="right",{textAlign:a,x:h}}_computeLabelArea(){if(this.options.ticks.mirror)return;const t=this.chart,e=this.options.position;return"left"===e||"right"===e?{top:0,left:this.left,bottom:t.height,right:this.right}:"top"===e||"bottom"===e?{top:this.top,left:0,bottom:this.bottom,right:t.width}:void 0}drawBackground(){const{ctx:t,options:{backgroundColor:e},left:i,top:n,width:r,height:s}=this;e&&(t.save(),t.fillStyle=e,t.fillRect(i,n,r,s),t.restore())}getLineWidthForValue(t){const e=this.options.grid;if(!this._isVisible()||!e.display)return 0;const i=this.ticks.findIndex((e=>e.value===t));if(i>=0){return e.setContext(this.getContext(i)).lineWidth}return 0}drawGrid(t){const e=this.options.grid,i=this.ctx,n=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(t));let r,s;const o=(t,e,n)=>{n.width&&n.color&&(i.save(),i.lineWidth=n.width,i.strokeStyle=n.color,i.setLineDash(n.borderDash||[]),i.lineDashOffset=n.borderDashOffset,i.beginPath(),i.moveTo(t.x,t.y),i.lineTo(e.x,e.y),i.stroke(),i.restore())};if(e.display)for(r=0,s=n.length;r<s;++r){const t=n[r];e.drawOnChartArea&&o({x:t.x1,y:t.y1},{x:t.x2,y:t.y2},t),e.drawTicks&&o({x:t.tx1,y:t.ty1},{x:t.tx2,y:t.ty2},{color:t.tickColor,width:t.tickWidth,borderDash:t.tickBorderDash,borderDashOffset:t.tickBorderDashOffset})}}drawBorder(){const{chart:t,ctx:e,options:{border:i,grid:n}}=this,r=i.setContext(this.getContext()),s=i.display?r.width:0;if(!s)return;const o=n.setContext(this.getContext(0)).lineWidth,a=this._borderValue;let h,l,u,c;this.isHorizontal()?(h=d_(t,this.left,s)-s/2,l=d_(t,this.right,o)+o/2,u=c=a):(u=d_(t,this.top,s)-s/2,c=d_(t,this.bottom,o)+o/2,h=l=a),e.save(),e.lineWidth=r.width,e.strokeStyle=r.color,e.beginPath(),e.moveTo(h,u),e.lineTo(l,c),e.stroke(),e.restore()}drawLabels(t){if(!this.options.ticks.display)return;const e=this.ctx,i=this._computeLabelArea();i&&v_(e,i);const n=this.getLabelItems(t);for(const t of n){const i=t.options,n=t.font;x_(e,t.label,0,t.textOffset,n,i)}i&&y_(e)}drawTitle(){const{ctx:t,options:{position:e,title:i,reverse:n}}=this;if(!i.display)return;const r=D_(i.font),s=R_(i.padding),o=i.align;let a=r.lineHeight/2;"bottom"===e||"center"===e||Pb(e)?(a+=s.bottom,Ob(i.text)&&(a+=r.lineHeight*(i.text.length-1))):a+=s.top;const{titleX:h,titleY:l,maxWidth:u,rotation:c}=function(t,e,i,n){const{top:r,left:s,bottom:o,right:a,chart:h}=t,{chartArea:l,scales:u}=h;let c,d,f,p=0;const m=o-r,g=a-s;if(t.isHorizontal()){if(d=jw(n,s,a),Pb(i)){const t=Object.keys(i)[0],n=i[t];f=u[t].getPixelForValue(n)+m-e}else f="center"===i?(l.bottom+l.top)/2+m-e:Xx(t,i,e);c=a-s}else{if(Pb(i)){const t=Object.keys(i)[0],n=i[t];d=u[t].getPixelForValue(n)-g+e}else d="center"===i?(l.left+l.right)/2-g+e:Xx(t,i,e);f=jw(n,o,r),p="left"===i?-lw:lw}return{titleX:d,titleY:f,maxWidth:c,rotation:p}}(this,a,e,o);x_(t,i.text,0,0,r,{color:i.color,maxWidth:u,rotation:c,textAlign:rk(o,e,n),textBaseline:"middle",translation:[h,l]})}draw(t){this._isVisible()&&(this.drawBackground(),this.drawGrid(t),this.drawBorder(),this.drawTitle(),this.drawLabels(t))}_layers(){const t=this.options,e=t.ticks&&t.ticks.z||0,i=Fb(t.grid&&t.grid.z,-1),n=Fb(t.border&&t.border.z,0);return this._isVisible()&&this.draw===sk.prototype.draw?[{z:i,draw:t=>{this.drawBackground(),this.drawGrid(t),this.drawTitle()}},{z:n,draw:()=>{this.drawBorder()}},{z:e,draw:t=>{this.drawLabels(t)}}]:[{z:e,draw:t=>{this.draw(t)}}]}getMatchingVisibleMetas(t){const e=this.chart.getSortedVisibleDatasetMetas(),i=this.axis+"AxisID",n=[];let r,s;for(r=0,s=e.length;r<s;++r){const s=e[r];s[i]!==this.id||t&&s.type!==t||n.push(s)}return n}_resolveTickFontOptions(t){return D_(this.options.ticks.setContext(this.getContext(t)).font)}_maxDigits(){const t=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/t}}class ok{constructor(t,e,i){this.type=t,this.scope=e,this.override=i,this.items=Object.create(null)}isForType(t){return Object.prototype.isPrototypeOf.call(this.type.prototype,t.prototype)}register(t){const e=Object.getPrototypeOf(t);let i;(function(t){return"id"in t&&"defaults"in t})(e)&&(i=this.register(e));const n=this.items,r=t.id,s=this.scope+"."+r;if(!r)throw new Error("class does not have id: "+t);return r in n||(n[r]=t,function(t,e,i){const n=Qb(Object.create(null),[i?l_.get(i):{},l_.get(e),t.defaults]);l_.set(e,n),t.defaultRoutes&&function(t,e){Object.keys(e).forEach((i=>{const n=i.split("."),r=n.pop(),s=[t].concat(n).join("."),o=e[i].split("."),a=o.pop(),h=o.join(".");l_.route(s,r,h,a)}))}(e,t.defaultRoutes);t.descriptors&&l_.describe(e,t.descriptors)}(t,s,i),this.override&&l_.override(t.id,t.overrides)),s}get(t){return this.items[t]}unregister(t){const e=this.items,i=t.id,n=this.scope;i in e&&delete e[i],n&&i in l_[n]&&(delete l_[n][i],this.override&&delete r_[i])}}class ak{constructor(){this.controllers=new ok(ZM,"datasets",!0),this.elements=new ok(Qx,"elements"),this.plugins=new ok(Object,"plugins"),this.scales=new ok(sk,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...t){this._each("register",t)}remove(...t){this._each("unregister",t)}addControllers(...t){this._each("register",t,this.controllers)}addElements(...t){this._each("register",t,this.elements)}addPlugins(...t){this._each("register",t,this.plugins)}addScales(...t){this._each("register",t,this.scales)}getController(t){return this._get(t,this.controllers,"controller")}getElement(t){return this._get(t,this.elements,"element")}getPlugin(t){return this._get(t,this.plugins,"plugin")}getScale(t){return this._get(t,this.scales,"scale")}removeControllers(...t){this._each("unregister",t,this.controllers)}removeElements(...t){this._each("unregister",t,this.elements)}removePlugins(...t){this._each("unregister",t,this.plugins)}removeScales(...t){this._each("unregister",t,this.scales)}_each(t,e,i){[...e].forEach((e=>{const n=i||this._getRegistryForType(e);i||n.isForType(e)||n===this.plugins&&e.id?this._exec(t,n,e):Vb(e,(e=>{const n=i||this._getRegistryForType(e);this._exec(t,n,e)}))}))}_exec(t,e,i){const n=Jb(t);zb(i["before"+n],[],i),e[t](i),zb(i["after"+n],[],i)}_getRegistryForType(t){for(let e=0;e<this._typedRegistries.length;e++){const i=this._typedRegistries[e];if(i.isForType(t))return i}return this.plugins}_get(t,e,i){const n=e.get(t);if(void 0===n)throw new Error('"'+t+'" is not a registered '+i+".");return n}}var hk=new ak;class lk{constructor(){this._init=[]}notify(t,e,i,n){"beforeInit"===e&&(this._init=this._createDescriptors(t,!0),this._notify(this._init,t,"install"));const r=n?this._descriptors(t).filter(n):this._descriptors(t),s=this._notify(r,t,e,i);return"afterDestroy"===e&&(this._notify(r,t,"stop"),this._notify(this._init,t,"uninstall")),s}_notify(t,e,i,n){n=n||{};for(const r of t){const t=r.plugin;if(!1===zb(t[i],[e,n,r.options],t)&&n.cancelable)return!1}return!0}invalidate(){Nb(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(t){if(this._cache)return this._cache;const e=this._cache=this._createDescriptors(t);return this._notifyStateChanges(t),e}_createDescriptors(t,e){const i=t&&t.config,n=Fb(i.options&&i.options.plugins,{}),r=function(t){const e={},i=[],n=Object.keys(hk.plugins.items);for(let t=0;t<n.length;t++)i.push(hk.getPlugin(n[t]));const r=t.plugins||[];for(let t=0;t<r.length;t++){const n=r[t];-1===i.indexOf(n)&&(i.push(n),e[n.id]=!0)}return{plugins:i,localIds:e}}(i);return!1!==n||e?function(t,{plugins:e,localIds:i},n,r){const s=[],o=t.getContext();for(const a of e){const e=a.id,h=uk(n[e],r);null!==h&&s.push({plugin:a,options:ck(t.config,{plugin:a,local:i[e]},h,o)})}return s}(t,r,n,e):[]}_notifyStateChanges(t){const e=this._oldCache||[],i=this._cache,n=(t,e)=>t.filter((t=>!e.some((e=>t.plugin.id===e.plugin.id))));this._notify(n(e,i),t,"stop"),this._notify(n(i,e),t,"start")}}function uk(t,e){return e||!1!==t?!0===t?{}:t:null}function ck(t,{plugin:e,local:i},n,r){const s=t.pluginScopeKeys(e),o=t.getOptionScopes(n,s);return i&&e.defaults&&o.push(e.defaults),t.createResolver(o,r,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function dk(t,e){const i=l_.datasets[t]||{};return((e.datasets||{})[t]||{}).indexAxis||e.indexAxis||i.indexAxis||"x"}function fk(t){if("x"===t||"y"===t||"r"===t)return t}function pk(t,...e){if(fk(t))return t;for(const n of e){const e=n.axis||("top"===(i=n.position)||"bottom"===i?"x":"left"===i||"right"===i?"y":void 0)||t.length>1&&fk(t[0].toLowerCase());if(e)return e}var i;throw new Error(`Cannot determine type of '${t}' axis. Please provide 'axis' or 'position' option.`)}function mk(t,e,i){if(i[e+"AxisID"]===t)return{axis:e}}function gk(t,e){const i=r_[t.type]||{scales:{}},n=e.scales||{},r=dk(t.type,e),s=Object.create(null);return Object.keys(n).forEach((e=>{const o=n[e];if(!Pb(o))return console.error(`Invalid scale configuration for scale: ${e}`);if(o._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${e}`);const a=pk(e,o,function(t,e){if(e.data&&e.data.datasets){const i=e.data.datasets.filter((e=>e.xAxisID===t||e.yAxisID===t));if(i.length)return mk(t,"x",i[0])||mk(t,"y",i[0])}return{}}(e,t),l_.scales[o.type]),h=function(t,e){return t===e?"_index_":"_value_"}(a,r),l=i.scales||{};s[e]=Yb(Object.create(null),[{axis:a},o,l[a],l[h]])})),t.data.datasets.forEach((i=>{const r=i.type||t.type,o=i.indexAxis||dk(r,e),a=(r_[r]||{}).scales||{};Object.keys(a).forEach((t=>{const e=function(t,e){let i=t;return"_index_"===t?i=e:"_value_"===t&&(i="x"===e?"y":"x"),i}(t,o),r=i[e+"AxisID"]||e;s[r]=s[r]||Object.create(null),Yb(s[r],[{axis:e},n[r],a[t]])}))})),Object.keys(s).forEach((t=>{const e=s[t];Yb(e,[l_.scales[e.type],l_.scale])})),s}function vk(t){const e=t.options||(t.options={});e.plugins=Fb(e.plugins,{}),e.scales=gk(t,e)}function yk(t){return(t=t||{}).datasets=t.datasets||[],t.labels=t.labels||[],t}const bk=new Map,wk=new Set;function _k(t,e){let i=bk.get(t);return i||(i=e(),bk.set(t,i),wk.add(i)),i}const Mk=(t,e,i)=>{const n=Xb(e,i);void 0!==n&&t.add(n)};class xk{constructor(t){this._config=function(t){return(t=t||{}).data=yk(t.data),vk(t),t}(t),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(t){this._config.type=t}get data(){return this._config.data}set data(t){this._config.data=yk(t)}get options(){return this._config.options}set options(t){this._config.options=t}get plugins(){return this._config.plugins}update(){const t=this._config;this.clearCache(),vk(t)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(t){return _k(t,(()=>[[`datasets.${t}`,""]]))}datasetAnimationScopeKeys(t,e){return _k(`${t}.transition.${e}`,(()=>[[`datasets.${t}.transitions.${e}`,`transitions.${e}`],[`datasets.${t}`,""]]))}datasetElementScopeKeys(t,e){return _k(`${t}-${e}`,(()=>[[`datasets.${t}.elements.${e}`,`datasets.${t}`,`elements.${e}`,""]]))}pluginScopeKeys(t){const e=t.id;return _k(`${this.type}-plugin-${e}`,(()=>[[`plugins.${e}`,...t.additionalOptionScopes||[]]]))}_cachedScopes(t,e){const i=this._scopeCache;let n=i.get(t);return n&&!e||(n=new Map,i.set(t,n)),n}getOptionScopes(t,e,i){const{options:n,type:r}=this,s=this._cachedScopes(t,i),o=s.get(e);if(o)return o;const a=new Set;e.forEach((e=>{t&&(a.add(t),e.forEach((e=>Mk(a,t,e)))),e.forEach((t=>Mk(a,n,t))),e.forEach((t=>Mk(a,r_[r]||{},t))),e.forEach((t=>Mk(a,l_,t))),e.forEach((t=>Mk(a,s_,t)))}));const h=Array.from(a);return 0===h.length&&h.push(Object.create(null)),wk.has(e)&&s.set(e,h),h}chartOptionScopes(){const{options:t,type:e}=this;return[t,r_[e]||{},l_.datasets[e]||{},{type:e},l_,s_]}resolveNamedOptions(t,e,i,n=[""]){const r={$shared:!0},{resolver:s,subPrefixes:o}=kk(this._resolverCache,t,n);let a=s;if(function(t,e){const{isScriptable:i,isIndexable:n}=U_(t);for(const r of e){const e=i(r),s=n(r),o=(s||e)&&t[r];if(e&&(ew(o)||Ak(o))||s&&Ob(o))return!0}return!1}(s,e)){r.$shared=!1;a=B_(s,i=ew(i)?i():i,this.createResolver(t,i,o))}for(const t of e)r[t]=a[t];return r}createResolver(t,e,i=[""],n){const{resolver:r}=kk(this._resolverCache,t,i);return Pb(e)?B_(r,e,void 0,n):r}}function kk(t,e,i){let n=t.get(e);n||(n=new Map,t.set(e,n));const r=i.join();let s=n.get(r);if(!s){s={resolver:P_(e,i),subPrefixes:i.filter((t=>!t.toLowerCase().includes("hover")))},n.set(r,s)}return s}const Ak=t=>Pb(t)&&Object.getOwnPropertyNames(t).reduce(((e,i)=>e||ew(t[i])),!1);const Ek=["top","bottom","left","right","chartArea"];function Sk(t,e){return"top"===t||"bottom"===t||-1===Ek.indexOf(t)&&"x"===e}function Tk(t,e){return function(i,n){return i[t]===n[t]?i[e]-n[e]:i[t]-n[t]}}function Ik(t){const e=t.chart,i=e.options.animation;e.notifyPlugins("afterRender"),zb(i&&i.onComplete,[t],e)}function qk(t){const e=t.chart,i=e.options.animation;zb(i&&i.onProgress,[t],e)}function Ck(t){return rM()&&"string"==typeof t?t=document.getElementById(t):t&&t.length&&(t=t[0]),t&&t.canvas&&(t=t.canvas),t}const Rk={},Dk=t=>{const e=Ck(t);return Object.values(Rk).filter((t=>t.canvas===e)).pop()};function Lk(t,e,i){const n=Object.keys(t);for(const r of n){const n=+r;if(n>=e){const s=t[r];delete t[r],(i>0||n>e)&&(t[n+i]=s)}}}class Nk{static defaults=l_;static instances=Rk;static overrides=r_;static registry=hk;static version="4.3.0";static getChart=Dk;static register(...t){hk.add(...t),Ok()}static unregister(...t){hk.remove(...t),Ok()}constructor(t,e){const i=this.config=new xk(e),n=Ck(t),r=Dk(n);if(r)throw new Error("Canvas is already in use. Chart with ID '"+r.id+"' must be destroyed before the canvas with ID '"+r.canvas.id+"' can be reused.");const s=i.createResolver(i.chartOptionScopes(),this.getContext());this.platform=new(i.platform||function(t){return!rM()||"undefined"!=typeof OffscreenCanvas&&t instanceof OffscreenCanvas?Rx:Gx}(n)),this.platform.updateConfig(i);const o=this.platform.acquireContext(n,s.aspectRatio),a=o&&o.canvas,h=a&&a.height,l=a&&a.width;this.id=Lb(),this.ctx=o,this.canvas=a,this.width=l,this.height=h,this._options=s,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new lk,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=Uw((t=>this.update(t)),s.resizeDelay||0),this._dataChanges=[],Rk[this.id]=this,o&&a?(LM.listen(this,"complete",Ik),LM.listen(this,"progress",qk),this._initialize(),this.attached&&this.update()):console.error("Failed to create chart: can't acquire context from the given item")}get aspectRatio(){const{options:{aspectRatio:t,maintainAspectRatio:e},width:i,height:n,_aspectRatio:r}=this;return Nb(t)?e&&r?r:n?i/n:null:t}get data(){return this.config.data}set data(t){this.config.data=t}get options(){return this._options}set options(t){this.config.options=t}get registry(){return hk}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():pM(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return f_(this.canvas,this.ctx),this}stop(){return LM.stop(this),this}resize(t,e){LM.running(this)?this._resizeBeforeDraw={width:t,height:e}:this._resize(t,e)}_resize(t,e){const i=this.options,n=this.canvas,r=i.maintainAspectRatio&&this.aspectRatio,s=this.platform.getMaximumSize(n,t,e,r),o=i.devicePixelRatio||this.platform.getDevicePixelRatio(),a=this.width?"resize":"attach";this.width=s.width,this.height=s.height,this._aspectRatio=this.aspectRatio,pM(this,o,!0)&&(this.notifyPlugins("resize",{size:s}),zb(i.onResize,[this,s],this),this.attached&&this._doResize(a)&&this.render())}ensureScalesHaveIDs(){Vb(this.options.scales||{},((t,e)=>{t.id=e}))}buildOrUpdateScales(){const t=this.options,e=t.scales,i=this.scales,n=Object.keys(i).reduce(((t,e)=>(t[e]=!1,t)),{});let r=[];e&&(r=r.concat(Object.keys(e).map((t=>{const i=e[t],n=pk(t,i),r="r"===n,s="x"===n;return{options:i,dposition:r?"chartArea":s?"bottom":"left",dtype:r?"radialLinear":s?"category":"linear"}})))),Vb(r,(e=>{const r=e.options,s=r.id,o=pk(s,r),a=Fb(r.type,e.dtype);void 0!==r.position&&Sk(r.position,o)===Sk(e.dposition)||(r.position=e.dposition),n[s]=!0;let h=null;if(s in i&&i[s].type===a)h=i[s];else{h=new(hk.getScale(a))({id:s,type:a,ctx:this.ctx,chart:this}),i[h.id]=h}h.init(r,t)})),Vb(n,((t,e)=>{t||delete i[e]})),Vb(i,(t=>{qx.configure(this,t,t.options),qx.addBox(this,t)}))}_updateMetasets(){const t=this._metasets,e=this.data.datasets.length,i=t.length;if(t.sort(((t,e)=>t.index-e.index)),i>e){for(let t=e;t<i;++t)this._destroyDatasetMeta(t);t.splice(e,i-e)}this._sortedMetasets=t.slice(0).sort(Tk("order","index"))}_removeUnreferencedMetasets(){const{_metasets:t,data:{datasets:e}}=this;t.length>e.length&&delete this._stacks,t.forEach(((t,i)=>{0===e.filter((e=>e===t._dataset)).length&&this._destroyDatasetMeta(i)}))}buildOrUpdateControllers(){const t=[],e=this.data.datasets;let i,n;for(this._removeUnreferencedMetasets(),i=0,n=e.length;i<n;i++){const n=e[i];let r=this.getDatasetMeta(i);const s=n.type||this.config.type;if(r.type&&r.type!==s&&(this._destroyDatasetMeta(i),r=this.getDatasetMeta(i)),r.type=s,r.indexAxis=n.indexAxis||dk(s,this.options),r.order=n.order||0,r.index=i,r.label=""+n.label,r.visible=this.isDatasetVisible(i),r.controller)r.controller.updateIndex(i),r.controller.linkScales();else{const e=hk.getController(s),{datasetElementType:n,dataElementType:o}=l_.datasets[s];Object.assign(e,{dataElementType:hk.getElement(o),datasetElementType:n&&hk.getElement(n)}),r.controller=new e(this,i),t.push(r.controller)}}return this._updateMetasets(),t}_resetElements(){Vb(this.data.datasets,((t,e)=>{this.getDatasetMeta(e).controller.reset()}),this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(t){const e=this.config;e.update();const i=this._options=e.createResolver(e.chartOptionScopes(),this.getContext()),n=this._animationsDisabled=!i.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),!1===this.notifyPlugins("beforeUpdate",{mode:t,cancelable:!0}))return;const r=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let s=0;for(let t=0,e=this.data.datasets.length;t<e;t++){const{controller:e}=this.getDatasetMeta(t),i=!n&&-1===r.indexOf(e);e.buildOrUpdateElements(i),s=Math.max(+e.getMaxOverflow(),s)}s=this._minPadding=i.layout.autoPadding?s:0,this._updateLayout(s),n||Vb(r,(t=>{t.reset()})),this._updateDatasets(t),this.notifyPlugins("afterUpdate",{mode:t}),this._layers.sort(Tk("z","_idx"));const{_active:o,_lastEvent:a}=this;a?this._eventHandler(a,!0):o.length&&this._updateHoverStyles(o,o,!0),this.render()}_updateScales(){Vb(this.scales,(t=>{qx.removeBox(this,t)})),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const t=this.options,e=new Set(Object.keys(this._listeners)),i=new Set(t.events);iw(e,i)&&!!this._responsiveListeners===t.responsive||(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:t}=this,e=this._getUniformDataChanges()||[];for(const{method:i,start:n,count:r}of e){Lk(t,n,"_removeElements"===i?-r:r)}}_getUniformDataChanges(){const t=this._dataChanges;if(!t||!t.length)return;this._dataChanges=[];const e=this.data.datasets.length,i=e=>new Set(t.filter((t=>t[0]===e)).map(((t,e)=>e+","+t.splice(1).join(",")))),n=i(0);for(let t=1;t<e;t++)if(!iw(n,i(t)))return;return Array.from(n).map((t=>t.split(","))).map((t=>({method:t[1],start:+t[2],count:+t[3]})))}_updateLayout(t){if(!1===this.notifyPlugins("beforeLayout",{cancelable:!0}))return;qx.update(this,this.width,this.height,t);const e=this.chartArea,i=e.width<=0||e.height<=0;this._layers=[],Vb(this.boxes,(t=>{i&&"chartArea"===t.position||(t.configure&&t.configure(),this._layers.push(...t._layers()))}),this),this._layers.forEach(((t,e)=>{t._idx=e})),this.notifyPlugins("afterLayout")}_updateDatasets(t){if(!1!==this.notifyPlugins("beforeDatasetsUpdate",{mode:t,cancelable:!0})){for(let t=0,e=this.data.datasets.length;t<e;++t)this.getDatasetMeta(t).controller.configure();for(let e=0,i=this.data.datasets.length;e<i;++e)this._updateDataset(e,ew(t)?t({datasetIndex:e}):t);this.notifyPlugins("afterDatasetsUpdate",{mode:t})}}_updateDataset(t,e){const i=this.getDatasetMeta(t),n={meta:i,index:t,mode:e,cancelable:!0};!1!==this.notifyPlugins("beforeDatasetUpdate",n)&&(i.controller._update(e),n.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",n))}render(){!1!==this.notifyPlugins("beforeRender",{cancelable:!0})&&(LM.has(this)?this.attached&&!LM.running(this)&&LM.start(this):(this.draw(),Ik({chart:this})))}draw(){let t;if(this._resizeBeforeDraw){const{width:t,height:e}=this._resizeBeforeDraw;this._resize(t,e),this._resizeBeforeDraw=null}if(this.clear(),this.width<=0||this.height<=0)return;if(!1===this.notifyPlugins("beforeDraw",{cancelable:!0}))return;const e=this._layers;for(t=0;t<e.length&&e[t].z<=0;++t)e[t].draw(this.chartArea);for(this._drawDatasets();t<e.length;++t)e[t].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(t){const e=this._sortedMetasets,i=[];let n,r;for(n=0,r=e.length;n<r;++n){const r=e[n];t&&!r.visible||i.push(r)}return i}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(!1===this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0}))return;const t=this.getSortedVisibleDatasetMetas();for(let e=t.length-1;e>=0;--e)this._drawDataset(t[e]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(t){const e=this.ctx,i=t._clip,n=!i.disabled,r=function(t){const{xScale:e,yScale:i}=t;if(e&&i)return{left:e.left,right:e.right,top:i.top,bottom:i.bottom}}(t)||this.chartArea,s={meta:t,index:t.index,cancelable:!0};!1!==this.notifyPlugins("beforeDatasetDraw",s)&&(n&&v_(e,{left:!1===i.left?0:r.left-i.left,right:!1===i.right?this.width:r.right+i.right,top:!1===i.top?0:r.top-i.top,bottom:!1===i.bottom?this.height:r.bottom+i.bottom}),t.controller.draw(),n&&y_(e),s.cancelable=!1,this.notifyPlugins("afterDatasetDraw",s))}isPointInArea(t){return g_(t,this.chartArea,this._minPadding)}getElementsAtEventForMode(t,e,i,n){const r=vx.modes[e];return"function"==typeof r?r(this,t,i,n):[]}getDatasetMeta(t){const e=this.data.datasets[t],i=this._metasets;let n=i.filter((t=>t&&t._dataset===e)).pop();return n||(n={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:e&&e.order||0,index:t,_dataset:e,_parsed:[],_sorted:!1},i.push(n)),n}getContext(){return this.$context||(this.$context=O_(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(t){const e=this.data.datasets[t];if(!e)return!1;const i=this.getDatasetMeta(t);return"boolean"==typeof i.hidden?!i.hidden:!e.hidden}setDatasetVisibility(t,e){this.getDatasetMeta(t).hidden=!e}toggleDataVisibility(t){this._hiddenIndices[t]=!this._hiddenIndices[t]}getDataVisibility(t){return!this._hiddenIndices[t]}_updateVisibility(t,e,i){const n=i?"show":"hide",r=this.getDatasetMeta(t),s=r.controller._resolveAnimations(void 0,n);tw(e)?(r.data[e].hidden=!i,this.update()):(this.setDatasetVisibility(t,i),s.update(r,{visible:i}),this.update((e=>e.datasetIndex===t?n:void 0)))}hide(t,e){this._updateVisibility(t,e,!1)}show(t,e){this._updateVisibility(t,e,!0)}_destroyDatasetMeta(t){const e=this._metasets[t];e&&e.controller&&e.controller._destroy(),delete this._metasets[t]}_stop(){let t,e;for(this.stop(),LM.remove(this),t=0,e=this.data.datasets.length;t<e;++t)this._destroyDatasetMeta(t)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:t,ctx:e}=this;this._stop(),this.config.clearCache(),t&&(this.unbindEvents(),f_(t,e),this.platform.releaseContext(e),this.canvas=null,this.ctx=null),delete Rk[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...t){return this.canvas.toDataURL(...t)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const t=this._listeners,e=this.platform,i=(i,n)=>{e.addEventListener(this,i,n),t[i]=n},n=(t,e,i)=>{t.offsetX=e,t.offsetY=i,this._eventHandler(t)};Vb(this.options.events,(t=>i(t,n)))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const t=this._responsiveListeners,e=this.platform,i=(i,n)=>{e.addEventListener(this,i,n),t[i]=n},n=(i,n)=>{t[i]&&(e.removeEventListener(this,i,n),delete t[i])},r=(t,e)=>{this.canvas&&this.resize(t,e)};let s;const o=()=>{n("attach",o),this.attached=!0,this.resize(),i("resize",r),i("detach",s)};s=()=>{this.attached=!1,n("resize",r),this._stop(),this._resize(0,0),i("attach",o)},e.isAttached(this.canvas)?o():s()}unbindEvents(){Vb(this._listeners,((t,e)=>{this.platform.removeEventListener(this,e,t)})),this._listeners={},Vb(this._responsiveListeners,((t,e)=>{this.platform.removeEventListener(this,e,t)})),this._responsiveListeners=void 0}updateHoverStyle(t,e,i){const n=i?"set":"remove";let r,s,o,a;for("dataset"===e&&(r=this.getDatasetMeta(t[0].datasetIndex),r.controller["_"+n+"DatasetHoverStyle"]()),o=0,a=t.length;o<a;++o){s=t[o];const e=s&&this.getDatasetMeta(s.datasetIndex).controller;e&&e[n+"HoverStyle"](s.element,s.datasetIndex,s.index)}}getActiveElements(){return this._active||[]}setActiveElements(t){const e=this._active||[],i=t.map((({datasetIndex:t,index:e})=>{const i=this.getDatasetMeta(t);if(!i)throw new Error("No dataset found at index "+t);return{datasetIndex:t,element:i.data[e],index:e}}));!Hb(i,e)&&(this._active=i,this._lastEvent=null,this._updateHoverStyles(i,e))}notifyPlugins(t,e,i){return this._plugins.notify(this,t,e,i)}isPluginEnabled(t){return 1===this._plugins._cache.filter((e=>e.plugin.id===t)).length}_updateHoverStyles(t,e,i){const n=this.options.hover,r=(t,e)=>t.filter((t=>!e.some((e=>t.datasetIndex===e.datasetIndex&&t.index===e.index)))),s=r(e,t),o=i?t:r(t,e);s.length&&this.updateHoverStyle(s,n.mode,!1),o.length&&n.mode&&this.updateHoverStyle(o,n.mode,!0)}_eventHandler(t,e){const i={event:t,replay:e,cancelable:!0,inChartArea:this.isPointInArea(t)},n=e=>(e.options.events||this.options.events).includes(t.native.type);if(!1===this.notifyPlugins("beforeEvent",i,n))return;const r=this._handleEvent(t,e,i.inChartArea);return i.cancelable=!1,this.notifyPlugins("afterEvent",i,n),(r||i.changed)&&this.render(),this}_handleEvent(t,e,i){const{_active:n=[],options:r}=this,s=e,o=this._getActiveElements(t,n,i,s),a=nw(t),h=function(t,e,i,n){return i&&"mouseout"!==t.type?n?e:t:null}(t,this._lastEvent,i,a);i&&(this._lastEvent=null,zb(r.onHover,[t,o,this],this),a&&zb(r.onClick,[t,o,this],this));const l=!Hb(o,n);return(l||e)&&(this._active=o,this._updateHoverStyles(o,n,e)),this._lastEvent=h,l}_getActiveElements(t,e,i,n){if("mouseout"===t.type)return[];if(!i)return e;const r=this.options.hover;return this.getElementsAtEventForMode(t,r.mode,r,n)}}function Ok(){return Vb(Nk.instances,(t=>t._plugins.invalidate()))}function Pk(t,e,i,n){const r=I_(t.options.borderRadius,["outerStart","outerEnd","innerStart","innerEnd"]);const s=(i-e)/2,o=Math.min(s,n*e/2),a=t=>{const e=(i-Math.min(s,t))*n/2;return Tw(t,0,Math.min(s,e))};return{outerStart:a(r.outerStart),outerEnd:a(r.outerEnd),innerStart:Tw(r.innerStart,0,o),innerEnd:Tw(r.innerEnd,0,o)}}function Bk(t,e,i,n){return{x:i+t*Math.cos(e),y:n+t*Math.sin(e)}}function Uk(t,e,i,n,r,s){const{x:o,y:a,startAngle:h,pixelMargin:l,innerRadius:u}=e,c=Math.max(e.outerRadius+n+i-l,0),d=u>0?u+n+i+l:0;let f=0;const p=r-h;if(n){const t=((u>0?u-n:0)+(c>0?c-n:0))/2;f=(p-(0!==t?p*t/(t+n):p))/2}const m=(p-Math.max(.001,p*c-i/rw)/c)/2,g=h+m+f,v=r-m-f,{outerStart:y,outerEnd:b,innerStart:w,innerEnd:_}=Pk(e,d,c,v-g),M=c-y,x=c-b,k=g+y/M,A=v-b/x,E=d+w,S=d+_,T=g+w/E,I=v-_/S;if(t.beginPath(),s){const e=(k+A)/2;if(t.arc(o,a,c,k,e),t.arc(o,a,c,e,A),b>0){const e=Bk(x,A,o,a);t.arc(e.x,e.y,b,A,v+lw)}const i=Bk(S,v,o,a);if(t.lineTo(i.x,i.y),_>0){const e=Bk(S,I,o,a);t.arc(e.x,e.y,_,v+lw,I+Math.PI)}const n=(v-_/d+(g+w/d))/2;if(t.arc(o,a,d,v-_/d,n,!0),t.arc(o,a,d,n,g+w/d,!0),w>0){const e=Bk(E,T,o,a);t.arc(e.x,e.y,w,T+Math.PI,g-lw)}const r=Bk(M,g,o,a);if(t.lineTo(r.x,r.y),y>0){const e=Bk(M,k,o,a);t.arc(e.x,e.y,y,g-lw,k)}}else{t.moveTo(o,a);const e=Math.cos(k)*c+o,i=Math.sin(k)*c+a;t.lineTo(e,i);const n=Math.cos(A)*c+o,r=Math.sin(A)*c+a;t.lineTo(n,r)}t.closePath()}function Fk(t,e,i,n,r){const{fullCircles:s,startAngle:o,circumference:a,options:h}=e,{borderWidth:l,borderJoinStyle:u,borderDash:c,borderDashOffset:d}=h,f="inner"===h.borderAlign;if(!l)return;t.setLineDash(c||[]),t.lineDashOffset=d,f?(t.lineWidth=2*l,t.lineJoin=u||"round"):(t.lineWidth=l,t.lineJoin=u||"bevel");let p=e.endAngle;if(s){Uk(t,e,i,n,p,r);for(let e=0;e<s;++e)t.stroke();isNaN(a)||(p=o+(a%sw||sw))}f&&function(t,e,i){const{startAngle:n,pixelMargin:r,x:s,y:o,outerRadius:a,innerRadius:h}=e;let l=r/a;t.beginPath(),t.arc(s,o,a,n-l,i+l),h>r?(l=r/h,t.arc(s,o,h,i+l,n-l,!0)):t.arc(s,o,r,i+lw,n-lw),t.closePath(),t.clip()}(t,e,p),s||(Uk(t,e,i,n,p,r),t.stroke())}function jk(t,e,i=e){t.lineCap=Fb(i.borderCapStyle,e.borderCapStyle),t.setLineDash(Fb(i.borderDash,e.borderDash)),t.lineDashOffset=Fb(i.borderDashOffset,e.borderDashOffset),t.lineJoin=Fb(i.borderJoinStyle,e.borderJoinStyle),t.lineWidth=Fb(i.borderWidth,e.borderWidth),t.strokeStyle=Fb(i.borderColor,e.borderColor)}function zk(t,e,i){t.lineTo(i.x,i.y)}function Vk(t,e,i={}){const n=t.length,{start:r=0,end:s=n-1}=i,{start:o,end:a}=e,h=Math.max(r,o),l=Math.min(s,a),u=r<o&&s<o||r>a&&s>a;return{count:n,start:h,loop:e.loop,ilen:l<h&&!u?n+l-h:l-h}}function Hk(t,e,i,n){const{points:r,options:s}=e,{count:o,start:a,loop:h,ilen:l}=Vk(r,i,n),u=function(t){return t.stepped?b_:t.tension||"monotone"===t.cubicInterpolationMode?w_:zk}(s);let c,d,f,{move:p=!0,reverse:m}=n||{};for(c=0;c<=l;++c)d=r[(a+(m?l-c:c))%o],d.skip||(p?(t.moveTo(d.x,d.y),p=!1):u(t,f,d,m,s.stepped),f=d);return h&&(d=r[(a+(m?l:0))%o],u(t,f,d,m,s.stepped)),!!h}function Wk(t,e,i,n){const r=e.points,{count:s,start:o,ilen:a}=Vk(r,i,n),{move:h=!0,reverse:l}=n||{};let u,c,d,f,p,m,g=0,v=0;const y=t=>(o+(l?a-t:t))%s,b=()=>{f!==p&&(t.lineTo(g,p),t.lineTo(g,f),t.lineTo(g,m))};for(h&&(c=r[y(0)],t.moveTo(c.x,c.y)),u=0;u<=a;++u){if(c=r[y(u)],c.skip)continue;const e=c.x,i=c.y,n=0|e;n===d?(i<f?f=i:i>p&&(p=i),g=(v*g+e)/++v):(b(),t.lineTo(e,i),d=n,v=0,f=p=i),m=i}b()}function Kk(t){const e=t.options,i=e.borderDash&&e.borderDash.length;return!(t._decimated||t._loop||e.tension||"monotone"===e.cubicInterpolationMode||e.stepped||i)?Wk:Hk}const Gk="function"==typeof Path2D;function Qk(t,e,i,n){Gk&&!e.options.segment?function(t,e,i,n){let r=e._path;r||(r=e._path=new Path2D,e.path(r,i,n)&&r.closePath()),jk(t,e.options),t.stroke(r)}(t,e,i,n):function(t,e,i,n){const{segments:r,options:s}=e,o=Kk(e);for(const a of r)jk(t,s,a.style),t.beginPath(),o(t,e,a,{start:i,end:i+n-1})&&t.closePath(),t.stroke()}(t,e,i,n)}class Yk extends Qx{static id="line";static defaults={borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:3,capBezierPoints:!0,cubicInterpolationMode:"default",fill:!1,spanGaps:!1,stepped:!1,tension:0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};static descriptors={_scriptable:!0,_indexable:t=>"borderDash"!==t&&"fill"!==t};constructor(t){super(),this.animated=!0,this.options=void 0,this._chart=void 0,this._loop=void 0,this._fullLoop=void 0,this._path=void 0,this._points=void 0,this._segments=void 0,this._decimated=!1,this._pointsUpdated=!1,this._datasetIndex=void 0,t&&Object.assign(this,t)}updateControlPoints(t,e){const i=this.options;if((i.tension||"monotone"===i.cubicInterpolationMode)&&!i.stepped&&!this._pointsUpdated){const n=i.spanGaps?this._loop:this._fullLoop;nM(this._points,i,t,n,e),this._pointsUpdated=!0}}set points(t){this._points=t,delete this._segments,delete this._path,this._pointsUpdated=!1}get points(){return this._points}get segments(){return this._segments||(this._segments=IM(this,this.options.segment))}first(){const t=this.segments,e=this.points;return t.length&&e[t[0].start]}last(){const t=this.segments,e=this.points,i=t.length;return i&&e[t[i-1].end]}interpolate(t,e){const i=this.options,n=t[e],r=this.points,s=TM(this,{property:e,start:n,end:n});if(!s.length)return;const o=[],a=function(t){return t.stepped?yM:t.tension||"monotone"===t.cubicInterpolationMode?bM:vM}(i);let h,l;for(h=0,l=s.length;h<l;++h){const{start:l,end:u}=s[h],c=r[l],d=r[u];if(c===d){o.push(c);continue}const f=a(c,d,Math.abs((n-c[e])/(d[e]-c[e])),i.stepped);f[e]=t[e],o.push(f)}return 1===o.length?o[0]:o}pathSegment(t,e,i){return Kk(this)(t,this,e,i)}path(t,e,i){const n=this.segments,r=Kk(this);let s=this._loop;e=e||0,i=i||this.points.length-e;for(const o of n)s&=r(t,this,o,{start:e,end:e+i-1});return!!s}draw(t,e,i,n){const r=this.options||{};(this.points||[]).length&&r.borderWidth&&(t.save(),Qk(t,this,i,n),t.restore()),this.animated&&(this._pointsUpdated=!1,this._path=void 0)}}function Zk(t,e,i,n){const r=t.options,{[i]:s}=t.getProps([i],n);return Math.abs(e-s)<r.radius+r.hitRadius}function $k(t,e){const{x:i,y:n,base:r,width:s,height:o}=t.getProps(["x","y","base","width","height"],e);let a,h,l,u,c;return t.horizontal?(c=o/2,a=Math.min(i,r),h=Math.max(i,r),l=n-c,u=n+c):(c=s/2,a=i-c,h=i+c,l=Math.min(n,r),u=Math.max(n,r)),{left:a,top:l,right:h,bottom:u}}function Xk(t,e,i,n){return t?0:Tw(e,i,n)}function Jk(t){const e=$k(t),i=e.right-e.left,n=e.bottom-e.top,r=function(t,e,i){const n=t.options.borderWidth,r=t.borderSkipped,s=q_(n);return{t:Xk(r.top,s.top,0,i),r:Xk(r.right,s.right,0,e),b:Xk(r.bottom,s.bottom,0,i),l:Xk(r.left,s.left,0,e)}}(t,i/2,n/2),s=function(t,e,i){const{enableBorderRadius:n}=t.getProps(["enableBorderRadius"]),r=t.options.borderRadius,s=C_(r),o=Math.min(e,i),a=t.borderSkipped,h=n||Pb(r);return{topLeft:Xk(!h||a.top||a.left,s.topLeft,0,o),topRight:Xk(!h||a.top||a.right,s.topRight,0,o),bottomLeft:Xk(!h||a.bottom||a.left,s.bottomLeft,0,o),bottomRight:Xk(!h||a.bottom||a.right,s.bottomRight,0,o)}}(t,i/2,n/2);return{outer:{x:e.left,y:e.top,w:i,h:n,radius:s},inner:{x:e.left+r.l,y:e.top+r.t,w:i-r.l-r.r,h:n-r.t-r.b,radius:{topLeft:Math.max(0,s.topLeft-Math.max(r.t,r.l)),topRight:Math.max(0,s.topRight-Math.max(r.t,r.r)),bottomLeft:Math.max(0,s.bottomLeft-Math.max(r.b,r.l)),bottomRight:Math.max(0,s.bottomRight-Math.max(r.b,r.r))}}}}function tA(t,e,i,n){const r=null===e,s=null===i,o=t&&!(r&&s)&&$k(t,n);return o&&(r||Iw(e,o.left,o.right))&&(s||Iw(i,o.top,o.bottom))}function eA(t,e){t.rect(e.x,e.y,e.w,e.h)}function iA(t,e,i={}){const n=t.x!==i.x?-e:0,r=t.y!==i.y?-e:0,s=(t.x+t.w!==i.x+i.w?e:0)-n,o=(t.y+t.h!==i.y+i.h?e:0)-r;return{x:t.x+n,y:t.y+r,w:t.w+s,h:t.h+o,radius:t.radius}}var nA=Object.freeze({__proto__:null,ArcElement:class extends Qx{static id="arc";static defaults={borderAlign:"center",borderColor:"#fff",borderDash:[],borderDashOffset:0,borderJoinStyle:void 0,borderRadius:0,borderWidth:2,offset:0,spacing:0,angle:void 0,circular:!0};static defaultRoutes={backgroundColor:"backgroundColor"};static descriptors={_scriptable:!0,_indexable:t=>"borderDash"!==t};circumference;endAngle;fullCircles;innerRadius;outerRadius;pixelMargin;startAngle;constructor(t){super(),this.options=void 0,this.circumference=void 0,this.startAngle=void 0,this.endAngle=void 0,this.innerRadius=void 0,this.outerRadius=void 0,this.pixelMargin=0,this.fullCircles=0,t&&Object.assign(this,t)}inRange(t,e,i){const n=this.getProps(["x","y"],i),{angle:r,distance:s}=xw(n,{x:t,y:e}),{startAngle:o,endAngle:a,innerRadius:h,outerRadius:l,circumference:u}=this.getProps(["startAngle","endAngle","innerRadius","outerRadius","circumference"],i),c=(this.options.spacing+this.options.borderWidth)/2,d=Fb(u,a-o)>=sw||Sw(r,o,a),f=Iw(s,h+c,l+c);return d&&f}getCenterPoint(t){const{x:e,y:i,startAngle:n,endAngle:r,innerRadius:s,outerRadius:o}=this.getProps(["x","y","startAngle","endAngle","innerRadius","outerRadius"],t),{offset:a,spacing:h}=this.options,l=(n+r)/2,u=(s+o+h+a)/2;return{x:e+Math.cos(l)*u,y:i+Math.sin(l)*u}}tooltipPosition(t){return this.getCenterPoint(t)}draw(t){const{options:e,circumference:i}=this,n=(e.offset||0)/4,r=(e.spacing||0)/2,s=e.circular;if(this.pixelMargin="inner"===e.borderAlign?.33:0,this.fullCircles=i>sw?Math.floor(i/sw):0,0===i||this.innerRadius<0||this.outerRadius<0)return;t.save();const o=(this.startAngle+this.endAngle)/2;t.translate(Math.cos(o)*n,Math.sin(o)*n);const a=n*(1-Math.sin(Math.min(rw,i||0)));t.fillStyle=e.backgroundColor,t.strokeStyle=e.borderColor,function(t,e,i,n,r){const{fullCircles:s,startAngle:o,circumference:a}=e;let h=e.endAngle;if(s){Uk(t,e,i,n,h,r);for(let e=0;e<s;++e)t.fill();isNaN(a)||(h=o+(a%sw||sw))}Uk(t,e,i,n,h,r),t.fill()}(t,this,a,r,s),Fk(t,this,a,r,s),t.restore()}},BarElement:class extends Qx{static id="bar";static defaults={borderSkipped:"start",borderWidth:0,borderRadius:0,inflateAmount:"auto",pointStyle:void 0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};constructor(t){super(),this.options=void 0,this.horizontal=void 0,this.base=void 0,this.width=void 0,this.height=void 0,this.inflateAmount=void 0,t&&Object.assign(this,t)}draw(t){const{inflateAmount:e,options:{borderColor:i,backgroundColor:n}}=this,{inner:r,outer:s}=Jk(this),o=(a=s.radius).topLeft||a.topRight||a.bottomLeft||a.bottomRight?k_:eA;var a;t.save(),s.w===r.w&&s.h===r.h||(t.beginPath(),o(t,iA(s,e,r)),t.clip(),o(t,iA(r,-e,s)),t.fillStyle=i,t.fill("evenodd")),t.beginPath(),o(t,iA(r,e)),t.fillStyle=n,t.fill(),t.restore()}inRange(t,e,i){return tA(this,t,e,i)}inXRange(t,e){return tA(this,t,null,e)}inYRange(t,e){return tA(this,null,t,e)}getCenterPoint(t){const{x:e,y:i,base:n,horizontal:r}=this.getProps(["x","y","base","horizontal"],t);return{x:r?(e+n)/2:e,y:r?i:(i+n)/2}}getRange(t){return"x"===t?this.width/2:this.height/2}},LineElement:Yk,PointElement:class extends Qx{static id="point";parsed;skip;stop;static defaults={borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:"circle",radius:3,rotation:0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};constructor(t){super(),this.options=void 0,this.parsed=void 0,this.skip=void 0,this.stop=void 0,t&&Object.assign(this,t)}inRange(t,e,i){const n=this.options,{x:r,y:s}=this.getProps(["x","y"],i);return Math.pow(t-r,2)+Math.pow(e-s,2)<Math.pow(n.hitRadius+n.radius,2)}inXRange(t,e){return Zk(this,t,"x",e)}inYRange(t,e){return Zk(this,t,"y",e)}getCenterPoint(t){const{x:e,y:i}=this.getProps(["x","y"],t);return{x:e,y:i}}size(t){let e=(t=t||this.options||{}).radius||0;e=Math.max(e,e&&t.hoverRadius||0);return 2*(e+(e&&t.borderWidth||0))}draw(t,e){const i=this.options;this.skip||i.radius<.1||!g_(this,e,this.size(i)/2)||(t.strokeStyle=i.borderColor,t.lineWidth=i.borderWidth,t.fillStyle=i.backgroundColor,p_(t,i,this.x,this.y))}getRange(){const t=this.options||{};return t.radius+t.hitRadius}}});const rA=["rgb(54, 162, 235)","rgb(255, 99, 132)","rgb(255, 159, 64)","rgb(255, 205, 86)","rgb(75, 192, 192)","rgb(153, 102, 255)","rgb(201, 203, 207)"],sA=rA.map((t=>t.replace("rgb(","rgba(").replace(")",", 0.5)")));function oA(t){return rA[t%rA.length]}function aA(t){return sA[t%sA.length]}function hA(t){let e=0;return(i,n)=>{const r=t.getDatasetMeta(n).controller;r instanceof sx?e=function(t,e){return t.backgroundColor=t.data.map((()=>oA(e++))),e}(i,e):r instanceof ox?e=function(t,e){return t.backgroundColor=t.data.map((()=>aA(e++))),e}(i,e):r&&(e=function(t,e){return t.borderColor=oA(e),t.backgroundColor=aA(e),++e}(i,e))}}function lA(t){let e;for(e in t)if(t[e].borderColor||t[e].backgroundColor)return!0;return!1}var uA={id:"colors",defaults:{enabled:!0,forceOverride:!1},beforeLayout(t,e,i){if(!i.enabled)return;const{data:{datasets:n},options:r}=t.config,{elements:s}=r;if(!i.forceOverride&&(lA(n)||(o=r)&&(o.borderColor||o.backgroundColor)||s&&lA(s)))return;var o;const a=hA(t);n.forEach(a)}};function cA(t){if(t._decimated){const e=t._data;delete t._decimated,delete t._data,Object.defineProperty(t,"data",{configurable:!0,enumerable:!0,writable:!0,value:e})}}function dA(t){t.data.datasets.forEach((t=>{cA(t)}))}var fA={id:"decimation",defaults:{algorithm:"min-max",enabled:!1},beforeElementsUpdate:(t,e,i)=>{if(!i.enabled)return void dA(t);const n=t.width;t.data.datasets.forEach(((e,r)=>{const{_data:s,indexAxis:o}=e,a=t.getDatasetMeta(r),h=s||e.data;if("y"===L_([o,t.options.indexAxis]))return;if(!a.controller.supportsDecimation)return;const l=t.scales[a.xAxisID];if("linear"!==l.type&&"time"!==l.type)return;if(t.options.parsing)return;let{start:u,count:c}=function(t,e){const i=e.length;let n,r=0;const{iScale:s}=t,{min:o,max:a,minDefined:h,maxDefined:l}=s.getUserBounds();return h&&(r=Tw(Cw(e,s.axis,o).lo,0,i-1)),n=l?Tw(Cw(e,s.axis,a).hi+1,r,i)-r:i-r,{start:r,count:n}}(a,h);if(c<=(i.threshold||4*n))return void cA(e);let d;switch(Nb(s)&&(e._data=h,delete e.data,Object.defineProperty(e,"data",{configurable:!0,enumerable:!0,get:function(){return this._decimated},set:function(t){this._data=t}})),i.algorithm){case"lttb":d=function(t,e,i,n,r){const s=r.samples||n;if(s>=i)return t.slice(e,e+i);const o=[],a=(i-2)/(s-2);let h=0;const l=e+i-1;let u,c,d,f,p,m=e;for(o[h++]=t[m],u=0;u<s-2;u++){let n,r=0,s=0;const l=Math.floor((u+1)*a)+1+e,g=Math.min(Math.floor((u+2)*a)+1,i)+e,v=g-l;for(n=l;n<g;n++)r+=t[n].x,s+=t[n].y;r/=v,s/=v;const y=Math.floor(u*a)+1+e,b=Math.min(Math.floor((u+1)*a)+1,i)+e,{x:w,y:_}=t[m];for(d=f=-1,n=y;n<b;n++)f=.5*Math.abs((w-r)*(t[n].y-_)-(w-t[n].x)*(s-_)),f>d&&(d=f,c=t[n],p=n);o[h++]=c,m=p}return o[h++]=t[l],o}(h,u,c,n,i);break;case"min-max":d=function(t,e,i,n){let r,s,o,a,h,l,u,c,d,f,p=0,m=0;const g=[],v=e+i-1,y=t[e].x,b=t[v].x-y;for(r=e;r<e+i;++r){s=t[r],o=(s.x-y)/b*n,a=s.y;const e=0|o;if(e===h)a<d?(d=a,l=r):a>f&&(f=a,u=r),p=(m*p+s.x)/++m;else{const i=r-1;if(!Nb(l)&&!Nb(u)){const e=Math.min(l,u),n=Math.max(l,u);e!==c&&e!==i&&g.push({...t[e],x:p}),n!==c&&n!==i&&g.push({...t[n],x:p})}r>0&&i!==c&&g.push(t[i]),g.push(s),h=e,m=0,d=f=a,l=u=c=r}}return g}(h,u,c,n);break;default:throw new Error(`Unsupported decimation algorithm '${i.algorithm}'`)}e._decimated=d}))},destroy(t){dA(t)}};function pA(t,e,i,n){if(n)return;let r=e[t],s=i[t];return"angle"===t&&(r=Ew(r),s=Ew(s)),{property:t,start:r,end:s}}function mA(t,e,i){for(;e>t;e--){const t=i[e];if(!isNaN(t.x)&&!isNaN(t.y))break}return e}function gA(t,e,i,n){return t&&e?n(t[i],e[i]):t?t[i]:e?e[i]:0}function vA(t,e){let i=[],n=!1;return Ob(t)?(n=!0,i=t):i=function(t,e){const{x:i=null,y:n=null}=t||{},r=e.points,s=[];return e.segments.forEach((({start:t,end:e})=>{e=mA(t,e,r);const o=r[t],a=r[e];null!==n?(s.push({x:o.x,y:n}),s.push({x:a.x,y:n})):null!==i&&(s.push({x:i,y:o.y}),s.push({x:i,y:a.y}))})),s}(t,e),i.length?new Yk({points:i,options:{tension:0},_loop:n,_fullLoop:n}):null}function yA(t){return t&&!1!==t.fill}function bA(t,e,i){let n=t[e].fill;const r=[e];let s;if(!i)return n;for(;!1!==n&&-1===r.indexOf(n);){if(!Bb(n))return n;if(s=t[n],!s)return!1;if(s.visible)return n;r.push(n),n=s.fill}return!1}function wA(t,e,i){const n=function(t){const e=t.options,i=e.fill;let n=Fb(i&&i.target,i);void 0===n&&(n=!!e.backgroundColor);return!1!==n&&null!==n&&(!0===n?"origin":n)}(t);if(Pb(n))return!isNaN(n.value)&&n;let r=parseFloat(n);return Bb(r)&&Math.floor(r)===r?function(t,e,i,n){"-"!==t&&"+"!==t||(i=e+i);return!(i===e||i<0||i>=n)&&i}(n[0],e,r,i):["origin","start","end","stack","shape"].indexOf(n)>=0&&n}function _A(t,e,i){const n=[];for(let r=0;r<i.length;r++){const s=i[r],{first:o,last:a,point:h}=MA(s,e,"x");if(!(!h||o&&a))if(o)n.unshift(h);else if(t.push(h),!a)break}t.push(...n)}function MA(t,e,i){const n=t.interpolate(e,i);if(!n)return{};const r=n[i],s=t.segments,o=t.points;let a=!1,h=!1;for(let t=0;t<s.length;t++){const e=s[t],n=o[e.start][i],l=o[e.end][i];if(Iw(r,n,l)){a=r===n,h=r===l;break}}return{first:a,last:h,point:n}}class xA{constructor(t){this.x=t.x,this.y=t.y,this.radius=t.radius}pathSegment(t,e,i){const{x:n,y:r,radius:s}=this;return e=e||{start:0,end:sw},t.arc(n,r,s,e.end,e.start,!0),!i.bounds}interpolate(t){const{x:e,y:i,radius:n}=this,r=t.angle;return{x:e+Math.cos(r)*n,y:i+Math.sin(r)*n,angle:r}}}function kA(t){const{chart:e,fill:i,line:n}=t;if(Bb(i))return function(t,e){const i=t.getDatasetMeta(e),n=i&&t.isDatasetVisible(e);return n?i.dataset:null}(e,i);if("stack"===i)return function(t){const{scale:e,index:i,line:n}=t,r=[],s=n.segments,o=n.points,a=function(t,e){const i=[],n=t.getMatchingVisibleMetas("line");for(let t=0;t<n.length;t++){const r=n[t];if(r.index===e)break;r.hidden||i.unshift(r.dataset)}return i}(e,i);a.push(vA({x:null,y:e.bottom},n));for(let t=0;t<s.length;t++){const e=s[t];for(let t=e.start;t<=e.end;t++)_A(r,o[t],a)}return new Yk({points:r,options:{}})}(t);if("shape"===i)return!0;const r=function(t){const e=t.scale||{};return e.getPointPositionForValue?function(t){const{scale:e,fill:i}=t,n=e.options,r=e.getLabels().length,s=n.reverse?e.max:e.min,o=function(t,e,i){let n;return n="start"===t?i:"end"===t?e.options.reverse?e.min:e.max:Pb(t)?t.value:e.getBaseValue(),n}(i,e,s),a=[];if(n.grid.circular){const t=e.getPointPositionForValue(0,s);return new xA({x:t.x,y:t.y,radius:e.getDistanceFromCenterForValue(o)})}for(let t=0;t<r;++t)a.push(e.getPointPositionForValue(t,o));return a}(t):function(t){const{scale:e={},fill:i}=t,n=function(t,e){let i=null;return"start"===t?i=e.bottom:"end"===t?i=e.top:Pb(t)?i=e.getPixelForValue(t.value):e.getBasePixel&&(i=e.getBasePixel()),i}(i,e);if(Bb(n)){const t=e.isHorizontal();return{x:t?n:null,y:t?null:n}}return null}(t)}(t);return r instanceof xA?r:vA(r,n)}function AA(t,e,i){const n=kA(e),{line:r,scale:s,axis:o}=e,a=r.options,h=a.fill,l=a.backgroundColor,{above:u=l,below:c=l}=h||{};n&&r.points.length&&(v_(t,i),function(t,e){const{line:i,target:n,above:r,below:s,area:o,scale:a}=e,h=i._loop?"angle":e.axis;t.save(),"x"===h&&s!==r&&(EA(t,n,o.top),SA(t,{line:i,target:n,color:r,scale:a,property:h}),t.restore(),t.save(),EA(t,n,o.bottom));SA(t,{line:i,target:n,color:s,scale:a,property:h}),t.restore()}(t,{line:r,target:n,above:u,below:c,area:i,scale:s,axis:o}),y_(t))}function EA(t,e,i){const{segments:n,points:r}=e;let s=!0,o=!1;t.beginPath();for(const a of n){const{start:n,end:h}=a,l=r[n],u=r[mA(n,h,r)];s?(t.moveTo(l.x,l.y),s=!1):(t.lineTo(l.x,i),t.lineTo(l.x,l.y)),o=!!e.pathSegment(t,a,{move:o}),o?t.closePath():t.lineTo(u.x,i)}t.lineTo(e.first().x,i),t.closePath(),t.clip()}function SA(t,e){const{line:i,target:n,property:r,color:s,scale:o}=e,a=function(t,e,i){const n=t.segments,r=t.points,s=e.points,o=[];for(const t of n){let{start:n,end:a}=t;a=mA(n,a,r);const h=pA(i,r[n],r[a],t.loop);if(!e.segments){o.push({source:t,target:h,start:r[n],end:r[a]});continue}const l=TM(e,h);for(const e of l){const n=pA(i,s[e.start],s[e.end],e.loop),a=SM(t,r,n);for(const t of a)o.push({source:t,target:e,start:{[i]:gA(h,n,"start",Math.max)},end:{[i]:gA(h,n,"end",Math.min)}})}}return o}(i,n,r);for(const{source:e,target:h,start:l,end:u}of a){const{style:{backgroundColor:a=s}={}}=e,c=!0!==n;t.save(),t.fillStyle=a,TA(t,o,c&&pA(r,l,u)),t.beginPath();const d=!!i.pathSegment(t,e);let f;if(c){d?t.closePath():IA(t,n,u,r);const e=!!n.pathSegment(t,h,{move:d,reverse:!0});f=d&&e,f||IA(t,n,l,r)}t.closePath(),t.fill(f?"evenodd":"nonzero"),t.restore()}}function TA(t,e,i){const{top:n,bottom:r}=e.chart.chartArea,{property:s,start:o,end:a}=i||{};"x"===s&&(t.beginPath(),t.rect(o,n,a-o,r-n),t.clip())}function IA(t,e,i,n){const r=e.interpolate(i,n);r&&t.lineTo(r.x,r.y)}var qA={id:"filler",afterDatasetsUpdate(t,e,i){const n=(t.data.datasets||[]).length,r=[];let s,o,a,h;for(o=0;o<n;++o)s=t.getDatasetMeta(o),a=s.dataset,h=null,a&&a.options&&a instanceof Yk&&(h={visible:t.isDatasetVisible(o),index:o,fill:wA(a,o,n),chart:t,axis:s.controller.options.indexAxis,scale:s.vScale,line:a}),s.$filler=h,r.push(h);for(o=0;o<n;++o)h=r[o],h&&!1!==h.fill&&(h.fill=bA(r,o,i.propagate))},beforeDraw(t,e,i){const n="beforeDraw"===i.drawTime,r=t.getSortedVisibleDatasetMetas(),s=t.chartArea;for(let e=r.length-1;e>=0;--e){const i=r[e].$filler;i&&(i.line.updateControlPoints(s,i.axis),n&&i.fill&&AA(t.ctx,i,s))}},beforeDatasetsDraw(t,e,i){if("beforeDatasetsDraw"!==i.drawTime)return;const n=t.getSortedVisibleDatasetMetas();for(let e=n.length-1;e>=0;--e){const i=n[e].$filler;yA(i)&&AA(t.ctx,i,t.chartArea)}},beforeDatasetDraw(t,e,i){const n=e.meta.$filler;yA(n)&&"beforeDatasetDraw"===i.drawTime&&AA(t.ctx,n,t.chartArea)},defaults:{propagate:!0,drawTime:"beforeDatasetDraw"}};const CA=(t,e)=>{let{boxHeight:i=e,boxWidth:n=e}=t;return t.usePointStyle&&(i=Math.min(i,e),n=t.pointStyleWidth||Math.min(n,e)),{boxWidth:n,boxHeight:i,itemHeight:Math.max(e,i)}};class RA extends Qx{constructor(t){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=t.chart,this.options=t.options,this.ctx=t.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(t,e,i){this.maxWidth=t,this.maxHeight=e,this._margins=i,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){const t=this.options.labels||{};let e=zb(t.generateLabels,[this.chart],this)||[];t.filter&&(e=e.filter((e=>t.filter(e,this.chart.data)))),t.sort&&(e=e.sort(((e,i)=>t.sort(e,i,this.chart.data)))),this.options.reverse&&e.reverse(),this.legendItems=e}fit(){const{options:t,ctx:e}=this;if(!t.display)return void(this.width=this.height=0);const i=t.labels,n=D_(i.font),r=n.size,s=this._computeTitleHeight(),{boxWidth:o,itemHeight:a}=CA(i,r);let h,l;e.font=n.string,this.isHorizontal()?(h=this.maxWidth,l=this._fitRows(s,r,o,a)+10):(l=this.maxHeight,h=this._fitCols(s,n,o,a)+10),this.width=Math.min(h,t.maxWidth||this.maxWidth),this.height=Math.min(l,t.maxHeight||this.maxHeight)}_fitRows(t,e,i,n){const{ctx:r,maxWidth:s,options:{labels:{padding:o}}}=this,a=this.legendHitBoxes=[],h=this.lineWidths=[0],l=n+o;let u=t;r.textAlign="left",r.textBaseline="middle";let c=-1,d=-l;return this.legendItems.forEach(((t,f)=>{const p=i+e/2+r.measureText(t.text).width;(0===f||h[h.length-1]+p+2*o>s)&&(u+=l,h[h.length-(f>0?0:1)]=0,d+=l,c++),a[f]={left:0,top:d,row:c,width:p,height:n},h[h.length-1]+=p+o})),u}_fitCols(t,e,i,n){const{ctx:r,maxHeight:s,options:{labels:{padding:o}}}=this,a=this.legendHitBoxes=[],h=this.columnSizes=[],l=s-t;let u=o,c=0,d=0,f=0,p=0;return this.legendItems.forEach(((t,s)=>{const{itemWidth:m,itemHeight:g}=function(t,e,i,n,r){const s=function(t,e,i,n){let r=t.text;r&&"string"!=typeof r&&(r=r.reduce(((t,e)=>t.length>e.length?t:e)));return e+i.size/2+n.measureText(r).width}(n,t,e,i),o=function(t,e,i){let n=t;"string"!=typeof e.text&&(n=DA(e,i));return n}(r,n,e.lineHeight);return{itemWidth:s,itemHeight:o}}(i,e,r,t,n);s>0&&d+g+2*o>l&&(u+=c+o,h.push({width:c,height:d}),f+=c+o,p++,c=d=0),a[s]={left:f,top:d,col:p,width:m,height:g},c=Math.max(c,m),d+=g+o})),u+=c,h.push({width:c,height:d}),u}adjustHitBoxes(){if(!this.options.display)return;const t=this._computeTitleHeight(),{legendHitBoxes:e,options:{align:i,labels:{padding:n},rtl:r}}=this,s=MM(r,this.left,this.width);if(this.isHorizontal()){let r=0,o=jw(i,this.left+n,this.right-this.lineWidths[r]);for(const a of e)r!==a.row&&(r=a.row,o=jw(i,this.left+n,this.right-this.lineWidths[r])),a.top+=this.top+t+n,a.left=s.leftForLtr(s.x(o),a.width),o+=a.width+n}else{let r=0,o=jw(i,this.top+t+n,this.bottom-this.columnSizes[r].height);for(const a of e)a.col!==r&&(r=a.col,o=jw(i,this.top+t+n,this.bottom-this.columnSizes[r].height)),a.top=o,a.left+=this.left+n,a.left=s.leftForLtr(s.x(a.left),a.width),o+=a.height+n}}isHorizontal(){return"top"===this.options.position||"bottom"===this.options.position}draw(){if(this.options.display){const t=this.ctx;v_(t,this),this._draw(),y_(t)}}_draw(){const{options:t,columnSizes:e,lineWidths:i,ctx:n}=this,{align:r,labels:s}=t,o=l_.color,a=MM(t.rtl,this.left,this.width),h=D_(s.font),{padding:l}=s,u=h.size,c=u/2;let d;this.drawTitle(),n.textAlign=a.textAlign("left"),n.textBaseline="middle",n.lineWidth=.5,n.font=h.string;const{boxWidth:f,boxHeight:p,itemHeight:m}=CA(s,u),g=this.isHorizontal(),v=this._computeTitleHeight();d=g?{x:jw(r,this.left+l,this.right-i[0]),y:this.top+l+v,line:0}:{x:this.left+l,y:jw(r,this.top+v+l,this.bottom-e[0].height),line:0},xM(this.ctx,t.textDirection);const y=m+l;this.legendItems.forEach(((b,w)=>{n.strokeStyle=b.fontColor,n.fillStyle=b.fontColor;const _=n.measureText(b.text).width,M=a.textAlign(b.textAlign||(b.textAlign=s.textAlign)),x=f+c+_;let k=d.x,A=d.y;a.setWidth(this.width),g?w>0&&k+x+l>this.right&&(A=d.y+=y,d.line++,k=d.x=jw(r,this.left+l,this.right-i[d.line])):w>0&&A+y>this.bottom&&(k=d.x=k+e[d.line].width+l,d.line++,A=d.y=jw(r,this.top+v+l,this.bottom-e[d.line].height));if(function(t,e,i){if(isNaN(f)||f<=0||isNaN(p)||p<0)return;n.save();const r=Fb(i.lineWidth,1);if(n.fillStyle=Fb(i.fillStyle,o),n.lineCap=Fb(i.lineCap,"butt"),n.lineDashOffset=Fb(i.lineDashOffset,0),n.lineJoin=Fb(i.lineJoin,"miter"),n.lineWidth=r,n.strokeStyle=Fb(i.strokeStyle,o),n.setLineDash(Fb(i.lineDash,[])),s.usePointStyle){const o={radius:p*Math.SQRT2/2,pointStyle:i.pointStyle,rotation:i.rotation,borderWidth:r},h=a.xPlus(t,f/2);m_(n,o,h,e+c,s.pointStyleWidth&&f)}else{const s=e+Math.max((u-p)/2,0),o=a.leftForLtr(t,f),h=C_(i.borderRadius);n.beginPath(),Object.values(h).some((t=>0!==t))?k_(n,{x:o,y:s,w:f,h:p,radius:h}):n.rect(o,s,f,p),n.fill(),0!==r&&n.stroke()}n.restore()}(a.x(k),A,b),k=zw(M,k+f+c,g?k+x:this.right,t.rtl),function(t,e,i){x_(n,i.text,t,e+m/2,h,{strikethrough:i.hidden,textAlign:a.textAlign(i.textAlign)})}(a.x(k),A,b),g)d.x+=x+l;else if("string"!=typeof b.text){const t=h.lineHeight;d.y+=DA(b,t)}else d.y+=y})),kM(this.ctx,t.textDirection)}drawTitle(){const t=this.options,e=t.title,i=D_(e.font),n=R_(e.padding);if(!e.display)return;const r=MM(t.rtl,this.left,this.width),s=this.ctx,o=e.position,a=i.size/2,h=n.top+a;let l,u=this.left,c=this.width;if(this.isHorizontal())c=Math.max(...this.lineWidths),l=this.top+h,u=jw(t.align,u,this.right-c);else{const e=this.columnSizes.reduce(((t,e)=>Math.max(t,e.height)),0);l=h+jw(t.align,this.top,this.bottom-e-t.labels.padding-this._computeTitleHeight())}const d=jw(o,u,u+c);s.textAlign=r.textAlign(Fw(o)),s.textBaseline="middle",s.strokeStyle=e.color,s.fillStyle=e.color,s.font=i.string,x_(s,e.text,d,l,i)}_computeTitleHeight(){const t=this.options.title,e=D_(t.font),i=R_(t.padding);return t.display?e.lineHeight+i.height:0}_getLegendItemAt(t,e){let i,n,r;if(Iw(t,this.left,this.right)&&Iw(e,this.top,this.bottom))for(r=this.legendHitBoxes,i=0;i<r.length;++i)if(n=r[i],Iw(t,n.left,n.left+n.width)&&Iw(e,n.top,n.top+n.height))return this.legendItems[i];return null}handleEvent(t){const e=this.options;if(!function(t,e){return!("mousemove"!==t&&"mouseout"!==t||!e.onHover&&!e.onLeave)||!(!e.onClick||"click"!==t&&"mouseup"!==t)}(t.type,e))return;const i=this._getLegendItemAt(t.x,t.y);if("mousemove"===t.type||"mouseout"===t.type){const n=this._hoveredItem,r=((t,e)=>null!==t&&null!==e&&t.datasetIndex===e.datasetIndex&&t.index===e.index)(n,i);n&&!r&&zb(e.onLeave,[t,n,this],this),this._hoveredItem=i,i&&!r&&zb(e.onHover,[t,i,this],this)}else i&&zb(e.onClick,[t,i,this],this)}}function DA(t,e){return e*(t.text?t.text.length+.5:0)}var LA={id:"legend",_element:RA,start(t,e,i){const n=t.legend=new RA({ctx:t.ctx,options:i,chart:t});qx.configure(t,n,i),qx.addBox(t,n)},stop(t){qx.removeBox(t,t.legend),delete t.legend},beforeUpdate(t,e,i){const n=t.legend;qx.configure(t,n,i),n.options=i},afterUpdate(t){const e=t.legend;e.buildLabels(),e.adjustHitBoxes()},afterEvent(t,e){e.replay||t.legend.handleEvent(e.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(t,e,i){const n=e.datasetIndex,r=i.chart;r.isDatasetVisible(n)?(r.hide(n),e.hidden=!0):(r.show(n),e.hidden=!1)},onHover:null,onLeave:null,labels:{color:t=>t.chart.options.color,boxWidth:40,padding:10,generateLabels(t){const e=t.data.datasets,{labels:{usePointStyle:i,pointStyle:n,textAlign:r,color:s,useBorderRadius:o,borderRadius:a}}=t.legend.options;return t._getSortedDatasetMetas().map((t=>{const h=t.controller.getStyle(i?0:void 0),l=R_(h.borderWidth);return{text:e[t.index].label,fillStyle:h.backgroundColor,fontColor:s,hidden:!t.visible,lineCap:h.borderCapStyle,lineDash:h.borderDash,lineDashOffset:h.borderDashOffset,lineJoin:h.borderJoinStyle,lineWidth:(l.width+l.height)/4,strokeStyle:h.borderColor,pointStyle:n||h.pointStyle,rotation:h.rotation,textAlign:r||h.textAlign,borderRadius:o&&(a||h.borderRadius),datasetIndex:t.index}}),this)}},title:{color:t=>t.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:t=>!t.startsWith("on"),labels:{_scriptable:t=>!["generateLabels","filter","sort"].includes(t)}}};class NA extends Qx{constructor(t){super(),this.chart=t.chart,this.options=t.options,this.ctx=t.ctx,this._padding=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(t,e){const i=this.options;if(this.left=0,this.top=0,!i.display)return void(this.width=this.height=this.right=this.bottom=0);this.width=this.right=t,this.height=this.bottom=e;const n=Ob(i.text)?i.text.length:1;this._padding=R_(i.padding);const r=n*D_(i.font).lineHeight+this._padding.height;this.isHorizontal()?this.height=r:this.width=r}isHorizontal(){const t=this.options.position;return"top"===t||"bottom"===t}_drawArgs(t){const{top:e,left:i,bottom:n,right:r,options:s}=this,o=s.align;let a,h,l,u=0;return this.isHorizontal()?(h=jw(o,i,r),l=e+t,a=r-i):("left"===s.position?(h=i+t,l=jw(o,n,e),u=-.5*rw):(h=r-t,l=jw(o,e,n),u=.5*rw),a=n-e),{titleX:h,titleY:l,maxWidth:a,rotation:u}}draw(){const t=this.ctx,e=this.options;if(!e.display)return;const i=D_(e.font),n=i.lineHeight/2+this._padding.top,{titleX:r,titleY:s,maxWidth:o,rotation:a}=this._drawArgs(n);x_(t,e.text,0,0,i,{color:e.color,maxWidth:o,rotation:a,textAlign:Fw(e.align),textBaseline:"middle",translation:[r,s]})}}var OA={id:"title",_element:NA,start(t,e,i){!function(t,e){const i=new NA({ctx:t.ctx,options:e,chart:t});qx.configure(t,i,e),qx.addBox(t,i),t.titleBlock=i}(t,i)},stop(t){const e=t.titleBlock;qx.removeBox(t,e),delete t.titleBlock},beforeUpdate(t,e,i){const n=t.titleBlock;qx.configure(t,n,i),n.options=i},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const PA=new WeakMap;var BA={id:"subtitle",start(t,e,i){const n=new NA({ctx:t.ctx,options:i,chart:t});qx.configure(t,n,i),qx.addBox(t,n),PA.set(t,n)},stop(t){qx.removeBox(t,PA.get(t)),PA.delete(t)},beforeUpdate(t,e,i){const n=PA.get(t);qx.configure(t,n,i),n.options=i},defaults:{align:"center",display:!1,font:{weight:"normal"},fullSize:!0,padding:0,position:"top",text:"",weight:1500},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const UA={average(t){if(!t.length)return!1;let e,i,n=0,r=0,s=0;for(e=0,i=t.length;e<i;++e){const i=t[e].element;if(i&&i.hasValue()){const t=i.tooltipPosition();n+=t.x,r+=t.y,++s}}return{x:n/s,y:r/s}},nearest(t,e){if(!t.length)return!1;let i,n,r,s=e.x,o=e.y,a=Number.POSITIVE_INFINITY;for(i=0,n=t.length;i<n;++i){const n=t[i].element;if(n&&n.hasValue()){const t=kw(e,n.getCenterPoint());t<a&&(a=t,r=n)}}if(r){const t=r.tooltipPosition();s=t.x,o=t.y}return{x:s,y:o}}};function FA(t,e){return e&&(Ob(e)?Array.prototype.push.apply(t,e):t.push(e)),t}function jA(t){return("string"==typeof t||t instanceof String)&&t.indexOf("\n")>-1?t.split("\n"):t}function zA(t,e){const{element:i,datasetIndex:n,index:r}=e,s=t.getDatasetMeta(n).controller,{label:o,value:a}=s.getLabelAndValue(r);return{chart:t,label:o,parsed:s.getParsed(r),raw:t.data.datasets[n].data[r],formattedValue:a,dataset:s.getDataset(),dataIndex:r,datasetIndex:n,element:i}}function VA(t,e){const i=t.chart.ctx,{body:n,footer:r,title:s}=t,{boxWidth:o,boxHeight:a}=e,h=D_(e.bodyFont),l=D_(e.titleFont),u=D_(e.footerFont),c=s.length,d=r.length,f=n.length,p=R_(e.padding);let m=p.height,g=0,v=n.reduce(((t,e)=>t+e.before.length+e.lines.length+e.after.length),0);if(v+=t.beforeBody.length+t.afterBody.length,c&&(m+=c*l.lineHeight+(c-1)*e.titleSpacing+e.titleMarginBottom),v){m+=f*(e.displayColors?Math.max(a,h.lineHeight):h.lineHeight)+(v-f)*h.lineHeight+(v-1)*e.bodySpacing}d&&(m+=e.footerMarginTop+d*u.lineHeight+(d-1)*e.footerSpacing);let y=0;const b=function(t){g=Math.max(g,i.measureText(t).width+y)};return i.save(),i.font=l.string,Vb(t.title,b),i.font=h.string,Vb(t.beforeBody.concat(t.afterBody),b),y=e.displayColors?o+2+e.boxPadding:0,Vb(n,(t=>{Vb(t.before,b),Vb(t.lines,b),Vb(t.after,b)})),y=0,i.font=u.string,Vb(t.footer,b),i.restore(),g+=p.width,{width:g,height:m}}function HA(t,e,i,n){const{x:r,width:s}=i,{width:o,chartArea:{left:a,right:h}}=t;let l="center";return"center"===n?l=r<=(a+h)/2?"left":"right":r<=s/2?l="left":r>=o-s/2&&(l="right"),function(t,e,i,n){const{x:r,width:s}=n,o=i.caretSize+i.caretPadding;return"left"===t&&r+s+o>e.width||"right"===t&&r-s-o<0||void 0}(l,t,e,i)&&(l="center"),l}function WA(t,e,i){const n=i.yAlign||e.yAlign||function(t,e){const{y:i,height:n}=e;return i<n/2?"top":i>t.height-n/2?"bottom":"center"}(t,i);return{xAlign:i.xAlign||e.xAlign||HA(t,e,i,n),yAlign:n}}function KA(t,e,i,n){const{caretSize:r,caretPadding:s,cornerRadius:o}=t,{xAlign:a,yAlign:h}=i,l=r+s,{topLeft:u,topRight:c,bottomLeft:d,bottomRight:f}=C_(o);let p=function(t,e){let{x:i,width:n}=t;return"right"===e?i-=n:"center"===e&&(i-=n/2),i}(e,a);const m=function(t,e,i){let{y:n,height:r}=t;return"top"===e?n+=i:n-="bottom"===e?r+i:r/2,n}(e,h,l);return"center"===h?"left"===a?p+=l:"right"===a&&(p-=l):"left"===a?p-=Math.max(u,d)+r:"right"===a&&(p+=Math.max(c,f)+r),{x:Tw(p,0,n.width-e.width),y:Tw(m,0,n.height-e.height)}}function GA(t,e,i){const n=R_(i.padding);return"center"===e?t.x+t.width/2:"right"===e?t.x+t.width-n.right:t.x+n.left}function QA(t){return FA([],jA(t))}function YA(t,e){const i=e&&e.dataset&&e.dataset.tooltip&&e.dataset.tooltip.callbacks;return i?t.override(i):t}const ZA={beforeTitle:Db,title(t){if(t.length>0){const e=t[0],i=e.chart.data.labels,n=i?i.length:0;if(this&&this.options&&"dataset"===this.options.mode)return e.dataset.label||"";if(e.label)return e.label;if(n>0&&e.dataIndex<n)return i[e.dataIndex]}return""},afterTitle:Db,beforeBody:Db,beforeLabel:Db,label(t){if(this&&this.options&&"dataset"===this.options.mode)return t.label+": "+t.formattedValue||t.formattedValue;let e=t.dataset.label||"";e&&(e+=": ");const i=t.formattedValue;return Nb(i)||(e+=i),e},labelColor(t){const e=t.chart.getDatasetMeta(t.datasetIndex).controller.getStyle(t.dataIndex);return{borderColor:e.borderColor,backgroundColor:e.backgroundColor,borderWidth:e.borderWidth,borderDash:e.borderDash,borderDashOffset:e.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(t){const e=t.chart.getDatasetMeta(t.datasetIndex).controller.getStyle(t.dataIndex);return{pointStyle:e.pointStyle,rotation:e.rotation}},afterLabel:Db,afterBody:Db,beforeFooter:Db,footer:Db,afterFooter:Db};function $A(t,e,i,n){const r=t[e].call(i,n);return void 0===r?ZA[e].call(i,n):r}class XA extends Qx{static positioners=UA;constructor(t){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=t.chart,this.options=t.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(t){this.options=t,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const t=this._cachedAnimations;if(t)return t;const e=this.chart,i=this.options.setContext(this.getContext()),n=i.enabled&&e.options.animation&&i.animations,r=new BM(this.chart,n);return n._cacheable&&(this._cachedAnimations=Object.freeze(r)),r}getContext(){return this.$context||(this.$context=(t=this.chart.getContext(),e=this,i=this._tooltipItems,O_(t,{tooltip:e,tooltipItems:i,type:"tooltip"})));var t,e,i}getTitle(t,e){const{callbacks:i}=e,n=$A(i,"beforeTitle",this,t),r=$A(i,"title",this,t),s=$A(i,"afterTitle",this,t);let o=[];return o=FA(o,jA(n)),o=FA(o,jA(r)),o=FA(o,jA(s)),o}getBeforeBody(t,e){return QA($A(e.callbacks,"beforeBody",this,t))}getBody(t,e){const{callbacks:i}=e,n=[];return Vb(t,(t=>{const e={before:[],lines:[],after:[]},r=YA(i,t);FA(e.before,jA($A(r,"beforeLabel",this,t))),FA(e.lines,$A(r,"label",this,t)),FA(e.after,jA($A(r,"afterLabel",this,t))),n.push(e)})),n}getAfterBody(t,e){return QA($A(e.callbacks,"afterBody",this,t))}getFooter(t,e){const{callbacks:i}=e,n=$A(i,"beforeFooter",this,t),r=$A(i,"footer",this,t),s=$A(i,"afterFooter",this,t);let o=[];return o=FA(o,jA(n)),o=FA(o,jA(r)),o=FA(o,jA(s)),o}_createItems(t){const e=this._active,i=this.chart.data,n=[],r=[],s=[];let o,a,h=[];for(o=0,a=e.length;o<a;++o)h.push(zA(this.chart,e[o]));return t.filter&&(h=h.filter(((e,n,r)=>t.filter(e,n,r,i)))),t.itemSort&&(h=h.sort(((e,n)=>t.itemSort(e,n,i)))),Vb(h,(e=>{const i=YA(t.callbacks,e);n.push($A(i,"labelColor",this,e)),r.push($A(i,"labelPointStyle",this,e)),s.push($A(i,"labelTextColor",this,e))})),this.labelColors=n,this.labelPointStyles=r,this.labelTextColors=s,this.dataPoints=h,h}update(t,e){const i=this.options.setContext(this.getContext()),n=this._active;let r,s=[];if(n.length){const t=UA[i.position].call(this,n,this._eventPosition);s=this._createItems(i),this.title=this.getTitle(s,i),this.beforeBody=this.getBeforeBody(s,i),this.body=this.getBody(s,i),this.afterBody=this.getAfterBody(s,i),this.footer=this.getFooter(s,i);const e=this._size=VA(this,i),o=Object.assign({},t,e),a=WA(this.chart,i,o),h=KA(i,o,a,this.chart);this.xAlign=a.xAlign,this.yAlign=a.yAlign,r={opacity:1,x:h.x,y:h.y,width:e.width,height:e.height,caretX:t.x,caretY:t.y}}else 0!==this.opacity&&(r={opacity:0});this._tooltipItems=s,this.$context=void 0,r&&this._resolveAnimations().update(this,r),t&&i.external&&i.external.call(this,{chart:this.chart,tooltip:this,replay:e})}drawCaret(t,e,i,n){const r=this.getCaretPosition(t,i,n);e.lineTo(r.x1,r.y1),e.lineTo(r.x2,r.y2),e.lineTo(r.x3,r.y3)}getCaretPosition(t,e,i){const{xAlign:n,yAlign:r}=this,{caretSize:s,cornerRadius:o}=i,{topLeft:a,topRight:h,bottomLeft:l,bottomRight:u}=C_(o),{x:c,y:d}=t,{width:f,height:p}=e;let m,g,v,y,b,w;return"center"===r?(b=d+p/2,"left"===n?(m=c,g=m-s,y=b+s,w=b-s):(m=c+f,g=m+s,y=b-s,w=b+s),v=m):(g="left"===n?c+Math.max(a,l)+s:"right"===n?c+f-Math.max(h,u)-s:this.caretX,"top"===r?(y=d,b=y-s,m=g-s,v=g+s):(y=d+p,b=y+s,m=g+s,v=g-s),w=y),{x1:m,x2:g,x3:v,y1:y,y2:b,y3:w}}drawTitle(t,e,i){const n=this.title,r=n.length;let s,o,a;if(r){const h=MM(i.rtl,this.x,this.width);for(t.x=GA(this,i.titleAlign,i),e.textAlign=h.textAlign(i.titleAlign),e.textBaseline="middle",s=D_(i.titleFont),o=i.titleSpacing,e.fillStyle=i.titleColor,e.font=s.string,a=0;a<r;++a)e.fillText(n[a],h.x(t.x),t.y+s.lineHeight/2),t.y+=s.lineHeight+o,a+1===r&&(t.y+=i.titleMarginBottom-o)}}_drawColorBox(t,e,i,n,r){const s=this.labelColors[i],o=this.labelPointStyles[i],{boxHeight:a,boxWidth:h}=r,l=D_(r.bodyFont),u=GA(this,"left",r),c=n.x(u),d=a<l.lineHeight?(l.lineHeight-a)/2:0,f=e.y+d;if(r.usePointStyle){const e={radius:Math.min(h,a)/2,pointStyle:o.pointStyle,rotation:o.rotation,borderWidth:1},i=n.leftForLtr(c,h)+h/2,l=f+a/2;t.strokeStyle=r.multiKeyBackground,t.fillStyle=r.multiKeyBackground,p_(t,e,i,l),t.strokeStyle=s.borderColor,t.fillStyle=s.backgroundColor,p_(t,e,i,l)}else{t.lineWidth=Pb(s.borderWidth)?Math.max(...Object.values(s.borderWidth)):s.borderWidth||1,t.strokeStyle=s.borderColor,t.setLineDash(s.borderDash||[]),t.lineDashOffset=s.borderDashOffset||0;const e=n.leftForLtr(c,h),i=n.leftForLtr(n.xPlus(c,1),h-2),o=C_(s.borderRadius);Object.values(o).some((t=>0!==t))?(t.beginPath(),t.fillStyle=r.multiKeyBackground,k_(t,{x:e,y:f,w:h,h:a,radius:o}),t.fill(),t.stroke(),t.fillStyle=s.backgroundColor,t.beginPath(),k_(t,{x:i,y:f+1,w:h-2,h:a-2,radius:o}),t.fill()):(t.fillStyle=r.multiKeyBackground,t.fillRect(e,f,h,a),t.strokeRect(e,f,h,a),t.fillStyle=s.backgroundColor,t.fillRect(i,f+1,h-2,a-2))}t.fillStyle=this.labelTextColors[i]}drawBody(t,e,i){const{body:n}=this,{bodySpacing:r,bodyAlign:s,displayColors:o,boxHeight:a,boxWidth:h,boxPadding:l}=i,u=D_(i.bodyFont);let c=u.lineHeight,d=0;const f=MM(i.rtl,this.x,this.width),p=function(i){e.fillText(i,f.x(t.x+d),t.y+c/2),t.y+=c+r},m=f.textAlign(s);let g,v,y,b,w,_,M;for(e.textAlign=s,e.textBaseline="middle",e.font=u.string,t.x=GA(this,m,i),e.fillStyle=i.bodyColor,Vb(this.beforeBody,p),d=o&&"right"!==m?"center"===s?h/2+l:h+2+l:0,b=0,_=n.length;b<_;++b){for(g=n[b],v=this.labelTextColors[b],e.fillStyle=v,Vb(g.before,p),y=g.lines,o&&y.length&&(this._drawColorBox(e,t,b,f,i),c=Math.max(u.lineHeight,a)),w=0,M=y.length;w<M;++w)p(y[w]),c=u.lineHeight;Vb(g.after,p)}d=0,c=u.lineHeight,Vb(this.afterBody,p),t.y-=r}drawFooter(t,e,i){const n=this.footer,r=n.length;let s,o;if(r){const a=MM(i.rtl,this.x,this.width);for(t.x=GA(this,i.footerAlign,i),t.y+=i.footerMarginTop,e.textAlign=a.textAlign(i.footerAlign),e.textBaseline="middle",s=D_(i.footerFont),e.fillStyle=i.footerColor,e.font=s.string,o=0;o<r;++o)e.fillText(n[o],a.x(t.x),t.y+s.lineHeight/2),t.y+=s.lineHeight+i.footerSpacing}}drawBackground(t,e,i,n){const{xAlign:r,yAlign:s}=this,{x:o,y:a}=t,{width:h,height:l}=i,{topLeft:u,topRight:c,bottomLeft:d,bottomRight:f}=C_(n.cornerRadius);e.fillStyle=n.backgroundColor,e.strokeStyle=n.borderColor,e.lineWidth=n.borderWidth,e.beginPath(),e.moveTo(o+u,a),"top"===s&&this.drawCaret(t,e,i,n),e.lineTo(o+h-c,a),e.quadraticCurveTo(o+h,a,o+h,a+c),"center"===s&&"right"===r&&this.drawCaret(t,e,i,n),e.lineTo(o+h,a+l-f),e.quadraticCurveTo(o+h,a+l,o+h-f,a+l),"bottom"===s&&this.drawCaret(t,e,i,n),e.lineTo(o+d,a+l),e.quadraticCurveTo(o,a+l,o,a+l-d),"center"===s&&"left"===r&&this.drawCaret(t,e,i,n),e.lineTo(o,a+u),e.quadraticCurveTo(o,a,o+u,a),e.closePath(),e.fill(),n.borderWidth>0&&e.stroke()}_updateAnimationTarget(t){const e=this.chart,i=this.$animations,n=i&&i.x,r=i&&i.y;if(n||r){const i=UA[t.position].call(this,this._active,this._eventPosition);if(!i)return;const s=this._size=VA(this,t),o=Object.assign({},i,this._size),a=WA(e,t,o),h=KA(t,o,a,e);n._to===h.x&&r._to===h.y||(this.xAlign=a.xAlign,this.yAlign=a.yAlign,this.width=s.width,this.height=s.height,this.caretX=i.x,this.caretY=i.y,this._resolveAnimations().update(this,h))}}_willRender(){return!!this.opacity}draw(t){const e=this.options.setContext(this.getContext());let i=this.opacity;if(!i)return;this._updateAnimationTarget(e);const n={width:this.width,height:this.height},r={x:this.x,y:this.y};i=Math.abs(i)<.001?0:i;const s=R_(e.padding),o=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;e.enabled&&o&&(t.save(),t.globalAlpha=i,this.drawBackground(r,t,n,e),xM(t,e.textDirection),r.y+=s.top,this.drawTitle(r,t,e),this.drawBody(r,t,e),this.drawFooter(r,t,e),kM(t,e.textDirection),t.restore())}getActiveElements(){return this._active||[]}setActiveElements(t,e){const i=this._active,n=t.map((({datasetIndex:t,index:e})=>{const i=this.chart.getDatasetMeta(t);if(!i)throw new Error("Cannot find a dataset at index "+t);return{datasetIndex:t,element:i.data[e],index:e}})),r=!Hb(i,n),s=this._positionChanged(n,e);(r||s)&&(this._active=n,this._eventPosition=e,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(t,e,i=!0){if(e&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const n=this.options,r=this._active||[],s=this._getActiveElements(t,r,e,i),o=this._positionChanged(s,t),a=e||!Hb(s,r)||o;return a&&(this._active=s,(n.enabled||n.external)&&(this._eventPosition={x:t.x,y:t.y},this.update(!0,e))),a}_getActiveElements(t,e,i,n){const r=this.options;if("mouseout"===t.type)return[];if(!n)return e;const s=this.chart.getElementsAtEventForMode(t,r.mode,r,i);return r.reverse&&s.reverse(),s}_positionChanged(t,e){const{caretX:i,caretY:n,options:r}=this,s=UA[r.position].call(this,t,e);return!1!==s&&(i!==s.x||n!==s.y)}}var JA={id:"tooltip",_element:XA,positioners:UA,afterInit(t,e,i){i&&(t.tooltip=new XA({chart:t,options:i}))},beforeUpdate(t,e,i){t.tooltip&&t.tooltip.initialize(i)},reset(t,e,i){t.tooltip&&t.tooltip.initialize(i)},afterDraw(t){const e=t.tooltip;if(e&&e._willRender()){const i={tooltip:e};if(!1===t.notifyPlugins("beforeTooltipDraw",{...i,cancelable:!0}))return;e.draw(t.ctx),t.notifyPlugins("afterTooltipDraw",i)}},afterEvent(t,e){if(t.tooltip){const i=e.replay;t.tooltip.handleEvent(e.event,i,e.inChartArea)&&(e.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(t,e)=>e.bodyFont.size,boxWidth:(t,e)=>e.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:ZA},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:t=>"filter"!==t&&"itemSort"!==t&&"external"!==t,_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]},tE=Object.freeze({__proto__:null,Colors:uA,Decimation:fA,Filler:qA,Legend:LA,SubTitle:BA,Title:OA,Tooltip:JA});const eE=(t,e,i,n)=>("string"==typeof e?(i=t.push(e)-1,n.unshift({index:i,label:e})):isNaN(e)&&(i=null),i);function iE(t){const e=this.getLabels();return t>=0&&t<e.length?e[t]:t}function nE(t,e){const i=[],{bounds:n,step:r,min:s,max:o,precision:a,count:h,maxTicks:l,maxDigits:u,includeBounds:c}=t,d=r||1,f=l-1,{min:p,max:m}=e,g=!Nb(s),v=!Nb(o),y=!Nb(h),b=(m-p)/(u+1);let w,_,M,x,k=mw((m-p)/f/d)*d;if(k<1e-14&&!g&&!v)return[{value:p},{value:m}];x=Math.ceil(m/k)-Math.floor(p/k),x>f&&(k=mw(x*k/f/d)*d),Nb(a)||(w=Math.pow(10,a),k=Math.ceil(k*w)/w),"ticks"===n?(_=Math.floor(p/k)*k,M=Math.ceil(m/k)*k):(_=p,M=m),g&&v&&r&&yw((o-s)/r,k/1e3)?(x=Math.round(Math.min((o-s)/k,l)),k=(o-s)/x,_=s,M=o):y?(_=g?s:_,M=v?o:M,x=h-1,k=(M-_)/x):(x=(M-_)/k,x=pw(x,Math.round(x),k/1e3)?Math.round(x):Math.ceil(x));const A=Math.max(Mw(k),Mw(_));w=Math.pow(10,Nb(a)?A:a),_=Math.round(_*w)/w,M=Math.round(M*w)/w;let E=0;for(g&&(c&&_!==s?(i.push({value:s}),_<s&&E++,pw(Math.round((_+E*k)*w)/w,s,rE(s,b,t))&&E++):_<s&&E++);E<x;++E){const t=Math.round((_+E*k)*w)/w;if(v&&t>o)break;i.push({value:t})}return v&&c&&M!==o?i.length&&pw(i[i.length-1].value,o,rE(o,b,t))?i[i.length-1].value=o:i.push({value:o}):v&&M!==o||i.push({value:M}),i}function rE(t,e,{horizontal:i,minRotation:n}){const r=ww(n),s=(i?Math.sin(r):Math.cos(r))||.001,o=.75*e*(""+t).length;return Math.min(e/s,o)}class sE extends sk{constructor(t){super(t),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(t,e){return Nb(t)||("number"==typeof t||t instanceof Number)&&!isFinite(+t)?null:+t}handleTickRangeOptions(){const{beginAtZero:t}=this.options,{minDefined:e,maxDefined:i}=this.getUserBounds();let{min:n,max:r}=this;const s=t=>n=e?n:t,o=t=>r=i?r:t;if(t){const t=fw(n),e=fw(r);t<0&&e<0?o(0):t>0&&e>0&&s(0)}if(n===r){let e=0===r?1:Math.abs(.05*r);o(r+e),t||s(n-e)}this.min=n,this.max=r}getTickLimit(){const t=this.options.ticks;let e,{maxTicksLimit:i,stepSize:n}=t;return n?(e=Math.ceil(this.max/n)-Math.floor(this.min/n)+1,e>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${n} would result generating up to ${e} ticks. Limiting to 1000.`),e=1e3)):(e=this.computeTickLimit(),i=i||11),i&&(e=Math.min(i,e)),e}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const t=this.options,e=t.ticks;let i=this.getTickLimit();i=Math.max(2,i);const n=nE({maxTicks:i,bounds:t.bounds,min:t.min,max:t.max,precision:e.precision,step:e.stepSize,count:e.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:e.minRotation||0,includeBounds:!1!==e.includeBounds},this._range||this);return"ticks"===t.bounds&&bw(n,this,"value"),t.reverse?(n.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),n}configure(){const t=this.ticks;let e=this.min,i=this.max;if(super.configure(),this.options.offset&&t.length){const n=(i-e)/Math.max(t.length-1,1)/2;e-=n,i+=n}this._startValue=e,this._endValue=i,this._valueRange=i-e}getLabelForValue(t){return e_(t,this.chart.options.locale,this.options.ticks.format)}}class oE extends sE{static id="linear";static defaults={ticks:{callback:n_.formatters.numeric}};determineDataLimits(){const{min:t,max:e}=this.getMinMax(!0);this.min=Bb(t)?t:0,this.max=Bb(e)?e:1,this.handleTickRangeOptions()}computeTickLimit(){const t=this.isHorizontal(),e=t?this.width:this.height,i=ww(this.options.ticks.minRotation),n=(t?Math.sin(i):Math.cos(i))||.001,r=this._resolveTickFontOptions(0);return Math.ceil(e/Math.min(40,r.lineHeight/n))}getPixelForValue(t){return null===t?NaN:this.getPixelForDecimal((t-this._startValue)/this._valueRange)}getValueForPixel(t){return this._startValue+this.getDecimalForPixel(t)*this._valueRange}}const aE=t=>Math.floor(dw(t)),hE=(t,e)=>Math.pow(10,aE(t)+e);function lE(t){return 1===t/Math.pow(10,aE(t))}function uE(t,e,i){const n=Math.pow(10,i),r=Math.floor(t/n);return Math.ceil(e/n)-r}function cE(t,{min:e,max:i}){e=Ub(t.min,e);const n=[],r=aE(e);let s=function(t,e){let i=aE(e-t);for(;uE(t,e,i)>10;)i++;for(;uE(t,e,i)<10;)i--;return Math.min(i,aE(t))}(e,i),o=s<0?Math.pow(10,Math.abs(s)):1;const a=Math.pow(10,s),h=r>s?Math.pow(10,r):0,l=Math.round((e-h)*o)/o,u=Math.floor((e-h)/a/10)*a*10;let c=Math.floor((l-u)/Math.pow(10,s)),d=Ub(t.min,Math.round((h+u+c*Math.pow(10,s))*o)/o);for(;d<i;)n.push({value:d,major:lE(d),significand:c}),c>=10?c=c<15?15:20:c++,c>=20&&(s++,c=2,o=s>=0?1:o),d=Math.round((h+u+c*Math.pow(10,s))*o)/o;const f=Ub(t.max,d);return n.push({value:f,major:lE(f),significand:c}),n}class fE extends sk{static id="logarithmic";static defaults={ticks:{callback:n_.formatters.logarithmic,major:{enabled:!0}}};constructor(t){super(t),this.start=void 0,this.end=void 0,this._startValue=void 0,this._valueRange=0}parse(t,e){const i=sE.prototype.parse.apply(this,[t,e]);if(0!==i)return Bb(i)&&i>0?i:null;this._zero=!0}determineDataLimits(){const{min:t,max:e}=this.getMinMax(!0);this.min=Bb(t)?Math.max(0,t):null,this.max=Bb(e)?Math.max(0,e):null,this.options.beginAtZero&&(this._zero=!0),this._zero&&this.min!==this._suggestedMin&&!Bb(this._userMin)&&(this.min=t===hE(this.min,0)?hE(this.min,-1):hE(this.min,0)),this.handleTickRangeOptions()}handleTickRangeOptions(){const{minDefined:t,maxDefined:e}=this.getUserBounds();let i=this.min,n=this.max;const r=e=>i=t?i:e,s=t=>n=e?n:t;i===n&&(i<=0?(r(1),s(10)):(r(hE(i,-1)),s(hE(n,1)))),i<=0&&r(hE(n,-1)),n<=0&&s(hE(i,1)),this.min=i,this.max=n}buildTicks(){const t=this.options,e=cE({min:this._userMin,max:this._userMax},this);return"ticks"===t.bounds&&bw(e,this,"value"),t.reverse?(e.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),e}getLabelForValue(t){return void 0===t?"0":e_(t,this.chart.options.locale,this.options.ticks.format)}configure(){const t=this.min;super.configure(),this._startValue=dw(t),this._valueRange=dw(this.max)-dw(t)}getPixelForValue(t){return void 0!==t&&0!==t||(t=this.min),null===t||isNaN(t)?NaN:this.getPixelForDecimal(t===this.min?0:(dw(t)-this._startValue)/this._valueRange)}getValueForPixel(t){const e=this.getDecimalForPixel(t);return Math.pow(10,this._startValue+e*this._valueRange)}}function pE(t){const e=t.ticks;if(e.display&&t.display){const t=R_(e.backdropPadding);return Fb(e.font&&e.font.size,l_.font.size)+t.height}return 0}function mE(t,e,i,n,r){return t===n||t===r?{start:e-i/2,end:e+i/2}:t<n||t>r?{start:e-i,end:e}:{start:e,end:e+i}}function gE(t){const e={l:t.left+t._padding.left,r:t.right-t._padding.right,t:t.top+t._padding.top,b:t.bottom-t._padding.bottom},i=Object.assign({},e),n=[],r=[],s=t._pointLabels.length,o=t.options.pointLabels,a=o.centerPointLabels?rw/s:0;for(let c=0;c<s;c++){const s=o.setContext(t.getPointLabelContext(c));r[c]=s.padding;const d=t.getPointPosition(c,t.drawingArea+r[c],a),f=D_(s.font),p=(h=t.ctx,l=f,u=Ob(u=t._pointLabels[c])?u:[u],{w:c_(h,l.string,u),h:u.length*l.lineHeight});n[c]=p;const m=Ew(t.getIndexAngle(c)+a),g=Math.round(_w(m));vE(i,e,m,mE(g,d.x,p.w,0,180),mE(g,d.y,p.h,90,270))}var h,l,u;t.setCenterPoint(e.l-i.l,i.r-e.r,e.t-i.t,i.b-e.b),t._pointLabelItems=function(t,e,i){const n=[],r=t._pointLabels.length,s=t.options,{centerPointLabels:o,display:a}=s.pointLabels,h={extra:pE(s)/2,additionalAngle:o?rw/r:0};let l;for(let s=0;s<r;s++){h.padding=i[s],h.size=e[s];const r=yE(t,s,h);n.push(r),"auto"===a&&(r.visible=bE(r,l),r.visible&&(l=r))}return n}(t,n,r)}function vE(t,e,i,n,r){const s=Math.abs(Math.sin(i)),o=Math.abs(Math.cos(i));let a=0,h=0;n.start<e.l?(a=(e.l-n.start)/s,t.l=Math.min(t.l,e.l-a)):n.end>e.r&&(a=(n.end-e.r)/s,t.r=Math.max(t.r,e.r+a)),r.start<e.t?(h=(e.t-r.start)/o,t.t=Math.min(t.t,e.t-h)):r.end>e.b&&(h=(r.end-e.b)/o,t.b=Math.max(t.b,e.b+h))}function yE(t,e,i){const n=t.drawingArea,{extra:r,additionalAngle:s,padding:o,size:a}=i,h=t.getPointPosition(e,n+r+o,s),l=Math.round(_w(Ew(h.angle+lw))),u=function(t,e,i){90===i||270===i?t-=e/2:(i>270||i<90)&&(t-=e);return t}(h.y,a.h,l),c=function(t){if(0===t||180===t)return"center";if(t<180)return"left";return"right"}(l),d=function(t,e,i){"right"===i?t-=e:"center"===i&&(t-=e/2);return t}(h.x,a.w,c);return{visible:!0,x:h.x,y:u,textAlign:c,left:d,top:u,right:d+a.w,bottom:u+a.h}}function bE(t,e){if(!e)return!0;const{left:i,top:n,right:r,bottom:s}=t;return!(g_({x:i,y:n},e)||g_({x:i,y:s},e)||g_({x:r,y:n},e)||g_({x:r,y:s},e))}function wE(t,e,i){const{left:n,top:r,right:s,bottom:o}=i,{backdropColor:a}=e;if(!Nb(a)){const i=C_(e.borderRadius),h=R_(e.backdropPadding);t.fillStyle=a;const l=n-h.left,u=r-h.top,c=s-n+h.width,d=o-r+h.height;Object.values(i).some((t=>0!==t))?(t.beginPath(),k_(t,{x:l,y:u,w:c,h:d,radius:i}),t.fill()):t.fillRect(l,u,c,d)}}function _E(t,e,i,n){const{ctx:r}=t;if(i)r.arc(t.xCenter,t.yCenter,e,0,sw);else{let i=t.getPointPosition(0,e);r.moveTo(i.x,i.y);for(let s=1;s<n;s++)i=t.getPointPosition(s,e),r.lineTo(i.x,i.y)}}class ME extends sE{static id="radialLinear";static defaults={display:!0,animate:!0,position:"chartArea",angleLines:{display:!0,lineWidth:1,borderDash:[],borderDashOffset:0},grid:{circular:!1},startAngle:0,ticks:{showLabelBackdrop:!0,callback:n_.formatters.numeric},pointLabels:{backdropColor:void 0,backdropPadding:2,display:!0,font:{size:10},callback:t=>t,padding:5,centerPointLabels:!1}};static defaultRoutes={"angleLines.color":"borderColor","pointLabels.color":"color","ticks.color":"color"};static descriptors={angleLines:{_fallback:"grid"}};constructor(t){super(t),this.xCenter=void 0,this.yCenter=void 0,this.drawingArea=void 0,this._pointLabels=[],this._pointLabelItems=[]}setDimensions(){const t=this._padding=R_(pE(this.options)/2),e=this.width=this.maxWidth-t.width,i=this.height=this.maxHeight-t.height;this.xCenter=Math.floor(this.left+e/2+t.left),this.yCenter=Math.floor(this.top+i/2+t.top),this.drawingArea=Math.floor(Math.min(e,i)/2)}determineDataLimits(){const{min:t,max:e}=this.getMinMax(!1);this.min=Bb(t)&&!isNaN(t)?t:0,this.max=Bb(e)&&!isNaN(e)?e:0,this.handleTickRangeOptions()}computeTickLimit(){return Math.ceil(this.drawingArea/pE(this.options))}generateTickLabels(t){sE.prototype.generateTickLabels.call(this,t),this._pointLabels=this.getLabels().map(((t,e)=>{const i=zb(this.options.pointLabels.callback,[t,e],this);return i||0===i?i:""})).filter(((t,e)=>this.chart.getDataVisibility(e)))}fit(){const t=this.options;t.display&&t.pointLabels.display?gE(this):this.setCenterPoint(0,0,0,0)}setCenterPoint(t,e,i,n){this.xCenter+=Math.floor((t-e)/2),this.yCenter+=Math.floor((i-n)/2),this.drawingArea-=Math.min(this.drawingArea/2,Math.max(t,e,i,n))}getIndexAngle(t){return Ew(t*(sw/(this._pointLabels.length||1))+ww(this.options.startAngle||0))}getDistanceFromCenterForValue(t){if(Nb(t))return NaN;const e=this.drawingArea/(this.max-this.min);return this.options.reverse?(this.max-t)*e:(t-this.min)*e}getValueForDistanceFromCenter(t){if(Nb(t))return NaN;const e=t/(this.drawingArea/(this.max-this.min));return this.options.reverse?this.max-e:this.min+e}getPointLabelContext(t){const e=this._pointLabels||[];if(t>=0&&t<e.length){const i=e[t];return function(t,e,i){return O_(t,{label:i,index:e,type:"pointLabel"})}(this.getContext(),t,i)}}getPointPosition(t,e,i=0){const n=this.getIndexAngle(t)-lw+i;return{x:Math.cos(n)*e+this.xCenter,y:Math.sin(n)*e+this.yCenter,angle:n}}getPointPositionForValue(t,e){return this.getPointPosition(t,this.getDistanceFromCenterForValue(e))}getBasePosition(t){return this.getPointPositionForValue(t||0,this.getBaseValue())}getPointLabelPosition(t){const{left:e,top:i,right:n,bottom:r}=this._pointLabelItems[t];return{left:e,top:i,right:n,bottom:r}}drawBackground(){const{backgroundColor:t,grid:{circular:e}}=this.options;if(t){const i=this.ctx;i.save(),i.beginPath(),_E(this,this.getDistanceFromCenterForValue(this._endValue),e,this._pointLabels.length),i.closePath(),i.fillStyle=t,i.fill(),i.restore()}}drawGrid(){const t=this.ctx,e=this.options,{angleLines:i,grid:n,border:r}=e,s=this._pointLabels.length;let o,a,h;if(e.pointLabels.display&&function(t,e){const{ctx:i,options:{pointLabels:n}}=t;for(let r=e-1;r>=0;r--){const e=t._pointLabelItems[r];if(!e.visible)continue;const s=n.setContext(t.getPointLabelContext(r));wE(i,s,e);const o=D_(s.font),{x:a,y:h,textAlign:l}=e;x_(i,t._pointLabels[r],a,h+o.lineHeight/2,o,{color:s.color,textAlign:l,textBaseline:"middle"})}}(this,s),n.display&&this.ticks.forEach(((t,e)=>{if(0!==e){a=this.getDistanceFromCenterForValue(t.value);const i=this.getContext(e),o=n.setContext(i),h=r.setContext(i);!function(t,e,i,n,r){const s=t.ctx,o=e.circular,{color:a,lineWidth:h}=e;!o&&!n||!a||!h||i<0||(s.save(),s.strokeStyle=a,s.lineWidth=h,s.setLineDash(r.dash),s.lineDashOffset=r.dashOffset,s.beginPath(),_E(t,i,o,n),s.closePath(),s.stroke(),s.restore())}(this,o,a,s,h)}})),i.display){for(t.save(),o=s-1;o>=0;o--){const n=i.setContext(this.getPointLabelContext(o)),{color:r,lineWidth:s}=n;s&&r&&(t.lineWidth=s,t.strokeStyle=r,t.setLineDash(n.borderDash),t.lineDashOffset=n.borderDashOffset,a=this.getDistanceFromCenterForValue(e.ticks.reverse?this.min:this.max),h=this.getPointPosition(o,a),t.beginPath(),t.moveTo(this.xCenter,this.yCenter),t.lineTo(h.x,h.y),t.stroke())}t.restore()}}drawBorder(){}drawLabels(){const t=this.ctx,e=this.options,i=e.ticks;if(!i.display)return;const n=this.getIndexAngle(0);let r,s;t.save(),t.translate(this.xCenter,this.yCenter),t.rotate(n),t.textAlign="center",t.textBaseline="middle",this.ticks.forEach(((n,o)=>{if(0===o&&!e.reverse)return;const a=i.setContext(this.getContext(o)),h=D_(a.font);if(r=this.getDistanceFromCenterForValue(this.ticks[o].value),a.showLabelBackdrop){t.font=h.string,s=t.measureText(n.label).width,t.fillStyle=a.backdropColor;const e=R_(a.backdropPadding);t.fillRect(-s/2-e.left,-r-h.size/2-e.top,s+e.width,h.size+e.height)}x_(t,n.label,0,-r,h,{color:a.color})})),t.restore()}drawTitle(){}}const xE={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},kE=Object.keys(xE);function AE(t,e){return t-e}function EE(t,e){if(Nb(e))return null;const i=t._adapter,{parser:n,round:r,isoWeekday:s}=t._parseOpts;let o=e;return"function"==typeof n&&(o=n(o)),Bb(o)||(o="string"==typeof n?i.parse(o,n):i.parse(o)),null===o?null:(r&&(o="week"!==r||!vw(s)&&!0!==s?i.startOf(o,r):i.startOf(o,"isoWeek",s)),+o)}function SE(t,e,i,n){const r=kE.length;for(let s=kE.indexOf(t);s<r-1;++s){const t=xE[kE[s]],r=t.steps?t.steps:Number.MAX_SAFE_INTEGER;if(t.common&&Math.ceil((i-e)/(r*t.size))<=n)return kE[s]}return kE[r-1]}function TE(t,e,i){if(i){if(i.length){const{lo:n,hi:r}=qw(i,e);t[i[n]>=e?i[n]:i[r]]=!0}}else t[e]=!0}function IE(t,e,i){const n=[],r={},s=e.length;let o,a;for(o=0;o<s;++o)a=e[o],r[a]=o,n.push({value:a,major:!1});return 0!==s&&i?function(t,e,i,n){const r=t._adapter,s=+r.startOf(e[0].value,n),o=e[e.length-1].value;let a,h;for(a=s;a<=o;a=+r.add(a,1,n))h=i[a],h>=0&&(e[h].major=!0);return e}(t,n,r,i):n}class qE extends sk{static id="time";static defaults={bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}};constructor(t){super(t),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(t,e={}){const i=t.time||(t.time={}),n=this._adapter=new ux(t.adapters.date);n.init(e),Yb(i.displayFormats,n.formats()),this._parseOpts={parser:i.parser,round:i.round,isoWeekday:i.isoWeekday},super.init(t),this._normalized=e.normalized}parse(t,e){return void 0===t?null:EE(this,t)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const t=this.options,e=this._adapter,i=t.time.unit||"day";let{min:n,max:r,minDefined:s,maxDefined:o}=this.getUserBounds();function a(t){s||isNaN(t.min)||(n=Math.min(n,t.min)),o||isNaN(t.max)||(r=Math.max(r,t.max))}s&&o||(a(this._getLabelBounds()),"ticks"===t.bounds&&"labels"===t.ticks.source||a(this.getMinMax(!1))),n=Bb(n)&&!isNaN(n)?n:+e.startOf(Date.now(),i),r=Bb(r)&&!isNaN(r)?r:+e.endOf(Date.now(),i)+1,this.min=Math.min(n,r-1),this.max=Math.max(n+1,r)}_getLabelBounds(){const t=this.getLabelTimestamps();let e=Number.POSITIVE_INFINITY,i=Number.NEGATIVE_INFINITY;return t.length&&(e=t[0],i=t[t.length-1]),{min:e,max:i}}buildTicks(){const t=this.options,e=t.time,i=t.ticks,n="labels"===i.source?this.getLabelTimestamps():this._generate();"ticks"===t.bounds&&n.length&&(this.min=this._userMin||n[0],this.max=this._userMax||n[n.length-1]);const r=this.min,s=Dw(n,r,this.max);return this._unit=e.unit||(i.autoSkip?SE(e.minUnit,this.min,this.max,this._getLabelCapacity(r)):function(t,e,i,n,r){for(let s=kE.length-1;s>=kE.indexOf(i);s--){const i=kE[s];if(xE[i].common&&t._adapter.diff(r,n,i)>=e-1)return i}return kE[i?kE.indexOf(i):0]}(this,s.length,e.minUnit,this.min,this.max)),this._majorUnit=i.major.enabled&&"year"!==this._unit?function(t){for(let e=kE.indexOf(t)+1,i=kE.length;e<i;++e)if(xE[kE[e]].common)return kE[e]}(this._unit):void 0,this.initOffsets(n),t.reverse&&s.reverse(),IE(this,s,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map((t=>+t.value)))}initOffsets(t=[]){let e,i,n=0,r=0;this.options.offset&&t.length&&(e=this.getDecimalForValue(t[0]),n=1===t.length?1-e:(this.getDecimalForValue(t[1])-e)/2,i=this.getDecimalForValue(t[t.length-1]),r=1===t.length?i:(i-this.getDecimalForValue(t[t.length-2]))/2);const s=t.length<3?.5:.25;n=Tw(n,0,s),r=Tw(r,0,s),this._offsets={start:n,end:r,factor:1/(n+1+r)}}_generate(){const t=this._adapter,e=this.min,i=this.max,n=this.options,r=n.time,s=r.unit||SE(r.minUnit,e,i,this._getLabelCapacity(e)),o=Fb(n.ticks.stepSize,1),a="week"===s&&r.isoWeekday,h=vw(a)||!0===a,l={};let u,c,d=e;if(h&&(d=+t.startOf(d,"isoWeek",a)),d=+t.startOf(d,h?"day":s),t.diff(i,e,s)>1e5*o)throw new Error(e+" and "+i+" are too far apart with stepSize of "+o+" "+s);const f="data"===n.ticks.source&&this.getDataTimestamps();for(u=d,c=0;u<i;u=+t.add(u,o,s),c++)TE(l,u,f);return u!==i&&"ticks"!==n.bounds&&1!==c||TE(l,u,f),Object.keys(l).sort(((t,e)=>t-e)).map((t=>+t))}getLabelForValue(t){const e=this._adapter,i=this.options.time;return i.tooltipFormat?e.format(t,i.tooltipFormat):e.format(t,i.displayFormats.datetime)}format(t,e){const i=this.options.time.displayFormats,n=this._unit,r=e||i[n];return this._adapter.format(t,r)}_tickFormatFunction(t,e,i,n){const r=this.options,s=r.ticks.callback;if(s)return zb(s,[t,e,i],this);const o=r.time.displayFormats,a=this._unit,h=this._majorUnit,l=a&&o[a],u=h&&o[h],c=i[e],d=h&&u&&c&&c.major;return this._adapter.format(t,n||(d?u:l))}generateTickLabels(t){let e,i,n;for(e=0,i=t.length;e<i;++e)n=t[e],n.label=this._tickFormatFunction(n.value,e,t)}getDecimalForValue(t){return null===t?NaN:(t-this.min)/(this.max-this.min)}getPixelForValue(t){const e=this._offsets,i=this.getDecimalForValue(t);return this.getPixelForDecimal((e.start+i)*e.factor)}getValueForPixel(t){const e=this._offsets,i=this.getDecimalForPixel(t)/e.factor-e.end;return this.min+i*(this.max-this.min)}_getLabelSize(t){const e=this.options.ticks,i=this.ctx.measureText(t).width,n=ww(this.isHorizontal()?e.maxRotation:e.minRotation),r=Math.cos(n),s=Math.sin(n),o=this._resolveTickFontOptions(0).size;return{w:i*r+o*s,h:i*s+o*r}}_getLabelCapacity(t){const e=this.options.time,i=e.displayFormats,n=i[e.unit]||i.millisecond,r=this._tickFormatFunction(t,0,IE(this,[t],this._majorUnit),n),s=this._getLabelSize(r),o=Math.floor(this.isHorizontal()?this.width/s.w:this.height/s.h)-1;return o>0?o:1}getDataTimestamps(){let t,e,i=this._cache.data||[];if(i.length)return i;const n=this.getMatchingVisibleMetas();if(this._normalized&&n.length)return this._cache.data=n[0].controller.getAllParsedValues(this);for(t=0,e=n.length;t<e;++t)i=i.concat(n[t].controller.getAllParsedValues(this));return this._cache.data=this.normalize(i)}getLabelTimestamps(){const t=this._cache.labels||[];let e,i;if(t.length)return t;const n=this.getLabels();for(e=0,i=n.length;e<i;++e)t.push(EE(this,n[e]));return this._cache.labels=this._normalized?t:this.normalize(t)}normalize(t){return Ow(t.sort(AE))}}function CE(t,e,i){let n,r,s,o,a=0,h=t.length-1;i?(e>=t[a].pos&&e<=t[h].pos&&({lo:a,hi:h}=Cw(t,"pos",e)),({pos:n,time:s}=t[a]),({pos:r,time:o}=t[h])):(e>=t[a].time&&e<=t[h].time&&({lo:a,hi:h}=Cw(t,"time",e)),({time:n,pos:s}=t[a]),({time:r,pos:o}=t[h]));const l=r-n;return l?s+(o-s)*(e-n)/l:s}const RE=[ax,nA,tE,Object.freeze({__proto__:null,CategoryScale:class extends sk{static id="category";static defaults={ticks:{callback:iE}};constructor(t){super(t),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(t){const e=this._addedLabels;if(e.length){const t=this.getLabels();for(const{index:i,label:n}of e)t[i]===n&&t.splice(i,1);this._addedLabels=[]}super.init(t)}parse(t,e){if(Nb(t))return null;const i=this.getLabels();return e=isFinite(e)&&i[e]===t?e:function(t,e,i,n){const r=t.indexOf(e);return-1===r?eE(t,e,i,n):r!==t.lastIndexOf(e)?i:r}(i,t,Fb(e,t),this._addedLabels),((t,e)=>null===t?null:Tw(Math.round(t),0,e))(e,i.length-1)}determineDataLimits(){const{minDefined:t,maxDefined:e}=this.getUserBounds();let{min:i,max:n}=this.getMinMax(!0);"ticks"===this.options.bounds&&(t||(i=0),e||(n=this.getLabels().length-1)),this.min=i,this.max=n}buildTicks(){const t=this.min,e=this.max,i=this.options.offset,n=[];let r=this.getLabels();r=0===t&&e===r.length-1?r:r.slice(t,e+1),this._valueRange=Math.max(r.length-(i?0:1),1),this._startValue=this.min-(i?.5:0);for(let i=t;i<=e;i++)n.push({value:i});return n}getLabelForValue(t){return iE.call(this,t)}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(t){return"number"!=typeof t&&(t=this.parse(t)),null===t?NaN:this.getPixelForDecimal((t-this._startValue)/this._valueRange)}getPixelForTick(t){const e=this.ticks;return t<0||t>e.length-1?null:this.getPixelForValue(e[t].value)}getValueForPixel(t){return Math.round(this._startValue+this.getDecimalForPixel(t)*this._valueRange)}getBasePixel(){return this.bottom}},LinearScale:oE,LogarithmicScale:fE,RadialLinearScale:ME,TimeScale:qE,TimeSeriesScale:class extends qE{static id="timeseries";static defaults=qE.defaults;constructor(t){super(t),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){const t=this._getTimestampsForTable(),e=this._table=this.buildLookupTable(t);this._minPos=CE(e,this.min),this._tableRange=CE(e,this.max)-this._minPos,super.initOffsets(t)}buildLookupTable(t){const{min:e,max:i}=this,n=[],r=[];let s,o,a,h,l;for(s=0,o=t.length;s<o;++s)h=t[s],h>=e&&h<=i&&n.push(h);if(n.length<2)return[{time:e,pos:0},{time:i,pos:1}];for(s=0,o=n.length;s<o;++s)l=n[s+1],a=n[s-1],h=n[s],Math.round((l+a)/2)!==h&&r.push({time:h,pos:s/(o-1)});return r}_getTimestampsForTable(){let t=this._cache.all||[];if(t.length)return t;const e=this.getDataTimestamps(),i=this.getLabelTimestamps();return t=e.length&&i.length?this.normalize(e.concat(i)):e.length?e:i,t=this._cache.all=t,t}getDecimalForValue(t){return(CE(this._table,t)-this._minPos)/this._tableRange}getValueForPixel(t){const e=this._offsets,i=this.getDecimalForPixel(t)/e.factor-e.end;return CE(this._table,i*this._tableRange+this._minPos,!0)}}})];Nk.register(...RE);var DE=Nk;let LE='\n<div style = "width:100%;display:flex;flex-direction:row;height:100%;padding:10px;">\n    <div style = "width:50%;overflow-y:scroll;margin:10px;border: 1px solid grey;padding:10px;">\n        <div style = "width:100%;display:flex;flex-direction:row;align-items:center;border:1px solid grey;border-radius:5px;">\n            <button class = "tst_btn" id = "btn_code_solution">Solution</button>\n            <button class = "tst_btn" id = "btn_code_report">Report</button>\n        </div>\n        <div style = "margin:10px;padding:10px;" id = "code_description">\n            <span style = "font-size:30px" id = "cdh_name">Two Sum</span>\n            <button class = "tst_btn" style = "font-size:12px" id = "cdh_tag">Companies</button><span style = "color:green" id = "cdh_difficulty"> Easy</span>\n            <hr>\n            <div id = "cdh_description">\n            Given an array of integers nums and an integer target, return indices of the two numbers such that they add up to target.\n\n            You may assume that each input would have exactly one solution, and you may not use the same element twice.\n            \n            You can return the answer in any order.\n            </div>\n            <hr>\n        </div>\n        <span style = "font-size:12px">Current Limitations: When variable is passed, interpreter assumes all variables as "string" and hence they need to be type casted to give correct output.</span>\n    </div>\n    <div style = "width:50%;overflow-y:scroll;margin:10px;border: 1px solid grey;padding:10px;">\n    <div style = "width:100%;display:flex;flex-direction:row;align-items:center;border:1px solid grey;border-radius:5px;">\n    <select name="class" id="rg_class" disabled>\n        <option value="js">Javascript</option>\n        <option value="py">Python</option>\n    </select>\n    <button class = "tst_btn" id = "btn_code_submit">Submit</button>\n    </div>\n    <div style = "height:40vh;border: 1px solid grey;border-radius:5px;margin:10px;" id = "code_editor">\n    </div>\n    <div style = "height:20vh;border: 1px solid grey;border-radius:5px;margin:10px;background-color:black;font-family:consolas;font-size:12px;" id = "code_console">\n\n    </div>\n</div>\n',NE='\n<span class="in_t">CodeHunt<super style = "font-size:12px">BETA</super>- Problem List</span><button class="tst_btn rpl" id="stre_itm_add" style="display: none;" onclick=\'window.location.hash = "#/add_storeitem/"\'>Add Item</button>\n<hr style="color:var(--clr18)" width="100%">\n<div id = "prb_list" style = "width:100%;height:75vh;display:flex;flex-direction:row;flex-wrap:wrap;justify-content:center;"></div>\n';var OE;OE=new URL("js/"+r("bRe85").resolve("3FItI"),import.meta.url).toString();(async()=>{await navigator.serviceWorker.register(OE)})();St({apiKey:"AIzaSyDN8T7Pmw5e-LzmC3nAHEqI0Uk7FF7y6fc",authDomain:"quarkz.firebaseapp.com",projectId:"quarkz",storageBucket:"quarkz.appspot.com",messagingSenderId:"1050835442263",appId:"1:1050835442263:web:e7d05ca9373f2f6083a112",measurementId:"G-1Y3S45VWFH"});const PE=em(),BE=tr();
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var UE,FE;(UE=BE,FE=Di,N(UE).setPersistence(FE)).then((()=>ki(BE,email,password))).catch((t=>{}));const jE=function(t=Tt(),e){const i=xt(t=N(t),Uv).getImmediate({identifier:e}),n=f("storage");return n&&function(t,e,i,n={}){!function(t,e,i,n={}){t.host=`${e}:${i}`,t._protocol="http";const{mockUserToken:r}=n;r&&(t._overrideAuthToken="string"==typeof r?r:v(r,t.app.options.projectId))}(t,e,i,n)}
/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(i,...n),i}();async function zE(){var t=Uy("lg_uname").value,e=Uy("lg_pass").value;ki(BE,t,e).then((e=>{e.user;bT.email=t,WE("dashboard",1),addToast("success","Login Successful!")})).catch((t=>{t.code,t.message;addToast("error","Login Denied. Wrong Username or Password."),Uy("lg_pass").value=""}))}function VE(){Ii(tr()),bT=[],WE("login",1),addToast("success","Logout Successful!"),window.location.reload()}function HE(){var t=Uy("rg_uname").value,e=Uy("rg_pass").value,i=Uy("rg_name").value,n=Uy("rg_mbleno").value,r=Uy("rg_class").value,s=Uy("rg_gender").value;""!=t&&""!=e&&""!=i&&""!=n&&""!=r||addToast("error","Details Cannot Be Empty"),e!=Uy("rg_pass1").value?addToast("error","Passwords dont match."):xi(BE,t,e).then((e=>{const o=e.user;!async function(){try{await ag(jp(PE,"users",o.uid),{name:i,class:r,mblno:n,email:t,spoints:0,gen:s,batch:"guest",sgndon:pg(),roles:{user:!0}}).then((function(){window.location.hash="#/dashboard",window.location.reload()}))}catch(t){addToast("error","Error Adding New User"+t)}}()})).catch((t=>{addToast("error","Error Adding New User"+t);t.code,t.message}))}function WE(t,e){!function(t,e){Hy("d"),1==e&&(window.location.hash="#/"+t);t,mT=window.location.hash.split("#/")[1],(0==dT||null==dT||null==dT)&&("login"==mT||"register"==mT||mT.includes("notes")&&!mT.includes("usernotes")||"legal"==mT||"about"==mT||"bugreport"==mT||"appinfo"==mT||"mainsformulas"==mT||"downloads"==mT||"uploads"==mT||(mT="error_page"));switch(mT){case"profile":"profile",KE(fy,"",""),async function(){Uy("prf_pphoto");var t=Uy("prf_name"),e=Uy("prf_phone"),i=Uy("prf_email"),n=Uy("prf_class"),r=(Uy("prf_batch"),Uy("prf_gender")),s=Uy("prf_crton"),o=(Uy("tmt_frame"),Uy("spoints"));t.textContent=lT.name,e.textContent=lT.mblno,i.textContent=lT.email,n.textContent=lT.class,s.textContent=new Date(1e3*lT.sgndon.seconds).toDateString(),r.textContent=lT.gen,lT.curr_batch,lT.course,o.textContent=lT.spoints,lT.usernotes=lT.usernotes,Uy("prf_tab_t_t_img").src=Yy(lT.name,lT.gen,lT.prf_type)}();break;case"about":function i(){HS("legal",1)}"aboutus",KE(Hv,"text-align: center;height:max-content;",""),Uy("lgl_btn").addEventListener("click",i);break;case"login":function n(){HS("register",1)}"login",KE(cy,"justify-content: center;","","1"),Uy("sgn_in").addEventListener("click",zE),Uy("reg_in").addEventListener("click",n);break;case"dashboard":"dashboard",KE(Qv,"display: flex;flex-direction: row;",""),Uy("dshd_uname").innerText=lT.email,Uy("dshd_name").innerText=lT.name,Uy("dshd_batch").innerText=lT.batchname,Uy("prf_tab_img").src=Yy(lT.name,lT.gen,lT.prf_type),function(){for(let i=0;i<lT.examslist.examinfo.length;i++){var t=lT.examslist.examinfo[i],e="exam"+Math.floor(1e5*Math.random());Uy("db_exam_list").insertAdjacentHTML("beforeend",'<div class = "tlinks_min rpl" id = '+e+" onclick = 'log(\""+t.name+'","'+t.date+'","'+t.info+'","'+t.syllabus+'",3)\'><span style="font-size: 16px;">'+t.name+"</span></div>"),Uy(e).addEventListener("click",(function(){}))}}();break;case"timetable":"schedule",KE($v,"",""),Hy("s"),Uy("tmt_frame").src=lT.timetableurl;break;case"logout":VE();break;case"mainsformulas":"mainsformulas",KE(ny(ry,"formulasheet"),"","");break;case"downloads":"downloads",KE(ny(ry,"downloads"),"","");break;case"register":"register",KE(my,"height:max-content;","","1"),Uy("rg_in").addEventListener("click",rT);break;case"testinfo":"testinfo",KE(My,"height:max-content;",""),function(){function t(){GS("active")}function e(){GS("upcoming")}function i(){GS("finished")}Uy("ti_act").addEventListener("click",t),Uy("ti_upc").addEventListener("click",e),Uy("ti_fin").addEventListener("click",i)}(),GS("active");break;case"legal":"legal",KE(Ay,"",""),Wy("lgl_container");break;case"appinfo":"appinfo",KE(Zv,"",""),Uy("ren_appinf").textContent=JSON.stringify(hT,void 0,4);break;case"forum":"forum",KE(oy,"","");Uy("fm_send").addEventListener("click",fS);mS(),async function(){var t=jp(PE,"forum","pinned"),e=await rg(t);if(e.exists()){t=e.data();Uy("pinnedtxt").innerText=t.message}}();break;case"bugreport":"bugreport",KE(Yv,"","");break;case"simlist":"simlist",KE(wy,"","","1"),function(){function t(){aS("physics")}function e(){aS("chemistry")}function i(){aS("maths")}function n(){aS("biology")}function r(){aS("computer")}function s(){aS("statistics")}function o(){aS("unfiled")}Uy("psims").addEventListener("click",t),Uy("csims").addEventListener("click",e),Uy("msims").addEventListener("click",i),Uy("bsims").addEventListener("click",n),Uy("cosims").addEventListener("click",r),Uy("ssims").addEventListener("click",s),Uy("usims").addEventListener("click",o)}(),aS();break;case"testend":"test_end",KE(ky,"","");break;case"add/lesson":"fu_lesson",newLesson();break;case"updates":"update",KE(ey,"height: max-content;justify-content: center;",""),async function(){let t=await rg(jp(PE,"usernotes","releasenotes"));t.exists()&&(Uy("rel_list").innerHTML=t.data().notes);let e=await rg(jp(PE,"usernotes","updates"));e.exists()&&(Uy("updt_list").innerHTML=e.data().notes)}();break;case"add/tpc":"fu_topic",async function(){try{WE("edit_tpc/"+(await ug(Fp(PE,"topic"),{name:"",qllist:[],level:"jee",chid:"",chname:"",subject:""})).id,1)}catch{}}();break;case"add/qubank":"fu_topic",async function(){try{WE("edit_qubank/"+(await ug(Fp(PE,"qbank"),{name:"",qllist:[],level:"jee",chid:"",chname:"",subject:""})).id,1)}catch{}}();break;case"add/simulation":"fu_simulation",async function(){try{WE("edit_sim/"+(await ug(Fp(PE,"sims"),{name:"",license:"",provider:"",url:""})).id,1)}catch{}}();break;case"add/tests":"fu_topic",async function(){try{const t=await ug(Fp(PE,"tests"),{title:"",totalmarks:0,timeallotted:0,syllabus:"",strton:pg(),endon:pg(),questionnos:0,finished:[],batch:[]});await ag(jp(PE,"tests",t.id,"questions","questions"),{questions:[]}),await ag(jp(PE,"tests",t.id,"questions","answers"),{questions:[]}),await ag(jp(PE,"tests",t.id,"responses","finished"),{finished:[],leaderboard:[]});WE("edit_tests/"+t.id,1)}catch{}}();break;case"add/batch":"fu_topic",async function(){try{const t=await ug(Fp(PE,"batch"),{name:"",timetable:"",crton:pg(),class:12,chlist:[],delon:pg()});await ag(jp(PE,"batch",t.id,"info","tests"),{tests:[]}),await ag(jp(PE,"batch",t.id,"info","updates"),{u:[]});WE("edit_batch/"+t.id,1)}catch{}}();break;case"add/store_item":"fu_storeitem",async function(){try{WE("edit_store/"+(await ug(Fp(PE,"store"),{name:"Store Item",price:"1000",bannerlink:"https://store.mtt.one",affiliatelink:"https://affiliate.mtt.one",crton:pg(),p:0})).id,1)}catch{}}();break;case"add/codehunt":"fu_codehunt",async function(){try{WE("edit_codehunt/"+(await ug(Fp(PE,"store"),{active:"0",args:"num",crton:pg(),description:"Given a random <code>num</code>, print the number.",difficulty:"easy",explanation:"Nothing to say",name:"Random Number?",solution:"function execute(val1){\n    val1 = parseInt(val1) * 2;\n    return val1;\n}",tag:"First Problem",submit_input:["1","2","3","4"],submit_output:["2","4","6","8"],p:0})).id,1)}catch{}}();break;case"codehunt":"fu_code_problemlist",KE(NE,"",""),async function(){if(lT.codeitems.length<=0){lT.codeitems=[];const t=Um(Fp(PE,"codehunt"),jm("active","==","1"),Km(6));(await og(t)).forEach((t=>{var e=t.data();lT.codeitems.push({id:t.id,crton:e.crton,name:e.name,difficulty:e.difficulty})}))}for(var t=0;t<lT.codeitems.length;t++){Uy("prb_list").insertAdjacentHTML("beforeend",'<div id = "sl'+lT.codeitems[t].id+'" class = "tlinks-3" style = "background-size: cover;"><span class = "t_title">'+lT.codeitems[t].name+'</span><span style = "font-size: 12px;color:grey;">'+lT.codeitems[t].difficulty+"</span></div>");let e=lT.codeitems[t].id;Uy("sl"+lT.codeitems[t].id).addEventListener("click",(function(){window.location.hash="#/codehunt/problem/"+e}))}}();break;case"store":"fu_shop",KE(qy,"height:max-content;",""),async function(){if(lT.storeitems.length<=0){lT.storeitems=[];const t=Um(Fp(PE,"store"));(await og(t)).forEach((t=>{var e=t.data();lT.storeitems.push({id:t.id,crton:e.crton,name:e.name,price:e.price,bannerlink:e.bannerlink,affiliatelink:e.affiliatelink})}))}for(var t=0;t<lT.storeitems.length;t++)Uy("store_list").insertAdjacentHTML("beforeend",'<a style="width:max-content;height:max-content;" href = "'+lT.storeitems[t].affiliatelink+'" target = "_blank" id = "sl'+lT.storeitems[t].id+'"><div class = "store_card" style = "background:url(\''+lT.storeitems[t].bannerlink+'\');background-size: cover;"><div style = "position:fixed;bottom:0vh;margin:0px;padding:10px;width:100%;background-color:var(--bgcolor);height:max-content;display:flex;flex-direction:column;align-items:center;"><span style = "font-size: 14px">'+lT.storeitems[t].name+'</span><span style = "font-size: 12px;color:grey;">'+lT.storeitems[t].price+"/-</span></div></div></a>")}();break;case"list/batch":"fu_batch",KE($y,"height:max-content;",""),async function(){if(AT.length<=0){const t=Um(Fp(PE,"batch"));(await og(t)).forEach((t=>{var e=t.data();AT.push({id:t.id,crton:e.crton,delon:e.delon,class:e.class,name:e.name})}))}for(let i=0;i<AT.length;i++){let n=AT[i];var t=new Date(1e3*n.crton),e=new Date(1e3*n.delon);Uy("batchlinks").innerHTML+='<div class="tlinks-3" id = "'+n.id+'" onclick = "window.location.hash = `#/edit_batch/'+n.id+'`"><center><span class = "t_title">'+n.name+'</span></center><div class = "tl"><span class = "t_stron">Created On:'+t.toISOString()+'</span><span class ="t_endon">Ends At:'+e.toISOString()+'</div><div class = "tl"><span>Class:'+n.class+"</span></div></div>"}}();break;case"list/tests":"fu_batch",KE($y,"height:max-content;",""),async function(){if(ET.length<=0){const t=Um(Fp(PE,"tests"));(await og(t)).forEach((t=>{var e=t.data();ET.push({id:t.id,strton:e.strton,endon:e.endon,batch:e.batch,name:e.title})}))}for(let i=0;i<ET.length;i++){let n=ET[i];var t=new Date(1e3*n.strton),e=new Date(1e3*n.endon);Uy("batchlinks").innerHTML+='<div class="tlinks-3" id = "'+n.id+'" onclick = "window.location.hash = `#/edit_tests/'+n.id+'`"><center><span class = "t_title">'+n.name+'</span></center><div class = "tl"><span class = "t_stron">Created On:'+t.toISOString()+'</span><span class ="t_endon">Ends At:'+e.toISOString()+'</div><div class = "tl"><span>Batch:'+n.batch+"</span></div></div>"}}();break;case"list/chptr":"fu_batch",KE($y,"height:max-content;",""),renderAdminChapterList();break;case"uploads":"uploadEvents",KE(iy,"",""),document.getElementById("file").addEventListener("change",(async function(){var t=await(await fetch("https://ipapi.co/json/")).json(),e=document.getElementById("file").files[0];const i=t.ip+"-"+(new Date).getTime()+"-"+e.name,n=(e.type,t.ip,Fv(zv(jE,"uploads/"+t.ip.replaceAll(".","_")+"/"+i),e));n.on("state_changed",(t=>{const e=t.bytesTransferred/t.totalBytes*100;switch(document.getElementById("file_progress").innerText="Upload is "+e+"% done",t.state){case"paused":document.getElementById("file_status").innerText="Upload is paused";break;case"running":document.getElementById("file_status").innerText="Upload is running"}}),(t=>{document.getElementById("file_status").innerText="Upload abandoned",document.getElementById("file_progress").innerText=""}),(()=>{jv(n.snapshot.ref).then((n=>{async function r(){await ug(Fp(PE,"quarkz","users","uploads"),{ipdetails:t,ip:t.ip,url:n,name:i,size:e.size})}document.getElementById("file_status").innerText="Upload Complete. Copy The Link Below",document.getElementById("file_progress").innerText="",document.getElementById("file_link_long").value=n,r()}))}))}));break;case"settings":"settings",KE(vy,"height: max-content;",""),async function(){Uy("sub_chg_pass").addEventListener("click",(async function(){Uy("inp_new_pass").value.length<8&&addToast("warning","Password should be at least 8 characters long"),Uy("inp_new_pass").value==Uy("inp_retype_pass").value?Ei(BE.currentUser,Uy("inp_new_pass").value).then((()=>{addToast("success","Password Reset Successful")})).catch((t=>{addToast("warning","Password Reset Failed")})):addToast("warning","New Password and Confirm password dont match."),Uy("inp_new_pass").value="",Uy("inp_retype_pass").value=""})),Uy("sub_chg_mail").addEventListener("click",(async function(){Uy("inp_mail").value.match(/^(([^<>()[\]\\.,;:\s@\"]+(\.[^<>()[\]\\.,;:\s@\"]+)*)|(\".+\"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/)?Ai(BE.currentUser,Uy("inp_mail").value).then((()=>{hg(jp(PE,"users",lT.uuid),{email:Uy("inp_mail").value}),addToast("success","Email Change was Successful"),window.location.reload()})).catch((t=>{addToast("warning","Something went wrong.")})):addToast("warning","Invalid Email")})),Uy("sub_rat_btn").addEventListener("click",(async function(){try{await ug(Fp(PE,"reviews"),{rating:window.user_rate_value,uid:lT.uuid,comments:document.getElementById("rate_comment").value,type:"rating"});localStorage.setItem("rate_app","true"),addToast("success","Thank You for your Valuable Feedback."),Uy("st_rateapp").style.display="none"}catch{addToast("warning","Your Feedback was not Submitted.")}})),Uy("st_rateapp").style.display="flex","true"==localStorage.getItem("rate_app")&&(Uy("st_rateapp").style.display="none");const t=document.querySelectorAll(".star");function e(){t.forEach((t=>{t.getAttribute("data-value")<=window.user_rate_value?t.classList.add("selected"):t.classList.remove("selected")}))}t.forEach((i=>{i.addEventListener("click",(t=>{window.user_rate_value=t.target.getAttribute("data-value"),e()})),i.addEventListener("mouseover",(e=>{const i=e.target.getAttribute("data-value");for(let e=0;e<i;e++)t[e].classList.add("hovered")})),i.addEventListener("mouseout",(()=>{t.forEach((t=>{t.classList.remove("hovered")}))}))})),null==lT.prf_type&&await hg(jp(PE,"users",lT.uuid),{prf_type:"v2"});Uy("prf_typ_"+lT.prf_type.split("v")[1]).style.borderColor="red",Uy("prf_typ_1").src=Yy(lT.name,lT.gen,"v1"),Uy("prf_typ_2").src=Yy(lT.name,lT.gen,"v2"),Uy("prf_typ_3").src=Yy(lT.name,lT.gen,"v3"),Uy("prf_typ_1").addEventListener("click",(async function(){Uy("prf_typ_1").style.borderColor="red",Uy("prf_typ_2").style.borderColor="#06d85f",Uy("prf_typ_3").style.borderColor="#06d85f",await hg(jp(PE,"users",lT.uuid),{prf_type:"v1"}),lT.prf_type="v1"})),Uy("prf_typ_2").addEventListener("click",(async function(){Uy("prf_typ_1").style.borderColor="#06d85f",Uy("prf_typ_2").style.borderColor="red",Uy("prf_typ_3").style.borderColor="#06d85f",await hg(jp(PE,"users",lT.uuid),{prf_type:"v2"}),lT.prf_type="v2"})),Uy("prf_typ_3").addEventListener("click",(async function(){Uy("prf_typ_1").style.borderColor="#06d85f",Uy("prf_typ_2").style.borderColor="#06d85f",Uy("prf_typ_3").style.borderColor="red",await hg(jp(PE,"users",lT.uuid),{prf_type:"v3"}),lT.prf_type="v3"})),Uy("sub_chg_batch").addEventListener("click",(async function(){await hg(jp(PE,"users",lT.uuid),{curr_batch:Uy("inp_batch").value}),lT.curr_batch=Uy("inp_batch").value,US(lT.curr_batch),addToast("success","Current Batch changed Successfully")}));let i="",n=lT.batch.split(",");for(let t=0;t<n.length;t++)i+="<option value = '"+n[t]+"'>"+n[t]+"</option>";Uy("inp_batch").innerHTML=i,Uy("inp_batch").value=lT.curr_batch}();break;case"chplist":"chapterlist",KE(Wv,"",""),function(){function t(){CS("physics")}function e(){CS("chemistry")}function i(){CS("maths")}function n(){CS("biology")}function r(){CS("computer")}function s(){CS("statistics")}function o(){CS("unfiled")}Uy("pchb").addEventListener("click",t),Uy("cchb").addEventListener("click",e),Uy("mchb").addEventListener("click",i),Uy("bchb").addEventListener("click",n),Uy("cochb").addEventListener("click",r),Uy("schb").addEventListener("click",s),Uy("uchb").addEventListener("click",o)}(),CS();break;default:"error_page",KE(Xv,"","")}var s=1==cT||1==uT;mT.includes("instructions")&&("test_instructions",KE(_y,"",""),async function(){let t=await rg(jp(PE,"tests",window.location.hash.split("#/instructions/")[1]));t.exists()?(Uy("i_name").innerHTML=t.data().title,Uy("i_start").innerHTML=dateparser(1e3*t.data().strton.seconds),Uy("i_end").innerHTML=dateparser(1e3*t.data().endon.seconds),Uy("i_time").innerHTML=t.data().timeallotted/60+"&nbsp;Mins",Uy("i_syllabus").innerHTML=t.data().syllabus,Uy("i_total").innerHTML=t.data().totalmarks,Uy("i_qno").innerHTML=t.data().questionnos,Uy("tsi").innerHTML=t.data().instructions):KE("This test either doesnt exist or you do not have access to this test.");Uy("agree_in").addEventListener("change",(function(){1==Uy("agree_in").checked?Uy("tin_start").disabled=!1:Uy("tin_start").disabled=!0}));let e=parseInt(Date.now()/1e3);t.data().strton.seconds>e&&(Uy("agree_in").disabled=!0,Uy("tin_start").disabled=!0,Uy("tin_start").innerText="Test Has Not Started Yet.")}());mT.includes("cyberhunt")&&("cyberhunt",KE(Gv,"",""),async function(){""==window.location.hash.split("/cyberhunt/")[1]||""==window.location.hash.split("/cyberhunt")[1]?(Uy("cyb_code").style.display="flex",Uy("cyb_viewer").style.display="none",Uy("cyb_edit").style.display="none"):(Uy("cyb_code").style.display="none",Uy("cyb_viewer").style.display="flex",Uy("cyb_edit").style.display="none")}());mT.includes("notes")&&!mT.includes("usernotes")&&("notes",KE(Jv,"",""),async function(){var t=window.location.hash.split("notes/")[1];Hy("s"),jv(zv(jE,"public/"+t+".pdf")).then((t=>{Uy("nt_id").src="https://docs.google.com/gview?url="+encodeURI(t)+"&embedded=true",Uy("nt_id").onload=Hy("d")})).catch((t=>{switch(t.code){case"storage/object-not-found":Uy("nt_id").src="https://docs.google.com/gview?url="+encodeURI("https://firebasestorage.googleapis.com/v0/b/quarkz.appspot.com/o/public%2F404.pdf?alt=media&token=8cc8f23a-6e24-41d6-984b-6d2cc9b89d11")+"&embedded=true";break;case"storage/unauthorized":hy("Unauthorised","You dont have necessary permissions to The file you requested.")}}))}());mT.includes("create_vidchat")&&("notes",KE(Ry,"height:max-content;",""),async function(){if(""==window.location.hash.split("create_vidchat/")[1])Uy("vdc_create").style.display="block",Uy("vdc_update").style.display="none",Uy("vdc_create").addEventListener("click",(async function(){let t=new Date(Uy("vdc_stron").value);const e=await ug(Fp(PE,"vidchat"),{name:Uy("vdc_tpcname").value,stron:t,duration:Uy("vdc_duration").value,status:"notstarted",ended:!1});Uy("vdc_meetid").value=e.id}));else{Uy("vdc_create").style.display="none",Uy("vdc_update").style.display="block";let e=await rg(jp(PE,"vidchat",window.location.hash.split("create_vidchat/")[1]));if(e.exists()){var t=e.data();Uy("vdc_tpcname").value=t.name,Uy("vdc_duration").value=t.duration,Uy("vdc_stron").value=dateparser(1e3*t.stron.seconds),Uy("vdc_meetid").value=window.location.hash.split("create_vidchat/")[1],"true"==t.ended&&(Uy("vdc_update").disabled="true",Uy("vdc_update").style.display="none",addToast("warning","Meeting has already ended, hence Meeting Details cannot be changed.",1e4))}Uy("vdc_update").addEventListener("click",(async function(){let t=new Date(Uy("vdc_stron").value);await hg(Fp(PE,"vidchat"),{name:Uy("vdc_tpcname").value,stron:t,duration:Uy("vdc_duration").value})}))}}());mT.includes("sims")&&("simulations",KE(by,"",""),async function(){Hy("s");var t=window.location.hash.split("sims/")[1],e=jp(PE,"sims",t),i=await rg(e);if(!i.exists())throw WE("error_page",1),new Error;var n=i.data();Uy("sms_name").innerText=n.name,Uy("sms_prov").innerText=n.provider,Uy("sim_frame").src=n.url,Uy("sim_frame").onload=showqLS("a")}());mT.includes("chapter")&&("chapter",KE(Kv,"height:max-content;","","1"),async function(){Uy("chp_chaptername").innerHTML="",Uy("chp_qbk_list").innerHTML="",Uy("chp_tpc_list").innerHTML="";var t=jp(PE,"chapter",window.location.hash.split("#/chapter/")[1]),e=await rg(t);if(e.exists()){var i=e.data();Uy("chp_chaptername").innerText=i.name;try{for(let t of i.qbanks)Uy("chp_qbk_list").insertAdjacentHTML("beforeend",'<span class="tlinks_min rpl" style = "color:pink" id="chpqbk'+btoa(t.id)+'">'+t.title+"</span>"),Uy("chpqbk"+btoa(t.id)).addEventListener("click",SS)}catch{}try{for(let t of i.topics)Uy("chp_tpc_list").insertAdjacentHTML("beforeend",'<span class="tlinks_min rpl" style = "color:pink" id="chptpc'+btoa(t.id)+'">'+t.title+"</span>"),Uy("chptpc"+btoa(t.id)).addEventListener("click",TS)}catch{}}}());mT.includes("qbanks")&&("topic",KE(Sy,"height:max-content;","","1"),QE(),IS(2));mT.includes("usernotes")&&("usernotes",KE(Iy,"flex-direction: row;","","1"),function(){Uy("un_save").addEventListener("click",lS),Uy("un_delete").addEventListener("click",uS),Uy("un_rendermode").addEventListener("change",nT),Uy("un_viewership").addEventListener("change",nT);Uy("un_print").addEventListener("click",(function(){Uy("un_preview").style.display="none",Uy("un_preview").innerHTML="<h1 style = 'text-align:center;margin:0px'>"+Uy("un_title").value+"</h1>"+oT("un_editable"),window.print()}))}(),async function(){try{nT()}catch{}if(window.location.hash.includes("usernotes/add")){var t=await ug(Fp(PE,"usernotes"),{title:"Notes Title",notes:"",uuid:lT.uuid,crton:pg(),type:"private",lastupdated:pg()});lT.usernotes.push({id:t.id,title:"Note Title"}),WE("usernotes/"+t.id,1)}else if(window.location.hash.includes("usernotes/delete"))await lg(jp(PE,"usernotes",window.location.hash.split("usernotes/delete/")[1])),window.location.hash="#/usernotes/";else if("#/usernotes/"==window.location.hash)dS();else if(window.location.hash.includes("usernotes")){dS();t=jp(PE,"usernotes",window.location.hash.split("usernotes/")[1]);var e=await rg(t);if(e.exists()){t=e.data();Uy("un_title").value=t.title,aT("un_editable",t.notes),Uy("un_viewership").value=t.type,"public_view"==t.type&&lT.uuid!=t.uuid?(Uy("un_rendermode").innerHTML='<option value="preview">preview</option>',Uy("un_rendermode").value="preview",Uy("un_save").style.display="none",Uy("un_colorpicker").style.display="none",Uy("un_viewership").style.display="none",Uy("un_title").style.display="none"):(Uy("un_rendermode").innerHTML='<option value="edit">edit</option><option value="preview">preview</option>',Uy("un_rendermode").value="edit",Uy("un_save").style.display="block",Uy("un_viewership").style.display="block",Uy("un_title").style.display="block"),nT()}}}());if(mT.includes("qbnk_vid")){function o(){Uy("watermark").style.display="flex",Py(Uy("qbnk_vid"))}"qbnk_vid",KE(py,"height:90vh;position: relative;",""),Uy("qbnk_vid_btn").style.display="block",Uy("qbnk_vid_btn").addEventListener("click",bS),Uy("qbnk_vid_btn_e").addEventListener("click",o)}mT.includes("attempt")&&("testv1",KE(xy,"height:max-content;overflow:scroll;align-items:inherit;","","1"),function(){function t(){tT("tts_answered")}function e(){tT("tts_notanswer")}function i(){tT("tts_review")}function n(){tT("tts_ansreview")}function r(){hy("Warning","Are You Sure You Want To End The Test",eT,"Yes,Submit",1)}Wy("tt_question");Uy("tt_save").addEventListener("click",t),Uy("tt_clear").addEventListener("click",e),Uy("tt_review").addEventListener("click",i),Uy("tt_ansreview").addEventListener("click",n),Uy("tt_sub").addEventListener("click",r),Uy("tt_rep").addEventListener("click",uy)}(),GE(),async function(){Uy("tt_footer").style.display="flex",Uy("tt_sub").style.display="block",Uy("tt_timeleft").style.display="block",Uy("tt_marksaward").style.display="none";var t=window.location.hash.split("#/attempt/")[1],e=jp(PE,"tests",t),i=await rg(e);if(i.exists()){if(qT=i.data(),e=jp(PE,"tests",t,"responses","finished"),(i=await rg(e)).exists())for(var n of i.data().finished)if(BE.currentUser.uid==n)return KE(ky,"",""),Uy("te_title").innerText="You Have Already Attempted This Test",Uy("te_msg").innerText="Test Results will be released after Deadline.",window.location.hash="#/finished/"+window.location.hash.split("attempt/")[1],0}else KE("This test either doesnt exist or you do not have access to this test.");try{e=jp(PE,"tests",t,"questions","questions"),(i=await rg(e)).exists()&&(RT=i.data())}catch{return KE(ky,"",""),Uy("te_title").innerText="The Test Hasnt Started Yet",Uy("te_msg").innerText="",0}const s=r("iN8QG").createHash("sha256").update(lT.uuid).digest("hex"),o=parseInt(s.slice(0,6),16);qT.randomize&&(RT=Ky(RT,o));if(e=jp(PE,"tests",t,"responses",BE.currentUser.uid),(i=await rg(e)).exists()){var a=i.data().answers;for(var h in NT=i.data().actions,a)DT.push({qid:h,ans:a[h].ans,type:a[h].type,time:a[h].time})}else{for(var l={},u=0;u<RT.questions.length;u++)l[`${RT.questions[u].qid}`]={type:"tts_notvisit",answer:[]},DT.push({qid:RT.questions[u].qid,type:"tts_notvisit",answer:[],timetaken:0});var c=new Date;await ag(jp(PE,"tests",t,"responses",BE.currentUser.uid),{answers:l,strton:pg(),warning:[],actions:[{type:"start",time:c,value:"1"}],testversion:"1"}),NT.push({type:"start",time:c,value:"1"})}window.location.hash.includes("/attempt/")&&(YS=setInterval((function(){var t=qT.timeallotted-1;qT.timeallotted-=1,Uy("tt_timeleft").innerText=Math.floor(t%86400/3600)+":"+Math.floor(t%3600/60)+":"+Math.floor(t%60),CT+=1,Uy("tt_timespent").innerText=Math.floor(CT%86400/3600)+":"+Math.floor(CT%3600/60)+":"+Math.floor(CT%60),0==t&&eT()}),1e3));window.onbeforeunload=function(t){t.preventDefault,eT()},window.onhashchange=function(t){WE(),eT()},Uy("tt_testname").innerText=qT.title,Uy("dsh_btn").style.display="none";var d=Uy("output");try{Py(d)}catch{}JS()}());mT.includes("finished")&&("finishedtestinfo",KE(sy,"height:max-content;",""),async function(){var t=window.location.hash.split("#/finished/")[1],e=jp(PE,"tests",t),i=await rg(e);if(i.exists()){qT=i.data();var n=0;if(Uy("fti_title").innerText=qT.title,1==qT.blockresult)return Uy("output").innerHTML="Quiz Admin has blocked viewing of results.",0;if(e=jp(PE,"tests",t,"responses","finished"),(i=await rg(e)).exists())for(var r of i.data().finished)if(BE.currentUser.uid==r){n=1;break}if(0==n)return KE(ky,"",""),Uy("te_title").innerText="You Have NOT Attempted This Test",void(Uy("te_msg").innerText="");try{try{$S(1)}catch{}try{e=jp(PE,"tests",t,"responses",BE.currentUser.uid);var s=(i=await rg(e)).data();if(i.exists()){Uy("fto_total").innerText=s.info.usermarks+"/"+s.info.total,Uy("fto_correct").innerText=s.info.correct,Uy("fto_incorrect").innerText=s.info.incorrect,Uy("fto_unanswered").innerText=s.info.unattempted,Uy("fto_accuracy").innerText=s.info.overall.acc.toString()+"%",Uy("fto_qsattempted").innerText=Math.floor(s.info.overall.qc+s.info.overall.qic).toString()+"/"+Math.floor(s.info.overall.qc+s.info.overall.qic+s.info.overall.qun).toString(),s.info.usermarks/s.info.total*100>=qT.passpercentage?Uy("fto_passed").innerText="You Have Passed The Test":s.info.usermarks/s.info.total*100<qT.passpercentage?Uy("fto_passed").innerText="You Have Failed The Test. Pass Percentage:"+qT.passpercentage:Uy("fto_passed").innerText="No Pass/Fail Criteria For This Test",NT=s.actions,fT=s.info.mList;let t="<ol>",e=s.info.missedtopics,i=s.info.unattemptedtopics;for(var o=0;o<e.length;o++)t+='<li><div class = "tlinks" style = "flex-direction:row;width:25vw;justify-content:space-between;"><span class = "t_name" style = "color:red;">'+e[o]+"</span></div></li>";for(o=0;o<i.length;o++)t+='<li><div class = "tlinks" style = "flex-direction:row;width:25vw;justify-content:space-between;"><span class = "t_name">'+i[o]+"</span></div></li>";0==e.length&&0==i.length&&(t="<span>Hoo! No Missed Concepts on This Test</span>"),Uy("fto_missed").innerHTML=t;try{let t=s.info.subjectmarks;t.overall={correct:s.info.correct,incorrect:s.info.incorrect,unattempted:s.info.unattempted,qc:0,qic:0,qun:0};let e=[];var a=["Physics","Chemistry","Math","Biology","Statistics","Computer","Unfiled","overall"];for(var h of a){var l=s.info.subjectmarks[h];if(!Ny(l,{correct:0,unattempted:0,incorrect:0,total:0,qc:0,qic:0,qun:0})){let i=l.correct+l.incorrect;"overall"!=h&&(t.overall.qc+=l.qc,t.overall.qic=l.qic,t.overall.qun=l.qun),e.push({subject:h,score:i,crr_marks:l.correct,correct:l.qc,incr_marks:l.incorrect,incorrect:l.qic,unat_marks:l.unattempted,unattempted:l.qun})}}let i=[...e];for(o=0;o<i.length;o++){document.getElementById("fto_table_pie").insertAdjacentHTML("beforeend","<div style = 'width:300px;height:300px'><canvas id = 'fto_tbp_"+i[o].subject+"'></canvas></div>");new DE(Uy("fto_tbp_"+i[o].subject),{type:"pie",options:{plugins:{title:{display:!0,text:"Overview "+i[o].subject,color:"olive"},legend:{labels:{color:"olive"}}}},data:{labels:["Correct","Incorrect","Unanswered"],datasets:[{label:"",backgroundColor:["rgb(0,128,0)","rgb(255,0,0)","rgb(255, 165, 0)"],data:[i[o].correct,i[o].incorrect,i[o].unattempted]}]}})}new DE(Uy("fto_table_score"),{type:"bar",options:{plugins:{title:{display:!0,text:"Subject Wise Scores",color:"olive"},legend:{labels:{color:"olive"}}},scales:{y:{beginAtZero:!0},x:{color:"olive"}}},data:{labels:e.map((t=>t.subject)),datasets:[{label:"Score",backgroundColor:"blue",data:e.map((t=>t.score))},{label:"Correct",backgroundColor:"green",data:e.map((t=>t.crr_marks))},{label:"Incorrect",backgroundColor:"red",data:e.map((t=>-t.incr_marks))},{label:"Unattempted",backgroundColor:"orange",data:e.map((t=>t.unat_marks))}]}});Uy("fto_overview_table").appendChild(Gy(e))}catch(t){hy("error",t)}Uy("fto_rank").innerText="0",QS(1).then((function(){try{let n=[],r=[];var t=["Physics","Chemistry","Math","Biology","Statistics","Computer","Unfiled","overall"];for(var e of(pT.subject.overall={correct:0,incorrect:0,unattempted:0,total:0},t)){var i=pT.subject[e];Ny(i,{correct:0,incorrect:0,unattempted:0,total:0})||("overall"!=e&&(pT.subject.overall.correct+=i.correct,pT.subject.overall.incorrect+=i.incorrect,pT.subject.overall.unattempted+=i.unattempted,pT.subject.overall.total+=i.total),n.push({subject:e,correct:Dy(i.correct),incorrect:Dy(i.incorrect),unattempted:Dy(i.unattempted),total:Dy(i.correct+i.incorrect+i.unattempted),accuracy:Math.floor(100*(1-s.info.subjectmarks[e].qic/s.info.subjectmarks[e].qc)).toString()+"%"}),r.push({subject:e,correct:i.correct,incorrect:i.incorrect,unattempted:i.unattempted,total:i.correct+i.incorrect+i.unattempted,accuracy:Math.floor(100*(1-s.info.subjectmarks[e].qic/s.info.subjectmarks[e].qc)),attempts:Math.floor(s.info.subjectmarks[e].qc/(s.info.subjectmarks[e].qc+s.info.subjectmarks[e].qun+s.info.subjectmarks[e].qic)*100)}))}new DE(Uy("fto_table_time"),{type:"bar",options:{plugins:{title:{display:!0,text:"Subject Wise Time Spent",color:"olive"},legend:{labels:{color:"olive"}}},scales:{y:{beginAtZero:!0},x:{color:"olive"}}},data:{labels:r.map((t=>t.subject)),datasets:[{label:"Correct",backgroundColor:"green",data:r.map((t=>t.correct/60))},{label:"Incorrect",backgroundColor:"red",data:r.map((t=>t.incorrect/60))},{label:"Unattempted",backgroundColor:"orange",data:r.map((t=>t.unattempted/60))},{label:"Total Time Spent",backgroundColor:"blue",data:r.map((t=>t.total/60))}]}}),new DE(Uy("fto_table_accuracy"),{type:"bar",options:{plugins:{title:{display:!0,text:"Subject Accuracy vs Attempted(%)",color:"olive"},legend:{position:"right",labels:{color:"olive"}},scales:{y:{color:"olive"}}}},data:{labels:r.map((t=>t.subject)),datasets:[{label:"Accuracy",data:r.map((t=>t.accuracy))},{label:"Attempts",data:r.map((t=>t.attempts))}]}});Uy("fto_time_table").appendChild(Gy(n))}catch{}}))}try{var u;e=jp(PE,"tests",t,"responses","finished"),(i=await rg(e)).exists()&&(u=i.data().leaderboard),Uy("fto_leaderboard").innerHTML="",u=Fy(u,"marks",1);let n=[];u=Qy(u);for(o=0;o<u.length;o++)lT.uuid==u[o].uid&&(Uy("fto_rank").innerText=u[o].rank);for(o=0;o<u.length;o++)n.push({name:u[o].name,marks:u[o].marks,rank:u[o].rank});Uy("fto_leaderboard").appendChild(Gy(n))}catch{}var c=[];for(o=0;o<fT.length;o++)null==pT.questions[fT[o].qid]?c.push({qid:fT[o].qid,type:fT[o].type,time:0,no:o+1}):c.push({qid:fT[o].qid,type:fT[o].type,time:pT.questions[fT[o].qid].time,no:o+1})}catch{return Uy("te_title").innerText="ERROR",KE(ky,"",""),Uy("te_title").innerText="You may see this ERROR since you may NOT have Attempted This Test",Uy("te_msg").innerText="",0}}catch{}}}());mT.includes("testreport")&&("testv1",KE(xy,"height:max-content;overflow:scroll;align-items:inherit;","","1"),async function(){Uy("tt_footer").style.display="none",Uy("tt_sub").style.display="none",Uy("tt_timeleft").style.display="none",Uy("tt_marksaward").style.display="block";var t=window.location.hash.split("#/testreport/")[1],e=jp(PE,"tests",t),i=await rg(e);if(i.exists()){qT=i.data();var n=0;if(Uy("tt_testname").innerText=qT.title,1==qT.blockresult)return Uy("output").innerHTML="Quiz Admin has blocked viewing of results.",0;if(e=jp(PE,"tests",t,"responses","finished"),(i=await rg(e)).exists())for(var s of i.data().finished)if(BE.currentUser.uid==s){n=1;break}if(0==n)return KE(ky,"",""),Uy("te_title").innerText="You Have NOT Attempted This Test",void(Uy("te_msg").innerText="");if(Date.now()/1e3<=qT.endon.seconds&&0==qT.noresult)KE(ky,"",""),Uy("te_title").innerText="Detailed Test Reports will be available after deadline",Uy("te_msg").innerText="";else{try{e=jp(PE,"tests",t,"questions","questions"),(i=await rg(e)).exists()&&(RT=i.data());const n=r("iN8QG").createHash("sha256").update(lT.uuid).digest("hex"),s=parseInt(n.slice(0,6),16);if(qT.randomize&&(RT.questions=Ky(RT.questions,s)),e=jp(PE,"tests",t,"responses",BE.currentUser.uid),(i=await rg(e)).exists()){var o=i.data().answers;for(var a in NT=i.data().actions,o)DT.push({qid:a,ans:o[a].ans,type:o[a].type,time:o[a].time})}e=jp(PE,"tests",t,"questions","answers"),(i=await rg(e)).exists()&&(OT=i.data())}catch{return Uy("te_title").innerText="ERROR",KE(ky,"",""),Uy("te_title").innerText="You may see this ERROR since you may NOT have Attempted This Test",Uy("te_msg").innerText="",0}JS()}}}(),GE());if(mT.includes("printable/qbank")&&1==s){"printable",KE(dy,"height:max-content;",""),ZE();Uy("shf_btn").addEventListener("click",BS);RS(1)}mT.includes("ARIEL")&&1==s&&("Ariel",KE(ty,"",""));if(mT.includes("printable/tests")&&1==s){"printable",KE(dy,"height:max-content;",""),ZE();Uy("shf_btn").addEventListener("click",BS);RS(3)}"functions"==mT&&1==s&&("functions",KE(ay,"height:max-content;",""),_S());mT.includes("users")&&1==s&&("users",KE(Ty,"",""),userUpdate());mT.includes("topic")&&("topic",KE(Sy,"height: max-content;",""),QE(),IS(1));mT.includes("printable/topic")&&1==s&&("printable",KE(dy,"height:max-content;",""),RS(2));mT.includes("edit_sim")&&1==s&&("fu_simulation",KE(yy,"","ovr-scroll","1"),Uy("aq_sims_save").addEventListener("click",sS),async function(){try{let e=await rg(jp(PE,"sims",window.location.hash.split("edit_sim/")[1]));if(e.exists()){var t=e.data();Uy("aq_simname").value=t.name,Uy("aq_simprov").value=t.provider,Uy("aq_simurl").value=t.url,Uy("aq_simlicense").value=t.license,Uy("aq_simsubj").value=t.subject}}catch{}}());mT.includes("edit_lesson")&&1==s&&("fu_simulation",KE(yy,"","ovr-scroll","1"),prepareLesson());mT.includes("edit_tpc")&&1==s&&("fu_topic",KE(Ey,"","ovr-scroll","1"),Uy("aq_tpc_save").addEventListener("click",(function(){ES(1)})),YE(),kS(1));mT.includes("edit_test")&&1==s&&("fu_topic",KE(Ey,"","ovr-scroll","1"),Uy("aq_tst_save").addEventListener("click",(function(){ES(3)})),YE(),kS(3));mT.includes("edit_qubank")&&1==s&&("fu_topic",KE(Ey,"","ovr-scroll","1"),Uy("aq_qbc_save").addEventListener("click",(function(){ES(2)})),YE(),kS(2));mT.includes("edit_exams")&&1==s&&("fu_topic",KE(Ey,"","ovr-scroll","1"),Uy("aq_exam_save").addEventListener("click",(function(){ES(4)})),YE(),kS(4));mT.includes("edit_batch")&&1==s&&("fu_topic",KE(Xy,"",""),async function(){var t=jp(PE,"batch",window.location.hash.split("edit_batch/")[1]),e=await rg(t);if(e.exists()){t=e.data();Uy("aq_batname").value=t.name,Uy("aq_class").value=t.class,Uy("aq_timetable").value=t.timetable,Uy("aq_tst_delon").value=dateparser(1e3*t.delon.seconds)}}(),Uy("aq_batch_save").addEventListener("click",hS));mT.includes("codehunt/problem")&&(KE(LE,"",""),async function(){window.code_editor=window.setupEditor(),Uy("btn_code_report").addEventListener("click",uy);try{let t=await rg(jp(PE,"codehunt",window.location.hash.split("#/codehunt/problem")[1]));if(t.exists()){let e=t.data();Uy("cdh_name").innerText=e.name,Uy("cdh_tag").innerText=e.tag,Uy("cdh_difficulty").innerText=e.difficulty,Uy("cdh_description").innerHTML=e.description,window.code_editor.setValue("function execute("+e.args+"){\n\n}"),Uy("btn_code_submit").addEventListener("click",(function(){evaluateJSCode(e.submit_input,e.submit_output)})),Uy("btn_code_solution").addEventListener("click",(function(){window.code_editor.setValue(e.solution),code_editor.setValue(code_editor.getValue().replaceAll("\\n","\n"))}))}}catch{}}());mT.includes("vid_chat")&&("fu_vidchat",KE(Cy,"",""),async function(){let t=await rg(jp(PE,"vidchat",window.location.hash.split("vid_chat/")[1]));if(!t.exists())return void addToast("error","Please Check Meeting ID");{callData=t.data(),Uy("vid_title").innerText=callData.name;let e=Date.now();if("notstarted"!=callData.status||"callstarted"!=callData.status);else if(callData.stron.seconds-e/1e3>=300)return window.location.hash="#/dashboard",addToast("error","You can join the meeting at "+dateparser(1e3*callData.stron.seconds)),0}JE=new RTCPeerConnection({iceServers:[{urls:["stun:stun1.l.google.com:19302","stun:stun2.l.google.com:19302"]}],iceCandidatePoolSize:10});const e=document.getElementById("webcamButton"),i=document.getElementById("webcamVideo"),n=document.getElementById("callButton"),r=(document.getElementById("answerButton"),document.getElementById("remoteVideo")),s=document.getElementById("hangupButton"),o=document.getElementById("screenButton");o.onclick=async()=>{"false"==o.getAttribute("on")||null==o.getAttribute("on")?(tS=await navigator.mediaDevices.getDisplayMedia({video:{cursor:"always",height:1e3,width:1200},audio:!1}),eS.replaceTrack(tS.getVideoTracks()[0]),o.setAttribute("on","true")):(eS.replaceTrack($E.getVideoTracks()[0]),o.setAttribute("on","false"))},e.onclick=async()=>{$E=await navigator.mediaDevices.getUserMedia({video:!0,audio:!0}),XE=new MediaStream;var t=$E.getVideoTracks()[0],o=$E.getAudioTracks()[0];eS=JE.addTrack(t,$E),iS=JE.addTrack(o,$E),JE.ontrack=t=>{t.streams[0].getTracks().forEach((t=>{XE.addTrack(t)}))},i.srcObject=$E,r.srcObject=XE,n.disabled=!1,s.disabled=!1,e.disabled=!0},s.onclick=async()=>{await hg(jp(PE,"vidchat",document.location.hash.split("#/vid_chat/")[1]),{status:"callended"}),JE.close(),addToast("success","Meeting Ended",5e3)},n.onclick=async()=>{let t=document.location.hash.split("#/vid_chat/")[1];if(""==t)return void addToast("error","Please Check Meeting ID");let e=await rg(jp(PE,"vidchat",t));if(e.exists()){if(callData=e.data(),"callstarted"==callData.status){let e=document.location.hash.split("#/vid_chat/")[1];JE.onicecandidate=async t=>{t.candidate&&await hg(jp(PE,"vidchat",e),{answerCandidates:t.candidate.toJSON()})};let i={},n=await rg(jp(PE,"vidchat",e));n.exists()&&(i=n.data());const r=i.offer;await JE.setRemoteDescription(new RTCSessionDescription(r));const s=await JE.createAnswer();await JE.setLocalDescription(s);const o={type:s.type,sdp:s.sdp};await hg(jp(PE,"vidchat",e),{answer:o,status:"personjoined"});cg(jp(PE,"vidchat",t),(t=>{const e=t.data();if(console.log("Current data: ",t.data()),"callended"==e?.status&&(JE.close(),addToast("success","Meeting Ended",5e3)),e?.offerCandidates){let t=change.doc.data();JE.addIceCandidate(new RTCIceCandidate(t))}}))}else if("notstarted"==callData.status){JE.onicecandidate=async e=>{e.candidate&&await hg(jp(PE,"vidchat",t),{offerCandidates:e.candidate.toJSON()})};const e=await JE.createOffer();await JE.setLocalDescription(e);const i={sdp:e.sdp,type:e.type};await hg(jp(PE,"vidchat",t),{offer:i,status:"callstarted"});cg(jp(PE,"vidchat",t),(t=>{const e=t.data();if(console.log("Current data: ",t.data()),!JE.currentRemoteDescription&&e?.answer){const t=new RTCSessionDescription(e.answer);JE.setRemoteDescription(t)}if("callended"==e?.status&&(JE.close(),addToast("success","Meeting Ended",5e3)),e?.answerCandidates){const t=new RTCIceCandidate(e.answerCandidates);JE.addIceCandidate(t)}}))}}else addToast("error","Please Check Meeting ID")}}());mT.includes("site-analytics")&&1==s&&("fu_analytics",KE(gy,"",""));s&&(window.location.hash.includes("dashboard")&&(Uy("adminonly").style.display="flex"),(window.location.hash.includes("topic")||window.location.hash.includes("qbanks"))&&(Uy("tp_edt").style.display="block"),window.location.hash.includes("sims")&&(Uy("sms_edit").style.display="block"));sT(),refreshScreen(),MT=[],"forum"==mT?mS(1):(mS(2),gS=1,vS="afterbegin");RT=[],DT=[],qT=[],LT=""}(t,e)}function KE(t,e,i,n){Uy("output").style="",Uy("output").removeAttribute("translate"),Uy("output").classList.remove("ovr-scroll"),Uy("output").innerHTML=t,null!=i&&""!=i&&Uy("output").classList.add(i),null!=n&&""!=n&&"1"==n&&Uy("output").setAttribute("translate","no"),Uy("output").style=e}function GE(){Uy("tt_qp").addEventListener("click",(function(){let t="",e=1;for(let i of RT.questions)t+='<div class = "qb_q"><div class = "qb_ttl">Q '+e+") "+i.title+'<div id = "qb_q_ty" class = "qb_q_ty qb_qt_ty" >('+i.type+')</div><div id = "qb_q_mrk" class = "qb_q_ty qb_qt_ty" >('+i.pm+"/"+i.nm+')</div></div></div><br><hr style="color:white"><br>',e++;ly("Question Paper",t)})),Uy("tt_instr").addEventListener("click",(function(){ly("Test Instructions",_y),Uy("tsi").innerHTML=qT.instructions,Uy("i_name").innerHTML=qT.title,Uy("i_start").innerHTML=dateparser(1e3*qT.strton.seconds),Uy("i_end").innerHTML=dateparser(1e3*qT.endon.seconds),Uy("i_time").innerHTML=qT.timeallotted/60+"&nbsp;Mins",Uy("i_syllabus").innerHTML=qT.syllabus,Uy("i_total").innerHTML=qT.totalmarks,Uy("i_qno").innerHTML=qT.questionnos,Uy("agree_in").style.display="none",Uy("tin_start").style.display="none",Uy("ti_i").style.width="95%",Uy("container").style.borderColor="transparent",Uy("ti_title").innerHTML="",Uy("ti_hr").style.display="none"})),Uy("tt_rep").addEventListener("click",uy);Wy("tt_question")}function QE(){Uy("tp_nxt").addEventListener("click",(function(){LS(2)})),Uy("tp_prv").addEventListener("click",(function(){LS(1)})),Uy("tp_edt").addEventListener("click",VS),Uy("tp_rep").addEventListener("click",uy),Uy("tp_sbm").addEventListener("click",jS),Uy("tp_pnt").addEventListener("click",zS);Wy("tp_expl"),Wy("tp_qtext"),Wy("tp_a_expl")}function YE(){Uy("aq_mode").addEventListener("change",_S),Uy("aq_type").addEventListener("change",_S),Uy("aq_ao").addEventListener("click",NS),Uy("aq_ro").addEventListener("click",OS),Uy("aq_re").addEventListener("click",AS),Uy("aq_export").addEventListener("click",zS)}document.addEventListener("copy",(function(t){lT.roles.admin||lT.roles.editor||(t.clipboardData.setData("text/plain","It is forbidden to copy content from Quarkz!"),t.preventDefault())}));Uy("dsh_btn").addEventListener("click",(function(){HS("dashboard",1)}));function ZE(){document.getElementById("tsinf_btn").addEventListener("click",updateUI),document.getElementById("tans_btn").addEventListener("click",(function(){for(var t=0;t<document.getElementsByClassName("q_ans_1").length;t++)document.getElementsByClassName("q_ans_1")[t].style.display="flex"})),document.getElementById("tansexpl_btn").addEventListener("click",(function(){for(var t=0;t<document.getElementsByClassName("q_ans_1").length;t++)document.getElementsByClassName("q_ans_1")[t].style.display="flex";for(t=0;t<document.getElementsByClassName("q_ans_expl").length;t++)document.getElementsByClassName("q_ans_expl")[t].style.display="flex"})),document.getElementById("tremove_btn").addEventListener("click",(function(){for(var t=0;t<document.getElementsByClassName("q_ans_1").length;t++)document.getElementsByClassName("q_ans_1")[t].style.display="none";for(t=0;t<document.getElementsByClassName("q_ans_expl").length;t++)document.getElementsByClassName("q_ans_expl")[t].style.display="none"}))}window.ifcls=function(){document.getElementById("tempIF_G").remove()},window.user_rate_value=0;let $E=null,XE=null,JE=null,tS=null,eS=null,iS=null;let nS,rS=[];async function sS(){try{await hg(jp(PE,"sims",window.location.hash.split("edit_sim/")[1]),{name:Uy("aq_simname").value,license:Uy("aq_simlicense").value,provider:Uy("aq_simprov").value,url:Uy("aq_simurl").value,subject:Uy("aq_simsubj").value});var t=Uy("aq_simsubj").value;"physics"==t&&await hg(jp(PE,"sims","sims"),{physics:mg(Uy("aq_simname").value)}),"chemistry"==t&&await hg(jp(PE,"sims","sims"),{chemistry:mg(Uy("aq_simname").value)}),"maths"==t&&await hg(jp(PE,"sims","sims"),{maths:mg(Uy("aq_simname").value)}),"computer"==t&&await hg(jp(PE,"sims","sims"),{computer:mg(Uy("aq_simname").value)}),"biology"==t&&await hg(jp(PE,"sims","sims"),{biology:mg(Uy("aq_simname").value)}),"statistics"==t&&await hg(jp(PE,"sims","sims"),{statistics:mg(Uy("aq_simname").value)}),"unfiled"==t&&await hg(jp(PE,"sims","sims"),{unfiled:mg(Uy("aq_simname").value)}),function(){aT("aq_qtext",""),aT("aq_expl",""),Uy("aq_answer").value="",Uy("aq_yurl").value="",Uy("aq_hint").value="";for(var t=0;t<document.getElementsByClassName("aq_mcq").length;t++)document.getElementsByClassName("aq_mcq")[t].value="";for(t=0;t<document.getElementsByClassName("aq_i1").length;t++)document.getElementsByClassName("aq_i1")[t].value="";for(t=0;t<document.getElementsByClassName("aq_i2").length;t++)document.getElementsByClassName("aq_i2")[t].value=""}()}catch(t){console.error("Error writing new message to Firebase Database",t)}}function oS(){!async function(t){var e;const i=Um(Fp(PE,"sims"),jm("name","==",t));(await og(i)).forEach((t=>{e=t.id})),WE("sims/"+e,1)}(this.innerText)}async function aS(t){if(Uy("sim_cont").innerHTML="",0==rS.length){var e=jp(PE,"sims","sims"),i=await rg(e);if(!i.exists())throw WE("error_page",1),new Error;var n=i.data();rS=n}if("physics"==t)try{for(let t of rS.physics)""!=t&&(Uy("sim_cont").insertAdjacentHTML("beforeend",'<span class="tlinks rpl" style = "color:pink" id="sim'+btoa(t)+'">'+t+"</span>"),Uy("sim"+btoa(t)).addEventListener("click",oS))}catch{}if("chemistry"==t)try{for(let t of rS.chemistry)""!=t&&(Uy("sim_cont").insertAdjacentHTML("beforeend",'<span class="tlinks rpl" style = "color:crimson" id="sim'+btoa(t)+'">'+t+"</span>"),Uy("sim"+btoa(t)).addEventListener("click",oS))}catch{}if("maths"==t)try{for(let t of rS.maths)""!=t&&(Uy("sim_cont").insertAdjacentHTML("beforeend",'<span class="tlinks rpl" style = "color:turquoise" id="sim'+btoa(t)+'">'+t+"</span>"),Uy("sim"+btoa(t)).addEventListener("click",oS))}catch{}if("biology"==t)try{for(let t of rS.biology)""!=t&&(Uy("sim_cont").insertAdjacentHTML("beforeend",'<span class="tlinks rpl" style = "color:var(--clr10)" id="sim'+btoa(t)+'">'+t+"</span>"),Uy("sim"+btoa(t)).addEventListener("click",oS))}catch{}if("computer"==t)try{for(let t of rS.computer)""!=t&&(Uy("sim_cont").insertAdjacentHTML("beforeend",'<span class="tlinks rpl" style = "color:violet" id="sim'+btoa(t)+'">'+t+"</span>"),Uy("sim"+btoa(t)).addEventListener("click",oS))}catch{}if("statistics"==t)try{for(let t of rS.statistics)""!=t&&(Uy("sim_cont").insertAdjacentHTML("beforeend",'<span class="tlinks rpl" style = "color:orange" id="sim'+btoa(t)+'">'+t+"</span>"),Uy("sim"+btoa(t)).addEventListener("click",oS))}catch{}if("unfiled"==t)try{for(let t of rS.unfiled)""!=t&&(Uy("sim_cont").insertAdjacentHTML("beforeend",'<span class="tlinks rpl" style = "color:white" id="sim'+btoa(t)+'">'+t+"</span>"),Uy("sim"+btoa(t)).addEventListener("click",oS))}catch{}}async function hS(){let t=new Date(Uy("aq_tst_delon").value);await hg(jp(PE,"batch",window.location.hash.split("edit_batch/")[1]),{name:Uy("aq_batname").value,class:parseInt(Uy("aq_class").value),timetable:Uy("aq_timetable").value,delon:t})}async function lS(){await hg(jp(PE,"usernotes",window.location.hash.split("usernotes/")[1]),{title:Uy("un_title").value,notes:oT("un_editable"),lastupdated:pg(),type:Uy("un_viewership").value}),Uy(window.location.hash.split("usernotes/")[1]).innerText=Uy("un_title").value}function uS(){hy("Confirmation","Are you Sure you want to delete this Document?",(function(){window.location.hash="#/usernotes/delete/"+window.location.hash.split("usernotes/")[1]}),"Confirm",1)}function cS(){window.location.hash="#/usernotes/"+this.id.split("uno")[1]}async function dS(){try{if(lT.usernotes.length<=0){lT.usernotes=[];const t=Um(Fp(PE,"usernotes"),jm("uuid","==",lT.uuid));(await og(t)).forEach((t=>{var e=t.data();lT.usernotes.push({id:t.id,crton:e.crton,lastupdated:e.lastupdated,title:e.title,type:e.type,uuid:e.uuid})}))}}catch{}try{for(var t=0;t<lT.usernotes.length;t++)Uy("un_list").insertAdjacentHTML("beforeend","<div class='t_notes' id='uno"+lT.usernotes[t].id+"' style='background-color: "+lT.usernotes[t].color+"'><span class='tntc2' id='"+lT.usernotes[t].id+"'>"+lT.usernotes[t].title+"</span></div>"),Uy("uno"+lT.usernotes[t].id).addEventListener("click",cS)}catch{}Uy("un_list").insertAdjacentHTML("beforeend","<div class='t_notes' id='unoadd'><span><center>+</center></span></div>"),Uy("unoadd").addEventListener("click",cS)}async function fS(){var t=Uy("fm_message").value;if(t.includes("/pinned")){t=t.split("/pinned")[1];try{await hg(jp(PE,"forum","pinned"),{message:t})}catch{alert("You Dont Have The Privilages For This Command")}var e=await Oy("http://localhost:5500/time.html").then(async function(e){await hg(jp(PE,"forum","ppinned"),{ppinned:mg({message:t,user:lT.uuid,time:e})})}(e))}else""!=t&&null!=t?(await ug(Fp(PE,"forum"),{name:lT.name,message:t,userid:lT.uuid,sgndon:pg()}),Uy("fm_message").value=""):alert("Message Cannot Be Empty")}let pS=function(){};async function mS(t){1==t?(Uy("forum_live").innerHTML="",nS=Um(Fp(em(),"forum"),Hm("sgndon","desc"),Km(10)),pS=cg(nS,(function(t){t.docChanges().forEach((function(t){if("removed"===t.type)Uy("dM"+t.doc.id).remove();else if("added"==t.type){gS>=11&&(vS="beforeend");var e=t.doc.data();!function(t,e,i,n,r){var s=n.replace(/<[^>]+>/g,"");if("shh5oUIhRpdBkEKQ3GCZwoKE9u42"==r){var o="<div id = 'dM"+t+"'><span class = 'dmName'>"+i+": </span><span class = 'dmText'>"+s+"</span><span class = 'dmtime'>"+e+"</span></div>";Uy("forum_live").insertAdjacentHTML(vS,o)}else o="<div id = 'dM"+t+"'><span class = 'dmName'>"+i+": </span><span class = 'dmText'>"+s+"</span><span class = 'dmtime'>"+e+"</span></div>",Uy("forum_live").insertAdjacentHTML(vS,o)}(t.doc.id,"",e.name,e.message,e.userid),gS+=1}}))}))):2==t&&(pS(),pS=function(){})}var gS=1,vS="afterbegin";let yS;async function bS(){Uy("qbnk_vid_btn").style.display="none",Uy("qbnk_vid_btn_e").style.display="none";try{let o=await rg(jp(PE,"qbank",window.location.hash.split("qbnk_vid/")[1]));if(o.exists()){var t=o.data();Uy("tb_q_title").innerText=t.name,Uy("qb_vid_ti").innerText=t.name,Uy("qbnk_vid_q").style.display="none",Uy("qbnk_vid_ans").style.display="none",Uy("qbnk_vid_title").style.display="flex",Uy("qbnk_vid_end").style.display="none",Uy("watermark").style.display="none";let a=t.qllist,h=await recordScreen(),l="video/mp4";Py(Uy("qbnk_vid")),yS=createRecorder(h,l);var e,i=0,n=0,r=0,s=setInterval((function(){if(Uy("qbnk_vid_q").style.display="none",Uy("qbnk_vid_ans").style.display="none",Uy("qbnk_vid_title").style.display="none",Uy("qbnk_vid_end").style.display="none",0==n)Uy("qbnk_vid_title").style.display="flex",n++;else if(r==a.length-1)Uy("qbnk_vid_end").style.display="flex",setTimeout((function(){yS.stop(),Uy("qbnk_vid_btn").style.display="block"}),5e3),clearInterval(s);else if(0==i||1==i){!function(t){function e(t){t.style.display="none"}function i(t){t.style.display="block"}function n(t){t.style.display="flex"}var r=Uy("tb_q_mcq_con"),s=Uy("tb_q_matrix"),o=Uy("tb_q_answer");if(r.innerHTML="",Uy("tb_q_qtext").innerHTML=t.title+"<span class = 'sp_txt'>("+t.type+")</span>","mcq"==t.type||"mcq_multiple"==t.type||"mcq_multiple_partial"==t.type){n(r),e(s),e(o);var a=t.op,h="";for(let t of a)h+='<div class="tb_q_mcq_p rpl">'+t+"</div>";Uy("tb_q_mcq_con").insertAdjacentHTML("beforeend",h)}else if("matrix"==t.type){e(r),i(s),e(o);for(var l=t.op1,u=t.op2,c=l.length,d=0;d<c;d++)document.getElementsByClassName("tp_i1")[d].innerHTML=l[d];for(d=0;d<c;d++)document.getElementsByClassName("tp_i2")[d].innerHTML=u[d]}else"numerical"==t.type||"fill"==t.type?(e(r),e(s),i(o)):"taf"==t.type?(n(r),e(s),e(o),h='<div class="tp_mcq_p rpl">True</div><div class="tp_mcq_p rpl">False</div>',Uy("tp_mcq_con").insertAdjacentHTML("beforeend",h)):(e(r),e(s),e(o));renderMathInElement(Uy("tp_ans_hold")),renderMathInElement(Uy("tp_qtext"))}(a[r]);var t=r+1;0==i&&(Uy("qbnk_timer").innerText=10,e=setInterval((function(){Uy("qbnk_timer").innerText=Uy("qbnk_timer").innerText-1}),1e3)),Uy("tb_q_qno").innerText="Question "+t+":",Uy("qbnk_vid_q").style.display="flex",i++}else if(2==i){Uy("qbnk_vid_ans").style.display="flex",clearInterval(e);for(var o="",h=0;h<a[r].answer.length;h++)o+='<div class="tb_q_mcq_p rpl" style = "background-color:green">'+a[r].answer[h]+"</div>";Uy("tb_q_ans").innerHTML=o,Uy("tb_q_hint").innerHTML=a[r].hint,Uy("tb_q_expl").innerHTML=a[r].expl,i=0,r++}}),5e3)}}catch{}}function wS(){var t=Uy("aq_answer").value.split(","),e=Uy("aq_type").value,i=[],n=[],r=[];if("mcq"==e||"mcq_multiple"==e||"mcq_multiple_partial"==e)for(t=[],o=0;o<document.getElementsByClassName("aq_mcq_ans").length;o++){var s=document.getElementsByClassName("aq_mcq_ans")[o].value;t[o]=s}for(var o=0;o<document.getElementsByClassName("aq_mcq").length;o++)i.push(document.getElementsByClassName("aq_mcq")[o].value);for(o=0;o<document.getElementsByClassName("aq_i1").length;o++)n.push(document.getElementsByClassName("aq_i1")[o].value);for(o=0;o<document.getElementsByClassName("aq_i2").length;o++)r.push(document.getElementsByClassName("aq_i2")[o].value);if(mT.includes("edit_test"))var a={qid:_T,mode:Uy("aq_mode").value,title:oT("aq_qtext"),y_url:Uy("aq_yurl").value,hint:Uy("aq_hint").value,expl:oT("aq_expl"),type:e,answer:t,op:i,op1:n,op2:r,section:Uy("aq_section").value,pm:Uy("aq_posmrks").value,nm:Uy("aq_negmrks").value,qtopic:Uy("aq_q_topic").value};else if(mT.includes("edit_exams"))a={id:_T,name:Uy("aq_examname").value,date:Uy("aq_examdate").value,info:Uy("aq_examinfo").value,syllabus:Uy("aq_examsyllabus").value,mode:"exams"};else a={id:_T,mode:Uy("aq_mode").value,title:oT("aq_qtext"),y_url:Uy("aq_yurl").value,hint:Uy("aq_hint").value,expl:oT("aq_expl"),type:e,answer:t,op:i,op1:n,op2:r,section:Uy("aq_section").value,pm:Uy("aq_posmrks").value,nm:Uy("aq_negmrks").value,qtopic:Uy("aq_q_topic").value};return a}async function _S(t){function e(t){t.style.display="none"}function i(t){t.style.display="block"}function n(t){t.style.display="flex"}var r=Uy("aq_mode").value,s=Uy("aq_ans_hold"),o=Uy("aq_type"),a=Uy("aq_answer"),h=Uy("aq_yurl"),l=Uy("aq_mcq_con"),u=Uy("aq_matrix"),c=(Uy("aq_upl"),Uy("aq_all"));Uy("aq_tpc"),Uy("aq_qbk"),Uy("aq_sims");"question"==r?(e(h),i(s),i(o),i(a),n(c)):"lesson"==r?(i(h),e(s),e(o),e(a),n(c)):"exams"==r&&(e(h),e(s),e(o),e(a),e(c)),"mcq"==o.value||"mcq_multiple"==o.value||"mcq_multiple_partial"==o.value?(n(l),e(u),e(a)):"matrix"==o.value?(i(u),e(l),e(a)):(e(u),e(l),i(a))}function MS(t){xS(this.innerText)}function xS(t){if("+"==t){let e=MT.length;window.location.hash.includes("edit_exams")?MT[e]={id:Date.now()+Math.random().toString(36).substr(2),name:"",date:"",info:"",syllabus:"",mode:"exams"}:MT[e]={id:Date.now()+Math.random().toString(36).substr(2),mode:"",title:"",y_url:"",img:"",hint:"",expl:"",type:"mcq",answer:["1"],op:["1","2","3","4"],op1:[],op2:[],section:"Unfiled",pm:4,nm:-1,qtopic:""},(window.location.hash.includes("edit_qubank")||window.location.hash.includes("edit_test"))&&(MT[e].mode="question"),mT.includes("edit_test")&&(MT[e].qid=MT[e].id),t=e}Uy("question_list").innerHTML="";for(var e=1;e<MT.length+1;e++)Uy("question_list").insertAdjacentHTML("beforeend",'<span class = "t_no_qno" id = "t_no_qno_'+e+'">'+e+"</span>"),Uy("t_no_qno_"+e).addEventListener("click",MS);Uy("question_list").insertAdjacentHTML("beforeend",'<span class = "t_no_qno" id = "t_no_qno_add">+</span>'),Uy("t_no_qno_add").addEventListener("click",MS),0!=t&&(MT[wT-1]=wS(),wT=t);var i=MT[wT-1];if(window.location.href.includes("edit_exams"))return Uy("aq_examname").value=i.name,Uy("aq_examdate").value=i.date,Uy("aq_examinfo").value=i.info,Uy("aq_examsyllabus").value=i.syllabus,void _S();if(_T=mT.includes("edit_test")?i.qid:i.id,Uy("aq_mode").value=i.mode,Uy("aq_id").value=_T,aT("aq_qtext",i.title),Uy("aq_yurl").value=i.y_url,Uy("aq_type").value=i.type,Uy("aq_hint").value=i.hint,Uy("aq_section").value=i.section,Uy("aq_posmrks").value=i.pm,Uy("aq_negmrks").value=i.nm,Uy("aq_q_topic").value=i.qtopic,aT("aq_expl",i.expl),"mcq"==i.type||"mcq_multiple"==i.type||"mcq_multiple_partial"==i.type){Uy("aq_mcq_con").innerHTML="";for(var n=0;n<i.op.length;n++){NS(),document.getElementsByClassName("aq_mcq")[n].value=i.op[n];for(var r=0;r<i.answer.length;r++)i.op[n]==i.answer[r]&&(document.getElementsByClassName("aq_mcq")[n].classList.add("aq_mcq_ans"),document.getElementsByClassName("aq_mcq_p")[n].style.borderColor="var(--clr10)")}}else"numerical"!=i.type&&"explain"!=i.type&&"fill"!=i.type&&"taf"!=i.type||(Uy("aq_answer").value=i.answer.toString());_S()}async function kS(t){var e,i;Uy("aq_basic").style.display="flex",1==t?(e="topic",i=window.location.hash.split("edit_tpc/")[1],Uy("fu_topic_title").innerText="Add/Edit Topic",Uy("aq_mode").innerHTML='<option value="question">Question</option><option value="lesson">Lesson</option>',Uy("aq_tpc_save").style.display="block",Uy("aq_qbc_save").style.display="none",Uy("aq_tst_save").style.display="none",Uy("aq_test_extra").style.display="none",Uy("aq_exam_save").style.display="none",Uy("aq_exams").style.display="none",Uy("aq_all").style.display="flex",Uy("aq_ans_hold").style.display="flex"):2==t?(e="qbank",i=window.location.hash.split("edit_qubank/")[1],Uy("fu_topic_title").innerText="Add/Edit QBank",Uy("aq_mode").innerHTML='<option value="question">Question</option>',Uy("aq_tpc_save").style.display="none",Uy("aq_tst_save").style.display="none",Uy("aq_test_extra").style.display="none",Uy("aq_qbc_save").style.display="block",Uy("aq_exam_save").style.display="none",Uy("aq_exams").style.display="none",Uy("aq_all").style.display="flex",Uy("aq_ans_hold").style.display="flex"):3==t?(e="tests",i=window.location.hash.split("edit_tests/")[1],Uy("fu_topic_title").innerText="Add/Edit Tests",Uy("aq_mode").innerHTML='<option value="question">Question</option>',Uy("aq_tpc_save").style.display="none",Uy("aq_qbc_save").style.display="none",Uy("aq_test_extra").style.display="flex",Uy("aq_tst_save").style.display="block",Uy("aq_exam_save").style.display="none",Uy("aq_exams").style.display="none",Uy("aq_all").style.display="flex",Uy("aq_ans_hold").style.display="flex"):4==t&&(e="quarkz",i="exams",Uy("fu_topic_title").innerText="Add/Edit Exams",Uy("aq_mode").innerHTML='<option value="exam">Exam</option>',Uy("aq_tpc_save").style.display="none",Uy("aq_qbc_save").style.display="none",Uy("aq_test_extra").style.display="none",Uy("aq_exam_save").style.display="block",Uy("aq_tst_save").style.display="none",Uy("aq_exams").style.display="flex",Uy("aq_all").style.display="none",Uy("aq_ans_hold").style.display="none",Uy("aq_basic").style.display="none");try{let r=await rg(jp(PE,e,i));if(r.exists())if(1==t||2==t){var n=r.data();Uy("aq_tpcname").value=n.name,Uy("aq_tpclevel").value=n.level,Uy("aq_tpc_subj").value=n.subject,Uy("aq_tpc_chapterid").value=n.chid,MT=n.qllist,xS(0),xS(1)}else if(3==t){n=r.data();Uy("aq_tpcname").value=n.title,Uy("aq_tpclevel").value=n.level,Uy("aq_tpc_subj").value=n.subject,Uy("aq_randomize").checked=n.randomize,Uy("aq_blockresult").checked=n.blockresult,Uy("aq_tst_batches").value=n.batch.toString(),Uy("aq_tst_stron").value=dateparser(1e3*n.strton.seconds),Uy("aq_tst_endon").value=dateparser(1e3*n.endon.seconds),Uy("aq_tst_timealotted").value=n.timeallotted,Uy("aq_tst_passpercentage").value=n.passpercentage,Uy("aq_tst_syllabi").value=n.syllabus,aT("aq_add_test_instr",n.instructions);let t=await rg(jp(PE,"tests",i,"questions","questions")),e=await rg(jp(PE,"tests",i,"questions","answers")),s=[],o=[];if(t.exists())s=t.data().questions;if(e.exists())o=e.data().questions;MT=By(s,o),xS(0),xS(1)}else if(4==t){n=r.data();MT=n.examinfo,xS(0),xS(1)}}catch{}}function AS(){for(var t=0;t<MT.length;t++)MT[t].qid!=_T&&MT[t].id!=_T||(MT.splice(t,1),xS(0),null==(_T=MT[t-1].qid||MT[t-1].id)&&(_T=""))}async function ES(t){for(var e=0;e<MT.length;e++)MT[e].qid!=_T&&MT.id!=_T||(MT[e]=wS());var i,n;if(1==t?(i="topic",n=window.location.hash.split("edit_tpc/")[1]):2==t?(i="qbank",n=window.location.hash.split("edit_qubank/")[1]):3==t?(i="tests",n=window.location.hash.split("edit_tests/")[1]):4==t&&(i="quarkz",n="exams"),1==t||2==t)try{await hg(jp(PE,i,n),{name:Uy("aq_tpcname").value,qllist:MT,level:Uy("aq_tpclevel").value,chid:Uy("aq_tpc_chapterid").value,subject:Uy("aq_tpc_subj").value})}catch{}else if(3==t){try{let t=0,h=0;for(e=0;e<MT.length;e++){var r=MT[e];h+=parseInt(r.pm),t+=1}var s=new Date(Uy("aq_tst_stron").value),o=new Date(Uy("aq_tst_endon").value),a=Uy("aq_tst_batches").value.split(",");await hg(jp(PE,i,n),{title:Uy("aq_tpcname").value,timeallotted:Uy("aq_tst_timealotted").value,passpercentage:Uy("aq_tst_passpercentage").value,syllabus:Uy("aq_tst_syllabi").value,instructions:oT("aq_add_test_instr"),randomize:Uy("aq_randomize").checked,blockresult:Uy("aq_blockresult").checked,strton:s,endon:o,batch:a,questionnos:t,totalmarks:h})}catch{}var h=[],l=[];for(e=0;e<MT.length;e++){r=MT[e];h.push({qid:r.qid,mode:r.mode,title:r.title,type:r.type,op:r.op,op1:r.op1,op2:r.op2,section:r.section,pm:r.pm,nm:r.nm,qtopic:r.qtopic}),l.push({qid:r.qid,hint:r.hint,expl:r.expl,answer:r.answer,section:r.section,pm:r.pm,nm:r.nm,type:r.type,qtopic:r.qtopic})}try{await hg(jp(PE,i,n,"questions","questions"),{questions:h})}catch(t){hy(t)}try{await hg(jp(PE,i,n,"questions","answers"),{questions:l})}catch{}}else if(4==t){await hg(jp(PE,i,n),{examinfo:MT})}}function SS(){window.location.hash="#/qbanks/"+atob(this.id.split("chpqbk")[1])}function TS(){window.location.hash="#/topic/"+atob(this.id.split("chptpc")[1])}async function IS(t){var e="",i="";1==t?(e="topic",i="topic"):2==t?(i="qbanks",e="qbank"):e="topic";var n=i+"/",r=window.location.hash.split(n)[1],s=jp(PE,e,r),o=await rg(s);if(!o.exists())throw WE("error_page",1),new Error;var a=o.data();(gT={}).title=a.name,gT.qllist=a.qllist,LS(3)}function qS(){window.location.hash="#/chapter/"+atob(this.id.split("qb")[1])}function CS(t){Uy("qb_cont_2").innerHTML="";for(var e=0;e<yT.length;e++){var i=yT[e];i.subject==t&&(Uy("qb_cont_2").insertAdjacentHTML("beforeend",'<span class="tlinks rpl" style = "color:pink" id="qb'+btoa(i.id)+'">'+i.name+"</span>"),Uy("qb"+btoa(i.id)).addEventListener("click",qS))}}async function RS(t){var e="";e=1==t?"qbank":2==t?"topic":3==t?"tests":"qbank";var i=window.location.hash.split("printable/"+e+"/")[1];Uy("eqb_add").innerHTML="";var n,r,s,o,a=Uy("qb_title");if(1==t||2==t){var h=jp(PE,e,i);if((c=await rg(h)).exists())n=(g=c.data()).qllist,a.innerText=g.name}else{if(3!=t)throw WE("error_page",1),new Error;var l,u,c;h=jp(PE,e,i);(c=await rg(h)).exists()&&(n=(g=c.data()).qllist,a.innerText=g.title,Uy("pt_ins").innerHTML='\n      <span style="font-size:18px;color:var(--clr10);">Test Information:</span>\n            <ul style="font-size: 14px;color:white;">\n                <li> Time Allotted:&nbsp;<span id = "i_time">'+g.timeallotted+'</span> </li>\n                <li> Syllabus:&nbsp;<span id = "i_syllabus">'+g.syllabus+'</span> </li>\n                <li> Total Marks:&nbsp;<span id = "i_total">'+g.totalmarks+'</span> </li>\n                <li> No of Questions:&nbsp;<span id = "i_qno">'+g.questionnos+'</span></li>\n            </ul>\n      <span style="font-size:18px;color:var(--clr10);">Test Specific Instructions:</span>\n      <div id = "tsi" style="font-size:14px;">'+g.instructions+"</div><hr>\n    ");var d=jp(PE,e,i,"questions","questions"),f=await rg(d);f.exists()&&(l=f.data().questions);var p=jp(PE,e,i,"questions","answers"),m=await rg(p);m.exists()&&(u=m.data().questions);n=By(l,u)}for(let t of n)if("question"==t.mode){var g=t;t.id=t.qid||t.id,r=g.title,s=g.type,null==(o=g.img)&&(o="");var v='<div class = "q_ans_expl" style = "font-weight:bold;color:green;font-size:10px;flex-direction:row;display:none;">Explaination:'+g.expl+"</div>",y="<div style = 'font-weight:bold;color:green;font-size:10px;flex-direction:row;display:none' class = 'q_ans_1'>Answer:",b='<div class = "qbtp_q"><div id = "'+t.id+'">'+r+'<div class = "qb_q_ty">('+s+")("+g.pm+"/"+g.nm+")</div></div>";if(Uy("eqb_add").insertAdjacentHTML("beforeend",b),""!=o){var w='<div class = "qb_img"><img src = "'+o+'"></div>';Uy(t.id).insertAdjacentHTML("beforeend",w)}var _="";if("mcq"==s||"mcq_multiple"==s||"mcq_multiple_partial"==s){var M=g.op;for(let t of M)_+="<div class = 'qb_mcq_opt'>"+t+"</div>";var x='<div class = "qb_mcq_exp" type = "a">'+_+"</div>";for(let t of g.answer)y+="<div class = 'qb_mcq_ans'>"+t+"</div>"}if("taf"==s&&(x='<ol class = "qb_mcq_exp" type = "a"><li>True</li><li>False</li></ol>'),"explain"!=s&&"numerical"!=s&&"fill"!=s||(x="",y+=t.answer.toString()+"</span>"),"matrix"==s){for(var k=g.op1,A=g.op2,E=k.length,S=0;S<E;S++)_+="<tr><td>"+k[S]+"</td><td>"+A[S]+"</td>";x="<table>"+_+"</table>"}Uy(t.id).insertAdjacentHTML("beforeend",x),Uy(t.id).insertAdjacentHTML("beforeend",y+"</div>"),Uy(t.id).insertAdjacentHTML("beforeend",v),renderMathInElement(Uy("eqb_add"))}else if("lesson"==t.mode){var T;r=(g=t).title,s=g.type,o=g.img,T=""==g.y_url?"":"https://api.qrserver.com/v1/create-qr-code/?size=50x50&data=https://www.youtube.com/watch?v="+g.y_url;b='<div class = "les_q"><div id = "'+t.id+'"><div style = "display:flex;flex-direction:row;justify-content: space-between;"><div style = "font-size:18px;">'+r+'</div><img style = "float:right" src="'+T+'"></div><hr width="100%"></div>';Uy("eqb_add").insertAdjacentHTML("beforeend",b);v='<div class = "les_expl" style = "">'+g.expl+'</div><hr width="100%">';Uy(t.id).insertAdjacentHTML("beforeend",v),renderMathInElement(Uy("eqb_add"))}Uy("eqb_add").insertAdjacentHTML("beforeend","<br></br>")}async function DS(t){var e,i;Uy("tp_question").style.display="none",Uy("tp_lesson").style.display="block",""==t.y_url?Uy("tp_full_vid").style.display="none":(Uy("tp_full_vid").style.display="flex",e=t.y_url,i=.8*window.innerWidth||.8*document.documentElement.clientWidth||.8*document.body.clientWidth,null==player||"div"==Uy("player").tagName?window.player=new YT.Player("player",{height:"500",width:i,origin:window.location.origin,videoId:e,playerVars:{playsinline:1,controls:0,modestbranding:1},events:{onReady:onPlayerReady,onStateChange:onPlayerStateChange}}):window.player.loadVideoById(e)),Uy("tp_lsno").innerText=t.title,Uy("tp_expl").innerHTML=t.expl,Uy("report-tag").value=t.id}async function LS(t){var e;if(e=1==t?-1:1,(vT<gT.qllist.length-1&&2==t||1==t&&vT>0)&&(vT+=e),!(vT>=gT.qllist.length&&2==t)){3==t&&(vT=0);var i=gT.title;Uy("tp_title").innerText=i;for(var n=gT.qllist[vT],r=0,s=0,o=0;o<gT.qllist.length;o++)"question"==gT.qllist[o].mode&&r++,o==vT&&(s=r);"lesson"==n.mode?DS(n):"question"==n.mode&&async function(t,e,i){function n(t){t.style.display="none"}function r(t){t.style.display="block"}function s(t){t.style.display="flex"}n(Uy("tp_hint")),n(Uy("tp_a_expl")),n(Uy("tp_e_answer")),n(Uy("tp_status"));var o=Uy("tp_mcq_con"),a=Uy("tp_matrix"),h=Uy("tp_answer");if(Uy("tp_lsno").innerHTML="Question<span style = 'font-size:12px'>&nbsp;"+i+" of ("+e+")</span>",Uy("tp_question").style.display="flex",Uy("tp_lesson").style.display="none",Uy("tp_question").setAttribute("dataid",t.id),Uy("tp_question").setAttribute("qtype",t.type),Uy("report-tag").value=t.id,o.innerHTML="",Uy("tp_qtext").innerHTML=t.title,"mcq"==t.type||"mcq_multiple"==t.type||"mcq_multiple_partial"==t.type){s(o),n(a),n(h);var l=t.op,u="";for(let t of l)u+='<div class="tp_mcq_p rpl" onclick = "mcqchose(this)">'+t+"</div>";Uy("tp_mcq_con").insertAdjacentHTML("beforeend",u)}else if("matrix"==t.type){n(o),r(a),n(h);for(var c=t.op1,d=t.op2,f=c.length,p=0;p<f;p++)document.getElementsByClassName("tp_i1")[p].innerText=c[p];for(p=0;p<f;p++)document.getElementsByClassName("tp_i2")[p].innerText=d[p]}else"numerical"==t.type||"fill"==t.type?(n(o),n(a),r(h)):"taf"==t.type?(s(o),n(a),n(h),u='<div class="tp_mcq_p rpl">True</div><div class="tp_mcq_p rpl">False</div>',Uy("tp_mcq_con").insertAdjacentHTML("beforeend",u)):(n(o),n(a),n(h));renderMathInElement(Uy("tp_ans_hold")),renderMathInElement(Uy("tp_qtext"))}(n,r,s),sT()}}function NS(){Uy("aq_mcq_con").insertAdjacentHTML("beforeend",'<div class="aq_mcq_p" onclick="changeColor(this)"><input class="aq_mcq"></div>')}function OS(){document.getElementsByClassName("aq_mcq_p")[document.getElementsByClassName("aq_mcq").length-1].remove()}function PS(){Ti(tr(),FS)}function BS(){for(var t=Uy("eqb_add"),e=t.children.length;e>=0;e--)t.appendChild(t.children[Math.random()*e|0])}async function US(t){try{var e=jp(PE,"batch",t),i=await rg(e);if(i.exists()){var n=i.data();if(lT.batchname=n.name,lT.timetable=n.timetable,lT.timetableurl="https://calendar.google.com/calendar/embed??height=600&wkst=2&bgcolor=%23ffffff&ctz=Asia%2FKolkata&showTitle=0&showCalendars=0&showTabs=0&showPrint=0&showDate=1&src="+n.timetable+"%40group.calendar.google.com&amp;ctz=Asia%2FKolkata",async function(t,e,i){1==i&&(kT=[]);if(kT!=[]){const e=Um(Fp(PE,"tests"),jm("batch","array-contains",t));(await og(e)).forEach((t=>{var e=t.data();kT.push({title:e.title,strton:e.strton.seconds,endon:e.endon.seconds,testid:t.id,qno:e.questionnos,marks:e.totalmarks,alotted:e.timeallotted})}))}}(t,lT.uuid,1),n.delon.seconds<=parseInt(Date.now()/1e3)){hy("Warning","This Batch Has Been Deleted"),async function(){await hg(jp(PE,"users",lT.uuid),{curr_batch:"guest"}),lT.curr_batch=Uy("inp_batch").value,US(lT.curr_batch),addToast("success","Current Batch changed Successfully")}()}yT=[];for(var r=0;r<n.chlist.length;r++)yT.push({name:n.chlist[r].name,id:n.chlist[r].id,subject:n.chlist[r].subject})}}catch{}}async function FS(t){var e;if(t){var i=jp(PE,"users",t.uid);if((r=await rg(i)).exists()){var n=r.data();(lT=n).uuid=t.uid,e=lT.curr_batch||lT.batch.split(",")[0],batchlist=lT.batch,lT.storeitems=[],lT.codeitems=[],dT=lT.roles.user,uT=lT.roles.editor,cT=lT.roles.admin,Uy("spoints").innerText=lT.spoints,null==n.usernotes&&(lT.usernotes=[])}1==n.deleted&&(hy("Warning","User Account Has Been Deleted"),VE()),US(e),spoints.style.display="block",Uy("dsh_btn").style.display="block",""!=window.location.hash&&null!=window.location.hash&&null!=window.location.hash||(window.location.hash="#/dashboard",xT=1);var r;i=jp(PE,"quarkz","exams");if((r=await rg(i)).exists()){n=r.data();if(lT.examslist=n,n.ratemyapp&&localStorage.setItem("rate_app",!1),n.offline&&"shh5oUIhRpdBkEKQ3GCZwoKE9u42"!=lT.uuid)return Ii(tr()),bT=[],hy("Server Offline","Quarkz Is Temporarily Offline for Maintainance. "+n.offlinemsg),0;""!=n.warning&&addToast("notice",n.warning,1e4)}WE(window.location.hash.split("#/")[1],1)}else spoints.textContent="",spoints.style.display="none",Uy("dsh_btn").style.display="none",WE("login",1),1==xT&&document.location.reload()}function jS(){for(var t,e,i,n,r=Uy("tp_question").getAttribute("dataid"),s=Uy("tp_question").getAttribute("qtype"),o=0;o<gT.qllist.length;o++)if(gT.qllist[o].id==r){e=gT.qllist[o].answer,i=gT.qllist[o].expl,n=gT.qllist[o].hint;break}if("numerical"==s||"fill"==s){"correct"==zy(s,e,t=Uy("tp_answer").value.split(","),4,-1,0).type?(Uy("tp_status").innerText="Correct Answer",Vy(2),1):(Uy("tp_status").innerText="Wrong Answer",Vy(1),0)}if("mcq"==s||"mcq_multiple"==s||"taf"==s||"mcq_multiple_partial"==s){t=[];for(var a=0;a<document.getElementsByClassName("tp_mcq_p").length;a++)document.getElementsByClassName("tp_mcq_p")[a].classList.contains("aq_mcq_ans")&&t.push(document.getElementsByClassName("tp_mcq_p")[a].innerText);"correct"==zy(s,e,t,4,-1,0).type?(Uy("tp_status").innerText="Correct Answer",Vy(2),1):(Uy("tp_status").innerText="Wrong Answer",Vy(1),0)}Uy("tp_status").style.display="block",Uy("tp_hint").style.display="block",Uy("tp_a_expl").style.display="block",Uy("tp_e_answer").style.display="block",Uy("tp_a_expl").innerHTML=i,Uy("tp_hint").innerHTML=n,Uy("tp_e_answer").innerHTML="Answer:"+e}function zS(){window.location.hash.includes("topic")?HS("printable/topic/"+window.location.hash.split("topic/")[1],1):window.location.hash.includes("qbanks")&&HS("printable/qbank/"+window.location.hash.split("qbanks/")[1],1),window.location.hash.includes("edit_tpc/")?HS("printable/topic/"+window.location.hash.split("edit_tpc/")[1],1):window.location.hash.includes("edit_qubank/")&&HS("printable/qbank/"+window.location.hash.split("edit_qubank/")[1],1)}function VS(){window.location.hash.includes("topic")?HS("edit_tpc/"+window.location.hash.split("topic/")[1],1):window.location.hash.includes("qbanks")&&HS("edit_qubank/"+window.location.hash.split("qbanks/")[1],1)}function HS(t,e){window.location.hash="#/"+t,"dashboard"==t&&WE("dashboard",1)}function WS(){window.location.hash="#/instructions/"+this.id}function KS(){window.location.hash="#/finished/"+this.id}function GS(t){var e;ST=[],TT=[],IT=[];for(var i=parseInt(Date.now()/1e3),n=0;n<kT.length;n++)i>kT[n].strton&&i<kT[n].endon?ST.push(kT[n]):i<kT[n].strton?TT.push(kT[n]):i>kT[n].endon&&IT.push(kT[n]);for(var r of("active"==t?e=ST:"upcoming"==t?e=TT:"finished"==t&&(e=IT),Uy("testlinks").innerHTML="",e)){var s=new Date(1e3*r.strton),o=new Date(1e3*r.endon),a='<div class="tlinks-3" id = "'+r.testid+'"><center><span class = "t_title">'+r.title+'</span></center><div class = "tl"><span class = "t_stron">Starts At:'+s.toLocaleString()+'</span><span class ="t_endon">Ends At:'+o.toLocaleString()+'</div><div class = "tl"><span>Marks:'+r.marks+"</span><span>Allotted Time:"+parseInt(r.alotted)/60+"&nbsp;Mins</span><span>Questions:"+r.qno+"</span></div></div>";"finished"!=t?(Uy("testlinks").insertAdjacentHTML("beforeend",a),Uy(r.testid).addEventListener("click",WS)):"finished"==t&&(Uy("testlinks").insertAdjacentHTML("beforeend",a),Uy(r.testid).addEventListener("click",KS))}}async function QS(t){var e;if(1==t){var i=window.location.hash.split("/finished/")[1],n=jp(PE,"tests",i,"questions","questions"),r=await rg(n);r.exists()&&(e=r.data().questions)}else 2==t&&(e=[],e=RT);for(var s={},o=0;o<NT.length;o++)NT[o].time=NT[o].time.seconds;var a,h,l=jy(NT,"time","type",0),u="";for(o=0;o<l.length;o++)"b"==l[o].type?(a=l[o].time,u=l[o].value):"a"==l[o].type&&u==l[o].value&&(h=l[o].time,null==s[l[o].value]&&(s[l[o].value]={},s[l[o].value].time=0),s[l[o].value].time+=h-a,a=h,h=0);var c={Physics:{correct:0,unattempted:0,incorrect:0,total:0},Chemistry:{correct:0,unattempted:0,incorrect:0,total:0},Math:{correct:0,unattempted:0,incorrect:0,total:0},Biology:{correct:0,unattempted:0,incorrect:0,total:0},Computer:{correct:0,unattempted:0,incorrect:0,total:0},Statistics:{correct:0,unattempted:0,incorrect:0,total:0},Unfiled:{correct:0,unattempted:0,incorrect:0,total:0}},d=0,f=0,p=0;for(o=0;o<e.length;o++)for(var m=0;m<fT.length;m++)if(e[o].qid==fT[m].qid){var g=s[e[o].qid];null==s[e[o].qid]?(s[e[o].section]={},s[e[o].section].time=0,c[e[o].section].qun+=1):(c[e[o].section].total+=g.time,0==fT[o].marks?(c[e[o].section].unattempted+=g.time,p+=g.time,c[e[o].section].qun+=1):fT[o].marks==e[o].pm?(c[e[o].section].correct+=g.time,d+=g.time,c[e[o].section].qc+=1):(c[e[o].section].incorrect+=g.time,f+=g.time,c[e[o].section].qic+=1))}pT={questions:s,subject:c,correct:d,incorrect:f,unattempted:p}}var YS;function ZS(){XS(this.id,this.innerText)}async function $S(t){var e,i=[],n=[],r=[],s="",o="";window.location.hash.includes("/attempt/")?(s=window.location.hash.split("#/attempt/")[1],o=hy("Warning","Submitting Tests Answers: Please Do Not Close The Tab.")):window.location.hash.includes("/finished/")?s=window.location.hash.split("#/finished/")[1]:window.location.hash.includes("/testreport/")&&(s=window.location.hash.split("#/testreport/")[1]);var a=jp(PE,"tests",s,"responses",BE.currentUser.uid),h=await rg(a);if(h.exists()){var l=h.data().answers;for(var u in r=h.data().info,l)i.push({qid:u,ans:l[u].ans,type:l[u].type,time:l[u].time})}a=jp(PE,"tests",s,"questions","answers"),(h=await rg(a)).exists()&&(e=h.data().questions);for(var c=0,d=0,f=0,p={Physics:{correct:0,unattempted:0,incorrect:0,total:0,qun:0,qc:0,qic:0},Chemistry:{correct:0,unattempted:0,incorrect:0,total:0,qun:0,qc:0,qic:0},Math:{correct:0,unattempted:0,incorrect:0,total:0,qun:0,qc:0,qic:0},Biology:{correct:0,unattempted:0,incorrect:0,total:0,qun:0,qc:0,qic:0},Computer:{correct:0,unattempted:0,incorrect:0,total:0,qun:0,qc:0,qic:0},Statistics:{correct:0,unattempted:0,incorrect:0,total:0,qun:0,qc:0,qic:0},Unfiled:{correct:0,unattempted:0,incorrect:0,total:0,qun:0,qc:0,qic:0}},m={qc:0,qic:0,qun:0,acc:0},g=[],v=[],y=0;y<e.length;y++)for(var b=0;b<i.length;b++)if(e[y].qid==i[b].qid){var w=i[b];null==w.ans&&(w.ans=[]);let t=zy(e[y].type,e[y].answer,w.ans,e[y].pm,e[y].nm,0);"unattempted"==t.type?(n.push({qid:e[y].qid,marks:0,type:"unattempted"}),c+=parseFloat(e[y].pm),p[e[y].section].unattempted+=parseFloat(e[y].pm),p[e[y].section].total+=parseFloat(e[y].pm),p[e[y].section].qun+=1,m.qun+=1,v.push(e[y].qtopic)):"correct"==t.type?(n.push({qid:e[y].qid,marks:parseFloat(e[y].pm),type:"correct"}),d+=parseFloat(t.marks),p[e[y].section].correct+=parseFloat(t.marks),p[e[y].section].total+=parseFloat(e[y].pm),p[e[y].section].qc+=1,m.qc+=1):(n.push({qid:e[y].qid,marks:parseFloat(e[y].nm),type:"incorrect"}),f+=parseFloat(e[y].nm),p[e[y].section].incorrect+=parseFloat(e[y].nm),p[e[y].section].total+=parseFloat(e[y].pm),p[e[y].section].qic+=1,m.qic+=1,g.push(e[y].qtopic))}m.acc=Math.floor(100*(1-m.qic/m.qc));var _={correct:d,incorrect:f,unattempted:c,mList:n,total:p.Physics.total+p.Chemistry.total+p.Math.total+p.Biology.total+p.Computer.total+p.Statistics.total+p.Unfiled.total,usermarks:d+f,subjectmarks:p,overall:m,missedtopics:g,unattemptedtopics:v};1==t?Ny(_,r)||(hy("NOTICE","Please Wait, Marks Are Being Updated"),await hg(jp(PE,"tests",s,"responses",BE.currentUser.uid),{info:_}),await hg(jp(PE,"tests",s,"responses","finished"),{leaderboard:gg({uid:lT.uuid,marks:r.usermarks,name:lT.name})}),await hg(jp(PE,"tests",s,"responses","finished"),{leaderboard:mg({uid:lT.uuid,marks:_.usermarks,name:lT.name})}),WE()):0==t&&(await hg(jp(PE,"tests",s,"responses",BE.currentUser.uid),{info:_}),await hg(jp(PE,"tests",s,"responses","finished"),{leaderboard:mg({uid:lT.uuid,marks:_.usermarks,name:lT.name})}),""!=o&&Uy(o).remove(),qT={})}function XS(t,e){var i=new Date;CT=0,window.location.hash.includes("/attempt/")&&LT!=t&&NT.push({type:"a",time:i,value:LT}),Uy("tt_qno").innerText=e;try{Uy(LT).style.border=""}catch{}LT=t,window.location.hash.includes("/attempt/")&&NT.push({type:"b",time:i,value:LT}),Uy(LT).style.border="purple 3px solid",Uy("report-tag").value=LT;for(let e of RT.questions)if(t==e.qid){Uy("tt_qtitle").innerHTML="";var n='<div class = "qb_q" id = "Q'+e.qid+'"><div class = "qb_ttl">'+e.title+'<div id = "qb_q_ty" class = "qb_q_ty qb_qt_ty" >('+e.type+')</div><div id = "qb_q_mrk" class = "qb_q_ty qb_qt_ty" >('+e.pm+"/"+e.nm+")</div></div></div>";Uy("tt_qtitle").insertAdjacentHTML("beforeend",n),window.location.hash.includes("/attempt/")||Uy("tt_qtitle").insertAdjacentHTML("beforeend",'<span class = "tst_btn">'+e.qtopic+"</span>");var r,s="",o="";if(window.location.hash.includes("/attempt/")||(o="disabled"),"mcq"==e.type){var a=e.op;for(let t of a){let e=Math.floor(1e5*Math.random());s+='<span><input type="radio" class = "q_ans" '+o+' id = "mcq_'+e+'" value = "'+t+'" name = "q_op"></input><label for = "mcq_'+e+'"><li>'+t+"</li></label></span>"}var h='<ol class = "qb_mcq" type = "A">'+s+"</ol>"}if("mcq_multiple"==e.type||"mcq_multiple_partial"==e.type){a=e.op;for(let t of a){let e=Math.floor(1e5*Math.random());s+='<span><input type="checkbox" class = "q_ans" '+o+'  id = "mcq_'+e+'" value = "'+t+'" name = "q_op"><label for = "mcq_'+e+'"><li>'+t+"</li></label></input></span>"}h='<ol class = "qb_mcq" type = "A">'+s+"</ol>"}if("taf"==e.type&&(h='<ol class = "qb_mcq" type = "A"><li>True</li><li>False</li></ol>'),"explain"!=e.type&&"numerical"!=e.type||(h=""),"matrix"==e.type){for(var l=e.op1,u=e.op2,c=l.length,d=0;d<c;d++)s+="<tr><td>"+l[d]+"</td><td>"+u[d]+"</td>";h="<table>"+s+"</table>"}switch(Uy("tt_qtitle").insertAdjacentHTML("beforeend",h),e.type){case"mcq":case"mcq_multiple":case"mcq_multiple_partial":r="";break;case"taf":r='<div id = "tt_mcq"><span><input type="radio" value="a" class = "q_ans" name = "q_op">True</span><span><input type="radio" value="b" class = "q_ans" name = "q_op">False</span></div> ';break;case"numerical":r='<div id = "tt_num"><input type = "number" class="q_ans"></div>';break;case"matrix":r='<div id = "tt_matrix"><div>A<span><input type="checkbox" value="a" id="q_ans_a" name = "q_op">1</span><span><input type="checkbox" value="b" id="q_ans_a" name = "q_op">2</span><span><input type="checkbox" value="c" id="q_ans_a" name = "q_op">3</span><span><input type="checkbox" value="d" id="q_ans_a" name = "q_op">4</span></div><div>B<span><input type="checkbox" value="a" id="q_ans_a" name = "q_op">1</span><span><input type="checkbox" value="b" id="q_ans_a" name = "q_op">2</span><span><input type="checkbox" value="c" id="q_ans_a" name = "q_op">3</span><span><input type="checkbox" value="d" id="q_ans_a" name = "q_op">4</span></div><div>C<span><input type="checkbox" value="a" id="q_ans_a" name = "q_op">1</span><span><input type="checkbox" value="b" id="q_ans_a" name = "q_op">2</span><span><input type="checkbox" value="c" id="q_ans_a" name = "q_op">3</span><span><input type="checkbox" value="d" id="q_ans_a" name = "q_op">4</span></div><div>D<span><input type="checkbox" value="a" id="q_ans_a" name = "q_op">1</span><span><input type="checkbox" value="b" id="q_ans_a" name = "q_op">2</span><span><input type="checkbox" value="c" id="q_ans_a" name = "q_op">3</span><span><input type="checkbox" value="d" id="q_ans_a" name = "q_op">4</span></div></div>';break;case"fill":r='<div id="tt_fill"><input type = "text" class = "q_ans"></div>'}if(Uy("tt_qtitle").insertAdjacentHTML("beforeend",r),!window.location.hash.includes("attempt"))for(let e of OT.questions)if(t==e.qid){e.answer,null!=pT&&(null==pT.questions[e.qid]?Uy("tt_timespent").innerText="0 seconds":Uy("tt_timespent").innerText=Dy(pT.questions[e.qid].time));var f='<div id="tg_answer">Answer: '+e.answer+'</div><div id="tg_expl">Explanation: '+e.expl+"</div>";Uy("tt_qtitle").insertAdjacentHTML("beforeend",f)}renderMathInElement(Uy("tt_qtitle"));for(let i of DT)if(i.qid==t){for(d=0;d<document.getElementsByClassName("q_ans").length;d++){var p=document.getElementsByClassName("q_ans")[d];if("mcq"==e.type||"mcq_multiple"==e.type||"mcq_multiple_partial"==e.type){null==i.ans&&(i.ans=[]);for(let t of i.ans)if(p.value==t){p.checked=!0,1;break}}else p.value=i.ans,1}if(!window.location.hash.includes("attempt"))for(let e of OT.questions)if(t==e.qid)for(let i of DT)if(i.qid==t){let t=zy(e.type,e.answer,i.ans,e.pm,e.nm,0);"unattempted"==t.type?Uy("tt_marksaward").innerHTML='<div style="color:orange">Unanswered(0)</div>':"correct"==t.type?Uy("tt_marksaward").innerHTML='<div style="color:var(--clr10)">Correct('+t.marks+")</div>":Uy("tt_marksaward").innerHTML='<div style="color:red">Incorrect('+t.marks+")</div>"}}for(var m=0;m<DT.length;m++)DT[m].qid==LT&&"tts_notvisit"==DT[m].type&&window.location.hash.includes("attempt")&&(DT[m].type="tts_notanswer",tT("tts_notanswer"),DT[m].ans=[],Uy(LT).classList.remove("tts_notanswer","tts_notvisit","tts_answered","tts_review","tts_ansreview"),Uy(LT).classList.add("tts_notanswer"));break}}function JS(){var t=1;for(let t of["tw_Physics","tw_Chemistry","tw_Math","tw_Computer","tw_Statistics","tw_Biology","tw_Unfiled"])Uy(t+"_c").innerHTML="",Uy(t).style.display="none";for(let i of RT.questions){var e='<span class = "tts_notvisit" id = "'+i.qid+'">'+t+"</span>";t+=1,Uy("tw_"+i.section+"_c").insertAdjacentHTML("beforeend",e),Uy("tw_"+i.section).style.display="flex",Uy(i.qid).addEventListener("click",ZS)}if(window.location.hash.includes("attempt"))Uy("tt_sub").style.display="block";else{for(let t of DT){var i=t.qid;for(let e of OT.questions)if(i==e.qid){e.answer;null==t.ans&&(t.ans=[]);let n=zy(e.type,e.answer,t.ans,e.pm,e.nm,0);"unattempted"==n.type?Uy(i).classList.add("t_unat"):"correct"==n.type?Uy(i).classList.add("t_crr"):Uy(i).classList.add("t_incrr")}}QS(2)}for(let t of DT)Uy(t.qid).classList.replace("tts_notvisit",t.type);XS(RT.questions[0].qid,1)}async function tT(t){if(!window.location.hash.includes("attempt"))return hy("Error","Performing Test Operations in Test Reports Is Prohibited"),1;Hy("s");var e="answers."+LT,i=window.location.hash.split("#/attempt/")[1],n=Uy("qb_q_ty").innerText.split("(")[1];if("tts_notanswer"==t){await hg(jp(PE,"tests",i,"responses",BE.currentUser.uid),{[`${e}`]:{ans:"",type:"tts_notanswer",time:pg()}});var r=0;for(let t of DT){if(t.qid==LT){for(var s=0;s<document.getElementsByClassName("q_ans").length;s++){var o=document.getElementsByClassName("q_ans")[s];if("mcq"==n||"mcq_multiple"==n||"mcq_multiple_partial"==n)for(var a=0;a<t.ans.length;a++){var h=t.ans[a];o.value==h&&(o.checked=!1)}else t.value=""}DT.splice(r,1)}r+=1}}else{var l=[];for(s=0;s<document.getElementsByClassName("q_ans").length;s++){o=document.getElementsByClassName("q_ans")[s];"mcq)"==n||"mcq_multiple)"==n||"mcq_multiple_partial)"==n?1==o.checked&&l.push(o.value):l.push(o.value)}"tts_review"==t&&(l=""),await hg(jp(PE,"tests",i,"responses",BE.currentUser.uid),{[`${e}`]:{ans:l,type:t,time:pg()}});var u=0;for(let e of DT)e.qid==LT&&(e.ans=l,e.type=t,u=1);0==u&&DT.push({qid:LT,ans:l,type:t})}Uy(LT).classList.remove("tts_notanswer","tts_notvisit","tts_answered","tts_review","tts_ansreview"),Uy(LT).classList.add(t),Hy("d");for(s=0;s<RT.questions.length;s++)if(RT.questions[s].qid==LT&&"tts_notanswer"!=t&&"tts_notvisit"!=t){XS(RT.questions[s+1].qid,s+2);break}}async function eT(){if(!window.location.hash.includes("attempt"))return hy("Error","Performing Test Operations in Test Reports Is Prohibited"),1;var t=new Date;NT.push({type:"a",time:t,value:LT}),NT.push({type:"end",time:t,value:"1"});var e=window.location.hash.split("#/attempt/")[1];window.onbeforeunload=function(){},window.onhashchange=WE,await hg(jp(PE,"tests",e,"responses",BE.currentUser.uid),{endon:pg(),actions:NT,warning:[]}).then((function(){DT=[]})),await hg(jp(PE,"tests",e,"responses","finished"),{finished:mg(BE.currentUser.uid)}).then($S(0)),RT=[],LT="",Uy("dsh_btn").style.display="block",window.location.hash="#/finished/"+window.location.hash.split("attempt/")[1],clearInterval(YS)}function iT(t){0==t&&hy("WARNING","You Are Currently Offline.")}function nT(){"preview"==Uy("un_rendermode").value?(Uy("un_preview").style.display="block",Uy("un_preview").innerHTML="<h1 style = 'text-align:center'>"+Uy("un_title").value+"</h1><br>"+oT("un_editable"),Uy("un_edit").style.display="none"):"edit"==Uy("un_rendermode").value&&(Uy("un_edit").style.display="flex",Uy("un_preview").style.display="none");try{Uy("uno"+window.location.hash.split("usernotes/")[1]).style.backgroundColor=Uy("un_colorpicker").value}catch{}}function rT(){let t=document.querySelector("#rg_mbleno").value,e=document.querySelector("#rg_uname").value,i=document.querySelector("#rg_pass").value,n=document.querySelector("#rg_pass1").value,r=document.querySelector("#rg_name").value,s=document.querySelector("#rg_dob").value,o=document.querySelector("#rg_class").value,a=document.querySelector("#rg_gender").value;if(t&&e&&i&&n&&r&&s&&o&&a){{const r=/^\+91\d{10}$/;if(!t.match(r))return void hy("Warning","Mobile number should be in the format +91XXXXXXXXXX");const s=/^[^\s@]+@[^\s@]+\.[^\s@]+$/;if(!e.match(s))return void hy("Warning","Please enter a valid email address");if(i.length<8)return void hy("Warning","Password should be at least 8 characters long");if(i!==n)return void hy("Warning","Passwords do not match")}hy("Note","By Clicking on 'Accept And Register' you agree that you accept all Terms And Conditions and Privacy Policy of Quarkz!",HE,"Accept And Register")}else hy("Warning","Please fill in all fields")}function sT(){try{window.player.stopVideo(),window.location.hash.includes("topic")||(window.player=void 0)}catch{}}function oT(t){return $("#"+t).summernote("code")}function aT(t,e){$("#"+t).summernote("code",e)}console.warn=function(){},window.log=hy,window.onbeforeunload=function(t){updatePoints()},window.addEventListener("online",(()=>iT(1))),window.addEventListener("offline",(()=>iT(0))),$(document).ready((function(){$(".summernote").summernote({toolbar:[["style",["style"]],["font",["bold","italic","underline","clear"]],["fontname",["fontname"]],["color",["color"]],["para",["ul","ol","paragraph"]],["height",["height"]],["table",["table"]],["insert",["link","picture","hr"]],["view",["fullscreen","codeview"]],["help",["help"]]]}),$("#aq_add_test_instr").summernote({toolbar:[["style",["style"]],["font",["bold","italic","underline","clear"]],["fontname",["fontname"]],["color",["color"]],["para",["ul","ol","paragraph"]],["height",["height"]],["table",["table"]],["insert",["link","picture","hr"]],["view",["fullscreen","codeview"]],["help",["help"]]]})}));var hT={copyright:"Mr Techtroid 2021-23",vno:"v0.6.9",author:"Mr Techtroid","last-updated":"23/08/2023(IST)",serverstatus:"firebase-online"};"https://quarkz.netlify.app"==document.location.origin&&(document.location="https://quarkz.mtt.one");var lT,uT,cT,dT,fT,pT,mT=window.location.hash.split("#/")[1],gT={},vT=0,yT=[],bT=[],wT=0,_T="",MT=[],xT=0,kT=[],AT=[],ET=[],ST=[],TT=[],IT=[],qT=[],CT=0,RT=[],DT=[],LT="",NT=[],OT=[];window.onhashchange=WE;const PT=new BroadcastChannel("Quarkz!");let BT=!0;PT.postMessage("QZCODE-ASK"),setTimeout((()=>{BT&&(PS(),Zy())}),200),PT.onmessage=t=>{"QZCODE-ASK"===t.data&&PT.postMessage("QZCODE-NOTFIRST"),"QZCODE-NOTFIRST"===t.data&&(BT=!1,KE("Quarkz! is Open in Another Tab/Window! You can only use Quarkz! in one tab/window.","","")),"QZCODE-REPORT"==t.data&&async function(){Uy("popup_report").addEventListener("click",(async function(){const t=document.querySelectorAll('input[name="problem[]"]:checked'),e=Array.from(t).map((t=>t.value));try{await ug(Fp(PE,"reports"),{id:document.getElementById("report-tag").value,uid:lT.uuid,hash:window.location.hash.split("#/")[1],issue:e.join(", "),comments:document.getElementById("extra_comment").value,type:"report"})}catch{}document.getElementById("msg_popup_report").remove()}))}(),"QZCODE-DARK"==t.data&&(DE.defaults.color="#fff",DE.defaults.borderColor="#fff"),"QZCODE-LIGHT"==t.data&&(DE.defaults.color="#000",DE.defaults.borderColor="#000")};