function t(t,e,i,n){Object.defineProperty(t,e,{get:i,set:n,enumerable:!0,configurable:!0})}var e="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},i={},n={},r=e.parcelRequire43c0;null==r&&((r=function(t){if(t in i)return i[t].exports;if(t in n){var e=n[t];delete n[t];var r={id:t,exports:{}};return i[t]=r,e.call(r.exports,r,r.exports),r.exports}var s=new Error("Cannot find module '"+t+"'");throw s.code="MODULE_NOT_FOUND",s}).register=function(t,e){n[t]=e},e.parcelRequire43c0=r),r.register("4z4pD",(function(e,i){var n,r;t(e.exports,"register",(()=>n),(t=>n=t)),t(e.exports,"resolve",(()=>r),(t=>r=t));var s={};n=function(t){for(var e=Object.keys(t),i=0;i<e.length;i++)s[e[i]]=t[e[i]]},r=function(t){var e=s[t];if(null==e)throw new Error("Could not resolve bundle with id "+t);return e}})),r.register("7GYkA",(function(e,i){var n,s,o,a,h,u,l,c,d,f,p,m,g,v,y,b,w,_,M,A,k,E,x,S,T,I,q,R,C,N,L,D,O,B,P,U,F,j,z;t(e.exports,"randomBytes",(()=>n),(t=>n=t)),t(e.exports,"rng",(()=>s),(t=>s=t)),t(e.exports,"pseudoRandomBytes",(()=>o),(t=>o=t)),t(e.exports,"prng",(()=>a),(t=>a=t)),t(e.exports,"createHash",(()=>h),(t=>h=t)),t(e.exports,"Hash",(()=>u),(t=>u=t)),t(e.exports,"createHmac",(()=>l),(t=>l=t)),t(e.exports,"Hmac",(()=>c),(t=>c=t)),t(e.exports,"getHashes",(()=>d),(t=>d=t)),t(e.exports,"pbkdf2",(()=>f),(t=>f=t)),t(e.exports,"pbkdf2Sync",(()=>p),(t=>p=t)),t(e.exports,"Cipher",(()=>m),(t=>m=t)),t(e.exports,"createCipher",(()=>g),(t=>g=t)),t(e.exports,"Cipheriv",(()=>v),(t=>v=t)),t(e.exports,"createCipheriv",(()=>y),(t=>y=t)),t(e.exports,"Decipher",(()=>b),(t=>b=t)),t(e.exports,"createDecipher",(()=>w),(t=>w=t)),t(e.exports,"Decipheriv",(()=>_),(t=>_=t)),t(e.exports,"createDecipheriv",(()=>M),(t=>M=t)),t(e.exports,"getCiphers",(()=>A),(t=>A=t)),t(e.exports,"listCiphers",(()=>k),(t=>k=t)),t(e.exports,"DiffieHellmanGroup",(()=>E),(t=>E=t)),t(e.exports,"createDiffieHellmanGroup",(()=>x),(t=>x=t)),t(e.exports,"getDiffieHellman",(()=>S),(t=>S=t)),t(e.exports,"createDiffieHellman",(()=>T),(t=>T=t)),t(e.exports,"DiffieHellman",(()=>I),(t=>I=t)),t(e.exports,"createSign",(()=>q),(t=>q=t)),t(e.exports,"Sign",(()=>R),(t=>R=t)),t(e.exports,"createVerify",(()=>C),(t=>C=t)),t(e.exports,"Verify",(()=>N),(t=>N=t)),t(e.exports,"createECDH",(()=>L),(t=>L=t)),t(e.exports,"publicEncrypt",(()=>D),(t=>D=t)),t(e.exports,"privateEncrypt",(()=>O),(t=>O=t)),t(e.exports,"publicDecrypt",(()=>B),(t=>B=t)),t(e.exports,"privateDecrypt",(()=>P),(t=>P=t)),t(e.exports,"randomFill",(()=>U),(t=>U=t)),t(e.exports,"randomFillSync",(()=>F),(t=>F=t)),t(e.exports,"createCredentials",(()=>j),(t=>j=t)),t(e.exports,"constants",(()=>z),(t=>z=t)),n=s=o=a=r("bUSoq"),h=u=r("dHvdJ"),l=c=r("arZPn");var V=r("luisd"),H=Object.keys(V),K=["sha1","sha224","sha256","sha384","sha512","md5","rmd160"].concat(H);d=function(){return K};var G=r("ellmV");f=G.pbkdf2,p=G.pbkdf2Sync;var W=r("gfQS5");m=W.Cipher,g=W.createCipher,v=W.Cipheriv,y=W.createCipheriv,b=W.Decipher,w=W.createDecipher,_=W.Decipheriv,M=W.createDecipheriv,A=W.getCiphers,k=W.listCiphers;var Q=r("9PCF9");E=Q.DiffieHellmanGroup,x=Q.createDiffieHellmanGroup,S=Q.getDiffieHellman,T=Q.createDiffieHellman,I=Q.DiffieHellman;var $=r("2qrhF");q=$.createSign,R=$.Sign,C=$.createVerify,N=$.Verify,L=r("3ZddE");var Z=r("e76V8");D=Z.publicEncrypt,O=Z.privateEncrypt,B=Z.publicDecrypt,P=Z.privateDecrypt;var Y=r("30hQH");U=Y.randomFill,F=Y.randomFillSync,j=function(){throw new Error(["sorry, createCredentials is not implemented yet","we accept pull requests","https://github.com/crypto-browserify/crypto-browserify"].join("\n"))},z={DH_CHECK_P_NOT_SAFE_PRIME:2,DH_CHECK_P_NOT_PRIME:1,DH_UNABLE_TO_CHECK_GENERATOR:4,DH_NOT_SUITABLE_GENERATOR:8,NPN_ENABLED:1,ALPN_ENABLED:1,RSA_PKCS1_PADDING:1,RSA_SSLV23_PADDING:2,RSA_NO_PADDING:3,RSA_PKCS1_OAEP_PADDING:4,RSA_X931_PADDING:5,RSA_PKCS1_PSS_PADDING:6,POINT_CONVERSION_COMPRESSED:2,POINT_CONVERSION_UNCOMPRESSED:4,POINT_CONVERSION_HYBRID:6}})),r.register("bUSoq",(function(t,i){var n=r("ajwPf"),s=65536,o=4294967295;var a=r("4OiF0").Buffer,h=e.crypto||e.msCrypto;h&&h.getRandomValues?t.exports=function(t,e){if(t>o)throw new RangeError("requested too many random bytes");var i=a.allocUnsafe(t);if(t>0)if(t>s)for(var r=0;r<t;r+=s)h.getRandomValues(i.slice(r,r+s));else h.getRandomValues(i);return"function"==typeof e?n.nextTick((function(){e(null,i)})):i}:t.exports=function(){throw new Error("Secure random number generation is not supported by this browser.\nUse Chrome, Firefox or Internet Explorer 11")}})),r.register("ajwPf",(function(t,e){var i,n,r=t.exports={};function s(){throw new Error("setTimeout has not been defined")}function o(){throw new Error("clearTimeout has not been defined")}function a(t){if(i===setTimeout)return setTimeout(t,0);if((i===s||!i)&&setTimeout)return i=setTimeout,setTimeout(t,0);try{return i(t,0)}catch(e){try{return i.call(null,t,0)}catch(e){return i.call(this,t,0)}}}!function(){try{i="function"==typeof setTimeout?setTimeout:s}catch(t){i=s}try{n="function"==typeof clearTimeout?clearTimeout:o}catch(t){n=o}}();var h,u=[],l=!1,c=-1;function d(){l&&h&&(l=!1,h.length?u=h.concat(u):c=-1,u.length&&f())}function f(){if(!l){var t=a(d);l=!0;for(var e=u.length;e;){for(h=u,u=[];++c<e;)h&&h[c].run();c=-1,e=u.length}h=null,l=!1,function(t){if(n===clearTimeout)return clearTimeout(t);if((n===o||!n)&&clearTimeout)return n=clearTimeout,clearTimeout(t);try{return n(t)}catch(e){try{return n.call(null,t)}catch(e){return n.call(this,t)}}}(t)}}function p(t,e){this.fun=t,this.array=e}function m(){}r.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var i=1;i<arguments.length;i++)e[i-1]=arguments[i];u.push(new p(t,e)),1!==u.length||l||a(f)},p.prototype.run=function(){this.fun.apply(null,this.array)},r.title="browser",r.browser=!0,r.env={},r.argv=[],r.version="",r.versions={},r.on=m,r.addListener=m,r.once=m,r.off=m,r.removeListener=m,r.removeAllListeners=m,r.emit=m,r.prependListener=m,r.prependOnceListener=m,r.listeners=function(t){return[]},r.binding=function(t){throw new Error("process.binding is not supported")},r.cwd=function(){return"/"},r.chdir=function(t){throw new Error("process.chdir is not supported")},r.umask=function(){return 0}})),r.register("4OiF0",(function(t,e){
/*! safe-buffer. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */
var i=r("8UsMN"),n=i.Buffer;function s(t,e){for(var i in t)e[i]=t[i]}function o(t,e,i){return n(t,e,i)}n.from&&n.alloc&&n.allocUnsafe&&n.allocUnsafeSlow?t.exports=i:(s(i,t.exports),t.exports.Buffer=o),o.prototype=Object.create(n.prototype),s(n,o),o.from=function(t,e,i){if("number"==typeof t)throw new TypeError("Argument must not be a number");return n(t,e,i)},o.alloc=function(t,e,i){if("number"!=typeof t)throw new TypeError("Argument must be a number");var r=n(t);return void 0!==e?"string"==typeof i?r.fill(e,i):r.fill(e):r.fill(0),r},o.allocUnsafe=function(t){if("number"!=typeof t)throw new TypeError("Argument must be a number");return n(t)},o.allocUnsafeSlow=function(t){if("number"!=typeof t)throw new TypeError("Argument must be a number");return i.SlowBuffer(t)}})),r.register("8UsMN",(function(e,i){
/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */var n,s,o,a;t(e.exports,"Buffer",(()=>n),(t=>n=t)),t(e.exports,"SlowBuffer",(()=>s),(t=>s=t)),t(e.exports,"INSPECT_MAX_BYTES",(()=>o),(t=>o=t)),t(e.exports,"kMaxLength",(()=>a),(t=>a=t));var h=r("7E04z"),u=r("7YtfP"),l="function"==typeof Symbol&&"function"==typeof Symbol.for?Symbol.for("nodejs.util.inspect.custom"):null;n=f,s=function(t){+t!=t&&(t=0);return f.alloc(+t)},o=50;var c=2147483647;function d(t){if(t>c)throw new RangeError('The value "'+t+'" is invalid for option "size"');var e=new Uint8Array(t);return Object.setPrototypeOf(e,f.prototype),e}function f(t,e,i){if("number"==typeof t){if("string"==typeof e)throw new TypeError('The "string" argument must be of type string. Received type number');return g(t)}return p(t,e,i)}function p(t,e,i){if("string"==typeof t)return function(t,e){"string"==typeof e&&""!==e||(e="utf8");if(!f.isEncoding(e))throw new TypeError("Unknown encoding: "+e);var i=0|w(t,e),n=d(i),r=n.write(t,e);r!==i&&(n=n.slice(0,r));return n}(t,e);if(ArrayBuffer.isView(t))return function(t){if(G(t,Uint8Array)){var e=new Uint8Array(t);return y(e.buffer,e.byteOffset,e.byteLength)}return v(t)}(t);if(null==t)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof t);if(G(t,ArrayBuffer)||t&&G(t.buffer,ArrayBuffer))return y(t,e,i);if("undefined"!=typeof SharedArrayBuffer&&(G(t,SharedArrayBuffer)||t&&G(t.buffer,SharedArrayBuffer)))return y(t,e,i);if("number"==typeof t)throw new TypeError('The "value" argument must not be of type number. Received type number');var n=t.valueOf&&t.valueOf();if(null!=n&&n!==t)return f.from(n,e,i);var r=function(t){if(f.isBuffer(t)){var e=0|b(t.length),i=d(e);return 0===i.length||t.copy(i,0,0,e),i}if(void 0!==t.length)return"number"!=typeof t.length||W(t.length)?d(0):v(t);if("Buffer"===t.type&&Array.isArray(t.data))return v(t.data)}(t);if(r)return r;if("undefined"!=typeof Symbol&&null!=Symbol.toPrimitive&&"function"==typeof t[Symbol.toPrimitive])return f.from(t[Symbol.toPrimitive]("string"),e,i);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof t)}function m(t){if("number"!=typeof t)throw new TypeError('"size" argument must be of type number');if(t<0)throw new RangeError('The value "'+t+'" is invalid for option "size"')}function g(t){return m(t),d(t<0?0:0|b(t))}function v(t){for(var e=t.length<0?0:0|b(t.length),i=d(e),n=0;n<e;n+=1)i[n]=255&t[n];return i}function y(t,e,i){if(e<0||t.byteLength<e)throw new RangeError('"offset" is outside of buffer bounds');if(t.byteLength<e+(i||0))throw new RangeError('"length" is outside of buffer bounds');var n;return n=void 0===e&&void 0===i?new Uint8Array(t):void 0===i?new Uint8Array(t,e):new Uint8Array(t,e,i),Object.setPrototypeOf(n,f.prototype),n}function b(t){if(t>=c)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+c.toString(16)+" bytes");return 0|t}function w(t,e){if(f.isBuffer(t))return t.length;if(ArrayBuffer.isView(t)||G(t,ArrayBuffer))return t.byteLength;if("string"!=typeof t)throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof t);var i=t.length,n=arguments.length>2&&!0===arguments[2];if(!n&&0===i)return 0;for(var r=!1;;)switch(e){case"ascii":case"latin1":case"binary":return i;case"utf8":case"utf-8":return V(t).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*i;case"hex":return i>>>1;case"base64":return H(t).length;default:if(r)return n?-1:V(t).length;e=(""+e).toLowerCase(),r=!0}}function _(t,e,i){var n=!1;if((void 0===e||e<0)&&(e=0),e>this.length)return"";if((void 0===i||i>this.length)&&(i=this.length),i<=0)return"";if((i>>>=0)<=(e>>>=0))return"";for(t||(t="utf8");;)switch(t){case"hex":return D(this,e,i);case"utf8":case"utf-8":return R(this,e,i);case"ascii":return N(this,e,i);case"latin1":case"binary":return L(this,e,i);case"base64":return q(this,e,i);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return O(this,e,i);default:if(n)throw new TypeError("Unknown encoding: "+t);t=(t+"").toLowerCase(),n=!0}}function M(t,e,i){var n=t[e];t[e]=t[i],t[i]=n}function A(t,e,i,n,r){if(0===t.length)return-1;if("string"==typeof i?(n=i,i=0):i>2147483647?i=2147483647:i<-2147483648&&(i=-2147483648),W(i=+i)&&(i=r?0:t.length-1),i<0&&(i=t.length+i),i>=t.length){if(r)return-1;i=t.length-1}else if(i<0){if(!r)return-1;i=0}if("string"==typeof e&&(e=f.from(e,n)),f.isBuffer(e))return 0===e.length?-1:k(t,e,i,n,r);if("number"==typeof e)return e&=255,"function"==typeof Uint8Array.prototype.indexOf?r?Uint8Array.prototype.indexOf.call(t,e,i):Uint8Array.prototype.lastIndexOf.call(t,e,i):k(t,[e],i,n,r);throw new TypeError("val must be string, number or Buffer")}function k(t,e,i,n,r){var s,o=1,a=t.length,h=e.length;if(void 0!==n&&("ucs2"===(n=String(n).toLowerCase())||"ucs-2"===n||"utf16le"===n||"utf-16le"===n)){if(t.length<2||e.length<2)return-1;o=2,a/=2,h/=2,i/=2}function u(t,e){return 1===o?t[e]:t.readUInt16BE(e*o)}if(r){var l=-1;for(s=i;s<a;s++)if(u(t,s)===u(e,-1===l?0:s-l)){if(-1===l&&(l=s),s-l+1===h)return l*o}else-1!==l&&(s-=s-l),l=-1}else for(i+h>a&&(i=a-h),s=i;s>=0;s--){for(var c=!0,d=0;d<h;d++)if(u(t,s+d)!==u(e,d)){c=!1;break}if(c)return s}return-1}function E(t,e,i,n){i=Number(i)||0;var r=t.length-i;n?(n=Number(n))>r&&(n=r):n=r;var s=e.length;n>s/2&&(n=s/2);for(var o=0;o<n;++o){var a=parseInt(e.substr(2*o,2),16);if(W(a))return o;t[i+o]=a}return o}function x(t,e,i,n){return K(V(e,t.length-i),t,i,n)}function S(t,e,i,n){return K(function(t){for(var e=[],i=0;i<t.length;++i)e.push(255&t.charCodeAt(i));return e}(e),t,i,n)}function T(t,e,i,n){return K(H(e),t,i,n)}function I(t,e,i,n){return K(function(t,e){for(var i,n,r,s=[],o=0;o<t.length&&!((e-=2)<0);++o)n=(i=t.charCodeAt(o))>>8,r=i%256,s.push(r),s.push(n);return s}(e,t.length-i),t,i,n)}function q(t,e,i){return 0===e&&i===t.length?h.fromByteArray(t):h.fromByteArray(t.slice(e,i))}function R(t,e,i){i=Math.min(t.length,i);for(var n=[],r=e;r<i;){var s,o,a,h,u=t[r],l=null,c=u>239?4:u>223?3:u>191?2:1;if(r+c<=i)switch(c){case 1:u<128&&(l=u);break;case 2:128==(192&(s=t[r+1]))&&(h=(31&u)<<6|63&s)>127&&(l=h);break;case 3:s=t[r+1],o=t[r+2],128==(192&s)&&128==(192&o)&&(h=(15&u)<<12|(63&s)<<6|63&o)>2047&&(h<55296||h>57343)&&(l=h);break;case 4:s=t[r+1],o=t[r+2],a=t[r+3],128==(192&s)&&128==(192&o)&&128==(192&a)&&(h=(15&u)<<18|(63&s)<<12|(63&o)<<6|63&a)>65535&&h<1114112&&(l=h)}null===l?(l=65533,c=1):l>65535&&(l-=65536,n.push(l>>>10&1023|55296),l=56320|1023&l),n.push(l),r+=c}return function(t){var e=t.length;if(e<=C)return String.fromCharCode.apply(String,t);var i="",n=0;for(;n<e;)i+=String.fromCharCode.apply(String,t.slice(n,n+=C));return i}(n)}a=c,f.TYPED_ARRAY_SUPPORT=function(){try{var t=new Uint8Array(1),e={foo:function(){return 42}};return Object.setPrototypeOf(e,Uint8Array.prototype),Object.setPrototypeOf(t,e),42===t.foo()}catch(t){return!1}}(),f.TYPED_ARRAY_SUPPORT||"undefined"==typeof console||"function"!=typeof console.error||console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(f.prototype,"parent",{enumerable:!0,get:function(){if(f.isBuffer(this))return this.buffer}}),Object.defineProperty(f.prototype,"offset",{enumerable:!0,get:function(){if(f.isBuffer(this))return this.byteOffset}}),f.poolSize=8192,f.from=function(t,e,i){return p(t,e,i)},Object.setPrototypeOf(f.prototype,Uint8Array.prototype),Object.setPrototypeOf(f,Uint8Array),f.alloc=function(t,e,i){return function(t,e,i){return m(t),t<=0?d(t):void 0!==e?"string"==typeof i?d(t).fill(e,i):d(t).fill(e):d(t)}(t,e,i)},f.allocUnsafe=function(t){return g(t)},f.allocUnsafeSlow=function(t){return g(t)},f.isBuffer=function(t){return null!=t&&!0===t._isBuffer&&t!==f.prototype},f.compare=function(t,e){if(G(t,Uint8Array)&&(t=f.from(t,t.offset,t.byteLength)),G(e,Uint8Array)&&(e=f.from(e,e.offset,e.byteLength)),!f.isBuffer(t)||!f.isBuffer(e))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(t===e)return 0;for(var i=t.length,n=e.length,r=0,s=Math.min(i,n);r<s;++r)if(t[r]!==e[r]){i=t[r],n=e[r];break}return i<n?-1:n<i?1:0},f.isEncoding=function(t){switch(String(t).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},f.concat=function(t,e){if(!Array.isArray(t))throw new TypeError('"list" argument must be an Array of Buffers');if(0===t.length)return f.alloc(0);var i;if(void 0===e)for(e=0,i=0;i<t.length;++i)e+=t[i].length;var n=f.allocUnsafe(e),r=0;for(i=0;i<t.length;++i){var s=t[i];if(G(s,Uint8Array))r+s.length>n.length?f.from(s).copy(n,r):Uint8Array.prototype.set.call(n,s,r);else{if(!f.isBuffer(s))throw new TypeError('"list" argument must be an Array of Buffers');s.copy(n,r)}r+=s.length}return n},f.byteLength=w,f.prototype._isBuffer=!0,f.prototype.swap16=function(){var t=this.length;if(t%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var e=0;e<t;e+=2)M(this,e,e+1);return this},f.prototype.swap32=function(){var t=this.length;if(t%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var e=0;e<t;e+=4)M(this,e,e+3),M(this,e+1,e+2);return this},f.prototype.swap64=function(){var t=this.length;if(t%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var e=0;e<t;e+=8)M(this,e,e+7),M(this,e+1,e+6),M(this,e+2,e+5),M(this,e+3,e+4);return this},f.prototype.toString=function(){var t=this.length;return 0===t?"":0===arguments.length?R(this,0,t):_.apply(this,arguments)},f.prototype.toLocaleString=f.prototype.toString,f.prototype.equals=function(t){if(!f.isBuffer(t))throw new TypeError("Argument must be a Buffer");return this===t||0===f.compare(this,t)},f.prototype.inspect=function(){var t="",e=o;return t=this.toString("hex",0,e).replace(/(.{2})/g,"$1 ").trim(),this.length>e&&(t+=" ... "),"<Buffer "+t+">"},l&&(f.prototype[l]=f.prototype.inspect),f.prototype.compare=function(t,e,i,n,r){if(G(t,Uint8Array)&&(t=f.from(t,t.offset,t.byteLength)),!f.isBuffer(t))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof t);if(void 0===e&&(e=0),void 0===i&&(i=t?t.length:0),void 0===n&&(n=0),void 0===r&&(r=this.length),e<0||i>t.length||n<0||r>this.length)throw new RangeError("out of range index");if(n>=r&&e>=i)return 0;if(n>=r)return-1;if(e>=i)return 1;if(this===t)return 0;for(var s=(r>>>=0)-(n>>>=0),o=(i>>>=0)-(e>>>=0),a=Math.min(s,o),h=this.slice(n,r),u=t.slice(e,i),l=0;l<a;++l)if(h[l]!==u[l]){s=h[l],o=u[l];break}return s<o?-1:o<s?1:0},f.prototype.includes=function(t,e,i){return-1!==this.indexOf(t,e,i)},f.prototype.indexOf=function(t,e,i){return A(this,t,e,i,!0)},f.prototype.lastIndexOf=function(t,e,i){return A(this,t,e,i,!1)},f.prototype.write=function(t,e,i,n){if(void 0===e)n="utf8",i=this.length,e=0;else if(void 0===i&&"string"==typeof e)n=e,i=this.length,e=0;else{if(!isFinite(e))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");e>>>=0,isFinite(i)?(i>>>=0,void 0===n&&(n="utf8")):(n=i,i=void 0)}var r=this.length-e;if((void 0===i||i>r)&&(i=r),t.length>0&&(i<0||e<0)||e>this.length)throw new RangeError("Attempt to write outside buffer bounds");n||(n="utf8");for(var s=!1;;)switch(n){case"hex":return E(this,t,e,i);case"utf8":case"utf-8":return x(this,t,e,i);case"ascii":case"latin1":case"binary":return S(this,t,e,i);case"base64":return T(this,t,e,i);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return I(this,t,e,i);default:if(s)throw new TypeError("Unknown encoding: "+n);n=(""+n).toLowerCase(),s=!0}},f.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var C=4096;function N(t,e,i){var n="";i=Math.min(t.length,i);for(var r=e;r<i;++r)n+=String.fromCharCode(127&t[r]);return n}function L(t,e,i){var n="";i=Math.min(t.length,i);for(var r=e;r<i;++r)n+=String.fromCharCode(t[r]);return n}function D(t,e,i){var n=t.length;(!e||e<0)&&(e=0),(!i||i<0||i>n)&&(i=n);for(var r="",s=e;s<i;++s)r+=Q[t[s]];return r}function O(t,e,i){for(var n=t.slice(e,i),r="",s=0;s<n.length-1;s+=2)r+=String.fromCharCode(n[s]+256*n[s+1]);return r}function B(t,e,i){if(t%1!=0||t<0)throw new RangeError("offset is not uint");if(t+e>i)throw new RangeError("Trying to access beyond buffer length")}function P(t,e,i,n,r,s){if(!f.isBuffer(t))throw new TypeError('"buffer" argument must be a Buffer instance');if(e>r||e<s)throw new RangeError('"value" argument is out of bounds');if(i+n>t.length)throw new RangeError("Index out of range")}function U(t,e,i,n,r,s){if(i+n>t.length)throw new RangeError("Index out of range");if(i<0)throw new RangeError("Index out of range")}function F(t,e,i,n,r){return e=+e,i>>>=0,r||U(t,0,i,4),u.write(t,e,i,n,23,4),i+4}function j(t,e,i,n,r){return e=+e,i>>>=0,r||U(t,0,i,8),u.write(t,e,i,n,52,8),i+8}f.prototype.slice=function(t,e){var i=this.length;(t=~~t)<0?(t+=i)<0&&(t=0):t>i&&(t=i),(e=void 0===e?i:~~e)<0?(e+=i)<0&&(e=0):e>i&&(e=i),e<t&&(e=t);var n=this.subarray(t,e);return Object.setPrototypeOf(n,f.prototype),n},f.prototype.readUintLE=f.prototype.readUIntLE=function(t,e,i){t>>>=0,e>>>=0,i||B(t,e,this.length);for(var n=this[t],r=1,s=0;++s<e&&(r*=256);)n+=this[t+s]*r;return n},f.prototype.readUintBE=f.prototype.readUIntBE=function(t,e,i){t>>>=0,e>>>=0,i||B(t,e,this.length);for(var n=this[t+--e],r=1;e>0&&(r*=256);)n+=this[t+--e]*r;return n},f.prototype.readUint8=f.prototype.readUInt8=function(t,e){return t>>>=0,e||B(t,1,this.length),this[t]},f.prototype.readUint16LE=f.prototype.readUInt16LE=function(t,e){return t>>>=0,e||B(t,2,this.length),this[t]|this[t+1]<<8},f.prototype.readUint16BE=f.prototype.readUInt16BE=function(t,e){return t>>>=0,e||B(t,2,this.length),this[t]<<8|this[t+1]},f.prototype.readUint32LE=f.prototype.readUInt32LE=function(t,e){return t>>>=0,e||B(t,4,this.length),(this[t]|this[t+1]<<8|this[t+2]<<16)+16777216*this[t+3]},f.prototype.readUint32BE=f.prototype.readUInt32BE=function(t,e){return t>>>=0,e||B(t,4,this.length),16777216*this[t]+(this[t+1]<<16|this[t+2]<<8|this[t+3])},f.prototype.readIntLE=function(t,e,i){t>>>=0,e>>>=0,i||B(t,e,this.length);for(var n=this[t],r=1,s=0;++s<e&&(r*=256);)n+=this[t+s]*r;return n>=(r*=128)&&(n-=Math.pow(2,8*e)),n},f.prototype.readIntBE=function(t,e,i){t>>>=0,e>>>=0,i||B(t,e,this.length);for(var n=e,r=1,s=this[t+--n];n>0&&(r*=256);)s+=this[t+--n]*r;return s>=(r*=128)&&(s-=Math.pow(2,8*e)),s},f.prototype.readInt8=function(t,e){return t>>>=0,e||B(t,1,this.length),128&this[t]?-1*(255-this[t]+1):this[t]},f.prototype.readInt16LE=function(t,e){t>>>=0,e||B(t,2,this.length);var i=this[t]|this[t+1]<<8;return 32768&i?4294901760|i:i},f.prototype.readInt16BE=function(t,e){t>>>=0,e||B(t,2,this.length);var i=this[t+1]|this[t]<<8;return 32768&i?4294901760|i:i},f.prototype.readInt32LE=function(t,e){return t>>>=0,e||B(t,4,this.length),this[t]|this[t+1]<<8|this[t+2]<<16|this[t+3]<<24},f.prototype.readInt32BE=function(t,e){return t>>>=0,e||B(t,4,this.length),this[t]<<24|this[t+1]<<16|this[t+2]<<8|this[t+3]},f.prototype.readFloatLE=function(t,e){return t>>>=0,e||B(t,4,this.length),u.read(this,t,!0,23,4)},f.prototype.readFloatBE=function(t,e){return t>>>=0,e||B(t,4,this.length),u.read(this,t,!1,23,4)},f.prototype.readDoubleLE=function(t,e){return t>>>=0,e||B(t,8,this.length),u.read(this,t,!0,52,8)},f.prototype.readDoubleBE=function(t,e){return t>>>=0,e||B(t,8,this.length),u.read(this,t,!1,52,8)},f.prototype.writeUintLE=f.prototype.writeUIntLE=function(t,e,i,n){(t=+t,e>>>=0,i>>>=0,n)||P(this,t,e,i,Math.pow(2,8*i)-1,0);var r=1,s=0;for(this[e]=255&t;++s<i&&(r*=256);)this[e+s]=t/r&255;return e+i},f.prototype.writeUintBE=f.prototype.writeUIntBE=function(t,e,i,n){(t=+t,e>>>=0,i>>>=0,n)||P(this,t,e,i,Math.pow(2,8*i)-1,0);var r=i-1,s=1;for(this[e+r]=255&t;--r>=0&&(s*=256);)this[e+r]=t/s&255;return e+i},f.prototype.writeUint8=f.prototype.writeUInt8=function(t,e,i){return t=+t,e>>>=0,i||P(this,t,e,1,255,0),this[e]=255&t,e+1},f.prototype.writeUint16LE=f.prototype.writeUInt16LE=function(t,e,i){return t=+t,e>>>=0,i||P(this,t,e,2,65535,0),this[e]=255&t,this[e+1]=t>>>8,e+2},f.prototype.writeUint16BE=f.prototype.writeUInt16BE=function(t,e,i){return t=+t,e>>>=0,i||P(this,t,e,2,65535,0),this[e]=t>>>8,this[e+1]=255&t,e+2},f.prototype.writeUint32LE=f.prototype.writeUInt32LE=function(t,e,i){return t=+t,e>>>=0,i||P(this,t,e,4,4294967295,0),this[e+3]=t>>>24,this[e+2]=t>>>16,this[e+1]=t>>>8,this[e]=255&t,e+4},f.prototype.writeUint32BE=f.prototype.writeUInt32BE=function(t,e,i){return t=+t,e>>>=0,i||P(this,t,e,4,4294967295,0),this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t,e+4},f.prototype.writeIntLE=function(t,e,i,n){if(t=+t,e>>>=0,!n){var r=Math.pow(2,8*i-1);P(this,t,e,i,r-1,-r)}var s=0,o=1,a=0;for(this[e]=255&t;++s<i&&(o*=256);)t<0&&0===a&&0!==this[e+s-1]&&(a=1),this[e+s]=(t/o>>0)-a&255;return e+i},f.prototype.writeIntBE=function(t,e,i,n){if(t=+t,e>>>=0,!n){var r=Math.pow(2,8*i-1);P(this,t,e,i,r-1,-r)}var s=i-1,o=1,a=0;for(this[e+s]=255&t;--s>=0&&(o*=256);)t<0&&0===a&&0!==this[e+s+1]&&(a=1),this[e+s]=(t/o>>0)-a&255;return e+i},f.prototype.writeInt8=function(t,e,i){return t=+t,e>>>=0,i||P(this,t,e,1,127,-128),t<0&&(t=255+t+1),this[e]=255&t,e+1},f.prototype.writeInt16LE=function(t,e,i){return t=+t,e>>>=0,i||P(this,t,e,2,32767,-32768),this[e]=255&t,this[e+1]=t>>>8,e+2},f.prototype.writeInt16BE=function(t,e,i){return t=+t,e>>>=0,i||P(this,t,e,2,32767,-32768),this[e]=t>>>8,this[e+1]=255&t,e+2},f.prototype.writeInt32LE=function(t,e,i){return t=+t,e>>>=0,i||P(this,t,e,4,2147483647,-2147483648),this[e]=255&t,this[e+1]=t>>>8,this[e+2]=t>>>16,this[e+3]=t>>>24,e+4},f.prototype.writeInt32BE=function(t,e,i){return t=+t,e>>>=0,i||P(this,t,e,4,2147483647,-2147483648),t<0&&(t=4294967295+t+1),this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t,e+4},f.prototype.writeFloatLE=function(t,e,i){return F(this,t,e,!0,i)},f.prototype.writeFloatBE=function(t,e,i){return F(this,t,e,!1,i)},f.prototype.writeDoubleLE=function(t,e,i){return j(this,t,e,!0,i)},f.prototype.writeDoubleBE=function(t,e,i){return j(this,t,e,!1,i)},f.prototype.copy=function(t,e,i,n){if(!f.isBuffer(t))throw new TypeError("argument should be a Buffer");if(i||(i=0),n||0===n||(n=this.length),e>=t.length&&(e=t.length),e||(e=0),n>0&&n<i&&(n=i),n===i)return 0;if(0===t.length||0===this.length)return 0;if(e<0)throw new RangeError("targetStart out of bounds");if(i<0||i>=this.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("sourceEnd out of bounds");n>this.length&&(n=this.length),t.length-e<n-i&&(n=t.length-e+i);var r=n-i;return this===t&&"function"==typeof Uint8Array.prototype.copyWithin?this.copyWithin(e,i,n):Uint8Array.prototype.set.call(t,this.subarray(i,n),e),r},f.prototype.fill=function(t,e,i,n){if("string"==typeof t){if("string"==typeof e?(n=e,e=0,i=this.length):"string"==typeof i&&(n=i,i=this.length),void 0!==n&&"string"!=typeof n)throw new TypeError("encoding must be a string");if("string"==typeof n&&!f.isEncoding(n))throw new TypeError("Unknown encoding: "+n);if(1===t.length){var r=t.charCodeAt(0);("utf8"===n&&r<128||"latin1"===n)&&(t=r)}}else"number"==typeof t?t&=255:"boolean"==typeof t&&(t=Number(t));if(e<0||this.length<e||this.length<i)throw new RangeError("Out of range index");if(i<=e)return this;var s;if(e>>>=0,i=void 0===i?this.length:i>>>0,t||(t=0),"number"==typeof t)for(s=e;s<i;++s)this[s]=t;else{var o=f.isBuffer(t)?t:f.from(t,n),a=o.length;if(0===a)throw new TypeError('The value "'+t+'" is invalid for argument "value"');for(s=0;s<i-e;++s)this[s+e]=o[s%a]}return this};var z=/[^+/0-9A-Za-z-_]/g;function V(t,e){var i;e=e||1/0;for(var n=t.length,r=null,s=[],o=0;o<n;++o){if((i=t.charCodeAt(o))>55295&&i<57344){if(!r){if(i>56319){(e-=3)>-1&&s.push(239,191,189);continue}if(o+1===n){(e-=3)>-1&&s.push(239,191,189);continue}r=i;continue}if(i<56320){(e-=3)>-1&&s.push(239,191,189),r=i;continue}i=65536+(r-55296<<10|i-56320)}else r&&(e-=3)>-1&&s.push(239,191,189);if(r=null,i<128){if((e-=1)<0)break;s.push(i)}else if(i<2048){if((e-=2)<0)break;s.push(i>>6|192,63&i|128)}else if(i<65536){if((e-=3)<0)break;s.push(i>>12|224,i>>6&63|128,63&i|128)}else{if(!(i<1114112))throw new Error("Invalid code point");if((e-=4)<0)break;s.push(i>>18|240,i>>12&63|128,i>>6&63|128,63&i|128)}}return s}function H(t){return h.toByteArray(function(t){if((t=(t=t.split("=")[0]).trim().replace(z,"")).length<2)return"";for(;t.length%4!=0;)t+="=";return t}(t))}function K(t,e,i,n){for(var r=0;r<n&&!(r+i>=e.length||r>=t.length);++r)e[r+i]=t[r];return r}function G(t,e){return t instanceof e||null!=t&&null!=t.constructor&&null!=t.constructor.name&&t.constructor.name===e.name}function W(t){return t!=t}var Q=function(){for(var t="0123456789abcdef",e=new Array(256),i=0;i<16;++i)for(var n=16*i,r=0;r<16;++r)e[n+r]=t[i]+t[r];return e}()})),r.register("7E04z",(function(e,i){var n,r;t(e.exports,"toByteArray",(()=>n),(t=>n=t)),t(e.exports,"fromByteArray",(()=>r),(t=>r=t)),n=function(t){var e,i,n=c(t),r=n[0],s=n[1],h=new a(function(t,e,i){return 3*(e+i)/4-i}(0,r,s)),u=0,l=s>0?r-4:r;for(i=0;i<l;i+=4)e=o[t.charCodeAt(i)]<<18|o[t.charCodeAt(i+1)]<<12|o[t.charCodeAt(i+2)]<<6|o[t.charCodeAt(i+3)],h[u++]=e>>16&255,h[u++]=e>>8&255,h[u++]=255&e;2===s&&(e=o[t.charCodeAt(i)]<<2|o[t.charCodeAt(i+1)]>>4,h[u++]=255&e);1===s&&(e=o[t.charCodeAt(i)]<<10|o[t.charCodeAt(i+1)]<<4|o[t.charCodeAt(i+2)]>>2,h[u++]=e>>8&255,h[u++]=255&e);return h},r=function(t){for(var e,i=t.length,n=i%3,r=[],o=16383,a=0,h=i-n;a<h;a+=o)r.push(d(t,a,a+o>h?h:a+o));1===n?(e=t[i-1],r.push(s[e>>2]+s[e<<4&63]+"==")):2===n&&(e=(t[i-2]<<8)+t[i-1],r.push(s[e>>10]+s[e>>4&63]+s[e<<2&63]+"="));return r.join("")};for(var s=[],o=[],a="undefined"!=typeof Uint8Array?Uint8Array:Array,h="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",u=0,l=h.length;u<l;++u)s[u]=h[u],o[h.charCodeAt(u)]=u;function c(t){var e=t.length;if(e%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var i=t.indexOf("=");return-1===i&&(i=e),[i,i===e?0:4-i%4]}function d(t,e,i){for(var n,r,o=[],a=e;a<i;a+=3)n=(t[a]<<16&16711680)+(t[a+1]<<8&65280)+(255&t[a+2]),o.push(s[(r=n)>>18&63]+s[r>>12&63]+s[r>>6&63]+s[63&r]);return o.join("")}o["-".charCodeAt(0)]=62,o["_".charCodeAt(0)]=63})),r.register("7YtfP",(function(e,i){
/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */var n,r;t(e.exports,"read",(()=>n),(t=>n=t)),t(e.exports,"write",(()=>r),(t=>r=t)),n=function(t,e,i,n,r){var s,o,a=8*r-n-1,h=(1<<a)-1,u=h>>1,l=-7,c=i?r-1:0,d=i?-1:1,f=t[e+c];for(c+=d,s=f&(1<<-l)-1,f>>=-l,l+=a;l>0;s=256*s+t[e+c],c+=d,l-=8);for(o=s&(1<<-l)-1,s>>=-l,l+=n;l>0;o=256*o+t[e+c],c+=d,l-=8);if(0===s)s=1-u;else{if(s===h)return o?NaN:1/0*(f?-1:1);o+=Math.pow(2,n),s-=u}return(f?-1:1)*o*Math.pow(2,s-n)},r=function(t,e,i,n,r,s){var o,a,h,u=8*s-r-1,l=(1<<u)-1,c=l>>1,d=23===r?Math.pow(2,-24)-Math.pow(2,-77):0,f=n?0:s-1,p=n?1:-1,m=e<0||0===e&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(a=isNaN(e)?1:0,o=l):(o=Math.floor(Math.log(e)/Math.LN2),e*(h=Math.pow(2,-o))<1&&(o--,h*=2),(e+=o+c>=1?d/h:d*Math.pow(2,1-c))*h>=2&&(o++,h/=2),o+c>=l?(a=0,o=l):o+c>=1?(a=(e*h-1)*Math.pow(2,r),o+=c):(a=e*Math.pow(2,c-1)*Math.pow(2,r),o=0));r>=8;t[i+f]=255&a,f+=p,a/=256,r-=8);for(o=o<<r|a,u+=r;u>0;t[i+f]=255&o,f+=p,o/=256,u-=8);t[i+f-p]|=128*m}})),r.register("dHvdJ",(function(t,e){var i=r("bniia"),n=r("eXAjQ"),s=r("1JYNO"),o=r("1eplY"),a=r("7fR9R");function h(t){a.call(this,"digest"),this._hash=t}i(h,a),h.prototype._update=function(t){this._hash.update(t)},h.prototype._final=function(){return this._hash.digest()},t.exports=function(t){return"md5"===(t=t.toLowerCase())?new n:"rmd160"===t||"ripemd160"===t?new s:new h(o(t))}})),r.register("bniia",(function(t,e){"function"==typeof Object.create?t.exports=function(t,e){e&&(t.super_=e,t.prototype=Object.create(e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}))}:t.exports=function(t,e){if(e){t.super_=e;var i=function(){};i.prototype=e.prototype,t.prototype=new i,t.prototype.constructor=t}}})),r.register("eXAjQ",(function(t,e){var i=r("bniia"),n=r("dGPsD"),s=r("4OiF0").Buffer,o=new Array(16);function a(){n.call(this,64),this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878}function h(t,e){return t<<e|t>>>32-e}function u(t,e,i,n,r,s,o){return h(t+(e&i|~e&n)+r+s|0,o)+e|0}function l(t,e,i,n,r,s,o){return h(t+(e&n|i&~n)+r+s|0,o)+e|0}function c(t,e,i,n,r,s,o){return h(t+(e^i^n)+r+s|0,o)+e|0}function d(t,e,i,n,r,s,o){return h(t+(i^(e|~n))+r+s|0,o)+e|0}i(a,n),a.prototype._update=function(){for(var t=o,e=0;e<16;++e)t[e]=this._block.readInt32LE(4*e);var i=this._a,n=this._b,r=this._c,s=this._d;i=u(i,n,r,s,t[0],3614090360,7),s=u(s,i,n,r,t[1],3905402710,12),r=u(r,s,i,n,t[2],606105819,17),n=u(n,r,s,i,t[3],3250441966,22),i=u(i,n,r,s,t[4],4118548399,7),s=u(s,i,n,r,t[5],1200080426,12),r=u(r,s,i,n,t[6],2821735955,17),n=u(n,r,s,i,t[7],4249261313,22),i=u(i,n,r,s,t[8],1770035416,7),s=u(s,i,n,r,t[9],2336552879,12),r=u(r,s,i,n,t[10],4294925233,17),n=u(n,r,s,i,t[11],2304563134,22),i=u(i,n,r,s,t[12],1804603682,7),s=u(s,i,n,r,t[13],4254626195,12),r=u(r,s,i,n,t[14],2792965006,17),i=l(i,n=u(n,r,s,i,t[15],1236535329,22),r,s,t[1],4129170786,5),s=l(s,i,n,r,t[6],3225465664,9),r=l(r,s,i,n,t[11],643717713,14),n=l(n,r,s,i,t[0],3921069994,20),i=l(i,n,r,s,t[5],3593408605,5),s=l(s,i,n,r,t[10],38016083,9),r=l(r,s,i,n,t[15],3634488961,14),n=l(n,r,s,i,t[4],3889429448,20),i=l(i,n,r,s,t[9],568446438,5),s=l(s,i,n,r,t[14],3275163606,9),r=l(r,s,i,n,t[3],4107603335,14),n=l(n,r,s,i,t[8],1163531501,20),i=l(i,n,r,s,t[13],2850285829,5),s=l(s,i,n,r,t[2],4243563512,9),r=l(r,s,i,n,t[7],1735328473,14),i=c(i,n=l(n,r,s,i,t[12],2368359562,20),r,s,t[5],4294588738,4),s=c(s,i,n,r,t[8],2272392833,11),r=c(r,s,i,n,t[11],1839030562,16),n=c(n,r,s,i,t[14],4259657740,23),i=c(i,n,r,s,t[1],2763975236,4),s=c(s,i,n,r,t[4],1272893353,11),r=c(r,s,i,n,t[7],4139469664,16),n=c(n,r,s,i,t[10],3200236656,23),i=c(i,n,r,s,t[13],681279174,4),s=c(s,i,n,r,t[0],3936430074,11),r=c(r,s,i,n,t[3],3572445317,16),n=c(n,r,s,i,t[6],76029189,23),i=c(i,n,r,s,t[9],3654602809,4),s=c(s,i,n,r,t[12],3873151461,11),r=c(r,s,i,n,t[15],530742520,16),i=d(i,n=c(n,r,s,i,t[2],3299628645,23),r,s,t[0],4096336452,6),s=d(s,i,n,r,t[7],1126891415,10),r=d(r,s,i,n,t[14],2878612391,15),n=d(n,r,s,i,t[5],4237533241,21),i=d(i,n,r,s,t[12],1700485571,6),s=d(s,i,n,r,t[3],2399980690,10),r=d(r,s,i,n,t[10],4293915773,15),n=d(n,r,s,i,t[1],2240044497,21),i=d(i,n,r,s,t[8],1873313359,6),s=d(s,i,n,r,t[15],4264355552,10),r=d(r,s,i,n,t[6],2734768916,15),n=d(n,r,s,i,t[13],1309151649,21),i=d(i,n,r,s,t[4],4149444226,6),s=d(s,i,n,r,t[11],3174756917,10),r=d(r,s,i,n,t[2],718787259,15),n=d(n,r,s,i,t[9],3951481745,21),this._a=this._a+i|0,this._b=this._b+n|0,this._c=this._c+r|0,this._d=this._d+s|0},a.prototype._digest=function(){this._block[this._blockOffset++]=128,this._blockOffset>56&&(this._block.fill(0,this._blockOffset,64),this._update(),this._blockOffset=0),this._block.fill(0,this._blockOffset,56),this._block.writeUInt32LE(this._length[0],56),this._block.writeUInt32LE(this._length[1],60),this._update();var t=s.allocUnsafe(16);return t.writeInt32LE(this._a,0),t.writeInt32LE(this._b,4),t.writeInt32LE(this._c,8),t.writeInt32LE(this._d,12),t},t.exports=a})),r.register("dGPsD",(function(t,e){var i=r("4OiF0").Buffer,n=r("95soA").Transform;function s(t){n.call(this),this._block=i.allocUnsafe(t),this._blockSize=t,this._blockOffset=0,this._length=[0,0,0,0],this._finalized=!1}r("bniia")(s,n),s.prototype._transform=function(t,e,i){var n=null;try{this.update(t,e)}catch(t){n=t}i(n)},s.prototype._flush=function(t){var e=null;try{this.push(this.digest())}catch(t){e=t}t(e)},s.prototype.update=function(t,e){if(function(t,e){if(!i.isBuffer(t)&&"string"!=typeof t)throw new TypeError(e+" must be a string or a buffer")}(t,"Data"),this._finalized)throw new Error("Digest already called");i.isBuffer(t)||(t=i.from(t,e));for(var n=this._block,r=0;this._blockOffset+t.length-r>=this._blockSize;){for(var s=this._blockOffset;s<this._blockSize;)n[s++]=t[r++];this._update(),this._blockOffset=0}for(;r<t.length;)n[this._blockOffset++]=t[r++];for(var o=0,a=8*t.length;a>0;++o)this._length[o]+=a,(a=this._length[o]/4294967296|0)>0&&(this._length[o]-=4294967296*a);return this},s.prototype._update=function(){throw new Error("_update is not implemented")},s.prototype.digest=function(t){if(this._finalized)throw new Error("Digest already called");this._finalized=!0;var e=this._digest();void 0!==t&&(e=e.toString(t)),this._block.fill(0),this._blockOffset=0;for(var i=0;i<4;++i)this._length[i]=0;return e},s.prototype._digest=function(){throw new Error("_digest is not implemented")},t.exports=s})),r.register("95soA",(function(t,e){(e=t.exports=r("kNz6F")).Stream=e,e.Readable=e,e.Writable=r("2Fm12"),e.Duplex=r("j8rHA"),e.Transform=r("8ICBy"),e.PassThrough=r("JwlC1"),e.finished=r("ft4HP"),e.pipeline=r("5bCTn")})),r.register("kNz6F",(function(t,i){var n,s=r("ajwPf");t.exports=x,x.ReadableState=E;r("fPnTa").EventEmitter;var o=function(t,e){return t.listeners(e).length},a=r("9WBzb"),h=r("8UsMN").Buffer,u=(void 0!==e?e:"undefined"!=typeof window?window:"undefined"!=typeof self?self:{}).Uint8Array||function(){};var l,c=r("66yC2");l=c&&c.debuglog?c.debuglog("stream"):function(){};var d,f,p,m=r("ixvJs"),g=r("gaKSA"),v=r("cQY7G").getHighWaterMark,y=r("iuexS").codes,b=y.ERR_INVALID_ARG_TYPE,w=y.ERR_STREAM_PUSH_AFTER_EOF,_=y.ERR_METHOD_NOT_IMPLEMENTED,M=y.ERR_STREAM_UNSHIFT_AFTER_END_EVENT;r("bniia")(x,a);var A=g.errorOrDestroy,k=["error","close","destroy","pause","resume"];function E(t,e,i){n=n||r("j8rHA"),t=t||{},"boolean"!=typeof i&&(i=e instanceof n),this.objectMode=!!t.objectMode,i&&(this.objectMode=this.objectMode||!!t.readableObjectMode),this.highWaterMark=v(this,t,"readableHighWaterMark",i),this.buffer=new m,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=!1!==t.emitClose,this.autoDestroy=!!t.autoDestroy,this.destroyed=!1,this.defaultEncoding=t.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,t.encoding&&(d||(d=r("eJDLo").StringDecoder),this.decoder=new d(t.encoding),this.encoding=t.encoding)}function x(t){if(n=n||r("j8rHA"),!(this instanceof x))return new x(t);var e=this instanceof n;this._readableState=new E(t,this,e),this.readable=!0,t&&("function"==typeof t.read&&(this._read=t.read),"function"==typeof t.destroy&&(this._destroy=t.destroy)),a.call(this)}function S(t,e,i,n,r){l("readableAddChunk",e);var s,o=t._readableState;if(null===e)o.reading=!1,function(t,e){if(l("onEofChunk"),e.ended)return;if(e.decoder){var i=e.decoder.end();i&&i.length&&(e.buffer.push(i),e.length+=e.objectMode?1:i.length)}e.ended=!0,e.sync?R(t):(e.needReadable=!1,e.emittedReadable||(e.emittedReadable=!0,C(t)))}(t,o);else if(r||(s=function(t,e){var i;n=e,h.isBuffer(n)||n instanceof u||"string"==typeof e||void 0===e||t.objectMode||(i=new b("chunk",["string","Buffer","Uint8Array"],e));var n;return i}(o,e)),s)A(t,s);else if(o.objectMode||e&&e.length>0)if("string"==typeof e||o.objectMode||Object.getPrototypeOf(e)===h.prototype||(e=function(t){return h.from(t)}(e)),n)o.endEmitted?A(t,new M):T(t,o,e,!0);else if(o.ended)A(t,new w);else{if(o.destroyed)return!1;o.reading=!1,o.decoder&&!i?(e=o.decoder.write(e),o.objectMode||0!==e.length?T(t,o,e,!1):N(t,o)):T(t,o,e,!1)}else n||(o.reading=!1,N(t,o));return!o.ended&&(o.length<o.highWaterMark||0===o.length)}function T(t,e,i,n){e.flowing&&0===e.length&&!e.sync?(e.awaitDrain=0,t.emit("data",i)):(e.length+=e.objectMode?1:i.length,n?e.buffer.unshift(i):e.buffer.push(i),e.needReadable&&R(t)),N(t,e)}Object.defineProperty(x.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._readableState&&this._readableState.destroyed},set:function(t){this._readableState&&(this._readableState.destroyed=t)}}),x.prototype.destroy=g.destroy,x.prototype._undestroy=g.undestroy,x.prototype._destroy=function(t,e){e(t)},x.prototype.push=function(t,e){var i,n=this._readableState;return n.objectMode?i=!0:"string"==typeof t&&((e=e||n.defaultEncoding)!==n.encoding&&(t=h.from(t,e),e=""),i=!0),S(this,t,e,!1,i)},x.prototype.unshift=function(t){return S(this,t,null,!0,!1)},x.prototype.isPaused=function(){return!1===this._readableState.flowing},x.prototype.setEncoding=function(t){d||(d=r("eJDLo").StringDecoder);var e=new d(t);this._readableState.decoder=e,this._readableState.encoding=this._readableState.decoder.encoding;for(var i=this._readableState.buffer.head,n="";null!==i;)n+=e.write(i.data),i=i.next;return this._readableState.buffer.clear(),""!==n&&this._readableState.buffer.push(n),this._readableState.length=n.length,this};var I=1073741824;function q(t,e){return t<=0||0===e.length&&e.ended?0:e.objectMode?1:t!=t?e.flowing&&e.length?e.buffer.head.data.length:e.length:(t>e.highWaterMark&&(e.highWaterMark=function(t){return t>=I?t=I:(t--,t|=t>>>1,t|=t>>>2,t|=t>>>4,t|=t>>>8,t|=t>>>16,t++),t}(t)),t<=e.length?t:e.ended?e.length:(e.needReadable=!0,0))}function R(t){var e=t._readableState;l("emitReadable",e.needReadable,e.emittedReadable),e.needReadable=!1,e.emittedReadable||(l("emitReadable",e.flowing),e.emittedReadable=!0,s.nextTick(C,t))}function C(t){var e=t._readableState;l("emitReadable_",e.destroyed,e.length,e.ended),e.destroyed||!e.length&&!e.ended||(t.emit("readable"),e.emittedReadable=!1),e.needReadable=!e.flowing&&!e.ended&&e.length<=e.highWaterMark,P(t)}function N(t,e){e.readingMore||(e.readingMore=!0,s.nextTick(L,t,e))}function L(t,e){for(;!e.reading&&!e.ended&&(e.length<e.highWaterMark||e.flowing&&0===e.length);){var i=e.length;if(l("maybeReadMore read 0"),t.read(0),i===e.length)break}e.readingMore=!1}function D(t){var e=t._readableState;e.readableListening=t.listenerCount("readable")>0,e.resumeScheduled&&!e.paused?e.flowing=!0:t.listenerCount("data")>0&&t.resume()}function O(t){l("readable nexttick read 0"),t.read(0)}function B(t,e){l("resume",e.reading),e.reading||t.read(0),e.resumeScheduled=!1,t.emit("resume"),P(t),e.flowing&&!e.reading&&t.read(0)}function P(t){var e=t._readableState;for(l("flow",e.flowing);e.flowing&&null!==t.read(););}function U(t,e){return 0===e.length?null:(e.objectMode?i=e.buffer.shift():!t||t>=e.length?(i=e.decoder?e.buffer.join(""):1===e.buffer.length?e.buffer.first():e.buffer.concat(e.length),e.buffer.clear()):i=e.buffer.consume(t,e.decoder),i);var i}function F(t){var e=t._readableState;l("endReadable",e.endEmitted),e.endEmitted||(e.ended=!0,s.nextTick(j,e,t))}function j(t,e){if(l("endReadableNT",t.endEmitted,t.length),!t.endEmitted&&0===t.length&&(t.endEmitted=!0,e.readable=!1,e.emit("end"),t.autoDestroy)){var i=e._writableState;(!i||i.autoDestroy&&i.finished)&&e.destroy()}}function z(t,e){for(var i=0,n=t.length;i<n;i++)if(t[i]===e)return i;return-1}x.prototype.read=function(t){l("read",t),t=parseInt(t,10);var e=this._readableState,i=t;if(0!==t&&(e.emittedReadable=!1),0===t&&e.needReadable&&((0!==e.highWaterMark?e.length>=e.highWaterMark:e.length>0)||e.ended))return l("read: emitReadable",e.length,e.ended),0===e.length&&e.ended?F(this):R(this),null;if(0===(t=q(t,e))&&e.ended)return 0===e.length&&F(this),null;var n,r=e.needReadable;return l("need readable",r),(0===e.length||e.length-t<e.highWaterMark)&&l("length less than watermark",r=!0),e.ended||e.reading?l("reading or ended",r=!1):r&&(l("do read"),e.reading=!0,e.sync=!0,0===e.length&&(e.needReadable=!0),this._read(e.highWaterMark),e.sync=!1,e.reading||(t=q(i,e))),null===(n=t>0?U(t,e):null)?(e.needReadable=e.length<=e.highWaterMark,t=0):(e.length-=t,e.awaitDrain=0),0===e.length&&(e.ended||(e.needReadable=!0),i!==t&&e.ended&&F(this)),null!==n&&this.emit("data",n),n},x.prototype._read=function(t){A(this,new _("_read()"))},x.prototype.pipe=function(t,e){var i=this,n=this._readableState;switch(n.pipesCount){case 0:n.pipes=t;break;case 1:n.pipes=[n.pipes,t];break;default:n.pipes.push(t)}n.pipesCount+=1,l("pipe count=%d opts=%j",n.pipesCount,e);var r=(!e||!1!==e.end)&&t!==s.stdout&&t!==s.stderr?h:g;function a(e,r){l("onunpipe"),e===i&&r&&!1===r.hasUnpiped&&(r.hasUnpiped=!0,l("cleanup"),t.removeListener("close",p),t.removeListener("finish",m),t.removeListener("drain",u),t.removeListener("error",f),t.removeListener("unpipe",a),i.removeListener("end",h),i.removeListener("end",g),i.removeListener("data",d),c=!0,!n.awaitDrain||t._writableState&&!t._writableState.needDrain||u())}function h(){l("onend"),t.end()}n.endEmitted?s.nextTick(r):i.once("end",r),t.on("unpipe",a);var u=function(t){return function(){var e=t._readableState;l("pipeOnDrain",e.awaitDrain),e.awaitDrain&&e.awaitDrain--,0===e.awaitDrain&&o(t,"data")&&(e.flowing=!0,P(t))}}(i);t.on("drain",u);var c=!1;function d(e){l("ondata");var r=t.write(e);l("dest.write",r),!1===r&&((1===n.pipesCount&&n.pipes===t||n.pipesCount>1&&-1!==z(n.pipes,t))&&!c&&(l("false write response, pause",n.awaitDrain),n.awaitDrain++),i.pause())}function f(e){l("onerror",e),g(),t.removeListener("error",f),0===o(t,"error")&&A(t,e)}function p(){t.removeListener("finish",m),g()}function m(){l("onfinish"),t.removeListener("close",p),g()}function g(){l("unpipe"),i.unpipe(t)}return i.on("data",d),function(t,e,i){if("function"==typeof t.prependListener)return t.prependListener(e,i);t._events&&t._events[e]?Array.isArray(t._events[e])?t._events[e].unshift(i):t._events[e]=[i,t._events[e]]:t.on(e,i)}(t,"error",f),t.once("close",p),t.once("finish",m),t.emit("pipe",i),n.flowing||(l("pipe resume"),i.resume()),t},x.prototype.unpipe=function(t){var e=this._readableState,i={hasUnpiped:!1};if(0===e.pipesCount)return this;if(1===e.pipesCount)return t&&t!==e.pipes||(t||(t=e.pipes),e.pipes=null,e.pipesCount=0,e.flowing=!1,t&&t.emit("unpipe",this,i)),this;if(!t){var n=e.pipes,r=e.pipesCount;e.pipes=null,e.pipesCount=0,e.flowing=!1;for(var s=0;s<r;s++)n[s].emit("unpipe",this,{hasUnpiped:!1});return this}var o=z(e.pipes,t);return-1===o||(e.pipes.splice(o,1),e.pipesCount-=1,1===e.pipesCount&&(e.pipes=e.pipes[0]),t.emit("unpipe",this,i)),this},x.prototype.on=function(t,e){var i=a.prototype.on.call(this,t,e),n=this._readableState;return"data"===t?(n.readableListening=this.listenerCount("readable")>0,!1!==n.flowing&&this.resume()):"readable"===t&&(n.endEmitted||n.readableListening||(n.readableListening=n.needReadable=!0,n.flowing=!1,n.emittedReadable=!1,l("on readable",n.length,n.reading),n.length?R(this):n.reading||s.nextTick(O,this))),i},x.prototype.addListener=x.prototype.on,x.prototype.removeListener=function(t,e){var i=a.prototype.removeListener.call(this,t,e);return"readable"===t&&s.nextTick(D,this),i},x.prototype.removeAllListeners=function(t){var e=a.prototype.removeAllListeners.apply(this,arguments);return"readable"!==t&&void 0!==t||s.nextTick(D,this),e},x.prototype.resume=function(){var t=this._readableState;return t.flowing||(l("resume"),t.flowing=!t.readableListening,function(t,e){e.resumeScheduled||(e.resumeScheduled=!0,s.nextTick(B,t,e))}(this,t)),t.paused=!1,this},x.prototype.pause=function(){return l("call pause flowing=%j",this._readableState.flowing),!1!==this._readableState.flowing&&(l("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this},x.prototype.wrap=function(t){var e=this,i=this._readableState,n=!1;for(var r in t.on("end",(function(){if(l("wrapped end"),i.decoder&&!i.ended){var t=i.decoder.end();t&&t.length&&e.push(t)}e.push(null)})),t.on("data",(function(r){(l("wrapped data"),i.decoder&&(r=i.decoder.write(r)),i.objectMode&&null==r)||(i.objectMode||r&&r.length)&&(e.push(r)||(n=!0,t.pause()))})),t)void 0===this[r]&&"function"==typeof t[r]&&(this[r]=function(e){return function(){return t[e].apply(t,arguments)}}(r));for(var s=0;s<k.length;s++)t.on(k[s],this.emit.bind(this,k[s]));return this._read=function(e){l("wrapped _read",e),n&&(n=!1,t.resume())},this},"function"==typeof Symbol&&(x.prototype[Symbol.asyncIterator]=function(){return void 0===f&&(f=r("4uB4B")),f(this)}),Object.defineProperty(x.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),Object.defineProperty(x.prototype,"readableBuffer",{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}}),Object.defineProperty(x.prototype,"readableFlowing",{enumerable:!1,get:function(){return this._readableState.flowing},set:function(t){this._readableState&&(this._readableState.flowing=t)}}),x._fromList=U,Object.defineProperty(x.prototype,"readableLength",{enumerable:!1,get:function(){return this._readableState.length}}),"function"==typeof Symbol&&(x.from=function(t,e){return void 0===p&&(p=r("1jT5T")),p(x,t,e)})})),r.register("fPnTa",(function(t,e){var i,n="object"==typeof Reflect?Reflect:null,r=n&&"function"==typeof n.apply?n.apply:function(t,e,i){return Function.prototype.apply.call(t,e,i)};i=n&&"function"==typeof n.ownKeys?n.ownKeys:Object.getOwnPropertySymbols?function(t){return Object.getOwnPropertyNames(t).concat(Object.getOwnPropertySymbols(t))}:function(t){return Object.getOwnPropertyNames(t)};var s=Number.isNaN||function(t){return t!=t};function o(){o.init.call(this)}t.exports=o,t.exports.once=function(t,e){return new Promise((function(i,n){function r(i){t.removeListener(e,s),n(i)}function s(){"function"==typeof t.removeListener&&t.removeListener("error",r),i([].slice.call(arguments))}g(t,e,s,{once:!0}),"error"!==e&&function(t,e,i){"function"==typeof t.on&&g(t,"error",e,i)}(t,r,{once:!0})}))},o.EventEmitter=o,o.prototype._events=void 0,o.prototype._eventsCount=0,o.prototype._maxListeners=void 0;var a=10;function h(t){if("function"!=typeof t)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof t)}function u(t){return void 0===t._maxListeners?o.defaultMaxListeners:t._maxListeners}function l(t,e,i,n){var r,s,o,a;if(h(i),void 0===(s=t._events)?(s=t._events=Object.create(null),t._eventsCount=0):(void 0!==s.newListener&&(t.emit("newListener",e,i.listener?i.listener:i),s=t._events),o=s[e]),void 0===o)o=s[e]=i,++t._eventsCount;else if("function"==typeof o?o=s[e]=n?[i,o]:[o,i]:n?o.unshift(i):o.push(i),(r=u(t))>0&&o.length>r&&!o.warned){o.warned=!0;var l=new Error("Possible EventEmitter memory leak detected. "+o.length+" "+String(e)+" listeners added. Use emitter.setMaxListeners() to increase limit");l.name="MaxListenersExceededWarning",l.emitter=t,l.type=e,l.count=o.length,a=l,console&&console.warn&&console.warn(a)}return t}function c(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,0===arguments.length?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function d(t,e,i){var n={fired:!1,wrapFn:void 0,target:t,type:e,listener:i},r=c.bind(n);return r.listener=i,n.wrapFn=r,r}function f(t,e,i){var n=t._events;if(void 0===n)return[];var r=n[e];return void 0===r?[]:"function"==typeof r?i?[r.listener||r]:[r]:i?function(t){for(var e=new Array(t.length),i=0;i<e.length;++i)e[i]=t[i].listener||t[i];return e}(r):m(r,r.length)}function p(t){var e=this._events;if(void 0!==e){var i=e[t];if("function"==typeof i)return 1;if(void 0!==i)return i.length}return 0}function m(t,e){for(var i=new Array(e),n=0;n<e;++n)i[n]=t[n];return i}function g(t,e,i,n){if("function"==typeof t.on)n.once?t.once(e,i):t.on(e,i);else{if("function"!=typeof t.addEventListener)throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof t);t.addEventListener(e,(function r(s){n.once&&t.removeEventListener(e,r),i(s)}))}}Object.defineProperty(o,"defaultMaxListeners",{enumerable:!0,get:function(){return a},set:function(t){if("number"!=typeof t||t<0||s(t))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+t+".");a=t}}),o.init=function(){void 0!==this._events&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},o.prototype.setMaxListeners=function(t){if("number"!=typeof t||t<0||s(t))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+t+".");return this._maxListeners=t,this},o.prototype.getMaxListeners=function(){return u(this)},o.prototype.emit=function(t){for(var e=[],i=1;i<arguments.length;i++)e.push(arguments[i]);var n="error"===t,s=this._events;if(void 0!==s)n=n&&void 0===s.error;else if(!n)return!1;if(n){var o;if(e.length>0&&(o=e[0]),o instanceof Error)throw o;var a=new Error("Unhandled error."+(o?" ("+o.message+")":""));throw a.context=o,a}var h=s[t];if(void 0===h)return!1;if("function"==typeof h)r(h,this,e);else{var u=h.length,l=m(h,u);for(i=0;i<u;++i)r(l[i],this,e)}return!0},o.prototype.addListener=function(t,e){return l(this,t,e,!1)},o.prototype.on=o.prototype.addListener,o.prototype.prependListener=function(t,e){return l(this,t,e,!0)},o.prototype.once=function(t,e){return h(e),this.on(t,d(this,t,e)),this},o.prototype.prependOnceListener=function(t,e){return h(e),this.prependListener(t,d(this,t,e)),this},o.prototype.removeListener=function(t,e){var i,n,r,s,o;if(h(e),void 0===(n=this._events))return this;if(void 0===(i=n[t]))return this;if(i===e||i.listener===e)0==--this._eventsCount?this._events=Object.create(null):(delete n[t],n.removeListener&&this.emit("removeListener",t,i.listener||e));else if("function"!=typeof i){for(r=-1,s=i.length-1;s>=0;s--)if(i[s]===e||i[s].listener===e){o=i[s].listener,r=s;break}if(r<0)return this;0===r?i.shift():function(t,e){for(;e+1<t.length;e++)t[e]=t[e+1];t.pop()}(i,r),1===i.length&&(n[t]=i[0]),void 0!==n.removeListener&&this.emit("removeListener",t,o||e)}return this},o.prototype.off=o.prototype.removeListener,o.prototype.removeAllListeners=function(t){var e,i,n;if(void 0===(i=this._events))return this;if(void 0===i.removeListener)return 0===arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==i[t]&&(0==--this._eventsCount?this._events=Object.create(null):delete i[t]),this;if(0===arguments.length){var r,s=Object.keys(i);for(n=0;n<s.length;++n)"removeListener"!==(r=s[n])&&this.removeAllListeners(r);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if("function"==typeof(e=i[t]))this.removeListener(t,e);else if(void 0!==e)for(n=e.length-1;n>=0;n--)this.removeListener(t,e[n]);return this},o.prototype.listeners=function(t){return f(this,t,!0)},o.prototype.rawListeners=function(t){return f(this,t,!1)},o.listenerCount=function(t,e){return"function"==typeof t.listenerCount?t.listenerCount(e):p.call(t,e)},o.prototype.listenerCount=p,o.prototype.eventNames=function(){return this._eventsCount>0?i(this._events):[]}})),r.register("9WBzb",(function(t,e){t.exports=r("fPnTa").EventEmitter})),r.register("66yC2",(function(t,e){})),r.register("ixvJs",(function(t,e){function i(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),i.push.apply(i,n)}return i}function n(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?i(Object(n),!0).forEach((function(e){s(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function s(t,e,i){return(e=a(e))in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}function o(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,a(n.key),n)}}function a(t){var e=function(t,e){if("object"!=typeof t||null===t)return t;var i=t[Symbol.toPrimitive];if(void 0!==i){var n=i.call(t,e||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==typeof e?e:String(e)}var h=r("8UsMN").Buffer,u=r("66yC2").inspect,l=u&&u.custom||"inspect";t.exports=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.head=null,this.tail=null,this.length=0}var e,i,r;return e=t,(i=[{key:"push",value:function(t){var e={data:t,next:null};this.length>0?this.tail.next=e:this.head=e,this.tail=e,++this.length}},{key:"unshift",value:function(t){var e={data:t,next:this.head};0===this.length&&(this.tail=e),this.head=e,++this.length}},{key:"shift",value:function(){if(0!==this.length){var t=this.head.data;return 1===this.length?this.head=this.tail=null:this.head=this.head.next,--this.length,t}}},{key:"clear",value:function(){this.head=this.tail=null,this.length=0}},{key:"join",value:function(t){if(0===this.length)return"";for(var e=this.head,i=""+e.data;e=e.next;)i+=t+e.data;return i}},{key:"concat",value:function(t){if(0===this.length)return h.alloc(0);for(var e,i,n,r=h.allocUnsafe(t>>>0),s=this.head,o=0;s;)e=s.data,i=r,n=o,h.prototype.copy.call(e,i,n),o+=s.data.length,s=s.next;return r}},{key:"consume",value:function(t,e){var i;return t<this.head.data.length?(i=this.head.data.slice(0,t),this.head.data=this.head.data.slice(t)):i=t===this.head.data.length?this.shift():e?this._getString(t):this._getBuffer(t),i}},{key:"first",value:function(){return this.head.data}},{key:"_getString",value:function(t){var e=this.head,i=1,n=e.data;for(t-=n.length;e=e.next;){var r=e.data,s=t>r.length?r.length:t;if(s===r.length?n+=r:n+=r.slice(0,t),0==(t-=s)){s===r.length?(++i,e.next?this.head=e.next:this.head=this.tail=null):(this.head=e,e.data=r.slice(s));break}++i}return this.length-=i,n}},{key:"_getBuffer",value:function(t){var e=h.allocUnsafe(t),i=this.head,n=1;for(i.data.copy(e),t-=i.data.length;i=i.next;){var r=i.data,s=t>r.length?r.length:t;if(r.copy(e,e.length-t,0,s),0==(t-=s)){s===r.length?(++n,i.next?this.head=i.next:this.head=this.tail=null):(this.head=i,i.data=r.slice(s));break}++n}return this.length-=n,e}},{key:l,value:function(t,e){return u(this,n(n({},e),{},{depth:0,customInspect:!1}))}}])&&o(e.prototype,i),r&&o(e,r),Object.defineProperty(e,"prototype",{writable:!1}),t}()})),r.register("gaKSA",(function(t,e){var i=r("ajwPf");function n(t,e){o(t,e),s(t)}function s(t){t._writableState&&!t._writableState.emitClose||t._readableState&&!t._readableState.emitClose||t.emit("close")}function o(t,e){t.emit("error",e)}t.exports={destroy:function(t,e){var r=this,a=this._readableState&&this._readableState.destroyed,h=this._writableState&&this._writableState.destroyed;return a||h?(e?e(t):t&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,i.nextTick(o,this,t)):i.nextTick(o,this,t)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(t||null,(function(t){!e&&t?r._writableState?r._writableState.errorEmitted?i.nextTick(s,r):(r._writableState.errorEmitted=!0,i.nextTick(n,r,t)):i.nextTick(n,r,t):e?(i.nextTick(s,r),e(t)):i.nextTick(s,r)})),this)},undestroy:function(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)},errorOrDestroy:function(t,e){var i=t._readableState,n=t._writableState;i&&i.autoDestroy||n&&n.autoDestroy?t.destroy(e):t.emit("error",e)}}})),r.register("cQY7G",(function(t,e){var i=r("iuexS").codes.ERR_INVALID_OPT_VALUE;t.exports={getHighWaterMark:function(t,e,n,r){var s=function(t,e,i){return null!=t.highWaterMark?t.highWaterMark:e?t[i]:null}(e,r,n);if(null!=s){if(!isFinite(s)||Math.floor(s)!==s||s<0)throw new i(r?n:"highWaterMark",s);return Math.floor(s)}return t.objectMode?16:16384}}})),r.register("iuexS",(function(e,i){var n;t(e.exports,"codes",(()=>n),(t=>n=t));var r={};function s(t,e,i){i||(i=Error);var n=function(t){var i,n;function r(i,n,r){return t.call(this,function(t,i,n){return"string"==typeof e?e:e(t,i,n)}(i,n,r))||this}return n=t,(i=r).prototype=Object.create(n.prototype),i.prototype.constructor=i,i.__proto__=n,r}(i);n.prototype.name=i.name,n.prototype.code=t,r[t]=n}function o(t,e){if(Array.isArray(t)){var i=t.length;return t=t.map((function(t){return String(t)})),i>2?"one of ".concat(e," ").concat(t.slice(0,i-1).join(", "),", or ")+t[i-1]:2===i?"one of ".concat(e," ").concat(t[0]," or ").concat(t[1]):"of ".concat(e," ").concat(t[0])}return"of ".concat(e," ").concat(String(t))}s("ERR_INVALID_OPT_VALUE",(function(t,e){return'The value "'+e+'" is invalid for option "'+t+'"'}),TypeError),s("ERR_INVALID_ARG_TYPE",(function(t,e,i){var n,r,s,a;if("string"==typeof e&&(r="not ",e.substr(!s||s<0?0:+s,r.length)===r)?(n="must not be",e=e.replace(/^not /,"")):n="must be",function(t,e,i){return(void 0===i||i>t.length)&&(i=t.length),t.substring(i-e.length,i)===e}(t," argument"))a="The ".concat(t," ").concat(n," ").concat(o(e,"type"));else{var h=function(t,e,i){return"number"!=typeof i&&(i=0),!(i+e.length>t.length)&&-1!==t.indexOf(e,i)}(t,".")?"property":"argument";a='The "'.concat(t,'" ').concat(h," ").concat(n," ").concat(o(e,"type"))}return a+=". Received type ".concat(typeof i)}),TypeError),s("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF"),s("ERR_METHOD_NOT_IMPLEMENTED",(function(t){return"The "+t+" method is not implemented"})),s("ERR_STREAM_PREMATURE_CLOSE","Premature close"),s("ERR_STREAM_DESTROYED",(function(t){return"Cannot call "+t+" after a stream was destroyed"})),s("ERR_MULTIPLE_CALLBACK","Callback called multiple times"),s("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable"),s("ERR_STREAM_WRITE_AFTER_END","write after end"),s("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),s("ERR_UNKNOWN_ENCODING",(function(t){return"Unknown encoding: "+t}),TypeError),s("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event"),n=r})),r.register("j8rHA",(function(t,e){var i=r("ajwPf"),n=Object.keys||function(t){var e=[];for(var i in t)e.push(i);return e};t.exports=l;var s=r("kNz6F"),o=r("2Fm12");r("bniia")(l,s);for(var a=n(o.prototype),h=0;h<a.length;h++){var u=a[h];l.prototype[u]||(l.prototype[u]=o.prototype[u])}function l(t){if(!(this instanceof l))return new l(t);s.call(this,t),o.call(this,t),this.allowHalfOpen=!0,t&&(!1===t.readable&&(this.readable=!1),!1===t.writable&&(this.writable=!1),!1===t.allowHalfOpen&&(this.allowHalfOpen=!1,this.once("end",c)))}function c(){this._writableState.ended||i.nextTick(d,this)}function d(t){t.end()}Object.defineProperty(l.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(l.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(l.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(l.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed&&this._writableState.destroyed)},set:function(t){void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed=t,this._writableState.destroyed=t)}})})),r.register("2Fm12",(function(t,i){var n,s=r("ajwPf");function o(t){var e=this;this.next=null,this.entry=null,this.finish=function(){!function(t,e,i){var n=t.entry;t.entry=null;for(;n;){var r=n.callback;e.pendingcb--,r(i),n=n.next}e.corkedRequestsFree.next=t}(e,t)}}t.exports=x,x.WritableState=E;var a={deprecate:r("f2W2v")},h=r("9WBzb"),u=r("8UsMN").Buffer,l=(void 0!==e?e:"undefined"!=typeof window?window:"undefined"!=typeof self?self:{}).Uint8Array||function(){};var c,d=r("gaKSA"),f=r("cQY7G").getHighWaterMark,p=r("iuexS").codes,m=p.ERR_INVALID_ARG_TYPE,g=p.ERR_METHOD_NOT_IMPLEMENTED,v=p.ERR_MULTIPLE_CALLBACK,y=p.ERR_STREAM_CANNOT_PIPE,b=p.ERR_STREAM_DESTROYED,w=p.ERR_STREAM_NULL_VALUES,_=p.ERR_STREAM_WRITE_AFTER_END,M=p.ERR_UNKNOWN_ENCODING,A=d.errorOrDestroy;function k(){}function E(t,e,i){n=n||r("j8rHA"),t=t||{},"boolean"!=typeof i&&(i=e instanceof n),this.objectMode=!!t.objectMode,i&&(this.objectMode=this.objectMode||!!t.writableObjectMode),this.highWaterMark=f(this,t,"writableHighWaterMark",i),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var a=!1===t.decodeStrings;this.decodeStrings=!a,this.defaultEncoding=t.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(t){!function(t,e){var i=t._writableState,n=i.sync,r=i.writecb;if("function"!=typeof r)throw new v;if(function(t){t.writing=!1,t.writecb=null,t.length-=t.writelen,t.writelen=0}(i),e)!function(t,e,i,n,r){--e.pendingcb,i?(s.nextTick(r,n),s.nextTick(C,t,e),t._writableState.errorEmitted=!0,A(t,n)):(r(n),t._writableState.errorEmitted=!0,A(t,n),C(t,e))}(t,i,n,e,r);else{var o=q(i)||t.destroyed;o||i.corked||i.bufferProcessing||!i.bufferedRequest||I(t,i),n?s.nextTick(T,t,i,o,r):T(t,i,o,r)}}(e,t)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=!1!==t.emitClose,this.autoDestroy=!!t.autoDestroy,this.bufferedRequestCount=0,this.corkedRequestsFree=new o(this)}function x(t){var e=this instanceof(n=n||r("j8rHA"));if(!e&&!c.call(x,this))return new x(t);this._writableState=new E(t,this,e),this.writable=!0,t&&("function"==typeof t.write&&(this._write=t.write),"function"==typeof t.writev&&(this._writev=t.writev),"function"==typeof t.destroy&&(this._destroy=t.destroy),"function"==typeof t.final&&(this._final=t.final)),h.call(this)}function S(t,e,i,n,r,s,o){e.writelen=n,e.writecb=o,e.writing=!0,e.sync=!0,e.destroyed?e.onwrite(new b("write")):i?t._writev(r,e.onwrite):t._write(r,s,e.onwrite),e.sync=!1}function T(t,e,i,n){i||function(t,e){0===e.length&&e.needDrain&&(e.needDrain=!1,t.emit("drain"))}(t,e),e.pendingcb--,n(),C(t,e)}function I(t,e){e.bufferProcessing=!0;var i=e.bufferedRequest;if(t._writev&&i&&i.next){var n=e.bufferedRequestCount,r=new Array(n),s=e.corkedRequestsFree;s.entry=i;for(var a=0,h=!0;i;)r[a]=i,i.isBuf||(h=!1),i=i.next,a+=1;r.allBuffers=h,S(t,e,!0,e.length,r,"",s.finish),e.pendingcb++,e.lastBufferedRequest=null,s.next?(e.corkedRequestsFree=s.next,s.next=null):e.corkedRequestsFree=new o(e),e.bufferedRequestCount=0}else{for(;i;){var u=i.chunk,l=i.encoding,c=i.callback;if(S(t,e,!1,e.objectMode?1:u.length,u,l,c),i=i.next,e.bufferedRequestCount--,e.writing)break}null===i&&(e.lastBufferedRequest=null)}e.bufferedRequest=i,e.bufferProcessing=!1}function q(t){return t.ending&&0===t.length&&null===t.bufferedRequest&&!t.finished&&!t.writing}function R(t,e){t._final((function(i){e.pendingcb--,i&&A(t,i),e.prefinished=!0,t.emit("prefinish"),C(t,e)}))}function C(t,e){var i=q(e);if(i&&(function(t,e){e.prefinished||e.finalCalled||("function"!=typeof t._final||e.destroyed?(e.prefinished=!0,t.emit("prefinish")):(e.pendingcb++,e.finalCalled=!0,s.nextTick(R,t,e)))}(t,e),0===e.pendingcb&&(e.finished=!0,t.emit("finish"),e.autoDestroy))){var n=t._readableState;(!n||n.autoDestroy&&n.endEmitted)&&t.destroy()}return i}r("bniia")(x,h),E.prototype.getBuffer=function(){for(var t=this.bufferedRequest,e=[];t;)e.push(t),t=t.next;return e},function(){try{Object.defineProperty(E.prototype,"buffer",{get:a.deprecate((function(){return this.getBuffer()}),"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch(t){}}(),"function"==typeof Symbol&&Symbol.hasInstance&&"function"==typeof Function.prototype[Symbol.hasInstance]?(c=Function.prototype[Symbol.hasInstance],Object.defineProperty(x,Symbol.hasInstance,{value:function(t){return!!c.call(this,t)||this===x&&(t&&t._writableState instanceof E)}})):c=function(t){return t instanceof this},x.prototype.pipe=function(){A(this,new y)},x.prototype.write=function(t,e,i){var n,r=this._writableState,o=!1,a=!r.objectMode&&(n=t,u.isBuffer(n)||n instanceof l);return a&&!u.isBuffer(t)&&(t=function(t){return u.from(t)}(t)),"function"==typeof e&&(i=e,e=null),a?e="buffer":e||(e=r.defaultEncoding),"function"!=typeof i&&(i=k),r.ending?function(t,e){var i=new _;A(t,i),s.nextTick(e,i)}(this,i):(a||function(t,e,i,n){var r;return null===i?r=new w:"string"==typeof i||e.objectMode||(r=new m("chunk",["string","Buffer"],i)),!r||(A(t,r),s.nextTick(n,r),!1)}(this,r,t,i))&&(r.pendingcb++,o=function(t,e,i,n,r,s){if(!i){var o=function(t,e,i){t.objectMode||!1===t.decodeStrings||"string"!=typeof e||(e=u.from(e,i));return e}(e,n,r);n!==o&&(i=!0,r="buffer",n=o)}var a=e.objectMode?1:n.length;e.length+=a;var h=e.length<e.highWaterMark;h||(e.needDrain=!0);if(e.writing||e.corked){var l=e.lastBufferedRequest;e.lastBufferedRequest={chunk:n,encoding:r,isBuf:i,callback:s,next:null},l?l.next=e.lastBufferedRequest:e.bufferedRequest=e.lastBufferedRequest,e.bufferedRequestCount+=1}else S(t,e,!1,a,n,r,s);return h}(this,r,a,t,e,i)),o},x.prototype.cork=function(){this._writableState.corked++},x.prototype.uncork=function(){var t=this._writableState;t.corked&&(t.corked--,t.writing||t.corked||t.bufferProcessing||!t.bufferedRequest||I(this,t))},x.prototype.setDefaultEncoding=function(t){if("string"==typeof t&&(t=t.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((t+"").toLowerCase())>-1))throw new M(t);return this._writableState.defaultEncoding=t,this},Object.defineProperty(x.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(x.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),x.prototype._write=function(t,e,i){i(new g("_write()"))},x.prototype._writev=null,x.prototype.end=function(t,e,i){var n=this._writableState;return"function"==typeof t?(i=t,t=null,e=null):"function"==typeof e&&(i=e,e=null),null!=t&&this.write(t,e),n.corked&&(n.corked=1,this.uncork()),n.ending||function(t,e,i){e.ending=!0,C(t,e),i&&(e.finished?s.nextTick(i):t.once("finish",i));e.ended=!0,t.writable=!1}(this,n,i),this},Object.defineProperty(x.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(x.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._writableState&&this._writableState.destroyed},set:function(t){this._writableState&&(this._writableState.destroyed=t)}}),x.prototype.destroy=d.destroy,x.prototype._undestroy=d.undestroy,x.prototype._destroy=function(t,e){e(t)}})),r.register("f2W2v",(function(t,i){function n(t){try{if(!e.localStorage)return!1}catch(t){return!1}var i=e.localStorage[t];return null!=i&&"true"===String(i).toLowerCase()}t.exports=function(t,e){if(n("noDeprecation"))return t;var i=!1;return function(){if(!i){if(n("throwDeprecation"))throw new Error(e);n("traceDeprecation")?console.trace(e):console.warn(e),i=!0}return t.apply(this,arguments)}}})),r.register("eJDLo",(function(e,i){var n;t(e.exports,"StringDecoder",(()=>n),(t=>n=t));var s=r("4OiF0").Buffer,o=s.isEncoding||function(t){switch((t=""+t)&&t.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function a(t){var e;switch(this.encoding=function(t){var e=function(t){if(!t)return"utf8";for(var e;;)switch(t){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return t;default:if(e)return;t=(""+t).toLowerCase(),e=!0}}(t);if("string"!=typeof e&&(s.isEncoding===o||!o(t)))throw new Error("Unknown encoding: "+t);return e||t}(t),this.encoding){case"utf16le":this.text=l,this.end=c,e=4;break;case"utf8":this.fillLast=u,e=4;break;case"base64":this.text=d,this.end=f,e=3;break;default:return this.write=p,void(this.end=m)}this.lastNeed=0,this.lastTotal=0,this.lastChar=s.allocUnsafe(e)}function h(t){return t<=127?0:t>>5==6?2:t>>4==14?3:t>>3==30?4:t>>6==2?-1:-2}function u(t){var e=this.lastTotal-this.lastNeed,i=function(t,e,i){if(128!=(192&e[0]))return t.lastNeed=0,"�";if(t.lastNeed>1&&e.length>1){if(128!=(192&e[1]))return t.lastNeed=1,"�";if(t.lastNeed>2&&e.length>2&&128!=(192&e[2]))return t.lastNeed=2,"�"}}(this,t);return void 0!==i?i:this.lastNeed<=t.length?(t.copy(this.lastChar,e,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal)):(t.copy(this.lastChar,e,0,t.length),void(this.lastNeed-=t.length))}function l(t,e){if((t.length-e)%2==0){var i=t.toString("utf16le",e);if(i){var n=i.charCodeAt(i.length-1);if(n>=55296&&n<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=t[t.length-2],this.lastChar[1]=t[t.length-1],i.slice(0,-1)}return i}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=t[t.length-1],t.toString("utf16le",e,t.length-1)}function c(t){var e=t&&t.length?this.write(t):"";if(this.lastNeed){var i=this.lastTotal-this.lastNeed;return e+this.lastChar.toString("utf16le",0,i)}return e}function d(t,e){var i=(t.length-e)%3;return 0===i?t.toString("base64",e):(this.lastNeed=3-i,this.lastTotal=3,1===i?this.lastChar[0]=t[t.length-1]:(this.lastChar[0]=t[t.length-2],this.lastChar[1]=t[t.length-1]),t.toString("base64",e,t.length-i))}function f(t){var e=t&&t.length?this.write(t):"";return this.lastNeed?e+this.lastChar.toString("base64",0,3-this.lastNeed):e}function p(t){return t.toString(this.encoding)}function m(t){return t&&t.length?this.write(t):""}n=a,a.prototype.write=function(t){if(0===t.length)return"";var e,i;if(this.lastNeed){if(void 0===(e=this.fillLast(t)))return"";i=this.lastNeed,this.lastNeed=0}else i=0;return i<t.length?e?e+this.text(t,i):this.text(t,i):e||""},a.prototype.end=function(t){var e=t&&t.length?this.write(t):"";return this.lastNeed?e+"�":e},a.prototype.text=function(t,e){var i=function(t,e,i){var n=e.length-1;if(n<i)return 0;var r=h(e[n]);if(r>=0)return r>0&&(t.lastNeed=r-1),r;if(--n<i||-2===r)return 0;if(r=h(e[n]),r>=0)return r>0&&(t.lastNeed=r-2),r;if(--n<i||-2===r)return 0;if(r=h(e[n]),r>=0)return r>0&&(2===r?r=0:t.lastNeed=r-3),r;return 0}(this,t,e);if(!this.lastNeed)return t.toString("utf8",e);this.lastTotal=i;var n=t.length-(i-this.lastNeed);return t.copy(this.lastChar,0,n),t.toString("utf8",e,n)},a.prototype.fillLast=function(t){if(this.lastNeed<=t.length)return t.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);t.copy(this.lastChar,this.lastTotal-this.lastNeed,0,t.length),this.lastNeed-=t.length}})),r.register("4uB4B",(function(t,e){var i,n=r("ajwPf");function s(t,e,i){return(e=function(t){var e=function(t,e){if("object"!=typeof t||null===t)return t;var i=t[Symbol.toPrimitive];if(void 0!==i){var n=i.call(t,e||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==typeof e?e:String(e)}(e))in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}var o=r("ft4HP"),a=Symbol("lastResolve"),h=Symbol("lastReject"),u=Symbol("error"),l=Symbol("ended"),c=Symbol("lastPromise"),d=Symbol("handlePromise"),f=Symbol("stream");function p(t,e){return{value:t,done:e}}function m(t){var e=t[a];if(null!==e){var i=t[f].read();null!==i&&(t[c]=null,t[a]=null,t[h]=null,e(p(i,!1)))}}function g(t){n.nextTick(m,t)}var v=Object.getPrototypeOf((function(){})),y=Object.setPrototypeOf((s(i={get stream(){return this[f]},next:function(){var t=this,e=this[u];if(null!==e)return Promise.reject(e);if(this[l])return Promise.resolve(p(void 0,!0));if(this[f].destroyed)return new Promise((function(e,i){n.nextTick((function(){t[u]?i(t[u]):e(p(void 0,!0))}))}));var i,r=this[c];if(r)i=new Promise(function(t,e){return function(i,n){t.then((function(){e[l]?i(p(void 0,!0)):e[d](i,n)}),n)}}(r,this));else{var s=this[f].read();if(null!==s)return Promise.resolve(p(s,!1));i=new Promise(this[d])}return this[c]=i,i}},Symbol.asyncIterator,(function(){return this})),s(i,"return",(function(){var t=this;return new Promise((function(e,i){t[f].destroy(null,(function(t){t?i(t):e(p(void 0,!0))}))}))})),i),v);t.exports=function(t){var e,i=Object.create(y,(s(e={},f,{value:t,writable:!0}),s(e,a,{value:null,writable:!0}),s(e,h,{value:null,writable:!0}),s(e,u,{value:null,writable:!0}),s(e,l,{value:t._readableState.endEmitted,writable:!0}),s(e,d,{value:function(t,e){var n=i[f].read();n?(i[c]=null,i[a]=null,i[h]=null,t(p(n,!1))):(i[a]=t,i[h]=e)},writable:!0}),e));return i[c]=null,o(t,(function(t){if(t&&"ERR_STREAM_PREMATURE_CLOSE"!==t.code){var e=i[h];return null!==e&&(i[c]=null,i[a]=null,i[h]=null,e(t)),void(i[u]=t)}var n=i[a];null!==n&&(i[c]=null,i[a]=null,i[h]=null,n(p(void 0,!0))),i[l]=!0})),t.on("readable",g.bind(null,i)),i}})),r.register("ft4HP",(function(t,e){var i=r("iuexS").codes.ERR_STREAM_PREMATURE_CLOSE;function n(){}t.exports=function t(e,r,s){if("function"==typeof r)return t(e,null,r);r||(r={}),s=function(t){var e=!1;return function(){if(!e){e=!0;for(var i=arguments.length,n=new Array(i),r=0;r<i;r++)n[r]=arguments[r];t.apply(this,n)}}}(s||n);var o=r.readable||!1!==r.readable&&e.readable,a=r.writable||!1!==r.writable&&e.writable,h=function(){e.writable||l()},u=e._writableState&&e._writableState.finished,l=function(){a=!1,u=!0,o||s.call(e)},c=e._readableState&&e._readableState.endEmitted,d=function(){o=!1,c=!0,a||s.call(e)},f=function(t){s.call(e,t)},p=function(){var t;return o&&!c?(e._readableState&&e._readableState.ended||(t=new i),s.call(e,t)):a&&!u?(e._writableState&&e._writableState.ended||(t=new i),s.call(e,t)):void 0},m=function(){e.req.on("finish",l)};return!function(t){return t.setHeader&&"function"==typeof t.abort}(e)?a&&!e._writableState&&(e.on("end",h),e.on("close",h)):(e.on("complete",l),e.on("abort",p),e.req?m():e.on("request",m)),e.on("end",d),e.on("finish",l),!1!==r.error&&e.on("error",f),e.on("close",p),function(){e.removeListener("complete",l),e.removeListener("abort",p),e.removeListener("request",m),e.req&&e.req.removeListener("finish",l),e.removeListener("end",h),e.removeListener("close",h),e.removeListener("finish",l),e.removeListener("end",d),e.removeListener("error",f),e.removeListener("close",p)}}})),r.register("1jT5T",(function(t,e){t.exports=function(){throw new Error("Readable.from is not available in the browser")}})),r.register("8ICBy",(function(t,e){t.exports=l;var i=r("iuexS").codes,n=i.ERR_METHOD_NOT_IMPLEMENTED,s=i.ERR_MULTIPLE_CALLBACK,o=i.ERR_TRANSFORM_ALREADY_TRANSFORMING,a=i.ERR_TRANSFORM_WITH_LENGTH_0,h=r("j8rHA");function u(t,e){var i=this._transformState;i.transforming=!1;var n=i.writecb;if(null===n)return this.emit("error",new s);i.writechunk=null,i.writecb=null,null!=e&&this.push(e),n(t);var r=this._readableState;r.reading=!1,(r.needReadable||r.length<r.highWaterMark)&&this._read(r.highWaterMark)}function l(t){if(!(this instanceof l))return new l(t);h.call(this,t),this._transformState={afterTransform:u.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,t&&("function"==typeof t.transform&&(this._transform=t.transform),"function"==typeof t.flush&&(this._flush=t.flush)),this.on("prefinish",c)}function c(){var t=this;"function"!=typeof this._flush||this._readableState.destroyed?d(this,null,null):this._flush((function(e,i){d(t,e,i)}))}function d(t,e,i){if(e)return t.emit("error",e);if(null!=i&&t.push(i),t._writableState.length)throw new a;if(t._transformState.transforming)throw new o;return t.push(null)}r("bniia")(l,h),l.prototype.push=function(t,e){return this._transformState.needTransform=!1,h.prototype.push.call(this,t,e)},l.prototype._transform=function(t,e,i){i(new n("_transform()"))},l.prototype._write=function(t,e,i){var n=this._transformState;if(n.writecb=i,n.writechunk=t,n.writeencoding=e,!n.transforming){var r=this._readableState;(n.needTransform||r.needReadable||r.length<r.highWaterMark)&&this._read(r.highWaterMark)}},l.prototype._read=function(t){var e=this._transformState;null===e.writechunk||e.transforming?e.needTransform=!0:(e.transforming=!0,this._transform(e.writechunk,e.writeencoding,e.afterTransform))},l.prototype._destroy=function(t,e){h.prototype._destroy.call(this,t,(function(t){e(t)}))}})),r.register("JwlC1",(function(t,e){t.exports=n;var i=r("8ICBy");function n(t){if(!(this instanceof n))return new n(t);i.call(this,t)}r("bniia")(n,i),n.prototype._transform=function(t,e,i){i(null,t)}})),r.register("5bCTn",(function(t,e){var i;var n=r("iuexS").codes,s=n.ERR_MISSING_ARGS,o=n.ERR_STREAM_DESTROYED;function a(t){if(t)throw t}function h(t){t()}function u(t,e){return t.pipe(e)}t.exports=function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];var l,c=function(t){return t.length?"function"!=typeof t[t.length-1]?a:t.pop():a}(e);if(Array.isArray(e[0])&&(e=e[0]),e.length<2)throw new s("streams");var d=e.map((function(t,n){var s=n<e.length-1;return function(t,e,n,s){s=function(t){var e=!1;return function(){e||(e=!0,t.apply(void 0,arguments))}}(s);var a=!1;t.on("close",(function(){a=!0})),void 0===i&&(i=r("ft4HP")),i(t,{readable:e,writable:n},(function(t){if(t)return s(t);a=!0,s()}));var h=!1;return function(e){if(!a&&!h)return h=!0,function(t){return t.setHeader&&"function"==typeof t.abort}(t)?t.abort():"function"==typeof t.destroy?t.destroy():void s(e||new o("pipe"))}}(t,s,n>0,(function(t){l||(l=t),t&&d.forEach(h),s||(d.forEach(h),c(l))}))}));return e.reduce(u)}})),r.register("1JYNO",(function(t,e){var i=r("8UsMN").Buffer,n=r("bniia"),s=r("dGPsD"),o=new Array(16),a=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],h=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],u=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],l=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11],c=[0,1518500249,1859775393,2400959708,2840853838],d=[1352829926,1548603684,1836072691,2053994217,0];function f(){s.call(this,64),this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520}function p(t,e){return t<<e|t>>>32-e}function m(t,e,i,n,r,s,o,a){return p(t+(e^i^n)+s+o|0,a)+r|0}function g(t,e,i,n,r,s,o,a){return p(t+(e&i|~e&n)+s+o|0,a)+r|0}function v(t,e,i,n,r,s,o,a){return p(t+((e|~i)^n)+s+o|0,a)+r|0}function y(t,e,i,n,r,s,o,a){return p(t+(e&n|i&~n)+s+o|0,a)+r|0}function b(t,e,i,n,r,s,o,a){return p(t+(e^(i|~n))+s+o|0,a)+r|0}n(f,s),f.prototype._update=function(){for(var t=o,e=0;e<16;++e)t[e]=this._block.readInt32LE(4*e);for(var i=0|this._a,n=0|this._b,r=0|this._c,s=0|this._d,f=0|this._e,w=0|this._a,_=0|this._b,M=0|this._c,A=0|this._d,k=0|this._e,E=0;E<80;E+=1){var x,S;E<16?(x=m(i,n,r,s,f,t[a[E]],c[0],u[E]),S=b(w,_,M,A,k,t[h[E]],d[0],l[E])):E<32?(x=g(i,n,r,s,f,t[a[E]],c[1],u[E]),S=y(w,_,M,A,k,t[h[E]],d[1],l[E])):E<48?(x=v(i,n,r,s,f,t[a[E]],c[2],u[E]),S=v(w,_,M,A,k,t[h[E]],d[2],l[E])):E<64?(x=y(i,n,r,s,f,t[a[E]],c[3],u[E]),S=g(w,_,M,A,k,t[h[E]],d[3],l[E])):(x=b(i,n,r,s,f,t[a[E]],c[4],u[E]),S=m(w,_,M,A,k,t[h[E]],d[4],l[E])),i=f,f=s,s=p(r,10),r=n,n=x,w=k,k=A,A=p(M,10),M=_,_=S}var T=this._b+r+A|0;this._b=this._c+s+k|0,this._c=this._d+f+w|0,this._d=this._e+i+_|0,this._e=this._a+n+M|0,this._a=T},f.prototype._digest=function(){this._block[this._blockOffset++]=128,this._blockOffset>56&&(this._block.fill(0,this._blockOffset,64),this._update(),this._blockOffset=0),this._block.fill(0,this._blockOffset,56),this._block.writeUInt32LE(this._length[0],56),this._block.writeUInt32LE(this._length[1],60),this._update();var t=i.alloc?i.alloc(20):new i(20);return t.writeInt32LE(this._a,0),t.writeInt32LE(this._b,4),t.writeInt32LE(this._c,8),t.writeInt32LE(this._d,12),t.writeInt32LE(this._e,16),t},t.exports=f})),r.register("1eplY",(function(t,e){var i=t.exports=function(t){t=t.toLowerCase();var e=i[t];if(!e)throw new Error(t+" is not supported (we accept pull requests)");return new e};i.sha=r("fLSEz"),i.sha1=r("clQEv"),i.sha224=r("61gwW"),i.sha256=r("e1mvm"),i.sha384=r("fg4RU"),i.sha512=r("g9xkA")})),r.register("fLSEz",(function(t,e){var i=r("bniia"),n=r("d9hQa"),s=r("4OiF0").Buffer,o=[1518500249,1859775393,-1894007588,-899497514],a=new Array(80);function h(){this.init(),this._w=a,n.call(this,64,56)}function u(t){return t<<30|t>>>2}function l(t,e,i,n){return 0===t?e&i|~e&n:2===t?e&i|e&n|i&n:e^i^n}i(h,n),h.prototype.init=function(){return this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520,this},h.prototype._update=function(t){for(var e,i=this._w,n=0|this._a,r=0|this._b,s=0|this._c,a=0|this._d,h=0|this._e,c=0;c<16;++c)i[c]=t.readInt32BE(4*c);for(;c<80;++c)i[c]=i[c-3]^i[c-8]^i[c-14]^i[c-16];for(var d=0;d<80;++d){var f=~~(d/20),p=0|((e=n)<<5|e>>>27)+l(f,r,s,a)+h+i[d]+o[f];h=a,a=s,s=u(r),r=n,n=p}this._a=n+this._a|0,this._b=r+this._b|0,this._c=s+this._c|0,this._d=a+this._d|0,this._e=h+this._e|0},h.prototype._hash=function(){var t=s.allocUnsafe(20);return t.writeInt32BE(0|this._a,0),t.writeInt32BE(0|this._b,4),t.writeInt32BE(0|this._c,8),t.writeInt32BE(0|this._d,12),t.writeInt32BE(0|this._e,16),t},t.exports=h})),r.register("d9hQa",(function(t,e){var i=r("4OiF0").Buffer;function n(t,e){this._block=i.alloc(t),this._finalSize=e,this._blockSize=t,this._len=0}n.prototype.update=function(t,e){"string"==typeof t&&(e=e||"utf8",t=i.from(t,e));for(var n=this._block,r=this._blockSize,s=t.length,o=this._len,a=0;a<s;){for(var h=o%r,u=Math.min(s-a,r-h),l=0;l<u;l++)n[h+l]=t[a+l];a+=u,(o+=u)%r==0&&this._update(n)}return this._len+=s,this},n.prototype.digest=function(t){var e=this._len%this._blockSize;this._block[e]=128,this._block.fill(0,e+1),e>=this._finalSize&&(this._update(this._block),this._block.fill(0));var i=8*this._len;if(i<=4294967295)this._block.writeUInt32BE(i,this._blockSize-4);else{var n=(4294967295&i)>>>0,r=(i-n)/4294967296;this._block.writeUInt32BE(r,this._blockSize-8),this._block.writeUInt32BE(n,this._blockSize-4)}this._update(this._block);var s=this._hash();return t?s.toString(t):s},n.prototype._update=function(){throw new Error("_update must be implemented by subclass")},t.exports=n})),r.register("clQEv",(function(t,e){var i=r("bniia"),n=r("d9hQa"),s=r("4OiF0").Buffer,o=[1518500249,1859775393,-1894007588,-899497514],a=new Array(80);function h(){this.init(),this._w=a,n.call(this,64,56)}function u(t){return t<<5|t>>>27}function l(t){return t<<30|t>>>2}function c(t,e,i,n){return 0===t?e&i|~e&n:2===t?e&i|e&n|i&n:e^i^n}i(h,n),h.prototype.init=function(){return this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520,this},h.prototype._update=function(t){for(var e,i=this._w,n=0|this._a,r=0|this._b,s=0|this._c,a=0|this._d,h=0|this._e,d=0;d<16;++d)i[d]=t.readInt32BE(4*d);for(;d<80;++d)i[d]=(e=i[d-3]^i[d-8]^i[d-14]^i[d-16])<<1|e>>>31;for(var f=0;f<80;++f){var p=~~(f/20),m=u(n)+c(p,r,s,a)+h+i[f]+o[p]|0;h=a,a=s,s=l(r),r=n,n=m}this._a=n+this._a|0,this._b=r+this._b|0,this._c=s+this._c|0,this._d=a+this._d|0,this._e=h+this._e|0},h.prototype._hash=function(){var t=s.allocUnsafe(20);return t.writeInt32BE(0|this._a,0),t.writeInt32BE(0|this._b,4),t.writeInt32BE(0|this._c,8),t.writeInt32BE(0|this._d,12),t.writeInt32BE(0|this._e,16),t},t.exports=h})),r.register("61gwW",(function(t,e){var i=r("bniia"),n=r("e1mvm"),s=r("d9hQa"),o=r("4OiF0").Buffer,a=new Array(64);function h(){this.init(),this._w=a,s.call(this,64,56)}i(h,n),h.prototype.init=function(){return this._a=3238371032,this._b=914150663,this._c=812702999,this._d=4144912697,this._e=4290775857,this._f=1750603025,this._g=1694076839,this._h=3204075428,this},h.prototype._hash=function(){var t=o.allocUnsafe(28);return t.writeInt32BE(this._a,0),t.writeInt32BE(this._b,4),t.writeInt32BE(this._c,8),t.writeInt32BE(this._d,12),t.writeInt32BE(this._e,16),t.writeInt32BE(this._f,20),t.writeInt32BE(this._g,24),t},t.exports=h})),r.register("e1mvm",(function(t,e){var i=r("bniia"),n=r("d9hQa"),s=r("4OiF0").Buffer,o=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298],a=new Array(64);function h(){this.init(),this._w=a,n.call(this,64,56)}function u(t,e,i){return i^t&(e^i)}function l(t,e,i){return t&e|i&(t|e)}function c(t){return(t>>>2|t<<30)^(t>>>13|t<<19)^(t>>>22|t<<10)}function d(t){return(t>>>6|t<<26)^(t>>>11|t<<21)^(t>>>25|t<<7)}function f(t){return(t>>>7|t<<25)^(t>>>18|t<<14)^t>>>3}i(h,n),h.prototype.init=function(){return this._a=1779033703,this._b=3144134277,this._c=1013904242,this._d=2773480762,this._e=1359893119,this._f=2600822924,this._g=528734635,this._h=1541459225,this},h.prototype._update=function(t){for(var e,i=this._w,n=0|this._a,r=0|this._b,s=0|this._c,a=0|this._d,h=0|this._e,p=0|this._f,m=0|this._g,g=0|this._h,v=0;v<16;++v)i[v]=t.readInt32BE(4*v);for(;v<64;++v)i[v]=0|(((e=i[v-2])>>>17|e<<15)^(e>>>19|e<<13)^e>>>10)+i[v-7]+f(i[v-15])+i[v-16];for(var y=0;y<64;++y){var b=g+d(h)+u(h,p,m)+o[y]+i[y]|0,w=c(n)+l(n,r,s)|0;g=m,m=p,p=h,h=a+b|0,a=s,s=r,r=n,n=b+w|0}this._a=n+this._a|0,this._b=r+this._b|0,this._c=s+this._c|0,this._d=a+this._d|0,this._e=h+this._e|0,this._f=p+this._f|0,this._g=m+this._g|0,this._h=g+this._h|0},h.prototype._hash=function(){var t=s.allocUnsafe(32);return t.writeInt32BE(this._a,0),t.writeInt32BE(this._b,4),t.writeInt32BE(this._c,8),t.writeInt32BE(this._d,12),t.writeInt32BE(this._e,16),t.writeInt32BE(this._f,20),t.writeInt32BE(this._g,24),t.writeInt32BE(this._h,28),t},t.exports=h})),r.register("fg4RU",(function(t,e){var i=r("bniia"),n=r("g9xkA"),s=r("d9hQa"),o=r("4OiF0").Buffer,a=new Array(160);function h(){this.init(),this._w=a,s.call(this,128,112)}i(h,n),h.prototype.init=function(){return this._ah=3418070365,this._bh=1654270250,this._ch=2438529370,this._dh=355462360,this._eh=1731405415,this._fh=2394180231,this._gh=3675008525,this._hh=1203062813,this._al=3238371032,this._bl=914150663,this._cl=812702999,this._dl=4144912697,this._el=4290775857,this._fl=1750603025,this._gl=1694076839,this._hl=3204075428,this},h.prototype._hash=function(){var t=o.allocUnsafe(48);function e(e,i,n){t.writeInt32BE(e,n),t.writeInt32BE(i,n+4)}return e(this._ah,this._al,0),e(this._bh,this._bl,8),e(this._ch,this._cl,16),e(this._dh,this._dl,24),e(this._eh,this._el,32),e(this._fh,this._fl,40),t},t.exports=h})),r.register("g9xkA",(function(t,e){var i=r("bniia"),n=r("d9hQa"),s=r("4OiF0").Buffer,o=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591],a=new Array(160);function h(){this.init(),this._w=a,n.call(this,128,112)}function u(t,e,i){return i^t&(e^i)}function l(t,e,i){return t&e|i&(t|e)}function c(t,e){return(t>>>28|e<<4)^(e>>>2|t<<30)^(e>>>7|t<<25)}function d(t,e){return(t>>>14|e<<18)^(t>>>18|e<<14)^(e>>>9|t<<23)}function f(t,e){return(t>>>1|e<<31)^(t>>>8|e<<24)^t>>>7}function p(t,e){return(t>>>1|e<<31)^(t>>>8|e<<24)^(t>>>7|e<<25)}function m(t,e){return(t>>>19|e<<13)^(e>>>29|t<<3)^t>>>6}function g(t,e){return(t>>>19|e<<13)^(e>>>29|t<<3)^(t>>>6|e<<26)}function v(t,e){return t>>>0<e>>>0?1:0}i(h,n),h.prototype.init=function(){return this._ah=1779033703,this._bh=3144134277,this._ch=1013904242,this._dh=2773480762,this._eh=1359893119,this._fh=2600822924,this._gh=528734635,this._hh=1541459225,this._al=4089235720,this._bl=2227873595,this._cl=4271175723,this._dl=1595750129,this._el=2917565137,this._fl=725511199,this._gl=4215389547,this._hl=327033209,this},h.prototype._update=function(t){for(var e=this._w,i=0|this._ah,n=0|this._bh,r=0|this._ch,s=0|this._dh,a=0|this._eh,h=0|this._fh,y=0|this._gh,b=0|this._hh,w=0|this._al,_=0|this._bl,M=0|this._cl,A=0|this._dl,k=0|this._el,E=0|this._fl,x=0|this._gl,S=0|this._hl,T=0;T<32;T+=2)e[T]=t.readInt32BE(4*T),e[T+1]=t.readInt32BE(4*T+4);for(;T<160;T+=2){var I=e[T-30],q=e[T-30+1],R=f(I,q),C=p(q,I),N=m(I=e[T-4],q=e[T-4+1]),L=g(q,I),D=e[T-14],O=e[T-14+1],B=e[T-32],P=e[T-32+1],U=C+O|0,F=R+D+v(U,C)|0;F=(F=F+N+v(U=U+L|0,L)|0)+B+v(U=U+P|0,P)|0,e[T]=F,e[T+1]=U}for(var j=0;j<160;j+=2){F=e[j],U=e[j+1];var z=l(i,n,r),V=l(w,_,M),H=c(i,w),K=c(w,i),G=d(a,k),W=d(k,a),Q=o[j],$=o[j+1],Z=u(a,h,y),Y=u(k,E,x),X=S+W|0,J=b+G+v(X,S)|0;J=(J=(J=J+Z+v(X=X+Y|0,Y)|0)+Q+v(X=X+$|0,$)|0)+F+v(X=X+U|0,U)|0;var tt=K+V|0,et=H+z+v(tt,K)|0;b=y,S=x,y=h,x=E,h=a,E=k,a=s+J+v(k=A+X|0,A)|0,s=r,A=M,r=n,M=_,n=i,_=w,i=J+et+v(w=X+tt|0,X)|0}this._al=this._al+w|0,this._bl=this._bl+_|0,this._cl=this._cl+M|0,this._dl=this._dl+A|0,this._el=this._el+k|0,this._fl=this._fl+E|0,this._gl=this._gl+x|0,this._hl=this._hl+S|0,this._ah=this._ah+i+v(this._al,w)|0,this._bh=this._bh+n+v(this._bl,_)|0,this._ch=this._ch+r+v(this._cl,M)|0,this._dh=this._dh+s+v(this._dl,A)|0,this._eh=this._eh+a+v(this._el,k)|0,this._fh=this._fh+h+v(this._fl,E)|0,this._gh=this._gh+y+v(this._gl,x)|0,this._hh=this._hh+b+v(this._hl,S)|0},h.prototype._hash=function(){var t=s.allocUnsafe(64);function e(e,i,n){t.writeInt32BE(e,n),t.writeInt32BE(i,n+4)}return e(this._ah,this._al,0),e(this._bh,this._bl,8),e(this._ch,this._cl,16),e(this._dh,this._dl,24),e(this._eh,this._el,32),e(this._fh,this._fl,40),e(this._gh,this._gl,48),e(this._hh,this._hl,56),t},t.exports=h})),r.register("7fR9R",(function(t,e){var i=r("4OiF0").Buffer,n=r("9nTep").Transform,s=r("eJDLo").StringDecoder;function o(t){n.call(this),this.hashMode="string"==typeof t,this.hashMode?this[t]=this._finalOrDigest:this.final=this._finalOrDigest,this._final&&(this.__final=this._final,this._final=null),this._decoder=null,this._encoding=null}r("bniia")(o,n),o.prototype.update=function(t,e,n){"string"==typeof t&&(t=i.from(t,e));var r=this._update(t);return this.hashMode?this:(n&&(r=this._toString(r,n)),r)},o.prototype.setAutoPadding=function(){},o.prototype.getAuthTag=function(){throw new Error("trying to get auth tag in unsupported state")},o.prototype.setAuthTag=function(){throw new Error("trying to set auth tag in unsupported state")},o.prototype.setAAD=function(){throw new Error("trying to set aad in unsupported state")},o.prototype._transform=function(t,e,i){var n;try{this.hashMode?this._update(t):this.push(this._update(t))}catch(t){n=t}finally{i(n)}},o.prototype._flush=function(t){var e;try{this.push(this.__final())}catch(t){e=t}t(e)},o.prototype._finalOrDigest=function(t){var e=this.__final()||i.alloc(0);return t&&(e=this._toString(e,t,!0)),e},o.prototype._toString=function(t,e,i){if(this._decoder||(this._decoder=new s(e),this._encoding=e),this._encoding!==e)throw new Error("can't switch encodings");var n=this._decoder.write(t);return i&&(n+=this._decoder.end()),n},t.exports=o})),r.register("9nTep",(function(t,e){t.exports=n;var i=r("fPnTa").EventEmitter;function n(){i.call(this)}r("bniia")(n,i),n.Readable=r("kNz6F"),n.Writable=r("2Fm12"),n.Duplex=r("j8rHA"),n.Transform=r("8ICBy"),n.PassThrough=r("JwlC1"),n.finished=r("ft4HP"),n.pipeline=r("5bCTn"),n.Stream=n,n.prototype.pipe=function(t,e){var n=this;function r(e){t.writable&&!1===t.write(e)&&n.pause&&n.pause()}function s(){n.readable&&n.resume&&n.resume()}n.on("data",r),t.on("drain",s),t._isStdio||e&&!1===e.end||(n.on("end",a),n.on("close",h));var o=!1;function a(){o||(o=!0,t.end())}function h(){o||(o=!0,"function"==typeof t.destroy&&t.destroy())}function u(t){if(l(),0===i.listenerCount(this,"error"))throw t}function l(){n.removeListener("data",r),t.removeListener("drain",s),n.removeListener("end",a),n.removeListener("close",h),n.removeListener("error",u),t.removeListener("error",u),n.removeListener("end",l),n.removeListener("close",l),t.removeListener("close",l)}return n.on("error",u),t.on("error",u),n.on("end",l),n.on("close",l),t.on("close",l),t.emit("pipe",n),t}})),r.register("arZPn",(function(t,e){var i=r("bniia"),n=r("A050z"),s=r("7fR9R"),o=r("4OiF0").Buffer,a=r("1SGN9"),h=r("1JYNO"),u=r("1eplY"),l=o.alloc(128);function c(t,e){s.call(this,"digest"),"string"==typeof e&&(e=o.from(e));var i="sha512"===t||"sha384"===t?128:64;(this._alg=t,this._key=e,e.length>i)?e=("rmd160"===t?new h:u(t)).update(e).digest():e.length<i&&(e=o.concat([e,l],i));for(var n=this._ipad=o.allocUnsafe(i),r=this._opad=o.allocUnsafe(i),a=0;a<i;a++)n[a]=54^e[a],r[a]=92^e[a];this._hash="rmd160"===t?new h:u(t),this._hash.update(n)}i(c,s),c.prototype._update=function(t){this._hash.update(t)},c.prototype._final=function(){var t=this._hash.digest();return("rmd160"===this._alg?new h:u(this._alg)).update(this._opad).update(t).digest()},t.exports=function(t,e){return"rmd160"===(t=t.toLowerCase())||"ripemd160"===t?new c("rmd160",e):"md5"===t?new n(a,e):new c(t,e)}})),r.register("A050z",(function(t,e){var i=r("bniia"),n=r("4OiF0").Buffer,s=r("7fR9R"),o=n.alloc(128),a=64;function h(t,e){s.call(this,"digest"),"string"==typeof e&&(e=n.from(e)),this._alg=t,this._key=e,e.length>a?e=t(e):e.length<a&&(e=n.concat([e,o],a));for(var i=this._ipad=n.allocUnsafe(a),r=this._opad=n.allocUnsafe(a),h=0;h<a;h++)i[h]=54^e[h],r[h]=92^e[h];this._hash=[i]}i(h,s),h.prototype._update=function(t){this._hash.push(t)},h.prototype._final=function(){var t=this._alg(n.concat(this._hash));return this._alg(n.concat([this._opad,t]))},t.exports=h})),r.register("1SGN9",(function(t,e){var i=r("eXAjQ");t.exports=function(t){return(new i).update(t).digest()}})),r.register("luisd",(function(t,e){t.exports=r("6rTx5")})),r.register("6rTx5",(function(t,e){t.exports=JSON.parse('{"sha224WithRSAEncryption":{"sign":"rsa","hash":"sha224","id":"302d300d06096086480165030402040500041c"},"RSA-SHA224":{"sign":"ecdsa/rsa","hash":"sha224","id":"302d300d06096086480165030402040500041c"},"sha256WithRSAEncryption":{"sign":"rsa","hash":"sha256","id":"3031300d060960864801650304020105000420"},"RSA-SHA256":{"sign":"ecdsa/rsa","hash":"sha256","id":"3031300d060960864801650304020105000420"},"sha384WithRSAEncryption":{"sign":"rsa","hash":"sha384","id":"3041300d060960864801650304020205000430"},"RSA-SHA384":{"sign":"ecdsa/rsa","hash":"sha384","id":"3041300d060960864801650304020205000430"},"sha512WithRSAEncryption":{"sign":"rsa","hash":"sha512","id":"3051300d060960864801650304020305000440"},"RSA-SHA512":{"sign":"ecdsa/rsa","hash":"sha512","id":"3051300d060960864801650304020305000440"},"RSA-SHA1":{"sign":"rsa","hash":"sha1","id":"3021300906052b0e03021a05000414"},"ecdsa-with-SHA1":{"sign":"ecdsa","hash":"sha1","id":""},"sha256":{"sign":"ecdsa","hash":"sha256","id":""},"sha224":{"sign":"ecdsa","hash":"sha224","id":""},"sha384":{"sign":"ecdsa","hash":"sha384","id":""},"sha512":{"sign":"ecdsa","hash":"sha512","id":""},"DSA-SHA":{"sign":"dsa","hash":"sha1","id":""},"DSA-SHA1":{"sign":"dsa","hash":"sha1","id":""},"DSA":{"sign":"dsa","hash":"sha1","id":""},"DSA-WITH-SHA224":{"sign":"dsa","hash":"sha224","id":""},"DSA-SHA224":{"sign":"dsa","hash":"sha224","id":""},"DSA-WITH-SHA256":{"sign":"dsa","hash":"sha256","id":""},"DSA-SHA256":{"sign":"dsa","hash":"sha256","id":""},"DSA-WITH-SHA384":{"sign":"dsa","hash":"sha384","id":""},"DSA-SHA384":{"sign":"dsa","hash":"sha384","id":""},"DSA-WITH-SHA512":{"sign":"dsa","hash":"sha512","id":""},"DSA-SHA512":{"sign":"dsa","hash":"sha512","id":""},"DSA-RIPEMD160":{"sign":"dsa","hash":"rmd160","id":""},"ripemd160WithRSA":{"sign":"rsa","hash":"rmd160","id":"3021300906052b2403020105000414"},"RSA-RIPEMD160":{"sign":"rsa","hash":"rmd160","id":"3021300906052b2403020105000414"},"md5WithRSAEncryption":{"sign":"rsa","hash":"md5","id":"3020300c06082a864886f70d020505000410"},"RSA-MD5":{"sign":"rsa","hash":"md5","id":"3020300c06082a864886f70d020505000410"}}')})),r.register("ellmV",(function(e,i){var n,s;t(e.exports,"pbkdf2",(()=>n),(t=>n=t)),t(e.exports,"pbkdf2Sync",(()=>s),(t=>s=t)),n=r("eRp7M"),s=r("51RDi")})),r.register("eRp7M",(function(t,i){var n,s,o=r("4OiF0").Buffer,a=r("hKPt4"),h=r("2Vyyl"),u=r("51RDi"),l=r("f41UR"),c=e.crypto&&e.crypto.subtle,d={sha:"SHA-1","sha-1":"SHA-1",sha1:"SHA-1",sha256:"SHA-256","sha-256":"SHA-256",sha384:"SHA-384","sha-384":"SHA-384","sha-512":"SHA-512",sha512:"SHA-512"},f=[];function p(){return s||(s=e.process&&e.process.nextTick?e.process.nextTick:e.queueMicrotask?e.queueMicrotask:e.setImmediate?e.setImmediate:e.setTimeout)}function m(t,e,i,n,r){return c.importKey("raw",t,{name:"PBKDF2"},!1,["deriveBits"]).then((function(t){return c.deriveBits({name:"PBKDF2",salt:e,iterations:i,hash:{name:r}},t,n<<3)})).then((function(t){return o.from(t)}))}t.exports=function(t,i,r,s,g,v){"function"==typeof g&&(v=g,g=void 0);var y=d[(g=g||"sha1").toLowerCase()];if(y&&"function"==typeof e.Promise){if(a(r,s),t=l(t,h,"Password"),i=l(i,h,"Salt"),"function"!=typeof v)throw new Error("No callback provided to pbkdf2");!function(t,e){t.then((function(t){p()((function(){e(null,t)}))}),(function(t){p()((function(){e(t)}))}))}(function(t){if(e.process&&!e.process.browser)return Promise.resolve(!1);if(!c||!c.importKey||!c.deriveBits)return Promise.resolve(!1);if(void 0!==f[t])return f[t];var i=m(n=n||o.alloc(8),n,10,128,t).then((function(){return!0})).catch((function(){return!1}));return f[t]=i,i}(y).then((function(e){return e?m(t,i,r,s,y):u(t,i,r,s,g)})),v)}else p()((function(){var e;try{e=u(t,i,r,s,g)}catch(t){return v(t)}v(null,e)}))}})),r.register("hKPt4",(function(t,e){var i=Math.pow(2,30)-1;t.exports=function(t,e){if("number"!=typeof t)throw new TypeError("Iterations not a number");if(t<0)throw new TypeError("Bad iterations");if("number"!=typeof e)throw new TypeError("Key length not a number");if(e<0||e>i||e!=e)throw new TypeError("Bad key length")}})),r.register("2Vyyl",(function(t,i){var n,s=r("ajwPf");if(e.process&&e.process.browser)n="utf-8";else if(e.process&&e.process.version){n=parseInt(s.version.split(".")[0].slice(1),10)>=6?"utf-8":"binary"}else n="utf-8";t.exports=n})),r.register("51RDi",(function(t,e){var i=r("1SGN9"),n=r("1JYNO"),s=r("1eplY"),o=r("4OiF0").Buffer,a=r("hKPt4"),h=r("2Vyyl"),u=r("f41UR"),l=o.alloc(128),c={md5:16,sha1:20,sha224:28,sha256:32,sha384:48,sha512:64,rmd160:20,ripemd160:20};function d(t,e,r){var a=function(t){function e(e){return s(t).update(e).digest()}function r(t){return(new n).update(t).digest()}return"rmd160"===t||"ripemd160"===t?r:"md5"===t?i:e}(t),h="sha512"===t||"sha384"===t?128:64;e.length>h?e=a(e):e.length<h&&(e=o.concat([e,l],h));for(var u=o.allocUnsafe(h+c[t]),d=o.allocUnsafe(h+c[t]),f=0;f<h;f++)u[f]=54^e[f],d[f]=92^e[f];var p=o.allocUnsafe(h+r+4);u.copy(p,0,0,h),this.ipad1=p,this.ipad2=u,this.opad=d,this.alg=t,this.blocksize=h,this.hash=a,this.size=c[t]}d.prototype.run=function(t,e){return t.copy(e,this.blocksize),this.hash(e).copy(this.opad,this.blocksize),this.hash(this.opad)},t.exports=function(t,e,i,n,r){a(i,n);var s=new d(r=r||"sha1",t=u(t,h,"Password"),(e=u(e,h,"Salt")).length),l=o.allocUnsafe(n),f=o.allocUnsafe(e.length+4);e.copy(f,0,0,e.length);for(var p=0,m=c[r],g=Math.ceil(n/m),v=1;v<=g;v++){f.writeUInt32BE(v,e.length);for(var y=s.run(f,s.ipad1),b=y,w=1;w<i;w++){b=s.run(b,s.ipad2);for(var _=0;_<m;_++)y[_]^=b[_]}y.copy(l,p),p+=m}return l}})),r.register("f41UR",(function(t,e){var i=r("4OiF0").Buffer;t.exports=function(t,e,n){if(i.isBuffer(t))return t;if("string"==typeof t)return i.from(t,e);if(ArrayBuffer.isView(t))return i.from(t.buffer);throw new TypeError(n+" must be a string, a Buffer, a typed array or a DataView")}})),r.register("gfQS5",(function(e,i){var n,s,o,a,h,u,l,c,d,f;t(e.exports,"createCipher",(()=>n),(t=>n=t)),t(e.exports,"Cipher",(()=>s),(t=>s=t)),t(e.exports,"createCipheriv",(()=>o),(t=>o=t)),t(e.exports,"Cipheriv",(()=>a),(t=>a=t)),t(e.exports,"createDecipher",(()=>h),(t=>h=t)),t(e.exports,"Decipher",(()=>u),(t=>u=t)),t(e.exports,"createDecipheriv",(()=>l),(t=>l=t)),t(e.exports,"Decipheriv",(()=>c),(t=>c=t)),t(e.exports,"listCiphers",(()=>d),(t=>d=t)),t(e.exports,"getCiphers",(()=>f),(t=>f=t));var p=r("aGKUV"),m=r("2JnZq"),g=r("hATs4"),v=r("lGzCO"),y=r("cthQ7");function b(t,e,i){if(t=t.toLowerCase(),g[t])return m.createCipheriv(t,e,i);if(v[t])return new p({key:e,iv:i,mode:t});throw new TypeError("invalid suite type")}function w(t,e,i){if(t=t.toLowerCase(),g[t])return m.createDecipheriv(t,e,i);if(v[t])return new p({key:e,iv:i,mode:t,decrypt:!0});throw new TypeError("invalid suite type")}n=s=function(t,e){var i,n;if(t=t.toLowerCase(),g[t])i=g[t].key,n=g[t].iv;else{if(!v[t])throw new TypeError("invalid suite type");i=8*v[t].key,n=v[t].iv}var r=y(e,!1,i,n);return b(t,r.key,r.iv)},o=a=b,h=u=function(t,e){var i,n;if(t=t.toLowerCase(),g[t])i=g[t].key,n=g[t].iv;else{if(!v[t])throw new TypeError("invalid suite type");i=8*v[t].key,n=v[t].iv}var r=y(e,!1,i,n);return w(t,r.key,r.iv)},l=c=w,d=f=function(){return Object.keys(v).concat(m.getCiphers())}})),r.register("aGKUV",(function(t,e){var i=r("7fR9R"),n=r("3lt2x"),s=r("bniia"),o=r("4OiF0").Buffer,a={"des-ede3-cbc":n.CBC.instantiate(n.EDE),"des-ede3":n.EDE,"des-ede-cbc":n.CBC.instantiate(n.EDE),"des-ede":n.EDE,"des-cbc":n.CBC.instantiate(n.DES),"des-ecb":n.DES};function h(t){i.call(this);var e,n=t.mode.toLowerCase(),r=a[n];e=t.decrypt?"decrypt":"encrypt";var s=t.key;o.isBuffer(s)||(s=o.from(s)),"des-ede"!==n&&"des-ede-cbc"!==n||(s=o.concat([s,s.slice(0,8)]));var h=t.iv;o.isBuffer(h)||(h=o.from(h)),this._des=r.create({key:s,iv:h,type:e})}a.des=a["des-cbc"],a.des3=a["des-ede3-cbc"],t.exports=h,s(h,i),h.prototype._update=function(t){return o.from(this._des.update(t))},h.prototype._final=function(){return o.from(this._des.final())}})),r.register("3lt2x",(function(e,i){var n,s,o;t(e.exports,"DES",(()=>n),(t=>n=t)),t(e.exports,"CBC",(()=>s),(t=>s=t)),t(e.exports,"EDE",(()=>o),(t=>o=t)),r("iFbrB"),r("jzGYd"),n=r("gXbM9"),s=r("6Pi5A"),o=r("aUE1e")})),r.register("iFbrB",(function(e,i){var n,r,s,o,a,h,u,l,c,d,f;t(e.exports,"readUInt32BE",(()=>n),(t=>n=t)),t(e.exports,"writeUInt32BE",(()=>r),(t=>r=t)),t(e.exports,"ip",(()=>s),(t=>s=t)),t(e.exports,"rip",(()=>o),(t=>o=t)),t(e.exports,"pc1",(()=>a),(t=>a=t)),t(e.exports,"r28shl",(()=>h),(t=>h=t)),t(e.exports,"pc2",(()=>u),(t=>u=t)),t(e.exports,"expand",(()=>l),(t=>l=t)),t(e.exports,"substitute",(()=>c),(t=>c=t)),t(e.exports,"permute",(()=>d),(t=>d=t)),t(e.exports,"padSplit",(()=>f),(t=>f=t)),n=function(t,e){return(t[0+e]<<24|t[1+e]<<16|t[2+e]<<8|t[3+e])>>>0},r=function(t,e,i){t[0+i]=e>>>24,t[1+i]=e>>>16&255,t[2+i]=e>>>8&255,t[3+i]=255&e},s=function(t,e,i,n){for(var r=0,s=0,o=6;o>=0;o-=2){for(var a=0;a<=24;a+=8)r<<=1,r|=e>>>a+o&1;for(a=0;a<=24;a+=8)r<<=1,r|=t>>>a+o&1}for(o=6;o>=0;o-=2){for(a=1;a<=25;a+=8)s<<=1,s|=e>>>a+o&1;for(a=1;a<=25;a+=8)s<<=1,s|=t>>>a+o&1}i[n+0]=r>>>0,i[n+1]=s>>>0},o=function(t,e,i,n){for(var r=0,s=0,o=0;o<4;o++)for(var a=24;a>=0;a-=8)r<<=1,r|=e>>>a+o&1,r<<=1,r|=t>>>a+o&1;for(o=4;o<8;o++)for(a=24;a>=0;a-=8)s<<=1,s|=e>>>a+o&1,s<<=1,s|=t>>>a+o&1;i[n+0]=r>>>0,i[n+1]=s>>>0},a=function(t,e,i,n){for(var r=0,s=0,o=7;o>=5;o--){for(var a=0;a<=24;a+=8)r<<=1,r|=e>>a+o&1;for(a=0;a<=24;a+=8)r<<=1,r|=t>>a+o&1}for(a=0;a<=24;a+=8)r<<=1,r|=e>>a+o&1;for(o=1;o<=3;o++){for(a=0;a<=24;a+=8)s<<=1,s|=e>>a+o&1;for(a=0;a<=24;a+=8)s<<=1,s|=t>>a+o&1}for(a=0;a<=24;a+=8)s<<=1,s|=t>>a+o&1;i[n+0]=r>>>0,i[n+1]=s>>>0},h=function(t,e){return t<<e&268435455|t>>>28-e};var p=[14,11,17,4,27,23,25,0,13,22,7,18,5,9,16,24,2,20,12,21,1,8,15,26,15,4,25,19,9,1,26,16,5,11,23,8,12,7,17,0,22,3,10,14,6,20,27,24];u=function(t,e,i,n){for(var r=0,s=0,o=p.length>>>1,a=0;a<o;a++)r<<=1,r|=t>>>p[a]&1;for(a=o;a<p.length;a++)s<<=1,s|=e>>>p[a]&1;i[n+0]=r>>>0,i[n+1]=s>>>0},l=function(t,e,i){var n=0,r=0;n=(1&t)<<5|t>>>27;for(var s=23;s>=15;s-=4)n<<=6,n|=t>>>s&63;for(s=11;s>=3;s-=4)r|=t>>>s&63,r<<=6;r|=(31&t)<<1|t>>>31,e[i+0]=n>>>0,e[i+1]=r>>>0};var m=[14,0,4,15,13,7,1,4,2,14,15,2,11,13,8,1,3,10,10,6,6,12,12,11,5,9,9,5,0,3,7,8,4,15,1,12,14,8,8,2,13,4,6,9,2,1,11,7,15,5,12,11,9,3,7,14,3,10,10,0,5,6,0,13,15,3,1,13,8,4,14,7,6,15,11,2,3,8,4,14,9,12,7,0,2,1,13,10,12,6,0,9,5,11,10,5,0,13,14,8,7,10,11,1,10,3,4,15,13,4,1,2,5,11,8,6,12,7,6,12,9,0,3,5,2,14,15,9,10,13,0,7,9,0,14,9,6,3,3,4,15,6,5,10,1,2,13,8,12,5,7,14,11,12,4,11,2,15,8,1,13,1,6,10,4,13,9,0,8,6,15,9,3,8,0,7,11,4,1,15,2,14,12,3,5,11,10,5,14,2,7,12,7,13,13,8,14,11,3,5,0,6,6,15,9,0,10,3,1,4,2,7,8,2,5,12,11,1,12,10,4,14,15,9,10,3,6,15,9,0,0,6,12,10,11,1,7,13,13,8,15,9,1,4,3,5,14,11,5,12,2,7,8,2,4,14,2,14,12,11,4,2,1,12,7,4,10,7,11,13,6,1,8,5,5,0,3,15,15,10,13,3,0,9,14,8,9,6,4,11,2,8,1,12,11,7,10,1,13,14,7,2,8,13,15,6,9,15,12,0,5,9,6,10,3,4,0,5,14,3,12,10,1,15,10,4,15,2,9,7,2,12,6,9,8,5,0,6,13,1,3,13,4,14,14,0,7,11,5,3,11,8,9,4,14,3,15,2,5,12,2,9,8,5,12,15,3,10,7,11,0,14,4,1,10,7,1,6,13,0,11,8,6,13,4,13,11,0,2,11,14,7,15,4,0,9,8,1,13,10,3,14,12,3,9,5,7,12,5,2,10,15,6,8,1,6,1,6,4,11,11,13,13,8,12,1,3,4,7,10,14,7,10,9,15,5,6,0,8,15,0,14,5,2,9,3,2,12,13,1,2,15,8,13,4,8,6,10,15,3,11,7,1,4,10,12,9,5,3,6,14,11,5,0,0,14,12,9,7,2,7,2,11,1,4,14,1,7,9,4,12,10,14,8,2,13,0,15,6,12,10,9,13,0,15,3,3,5,5,6,8,11];c=function(t,e){for(var i=0,n=0;n<4;n++){i<<=4,i|=m[64*n+(t>>>18-6*n&63)]}for(n=0;n<4;n++){i<<=4,i|=m[256+64*n+(e>>>18-6*n&63)]}return i>>>0};var g=[16,25,12,11,3,20,4,15,31,17,9,6,27,14,1,22,30,24,8,18,0,5,29,23,13,19,2,26,10,21,28,7];d=function(t){for(var e=0,i=0;i<g.length;i++)e<<=1,e|=t>>>g[i]&1;return e>>>0},f=function(t,e,i){for(var n=t.toString(2);n.length<e;)n="0"+n;for(var r=[],s=0;s<e;s+=i)r.push(n.slice(s,s+i));return r.join(" ")}})),r.register("jzGYd",(function(t,e){var i=r("bNW2d");function n(t){this.options=t,this.type=this.options.type,this.blockSize=8,this._init(),this.buffer=new Array(this.blockSize),this.bufferOff=0}t.exports=n,n.prototype._init=function(){},n.prototype.update=function(t){return 0===t.length?[]:"decrypt"===this.type?this._updateDecrypt(t):this._updateEncrypt(t)},n.prototype._buffer=function(t,e){for(var i=Math.min(this.buffer.length-this.bufferOff,t.length-e),n=0;n<i;n++)this.buffer[this.bufferOff+n]=t[e+n];return this.bufferOff+=i,i},n.prototype._flushBuffer=function(t,e){return this._update(this.buffer,0,t,e),this.bufferOff=0,this.blockSize},n.prototype._updateEncrypt=function(t){var e=0,i=0,n=(this.bufferOff+t.length)/this.blockSize|0,r=new Array(n*this.blockSize);0!==this.bufferOff&&(e+=this._buffer(t,e),this.bufferOff===this.buffer.length&&(i+=this._flushBuffer(r,i)));for(var s=t.length-(t.length-e)%this.blockSize;e<s;e+=this.blockSize)this._update(t,e,r,i),i+=this.blockSize;for(;e<t.length;e++,this.bufferOff++)this.buffer[this.bufferOff]=t[e];return r},n.prototype._updateDecrypt=function(t){for(var e=0,i=0,n=Math.ceil((this.bufferOff+t.length)/this.blockSize)-1,r=new Array(n*this.blockSize);n>0;n--)e+=this._buffer(t,e),i+=this._flushBuffer(r,i);return e+=this._buffer(t,e),r},n.prototype.final=function(t){var e,i;return t&&(e=this.update(t)),i="encrypt"===this.type?this._finalEncrypt():this._finalDecrypt(),e?e.concat(i):i},n.prototype._pad=function(t,e){if(0===e)return!1;for(;e<t.length;)t[e++]=0;return!0},n.prototype._finalEncrypt=function(){if(!this._pad(this.buffer,this.bufferOff))return[];var t=new Array(this.blockSize);return this._update(this.buffer,0,t,0),t},n.prototype._unpad=function(t){return t},n.prototype._finalDecrypt=function(){i.equal(this.bufferOff,this.blockSize,"Not enough data to decrypt");var t=new Array(this.blockSize);return this._flushBuffer(t,0),this._unpad(t)}})),r.register("bNW2d",(function(t,e){function i(t,e){if(!t)throw new Error(e||"Assertion failed")}t.exports=i,i.equal=function(t,e,i){if(t!=e)throw new Error(i||"Assertion failed: "+t+" != "+e)}})),r.register("gXbM9",(function(t,e){var i=r("bNW2d"),n=r("bniia"),s=r("iFbrB"),o=r("jzGYd");function a(){this.tmp=new Array(2),this.keys=null}function h(t){o.call(this,t);var e=new a;this._desState=e,this.deriveKeys(e,t.key)}n(h,o),t.exports=h,h.create=function(t){return new h(t)};var u=[1,1,2,2,2,2,2,2,1,2,2,2,2,2,2,1];h.prototype.deriveKeys=function(t,e){t.keys=new Array(32),i.equal(e.length,this.blockSize,"Invalid key length");var n=s.readUInt32BE(e,0),r=s.readUInt32BE(e,4);s.pc1(n,r,t.tmp,0),n=t.tmp[0],r=t.tmp[1];for(var o=0;o<t.keys.length;o+=2){var a=u[o>>>1];n=s.r28shl(n,a),r=s.r28shl(r,a),s.pc2(n,r,t.keys,o)}},h.prototype._update=function(t,e,i,n){var r=this._desState,o=s.readUInt32BE(t,e),a=s.readUInt32BE(t,e+4);s.ip(o,a,r.tmp,0),o=r.tmp[0],a=r.tmp[1],"encrypt"===this.type?this._encrypt(r,o,a,r.tmp,0):this._decrypt(r,o,a,r.tmp,0),o=r.tmp[0],a=r.tmp[1],s.writeUInt32BE(i,o,n),s.writeUInt32BE(i,a,n+4)},h.prototype._pad=function(t,e){for(var i=t.length-e,n=e;n<t.length;n++)t[n]=i;return!0},h.prototype._unpad=function(t){for(var e=t[t.length-1],n=t.length-e;n<t.length;n++)i.equal(t[n],e);return t.slice(0,t.length-e)},h.prototype._encrypt=function(t,e,i,n,r){for(var o=e,a=i,h=0;h<t.keys.length;h+=2){var u=t.keys[h],l=t.keys[h+1];s.expand(a,t.tmp,0),u^=t.tmp[0],l^=t.tmp[1];var c=s.substitute(u,l),d=a;a=(o^s.permute(c))>>>0,o=d}s.rip(a,o,n,r)},h.prototype._decrypt=function(t,e,i,n,r){for(var o=i,a=e,h=t.keys.length-2;h>=0;h-=2){var u=t.keys[h],l=t.keys[h+1];s.expand(o,t.tmp,0),u^=t.tmp[0],l^=t.tmp[1];var c=s.substitute(u,l),d=o;o=(a^s.permute(c))>>>0,a=d}s.rip(o,a,n,r)}})),r.register("6Pi5A",(function(e,i){var n;t(e.exports,"instantiate",(()=>n),(t=>n=t));var s=r("bNW2d"),o=r("bniia"),a={};function h(t){s.equal(t.length,8,"Invalid IV length"),this.iv=new Array(8);for(var e=0;e<this.iv.length;e++)this.iv[e]=t[e]}n=function(t){function e(e){t.call(this,e),this._cbcInit()}o(e,t);for(var i=Object.keys(a),n=0;n<i.length;n++){var r=i[n];e.prototype[r]=a[r]}return e.create=function(t){return new e(t)},e},a._cbcInit=function(){var t=new h(this.options.iv);this._cbcState=t},a._update=function(t,e,i,n){var r=this._cbcState,s=this.constructor.super_.prototype,o=r.iv;if("encrypt"===this.type){for(var a=0;a<this.blockSize;a++)o[a]^=t[e+a];s._update.call(this,o,0,i,n);for(a=0;a<this.blockSize;a++)o[a]=i[n+a]}else{s._update.call(this,t,e,i,n);for(a=0;a<this.blockSize;a++)i[n+a]^=o[a];for(a=0;a<this.blockSize;a++)o[a]=t[e+a]}}})),r.register("aUE1e",(function(t,e){var i=r("bNW2d"),n=r("bniia"),s=r("jzGYd"),o=r("gXbM9");function a(t,e){i.equal(e.length,24,"Invalid key length");var n=e.slice(0,8),r=e.slice(8,16),s=e.slice(16,24);this.ciphers="encrypt"===t?[o.create({type:"encrypt",key:n}),o.create({type:"decrypt",key:r}),o.create({type:"encrypt",key:s})]:[o.create({type:"decrypt",key:s}),o.create({type:"encrypt",key:r}),o.create({type:"decrypt",key:n})]}function h(t){s.call(this,t);var e=new a(this.type,this.options.key);this._edeState=e}n(h,s),t.exports=h,h.create=function(t){return new h(t)},h.prototype._update=function(t,e,i,n){var r=this._edeState;r.ciphers[0]._update(t,e,i,n),r.ciphers[1]._update(i,n,i,n),r.ciphers[2]._update(i,n,i,n)},h.prototype._pad=o.prototype._pad,h.prototype._unpad=o.prototype._unpad})),r.register("2JnZq",(function(e,i){var n,s,o;t(e.exports,"createCipheriv",(()=>n),(t=>n=t)),t(e.exports,"createDecipheriv",(()=>s),(t=>s=t)),t(e.exports,"getCiphers",(()=>o),(t=>o=t));var a=r("6ILRy"),h=r("iccu4"),u=r("l3VQd");a.createCipher,n=a.createCipheriv,h.createDecipher,s=h.createDecipheriv,o=function(){return Object.keys(u)}})),r.register("6ILRy",(function(e,i){var n,s;t(e.exports,"createCipheriv",(()=>n),(t=>n=t)),t(e.exports,"createCipher",(()=>s),(t=>s=t));var o=r("hATs4"),a=r("1wbtR"),h=r("4OiF0").Buffer,u=r("jwQyu"),l=r("7fR9R"),c=r("1eFE8"),d=r("cthQ7");function f(t,e,i){l.call(this),this._cache=new m,this._cipher=new c.AES(e),this._prev=h.from(i),this._mode=t,this._autopadding=!0}r("bniia")(f,l),f.prototype._update=function(t){var e,i;this._cache.add(t);for(var n=[];e=this._cache.get();)i=this._mode.encrypt(this,e),n.push(i);return h.concat(n)};var p=h.alloc(16,16);function m(){this.cache=h.allocUnsafe(0)}function g(t,e,i){var n=o[t.toLowerCase()];if(!n)throw new TypeError("invalid suite type");if("string"==typeof e&&(e=h.from(e)),e.length!==n.key/8)throw new TypeError("invalid key length "+e.length);if("string"==typeof i&&(i=h.from(i)),"GCM"!==n.mode&&i.length!==n.iv)throw new TypeError("invalid iv length "+i.length);return"stream"===n.type?new u(n.module,e,i):"auth"===n.type?new a(n.module,e,i):new f(n.module,e,i)}f.prototype._final=function(){var t=this._cache.flush();if(this._autopadding)return t=this._mode.encrypt(this,t),this._cipher.scrub(),t;if(!t.equals(p))throw this._cipher.scrub(),new Error("data not multiple of block length")},f.prototype.setAutoPadding=function(t){return this._autopadding=!!t,this},m.prototype.add=function(t){this.cache=h.concat([this.cache,t])},m.prototype.get=function(){if(this.cache.length>15){var t=this.cache.slice(0,16);return this.cache=this.cache.slice(16),t}return null},m.prototype.flush=function(){for(var t=16-this.cache.length,e=h.allocUnsafe(t),i=-1;++i<t;)e.writeUInt8(t,i);return h.concat([this.cache,e])},n=g,s=function(t,e){var i=o[t.toLowerCase()];if(!i)throw new TypeError("invalid suite type");var n=d(e,!1,i.key,i.iv);return g(t,n.key,n.iv)}})),r.register("hATs4",(function(t,e){var i={ECB:r("6SVHN"),CBC:r("6Fpa7"),CFB:r("57fNo"),CFB8:r("1CnKI"),CFB1:r("bGJLd"),OFB:r("49PGC"),CTR:r("aTFc5"),GCM:r("aTFc5")},n=r("l3VQd");for(var s in n)n[s].module=i[n[s].mode];t.exports=n})),r.register("6SVHN",(function(e,i){var n,r;t(e.exports,"encrypt",(()=>n),(t=>n=t)),t(e.exports,"decrypt",(()=>r),(t=>r=t)),n=function(t,e){return t._cipher.encryptBlock(e)},r=function(t,e){return t._cipher.decryptBlock(e)}})),r.register("6Fpa7",(function(e,i){var n,s;t(e.exports,"encrypt",(()=>n),(t=>n=t)),t(e.exports,"decrypt",(()=>s),(t=>s=t));var o=r("1rhhe");n=function(t,e){var i=o(e,t._prev);return t._prev=t._cipher.encryptBlock(i),t._prev},s=function(t,e){var i=t._prev;t._prev=e;var n=t._cipher.decryptBlock(e);return o(n,i)}})),r.register("1rhhe",(function(t,e){var i=r("8UsMN").Buffer;t.exports=function(t,e){for(var n=Math.min(t.length,e.length),r=new i(n),s=0;s<n;++s)r[s]=t[s]^e[s];return r}})),r.register("57fNo",(function(e,i){var n;t(e.exports,"encrypt",(()=>n),(t=>n=t));var s=r("4OiF0").Buffer,o=r("1rhhe");function a(t,e,i){var n=e.length,r=o(e,t._cache);return t._cache=t._cache.slice(n),t._prev=s.concat([t._prev,i?e:r]),r}n=function(t,e,i){for(var n,r=s.allocUnsafe(0);e.length;){if(0===t._cache.length&&(t._cache=t._cipher.encryptBlock(t._prev),t._prev=s.allocUnsafe(0)),!(t._cache.length<=e.length)){r=s.concat([r,a(t,e,i)]);break}n=t._cache.length,r=s.concat([r,a(t,e.slice(0,n),i)]),e=e.slice(n)}return r}})),r.register("1CnKI",(function(e,i){var n;t(e.exports,"encrypt",(()=>n),(t=>n=t));var s=r("4OiF0").Buffer;function o(t,e,i){var n=t._cipher.encryptBlock(t._prev)[0]^e;return t._prev=s.concat([t._prev.slice(1),s.from([i?e:n])]),n}n=function(t,e,i){for(var n=e.length,r=s.allocUnsafe(n),a=-1;++a<n;)r[a]=o(t,e[a],i);return r}})),r.register("bGJLd",(function(e,i){var n;t(e.exports,"encrypt",(()=>n),(t=>n=t));var s=r("4OiF0").Buffer;function o(t,e,i){for(var n,r,s=-1,o=0;++s<8;)n=e&1<<7-s?128:0,o+=(128&(r=t._cipher.encryptBlock(t._prev)[0]^n))>>s%8,t._prev=a(t._prev,i?n:r);return o}function a(t,e){var i=t.length,n=-1,r=s.allocUnsafe(t.length);for(t=s.concat([t,s.from([e])]);++n<i;)r[n]=t[n]<<1|t[n+1]>>7;return r}n=function(t,e,i){for(var n=e.length,r=s.allocUnsafe(n),a=-1;++a<n;)r[a]=o(t,e[a],i);return r}})),r.register("49PGC",(function(e,i){var n;t(e.exports,"encrypt",(()=>n),(t=>n=t));var s=r("8UsMN").Buffer,o=r("1rhhe");function a(t){return t._prev=t._cipher.encryptBlock(t._prev),t._prev}n=function(t,e){for(;t._cache.length<e.length;)t._cache=s.concat([t._cache,a(t)]);var i=t._cache.slice(0,e.length);return t._cache=t._cache.slice(e.length),o(e,i)}})),r.register("aTFc5",(function(e,i){var n;t(e.exports,"encrypt",(()=>n),(t=>n=t));var s=r("1rhhe"),o=r("4OiF0").Buffer,a=r("1Uyl8");function h(t){var e=t._cipher.encryptBlockRaw(t._prev);return a(t._prev),e}n=function(t,e){var i=Math.ceil(e.length/16),n=t._cache.length;t._cache=o.concat([t._cache,o.allocUnsafe(16*i)]);for(var r=0;r<i;r++){var a=h(t),u=n+16*r;t._cache.writeUInt32BE(a[0],u+0),t._cache.writeUInt32BE(a[1],u+4),t._cache.writeUInt32BE(a[2],u+8),t._cache.writeUInt32BE(a[3],u+12)}var l=t._cache.slice(0,e.length);return t._cache=t._cache.slice(e.length),s(e,l)}})),r.register("1Uyl8",(function(t,e){t.exports=function(t){for(var e,i=t.length;i--;){if(255!==(e=t.readUInt8(i))){e++,t.writeUInt8(e,i);break}t.writeUInt8(0,i)}}})),r.register("l3VQd",(function(t,e){t.exports=JSON.parse('{"aes-128-ecb":{"cipher":"AES","key":128,"iv":0,"mode":"ECB","type":"block"},"aes-192-ecb":{"cipher":"AES","key":192,"iv":0,"mode":"ECB","type":"block"},"aes-256-ecb":{"cipher":"AES","key":256,"iv":0,"mode":"ECB","type":"block"},"aes-128-cbc":{"cipher":"AES","key":128,"iv":16,"mode":"CBC","type":"block"},"aes-192-cbc":{"cipher":"AES","key":192,"iv":16,"mode":"CBC","type":"block"},"aes-256-cbc":{"cipher":"AES","key":256,"iv":16,"mode":"CBC","type":"block"},"aes128":{"cipher":"AES","key":128,"iv":16,"mode":"CBC","type":"block"},"aes192":{"cipher":"AES","key":192,"iv":16,"mode":"CBC","type":"block"},"aes256":{"cipher":"AES","key":256,"iv":16,"mode":"CBC","type":"block"},"aes-128-cfb":{"cipher":"AES","key":128,"iv":16,"mode":"CFB","type":"stream"},"aes-192-cfb":{"cipher":"AES","key":192,"iv":16,"mode":"CFB","type":"stream"},"aes-256-cfb":{"cipher":"AES","key":256,"iv":16,"mode":"CFB","type":"stream"},"aes-128-cfb8":{"cipher":"AES","key":128,"iv":16,"mode":"CFB8","type":"stream"},"aes-192-cfb8":{"cipher":"AES","key":192,"iv":16,"mode":"CFB8","type":"stream"},"aes-256-cfb8":{"cipher":"AES","key":256,"iv":16,"mode":"CFB8","type":"stream"},"aes-128-cfb1":{"cipher":"AES","key":128,"iv":16,"mode":"CFB1","type":"stream"},"aes-192-cfb1":{"cipher":"AES","key":192,"iv":16,"mode":"CFB1","type":"stream"},"aes-256-cfb1":{"cipher":"AES","key":256,"iv":16,"mode":"CFB1","type":"stream"},"aes-128-ofb":{"cipher":"AES","key":128,"iv":16,"mode":"OFB","type":"stream"},"aes-192-ofb":{"cipher":"AES","key":192,"iv":16,"mode":"OFB","type":"stream"},"aes-256-ofb":{"cipher":"AES","key":256,"iv":16,"mode":"OFB","type":"stream"},"aes-128-ctr":{"cipher":"AES","key":128,"iv":16,"mode":"CTR","type":"stream"},"aes-192-ctr":{"cipher":"AES","key":192,"iv":16,"mode":"CTR","type":"stream"},"aes-256-ctr":{"cipher":"AES","key":256,"iv":16,"mode":"CTR","type":"stream"},"aes-128-gcm":{"cipher":"AES","key":128,"iv":12,"mode":"GCM","type":"auth"},"aes-192-gcm":{"cipher":"AES","key":192,"iv":12,"mode":"GCM","type":"auth"},"aes-256-gcm":{"cipher":"AES","key":256,"iv":12,"mode":"GCM","type":"auth"}}')})),r.register("1wbtR",(function(t,e){var i=r("1eFE8"),n=r("4OiF0").Buffer,s=r("7fR9R"),o=r("bniia"),a=r("jNvWi"),h=r("1rhhe"),u=r("1Uyl8");function l(t,e,r,o){s.call(this);var h=n.alloc(4,0);this._cipher=new i.AES(e);var l=this._cipher.encryptBlock(h);this._ghash=new a(l),r=function(t,e,i){if(12===e.length)return t._finID=n.concat([e,n.from([0,0,0,1])]),n.concat([e,n.from([0,0,0,2])]);var r=new a(i),s=e.length,o=s%16;r.update(e),o&&(o=16-o,r.update(n.alloc(o,0))),r.update(n.alloc(8,0));var h=8*s,l=n.alloc(8);l.writeUIntBE(h,0,8),r.update(l),t._finID=r.state;var c=n.from(t._finID);return u(c),c}(this,r,l),this._prev=n.from(r),this._cache=n.allocUnsafe(0),this._secCache=n.allocUnsafe(0),this._decrypt=o,this._alen=0,this._len=0,this._mode=t,this._authTag=null,this._called=!1}o(l,s),l.prototype._update=function(t){if(!this._called&&this._alen){var e=16-this._alen%16;e<16&&(e=n.alloc(e,0),this._ghash.update(e))}this._called=!0;var i=this._mode.encrypt(this,t);return this._decrypt?this._ghash.update(t):this._ghash.update(i),this._len+=t.length,i},l.prototype._final=function(){if(this._decrypt&&!this._authTag)throw new Error("Unsupported state or unable to authenticate data");var t=h(this._ghash.final(8*this._alen,8*this._len),this._cipher.encryptBlock(this._finID));if(this._decrypt&&function(t,e){var i=0;t.length!==e.length&&i++;for(var n=Math.min(t.length,e.length),r=0;r<n;++r)i+=t[r]^e[r];return i}(t,this._authTag))throw new Error("Unsupported state or unable to authenticate data");this._authTag=t,this._cipher.scrub()},l.prototype.getAuthTag=function(){if(this._decrypt||!n.isBuffer(this._authTag))throw new Error("Attempting to get auth tag in unsupported state");return this._authTag},l.prototype.setAuthTag=function(t){if(!this._decrypt)throw new Error("Attempting to set auth tag in unsupported state");this._authTag=t},l.prototype.setAAD=function(t){if(this._called)throw new Error("Attempting to set AAD in unsupported state");this._ghash.update(t),this._alen+=t.length},t.exports=l})),r.register("1eFE8",(function(e,i){var n;t(e.exports,"AES",(()=>n),(t=>n=t));var s=r("4OiF0").Buffer;function o(t){s.isBuffer(t)||(t=s.from(t));for(var e=t.length/4|0,i=new Array(e),n=0;n<e;n++)i[n]=t.readUInt32BE(4*n);return i}function a(t){for(;0<t.length;t++)t[0]=0}function h(t,e,i,n,r){for(var s,o,a,h,u=i[0],l=i[1],c=i[2],d=i[3],f=t[0]^e[0],p=t[1]^e[1],m=t[2]^e[2],g=t[3]^e[3],v=4,y=1;y<r;y++)s=u[f>>>24]^l[p>>>16&255]^c[m>>>8&255]^d[255&g]^e[v++],o=u[p>>>24]^l[m>>>16&255]^c[g>>>8&255]^d[255&f]^e[v++],a=u[m>>>24]^l[g>>>16&255]^c[f>>>8&255]^d[255&p]^e[v++],h=u[g>>>24]^l[f>>>16&255]^c[p>>>8&255]^d[255&m]^e[v++],f=s,p=o,m=a,g=h;return s=(n[f>>>24]<<24|n[p>>>16&255]<<16|n[m>>>8&255]<<8|n[255&g])^e[v++],o=(n[p>>>24]<<24|n[m>>>16&255]<<16|n[g>>>8&255]<<8|n[255&f])^e[v++],a=(n[m>>>24]<<24|n[g>>>16&255]<<16|n[f>>>8&255]<<8|n[255&p])^e[v++],h=(n[g>>>24]<<24|n[f>>>16&255]<<16|n[p>>>8&255]<<8|n[255&m])^e[v++],[s>>>=0,o>>>=0,a>>>=0,h>>>=0]}var u=[0,1,2,4,8,16,32,64,128,27,54],l=function(){for(var t=new Array(256),e=0;e<256;e++)t[e]=e<128?e<<1:e<<1^283;for(var i=[],n=[],r=[[],[],[],[]],s=[[],[],[],[]],o=0,a=0,h=0;h<256;++h){var u=a^a<<1^a<<2^a<<3^a<<4;u=u>>>8^255&u^99,i[o]=u,n[u]=o;var l=t[o],c=t[l],d=t[c],f=257*t[u]^16843008*u;r[0][o]=f<<24|f>>>8,r[1][o]=f<<16|f>>>16,r[2][o]=f<<8|f>>>24,r[3][o]=f,f=16843009*d^65537*c^257*l^16843008*o,s[0][u]=f<<24|f>>>8,s[1][u]=f<<16|f>>>16,s[2][u]=f<<8|f>>>24,s[3][u]=f,0===o?o=a=1:(o=l^t[t[t[d^l]]],a^=t[t[a]])}return{SBOX:i,INV_SBOX:n,SUB_MIX:r,INV_SUB_MIX:s}}();function c(t){this._key=o(t),this._reset()}c.blockSize=16,c.keySize=32,c.prototype.blockSize=c.blockSize,c.prototype.keySize=c.keySize,c.prototype._reset=function(){for(var t=this._key,e=t.length,i=e+6,n=4*(i+1),r=[],s=0;s<e;s++)r[s]=t[s];for(s=e;s<n;s++){var o=r[s-1];s%e==0?(o=o<<8|o>>>24,o=l.SBOX[o>>>24]<<24|l.SBOX[o>>>16&255]<<16|l.SBOX[o>>>8&255]<<8|l.SBOX[255&o],o^=u[s/e|0]<<24):e>6&&s%e==4&&(o=l.SBOX[o>>>24]<<24|l.SBOX[o>>>16&255]<<16|l.SBOX[o>>>8&255]<<8|l.SBOX[255&o]),r[s]=r[s-e]^o}for(var a=[],h=0;h<n;h++){var c=n-h,d=r[c-(h%4?0:4)];a[h]=h<4||c<=4?d:l.INV_SUB_MIX[0][l.SBOX[d>>>24]]^l.INV_SUB_MIX[1][l.SBOX[d>>>16&255]]^l.INV_SUB_MIX[2][l.SBOX[d>>>8&255]]^l.INV_SUB_MIX[3][l.SBOX[255&d]]}this._nRounds=i,this._keySchedule=r,this._invKeySchedule=a},c.prototype.encryptBlockRaw=function(t){return h(t=o(t),this._keySchedule,l.SUB_MIX,l.SBOX,this._nRounds)},c.prototype.encryptBlock=function(t){var e=this.encryptBlockRaw(t),i=s.allocUnsafe(16);return i.writeUInt32BE(e[0],0),i.writeUInt32BE(e[1],4),i.writeUInt32BE(e[2],8),i.writeUInt32BE(e[3],12),i},c.prototype.decryptBlock=function(t){var e=(t=o(t))[1];t[1]=t[3],t[3]=e;var i=h(t,this._invKeySchedule,l.INV_SUB_MIX,l.INV_SBOX,this._nRounds),n=s.allocUnsafe(16);return n.writeUInt32BE(i[0],0),n.writeUInt32BE(i[3],4),n.writeUInt32BE(i[2],8),n.writeUInt32BE(i[1],12),n},c.prototype.scrub=function(){a(this._keySchedule),a(this._invKeySchedule),a(this._key)},n=c})),r.register("jNvWi",(function(t,e){var i=r("4OiF0").Buffer,n=i.alloc(16,0);function s(t){var e=i.allocUnsafe(16);return e.writeUInt32BE(t[0]>>>0,0),e.writeUInt32BE(t[1]>>>0,4),e.writeUInt32BE(t[2]>>>0,8),e.writeUInt32BE(t[3]>>>0,12),e}function o(t){this.h=t,this.state=i.alloc(16,0),this.cache=i.allocUnsafe(0)}o.prototype.ghash=function(t){for(var e=-1;++e<t.length;)this.state[e]^=t[e];this._multiply()},o.prototype._multiply=function(){for(var t,e,i,n=[(t=this.h).readUInt32BE(0),t.readUInt32BE(4),t.readUInt32BE(8),t.readUInt32BE(12)],r=[0,0,0,0],o=-1;++o<128;){for(0!=(this.state[~~(o/8)]&1<<7-o%8)&&(r[0]^=n[0],r[1]^=n[1],r[2]^=n[2],r[3]^=n[3]),i=0!=(1&n[3]),e=3;e>0;e--)n[e]=n[e]>>>1|(1&n[e-1])<<31;n[0]=n[0]>>>1,i&&(n[0]=-520093696^n[0])}this.state=s(r)},o.prototype.update=function(t){var e;for(this.cache=i.concat([this.cache,t]);this.cache.length>=16;)e=this.cache.slice(0,16),this.cache=this.cache.slice(16),this.ghash(e)},o.prototype.final=function(t,e){return this.cache.length&&this.ghash(i.concat([this.cache,n],16)),this.ghash(s([0,t,0,e])),this.state},t.exports=o})),r.register("jwQyu",(function(t,e){var i=r("1eFE8"),n=r("4OiF0").Buffer,s=r("7fR9R");function o(t,e,r,o){s.call(this),this._cipher=new i.AES(e),this._prev=n.from(r),this._cache=n.allocUnsafe(0),this._secCache=n.allocUnsafe(0),this._decrypt=o,this._mode=t}r("bniia")(o,s),o.prototype._update=function(t){return this._mode.encrypt(this,t,this._decrypt)},o.prototype._final=function(){this._cipher.scrub()},t.exports=o})),r.register("cthQ7",(function(t,e){var i=r("4OiF0").Buffer,n=r("eXAjQ");t.exports=function(t,e,r,s){if(i.isBuffer(t)||(t=i.from(t,"binary")),e&&(i.isBuffer(e)||(e=i.from(e,"binary")),8!==e.length))throw new RangeError("salt should be Buffer with 8 byte length");for(var o=r/8,a=i.alloc(o),h=i.alloc(s||0),u=i.alloc(0);o>0||s>0;){var l=new n;l.update(u),l.update(t),e&&l.update(e),u=l.digest();var c=0;if(o>0){var d=a.length-o;c=Math.min(o,u.length),u.copy(a,d,0,c),o-=c}if(c<u.length&&s>0){var f=h.length-s,p=Math.min(s,u.length-c);u.copy(h,f,c,c+p),s-=p}}return u.fill(0),{key:a,iv:h}}})),r.register("iccu4",(function(e,i){var n,s;t(e.exports,"createDecipher",(()=>n),(t=>n=t)),t(e.exports,"createDecipheriv",(()=>s),(t=>s=t));var o=r("1wbtR"),a=r("4OiF0").Buffer,h=r("hATs4"),u=r("jwQyu"),l=r("7fR9R"),c=r("1eFE8"),d=r("cthQ7");function f(t,e,i){l.call(this),this._cache=new p,this._last=void 0,this._cipher=new c.AES(e),this._prev=a.from(i),this._mode=t,this._autopadding=!0}function p(){this.cache=a.allocUnsafe(0)}function m(t,e,i){var n=h[t.toLowerCase()];if(!n)throw new TypeError("invalid suite type");if("string"==typeof i&&(i=a.from(i)),"GCM"!==n.mode&&i.length!==n.iv)throw new TypeError("invalid iv length "+i.length);if("string"==typeof e&&(e=a.from(e)),e.length!==n.key/8)throw new TypeError("invalid key length "+e.length);return"stream"===n.type?new u(n.module,e,i,!0):"auth"===n.type?new o(n.module,e,i,!0):new f(n.module,e,i)}r("bniia")(f,l),f.prototype._update=function(t){var e,i;this._cache.add(t);for(var n=[];e=this._cache.get(this._autopadding);)i=this._mode.decrypt(this,e),n.push(i);return a.concat(n)},f.prototype._final=function(){var t=this._cache.flush();if(this._autopadding)return function(t){var e=t[15];if(e<1||e>16)throw new Error("unable to decrypt data");var i=-1;for(;++i<e;)if(t[i+(16-e)]!==e)throw new Error("unable to decrypt data");if(16===e)return;return t.slice(0,16-e)}(this._mode.decrypt(this,t));if(t)throw new Error("data not multiple of block length")},f.prototype.setAutoPadding=function(t){return this._autopadding=!!t,this},p.prototype.add=function(t){this.cache=a.concat([this.cache,t])},p.prototype.get=function(t){var e;if(t){if(this.cache.length>16)return e=this.cache.slice(0,16),this.cache=this.cache.slice(16),e}else if(this.cache.length>=16)return e=this.cache.slice(0,16),this.cache=this.cache.slice(16),e;return null},p.prototype.flush=function(){if(this.cache.length)return this.cache},n=function(t,e){var i=h[t.toLowerCase()];if(!i)throw new TypeError("invalid suite type");var n=d(e,!1,i.key,i.iv);return m(t,n.key,n.iv)},s=m})),r.register("lGzCO",(function(e,i){var n,r,s,o,a,h,u,l;t(e.exports,"des-ecb",(()=>n),(t=>n=t)),t(e.exports,"des-cbc",(()=>r),(t=>r=t)),t(e.exports,"des",(()=>s),(t=>s=t)),t(e.exports,"des-ede3-cbc",(()=>o),(t=>o=t)),t(e.exports,"des3",(()=>a),(t=>a=t)),t(e.exports,"des-ede3",(()=>h),(t=>h=t)),t(e.exports,"des-ede-cbc",(()=>u),(t=>u=t)),t(e.exports,"des-ede",(()=>l),(t=>l=t)),n={key:8,iv:0},r=s={key:8,iv:8},o=a={key:24,iv:8},h={key:24,iv:0},u={key:16,iv:8},l={key:16,iv:0}})),r.register("9PCF9",(function(e,i){var n,s,o,a,h;t(e.exports,"DiffieHellmanGroup",(()=>n),(t=>n=t)),t(e.exports,"createDiffieHellmanGroup",(()=>s),(t=>s=t)),t(e.exports,"getDiffieHellman",(()=>o),(t=>o=t)),t(e.exports,"createDiffieHellman",(()=>a),(t=>a=t)),t(e.exports,"DiffieHellman",(()=>h),(t=>h=t));var u=r("8UsMN").Buffer,l=r("fzqD1"),c=r("jBhBo"),d=r("8oJEU");var f={binary:!0,hex:!0,base64:!0};n=s=o=function(t){var e=new u(c[t].prime,"hex"),i=new u(c[t].gen,"hex");return new d(e,i)},a=h=function t(e,i,n,r){return u.isBuffer(i)||void 0===f[i]?t(e,"binary",i,n):(i=i||"binary",r=r||"binary",n=n||new u([2]),u.isBuffer(n)||(n=new u(n,r)),"number"==typeof e?new d(l(e,n),n,!0):(u.isBuffer(e)||(e=new u(e,i)),new d(e,n,!0)))}})),r.register("fzqD1",(function(t,e){var i=r("bUSoq");t.exports=v,v.simpleSieve=m,v.fermatTest=g;var n=r("edZn3"),s=new n(24),o=new(r("TFXOD")),a=new n(1),h=new n(2),u=new n(5),l=(new n(16),new n(8),new n(10)),c=new n(3),d=(new n(7),new n(11)),f=new n(4),p=(new n(12),null);function m(t){for(var e=function(){if(null!==p)return p;var t=[];t[0]=2;for(var e=1,i=3;i<1048576;i+=2){for(var n=Math.ceil(Math.sqrt(i)),r=0;r<e&&t[r]<=n&&i%t[r]!=0;r++);e!==r&&t[r]<=n||(t[e++]=i)}return p=t,t}(),i=0;i<e.length;i++)if(0===t.modn(e[i]))return 0===t.cmpn(e[i]);return!0}function g(t){var e=n.mont(t);return 0===h.toRed(e).redPow(t.subn(1)).fromRed().cmpn(1)}function v(t,e){if(t<16)return new n(2===e||5===e?[140,123]:[140,39]);var r,p;for(e=new n(e);;){for(r=new n(i(Math.ceil(t/8)));r.bitLength()>t;)r.ishrn(1);if(r.isEven()&&r.iadd(a),r.testn(1)||r.iadd(h),e.cmp(h)){if(!e.cmp(u))for(;r.mod(l).cmp(c);)r.iadd(f)}else for(;r.mod(s).cmp(d);)r.iadd(f);if(m(p=r.shrn(1))&&m(r)&&g(p)&&g(r)&&o.test(p)&&o.test(r))return r}}})),r.register("edZn3",(function(t,e){!function(t,e){function i(t,e){if(!t)throw new Error(e||"Assertion failed")}function n(t,e){t.super_=e;var i=function(){};i.prototype=e.prototype,t.prototype=new i,t.prototype.constructor=t}function s(t,e,i){if(s.isBN(t))return t;this.negative=0,this.words=null,this.length=0,this.red=null,null!==t&&("le"!==e&&"be"!==e||(i=e,e=10),this._init(t||0,e||10,i||"be"))}var o;"object"==typeof t?t.exports=s:e.BN=s,s.BN=s,s.wordSize=26;try{o="undefined"!=typeof window&&void 0!==window.Buffer?window.Buffer:r("66yC2").Buffer}catch(t){}function a(t,e){var i=t.charCodeAt(e);return i>=65&&i<=70?i-55:i>=97&&i<=102?i-87:i-48&15}function h(t,e,i){var n=a(t,i);return i-1>=e&&(n|=a(t,i-1)<<4),n}function u(t,e,i,n){for(var r=0,s=Math.min(t.length,i),o=e;o<s;o++){var a=t.charCodeAt(o)-48;r*=n,r+=a>=49?a-49+10:a>=17?a-17+10:a}return r}s.isBN=function(t){return t instanceof s||null!==t&&"object"==typeof t&&t.constructor.wordSize===s.wordSize&&Array.isArray(t.words)},s.max=function(t,e){return t.cmp(e)>0?t:e},s.min=function(t,e){return t.cmp(e)<0?t:e},s.prototype._init=function(t,e,n){if("number"==typeof t)return this._initNumber(t,e,n);if("object"==typeof t)return this._initArray(t,e,n);"hex"===e&&(e=16),i(e===(0|e)&&e>=2&&e<=36);var r=0;"-"===(t=t.toString().replace(/\s+/g,""))[0]&&(r++,this.negative=1),r<t.length&&(16===e?this._parseHex(t,r,n):(this._parseBase(t,e,r),"le"===n&&this._initArray(this.toArray(),e,n)))},s.prototype._initNumber=function(t,e,n){t<0&&(this.negative=1,t=-t),t<67108864?(this.words=[67108863&t],this.length=1):t<4503599627370496?(this.words=[67108863&t,t/67108864&67108863],this.length=2):(i(t<9007199254740992),this.words=[67108863&t,t/67108864&67108863,1],this.length=3),"le"===n&&this._initArray(this.toArray(),e,n)},s.prototype._initArray=function(t,e,n){if(i("number"==typeof t.length),t.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(t.length/3),this.words=new Array(this.length);for(var r=0;r<this.length;r++)this.words[r]=0;var s,o,a=0;if("be"===n)for(r=t.length-1,s=0;r>=0;r-=3)o=t[r]|t[r-1]<<8|t[r-2]<<16,this.words[s]|=o<<a&67108863,this.words[s+1]=o>>>26-a&67108863,(a+=24)>=26&&(a-=26,s++);else if("le"===n)for(r=0,s=0;r<t.length;r+=3)o=t[r]|t[r+1]<<8|t[r+2]<<16,this.words[s]|=o<<a&67108863,this.words[s+1]=o>>>26-a&67108863,(a+=24)>=26&&(a-=26,s++);return this.strip()},s.prototype._parseHex=function(t,e,i){this.length=Math.ceil((t.length-e)/6),this.words=new Array(this.length);for(var n=0;n<this.length;n++)this.words[n]=0;var r,s=0,o=0;if("be"===i)for(n=t.length-1;n>=e;n-=2)r=h(t,e,n)<<s,this.words[o]|=67108863&r,s>=18?(s-=18,o+=1,this.words[o]|=r>>>26):s+=8;else for(n=(t.length-e)%2==0?e+1:e;n<t.length;n+=2)r=h(t,e,n)<<s,this.words[o]|=67108863&r,s>=18?(s-=18,o+=1,this.words[o]|=r>>>26):s+=8;this.strip()},s.prototype._parseBase=function(t,e,i){this.words=[0],this.length=1;for(var n=0,r=1;r<=67108863;r*=e)n++;n--,r=r/e|0;for(var s=t.length-i,o=s%n,a=Math.min(s,s-o)+i,h=0,l=i;l<a;l+=n)h=u(t,l,l+n,e),this.imuln(r),this.words[0]+h<67108864?this.words[0]+=h:this._iaddn(h);if(0!==o){var c=1;for(h=u(t,l,t.length,e),l=0;l<o;l++)c*=e;this.imuln(c),this.words[0]+h<67108864?this.words[0]+=h:this._iaddn(h)}this.strip()},s.prototype.copy=function(t){t.words=new Array(this.length);for(var e=0;e<this.length;e++)t.words[e]=this.words[e];t.length=this.length,t.negative=this.negative,t.red=this.red},s.prototype.clone=function(){var t=new s(null);return this.copy(t),t},s.prototype._expand=function(t){for(;this.length<t;)this.words[this.length++]=0;return this},s.prototype.strip=function(){for(;this.length>1&&0===this.words[this.length-1];)this.length--;return this._normSign()},s.prototype._normSign=function(){return 1===this.length&&0===this.words[0]&&(this.negative=0),this},s.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var l=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],c=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],d=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];function f(t,e,i){i.negative=e.negative^t.negative;var n=t.length+e.length|0;i.length=n,n=n-1|0;var r=0|t.words[0],s=0|e.words[0],o=r*s,a=67108863&o,h=o/67108864|0;i.words[0]=a;for(var u=1;u<n;u++){for(var l=h>>>26,c=67108863&h,d=Math.min(u,e.length-1),f=Math.max(0,u-t.length+1);f<=d;f++){var p=u-f|0;l+=(o=(r=0|t.words[p])*(s=0|e.words[f])+c)/67108864|0,c=67108863&o}i.words[u]=0|c,h=0|l}return 0!==h?i.words[u]=0|h:i.length--,i.strip()}s.prototype.toString=function(t,e){var n;if(e=0|e||1,16===(t=t||10)||"hex"===t){n="";for(var r=0,s=0,o=0;o<this.length;o++){var a=this.words[o],h=(16777215&(a<<r|s)).toString(16);n=0!==(s=a>>>24-r&16777215)||o!==this.length-1?l[6-h.length]+h+n:h+n,(r+=2)>=26&&(r-=26,o--)}for(0!==s&&(n=s.toString(16)+n);n.length%e!=0;)n="0"+n;return 0!==this.negative&&(n="-"+n),n}if(t===(0|t)&&t>=2&&t<=36){var u=c[t],f=d[t];n="";var p=this.clone();for(p.negative=0;!p.isZero();){var m=p.modn(f).toString(t);n=(p=p.idivn(f)).isZero()?m+n:l[u-m.length]+m+n}for(this.isZero()&&(n="0"+n);n.length%e!=0;)n="0"+n;return 0!==this.negative&&(n="-"+n),n}i(!1,"Base should be between 2 and 36")},s.prototype.toNumber=function(){var t=this.words[0];return 2===this.length?t+=67108864*this.words[1]:3===this.length&&1===this.words[2]?t+=4503599627370496+67108864*this.words[1]:this.length>2&&i(!1,"Number can only safely store up to 53 bits"),0!==this.negative?-t:t},s.prototype.toJSON=function(){return this.toString(16)},s.prototype.toBuffer=function(t,e){return i(void 0!==o),this.toArrayLike(o,t,e)},s.prototype.toArray=function(t,e){return this.toArrayLike(Array,t,e)},s.prototype.toArrayLike=function(t,e,n){var r=this.byteLength(),s=n||Math.max(1,r);i(r<=s,"byte array longer than desired length"),i(s>0,"Requested array length <= 0"),this.strip();var o,a,h="le"===e,u=new t(s),l=this.clone();if(h){for(a=0;!l.isZero();a++)o=l.andln(255),l.iushrn(8),u[a]=o;for(;a<s;a++)u[a]=0}else{for(a=0;a<s-r;a++)u[a]=0;for(a=0;!l.isZero();a++)o=l.andln(255),l.iushrn(8),u[s-a-1]=o}return u},Math.clz32?s.prototype._countBits=function(t){return 32-Math.clz32(t)}:s.prototype._countBits=function(t){var e=t,i=0;return e>=4096&&(i+=13,e>>>=13),e>=64&&(i+=7,e>>>=7),e>=8&&(i+=4,e>>>=4),e>=2&&(i+=2,e>>>=2),i+e},s.prototype._zeroBits=function(t){if(0===t)return 26;var e=t,i=0;return 0==(8191&e)&&(i+=13,e>>>=13),0==(127&e)&&(i+=7,e>>>=7),0==(15&e)&&(i+=4,e>>>=4),0==(3&e)&&(i+=2,e>>>=2),0==(1&e)&&i++,i},s.prototype.bitLength=function(){var t=this.words[this.length-1],e=this._countBits(t);return 26*(this.length-1)+e},s.prototype.zeroBits=function(){if(this.isZero())return 0;for(var t=0,e=0;e<this.length;e++){var i=this._zeroBits(this.words[e]);if(t+=i,26!==i)break}return t},s.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},s.prototype.toTwos=function(t){return 0!==this.negative?this.abs().inotn(t).iaddn(1):this.clone()},s.prototype.fromTwos=function(t){return this.testn(t-1)?this.notn(t).iaddn(1).ineg():this.clone()},s.prototype.isNeg=function(){return 0!==this.negative},s.prototype.neg=function(){return this.clone().ineg()},s.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},s.prototype.iuor=function(t){for(;this.length<t.length;)this.words[this.length++]=0;for(var e=0;e<t.length;e++)this.words[e]=this.words[e]|t.words[e];return this.strip()},s.prototype.ior=function(t){return i(0==(this.negative|t.negative)),this.iuor(t)},s.prototype.or=function(t){return this.length>t.length?this.clone().ior(t):t.clone().ior(this)},s.prototype.uor=function(t){return this.length>t.length?this.clone().iuor(t):t.clone().iuor(this)},s.prototype.iuand=function(t){var e;e=this.length>t.length?t:this;for(var i=0;i<e.length;i++)this.words[i]=this.words[i]&t.words[i];return this.length=e.length,this.strip()},s.prototype.iand=function(t){return i(0==(this.negative|t.negative)),this.iuand(t)},s.prototype.and=function(t){return this.length>t.length?this.clone().iand(t):t.clone().iand(this)},s.prototype.uand=function(t){return this.length>t.length?this.clone().iuand(t):t.clone().iuand(this)},s.prototype.iuxor=function(t){var e,i;this.length>t.length?(e=this,i=t):(e=t,i=this);for(var n=0;n<i.length;n++)this.words[n]=e.words[n]^i.words[n];if(this!==e)for(;n<e.length;n++)this.words[n]=e.words[n];return this.length=e.length,this.strip()},s.prototype.ixor=function(t){return i(0==(this.negative|t.negative)),this.iuxor(t)},s.prototype.xor=function(t){return this.length>t.length?this.clone().ixor(t):t.clone().ixor(this)},s.prototype.uxor=function(t){return this.length>t.length?this.clone().iuxor(t):t.clone().iuxor(this)},s.prototype.inotn=function(t){i("number"==typeof t&&t>=0);var e=0|Math.ceil(t/26),n=t%26;this._expand(e),n>0&&e--;for(var r=0;r<e;r++)this.words[r]=67108863&~this.words[r];return n>0&&(this.words[r]=~this.words[r]&67108863>>26-n),this.strip()},s.prototype.notn=function(t){return this.clone().inotn(t)},s.prototype.setn=function(t,e){i("number"==typeof t&&t>=0);var n=t/26|0,r=t%26;return this._expand(n+1),this.words[n]=e?this.words[n]|1<<r:this.words[n]&~(1<<r),this.strip()},s.prototype.iadd=function(t){var e,i,n;if(0!==this.negative&&0===t.negative)return this.negative=0,e=this.isub(t),this.negative^=1,this._normSign();if(0===this.negative&&0!==t.negative)return t.negative=0,e=this.isub(t),t.negative=1,e._normSign();this.length>t.length?(i=this,n=t):(i=t,n=this);for(var r=0,s=0;s<n.length;s++)e=(0|i.words[s])+(0|n.words[s])+r,this.words[s]=67108863&e,r=e>>>26;for(;0!==r&&s<i.length;s++)e=(0|i.words[s])+r,this.words[s]=67108863&e,r=e>>>26;if(this.length=i.length,0!==r)this.words[this.length]=r,this.length++;else if(i!==this)for(;s<i.length;s++)this.words[s]=i.words[s];return this},s.prototype.add=function(t){var e;return 0!==t.negative&&0===this.negative?(t.negative=0,e=this.sub(t),t.negative^=1,e):0===t.negative&&0!==this.negative?(this.negative=0,e=t.sub(this),this.negative=1,e):this.length>t.length?this.clone().iadd(t):t.clone().iadd(this)},s.prototype.isub=function(t){if(0!==t.negative){t.negative=0;var e=this.iadd(t);return t.negative=1,e._normSign()}if(0!==this.negative)return this.negative=0,this.iadd(t),this.negative=1,this._normSign();var i,n,r=this.cmp(t);if(0===r)return this.negative=0,this.length=1,this.words[0]=0,this;r>0?(i=this,n=t):(i=t,n=this);for(var s=0,o=0;o<n.length;o++)s=(e=(0|i.words[o])-(0|n.words[o])+s)>>26,this.words[o]=67108863&e;for(;0!==s&&o<i.length;o++)s=(e=(0|i.words[o])+s)>>26,this.words[o]=67108863&e;if(0===s&&o<i.length&&i!==this)for(;o<i.length;o++)this.words[o]=i.words[o];return this.length=Math.max(this.length,o),i!==this&&(this.negative=1),this.strip()},s.prototype.sub=function(t){return this.clone().isub(t)};var p=function(t,e,i){var n,r,s,o=t.words,a=e.words,h=i.words,u=0,l=0|o[0],c=8191&l,d=l>>>13,f=0|o[1],p=8191&f,m=f>>>13,g=0|o[2],v=8191&g,y=g>>>13,b=0|o[3],w=8191&b,_=b>>>13,M=0|o[4],A=8191&M,k=M>>>13,E=0|o[5],x=8191&E,S=E>>>13,T=0|o[6],I=8191&T,q=T>>>13,R=0|o[7],C=8191&R,N=R>>>13,L=0|o[8],D=8191&L,O=L>>>13,B=0|o[9],P=8191&B,U=B>>>13,F=0|a[0],j=8191&F,z=F>>>13,V=0|a[1],H=8191&V,K=V>>>13,G=0|a[2],W=8191&G,Q=G>>>13,$=0|a[3],Z=8191&$,Y=$>>>13,X=0|a[4],J=8191&X,tt=X>>>13,et=0|a[5],it=8191&et,nt=et>>>13,rt=0|a[6],st=8191&rt,ot=rt>>>13,at=0|a[7],ht=8191&at,ut=at>>>13,lt=0|a[8],ct=8191&lt,dt=lt>>>13,ft=0|a[9],pt=8191&ft,mt=ft>>>13;i.negative=t.negative^e.negative,i.length=19;var gt=(u+(n=Math.imul(c,j))|0)+((8191&(r=(r=Math.imul(c,z))+Math.imul(d,j)|0))<<13)|0;u=((s=Math.imul(d,z))+(r>>>13)|0)+(gt>>>26)|0,gt&=67108863,n=Math.imul(p,j),r=(r=Math.imul(p,z))+Math.imul(m,j)|0,s=Math.imul(m,z);var vt=(u+(n=n+Math.imul(c,H)|0)|0)+((8191&(r=(r=r+Math.imul(c,K)|0)+Math.imul(d,H)|0))<<13)|0;u=((s=s+Math.imul(d,K)|0)+(r>>>13)|0)+(vt>>>26)|0,vt&=67108863,n=Math.imul(v,j),r=(r=Math.imul(v,z))+Math.imul(y,j)|0,s=Math.imul(y,z),n=n+Math.imul(p,H)|0,r=(r=r+Math.imul(p,K)|0)+Math.imul(m,H)|0,s=s+Math.imul(m,K)|0;var yt=(u+(n=n+Math.imul(c,W)|0)|0)+((8191&(r=(r=r+Math.imul(c,Q)|0)+Math.imul(d,W)|0))<<13)|0;u=((s=s+Math.imul(d,Q)|0)+(r>>>13)|0)+(yt>>>26)|0,yt&=67108863,n=Math.imul(w,j),r=(r=Math.imul(w,z))+Math.imul(_,j)|0,s=Math.imul(_,z),n=n+Math.imul(v,H)|0,r=(r=r+Math.imul(v,K)|0)+Math.imul(y,H)|0,s=s+Math.imul(y,K)|0,n=n+Math.imul(p,W)|0,r=(r=r+Math.imul(p,Q)|0)+Math.imul(m,W)|0,s=s+Math.imul(m,Q)|0;var bt=(u+(n=n+Math.imul(c,Z)|0)|0)+((8191&(r=(r=r+Math.imul(c,Y)|0)+Math.imul(d,Z)|0))<<13)|0;u=((s=s+Math.imul(d,Y)|0)+(r>>>13)|0)+(bt>>>26)|0,bt&=67108863,n=Math.imul(A,j),r=(r=Math.imul(A,z))+Math.imul(k,j)|0,s=Math.imul(k,z),n=n+Math.imul(w,H)|0,r=(r=r+Math.imul(w,K)|0)+Math.imul(_,H)|0,s=s+Math.imul(_,K)|0,n=n+Math.imul(v,W)|0,r=(r=r+Math.imul(v,Q)|0)+Math.imul(y,W)|0,s=s+Math.imul(y,Q)|0,n=n+Math.imul(p,Z)|0,r=(r=r+Math.imul(p,Y)|0)+Math.imul(m,Z)|0,s=s+Math.imul(m,Y)|0;var wt=(u+(n=n+Math.imul(c,J)|0)|0)+((8191&(r=(r=r+Math.imul(c,tt)|0)+Math.imul(d,J)|0))<<13)|0;u=((s=s+Math.imul(d,tt)|0)+(r>>>13)|0)+(wt>>>26)|0,wt&=67108863,n=Math.imul(x,j),r=(r=Math.imul(x,z))+Math.imul(S,j)|0,s=Math.imul(S,z),n=n+Math.imul(A,H)|0,r=(r=r+Math.imul(A,K)|0)+Math.imul(k,H)|0,s=s+Math.imul(k,K)|0,n=n+Math.imul(w,W)|0,r=(r=r+Math.imul(w,Q)|0)+Math.imul(_,W)|0,s=s+Math.imul(_,Q)|0,n=n+Math.imul(v,Z)|0,r=(r=r+Math.imul(v,Y)|0)+Math.imul(y,Z)|0,s=s+Math.imul(y,Y)|0,n=n+Math.imul(p,J)|0,r=(r=r+Math.imul(p,tt)|0)+Math.imul(m,J)|0,s=s+Math.imul(m,tt)|0;var _t=(u+(n=n+Math.imul(c,it)|0)|0)+((8191&(r=(r=r+Math.imul(c,nt)|0)+Math.imul(d,it)|0))<<13)|0;u=((s=s+Math.imul(d,nt)|0)+(r>>>13)|0)+(_t>>>26)|0,_t&=67108863,n=Math.imul(I,j),r=(r=Math.imul(I,z))+Math.imul(q,j)|0,s=Math.imul(q,z),n=n+Math.imul(x,H)|0,r=(r=r+Math.imul(x,K)|0)+Math.imul(S,H)|0,s=s+Math.imul(S,K)|0,n=n+Math.imul(A,W)|0,r=(r=r+Math.imul(A,Q)|0)+Math.imul(k,W)|0,s=s+Math.imul(k,Q)|0,n=n+Math.imul(w,Z)|0,r=(r=r+Math.imul(w,Y)|0)+Math.imul(_,Z)|0,s=s+Math.imul(_,Y)|0,n=n+Math.imul(v,J)|0,r=(r=r+Math.imul(v,tt)|0)+Math.imul(y,J)|0,s=s+Math.imul(y,tt)|0,n=n+Math.imul(p,it)|0,r=(r=r+Math.imul(p,nt)|0)+Math.imul(m,it)|0,s=s+Math.imul(m,nt)|0;var Mt=(u+(n=n+Math.imul(c,st)|0)|0)+((8191&(r=(r=r+Math.imul(c,ot)|0)+Math.imul(d,st)|0))<<13)|0;u=((s=s+Math.imul(d,ot)|0)+(r>>>13)|0)+(Mt>>>26)|0,Mt&=67108863,n=Math.imul(C,j),r=(r=Math.imul(C,z))+Math.imul(N,j)|0,s=Math.imul(N,z),n=n+Math.imul(I,H)|0,r=(r=r+Math.imul(I,K)|0)+Math.imul(q,H)|0,s=s+Math.imul(q,K)|0,n=n+Math.imul(x,W)|0,r=(r=r+Math.imul(x,Q)|0)+Math.imul(S,W)|0,s=s+Math.imul(S,Q)|0,n=n+Math.imul(A,Z)|0,r=(r=r+Math.imul(A,Y)|0)+Math.imul(k,Z)|0,s=s+Math.imul(k,Y)|0,n=n+Math.imul(w,J)|0,r=(r=r+Math.imul(w,tt)|0)+Math.imul(_,J)|0,s=s+Math.imul(_,tt)|0,n=n+Math.imul(v,it)|0,r=(r=r+Math.imul(v,nt)|0)+Math.imul(y,it)|0,s=s+Math.imul(y,nt)|0,n=n+Math.imul(p,st)|0,r=(r=r+Math.imul(p,ot)|0)+Math.imul(m,st)|0,s=s+Math.imul(m,ot)|0;var At=(u+(n=n+Math.imul(c,ht)|0)|0)+((8191&(r=(r=r+Math.imul(c,ut)|0)+Math.imul(d,ht)|0))<<13)|0;u=((s=s+Math.imul(d,ut)|0)+(r>>>13)|0)+(At>>>26)|0,At&=67108863,n=Math.imul(D,j),r=(r=Math.imul(D,z))+Math.imul(O,j)|0,s=Math.imul(O,z),n=n+Math.imul(C,H)|0,r=(r=r+Math.imul(C,K)|0)+Math.imul(N,H)|0,s=s+Math.imul(N,K)|0,n=n+Math.imul(I,W)|0,r=(r=r+Math.imul(I,Q)|0)+Math.imul(q,W)|0,s=s+Math.imul(q,Q)|0,n=n+Math.imul(x,Z)|0,r=(r=r+Math.imul(x,Y)|0)+Math.imul(S,Z)|0,s=s+Math.imul(S,Y)|0,n=n+Math.imul(A,J)|0,r=(r=r+Math.imul(A,tt)|0)+Math.imul(k,J)|0,s=s+Math.imul(k,tt)|0,n=n+Math.imul(w,it)|0,r=(r=r+Math.imul(w,nt)|0)+Math.imul(_,it)|0,s=s+Math.imul(_,nt)|0,n=n+Math.imul(v,st)|0,r=(r=r+Math.imul(v,ot)|0)+Math.imul(y,st)|0,s=s+Math.imul(y,ot)|0,n=n+Math.imul(p,ht)|0,r=(r=r+Math.imul(p,ut)|0)+Math.imul(m,ht)|0,s=s+Math.imul(m,ut)|0;var kt=(u+(n=n+Math.imul(c,ct)|0)|0)+((8191&(r=(r=r+Math.imul(c,dt)|0)+Math.imul(d,ct)|0))<<13)|0;u=((s=s+Math.imul(d,dt)|0)+(r>>>13)|0)+(kt>>>26)|0,kt&=67108863,n=Math.imul(P,j),r=(r=Math.imul(P,z))+Math.imul(U,j)|0,s=Math.imul(U,z),n=n+Math.imul(D,H)|0,r=(r=r+Math.imul(D,K)|0)+Math.imul(O,H)|0,s=s+Math.imul(O,K)|0,n=n+Math.imul(C,W)|0,r=(r=r+Math.imul(C,Q)|0)+Math.imul(N,W)|0,s=s+Math.imul(N,Q)|0,n=n+Math.imul(I,Z)|0,r=(r=r+Math.imul(I,Y)|0)+Math.imul(q,Z)|0,s=s+Math.imul(q,Y)|0,n=n+Math.imul(x,J)|0,r=(r=r+Math.imul(x,tt)|0)+Math.imul(S,J)|0,s=s+Math.imul(S,tt)|0,n=n+Math.imul(A,it)|0,r=(r=r+Math.imul(A,nt)|0)+Math.imul(k,it)|0,s=s+Math.imul(k,nt)|0,n=n+Math.imul(w,st)|0,r=(r=r+Math.imul(w,ot)|0)+Math.imul(_,st)|0,s=s+Math.imul(_,ot)|0,n=n+Math.imul(v,ht)|0,r=(r=r+Math.imul(v,ut)|0)+Math.imul(y,ht)|0,s=s+Math.imul(y,ut)|0,n=n+Math.imul(p,ct)|0,r=(r=r+Math.imul(p,dt)|0)+Math.imul(m,ct)|0,s=s+Math.imul(m,dt)|0;var Et=(u+(n=n+Math.imul(c,pt)|0)|0)+((8191&(r=(r=r+Math.imul(c,mt)|0)+Math.imul(d,pt)|0))<<13)|0;u=((s=s+Math.imul(d,mt)|0)+(r>>>13)|0)+(Et>>>26)|0,Et&=67108863,n=Math.imul(P,H),r=(r=Math.imul(P,K))+Math.imul(U,H)|0,s=Math.imul(U,K),n=n+Math.imul(D,W)|0,r=(r=r+Math.imul(D,Q)|0)+Math.imul(O,W)|0,s=s+Math.imul(O,Q)|0,n=n+Math.imul(C,Z)|0,r=(r=r+Math.imul(C,Y)|0)+Math.imul(N,Z)|0,s=s+Math.imul(N,Y)|0,n=n+Math.imul(I,J)|0,r=(r=r+Math.imul(I,tt)|0)+Math.imul(q,J)|0,s=s+Math.imul(q,tt)|0,n=n+Math.imul(x,it)|0,r=(r=r+Math.imul(x,nt)|0)+Math.imul(S,it)|0,s=s+Math.imul(S,nt)|0,n=n+Math.imul(A,st)|0,r=(r=r+Math.imul(A,ot)|0)+Math.imul(k,st)|0,s=s+Math.imul(k,ot)|0,n=n+Math.imul(w,ht)|0,r=(r=r+Math.imul(w,ut)|0)+Math.imul(_,ht)|0,s=s+Math.imul(_,ut)|0,n=n+Math.imul(v,ct)|0,r=(r=r+Math.imul(v,dt)|0)+Math.imul(y,ct)|0,s=s+Math.imul(y,dt)|0;var xt=(u+(n=n+Math.imul(p,pt)|0)|0)+((8191&(r=(r=r+Math.imul(p,mt)|0)+Math.imul(m,pt)|0))<<13)|0;u=((s=s+Math.imul(m,mt)|0)+(r>>>13)|0)+(xt>>>26)|0,xt&=67108863,n=Math.imul(P,W),r=(r=Math.imul(P,Q))+Math.imul(U,W)|0,s=Math.imul(U,Q),n=n+Math.imul(D,Z)|0,r=(r=r+Math.imul(D,Y)|0)+Math.imul(O,Z)|0,s=s+Math.imul(O,Y)|0,n=n+Math.imul(C,J)|0,r=(r=r+Math.imul(C,tt)|0)+Math.imul(N,J)|0,s=s+Math.imul(N,tt)|0,n=n+Math.imul(I,it)|0,r=(r=r+Math.imul(I,nt)|0)+Math.imul(q,it)|0,s=s+Math.imul(q,nt)|0,n=n+Math.imul(x,st)|0,r=(r=r+Math.imul(x,ot)|0)+Math.imul(S,st)|0,s=s+Math.imul(S,ot)|0,n=n+Math.imul(A,ht)|0,r=(r=r+Math.imul(A,ut)|0)+Math.imul(k,ht)|0,s=s+Math.imul(k,ut)|0,n=n+Math.imul(w,ct)|0,r=(r=r+Math.imul(w,dt)|0)+Math.imul(_,ct)|0,s=s+Math.imul(_,dt)|0;var St=(u+(n=n+Math.imul(v,pt)|0)|0)+((8191&(r=(r=r+Math.imul(v,mt)|0)+Math.imul(y,pt)|0))<<13)|0;u=((s=s+Math.imul(y,mt)|0)+(r>>>13)|0)+(St>>>26)|0,St&=67108863,n=Math.imul(P,Z),r=(r=Math.imul(P,Y))+Math.imul(U,Z)|0,s=Math.imul(U,Y),n=n+Math.imul(D,J)|0,r=(r=r+Math.imul(D,tt)|0)+Math.imul(O,J)|0,s=s+Math.imul(O,tt)|0,n=n+Math.imul(C,it)|0,r=(r=r+Math.imul(C,nt)|0)+Math.imul(N,it)|0,s=s+Math.imul(N,nt)|0,n=n+Math.imul(I,st)|0,r=(r=r+Math.imul(I,ot)|0)+Math.imul(q,st)|0,s=s+Math.imul(q,ot)|0,n=n+Math.imul(x,ht)|0,r=(r=r+Math.imul(x,ut)|0)+Math.imul(S,ht)|0,s=s+Math.imul(S,ut)|0,n=n+Math.imul(A,ct)|0,r=(r=r+Math.imul(A,dt)|0)+Math.imul(k,ct)|0,s=s+Math.imul(k,dt)|0;var Tt=(u+(n=n+Math.imul(w,pt)|0)|0)+((8191&(r=(r=r+Math.imul(w,mt)|0)+Math.imul(_,pt)|0))<<13)|0;u=((s=s+Math.imul(_,mt)|0)+(r>>>13)|0)+(Tt>>>26)|0,Tt&=67108863,n=Math.imul(P,J),r=(r=Math.imul(P,tt))+Math.imul(U,J)|0,s=Math.imul(U,tt),n=n+Math.imul(D,it)|0,r=(r=r+Math.imul(D,nt)|0)+Math.imul(O,it)|0,s=s+Math.imul(O,nt)|0,n=n+Math.imul(C,st)|0,r=(r=r+Math.imul(C,ot)|0)+Math.imul(N,st)|0,s=s+Math.imul(N,ot)|0,n=n+Math.imul(I,ht)|0,r=(r=r+Math.imul(I,ut)|0)+Math.imul(q,ht)|0,s=s+Math.imul(q,ut)|0,n=n+Math.imul(x,ct)|0,r=(r=r+Math.imul(x,dt)|0)+Math.imul(S,ct)|0,s=s+Math.imul(S,dt)|0;var It=(u+(n=n+Math.imul(A,pt)|0)|0)+((8191&(r=(r=r+Math.imul(A,mt)|0)+Math.imul(k,pt)|0))<<13)|0;u=((s=s+Math.imul(k,mt)|0)+(r>>>13)|0)+(It>>>26)|0,It&=67108863,n=Math.imul(P,it),r=(r=Math.imul(P,nt))+Math.imul(U,it)|0,s=Math.imul(U,nt),n=n+Math.imul(D,st)|0,r=(r=r+Math.imul(D,ot)|0)+Math.imul(O,st)|0,s=s+Math.imul(O,ot)|0,n=n+Math.imul(C,ht)|0,r=(r=r+Math.imul(C,ut)|0)+Math.imul(N,ht)|0,s=s+Math.imul(N,ut)|0,n=n+Math.imul(I,ct)|0,r=(r=r+Math.imul(I,dt)|0)+Math.imul(q,ct)|0,s=s+Math.imul(q,dt)|0;var qt=(u+(n=n+Math.imul(x,pt)|0)|0)+((8191&(r=(r=r+Math.imul(x,mt)|0)+Math.imul(S,pt)|0))<<13)|0;u=((s=s+Math.imul(S,mt)|0)+(r>>>13)|0)+(qt>>>26)|0,qt&=67108863,n=Math.imul(P,st),r=(r=Math.imul(P,ot))+Math.imul(U,st)|0,s=Math.imul(U,ot),n=n+Math.imul(D,ht)|0,r=(r=r+Math.imul(D,ut)|0)+Math.imul(O,ht)|0,s=s+Math.imul(O,ut)|0,n=n+Math.imul(C,ct)|0,r=(r=r+Math.imul(C,dt)|0)+Math.imul(N,ct)|0,s=s+Math.imul(N,dt)|0;var Rt=(u+(n=n+Math.imul(I,pt)|0)|0)+((8191&(r=(r=r+Math.imul(I,mt)|0)+Math.imul(q,pt)|0))<<13)|0;u=((s=s+Math.imul(q,mt)|0)+(r>>>13)|0)+(Rt>>>26)|0,Rt&=67108863,n=Math.imul(P,ht),r=(r=Math.imul(P,ut))+Math.imul(U,ht)|0,s=Math.imul(U,ut),n=n+Math.imul(D,ct)|0,r=(r=r+Math.imul(D,dt)|0)+Math.imul(O,ct)|0,s=s+Math.imul(O,dt)|0;var Ct=(u+(n=n+Math.imul(C,pt)|0)|0)+((8191&(r=(r=r+Math.imul(C,mt)|0)+Math.imul(N,pt)|0))<<13)|0;u=((s=s+Math.imul(N,mt)|0)+(r>>>13)|0)+(Ct>>>26)|0,Ct&=67108863,n=Math.imul(P,ct),r=(r=Math.imul(P,dt))+Math.imul(U,ct)|0,s=Math.imul(U,dt);var Nt=(u+(n=n+Math.imul(D,pt)|0)|0)+((8191&(r=(r=r+Math.imul(D,mt)|0)+Math.imul(O,pt)|0))<<13)|0;u=((s=s+Math.imul(O,mt)|0)+(r>>>13)|0)+(Nt>>>26)|0,Nt&=67108863;var Lt=(u+(n=Math.imul(P,pt))|0)+((8191&(r=(r=Math.imul(P,mt))+Math.imul(U,pt)|0))<<13)|0;return u=((s=Math.imul(U,mt))+(r>>>13)|0)+(Lt>>>26)|0,Lt&=67108863,h[0]=gt,h[1]=vt,h[2]=yt,h[3]=bt,h[4]=wt,h[5]=_t,h[6]=Mt,h[7]=At,h[8]=kt,h[9]=Et,h[10]=xt,h[11]=St,h[12]=Tt,h[13]=It,h[14]=qt,h[15]=Rt,h[16]=Ct,h[17]=Nt,h[18]=Lt,0!==u&&(h[19]=u,i.length++),i};function m(t,e,i){return(new g).mulp(t,e,i)}function g(t,e){this.x=t,this.y=e}Math.imul||(p=f),s.prototype.mulTo=function(t,e){var i,n=this.length+t.length;return i=10===this.length&&10===t.length?p(this,t,e):n<63?f(this,t,e):n<1024?function(t,e,i){i.negative=e.negative^t.negative,i.length=t.length+e.length;for(var n=0,r=0,s=0;s<i.length-1;s++){var o=r;r=0;for(var a=67108863&n,h=Math.min(s,e.length-1),u=Math.max(0,s-t.length+1);u<=h;u++){var l=s-u,c=(0|t.words[l])*(0|e.words[u]),d=67108863&c;a=67108863&(d=d+a|0),r+=(o=(o=o+(c/67108864|0)|0)+(d>>>26)|0)>>>26,o&=67108863}i.words[s]=a,n=o,o=r}return 0!==n?i.words[s]=n:i.length--,i.strip()}(this,t,e):m(this,t,e),i},g.prototype.makeRBT=function(t){for(var e=new Array(t),i=s.prototype._countBits(t)-1,n=0;n<t;n++)e[n]=this.revBin(n,i,t);return e},g.prototype.revBin=function(t,e,i){if(0===t||t===i-1)return t;for(var n=0,r=0;r<e;r++)n|=(1&t)<<e-r-1,t>>=1;return n},g.prototype.permute=function(t,e,i,n,r,s){for(var o=0;o<s;o++)n[o]=e[t[o]],r[o]=i[t[o]]},g.prototype.transform=function(t,e,i,n,r,s){this.permute(s,t,e,i,n,r);for(var o=1;o<r;o<<=1)for(var a=o<<1,h=Math.cos(2*Math.PI/a),u=Math.sin(2*Math.PI/a),l=0;l<r;l+=a)for(var c=h,d=u,f=0;f<o;f++){var p=i[l+f],m=n[l+f],g=i[l+f+o],v=n[l+f+o],y=c*g-d*v;v=c*v+d*g,g=y,i[l+f]=p+g,n[l+f]=m+v,i[l+f+o]=p-g,n[l+f+o]=m-v,f!==a&&(y=h*c-u*d,d=h*d+u*c,c=y)}},g.prototype.guessLen13b=function(t,e){var i=1|Math.max(e,t),n=1&i,r=0;for(i=i/2|0;i;i>>>=1)r++;return 1<<r+1+n},g.prototype.conjugate=function(t,e,i){if(!(i<=1))for(var n=0;n<i/2;n++){var r=t[n];t[n]=t[i-n-1],t[i-n-1]=r,r=e[n],e[n]=-e[i-n-1],e[i-n-1]=-r}},g.prototype.normalize13b=function(t,e){for(var i=0,n=0;n<e/2;n++){var r=8192*Math.round(t[2*n+1]/e)+Math.round(t[2*n]/e)+i;t[n]=67108863&r,i=r<67108864?0:r/67108864|0}return t},g.prototype.convert13b=function(t,e,n,r){for(var s=0,o=0;o<e;o++)s+=0|t[o],n[2*o]=8191&s,s>>>=13,n[2*o+1]=8191&s,s>>>=13;for(o=2*e;o<r;++o)n[o]=0;i(0===s),i(0==(-8192&s))},g.prototype.stub=function(t){for(var e=new Array(t),i=0;i<t;i++)e[i]=0;return e},g.prototype.mulp=function(t,e,i){var n=2*this.guessLen13b(t.length,e.length),r=this.makeRBT(n),s=this.stub(n),o=new Array(n),a=new Array(n),h=new Array(n),u=new Array(n),l=new Array(n),c=new Array(n),d=i.words;d.length=n,this.convert13b(t.words,t.length,o,n),this.convert13b(e.words,e.length,u,n),this.transform(o,s,a,h,n,r),this.transform(u,s,l,c,n,r);for(var f=0;f<n;f++){var p=a[f]*l[f]-h[f]*c[f];h[f]=a[f]*c[f]+h[f]*l[f],a[f]=p}return this.conjugate(a,h,n),this.transform(a,h,d,s,n,r),this.conjugate(d,s,n),this.normalize13b(d,n),i.negative=t.negative^e.negative,i.length=t.length+e.length,i.strip()},s.prototype.mul=function(t){var e=new s(null);return e.words=new Array(this.length+t.length),this.mulTo(t,e)},s.prototype.mulf=function(t){var e=new s(null);return e.words=new Array(this.length+t.length),m(this,t,e)},s.prototype.imul=function(t){return this.clone().mulTo(t,this)},s.prototype.imuln=function(t){i("number"==typeof t),i(t<67108864);for(var e=0,n=0;n<this.length;n++){var r=(0|this.words[n])*t,s=(67108863&r)+(67108863&e);e>>=26,e+=r/67108864|0,e+=s>>>26,this.words[n]=67108863&s}return 0!==e&&(this.words[n]=e,this.length++),this},s.prototype.muln=function(t){return this.clone().imuln(t)},s.prototype.sqr=function(){return this.mul(this)},s.prototype.isqr=function(){return this.imul(this.clone())},s.prototype.pow=function(t){var e=function(t){for(var e=new Array(t.bitLength()),i=0;i<e.length;i++){var n=i/26|0,r=i%26;e[i]=(t.words[n]&1<<r)>>>r}return e}(t);if(0===e.length)return new s(1);for(var i=this,n=0;n<e.length&&0===e[n];n++,i=i.sqr());if(++n<e.length)for(var r=i.sqr();n<e.length;n++,r=r.sqr())0!==e[n]&&(i=i.mul(r));return i},s.prototype.iushln=function(t){i("number"==typeof t&&t>=0);var e,n=t%26,r=(t-n)/26,s=67108863>>>26-n<<26-n;if(0!==n){var o=0;for(e=0;e<this.length;e++){var a=this.words[e]&s,h=(0|this.words[e])-a<<n;this.words[e]=h|o,o=a>>>26-n}o&&(this.words[e]=o,this.length++)}if(0!==r){for(e=this.length-1;e>=0;e--)this.words[e+r]=this.words[e];for(e=0;e<r;e++)this.words[e]=0;this.length+=r}return this.strip()},s.prototype.ishln=function(t){return i(0===this.negative),this.iushln(t)},s.prototype.iushrn=function(t,e,n){var r;i("number"==typeof t&&t>=0),r=e?(e-e%26)/26:0;var s=t%26,o=Math.min((t-s)/26,this.length),a=67108863^67108863>>>s<<s,h=n;if(r-=o,r=Math.max(0,r),h){for(var u=0;u<o;u++)h.words[u]=this.words[u];h.length=o}if(0===o);else if(this.length>o)for(this.length-=o,u=0;u<this.length;u++)this.words[u]=this.words[u+o];else this.words[0]=0,this.length=1;var l=0;for(u=this.length-1;u>=0&&(0!==l||u>=r);u--){var c=0|this.words[u];this.words[u]=l<<26-s|c>>>s,l=c&a}return h&&0!==l&&(h.words[h.length++]=l),0===this.length&&(this.words[0]=0,this.length=1),this.strip()},s.prototype.ishrn=function(t,e,n){return i(0===this.negative),this.iushrn(t,e,n)},s.prototype.shln=function(t){return this.clone().ishln(t)},s.prototype.ushln=function(t){return this.clone().iushln(t)},s.prototype.shrn=function(t){return this.clone().ishrn(t)},s.prototype.ushrn=function(t){return this.clone().iushrn(t)},s.prototype.testn=function(t){i("number"==typeof t&&t>=0);var e=t%26,n=(t-e)/26,r=1<<e;return!(this.length<=n)&&!!(this.words[n]&r)},s.prototype.imaskn=function(t){i("number"==typeof t&&t>=0);var e=t%26,n=(t-e)/26;if(i(0===this.negative,"imaskn works only with positive numbers"),this.length<=n)return this;if(0!==e&&n++,this.length=Math.min(n,this.length),0!==e){var r=67108863^67108863>>>e<<e;this.words[this.length-1]&=r}return this.strip()},s.prototype.maskn=function(t){return this.clone().imaskn(t)},s.prototype.iaddn=function(t){return i("number"==typeof t),i(t<67108864),t<0?this.isubn(-t):0!==this.negative?1===this.length&&(0|this.words[0])<t?(this.words[0]=t-(0|this.words[0]),this.negative=0,this):(this.negative=0,this.isubn(t),this.negative=1,this):this._iaddn(t)},s.prototype._iaddn=function(t){this.words[0]+=t;for(var e=0;e<this.length&&this.words[e]>=67108864;e++)this.words[e]-=67108864,e===this.length-1?this.words[e+1]=1:this.words[e+1]++;return this.length=Math.max(this.length,e+1),this},s.prototype.isubn=function(t){if(i("number"==typeof t),i(t<67108864),t<0)return this.iaddn(-t);if(0!==this.negative)return this.negative=0,this.iaddn(t),this.negative=1,this;if(this.words[0]-=t,1===this.length&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var e=0;e<this.length&&this.words[e]<0;e++)this.words[e]+=67108864,this.words[e+1]-=1;return this.strip()},s.prototype.addn=function(t){return this.clone().iaddn(t)},s.prototype.subn=function(t){return this.clone().isubn(t)},s.prototype.iabs=function(){return this.negative=0,this},s.prototype.abs=function(){return this.clone().iabs()},s.prototype._ishlnsubmul=function(t,e,n){var r,s,o=t.length+n;this._expand(o);var a=0;for(r=0;r<t.length;r++){s=(0|this.words[r+n])+a;var h=(0|t.words[r])*e;a=((s-=67108863&h)>>26)-(h/67108864|0),this.words[r+n]=67108863&s}for(;r<this.length-n;r++)a=(s=(0|this.words[r+n])+a)>>26,this.words[r+n]=67108863&s;if(0===a)return this.strip();for(i(-1===a),a=0,r=0;r<this.length;r++)a=(s=-(0|this.words[r])+a)>>26,this.words[r]=67108863&s;return this.negative=1,this.strip()},s.prototype._wordDiv=function(t,e){var i=(this.length,t.length),n=this.clone(),r=t,o=0|r.words[r.length-1];0!==(i=26-this._countBits(o))&&(r=r.ushln(i),n.iushln(i),o=0|r.words[r.length-1]);var a,h=n.length-r.length;if("mod"!==e){(a=new s(null)).length=h+1,a.words=new Array(a.length);for(var u=0;u<a.length;u++)a.words[u]=0}var l=n.clone()._ishlnsubmul(r,1,h);0===l.negative&&(n=l,a&&(a.words[h]=1));for(var c=h-1;c>=0;c--){var d=67108864*(0|n.words[r.length+c])+(0|n.words[r.length+c-1]);for(d=Math.min(d/o|0,67108863),n._ishlnsubmul(r,d,c);0!==n.negative;)d--,n.negative=0,n._ishlnsubmul(r,1,c),n.isZero()||(n.negative^=1);a&&(a.words[c]=d)}return a&&a.strip(),n.strip(),"div"!==e&&0!==i&&n.iushrn(i),{div:a||null,mod:n}},s.prototype.divmod=function(t,e,n){return i(!t.isZero()),this.isZero()?{div:new s(0),mod:new s(0)}:0!==this.negative&&0===t.negative?(a=this.neg().divmod(t,e),"mod"!==e&&(r=a.div.neg()),"div"!==e&&(o=a.mod.neg(),n&&0!==o.negative&&o.iadd(t)),{div:r,mod:o}):0===this.negative&&0!==t.negative?(a=this.divmod(t.neg(),e),"mod"!==e&&(r=a.div.neg()),{div:r,mod:a.mod}):0!=(this.negative&t.negative)?(a=this.neg().divmod(t.neg(),e),"div"!==e&&(o=a.mod.neg(),n&&0!==o.negative&&o.isub(t)),{div:a.div,mod:o}):t.length>this.length||this.cmp(t)<0?{div:new s(0),mod:this}:1===t.length?"div"===e?{div:this.divn(t.words[0]),mod:null}:"mod"===e?{div:null,mod:new s(this.modn(t.words[0]))}:{div:this.divn(t.words[0]),mod:new s(this.modn(t.words[0]))}:this._wordDiv(t,e);var r,o,a},s.prototype.div=function(t){return this.divmod(t,"div",!1).div},s.prototype.mod=function(t){return this.divmod(t,"mod",!1).mod},s.prototype.umod=function(t){return this.divmod(t,"mod",!0).mod},s.prototype.divRound=function(t){var e=this.divmod(t);if(e.mod.isZero())return e.div;var i=0!==e.div.negative?e.mod.isub(t):e.mod,n=t.ushrn(1),r=t.andln(1),s=i.cmp(n);return s<0||1===r&&0===s?e.div:0!==e.div.negative?e.div.isubn(1):e.div.iaddn(1)},s.prototype.modn=function(t){i(t<=67108863);for(var e=67108864%t,n=0,r=this.length-1;r>=0;r--)n=(e*n+(0|this.words[r]))%t;return n},s.prototype.idivn=function(t){i(t<=67108863);for(var e=0,n=this.length-1;n>=0;n--){var r=(0|this.words[n])+67108864*e;this.words[n]=r/t|0,e=r%t}return this.strip()},s.prototype.divn=function(t){return this.clone().idivn(t)},s.prototype.egcd=function(t){i(0===t.negative),i(!t.isZero());var e=this,n=t.clone();e=0!==e.negative?e.umod(t):e.clone();for(var r=new s(1),o=new s(0),a=new s(0),h=new s(1),u=0;e.isEven()&&n.isEven();)e.iushrn(1),n.iushrn(1),++u;for(var l=n.clone(),c=e.clone();!e.isZero();){for(var d=0,f=1;0==(e.words[0]&f)&&d<26;++d,f<<=1);if(d>0)for(e.iushrn(d);d-- >0;)(r.isOdd()||o.isOdd())&&(r.iadd(l),o.isub(c)),r.iushrn(1),o.iushrn(1);for(var p=0,m=1;0==(n.words[0]&m)&&p<26;++p,m<<=1);if(p>0)for(n.iushrn(p);p-- >0;)(a.isOdd()||h.isOdd())&&(a.iadd(l),h.isub(c)),a.iushrn(1),h.iushrn(1);e.cmp(n)>=0?(e.isub(n),r.isub(a),o.isub(h)):(n.isub(e),a.isub(r),h.isub(o))}return{a:a,b:h,gcd:n.iushln(u)}},s.prototype._invmp=function(t){i(0===t.negative),i(!t.isZero());var e=this,n=t.clone();e=0!==e.negative?e.umod(t):e.clone();for(var r,o=new s(1),a=new s(0),h=n.clone();e.cmpn(1)>0&&n.cmpn(1)>0;){for(var u=0,l=1;0==(e.words[0]&l)&&u<26;++u,l<<=1);if(u>0)for(e.iushrn(u);u-- >0;)o.isOdd()&&o.iadd(h),o.iushrn(1);for(var c=0,d=1;0==(n.words[0]&d)&&c<26;++c,d<<=1);if(c>0)for(n.iushrn(c);c-- >0;)a.isOdd()&&a.iadd(h),a.iushrn(1);e.cmp(n)>=0?(e.isub(n),o.isub(a)):(n.isub(e),a.isub(o))}return(r=0===e.cmpn(1)?o:a).cmpn(0)<0&&r.iadd(t),r},s.prototype.gcd=function(t){if(this.isZero())return t.abs();if(t.isZero())return this.abs();var e=this.clone(),i=t.clone();e.negative=0,i.negative=0;for(var n=0;e.isEven()&&i.isEven();n++)e.iushrn(1),i.iushrn(1);for(;;){for(;e.isEven();)e.iushrn(1);for(;i.isEven();)i.iushrn(1);var r=e.cmp(i);if(r<0){var s=e;e=i,i=s}else if(0===r||0===i.cmpn(1))break;e.isub(i)}return i.iushln(n)},s.prototype.invm=function(t){return this.egcd(t).a.umod(t)},s.prototype.isEven=function(){return 0==(1&this.words[0])},s.prototype.isOdd=function(){return 1==(1&this.words[0])},s.prototype.andln=function(t){return this.words[0]&t},s.prototype.bincn=function(t){i("number"==typeof t);var e=t%26,n=(t-e)/26,r=1<<e;if(this.length<=n)return this._expand(n+1),this.words[n]|=r,this;for(var s=r,o=n;0!==s&&o<this.length;o++){var a=0|this.words[o];s=(a+=s)>>>26,a&=67108863,this.words[o]=a}return 0!==s&&(this.words[o]=s,this.length++),this},s.prototype.isZero=function(){return 1===this.length&&0===this.words[0]},s.prototype.cmpn=function(t){var e,n=t<0;if(0!==this.negative&&!n)return-1;if(0===this.negative&&n)return 1;if(this.strip(),this.length>1)e=1;else{n&&(t=-t),i(t<=67108863,"Number is too big");var r=0|this.words[0];e=r===t?0:r<t?-1:1}return 0!==this.negative?0|-e:e},s.prototype.cmp=function(t){if(0!==this.negative&&0===t.negative)return-1;if(0===this.negative&&0!==t.negative)return 1;var e=this.ucmp(t);return 0!==this.negative?0|-e:e},s.prototype.ucmp=function(t){if(this.length>t.length)return 1;if(this.length<t.length)return-1;for(var e=0,i=this.length-1;i>=0;i--){var n=0|this.words[i],r=0|t.words[i];if(n!==r){n<r?e=-1:n>r&&(e=1);break}}return e},s.prototype.gtn=function(t){return 1===this.cmpn(t)},s.prototype.gt=function(t){return 1===this.cmp(t)},s.prototype.gten=function(t){return this.cmpn(t)>=0},s.prototype.gte=function(t){return this.cmp(t)>=0},s.prototype.ltn=function(t){return-1===this.cmpn(t)},s.prototype.lt=function(t){return-1===this.cmp(t)},s.prototype.lten=function(t){return this.cmpn(t)<=0},s.prototype.lte=function(t){return this.cmp(t)<=0},s.prototype.eqn=function(t){return 0===this.cmpn(t)},s.prototype.eq=function(t){return 0===this.cmp(t)},s.red=function(t){return new A(t)},s.prototype.toRed=function(t){return i(!this.red,"Already a number in reduction context"),i(0===this.negative,"red works only with positives"),t.convertTo(this)._forceRed(t)},s.prototype.fromRed=function(){return i(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},s.prototype._forceRed=function(t){return this.red=t,this},s.prototype.forceRed=function(t){return i(!this.red,"Already a number in reduction context"),this._forceRed(t)},s.prototype.redAdd=function(t){return i(this.red,"redAdd works only with red numbers"),this.red.add(this,t)},s.prototype.redIAdd=function(t){return i(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,t)},s.prototype.redSub=function(t){return i(this.red,"redSub works only with red numbers"),this.red.sub(this,t)},s.prototype.redISub=function(t){return i(this.red,"redISub works only with red numbers"),this.red.isub(this,t)},s.prototype.redShl=function(t){return i(this.red,"redShl works only with red numbers"),this.red.shl(this,t)},s.prototype.redMul=function(t){return i(this.red,"redMul works only with red numbers"),this.red._verify2(this,t),this.red.mul(this,t)},s.prototype.redIMul=function(t){return i(this.red,"redMul works only with red numbers"),this.red._verify2(this,t),this.red.imul(this,t)},s.prototype.redSqr=function(){return i(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},s.prototype.redISqr=function(){return i(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},s.prototype.redSqrt=function(){return i(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},s.prototype.redInvm=function(){return i(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},s.prototype.redNeg=function(){return i(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},s.prototype.redPow=function(t){return i(this.red&&!t.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,t)};var v={k256:null,p224:null,p192:null,p25519:null};function y(t,e){this.name=t,this.p=new s(e,16),this.n=this.p.bitLength(),this.k=new s(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}function b(){y.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}function w(){y.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}function _(){y.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}function M(){y.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}function A(t){if("string"==typeof t){var e=s._prime(t);this.m=e.p,this.prime=e}else i(t.gtn(1),"modulus must be greater than 1"),this.m=t,this.prime=null}function k(t){A.call(this,t),this.shift=this.m.bitLength(),this.shift%26!=0&&(this.shift+=26-this.shift%26),this.r=new s(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}y.prototype._tmp=function(){var t=new s(null);return t.words=new Array(Math.ceil(this.n/13)),t},y.prototype.ireduce=function(t){var e,i=t;do{this.split(i,this.tmp),e=(i=(i=this.imulK(i)).iadd(this.tmp)).bitLength()}while(e>this.n);var n=e<this.n?-1:i.ucmp(this.p);return 0===n?(i.words[0]=0,i.length=1):n>0?i.isub(this.p):void 0!==i.strip?i.strip():i._strip(),i},y.prototype.split=function(t,e){t.iushrn(this.n,0,e)},y.prototype.imulK=function(t){return t.imul(this.k)},n(b,y),b.prototype.split=function(t,e){for(var i=4194303,n=Math.min(t.length,9),r=0;r<n;r++)e.words[r]=t.words[r];if(e.length=n,t.length<=9)return t.words[0]=0,void(t.length=1);var s=t.words[9];for(e.words[e.length++]=s&i,r=10;r<t.length;r++){var o=0|t.words[r];t.words[r-10]=(o&i)<<4|s>>>22,s=o}s>>>=22,t.words[r-10]=s,0===s&&t.length>10?t.length-=10:t.length-=9},b.prototype.imulK=function(t){t.words[t.length]=0,t.words[t.length+1]=0,t.length+=2;for(var e=0,i=0;i<t.length;i++){var n=0|t.words[i];e+=977*n,t.words[i]=67108863&e,e=64*n+(e/67108864|0)}return 0===t.words[t.length-1]&&(t.length--,0===t.words[t.length-1]&&t.length--),t},n(w,y),n(_,y),n(M,y),M.prototype.imulK=function(t){for(var e=0,i=0;i<t.length;i++){var n=19*(0|t.words[i])+e,r=67108863&n;n>>>=26,t.words[i]=r,e=n}return 0!==e&&(t.words[t.length++]=e),t},s._prime=function(t){if(v[t])return v[t];var e;if("k256"===t)e=new b;else if("p224"===t)e=new w;else if("p192"===t)e=new _;else{if("p25519"!==t)throw new Error("Unknown prime "+t);e=new M}return v[t]=e,e},A.prototype._verify1=function(t){i(0===t.negative,"red works only with positives"),i(t.red,"red works only with red numbers")},A.prototype._verify2=function(t,e){i(0==(t.negative|e.negative),"red works only with positives"),i(t.red&&t.red===e.red,"red works only with red numbers")},A.prototype.imod=function(t){return this.prime?this.prime.ireduce(t)._forceRed(this):t.umod(this.m)._forceRed(this)},A.prototype.neg=function(t){return t.isZero()?t.clone():this.m.sub(t)._forceRed(this)},A.prototype.add=function(t,e){this._verify2(t,e);var i=t.add(e);return i.cmp(this.m)>=0&&i.isub(this.m),i._forceRed(this)},A.prototype.iadd=function(t,e){this._verify2(t,e);var i=t.iadd(e);return i.cmp(this.m)>=0&&i.isub(this.m),i},A.prototype.sub=function(t,e){this._verify2(t,e);var i=t.sub(e);return i.cmpn(0)<0&&i.iadd(this.m),i._forceRed(this)},A.prototype.isub=function(t,e){this._verify2(t,e);var i=t.isub(e);return i.cmpn(0)<0&&i.iadd(this.m),i},A.prototype.shl=function(t,e){return this._verify1(t),this.imod(t.ushln(e))},A.prototype.imul=function(t,e){return this._verify2(t,e),this.imod(t.imul(e))},A.prototype.mul=function(t,e){return this._verify2(t,e),this.imod(t.mul(e))},A.prototype.isqr=function(t){return this.imul(t,t.clone())},A.prototype.sqr=function(t){return this.mul(t,t)},A.prototype.sqrt=function(t){if(t.isZero())return t.clone();var e=this.m.andln(3);if(i(e%2==1),3===e){var n=this.m.add(new s(1)).iushrn(2);return this.pow(t,n)}for(var r=this.m.subn(1),o=0;!r.isZero()&&0===r.andln(1);)o++,r.iushrn(1);i(!r.isZero());var a=new s(1).toRed(this),h=a.redNeg(),u=this.m.subn(1).iushrn(1),l=this.m.bitLength();for(l=new s(2*l*l).toRed(this);0!==this.pow(l,u).cmp(h);)l.redIAdd(h);for(var c=this.pow(l,r),d=this.pow(t,r.addn(1).iushrn(1)),f=this.pow(t,r),p=o;0!==f.cmp(a);){for(var m=f,g=0;0!==m.cmp(a);g++)m=m.redSqr();i(g<p);var v=this.pow(c,new s(1).iushln(p-g-1));d=d.redMul(v),c=v.redSqr(),f=f.redMul(c),p=g}return d},A.prototype.invm=function(t){var e=t._invmp(this.m);return 0!==e.negative?(e.negative=0,this.imod(e).redNeg()):this.imod(e)},A.prototype.pow=function(t,e){if(e.isZero())return new s(1).toRed(this);if(0===e.cmpn(1))return t.clone();var i=new Array(16);i[0]=new s(1).toRed(this),i[1]=t;for(var n=2;n<i.length;n++)i[n]=this.mul(i[n-1],t);var r=i[0],o=0,a=0,h=e.bitLength()%26;for(0===h&&(h=26),n=e.length-1;n>=0;n--){for(var u=e.words[n],l=h-1;l>=0;l--){var c=u>>l&1;r!==i[0]&&(r=this.sqr(r)),0!==c||0!==o?(o<<=1,o|=c,(4===++a||0===n&&0===l)&&(r=this.mul(r,i[o]),a=0,o=0)):a=0}h=26}return r},A.prototype.convertTo=function(t){var e=t.umod(this.m);return e===t?e.clone():e},A.prototype.convertFrom=function(t){var e=t.clone();return e.red=null,e},s.mont=function(t){return new k(t)},n(k,A),k.prototype.convertTo=function(t){return this.imod(t.ushln(this.shift))},k.prototype.convertFrom=function(t){var e=this.imod(t.mul(this.rinv));return e.red=null,e},k.prototype.imul=function(t,e){if(t.isZero()||e.isZero())return t.words[0]=0,t.length=1,t;var i=t.imul(e),n=i.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),r=i.isub(n).iushrn(this.shift),s=r;return r.cmp(this.m)>=0?s=r.isub(this.m):r.cmpn(0)<0&&(s=r.iadd(this.m)),s._forceRed(this)},k.prototype.mul=function(t,e){if(t.isZero()||e.isZero())return new s(0)._forceRed(this);var i=t.mul(e),n=i.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),r=i.isub(n).iushrn(this.shift),o=r;return r.cmp(this.m)>=0?o=r.isub(this.m):r.cmpn(0)<0&&(o=r.iadd(this.m)),o._forceRed(this)},k.prototype.invm=function(t){return this.imod(t._invmp(this.m).mul(this.r2))._forceRed(this)}}(t,this)})),r.register("TFXOD",(function(t,e){var i=r("2IoDw"),n=r("9m54X");function s(t){this.rand=t||new n.Rand}t.exports=s,s.create=function(t){return new s(t)},s.prototype._randbelow=function(t){var e=t.bitLength(),n=Math.ceil(e/8);do{var r=new i(this.rand.generate(n))}while(r.cmp(t)>=0);return r},s.prototype._randrange=function(t,e){var i=e.sub(t);return t.add(this._randbelow(i))},s.prototype.test=function(t,e,n){var r=t.bitLength(),s=i.mont(t),o=new i(1).toRed(s);e||(e=Math.max(1,r/48|0));for(var a=t.subn(1),h=0;!a.testn(h);h++);for(var u=t.shrn(h),l=a.toRed(s);e>0;e--){var c=this._randrange(new i(2),a);n&&n(c);var d=c.toRed(s).redPow(u);if(0!==d.cmp(o)&&0!==d.cmp(l)){for(var f=1;f<h;f++){if(0===(d=d.redSqr()).cmp(o))return!1;if(0===d.cmp(l))break}if(f===h)return!1}}return!0},s.prototype.getDivisor=function(t,e){var n=t.bitLength(),r=i.mont(t),s=new i(1).toRed(r);e||(e=Math.max(1,n/48|0));for(var o=t.subn(1),a=0;!o.testn(a);a++);for(var h=t.shrn(a),u=o.toRed(r);e>0;e--){var l=this._randrange(new i(2),o),c=t.gcd(l);if(0!==c.cmpn(1))return c;var d=l.toRed(r).redPow(h);if(0!==d.cmp(s)&&0!==d.cmp(u)){for(var f=1;f<a;f++){if(0===(d=d.redSqr()).cmp(s))return d.fromRed().subn(1).gcd(t);if(0===d.cmp(u))break}if(f===a)return(d=d.redSqr()).fromRed().subn(1).gcd(t)}}return!1}})),r.register("2IoDw",(function(t,e){!function(t,e){function i(t,e){if(!t)throw new Error(e||"Assertion failed")}function n(t,e){t.super_=e;var i=function(){};i.prototype=e.prototype,t.prototype=new i,t.prototype.constructor=t}function s(t,e,i){if(s.isBN(t))return t;this.negative=0,this.words=null,this.length=0,this.red=null,null!==t&&("le"!==e&&"be"!==e||(i=e,e=10),this._init(t||0,e||10,i||"be"))}var o;"object"==typeof t?t.exports=s:e.BN=s,s.BN=s,s.wordSize=26;try{o="undefined"!=typeof window&&void 0!==window.Buffer?window.Buffer:r("66yC2").Buffer}catch(t){}function a(t,e){var i=t.charCodeAt(e);return i>=65&&i<=70?i-55:i>=97&&i<=102?i-87:i-48&15}function h(t,e,i){var n=a(t,i);return i-1>=e&&(n|=a(t,i-1)<<4),n}function u(t,e,i,n){for(var r=0,s=Math.min(t.length,i),o=e;o<s;o++){var a=t.charCodeAt(o)-48;r*=n,r+=a>=49?a-49+10:a>=17?a-17+10:a}return r}s.isBN=function(t){return t instanceof s||null!==t&&"object"==typeof t&&t.constructor.wordSize===s.wordSize&&Array.isArray(t.words)},s.max=function(t,e){return t.cmp(e)>0?t:e},s.min=function(t,e){return t.cmp(e)<0?t:e},s.prototype._init=function(t,e,n){if("number"==typeof t)return this._initNumber(t,e,n);if("object"==typeof t)return this._initArray(t,e,n);"hex"===e&&(e=16),i(e===(0|e)&&e>=2&&e<=36);var r=0;"-"===(t=t.toString().replace(/\s+/g,""))[0]&&(r++,this.negative=1),r<t.length&&(16===e?this._parseHex(t,r,n):(this._parseBase(t,e,r),"le"===n&&this._initArray(this.toArray(),e,n)))},s.prototype._initNumber=function(t,e,n){t<0&&(this.negative=1,t=-t),t<67108864?(this.words=[67108863&t],this.length=1):t<4503599627370496?(this.words=[67108863&t,t/67108864&67108863],this.length=2):(i(t<9007199254740992),this.words=[67108863&t,t/67108864&67108863,1],this.length=3),"le"===n&&this._initArray(this.toArray(),e,n)},s.prototype._initArray=function(t,e,n){if(i("number"==typeof t.length),t.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(t.length/3),this.words=new Array(this.length);for(var r=0;r<this.length;r++)this.words[r]=0;var s,o,a=0;if("be"===n)for(r=t.length-1,s=0;r>=0;r-=3)o=t[r]|t[r-1]<<8|t[r-2]<<16,this.words[s]|=o<<a&67108863,this.words[s+1]=o>>>26-a&67108863,(a+=24)>=26&&(a-=26,s++);else if("le"===n)for(r=0,s=0;r<t.length;r+=3)o=t[r]|t[r+1]<<8|t[r+2]<<16,this.words[s]|=o<<a&67108863,this.words[s+1]=o>>>26-a&67108863,(a+=24)>=26&&(a-=26,s++);return this.strip()},s.prototype._parseHex=function(t,e,i){this.length=Math.ceil((t.length-e)/6),this.words=new Array(this.length);for(var n=0;n<this.length;n++)this.words[n]=0;var r,s=0,o=0;if("be"===i)for(n=t.length-1;n>=e;n-=2)r=h(t,e,n)<<s,this.words[o]|=67108863&r,s>=18?(s-=18,o+=1,this.words[o]|=r>>>26):s+=8;else for(n=(t.length-e)%2==0?e+1:e;n<t.length;n+=2)r=h(t,e,n)<<s,this.words[o]|=67108863&r,s>=18?(s-=18,o+=1,this.words[o]|=r>>>26):s+=8;this.strip()},s.prototype._parseBase=function(t,e,i){this.words=[0],this.length=1;for(var n=0,r=1;r<=67108863;r*=e)n++;n--,r=r/e|0;for(var s=t.length-i,o=s%n,a=Math.min(s,s-o)+i,h=0,l=i;l<a;l+=n)h=u(t,l,l+n,e),this.imuln(r),this.words[0]+h<67108864?this.words[0]+=h:this._iaddn(h);if(0!==o){var c=1;for(h=u(t,l,t.length,e),l=0;l<o;l++)c*=e;this.imuln(c),this.words[0]+h<67108864?this.words[0]+=h:this._iaddn(h)}this.strip()},s.prototype.copy=function(t){t.words=new Array(this.length);for(var e=0;e<this.length;e++)t.words[e]=this.words[e];t.length=this.length,t.negative=this.negative,t.red=this.red},s.prototype.clone=function(){var t=new s(null);return this.copy(t),t},s.prototype._expand=function(t){for(;this.length<t;)this.words[this.length++]=0;return this},s.prototype.strip=function(){for(;this.length>1&&0===this.words[this.length-1];)this.length--;return this._normSign()},s.prototype._normSign=function(){return 1===this.length&&0===this.words[0]&&(this.negative=0),this},s.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var l=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],c=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],d=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];function f(t,e,i){i.negative=e.negative^t.negative;var n=t.length+e.length|0;i.length=n,n=n-1|0;var r=0|t.words[0],s=0|e.words[0],o=r*s,a=67108863&o,h=o/67108864|0;i.words[0]=a;for(var u=1;u<n;u++){for(var l=h>>>26,c=67108863&h,d=Math.min(u,e.length-1),f=Math.max(0,u-t.length+1);f<=d;f++){var p=u-f|0;l+=(o=(r=0|t.words[p])*(s=0|e.words[f])+c)/67108864|0,c=67108863&o}i.words[u]=0|c,h=0|l}return 0!==h?i.words[u]=0|h:i.length--,i.strip()}s.prototype.toString=function(t,e){var n;if(e=0|e||1,16===(t=t||10)||"hex"===t){n="";for(var r=0,s=0,o=0;o<this.length;o++){var a=this.words[o],h=(16777215&(a<<r|s)).toString(16);n=0!==(s=a>>>24-r&16777215)||o!==this.length-1?l[6-h.length]+h+n:h+n,(r+=2)>=26&&(r-=26,o--)}for(0!==s&&(n=s.toString(16)+n);n.length%e!=0;)n="0"+n;return 0!==this.negative&&(n="-"+n),n}if(t===(0|t)&&t>=2&&t<=36){var u=c[t],f=d[t];n="";var p=this.clone();for(p.negative=0;!p.isZero();){var m=p.modn(f).toString(t);n=(p=p.idivn(f)).isZero()?m+n:l[u-m.length]+m+n}for(this.isZero()&&(n="0"+n);n.length%e!=0;)n="0"+n;return 0!==this.negative&&(n="-"+n),n}i(!1,"Base should be between 2 and 36")},s.prototype.toNumber=function(){var t=this.words[0];return 2===this.length?t+=67108864*this.words[1]:3===this.length&&1===this.words[2]?t+=4503599627370496+67108864*this.words[1]:this.length>2&&i(!1,"Number can only safely store up to 53 bits"),0!==this.negative?-t:t},s.prototype.toJSON=function(){return this.toString(16)},s.prototype.toBuffer=function(t,e){return i(void 0!==o),this.toArrayLike(o,t,e)},s.prototype.toArray=function(t,e){return this.toArrayLike(Array,t,e)},s.prototype.toArrayLike=function(t,e,n){var r=this.byteLength(),s=n||Math.max(1,r);i(r<=s,"byte array longer than desired length"),i(s>0,"Requested array length <= 0"),this.strip();var o,a,h="le"===e,u=new t(s),l=this.clone();if(h){for(a=0;!l.isZero();a++)o=l.andln(255),l.iushrn(8),u[a]=o;for(;a<s;a++)u[a]=0}else{for(a=0;a<s-r;a++)u[a]=0;for(a=0;!l.isZero();a++)o=l.andln(255),l.iushrn(8),u[s-a-1]=o}return u},Math.clz32?s.prototype._countBits=function(t){return 32-Math.clz32(t)}:s.prototype._countBits=function(t){var e=t,i=0;return e>=4096&&(i+=13,e>>>=13),e>=64&&(i+=7,e>>>=7),e>=8&&(i+=4,e>>>=4),e>=2&&(i+=2,e>>>=2),i+e},s.prototype._zeroBits=function(t){if(0===t)return 26;var e=t,i=0;return 0==(8191&e)&&(i+=13,e>>>=13),0==(127&e)&&(i+=7,e>>>=7),0==(15&e)&&(i+=4,e>>>=4),0==(3&e)&&(i+=2,e>>>=2),0==(1&e)&&i++,i},s.prototype.bitLength=function(){var t=this.words[this.length-1],e=this._countBits(t);return 26*(this.length-1)+e},s.prototype.zeroBits=function(){if(this.isZero())return 0;for(var t=0,e=0;e<this.length;e++){var i=this._zeroBits(this.words[e]);if(t+=i,26!==i)break}return t},s.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},s.prototype.toTwos=function(t){return 0!==this.negative?this.abs().inotn(t).iaddn(1):this.clone()},s.prototype.fromTwos=function(t){return this.testn(t-1)?this.notn(t).iaddn(1).ineg():this.clone()},s.prototype.isNeg=function(){return 0!==this.negative},s.prototype.neg=function(){return this.clone().ineg()},s.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},s.prototype.iuor=function(t){for(;this.length<t.length;)this.words[this.length++]=0;for(var e=0;e<t.length;e++)this.words[e]=this.words[e]|t.words[e];return this.strip()},s.prototype.ior=function(t){return i(0==(this.negative|t.negative)),this.iuor(t)},s.prototype.or=function(t){return this.length>t.length?this.clone().ior(t):t.clone().ior(this)},s.prototype.uor=function(t){return this.length>t.length?this.clone().iuor(t):t.clone().iuor(this)},s.prototype.iuand=function(t){var e;e=this.length>t.length?t:this;for(var i=0;i<e.length;i++)this.words[i]=this.words[i]&t.words[i];return this.length=e.length,this.strip()},s.prototype.iand=function(t){return i(0==(this.negative|t.negative)),this.iuand(t)},s.prototype.and=function(t){return this.length>t.length?this.clone().iand(t):t.clone().iand(this)},s.prototype.uand=function(t){return this.length>t.length?this.clone().iuand(t):t.clone().iuand(this)},s.prototype.iuxor=function(t){var e,i;this.length>t.length?(e=this,i=t):(e=t,i=this);for(var n=0;n<i.length;n++)this.words[n]=e.words[n]^i.words[n];if(this!==e)for(;n<e.length;n++)this.words[n]=e.words[n];return this.length=e.length,this.strip()},s.prototype.ixor=function(t){return i(0==(this.negative|t.negative)),this.iuxor(t)},s.prototype.xor=function(t){return this.length>t.length?this.clone().ixor(t):t.clone().ixor(this)},s.prototype.uxor=function(t){return this.length>t.length?this.clone().iuxor(t):t.clone().iuxor(this)},s.prototype.inotn=function(t){i("number"==typeof t&&t>=0);var e=0|Math.ceil(t/26),n=t%26;this._expand(e),n>0&&e--;for(var r=0;r<e;r++)this.words[r]=67108863&~this.words[r];return n>0&&(this.words[r]=~this.words[r]&67108863>>26-n),this.strip()},s.prototype.notn=function(t){return this.clone().inotn(t)},s.prototype.setn=function(t,e){i("number"==typeof t&&t>=0);var n=t/26|0,r=t%26;return this._expand(n+1),this.words[n]=e?this.words[n]|1<<r:this.words[n]&~(1<<r),this.strip()},s.prototype.iadd=function(t){var e,i,n;if(0!==this.negative&&0===t.negative)return this.negative=0,e=this.isub(t),this.negative^=1,this._normSign();if(0===this.negative&&0!==t.negative)return t.negative=0,e=this.isub(t),t.negative=1,e._normSign();this.length>t.length?(i=this,n=t):(i=t,n=this);for(var r=0,s=0;s<n.length;s++)e=(0|i.words[s])+(0|n.words[s])+r,this.words[s]=67108863&e,r=e>>>26;for(;0!==r&&s<i.length;s++)e=(0|i.words[s])+r,this.words[s]=67108863&e,r=e>>>26;if(this.length=i.length,0!==r)this.words[this.length]=r,this.length++;else if(i!==this)for(;s<i.length;s++)this.words[s]=i.words[s];return this},s.prototype.add=function(t){var e;return 0!==t.negative&&0===this.negative?(t.negative=0,e=this.sub(t),t.negative^=1,e):0===t.negative&&0!==this.negative?(this.negative=0,e=t.sub(this),this.negative=1,e):this.length>t.length?this.clone().iadd(t):t.clone().iadd(this)},s.prototype.isub=function(t){if(0!==t.negative){t.negative=0;var e=this.iadd(t);return t.negative=1,e._normSign()}if(0!==this.negative)return this.negative=0,this.iadd(t),this.negative=1,this._normSign();var i,n,r=this.cmp(t);if(0===r)return this.negative=0,this.length=1,this.words[0]=0,this;r>0?(i=this,n=t):(i=t,n=this);for(var s=0,o=0;o<n.length;o++)s=(e=(0|i.words[o])-(0|n.words[o])+s)>>26,this.words[o]=67108863&e;for(;0!==s&&o<i.length;o++)s=(e=(0|i.words[o])+s)>>26,this.words[o]=67108863&e;if(0===s&&o<i.length&&i!==this)for(;o<i.length;o++)this.words[o]=i.words[o];return this.length=Math.max(this.length,o),i!==this&&(this.negative=1),this.strip()},s.prototype.sub=function(t){return this.clone().isub(t)};var p=function(t,e,i){var n,r,s,o=t.words,a=e.words,h=i.words,u=0,l=0|o[0],c=8191&l,d=l>>>13,f=0|o[1],p=8191&f,m=f>>>13,g=0|o[2],v=8191&g,y=g>>>13,b=0|o[3],w=8191&b,_=b>>>13,M=0|o[4],A=8191&M,k=M>>>13,E=0|o[5],x=8191&E,S=E>>>13,T=0|o[6],I=8191&T,q=T>>>13,R=0|o[7],C=8191&R,N=R>>>13,L=0|o[8],D=8191&L,O=L>>>13,B=0|o[9],P=8191&B,U=B>>>13,F=0|a[0],j=8191&F,z=F>>>13,V=0|a[1],H=8191&V,K=V>>>13,G=0|a[2],W=8191&G,Q=G>>>13,$=0|a[3],Z=8191&$,Y=$>>>13,X=0|a[4],J=8191&X,tt=X>>>13,et=0|a[5],it=8191&et,nt=et>>>13,rt=0|a[6],st=8191&rt,ot=rt>>>13,at=0|a[7],ht=8191&at,ut=at>>>13,lt=0|a[8],ct=8191&lt,dt=lt>>>13,ft=0|a[9],pt=8191&ft,mt=ft>>>13;i.negative=t.negative^e.negative,i.length=19;var gt=(u+(n=Math.imul(c,j))|0)+((8191&(r=(r=Math.imul(c,z))+Math.imul(d,j)|0))<<13)|0;u=((s=Math.imul(d,z))+(r>>>13)|0)+(gt>>>26)|0,gt&=67108863,n=Math.imul(p,j),r=(r=Math.imul(p,z))+Math.imul(m,j)|0,s=Math.imul(m,z);var vt=(u+(n=n+Math.imul(c,H)|0)|0)+((8191&(r=(r=r+Math.imul(c,K)|0)+Math.imul(d,H)|0))<<13)|0;u=((s=s+Math.imul(d,K)|0)+(r>>>13)|0)+(vt>>>26)|0,vt&=67108863,n=Math.imul(v,j),r=(r=Math.imul(v,z))+Math.imul(y,j)|0,s=Math.imul(y,z),n=n+Math.imul(p,H)|0,r=(r=r+Math.imul(p,K)|0)+Math.imul(m,H)|0,s=s+Math.imul(m,K)|0;var yt=(u+(n=n+Math.imul(c,W)|0)|0)+((8191&(r=(r=r+Math.imul(c,Q)|0)+Math.imul(d,W)|0))<<13)|0;u=((s=s+Math.imul(d,Q)|0)+(r>>>13)|0)+(yt>>>26)|0,yt&=67108863,n=Math.imul(w,j),r=(r=Math.imul(w,z))+Math.imul(_,j)|0,s=Math.imul(_,z),n=n+Math.imul(v,H)|0,r=(r=r+Math.imul(v,K)|0)+Math.imul(y,H)|0,s=s+Math.imul(y,K)|0,n=n+Math.imul(p,W)|0,r=(r=r+Math.imul(p,Q)|0)+Math.imul(m,W)|0,s=s+Math.imul(m,Q)|0;var bt=(u+(n=n+Math.imul(c,Z)|0)|0)+((8191&(r=(r=r+Math.imul(c,Y)|0)+Math.imul(d,Z)|0))<<13)|0;u=((s=s+Math.imul(d,Y)|0)+(r>>>13)|0)+(bt>>>26)|0,bt&=67108863,n=Math.imul(A,j),r=(r=Math.imul(A,z))+Math.imul(k,j)|0,s=Math.imul(k,z),n=n+Math.imul(w,H)|0,r=(r=r+Math.imul(w,K)|0)+Math.imul(_,H)|0,s=s+Math.imul(_,K)|0,n=n+Math.imul(v,W)|0,r=(r=r+Math.imul(v,Q)|0)+Math.imul(y,W)|0,s=s+Math.imul(y,Q)|0,n=n+Math.imul(p,Z)|0,r=(r=r+Math.imul(p,Y)|0)+Math.imul(m,Z)|0,s=s+Math.imul(m,Y)|0;var wt=(u+(n=n+Math.imul(c,J)|0)|0)+((8191&(r=(r=r+Math.imul(c,tt)|0)+Math.imul(d,J)|0))<<13)|0;u=((s=s+Math.imul(d,tt)|0)+(r>>>13)|0)+(wt>>>26)|0,wt&=67108863,n=Math.imul(x,j),r=(r=Math.imul(x,z))+Math.imul(S,j)|0,s=Math.imul(S,z),n=n+Math.imul(A,H)|0,r=(r=r+Math.imul(A,K)|0)+Math.imul(k,H)|0,s=s+Math.imul(k,K)|0,n=n+Math.imul(w,W)|0,r=(r=r+Math.imul(w,Q)|0)+Math.imul(_,W)|0,s=s+Math.imul(_,Q)|0,n=n+Math.imul(v,Z)|0,r=(r=r+Math.imul(v,Y)|0)+Math.imul(y,Z)|0,s=s+Math.imul(y,Y)|0,n=n+Math.imul(p,J)|0,r=(r=r+Math.imul(p,tt)|0)+Math.imul(m,J)|0,s=s+Math.imul(m,tt)|0;var _t=(u+(n=n+Math.imul(c,it)|0)|0)+((8191&(r=(r=r+Math.imul(c,nt)|0)+Math.imul(d,it)|0))<<13)|0;u=((s=s+Math.imul(d,nt)|0)+(r>>>13)|0)+(_t>>>26)|0,_t&=67108863,n=Math.imul(I,j),r=(r=Math.imul(I,z))+Math.imul(q,j)|0,s=Math.imul(q,z),n=n+Math.imul(x,H)|0,r=(r=r+Math.imul(x,K)|0)+Math.imul(S,H)|0,s=s+Math.imul(S,K)|0,n=n+Math.imul(A,W)|0,r=(r=r+Math.imul(A,Q)|0)+Math.imul(k,W)|0,s=s+Math.imul(k,Q)|0,n=n+Math.imul(w,Z)|0,r=(r=r+Math.imul(w,Y)|0)+Math.imul(_,Z)|0,s=s+Math.imul(_,Y)|0,n=n+Math.imul(v,J)|0,r=(r=r+Math.imul(v,tt)|0)+Math.imul(y,J)|0,s=s+Math.imul(y,tt)|0,n=n+Math.imul(p,it)|0,r=(r=r+Math.imul(p,nt)|0)+Math.imul(m,it)|0,s=s+Math.imul(m,nt)|0;var Mt=(u+(n=n+Math.imul(c,st)|0)|0)+((8191&(r=(r=r+Math.imul(c,ot)|0)+Math.imul(d,st)|0))<<13)|0;u=((s=s+Math.imul(d,ot)|0)+(r>>>13)|0)+(Mt>>>26)|0,Mt&=67108863,n=Math.imul(C,j),r=(r=Math.imul(C,z))+Math.imul(N,j)|0,s=Math.imul(N,z),n=n+Math.imul(I,H)|0,r=(r=r+Math.imul(I,K)|0)+Math.imul(q,H)|0,s=s+Math.imul(q,K)|0,n=n+Math.imul(x,W)|0,r=(r=r+Math.imul(x,Q)|0)+Math.imul(S,W)|0,s=s+Math.imul(S,Q)|0,n=n+Math.imul(A,Z)|0,r=(r=r+Math.imul(A,Y)|0)+Math.imul(k,Z)|0,s=s+Math.imul(k,Y)|0,n=n+Math.imul(w,J)|0,r=(r=r+Math.imul(w,tt)|0)+Math.imul(_,J)|0,s=s+Math.imul(_,tt)|0,n=n+Math.imul(v,it)|0,r=(r=r+Math.imul(v,nt)|0)+Math.imul(y,it)|0,s=s+Math.imul(y,nt)|0,n=n+Math.imul(p,st)|0,r=(r=r+Math.imul(p,ot)|0)+Math.imul(m,st)|0,s=s+Math.imul(m,ot)|0;var At=(u+(n=n+Math.imul(c,ht)|0)|0)+((8191&(r=(r=r+Math.imul(c,ut)|0)+Math.imul(d,ht)|0))<<13)|0;u=((s=s+Math.imul(d,ut)|0)+(r>>>13)|0)+(At>>>26)|0,At&=67108863,n=Math.imul(D,j),r=(r=Math.imul(D,z))+Math.imul(O,j)|0,s=Math.imul(O,z),n=n+Math.imul(C,H)|0,r=(r=r+Math.imul(C,K)|0)+Math.imul(N,H)|0,s=s+Math.imul(N,K)|0,n=n+Math.imul(I,W)|0,r=(r=r+Math.imul(I,Q)|0)+Math.imul(q,W)|0,s=s+Math.imul(q,Q)|0,n=n+Math.imul(x,Z)|0,r=(r=r+Math.imul(x,Y)|0)+Math.imul(S,Z)|0,s=s+Math.imul(S,Y)|0,n=n+Math.imul(A,J)|0,r=(r=r+Math.imul(A,tt)|0)+Math.imul(k,J)|0,s=s+Math.imul(k,tt)|0,n=n+Math.imul(w,it)|0,r=(r=r+Math.imul(w,nt)|0)+Math.imul(_,it)|0,s=s+Math.imul(_,nt)|0,n=n+Math.imul(v,st)|0,r=(r=r+Math.imul(v,ot)|0)+Math.imul(y,st)|0,s=s+Math.imul(y,ot)|0,n=n+Math.imul(p,ht)|0,r=(r=r+Math.imul(p,ut)|0)+Math.imul(m,ht)|0,s=s+Math.imul(m,ut)|0;var kt=(u+(n=n+Math.imul(c,ct)|0)|0)+((8191&(r=(r=r+Math.imul(c,dt)|0)+Math.imul(d,ct)|0))<<13)|0;u=((s=s+Math.imul(d,dt)|0)+(r>>>13)|0)+(kt>>>26)|0,kt&=67108863,n=Math.imul(P,j),r=(r=Math.imul(P,z))+Math.imul(U,j)|0,s=Math.imul(U,z),n=n+Math.imul(D,H)|0,r=(r=r+Math.imul(D,K)|0)+Math.imul(O,H)|0,s=s+Math.imul(O,K)|0,n=n+Math.imul(C,W)|0,r=(r=r+Math.imul(C,Q)|0)+Math.imul(N,W)|0,s=s+Math.imul(N,Q)|0,n=n+Math.imul(I,Z)|0,r=(r=r+Math.imul(I,Y)|0)+Math.imul(q,Z)|0,s=s+Math.imul(q,Y)|0,n=n+Math.imul(x,J)|0,r=(r=r+Math.imul(x,tt)|0)+Math.imul(S,J)|0,s=s+Math.imul(S,tt)|0,n=n+Math.imul(A,it)|0,r=(r=r+Math.imul(A,nt)|0)+Math.imul(k,it)|0,s=s+Math.imul(k,nt)|0,n=n+Math.imul(w,st)|0,r=(r=r+Math.imul(w,ot)|0)+Math.imul(_,st)|0,s=s+Math.imul(_,ot)|0,n=n+Math.imul(v,ht)|0,r=(r=r+Math.imul(v,ut)|0)+Math.imul(y,ht)|0,s=s+Math.imul(y,ut)|0,n=n+Math.imul(p,ct)|0,r=(r=r+Math.imul(p,dt)|0)+Math.imul(m,ct)|0,s=s+Math.imul(m,dt)|0;var Et=(u+(n=n+Math.imul(c,pt)|0)|0)+((8191&(r=(r=r+Math.imul(c,mt)|0)+Math.imul(d,pt)|0))<<13)|0;u=((s=s+Math.imul(d,mt)|0)+(r>>>13)|0)+(Et>>>26)|0,Et&=67108863,n=Math.imul(P,H),r=(r=Math.imul(P,K))+Math.imul(U,H)|0,s=Math.imul(U,K),n=n+Math.imul(D,W)|0,r=(r=r+Math.imul(D,Q)|0)+Math.imul(O,W)|0,s=s+Math.imul(O,Q)|0,n=n+Math.imul(C,Z)|0,r=(r=r+Math.imul(C,Y)|0)+Math.imul(N,Z)|0,s=s+Math.imul(N,Y)|0,n=n+Math.imul(I,J)|0,r=(r=r+Math.imul(I,tt)|0)+Math.imul(q,J)|0,s=s+Math.imul(q,tt)|0,n=n+Math.imul(x,it)|0,r=(r=r+Math.imul(x,nt)|0)+Math.imul(S,it)|0,s=s+Math.imul(S,nt)|0,n=n+Math.imul(A,st)|0,r=(r=r+Math.imul(A,ot)|0)+Math.imul(k,st)|0,s=s+Math.imul(k,ot)|0,n=n+Math.imul(w,ht)|0,r=(r=r+Math.imul(w,ut)|0)+Math.imul(_,ht)|0,s=s+Math.imul(_,ut)|0,n=n+Math.imul(v,ct)|0,r=(r=r+Math.imul(v,dt)|0)+Math.imul(y,ct)|0,s=s+Math.imul(y,dt)|0;var xt=(u+(n=n+Math.imul(p,pt)|0)|0)+((8191&(r=(r=r+Math.imul(p,mt)|0)+Math.imul(m,pt)|0))<<13)|0;u=((s=s+Math.imul(m,mt)|0)+(r>>>13)|0)+(xt>>>26)|0,xt&=67108863,n=Math.imul(P,W),r=(r=Math.imul(P,Q))+Math.imul(U,W)|0,s=Math.imul(U,Q),n=n+Math.imul(D,Z)|0,r=(r=r+Math.imul(D,Y)|0)+Math.imul(O,Z)|0,s=s+Math.imul(O,Y)|0,n=n+Math.imul(C,J)|0,r=(r=r+Math.imul(C,tt)|0)+Math.imul(N,J)|0,s=s+Math.imul(N,tt)|0,n=n+Math.imul(I,it)|0,r=(r=r+Math.imul(I,nt)|0)+Math.imul(q,it)|0,s=s+Math.imul(q,nt)|0,n=n+Math.imul(x,st)|0,r=(r=r+Math.imul(x,ot)|0)+Math.imul(S,st)|0,s=s+Math.imul(S,ot)|0,n=n+Math.imul(A,ht)|0,r=(r=r+Math.imul(A,ut)|0)+Math.imul(k,ht)|0,s=s+Math.imul(k,ut)|0,n=n+Math.imul(w,ct)|0,r=(r=r+Math.imul(w,dt)|0)+Math.imul(_,ct)|0,s=s+Math.imul(_,dt)|0;var St=(u+(n=n+Math.imul(v,pt)|0)|0)+((8191&(r=(r=r+Math.imul(v,mt)|0)+Math.imul(y,pt)|0))<<13)|0;u=((s=s+Math.imul(y,mt)|0)+(r>>>13)|0)+(St>>>26)|0,St&=67108863,n=Math.imul(P,Z),r=(r=Math.imul(P,Y))+Math.imul(U,Z)|0,s=Math.imul(U,Y),n=n+Math.imul(D,J)|0,r=(r=r+Math.imul(D,tt)|0)+Math.imul(O,J)|0,s=s+Math.imul(O,tt)|0,n=n+Math.imul(C,it)|0,r=(r=r+Math.imul(C,nt)|0)+Math.imul(N,it)|0,s=s+Math.imul(N,nt)|0,n=n+Math.imul(I,st)|0,r=(r=r+Math.imul(I,ot)|0)+Math.imul(q,st)|0,s=s+Math.imul(q,ot)|0,n=n+Math.imul(x,ht)|0,r=(r=r+Math.imul(x,ut)|0)+Math.imul(S,ht)|0,s=s+Math.imul(S,ut)|0,n=n+Math.imul(A,ct)|0,r=(r=r+Math.imul(A,dt)|0)+Math.imul(k,ct)|0,s=s+Math.imul(k,dt)|0;var Tt=(u+(n=n+Math.imul(w,pt)|0)|0)+((8191&(r=(r=r+Math.imul(w,mt)|0)+Math.imul(_,pt)|0))<<13)|0;u=((s=s+Math.imul(_,mt)|0)+(r>>>13)|0)+(Tt>>>26)|0,Tt&=67108863,n=Math.imul(P,J),r=(r=Math.imul(P,tt))+Math.imul(U,J)|0,s=Math.imul(U,tt),n=n+Math.imul(D,it)|0,r=(r=r+Math.imul(D,nt)|0)+Math.imul(O,it)|0,s=s+Math.imul(O,nt)|0,n=n+Math.imul(C,st)|0,r=(r=r+Math.imul(C,ot)|0)+Math.imul(N,st)|0,s=s+Math.imul(N,ot)|0,n=n+Math.imul(I,ht)|0,r=(r=r+Math.imul(I,ut)|0)+Math.imul(q,ht)|0,s=s+Math.imul(q,ut)|0,n=n+Math.imul(x,ct)|0,r=(r=r+Math.imul(x,dt)|0)+Math.imul(S,ct)|0,s=s+Math.imul(S,dt)|0;var It=(u+(n=n+Math.imul(A,pt)|0)|0)+((8191&(r=(r=r+Math.imul(A,mt)|0)+Math.imul(k,pt)|0))<<13)|0;u=((s=s+Math.imul(k,mt)|0)+(r>>>13)|0)+(It>>>26)|0,It&=67108863,n=Math.imul(P,it),r=(r=Math.imul(P,nt))+Math.imul(U,it)|0,s=Math.imul(U,nt),n=n+Math.imul(D,st)|0,r=(r=r+Math.imul(D,ot)|0)+Math.imul(O,st)|0,s=s+Math.imul(O,ot)|0,n=n+Math.imul(C,ht)|0,r=(r=r+Math.imul(C,ut)|0)+Math.imul(N,ht)|0,s=s+Math.imul(N,ut)|0,n=n+Math.imul(I,ct)|0,r=(r=r+Math.imul(I,dt)|0)+Math.imul(q,ct)|0,s=s+Math.imul(q,dt)|0;var qt=(u+(n=n+Math.imul(x,pt)|0)|0)+((8191&(r=(r=r+Math.imul(x,mt)|0)+Math.imul(S,pt)|0))<<13)|0;u=((s=s+Math.imul(S,mt)|0)+(r>>>13)|0)+(qt>>>26)|0,qt&=67108863,n=Math.imul(P,st),r=(r=Math.imul(P,ot))+Math.imul(U,st)|0,s=Math.imul(U,ot),n=n+Math.imul(D,ht)|0,r=(r=r+Math.imul(D,ut)|0)+Math.imul(O,ht)|0,s=s+Math.imul(O,ut)|0,n=n+Math.imul(C,ct)|0,r=(r=r+Math.imul(C,dt)|0)+Math.imul(N,ct)|0,s=s+Math.imul(N,dt)|0;var Rt=(u+(n=n+Math.imul(I,pt)|0)|0)+((8191&(r=(r=r+Math.imul(I,mt)|0)+Math.imul(q,pt)|0))<<13)|0;u=((s=s+Math.imul(q,mt)|0)+(r>>>13)|0)+(Rt>>>26)|0,Rt&=67108863,n=Math.imul(P,ht),r=(r=Math.imul(P,ut))+Math.imul(U,ht)|0,s=Math.imul(U,ut),n=n+Math.imul(D,ct)|0,r=(r=r+Math.imul(D,dt)|0)+Math.imul(O,ct)|0,s=s+Math.imul(O,dt)|0;var Ct=(u+(n=n+Math.imul(C,pt)|0)|0)+((8191&(r=(r=r+Math.imul(C,mt)|0)+Math.imul(N,pt)|0))<<13)|0;u=((s=s+Math.imul(N,mt)|0)+(r>>>13)|0)+(Ct>>>26)|0,Ct&=67108863,n=Math.imul(P,ct),r=(r=Math.imul(P,dt))+Math.imul(U,ct)|0,s=Math.imul(U,dt);var Nt=(u+(n=n+Math.imul(D,pt)|0)|0)+((8191&(r=(r=r+Math.imul(D,mt)|0)+Math.imul(O,pt)|0))<<13)|0;u=((s=s+Math.imul(O,mt)|0)+(r>>>13)|0)+(Nt>>>26)|0,Nt&=67108863;var Lt=(u+(n=Math.imul(P,pt))|0)+((8191&(r=(r=Math.imul(P,mt))+Math.imul(U,pt)|0))<<13)|0;return u=((s=Math.imul(U,mt))+(r>>>13)|0)+(Lt>>>26)|0,Lt&=67108863,h[0]=gt,h[1]=vt,h[2]=yt,h[3]=bt,h[4]=wt,h[5]=_t,h[6]=Mt,h[7]=At,h[8]=kt,h[9]=Et,h[10]=xt,h[11]=St,h[12]=Tt,h[13]=It,h[14]=qt,h[15]=Rt,h[16]=Ct,h[17]=Nt,h[18]=Lt,0!==u&&(h[19]=u,i.length++),i};function m(t,e,i){return(new g).mulp(t,e,i)}function g(t,e){this.x=t,this.y=e}Math.imul||(p=f),s.prototype.mulTo=function(t,e){var i,n=this.length+t.length;return i=10===this.length&&10===t.length?p(this,t,e):n<63?f(this,t,e):n<1024?function(t,e,i){i.negative=e.negative^t.negative,i.length=t.length+e.length;for(var n=0,r=0,s=0;s<i.length-1;s++){var o=r;r=0;for(var a=67108863&n,h=Math.min(s,e.length-1),u=Math.max(0,s-t.length+1);u<=h;u++){var l=s-u,c=(0|t.words[l])*(0|e.words[u]),d=67108863&c;a=67108863&(d=d+a|0),r+=(o=(o=o+(c/67108864|0)|0)+(d>>>26)|0)>>>26,o&=67108863}i.words[s]=a,n=o,o=r}return 0!==n?i.words[s]=n:i.length--,i.strip()}(this,t,e):m(this,t,e),i},g.prototype.makeRBT=function(t){for(var e=new Array(t),i=s.prototype._countBits(t)-1,n=0;n<t;n++)e[n]=this.revBin(n,i,t);return e},g.prototype.revBin=function(t,e,i){if(0===t||t===i-1)return t;for(var n=0,r=0;r<e;r++)n|=(1&t)<<e-r-1,t>>=1;return n},g.prototype.permute=function(t,e,i,n,r,s){for(var o=0;o<s;o++)n[o]=e[t[o]],r[o]=i[t[o]]},g.prototype.transform=function(t,e,i,n,r,s){this.permute(s,t,e,i,n,r);for(var o=1;o<r;o<<=1)for(var a=o<<1,h=Math.cos(2*Math.PI/a),u=Math.sin(2*Math.PI/a),l=0;l<r;l+=a)for(var c=h,d=u,f=0;f<o;f++){var p=i[l+f],m=n[l+f],g=i[l+f+o],v=n[l+f+o],y=c*g-d*v;v=c*v+d*g,g=y,i[l+f]=p+g,n[l+f]=m+v,i[l+f+o]=p-g,n[l+f+o]=m-v,f!==a&&(y=h*c-u*d,d=h*d+u*c,c=y)}},g.prototype.guessLen13b=function(t,e){var i=1|Math.max(e,t),n=1&i,r=0;for(i=i/2|0;i;i>>>=1)r++;return 1<<r+1+n},g.prototype.conjugate=function(t,e,i){if(!(i<=1))for(var n=0;n<i/2;n++){var r=t[n];t[n]=t[i-n-1],t[i-n-1]=r,r=e[n],e[n]=-e[i-n-1],e[i-n-1]=-r}},g.prototype.normalize13b=function(t,e){for(var i=0,n=0;n<e/2;n++){var r=8192*Math.round(t[2*n+1]/e)+Math.round(t[2*n]/e)+i;t[n]=67108863&r,i=r<67108864?0:r/67108864|0}return t},g.prototype.convert13b=function(t,e,n,r){for(var s=0,o=0;o<e;o++)s+=0|t[o],n[2*o]=8191&s,s>>>=13,n[2*o+1]=8191&s,s>>>=13;for(o=2*e;o<r;++o)n[o]=0;i(0===s),i(0==(-8192&s))},g.prototype.stub=function(t){for(var e=new Array(t),i=0;i<t;i++)e[i]=0;return e},g.prototype.mulp=function(t,e,i){var n=2*this.guessLen13b(t.length,e.length),r=this.makeRBT(n),s=this.stub(n),o=new Array(n),a=new Array(n),h=new Array(n),u=new Array(n),l=new Array(n),c=new Array(n),d=i.words;d.length=n,this.convert13b(t.words,t.length,o,n),this.convert13b(e.words,e.length,u,n),this.transform(o,s,a,h,n,r),this.transform(u,s,l,c,n,r);for(var f=0;f<n;f++){var p=a[f]*l[f]-h[f]*c[f];h[f]=a[f]*c[f]+h[f]*l[f],a[f]=p}return this.conjugate(a,h,n),this.transform(a,h,d,s,n,r),this.conjugate(d,s,n),this.normalize13b(d,n),i.negative=t.negative^e.negative,i.length=t.length+e.length,i.strip()},s.prototype.mul=function(t){var e=new s(null);return e.words=new Array(this.length+t.length),this.mulTo(t,e)},s.prototype.mulf=function(t){var e=new s(null);return e.words=new Array(this.length+t.length),m(this,t,e)},s.prototype.imul=function(t){return this.clone().mulTo(t,this)},s.prototype.imuln=function(t){i("number"==typeof t),i(t<67108864);for(var e=0,n=0;n<this.length;n++){var r=(0|this.words[n])*t,s=(67108863&r)+(67108863&e);e>>=26,e+=r/67108864|0,e+=s>>>26,this.words[n]=67108863&s}return 0!==e&&(this.words[n]=e,this.length++),this},s.prototype.muln=function(t){return this.clone().imuln(t)},s.prototype.sqr=function(){return this.mul(this)},s.prototype.isqr=function(){return this.imul(this.clone())},s.prototype.pow=function(t){var e=function(t){for(var e=new Array(t.bitLength()),i=0;i<e.length;i++){var n=i/26|0,r=i%26;e[i]=(t.words[n]&1<<r)>>>r}return e}(t);if(0===e.length)return new s(1);for(var i=this,n=0;n<e.length&&0===e[n];n++,i=i.sqr());if(++n<e.length)for(var r=i.sqr();n<e.length;n++,r=r.sqr())0!==e[n]&&(i=i.mul(r));return i},s.prototype.iushln=function(t){i("number"==typeof t&&t>=0);var e,n=t%26,r=(t-n)/26,s=67108863>>>26-n<<26-n;if(0!==n){var o=0;for(e=0;e<this.length;e++){var a=this.words[e]&s,h=(0|this.words[e])-a<<n;this.words[e]=h|o,o=a>>>26-n}o&&(this.words[e]=o,this.length++)}if(0!==r){for(e=this.length-1;e>=0;e--)this.words[e+r]=this.words[e];for(e=0;e<r;e++)this.words[e]=0;this.length+=r}return this.strip()},s.prototype.ishln=function(t){return i(0===this.negative),this.iushln(t)},s.prototype.iushrn=function(t,e,n){var r;i("number"==typeof t&&t>=0),r=e?(e-e%26)/26:0;var s=t%26,o=Math.min((t-s)/26,this.length),a=67108863^67108863>>>s<<s,h=n;if(r-=o,r=Math.max(0,r),h){for(var u=0;u<o;u++)h.words[u]=this.words[u];h.length=o}if(0===o);else if(this.length>o)for(this.length-=o,u=0;u<this.length;u++)this.words[u]=this.words[u+o];else this.words[0]=0,this.length=1;var l=0;for(u=this.length-1;u>=0&&(0!==l||u>=r);u--){var c=0|this.words[u];this.words[u]=l<<26-s|c>>>s,l=c&a}return h&&0!==l&&(h.words[h.length++]=l),0===this.length&&(this.words[0]=0,this.length=1),this.strip()},s.prototype.ishrn=function(t,e,n){return i(0===this.negative),this.iushrn(t,e,n)},s.prototype.shln=function(t){return this.clone().ishln(t)},s.prototype.ushln=function(t){return this.clone().iushln(t)},s.prototype.shrn=function(t){return this.clone().ishrn(t)},s.prototype.ushrn=function(t){return this.clone().iushrn(t)},s.prototype.testn=function(t){i("number"==typeof t&&t>=0);var e=t%26,n=(t-e)/26,r=1<<e;return!(this.length<=n)&&!!(this.words[n]&r)},s.prototype.imaskn=function(t){i("number"==typeof t&&t>=0);var e=t%26,n=(t-e)/26;if(i(0===this.negative,"imaskn works only with positive numbers"),this.length<=n)return this;if(0!==e&&n++,this.length=Math.min(n,this.length),0!==e){var r=67108863^67108863>>>e<<e;this.words[this.length-1]&=r}return this.strip()},s.prototype.maskn=function(t){return this.clone().imaskn(t)},s.prototype.iaddn=function(t){return i("number"==typeof t),i(t<67108864),t<0?this.isubn(-t):0!==this.negative?1===this.length&&(0|this.words[0])<t?(this.words[0]=t-(0|this.words[0]),this.negative=0,this):(this.negative=0,this.isubn(t),this.negative=1,this):this._iaddn(t)},s.prototype._iaddn=function(t){this.words[0]+=t;for(var e=0;e<this.length&&this.words[e]>=67108864;e++)this.words[e]-=67108864,e===this.length-1?this.words[e+1]=1:this.words[e+1]++;return this.length=Math.max(this.length,e+1),this},s.prototype.isubn=function(t){if(i("number"==typeof t),i(t<67108864),t<0)return this.iaddn(-t);if(0!==this.negative)return this.negative=0,this.iaddn(t),this.negative=1,this;if(this.words[0]-=t,1===this.length&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var e=0;e<this.length&&this.words[e]<0;e++)this.words[e]+=67108864,this.words[e+1]-=1;return this.strip()},s.prototype.addn=function(t){return this.clone().iaddn(t)},s.prototype.subn=function(t){return this.clone().isubn(t)},s.prototype.iabs=function(){return this.negative=0,this},s.prototype.abs=function(){return this.clone().iabs()},s.prototype._ishlnsubmul=function(t,e,n){var r,s,o=t.length+n;this._expand(o);var a=0;for(r=0;r<t.length;r++){s=(0|this.words[r+n])+a;var h=(0|t.words[r])*e;a=((s-=67108863&h)>>26)-(h/67108864|0),this.words[r+n]=67108863&s}for(;r<this.length-n;r++)a=(s=(0|this.words[r+n])+a)>>26,this.words[r+n]=67108863&s;if(0===a)return this.strip();for(i(-1===a),a=0,r=0;r<this.length;r++)a=(s=-(0|this.words[r])+a)>>26,this.words[r]=67108863&s;return this.negative=1,this.strip()},s.prototype._wordDiv=function(t,e){var i=(this.length,t.length),n=this.clone(),r=t,o=0|r.words[r.length-1];0!==(i=26-this._countBits(o))&&(r=r.ushln(i),n.iushln(i),o=0|r.words[r.length-1]);var a,h=n.length-r.length;if("mod"!==e){(a=new s(null)).length=h+1,a.words=new Array(a.length);for(var u=0;u<a.length;u++)a.words[u]=0}var l=n.clone()._ishlnsubmul(r,1,h);0===l.negative&&(n=l,a&&(a.words[h]=1));for(var c=h-1;c>=0;c--){var d=67108864*(0|n.words[r.length+c])+(0|n.words[r.length+c-1]);for(d=Math.min(d/o|0,67108863),n._ishlnsubmul(r,d,c);0!==n.negative;)d--,n.negative=0,n._ishlnsubmul(r,1,c),n.isZero()||(n.negative^=1);a&&(a.words[c]=d)}return a&&a.strip(),n.strip(),"div"!==e&&0!==i&&n.iushrn(i),{div:a||null,mod:n}},s.prototype.divmod=function(t,e,n){return i(!t.isZero()),this.isZero()?{div:new s(0),mod:new s(0)}:0!==this.negative&&0===t.negative?(a=this.neg().divmod(t,e),"mod"!==e&&(r=a.div.neg()),"div"!==e&&(o=a.mod.neg(),n&&0!==o.negative&&o.iadd(t)),{div:r,mod:o}):0===this.negative&&0!==t.negative?(a=this.divmod(t.neg(),e),"mod"!==e&&(r=a.div.neg()),{div:r,mod:a.mod}):0!=(this.negative&t.negative)?(a=this.neg().divmod(t.neg(),e),"div"!==e&&(o=a.mod.neg(),n&&0!==o.negative&&o.isub(t)),{div:a.div,mod:o}):t.length>this.length||this.cmp(t)<0?{div:new s(0),mod:this}:1===t.length?"div"===e?{div:this.divn(t.words[0]),mod:null}:"mod"===e?{div:null,mod:new s(this.modn(t.words[0]))}:{div:this.divn(t.words[0]),mod:new s(this.modn(t.words[0]))}:this._wordDiv(t,e);var r,o,a},s.prototype.div=function(t){return this.divmod(t,"div",!1).div},s.prototype.mod=function(t){return this.divmod(t,"mod",!1).mod},s.prototype.umod=function(t){return this.divmod(t,"mod",!0).mod},s.prototype.divRound=function(t){var e=this.divmod(t);if(e.mod.isZero())return e.div;var i=0!==e.div.negative?e.mod.isub(t):e.mod,n=t.ushrn(1),r=t.andln(1),s=i.cmp(n);return s<0||1===r&&0===s?e.div:0!==e.div.negative?e.div.isubn(1):e.div.iaddn(1)},s.prototype.modn=function(t){i(t<=67108863);for(var e=67108864%t,n=0,r=this.length-1;r>=0;r--)n=(e*n+(0|this.words[r]))%t;return n},s.prototype.idivn=function(t){i(t<=67108863);for(var e=0,n=this.length-1;n>=0;n--){var r=(0|this.words[n])+67108864*e;this.words[n]=r/t|0,e=r%t}return this.strip()},s.prototype.divn=function(t){return this.clone().idivn(t)},s.prototype.egcd=function(t){i(0===t.negative),i(!t.isZero());var e=this,n=t.clone();e=0!==e.negative?e.umod(t):e.clone();for(var r=new s(1),o=new s(0),a=new s(0),h=new s(1),u=0;e.isEven()&&n.isEven();)e.iushrn(1),n.iushrn(1),++u;for(var l=n.clone(),c=e.clone();!e.isZero();){for(var d=0,f=1;0==(e.words[0]&f)&&d<26;++d,f<<=1);if(d>0)for(e.iushrn(d);d-- >0;)(r.isOdd()||o.isOdd())&&(r.iadd(l),o.isub(c)),r.iushrn(1),o.iushrn(1);for(var p=0,m=1;0==(n.words[0]&m)&&p<26;++p,m<<=1);if(p>0)for(n.iushrn(p);p-- >0;)(a.isOdd()||h.isOdd())&&(a.iadd(l),h.isub(c)),a.iushrn(1),h.iushrn(1);e.cmp(n)>=0?(e.isub(n),r.isub(a),o.isub(h)):(n.isub(e),a.isub(r),h.isub(o))}return{a:a,b:h,gcd:n.iushln(u)}},s.prototype._invmp=function(t){i(0===t.negative),i(!t.isZero());var e=this,n=t.clone();e=0!==e.negative?e.umod(t):e.clone();for(var r,o=new s(1),a=new s(0),h=n.clone();e.cmpn(1)>0&&n.cmpn(1)>0;){for(var u=0,l=1;0==(e.words[0]&l)&&u<26;++u,l<<=1);if(u>0)for(e.iushrn(u);u-- >0;)o.isOdd()&&o.iadd(h),o.iushrn(1);for(var c=0,d=1;0==(n.words[0]&d)&&c<26;++c,d<<=1);if(c>0)for(n.iushrn(c);c-- >0;)a.isOdd()&&a.iadd(h),a.iushrn(1);e.cmp(n)>=0?(e.isub(n),o.isub(a)):(n.isub(e),a.isub(o))}return(r=0===e.cmpn(1)?o:a).cmpn(0)<0&&r.iadd(t),r},s.prototype.gcd=function(t){if(this.isZero())return t.abs();if(t.isZero())return this.abs();var e=this.clone(),i=t.clone();e.negative=0,i.negative=0;for(var n=0;e.isEven()&&i.isEven();n++)e.iushrn(1),i.iushrn(1);for(;;){for(;e.isEven();)e.iushrn(1);for(;i.isEven();)i.iushrn(1);var r=e.cmp(i);if(r<0){var s=e;e=i,i=s}else if(0===r||0===i.cmpn(1))break;e.isub(i)}return i.iushln(n)},s.prototype.invm=function(t){return this.egcd(t).a.umod(t)},s.prototype.isEven=function(){return 0==(1&this.words[0])},s.prototype.isOdd=function(){return 1==(1&this.words[0])},s.prototype.andln=function(t){return this.words[0]&t},s.prototype.bincn=function(t){i("number"==typeof t);var e=t%26,n=(t-e)/26,r=1<<e;if(this.length<=n)return this._expand(n+1),this.words[n]|=r,this;for(var s=r,o=n;0!==s&&o<this.length;o++){var a=0|this.words[o];s=(a+=s)>>>26,a&=67108863,this.words[o]=a}return 0!==s&&(this.words[o]=s,this.length++),this},s.prototype.isZero=function(){return 1===this.length&&0===this.words[0]},s.prototype.cmpn=function(t){var e,n=t<0;if(0!==this.negative&&!n)return-1;if(0===this.negative&&n)return 1;if(this.strip(),this.length>1)e=1;else{n&&(t=-t),i(t<=67108863,"Number is too big");var r=0|this.words[0];e=r===t?0:r<t?-1:1}return 0!==this.negative?0|-e:e},s.prototype.cmp=function(t){if(0!==this.negative&&0===t.negative)return-1;if(0===this.negative&&0!==t.negative)return 1;var e=this.ucmp(t);return 0!==this.negative?0|-e:e},s.prototype.ucmp=function(t){if(this.length>t.length)return 1;if(this.length<t.length)return-1;for(var e=0,i=this.length-1;i>=0;i--){var n=0|this.words[i],r=0|t.words[i];if(n!==r){n<r?e=-1:n>r&&(e=1);break}}return e},s.prototype.gtn=function(t){return 1===this.cmpn(t)},s.prototype.gt=function(t){return 1===this.cmp(t)},s.prototype.gten=function(t){return this.cmpn(t)>=0},s.prototype.gte=function(t){return this.cmp(t)>=0},s.prototype.ltn=function(t){return-1===this.cmpn(t)},s.prototype.lt=function(t){return-1===this.cmp(t)},s.prototype.lten=function(t){return this.cmpn(t)<=0},s.prototype.lte=function(t){return this.cmp(t)<=0},s.prototype.eqn=function(t){return 0===this.cmpn(t)},s.prototype.eq=function(t){return 0===this.cmp(t)},s.red=function(t){return new A(t)},s.prototype.toRed=function(t){return i(!this.red,"Already a number in reduction context"),i(0===this.negative,"red works only with positives"),t.convertTo(this)._forceRed(t)},s.prototype.fromRed=function(){return i(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},s.prototype._forceRed=function(t){return this.red=t,this},s.prototype.forceRed=function(t){return i(!this.red,"Already a number in reduction context"),this._forceRed(t)},s.prototype.redAdd=function(t){return i(this.red,"redAdd works only with red numbers"),this.red.add(this,t)},s.prototype.redIAdd=function(t){return i(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,t)},s.prototype.redSub=function(t){return i(this.red,"redSub works only with red numbers"),this.red.sub(this,t)},s.prototype.redISub=function(t){return i(this.red,"redISub works only with red numbers"),this.red.isub(this,t)},s.prototype.redShl=function(t){return i(this.red,"redShl works only with red numbers"),this.red.shl(this,t)},s.prototype.redMul=function(t){return i(this.red,"redMul works only with red numbers"),this.red._verify2(this,t),this.red.mul(this,t)},s.prototype.redIMul=function(t){return i(this.red,"redMul works only with red numbers"),this.red._verify2(this,t),this.red.imul(this,t)},s.prototype.redSqr=function(){return i(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},s.prototype.redISqr=function(){return i(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},s.prototype.redSqrt=function(){return i(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},s.prototype.redInvm=function(){return i(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},s.prototype.redNeg=function(){return i(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},s.prototype.redPow=function(t){return i(this.red&&!t.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,t)};var v={k256:null,p224:null,p192:null,p25519:null};function y(t,e){this.name=t,this.p=new s(e,16),this.n=this.p.bitLength(),this.k=new s(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}function b(){y.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}function w(){y.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}function _(){y.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}function M(){y.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}function A(t){if("string"==typeof t){var e=s._prime(t);this.m=e.p,this.prime=e}else i(t.gtn(1),"modulus must be greater than 1"),this.m=t,this.prime=null}function k(t){A.call(this,t),this.shift=this.m.bitLength(),this.shift%26!=0&&(this.shift+=26-this.shift%26),this.r=new s(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}y.prototype._tmp=function(){var t=new s(null);return t.words=new Array(Math.ceil(this.n/13)),t},y.prototype.ireduce=function(t){var e,i=t;do{this.split(i,this.tmp),e=(i=(i=this.imulK(i)).iadd(this.tmp)).bitLength()}while(e>this.n);var n=e<this.n?-1:i.ucmp(this.p);return 0===n?(i.words[0]=0,i.length=1):n>0?i.isub(this.p):void 0!==i.strip?i.strip():i._strip(),i},y.prototype.split=function(t,e){t.iushrn(this.n,0,e)},y.prototype.imulK=function(t){return t.imul(this.k)},n(b,y),b.prototype.split=function(t,e){for(var i=4194303,n=Math.min(t.length,9),r=0;r<n;r++)e.words[r]=t.words[r];if(e.length=n,t.length<=9)return t.words[0]=0,void(t.length=1);var s=t.words[9];for(e.words[e.length++]=s&i,r=10;r<t.length;r++){var o=0|t.words[r];t.words[r-10]=(o&i)<<4|s>>>22,s=o}s>>>=22,t.words[r-10]=s,0===s&&t.length>10?t.length-=10:t.length-=9},b.prototype.imulK=function(t){t.words[t.length]=0,t.words[t.length+1]=0,t.length+=2;for(var e=0,i=0;i<t.length;i++){var n=0|t.words[i];e+=977*n,t.words[i]=67108863&e,e=64*n+(e/67108864|0)}return 0===t.words[t.length-1]&&(t.length--,0===t.words[t.length-1]&&t.length--),t},n(w,y),n(_,y),n(M,y),M.prototype.imulK=function(t){for(var e=0,i=0;i<t.length;i++){var n=19*(0|t.words[i])+e,r=67108863&n;n>>>=26,t.words[i]=r,e=n}return 0!==e&&(t.words[t.length++]=e),t},s._prime=function(t){if(v[t])return v[t];var e;if("k256"===t)e=new b;else if("p224"===t)e=new w;else if("p192"===t)e=new _;else{if("p25519"!==t)throw new Error("Unknown prime "+t);e=new M}return v[t]=e,e},A.prototype._verify1=function(t){i(0===t.negative,"red works only with positives"),i(t.red,"red works only with red numbers")},A.prototype._verify2=function(t,e){i(0==(t.negative|e.negative),"red works only with positives"),i(t.red&&t.red===e.red,"red works only with red numbers")},A.prototype.imod=function(t){return this.prime?this.prime.ireduce(t)._forceRed(this):t.umod(this.m)._forceRed(this)},A.prototype.neg=function(t){return t.isZero()?t.clone():this.m.sub(t)._forceRed(this)},A.prototype.add=function(t,e){this._verify2(t,e);var i=t.add(e);return i.cmp(this.m)>=0&&i.isub(this.m),i._forceRed(this)},A.prototype.iadd=function(t,e){this._verify2(t,e);var i=t.iadd(e);return i.cmp(this.m)>=0&&i.isub(this.m),i},A.prototype.sub=function(t,e){this._verify2(t,e);var i=t.sub(e);return i.cmpn(0)<0&&i.iadd(this.m),i._forceRed(this)},A.prototype.isub=function(t,e){this._verify2(t,e);var i=t.isub(e);return i.cmpn(0)<0&&i.iadd(this.m),i},A.prototype.shl=function(t,e){return this._verify1(t),this.imod(t.ushln(e))},A.prototype.imul=function(t,e){return this._verify2(t,e),this.imod(t.imul(e))},A.prototype.mul=function(t,e){return this._verify2(t,e),this.imod(t.mul(e))},A.prototype.isqr=function(t){return this.imul(t,t.clone())},A.prototype.sqr=function(t){return this.mul(t,t)},A.prototype.sqrt=function(t){if(t.isZero())return t.clone();var e=this.m.andln(3);if(i(e%2==1),3===e){var n=this.m.add(new s(1)).iushrn(2);return this.pow(t,n)}for(var r=this.m.subn(1),o=0;!r.isZero()&&0===r.andln(1);)o++,r.iushrn(1);i(!r.isZero());var a=new s(1).toRed(this),h=a.redNeg(),u=this.m.subn(1).iushrn(1),l=this.m.bitLength();for(l=new s(2*l*l).toRed(this);0!==this.pow(l,u).cmp(h);)l.redIAdd(h);for(var c=this.pow(l,r),d=this.pow(t,r.addn(1).iushrn(1)),f=this.pow(t,r),p=o;0!==f.cmp(a);){for(var m=f,g=0;0!==m.cmp(a);g++)m=m.redSqr();i(g<p);var v=this.pow(c,new s(1).iushln(p-g-1));d=d.redMul(v),c=v.redSqr(),f=f.redMul(c),p=g}return d},A.prototype.invm=function(t){var e=t._invmp(this.m);return 0!==e.negative?(e.negative=0,this.imod(e).redNeg()):this.imod(e)},A.prototype.pow=function(t,e){if(e.isZero())return new s(1).toRed(this);if(0===e.cmpn(1))return t.clone();var i=new Array(16);i[0]=new s(1).toRed(this),i[1]=t;for(var n=2;n<i.length;n++)i[n]=this.mul(i[n-1],t);var r=i[0],o=0,a=0,h=e.bitLength()%26;for(0===h&&(h=26),n=e.length-1;n>=0;n--){for(var u=e.words[n],l=h-1;l>=0;l--){var c=u>>l&1;r!==i[0]&&(r=this.sqr(r)),0!==c||0!==o?(o<<=1,o|=c,(4===++a||0===n&&0===l)&&(r=this.mul(r,i[o]),a=0,o=0)):a=0}h=26}return r},A.prototype.convertTo=function(t){var e=t.umod(this.m);return e===t?e.clone():e},A.prototype.convertFrom=function(t){var e=t.clone();return e.red=null,e},s.mont=function(t){return new k(t)},n(k,A),k.prototype.convertTo=function(t){return this.imod(t.ushln(this.shift))},k.prototype.convertFrom=function(t){var e=this.imod(t.mul(this.rinv));return e.red=null,e},k.prototype.imul=function(t,e){if(t.isZero()||e.isZero())return t.words[0]=0,t.length=1,t;var i=t.imul(e),n=i.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),r=i.isub(n).iushrn(this.shift),s=r;return r.cmp(this.m)>=0?s=r.isub(this.m):r.cmpn(0)<0&&(s=r.iadd(this.m)),s._forceRed(this)},k.prototype.mul=function(t,e){if(t.isZero()||e.isZero())return new s(0)._forceRed(this);var i=t.mul(e),n=i.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),r=i.isub(n).iushrn(this.shift),o=r;return r.cmp(this.m)>=0?o=r.isub(this.m):r.cmpn(0)<0&&(o=r.iadd(this.m)),o._forceRed(this)},k.prototype.invm=function(t){return this.imod(t._invmp(this.m).mul(this.r2))._forceRed(this)}}(t,this)})),r.register("9m54X",(function(t,e){var i;function n(t){this.rand=t}if(t.exports=function(t){return i||(i=new n(null)),i.generate(t)},t.exports.Rand=n,n.prototype.generate=function(t){return this._rand(t)},n.prototype._rand=function(t){if(this.rand.getBytes)return this.rand.getBytes(t);for(var e=new Uint8Array(t),i=0;i<e.length;i++)e[i]=this.rand.getByte();return e},"object"==typeof self)self.crypto&&self.crypto.getRandomValues?n.prototype._rand=function(t){var e=new Uint8Array(t);return self.crypto.getRandomValues(e),e}:self.msCrypto&&self.msCrypto.getRandomValues?n.prototype._rand=function(t){var e=new Uint8Array(t);return self.msCrypto.getRandomValues(e),e}:"object"==typeof window&&(n.prototype._rand=function(){throw new Error("Not implemented yet")});else try{var s=r("66yC2");if("function"!=typeof s.randomBytes)throw new Error("Not supported");n.prototype._rand=function(t){return s.randomBytes(t)}}catch(t){}})),r.register("jBhBo",(function(t,e){t.exports=JSON.parse('{"modp1":{"gen":"02","prime":"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a63a3620ffffffffffffffff"},"modp2":{"gen":"02","prime":"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece65381ffffffffffffffff"},"modp5":{"gen":"02","prime":"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca237327ffffffffffffffff"},"modp14":{"gen":"02","prime":"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aacaa68ffffffffffffffff"},"modp15":{"gen":"02","prime":"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a93ad2caffffffffffffffff"},"modp16":{"gen":"02","prime":"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a92108011a723c12a787e6d788719a10bdba5b2699c327186af4e23c1a946834b6150bda2583e9ca2ad44ce8dbbbc2db04de8ef92e8efc141fbecaa6287c59474e6bc05d99b2964fa090c3a2233ba186515be7ed1f612970cee2d7afb81bdd762170481cd0069127d5b05aa993b4ea988d8fddc186ffb7dc90a6c08f4df435c934063199ffffffffffffffff"},"modp17":{"gen":"02","prime":"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a92108011a723c12a787e6d788719a10bdba5b2699c327186af4e23c1a946834b6150bda2583e9ca2ad44ce8dbbbc2db04de8ef92e8efc141fbecaa6287c59474e6bc05d99b2964fa090c3a2233ba186515be7ed1f612970cee2d7afb81bdd762170481cd0069127d5b05aa993b4ea988d8fddc186ffb7dc90a6c08f4df435c93402849236c3fab4d27c7026c1d4dcb2602646dec9751e763dba37bdf8ff9406ad9e530ee5db382f413001aeb06a53ed9027d831179727b0865a8918da3edbebcf9b14ed44ce6cbaced4bb1bdb7f1447e6cc254b332051512bd7af426fb8f401378cd2bf5983ca01c64b92ecf032ea15d1721d03f482d7ce6e74fef6d55e702f46980c82b5a84031900b1c9e59e7c97fbec7e8f323a97a7e36cc88be0f1d45b7ff585ac54bd407b22b4154aacc8f6d7ebf48e1d814cc5ed20f8037e0a79715eef29be32806a1d58bb7c5da76f550aa3d8a1fbff0eb19ccb1a313d55cda56c9ec2ef29632387fe8d76e3c0468043e8f663f4860ee12bf2d5b0b7474d6e694f91e6dcc4024ffffffffffffffff"},"modp18":{"gen":"02","prime":"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a92108011a723c12a787e6d788719a10bdba5b2699c327186af4e23c1a946834b6150bda2583e9ca2ad44ce8dbbbc2db04de8ef92e8efc141fbecaa6287c59474e6bc05d99b2964fa090c3a2233ba186515be7ed1f612970cee2d7afb81bdd762170481cd0069127d5b05aa993b4ea988d8fddc186ffb7dc90a6c08f4df435c93402849236c3fab4d27c7026c1d4dcb2602646dec9751e763dba37bdf8ff9406ad9e530ee5db382f413001aeb06a53ed9027d831179727b0865a8918da3edbebcf9b14ed44ce6cbaced4bb1bdb7f1447e6cc254b332051512bd7af426fb8f401378cd2bf5983ca01c64b92ecf032ea15d1721d03f482d7ce6e74fef6d55e702f46980c82b5a84031900b1c9e59e7c97fbec7e8f323a97a7e36cc88be0f1d45b7ff585ac54bd407b22b4154aacc8f6d7ebf48e1d814cc5ed20f8037e0a79715eef29be32806a1d58bb7c5da76f550aa3d8a1fbff0eb19ccb1a313d55cda56c9ec2ef29632387fe8d76e3c0468043e8f663f4860ee12bf2d5b0b7474d6e694f91e6dbe115974a3926f12fee5e438777cb6a932df8cd8bec4d073b931ba3bc832b68d9dd300741fa7bf8afc47ed2576f6936ba424663aab639c5ae4f5683423b4742bf1c978238f16cbe39d652de3fdb8befc848ad922222e04a4037c0713eb57a81a23f0c73473fc646cea306b4bcbc8862f8385ddfa9d4b7fa2c087e879683303ed5bdd3a062b3cf5b3a278a66d2a13f83f44f82ddf310ee074ab6a364597e899a0255dc164f31cc50846851df9ab48195ded7ea1b1d510bd7ee74d73faf36bc31ecfa268359046f4eb879f924009438b481c6cd7889a002ed5ee382bc9190da6fc026e479558e4475677e9aa9e3050e2765694dfc81f56e880b96e7160c980dd98edd3dfffffffffffffffff"}}')})),r.register("8oJEU",(function(t,e){var i=r("8UsMN").Buffer,n=r("edZn3"),s=new(r("TFXOD")),o=new n(24),a=new n(11),h=new n(10),u=new n(3),l=new n(7),c=r("fzqD1"),d=r("bUSoq");function f(t,e){return e=e||"utf8",i.isBuffer(t)||(t=new i(t,e)),this._pub=new n(t),this}function p(t,e){return e=e||"utf8",i.isBuffer(t)||(t=new i(t,e)),this._priv=new n(t),this}t.exports=g;var m={};function g(t,e,i){this.setGenerator(e),this.__prime=new n(t),this._prime=n.mont(this.__prime),this._primeLen=t.length,this._pub=void 0,this._priv=void 0,this._primeCode=void 0,i?(this.setPublicKey=f,this.setPrivateKey=p):this._primeCode=8}function v(t,e){var n=new i(t.toArray());return e?n.toString(e):n}Object.defineProperty(g.prototype,"verifyError",{enumerable:!0,get:function(){return"number"!=typeof this._primeCode&&(this._primeCode=function(t,e){var i=e.toString("hex"),n=[i,t.toString(16)].join("_");if(n in m)return m[n];var r,d=0;if(t.isEven()||!c.simpleSieve||!c.fermatTest(t)||!s.test(t))return d+=1,d+="02"===i||"05"===i?8:4,m[n]=d,d;switch(s.test(t.shrn(1))||(d+=2),i){case"02":t.mod(o).cmp(a)&&(d+=8);break;case"05":(r=t.mod(h)).cmp(u)&&r.cmp(l)&&(d+=8);break;default:d+=4}return m[n]=d,d}(this.__prime,this.__gen)),this._primeCode}}),g.prototype.generateKeys=function(){return this._priv||(this._priv=new n(d(this._primeLen))),this._pub=this._gen.toRed(this._prime).redPow(this._priv).fromRed(),this.getPublicKey()},g.prototype.computeSecret=function(t){var e=(t=(t=new n(t)).toRed(this._prime)).redPow(this._priv).fromRed(),r=new i(e.toArray()),s=this.getPrime();if(r.length<s.length){var o=new i(s.length-r.length);o.fill(0),r=i.concat([o,r])}return r},g.prototype.getPublicKey=function(t){return v(this._pub,t)},g.prototype.getPrivateKey=function(t){return v(this._priv,t)},g.prototype.getPrime=function(t){return v(this.__prime,t)},g.prototype.getGenerator=function(t){return v(this._gen,t)},g.prototype.setGenerator=function(t,e){return e=e||"utf8",i.isBuffer(t)||(t=new i(t,e)),this.__gen=t,this._gen=new n(t),this}})),r.register("2qrhF",(function(t,e){var i=r("4OiF0").Buffer,n=r("dHvdJ"),s=r("95soA"),o=r("bniia"),a=r("5lPkG"),h=r("9J4Jv"),u=r("6rTx5");function l(t){s.Writable.call(this);var e=u[t];if(!e)throw new Error("Unknown message digest");this._hashType=e.hash,this._hash=n(e.hash),this._tag=e.id,this._signType=e.sign}function c(t){s.Writable.call(this);var e=u[t];if(!e)throw new Error("Unknown message digest");this._hash=n(e.hash),this._tag=e.id,this._signType=e.sign}function d(t){return new l(t)}function f(t){return new c(t)}Object.keys(u).forEach((function(t){u[t].id=i.from(u[t].id,"hex"),u[t.toLowerCase()]=u[t]})),o(l,s.Writable),l.prototype._write=function(t,e,i){this._hash.update(t),i()},l.prototype.update=function(t,e){return"string"==typeof t&&(t=i.from(t,e)),this._hash.update(t),this},l.prototype.sign=function(t,e){this.end();var i=this._hash.digest(),n=a(i,t,this._hashType,this._signType,this._tag);return e?n.toString(e):n},o(c,s.Writable),c.prototype._write=function(t,e,i){this._hash.update(t),i()},c.prototype.update=function(t,e){return"string"==typeof t&&(t=i.from(t,e)),this._hash.update(t),this},c.prototype.verify=function(t,e,n){"string"==typeof e&&(e=i.from(e,n)),this.end();var r=this._hash.digest();return h(e,r,t,this._signType,this._tag)},t.exports={Sign:d,Verify:f,createSign:d,createVerify:f}})),r.register("5lPkG",(function(t,e){var i=r("4OiF0").Buffer,n=r("arZPn"),s=r("aHKJP"),o=r("ikIB9").ec,a=r("7ww61"),h=r("eOlL6"),u=r("6YO51");function l(t,e,r,s){if((t=i.from(t.toArray())).length<e.byteLength()){var o=i.alloc(e.byteLength()-t.length);t=i.concat([o,t])}var a=r.length,h=function(t,e){t=c(t,e),t=t.mod(e);var n=i.from(t.toArray());if(n.length<e.byteLength()){var r=i.alloc(e.byteLength()-n.length);n=i.concat([r,n])}return n}(r,e),u=i.alloc(a);u.fill(1);var l=i.alloc(a);return l=n(s,l).update(u).update(i.from([0])).update(t).update(h).digest(),u=n(s,l).update(u).digest(),{k:l=n(s,l).update(u).update(i.from([1])).update(t).update(h).digest(),v:u=n(s,l).update(u).digest()}}function c(t,e){var i=new a(t),n=(t.length<<3)-e.bitLength();return n>0&&i.ishrn(n),i}function d(t,e,r){var s,o;do{for(s=i.alloc(0);8*s.length<t.bitLength();)e.v=n(r,e.k).update(e.v).digest(),s=i.concat([s,e.v]);o=c(s,t),e.k=n(r,e.k).update(e.v).update(i.from([0])).digest(),e.v=n(r,e.k).update(e.v).digest()}while(-1!==o.cmp(t));return o}function f(t,e,i,n){return t.toRed(a.mont(i)).redPow(e).fromRed().mod(n)}t.exports=function(t,e,n,r,p){var m=h(e);if(m.curve){if("ecdsa"!==r&&"ecdsa/rsa"!==r)throw new Error("wrong private key type");return function(t,e){var n=u[e.curve.join(".")];if(!n)throw new Error("unknown curve "+e.curve.join("."));var r=new o(n).keyFromPrivate(e.privateKey),s=r.sign(t);return i.from(s.toDER())}(t,m)}if("dsa"===m.type){if("dsa"!==r)throw new Error("wrong private key type");return function(t,e,n){var r,s=e.params.priv_key,o=e.params.p,h=e.params.q,u=e.params.g,p=new a(0),m=c(t,h).mod(h),g=!1,v=l(s,h,t,n);for(;!1===g;)p=f(u,r=d(h,v,n),o,h),0===(g=r.invm(h).imul(m.add(s.mul(p))).mod(h)).cmpn(0)&&(g=!1,p=new a(0));return function(t,e){t=t.toArray(),e=e.toArray(),128&t[0]&&(t=[0].concat(t));128&e[0]&&(e=[0].concat(e));var n=t.length+e.length+4,r=[48,n,2,t.length];return r=r.concat(t,[2,e.length],e),i.from(r)}(p,g)}(t,m,n)}if("rsa"!==r&&"ecdsa/rsa"!==r)throw new Error("wrong private key type");t=i.concat([p,t]);for(var g=m.modulus.byteLength(),v=[0,1];t.length+v.length+1<g;)v.push(255);v.push(0);for(var y=-1;++y<t.length;)v.push(t[y]);return s(v,m)},t.exports.getKey=l,t.exports.makeKey=d})),r.register("aHKJP",(function(t,e){var i=r("8UsMN").Buffer,n=r("7ww61"),s=r("bUSoq");function o(t){var e,i=t.modulus.byteLength();do{e=new n(s(i))}while(e.cmp(t.modulus)>=0||!e.umod(t.prime1)||!e.umod(t.prime2));return e}function a(t,e){var r=function(t){var e=o(t);return{blinder:e.toRed(n.mont(t.modulus)).redPow(new n(t.publicExponent)).fromRed(),unblinder:e.invm(t.modulus)}}(e),s=e.modulus.byteLength(),a=new n(t).mul(r.blinder).umod(e.modulus),h=a.toRed(n.mont(e.prime1)),u=a.toRed(n.mont(e.prime2)),l=e.coefficient,c=e.prime1,d=e.prime2,f=h.redPow(e.exponent1).fromRed(),p=u.redPow(e.exponent2).fromRed(),m=f.isub(p).imul(l).umod(c).imul(d);return p.iadd(m).imul(r.unblinder).umod(e.modulus).toArrayLike(i,"be",s)}a.getr=o,t.exports=a})),r.register("7ww61",(function(t,e){!function(t,e){function i(t,e){if(!t)throw new Error(e||"Assertion failed")}function n(t,e){t.super_=e;var i=function(){};i.prototype=e.prototype,t.prototype=new i,t.prototype.constructor=t}function s(t,e,i){if(s.isBN(t))return t;this.negative=0,this.words=null,this.length=0,this.red=null,null!==t&&("le"!==e&&"be"!==e||(i=e,e=10),this._init(t||0,e||10,i||"be"))}var o;"object"==typeof t?t.exports=s:e.BN=s,s.BN=s,s.wordSize=26;try{o="undefined"!=typeof window&&void 0!==window.Buffer?window.Buffer:r("66yC2").Buffer}catch(t){}function a(t,e){var n=t.charCodeAt(e);return n>=48&&n<=57?n-48:n>=65&&n<=70?n-55:n>=97&&n<=102?n-87:void i(!1,"Invalid character in "+t)}function h(t,e,i){var n=a(t,i);return i-1>=e&&(n|=a(t,i-1)<<4),n}function u(t,e,n,r){for(var s=0,o=0,a=Math.min(t.length,n),h=e;h<a;h++){var u=t.charCodeAt(h)-48;s*=r,o=u>=49?u-49+10:u>=17?u-17+10:u,i(u>=0&&o<r,"Invalid character"),s+=o}return s}function l(t,e){t.words=e.words,t.length=e.length,t.negative=e.negative,t.red=e.red}if(s.isBN=function(t){return t instanceof s||null!==t&&"object"==typeof t&&t.constructor.wordSize===s.wordSize&&Array.isArray(t.words)},s.max=function(t,e){return t.cmp(e)>0?t:e},s.min=function(t,e){return t.cmp(e)<0?t:e},s.prototype._init=function(t,e,n){if("number"==typeof t)return this._initNumber(t,e,n);if("object"==typeof t)return this._initArray(t,e,n);"hex"===e&&(e=16),i(e===(0|e)&&e>=2&&e<=36);var r=0;"-"===(t=t.toString().replace(/\s+/g,""))[0]&&(r++,this.negative=1),r<t.length&&(16===e?this._parseHex(t,r,n):(this._parseBase(t,e,r),"le"===n&&this._initArray(this.toArray(),e,n)))},s.prototype._initNumber=function(t,e,n){t<0&&(this.negative=1,t=-t),t<67108864?(this.words=[67108863&t],this.length=1):t<4503599627370496?(this.words=[67108863&t,t/67108864&67108863],this.length=2):(i(t<9007199254740992),this.words=[67108863&t,t/67108864&67108863,1],this.length=3),"le"===n&&this._initArray(this.toArray(),e,n)},s.prototype._initArray=function(t,e,n){if(i("number"==typeof t.length),t.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(t.length/3),this.words=new Array(this.length);for(var r=0;r<this.length;r++)this.words[r]=0;var s,o,a=0;if("be"===n)for(r=t.length-1,s=0;r>=0;r-=3)o=t[r]|t[r-1]<<8|t[r-2]<<16,this.words[s]|=o<<a&67108863,this.words[s+1]=o>>>26-a&67108863,(a+=24)>=26&&(a-=26,s++);else if("le"===n)for(r=0,s=0;r<t.length;r+=3)o=t[r]|t[r+1]<<8|t[r+2]<<16,this.words[s]|=o<<a&67108863,this.words[s+1]=o>>>26-a&67108863,(a+=24)>=26&&(a-=26,s++);return this._strip()},s.prototype._parseHex=function(t,e,i){this.length=Math.ceil((t.length-e)/6),this.words=new Array(this.length);for(var n=0;n<this.length;n++)this.words[n]=0;var r,s=0,o=0;if("be"===i)for(n=t.length-1;n>=e;n-=2)r=h(t,e,n)<<s,this.words[o]|=67108863&r,s>=18?(s-=18,o+=1,this.words[o]|=r>>>26):s+=8;else for(n=(t.length-e)%2==0?e+1:e;n<t.length;n+=2)r=h(t,e,n)<<s,this.words[o]|=67108863&r,s>=18?(s-=18,o+=1,this.words[o]|=r>>>26):s+=8;this._strip()},s.prototype._parseBase=function(t,e,i){this.words=[0],this.length=1;for(var n=0,r=1;r<=67108863;r*=e)n++;n--,r=r/e|0;for(var s=t.length-i,o=s%n,a=Math.min(s,s-o)+i,h=0,l=i;l<a;l+=n)h=u(t,l,l+n,e),this.imuln(r),this.words[0]+h<67108864?this.words[0]+=h:this._iaddn(h);if(0!==o){var c=1;for(h=u(t,l,t.length,e),l=0;l<o;l++)c*=e;this.imuln(c),this.words[0]+h<67108864?this.words[0]+=h:this._iaddn(h)}this._strip()},s.prototype.copy=function(t){t.words=new Array(this.length);for(var e=0;e<this.length;e++)t.words[e]=this.words[e];t.length=this.length,t.negative=this.negative,t.red=this.red},s.prototype._move=function(t){l(t,this)},s.prototype.clone=function(){var t=new s(null);return this.copy(t),t},s.prototype._expand=function(t){for(;this.length<t;)this.words[this.length++]=0;return this},s.prototype._strip=function(){for(;this.length>1&&0===this.words[this.length-1];)this.length--;return this._normSign()},s.prototype._normSign=function(){return 1===this.length&&0===this.words[0]&&(this.negative=0),this},"undefined"!=typeof Symbol&&"function"==typeof Symbol.for)try{s.prototype[Symbol.for("nodejs.util.inspect.custom")]=c}catch(t){s.prototype.inspect=c}else s.prototype.inspect=c;function c(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"}var d=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],f=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],p=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];s.prototype.toString=function(t,e){var n;if(e=0|e||1,16===(t=t||10)||"hex"===t){n="";for(var r=0,s=0,o=0;o<this.length;o++){var a=this.words[o],h=(16777215&(a<<r|s)).toString(16);s=a>>>24-r&16777215,(r+=2)>=26&&(r-=26,o--),n=0!==s||o!==this.length-1?d[6-h.length]+h+n:h+n}for(0!==s&&(n=s.toString(16)+n);n.length%e!=0;)n="0"+n;return 0!==this.negative&&(n="-"+n),n}if(t===(0|t)&&t>=2&&t<=36){var u=f[t],l=p[t];n="";var c=this.clone();for(c.negative=0;!c.isZero();){var m=c.modrn(l).toString(t);n=(c=c.idivn(l)).isZero()?m+n:d[u-m.length]+m+n}for(this.isZero()&&(n="0"+n);n.length%e!=0;)n="0"+n;return 0!==this.negative&&(n="-"+n),n}i(!1,"Base should be between 2 and 36")},s.prototype.toNumber=function(){var t=this.words[0];return 2===this.length?t+=67108864*this.words[1]:3===this.length&&1===this.words[2]?t+=4503599627370496+67108864*this.words[1]:this.length>2&&i(!1,"Number can only safely store up to 53 bits"),0!==this.negative?-t:t},s.prototype.toJSON=function(){return this.toString(16,2)},o&&(s.prototype.toBuffer=function(t,e){return this.toArrayLike(o,t,e)}),s.prototype.toArray=function(t,e){return this.toArrayLike(Array,t,e)};function m(t,e,i){i.negative=e.negative^t.negative;var n=t.length+e.length|0;i.length=n,n=n-1|0;var r=0|t.words[0],s=0|e.words[0],o=r*s,a=67108863&o,h=o/67108864|0;i.words[0]=a;for(var u=1;u<n;u++){for(var l=h>>>26,c=67108863&h,d=Math.min(u,e.length-1),f=Math.max(0,u-t.length+1);f<=d;f++){var p=u-f|0;l+=(o=(r=0|t.words[p])*(s=0|e.words[f])+c)/67108864|0,c=67108863&o}i.words[u]=0|c,h=0|l}return 0!==h?i.words[u]=0|h:i.length--,i._strip()}s.prototype.toArrayLike=function(t,e,n){this._strip();var r=this.byteLength(),s=n||Math.max(1,r);i(r<=s,"byte array longer than desired length"),i(s>0,"Requested array length <= 0");var o=function(t,e){return t.allocUnsafe?t.allocUnsafe(e):new t(e)}(t,s);return this["_toArrayLike"+("le"===e?"LE":"BE")](o,r),o},s.prototype._toArrayLikeLE=function(t,e){for(var i=0,n=0,r=0,s=0;r<this.length;r++){var o=this.words[r]<<s|n;t[i++]=255&o,i<t.length&&(t[i++]=o>>8&255),i<t.length&&(t[i++]=o>>16&255),6===s?(i<t.length&&(t[i++]=o>>24&255),n=0,s=0):(n=o>>>24,s+=2)}if(i<t.length)for(t[i++]=n;i<t.length;)t[i++]=0},s.prototype._toArrayLikeBE=function(t,e){for(var i=t.length-1,n=0,r=0,s=0;r<this.length;r++){var o=this.words[r]<<s|n;t[i--]=255&o,i>=0&&(t[i--]=o>>8&255),i>=0&&(t[i--]=o>>16&255),6===s?(i>=0&&(t[i--]=o>>24&255),n=0,s=0):(n=o>>>24,s+=2)}if(i>=0)for(t[i--]=n;i>=0;)t[i--]=0},Math.clz32?s.prototype._countBits=function(t){return 32-Math.clz32(t)}:s.prototype._countBits=function(t){var e=t,i=0;return e>=4096&&(i+=13,e>>>=13),e>=64&&(i+=7,e>>>=7),e>=8&&(i+=4,e>>>=4),e>=2&&(i+=2,e>>>=2),i+e},s.prototype._zeroBits=function(t){if(0===t)return 26;var e=t,i=0;return 0==(8191&e)&&(i+=13,e>>>=13),0==(127&e)&&(i+=7,e>>>=7),0==(15&e)&&(i+=4,e>>>=4),0==(3&e)&&(i+=2,e>>>=2),0==(1&e)&&i++,i},s.prototype.bitLength=function(){var t=this.words[this.length-1],e=this._countBits(t);return 26*(this.length-1)+e},s.prototype.zeroBits=function(){if(this.isZero())return 0;for(var t=0,e=0;e<this.length;e++){var i=this._zeroBits(this.words[e]);if(t+=i,26!==i)break}return t},s.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},s.prototype.toTwos=function(t){return 0!==this.negative?this.abs().inotn(t).iaddn(1):this.clone()},s.prototype.fromTwos=function(t){return this.testn(t-1)?this.notn(t).iaddn(1).ineg():this.clone()},s.prototype.isNeg=function(){return 0!==this.negative},s.prototype.neg=function(){return this.clone().ineg()},s.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},s.prototype.iuor=function(t){for(;this.length<t.length;)this.words[this.length++]=0;for(var e=0;e<t.length;e++)this.words[e]=this.words[e]|t.words[e];return this._strip()},s.prototype.ior=function(t){return i(0==(this.negative|t.negative)),this.iuor(t)},s.prototype.or=function(t){return this.length>t.length?this.clone().ior(t):t.clone().ior(this)},s.prototype.uor=function(t){return this.length>t.length?this.clone().iuor(t):t.clone().iuor(this)},s.prototype.iuand=function(t){var e;e=this.length>t.length?t:this;for(var i=0;i<e.length;i++)this.words[i]=this.words[i]&t.words[i];return this.length=e.length,this._strip()},s.prototype.iand=function(t){return i(0==(this.negative|t.negative)),this.iuand(t)},s.prototype.and=function(t){return this.length>t.length?this.clone().iand(t):t.clone().iand(this)},s.prototype.uand=function(t){return this.length>t.length?this.clone().iuand(t):t.clone().iuand(this)},s.prototype.iuxor=function(t){var e,i;this.length>t.length?(e=this,i=t):(e=t,i=this);for(var n=0;n<i.length;n++)this.words[n]=e.words[n]^i.words[n];if(this!==e)for(;n<e.length;n++)this.words[n]=e.words[n];return this.length=e.length,this._strip()},s.prototype.ixor=function(t){return i(0==(this.negative|t.negative)),this.iuxor(t)},s.prototype.xor=function(t){return this.length>t.length?this.clone().ixor(t):t.clone().ixor(this)},s.prototype.uxor=function(t){return this.length>t.length?this.clone().iuxor(t):t.clone().iuxor(this)},s.prototype.inotn=function(t){i("number"==typeof t&&t>=0);var e=0|Math.ceil(t/26),n=t%26;this._expand(e),n>0&&e--;for(var r=0;r<e;r++)this.words[r]=67108863&~this.words[r];return n>0&&(this.words[r]=~this.words[r]&67108863>>26-n),this._strip()},s.prototype.notn=function(t){return this.clone().inotn(t)},s.prototype.setn=function(t,e){i("number"==typeof t&&t>=0);var n=t/26|0,r=t%26;return this._expand(n+1),this.words[n]=e?this.words[n]|1<<r:this.words[n]&~(1<<r),this._strip()},s.prototype.iadd=function(t){var e,i,n;if(0!==this.negative&&0===t.negative)return this.negative=0,e=this.isub(t),this.negative^=1,this._normSign();if(0===this.negative&&0!==t.negative)return t.negative=0,e=this.isub(t),t.negative=1,e._normSign();this.length>t.length?(i=this,n=t):(i=t,n=this);for(var r=0,s=0;s<n.length;s++)e=(0|i.words[s])+(0|n.words[s])+r,this.words[s]=67108863&e,r=e>>>26;for(;0!==r&&s<i.length;s++)e=(0|i.words[s])+r,this.words[s]=67108863&e,r=e>>>26;if(this.length=i.length,0!==r)this.words[this.length]=r,this.length++;else if(i!==this)for(;s<i.length;s++)this.words[s]=i.words[s];return this},s.prototype.add=function(t){var e;return 0!==t.negative&&0===this.negative?(t.negative=0,e=this.sub(t),t.negative^=1,e):0===t.negative&&0!==this.negative?(this.negative=0,e=t.sub(this),this.negative=1,e):this.length>t.length?this.clone().iadd(t):t.clone().iadd(this)},s.prototype.isub=function(t){if(0!==t.negative){t.negative=0;var e=this.iadd(t);return t.negative=1,e._normSign()}if(0!==this.negative)return this.negative=0,this.iadd(t),this.negative=1,this._normSign();var i,n,r=this.cmp(t);if(0===r)return this.negative=0,this.length=1,this.words[0]=0,this;r>0?(i=this,n=t):(i=t,n=this);for(var s=0,o=0;o<n.length;o++)s=(e=(0|i.words[o])-(0|n.words[o])+s)>>26,this.words[o]=67108863&e;for(;0!==s&&o<i.length;o++)s=(e=(0|i.words[o])+s)>>26,this.words[o]=67108863&e;if(0===s&&o<i.length&&i!==this)for(;o<i.length;o++)this.words[o]=i.words[o];return this.length=Math.max(this.length,o),i!==this&&(this.negative=1),this._strip()},s.prototype.sub=function(t){return this.clone().isub(t)};var g=function(t,e,i){var n,r,s,o=t.words,a=e.words,h=i.words,u=0,l=0|o[0],c=8191&l,d=l>>>13,f=0|o[1],p=8191&f,m=f>>>13,g=0|o[2],v=8191&g,y=g>>>13,b=0|o[3],w=8191&b,_=b>>>13,M=0|o[4],A=8191&M,k=M>>>13,E=0|o[5],x=8191&E,S=E>>>13,T=0|o[6],I=8191&T,q=T>>>13,R=0|o[7],C=8191&R,N=R>>>13,L=0|o[8],D=8191&L,O=L>>>13,B=0|o[9],P=8191&B,U=B>>>13,F=0|a[0],j=8191&F,z=F>>>13,V=0|a[1],H=8191&V,K=V>>>13,G=0|a[2],W=8191&G,Q=G>>>13,$=0|a[3],Z=8191&$,Y=$>>>13,X=0|a[4],J=8191&X,tt=X>>>13,et=0|a[5],it=8191&et,nt=et>>>13,rt=0|a[6],st=8191&rt,ot=rt>>>13,at=0|a[7],ht=8191&at,ut=at>>>13,lt=0|a[8],ct=8191&lt,dt=lt>>>13,ft=0|a[9],pt=8191&ft,mt=ft>>>13;i.negative=t.negative^e.negative,i.length=19;var gt=(u+(n=Math.imul(c,j))|0)+((8191&(r=(r=Math.imul(c,z))+Math.imul(d,j)|0))<<13)|0;u=((s=Math.imul(d,z))+(r>>>13)|0)+(gt>>>26)|0,gt&=67108863,n=Math.imul(p,j),r=(r=Math.imul(p,z))+Math.imul(m,j)|0,s=Math.imul(m,z);var vt=(u+(n=n+Math.imul(c,H)|0)|0)+((8191&(r=(r=r+Math.imul(c,K)|0)+Math.imul(d,H)|0))<<13)|0;u=((s=s+Math.imul(d,K)|0)+(r>>>13)|0)+(vt>>>26)|0,vt&=67108863,n=Math.imul(v,j),r=(r=Math.imul(v,z))+Math.imul(y,j)|0,s=Math.imul(y,z),n=n+Math.imul(p,H)|0,r=(r=r+Math.imul(p,K)|0)+Math.imul(m,H)|0,s=s+Math.imul(m,K)|0;var yt=(u+(n=n+Math.imul(c,W)|0)|0)+((8191&(r=(r=r+Math.imul(c,Q)|0)+Math.imul(d,W)|0))<<13)|0;u=((s=s+Math.imul(d,Q)|0)+(r>>>13)|0)+(yt>>>26)|0,yt&=67108863,n=Math.imul(w,j),r=(r=Math.imul(w,z))+Math.imul(_,j)|0,s=Math.imul(_,z),n=n+Math.imul(v,H)|0,r=(r=r+Math.imul(v,K)|0)+Math.imul(y,H)|0,s=s+Math.imul(y,K)|0,n=n+Math.imul(p,W)|0,r=(r=r+Math.imul(p,Q)|0)+Math.imul(m,W)|0,s=s+Math.imul(m,Q)|0;var bt=(u+(n=n+Math.imul(c,Z)|0)|0)+((8191&(r=(r=r+Math.imul(c,Y)|0)+Math.imul(d,Z)|0))<<13)|0;u=((s=s+Math.imul(d,Y)|0)+(r>>>13)|0)+(bt>>>26)|0,bt&=67108863,n=Math.imul(A,j),r=(r=Math.imul(A,z))+Math.imul(k,j)|0,s=Math.imul(k,z),n=n+Math.imul(w,H)|0,r=(r=r+Math.imul(w,K)|0)+Math.imul(_,H)|0,s=s+Math.imul(_,K)|0,n=n+Math.imul(v,W)|0,r=(r=r+Math.imul(v,Q)|0)+Math.imul(y,W)|0,s=s+Math.imul(y,Q)|0,n=n+Math.imul(p,Z)|0,r=(r=r+Math.imul(p,Y)|0)+Math.imul(m,Z)|0,s=s+Math.imul(m,Y)|0;var wt=(u+(n=n+Math.imul(c,J)|0)|0)+((8191&(r=(r=r+Math.imul(c,tt)|0)+Math.imul(d,J)|0))<<13)|0;u=((s=s+Math.imul(d,tt)|0)+(r>>>13)|0)+(wt>>>26)|0,wt&=67108863,n=Math.imul(x,j),r=(r=Math.imul(x,z))+Math.imul(S,j)|0,s=Math.imul(S,z),n=n+Math.imul(A,H)|0,r=(r=r+Math.imul(A,K)|0)+Math.imul(k,H)|0,s=s+Math.imul(k,K)|0,n=n+Math.imul(w,W)|0,r=(r=r+Math.imul(w,Q)|0)+Math.imul(_,W)|0,s=s+Math.imul(_,Q)|0,n=n+Math.imul(v,Z)|0,r=(r=r+Math.imul(v,Y)|0)+Math.imul(y,Z)|0,s=s+Math.imul(y,Y)|0,n=n+Math.imul(p,J)|0,r=(r=r+Math.imul(p,tt)|0)+Math.imul(m,J)|0,s=s+Math.imul(m,tt)|0;var _t=(u+(n=n+Math.imul(c,it)|0)|0)+((8191&(r=(r=r+Math.imul(c,nt)|0)+Math.imul(d,it)|0))<<13)|0;u=((s=s+Math.imul(d,nt)|0)+(r>>>13)|0)+(_t>>>26)|0,_t&=67108863,n=Math.imul(I,j),r=(r=Math.imul(I,z))+Math.imul(q,j)|0,s=Math.imul(q,z),n=n+Math.imul(x,H)|0,r=(r=r+Math.imul(x,K)|0)+Math.imul(S,H)|0,s=s+Math.imul(S,K)|0,n=n+Math.imul(A,W)|0,r=(r=r+Math.imul(A,Q)|0)+Math.imul(k,W)|0,s=s+Math.imul(k,Q)|0,n=n+Math.imul(w,Z)|0,r=(r=r+Math.imul(w,Y)|0)+Math.imul(_,Z)|0,s=s+Math.imul(_,Y)|0,n=n+Math.imul(v,J)|0,r=(r=r+Math.imul(v,tt)|0)+Math.imul(y,J)|0,s=s+Math.imul(y,tt)|0,n=n+Math.imul(p,it)|0,r=(r=r+Math.imul(p,nt)|0)+Math.imul(m,it)|0,s=s+Math.imul(m,nt)|0;var Mt=(u+(n=n+Math.imul(c,st)|0)|0)+((8191&(r=(r=r+Math.imul(c,ot)|0)+Math.imul(d,st)|0))<<13)|0;u=((s=s+Math.imul(d,ot)|0)+(r>>>13)|0)+(Mt>>>26)|0,Mt&=67108863,n=Math.imul(C,j),r=(r=Math.imul(C,z))+Math.imul(N,j)|0,s=Math.imul(N,z),n=n+Math.imul(I,H)|0,r=(r=r+Math.imul(I,K)|0)+Math.imul(q,H)|0,s=s+Math.imul(q,K)|0,n=n+Math.imul(x,W)|0,r=(r=r+Math.imul(x,Q)|0)+Math.imul(S,W)|0,s=s+Math.imul(S,Q)|0,n=n+Math.imul(A,Z)|0,r=(r=r+Math.imul(A,Y)|0)+Math.imul(k,Z)|0,s=s+Math.imul(k,Y)|0,n=n+Math.imul(w,J)|0,r=(r=r+Math.imul(w,tt)|0)+Math.imul(_,J)|0,s=s+Math.imul(_,tt)|0,n=n+Math.imul(v,it)|0,r=(r=r+Math.imul(v,nt)|0)+Math.imul(y,it)|0,s=s+Math.imul(y,nt)|0,n=n+Math.imul(p,st)|0,r=(r=r+Math.imul(p,ot)|0)+Math.imul(m,st)|0,s=s+Math.imul(m,ot)|0;var At=(u+(n=n+Math.imul(c,ht)|0)|0)+((8191&(r=(r=r+Math.imul(c,ut)|0)+Math.imul(d,ht)|0))<<13)|0;u=((s=s+Math.imul(d,ut)|0)+(r>>>13)|0)+(At>>>26)|0,At&=67108863,n=Math.imul(D,j),r=(r=Math.imul(D,z))+Math.imul(O,j)|0,s=Math.imul(O,z),n=n+Math.imul(C,H)|0,r=(r=r+Math.imul(C,K)|0)+Math.imul(N,H)|0,s=s+Math.imul(N,K)|0,n=n+Math.imul(I,W)|0,r=(r=r+Math.imul(I,Q)|0)+Math.imul(q,W)|0,s=s+Math.imul(q,Q)|0,n=n+Math.imul(x,Z)|0,r=(r=r+Math.imul(x,Y)|0)+Math.imul(S,Z)|0,s=s+Math.imul(S,Y)|0,n=n+Math.imul(A,J)|0,r=(r=r+Math.imul(A,tt)|0)+Math.imul(k,J)|0,s=s+Math.imul(k,tt)|0,n=n+Math.imul(w,it)|0,r=(r=r+Math.imul(w,nt)|0)+Math.imul(_,it)|0,s=s+Math.imul(_,nt)|0,n=n+Math.imul(v,st)|0,r=(r=r+Math.imul(v,ot)|0)+Math.imul(y,st)|0,s=s+Math.imul(y,ot)|0,n=n+Math.imul(p,ht)|0,r=(r=r+Math.imul(p,ut)|0)+Math.imul(m,ht)|0,s=s+Math.imul(m,ut)|0;var kt=(u+(n=n+Math.imul(c,ct)|0)|0)+((8191&(r=(r=r+Math.imul(c,dt)|0)+Math.imul(d,ct)|0))<<13)|0;u=((s=s+Math.imul(d,dt)|0)+(r>>>13)|0)+(kt>>>26)|0,kt&=67108863,n=Math.imul(P,j),r=(r=Math.imul(P,z))+Math.imul(U,j)|0,s=Math.imul(U,z),n=n+Math.imul(D,H)|0,r=(r=r+Math.imul(D,K)|0)+Math.imul(O,H)|0,s=s+Math.imul(O,K)|0,n=n+Math.imul(C,W)|0,r=(r=r+Math.imul(C,Q)|0)+Math.imul(N,W)|0,s=s+Math.imul(N,Q)|0,n=n+Math.imul(I,Z)|0,r=(r=r+Math.imul(I,Y)|0)+Math.imul(q,Z)|0,s=s+Math.imul(q,Y)|0,n=n+Math.imul(x,J)|0,r=(r=r+Math.imul(x,tt)|0)+Math.imul(S,J)|0,s=s+Math.imul(S,tt)|0,n=n+Math.imul(A,it)|0,r=(r=r+Math.imul(A,nt)|0)+Math.imul(k,it)|0,s=s+Math.imul(k,nt)|0,n=n+Math.imul(w,st)|0,r=(r=r+Math.imul(w,ot)|0)+Math.imul(_,st)|0,s=s+Math.imul(_,ot)|0,n=n+Math.imul(v,ht)|0,r=(r=r+Math.imul(v,ut)|0)+Math.imul(y,ht)|0,s=s+Math.imul(y,ut)|0,n=n+Math.imul(p,ct)|0,r=(r=r+Math.imul(p,dt)|0)+Math.imul(m,ct)|0,s=s+Math.imul(m,dt)|0;var Et=(u+(n=n+Math.imul(c,pt)|0)|0)+((8191&(r=(r=r+Math.imul(c,mt)|0)+Math.imul(d,pt)|0))<<13)|0;u=((s=s+Math.imul(d,mt)|0)+(r>>>13)|0)+(Et>>>26)|0,Et&=67108863,n=Math.imul(P,H),r=(r=Math.imul(P,K))+Math.imul(U,H)|0,s=Math.imul(U,K),n=n+Math.imul(D,W)|0,r=(r=r+Math.imul(D,Q)|0)+Math.imul(O,W)|0,s=s+Math.imul(O,Q)|0,n=n+Math.imul(C,Z)|0,r=(r=r+Math.imul(C,Y)|0)+Math.imul(N,Z)|0,s=s+Math.imul(N,Y)|0,n=n+Math.imul(I,J)|0,r=(r=r+Math.imul(I,tt)|0)+Math.imul(q,J)|0,s=s+Math.imul(q,tt)|0,n=n+Math.imul(x,it)|0,r=(r=r+Math.imul(x,nt)|0)+Math.imul(S,it)|0,s=s+Math.imul(S,nt)|0,n=n+Math.imul(A,st)|0,r=(r=r+Math.imul(A,ot)|0)+Math.imul(k,st)|0,s=s+Math.imul(k,ot)|0,n=n+Math.imul(w,ht)|0,r=(r=r+Math.imul(w,ut)|0)+Math.imul(_,ht)|0,s=s+Math.imul(_,ut)|0,n=n+Math.imul(v,ct)|0,r=(r=r+Math.imul(v,dt)|0)+Math.imul(y,ct)|0,s=s+Math.imul(y,dt)|0;var xt=(u+(n=n+Math.imul(p,pt)|0)|0)+((8191&(r=(r=r+Math.imul(p,mt)|0)+Math.imul(m,pt)|0))<<13)|0;u=((s=s+Math.imul(m,mt)|0)+(r>>>13)|0)+(xt>>>26)|0,xt&=67108863,n=Math.imul(P,W),r=(r=Math.imul(P,Q))+Math.imul(U,W)|0,s=Math.imul(U,Q),n=n+Math.imul(D,Z)|0,r=(r=r+Math.imul(D,Y)|0)+Math.imul(O,Z)|0,s=s+Math.imul(O,Y)|0,n=n+Math.imul(C,J)|0,r=(r=r+Math.imul(C,tt)|0)+Math.imul(N,J)|0,s=s+Math.imul(N,tt)|0,n=n+Math.imul(I,it)|0,r=(r=r+Math.imul(I,nt)|0)+Math.imul(q,it)|0,s=s+Math.imul(q,nt)|0,n=n+Math.imul(x,st)|0,r=(r=r+Math.imul(x,ot)|0)+Math.imul(S,st)|0,s=s+Math.imul(S,ot)|0,n=n+Math.imul(A,ht)|0,r=(r=r+Math.imul(A,ut)|0)+Math.imul(k,ht)|0,s=s+Math.imul(k,ut)|0,n=n+Math.imul(w,ct)|0,r=(r=r+Math.imul(w,dt)|0)+Math.imul(_,ct)|0,s=s+Math.imul(_,dt)|0;var St=(u+(n=n+Math.imul(v,pt)|0)|0)+((8191&(r=(r=r+Math.imul(v,mt)|0)+Math.imul(y,pt)|0))<<13)|0;u=((s=s+Math.imul(y,mt)|0)+(r>>>13)|0)+(St>>>26)|0,St&=67108863,n=Math.imul(P,Z),r=(r=Math.imul(P,Y))+Math.imul(U,Z)|0,s=Math.imul(U,Y),n=n+Math.imul(D,J)|0,r=(r=r+Math.imul(D,tt)|0)+Math.imul(O,J)|0,s=s+Math.imul(O,tt)|0,n=n+Math.imul(C,it)|0,r=(r=r+Math.imul(C,nt)|0)+Math.imul(N,it)|0,s=s+Math.imul(N,nt)|0,n=n+Math.imul(I,st)|0,r=(r=r+Math.imul(I,ot)|0)+Math.imul(q,st)|0,s=s+Math.imul(q,ot)|0,n=n+Math.imul(x,ht)|0,r=(r=r+Math.imul(x,ut)|0)+Math.imul(S,ht)|0,s=s+Math.imul(S,ut)|0,n=n+Math.imul(A,ct)|0,r=(r=r+Math.imul(A,dt)|0)+Math.imul(k,ct)|0,s=s+Math.imul(k,dt)|0;var Tt=(u+(n=n+Math.imul(w,pt)|0)|0)+((8191&(r=(r=r+Math.imul(w,mt)|0)+Math.imul(_,pt)|0))<<13)|0;u=((s=s+Math.imul(_,mt)|0)+(r>>>13)|0)+(Tt>>>26)|0,Tt&=67108863,n=Math.imul(P,J),r=(r=Math.imul(P,tt))+Math.imul(U,J)|0,s=Math.imul(U,tt),n=n+Math.imul(D,it)|0,r=(r=r+Math.imul(D,nt)|0)+Math.imul(O,it)|0,s=s+Math.imul(O,nt)|0,n=n+Math.imul(C,st)|0,r=(r=r+Math.imul(C,ot)|0)+Math.imul(N,st)|0,s=s+Math.imul(N,ot)|0,n=n+Math.imul(I,ht)|0,r=(r=r+Math.imul(I,ut)|0)+Math.imul(q,ht)|0,s=s+Math.imul(q,ut)|0,n=n+Math.imul(x,ct)|0,r=(r=r+Math.imul(x,dt)|0)+Math.imul(S,ct)|0,s=s+Math.imul(S,dt)|0;var It=(u+(n=n+Math.imul(A,pt)|0)|0)+((8191&(r=(r=r+Math.imul(A,mt)|0)+Math.imul(k,pt)|0))<<13)|0;u=((s=s+Math.imul(k,mt)|0)+(r>>>13)|0)+(It>>>26)|0,It&=67108863,n=Math.imul(P,it),r=(r=Math.imul(P,nt))+Math.imul(U,it)|0,s=Math.imul(U,nt),n=n+Math.imul(D,st)|0,r=(r=r+Math.imul(D,ot)|0)+Math.imul(O,st)|0,s=s+Math.imul(O,ot)|0,n=n+Math.imul(C,ht)|0,r=(r=r+Math.imul(C,ut)|0)+Math.imul(N,ht)|0,s=s+Math.imul(N,ut)|0,n=n+Math.imul(I,ct)|0,r=(r=r+Math.imul(I,dt)|0)+Math.imul(q,ct)|0,s=s+Math.imul(q,dt)|0;var qt=(u+(n=n+Math.imul(x,pt)|0)|0)+((8191&(r=(r=r+Math.imul(x,mt)|0)+Math.imul(S,pt)|0))<<13)|0;u=((s=s+Math.imul(S,mt)|0)+(r>>>13)|0)+(qt>>>26)|0,qt&=67108863,n=Math.imul(P,st),r=(r=Math.imul(P,ot))+Math.imul(U,st)|0,s=Math.imul(U,ot),n=n+Math.imul(D,ht)|0,r=(r=r+Math.imul(D,ut)|0)+Math.imul(O,ht)|0,s=s+Math.imul(O,ut)|0,n=n+Math.imul(C,ct)|0,r=(r=r+Math.imul(C,dt)|0)+Math.imul(N,ct)|0,s=s+Math.imul(N,dt)|0;var Rt=(u+(n=n+Math.imul(I,pt)|0)|0)+((8191&(r=(r=r+Math.imul(I,mt)|0)+Math.imul(q,pt)|0))<<13)|0;u=((s=s+Math.imul(q,mt)|0)+(r>>>13)|0)+(Rt>>>26)|0,Rt&=67108863,n=Math.imul(P,ht),r=(r=Math.imul(P,ut))+Math.imul(U,ht)|0,s=Math.imul(U,ut),n=n+Math.imul(D,ct)|0,r=(r=r+Math.imul(D,dt)|0)+Math.imul(O,ct)|0,s=s+Math.imul(O,dt)|0;var Ct=(u+(n=n+Math.imul(C,pt)|0)|0)+((8191&(r=(r=r+Math.imul(C,mt)|0)+Math.imul(N,pt)|0))<<13)|0;u=((s=s+Math.imul(N,mt)|0)+(r>>>13)|0)+(Ct>>>26)|0,Ct&=67108863,n=Math.imul(P,ct),r=(r=Math.imul(P,dt))+Math.imul(U,ct)|0,s=Math.imul(U,dt);var Nt=(u+(n=n+Math.imul(D,pt)|0)|0)+((8191&(r=(r=r+Math.imul(D,mt)|0)+Math.imul(O,pt)|0))<<13)|0;u=((s=s+Math.imul(O,mt)|0)+(r>>>13)|0)+(Nt>>>26)|0,Nt&=67108863;var Lt=(u+(n=Math.imul(P,pt))|0)+((8191&(r=(r=Math.imul(P,mt))+Math.imul(U,pt)|0))<<13)|0;return u=((s=Math.imul(U,mt))+(r>>>13)|0)+(Lt>>>26)|0,Lt&=67108863,h[0]=gt,h[1]=vt,h[2]=yt,h[3]=bt,h[4]=wt,h[5]=_t,h[6]=Mt,h[7]=At,h[8]=kt,h[9]=Et,h[10]=xt,h[11]=St,h[12]=Tt,h[13]=It,h[14]=qt,h[15]=Rt,h[16]=Ct,h[17]=Nt,h[18]=Lt,0!==u&&(h[19]=u,i.length++),i};function v(t,e,i){i.negative=e.negative^t.negative,i.length=t.length+e.length;for(var n=0,r=0,s=0;s<i.length-1;s++){var o=r;r=0;for(var a=67108863&n,h=Math.min(s,e.length-1),u=Math.max(0,s-t.length+1);u<=h;u++){var l=s-u,c=(0|t.words[l])*(0|e.words[u]),d=67108863&c;a=67108863&(d=d+a|0),r+=(o=(o=o+(c/67108864|0)|0)+(d>>>26)|0)>>>26,o&=67108863}i.words[s]=a,n=o,o=r}return 0!==n?i.words[s]=n:i.length--,i._strip()}function y(t,e,i){return v(t,e,i)}function b(t,e){this.x=t,this.y=e}Math.imul||(g=m),s.prototype.mulTo=function(t,e){var i=this.length+t.length;return 10===this.length&&10===t.length?g(this,t,e):i<63?m(this,t,e):i<1024?v(this,t,e):y(this,t,e)},b.prototype.makeRBT=function(t){for(var e=new Array(t),i=s.prototype._countBits(t)-1,n=0;n<t;n++)e[n]=this.revBin(n,i,t);return e},b.prototype.revBin=function(t,e,i){if(0===t||t===i-1)return t;for(var n=0,r=0;r<e;r++)n|=(1&t)<<e-r-1,t>>=1;return n},b.prototype.permute=function(t,e,i,n,r,s){for(var o=0;o<s;o++)n[o]=e[t[o]],r[o]=i[t[o]]},b.prototype.transform=function(t,e,i,n,r,s){this.permute(s,t,e,i,n,r);for(var o=1;o<r;o<<=1)for(var a=o<<1,h=Math.cos(2*Math.PI/a),u=Math.sin(2*Math.PI/a),l=0;l<r;l+=a)for(var c=h,d=u,f=0;f<o;f++){var p=i[l+f],m=n[l+f],g=i[l+f+o],v=n[l+f+o],y=c*g-d*v;v=c*v+d*g,g=y,i[l+f]=p+g,n[l+f]=m+v,i[l+f+o]=p-g,n[l+f+o]=m-v,f!==a&&(y=h*c-u*d,d=h*d+u*c,c=y)}},b.prototype.guessLen13b=function(t,e){var i=1|Math.max(e,t),n=1&i,r=0;for(i=i/2|0;i;i>>>=1)r++;return 1<<r+1+n},b.prototype.conjugate=function(t,e,i){if(!(i<=1))for(var n=0;n<i/2;n++){var r=t[n];t[n]=t[i-n-1],t[i-n-1]=r,r=e[n],e[n]=-e[i-n-1],e[i-n-1]=-r}},b.prototype.normalize13b=function(t,e){for(var i=0,n=0;n<e/2;n++){var r=8192*Math.round(t[2*n+1]/e)+Math.round(t[2*n]/e)+i;t[n]=67108863&r,i=r<67108864?0:r/67108864|0}return t},b.prototype.convert13b=function(t,e,n,r){for(var s=0,o=0;o<e;o++)s+=0|t[o],n[2*o]=8191&s,s>>>=13,n[2*o+1]=8191&s,s>>>=13;for(o=2*e;o<r;++o)n[o]=0;i(0===s),i(0==(-8192&s))},b.prototype.stub=function(t){for(var e=new Array(t),i=0;i<t;i++)e[i]=0;return e},b.prototype.mulp=function(t,e,i){var n=2*this.guessLen13b(t.length,e.length),r=this.makeRBT(n),s=this.stub(n),o=new Array(n),a=new Array(n),h=new Array(n),u=new Array(n),l=new Array(n),c=new Array(n),d=i.words;d.length=n,this.convert13b(t.words,t.length,o,n),this.convert13b(e.words,e.length,u,n),this.transform(o,s,a,h,n,r),this.transform(u,s,l,c,n,r);for(var f=0;f<n;f++){var p=a[f]*l[f]-h[f]*c[f];h[f]=a[f]*c[f]+h[f]*l[f],a[f]=p}return this.conjugate(a,h,n),this.transform(a,h,d,s,n,r),this.conjugate(d,s,n),this.normalize13b(d,n),i.negative=t.negative^e.negative,i.length=t.length+e.length,i._strip()},s.prototype.mul=function(t){var e=new s(null);return e.words=new Array(this.length+t.length),this.mulTo(t,e)},s.prototype.mulf=function(t){var e=new s(null);return e.words=new Array(this.length+t.length),y(this,t,e)},s.prototype.imul=function(t){return this.clone().mulTo(t,this)},s.prototype.imuln=function(t){var e=t<0;e&&(t=-t),i("number"==typeof t),i(t<67108864);for(var n=0,r=0;r<this.length;r++){var s=(0|this.words[r])*t,o=(67108863&s)+(67108863&n);n>>=26,n+=s/67108864|0,n+=o>>>26,this.words[r]=67108863&o}return 0!==n&&(this.words[r]=n,this.length++),e?this.ineg():this},s.prototype.muln=function(t){return this.clone().imuln(t)},s.prototype.sqr=function(){return this.mul(this)},s.prototype.isqr=function(){return this.imul(this.clone())},s.prototype.pow=function(t){var e=function(t){for(var e=new Array(t.bitLength()),i=0;i<e.length;i++){var n=i/26|0,r=i%26;e[i]=t.words[n]>>>r&1}return e}(t);if(0===e.length)return new s(1);for(var i=this,n=0;n<e.length&&0===e[n];n++,i=i.sqr());if(++n<e.length)for(var r=i.sqr();n<e.length;n++,r=r.sqr())0!==e[n]&&(i=i.mul(r));return i},s.prototype.iushln=function(t){i("number"==typeof t&&t>=0);var e,n=t%26,r=(t-n)/26,s=67108863>>>26-n<<26-n;if(0!==n){var o=0;for(e=0;e<this.length;e++){var a=this.words[e]&s,h=(0|this.words[e])-a<<n;this.words[e]=h|o,o=a>>>26-n}o&&(this.words[e]=o,this.length++)}if(0!==r){for(e=this.length-1;e>=0;e--)this.words[e+r]=this.words[e];for(e=0;e<r;e++)this.words[e]=0;this.length+=r}return this._strip()},s.prototype.ishln=function(t){return i(0===this.negative),this.iushln(t)},s.prototype.iushrn=function(t,e,n){var r;i("number"==typeof t&&t>=0),r=e?(e-e%26)/26:0;var s=t%26,o=Math.min((t-s)/26,this.length),a=67108863^67108863>>>s<<s,h=n;if(r-=o,r=Math.max(0,r),h){for(var u=0;u<o;u++)h.words[u]=this.words[u];h.length=o}if(0===o);else if(this.length>o)for(this.length-=o,u=0;u<this.length;u++)this.words[u]=this.words[u+o];else this.words[0]=0,this.length=1;var l=0;for(u=this.length-1;u>=0&&(0!==l||u>=r);u--){var c=0|this.words[u];this.words[u]=l<<26-s|c>>>s,l=c&a}return h&&0!==l&&(h.words[h.length++]=l),0===this.length&&(this.words[0]=0,this.length=1),this._strip()},s.prototype.ishrn=function(t,e,n){return i(0===this.negative),this.iushrn(t,e,n)},s.prototype.shln=function(t){return this.clone().ishln(t)},s.prototype.ushln=function(t){return this.clone().iushln(t)},s.prototype.shrn=function(t){return this.clone().ishrn(t)},s.prototype.ushrn=function(t){return this.clone().iushrn(t)},s.prototype.testn=function(t){i("number"==typeof t&&t>=0);var e=t%26,n=(t-e)/26,r=1<<e;return!(this.length<=n)&&!!(this.words[n]&r)},s.prototype.imaskn=function(t){i("number"==typeof t&&t>=0);var e=t%26,n=(t-e)/26;if(i(0===this.negative,"imaskn works only with positive numbers"),this.length<=n)return this;if(0!==e&&n++,this.length=Math.min(n,this.length),0!==e){var r=67108863^67108863>>>e<<e;this.words[this.length-1]&=r}return this._strip()},s.prototype.maskn=function(t){return this.clone().imaskn(t)},s.prototype.iaddn=function(t){return i("number"==typeof t),i(t<67108864),t<0?this.isubn(-t):0!==this.negative?1===this.length&&(0|this.words[0])<=t?(this.words[0]=t-(0|this.words[0]),this.negative=0,this):(this.negative=0,this.isubn(t),this.negative=1,this):this._iaddn(t)},s.prototype._iaddn=function(t){this.words[0]+=t;for(var e=0;e<this.length&&this.words[e]>=67108864;e++)this.words[e]-=67108864,e===this.length-1?this.words[e+1]=1:this.words[e+1]++;return this.length=Math.max(this.length,e+1),this},s.prototype.isubn=function(t){if(i("number"==typeof t),i(t<67108864),t<0)return this.iaddn(-t);if(0!==this.negative)return this.negative=0,this.iaddn(t),this.negative=1,this;if(this.words[0]-=t,1===this.length&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var e=0;e<this.length&&this.words[e]<0;e++)this.words[e]+=67108864,this.words[e+1]-=1;return this._strip()},s.prototype.addn=function(t){return this.clone().iaddn(t)},s.prototype.subn=function(t){return this.clone().isubn(t)},s.prototype.iabs=function(){return this.negative=0,this},s.prototype.abs=function(){return this.clone().iabs()},s.prototype._ishlnsubmul=function(t,e,n){var r,s,o=t.length+n;this._expand(o);var a=0;for(r=0;r<t.length;r++){s=(0|this.words[r+n])+a;var h=(0|t.words[r])*e;a=((s-=67108863&h)>>26)-(h/67108864|0),this.words[r+n]=67108863&s}for(;r<this.length-n;r++)a=(s=(0|this.words[r+n])+a)>>26,this.words[r+n]=67108863&s;if(0===a)return this._strip();for(i(-1===a),a=0,r=0;r<this.length;r++)a=(s=-(0|this.words[r])+a)>>26,this.words[r]=67108863&s;return this.negative=1,this._strip()},s.prototype._wordDiv=function(t,e){var i=(this.length,t.length),n=this.clone(),r=t,o=0|r.words[r.length-1];0!==(i=26-this._countBits(o))&&(r=r.ushln(i),n.iushln(i),o=0|r.words[r.length-1]);var a,h=n.length-r.length;if("mod"!==e){(a=new s(null)).length=h+1,a.words=new Array(a.length);for(var u=0;u<a.length;u++)a.words[u]=0}var l=n.clone()._ishlnsubmul(r,1,h);0===l.negative&&(n=l,a&&(a.words[h]=1));for(var c=h-1;c>=0;c--){var d=67108864*(0|n.words[r.length+c])+(0|n.words[r.length+c-1]);for(d=Math.min(d/o|0,67108863),n._ishlnsubmul(r,d,c);0!==n.negative;)d--,n.negative=0,n._ishlnsubmul(r,1,c),n.isZero()||(n.negative^=1);a&&(a.words[c]=d)}return a&&a._strip(),n._strip(),"div"!==e&&0!==i&&n.iushrn(i),{div:a||null,mod:n}},s.prototype.divmod=function(t,e,n){return i(!t.isZero()),this.isZero()?{div:new s(0),mod:new s(0)}:0!==this.negative&&0===t.negative?(a=this.neg().divmod(t,e),"mod"!==e&&(r=a.div.neg()),"div"!==e&&(o=a.mod.neg(),n&&0!==o.negative&&o.iadd(t)),{div:r,mod:o}):0===this.negative&&0!==t.negative?(a=this.divmod(t.neg(),e),"mod"!==e&&(r=a.div.neg()),{div:r,mod:a.mod}):0!=(this.negative&t.negative)?(a=this.neg().divmod(t.neg(),e),"div"!==e&&(o=a.mod.neg(),n&&0!==o.negative&&o.isub(t)),{div:a.div,mod:o}):t.length>this.length||this.cmp(t)<0?{div:new s(0),mod:this}:1===t.length?"div"===e?{div:this.divn(t.words[0]),mod:null}:"mod"===e?{div:null,mod:new s(this.modrn(t.words[0]))}:{div:this.divn(t.words[0]),mod:new s(this.modrn(t.words[0]))}:this._wordDiv(t,e);var r,o,a},s.prototype.div=function(t){return this.divmod(t,"div",!1).div},s.prototype.mod=function(t){return this.divmod(t,"mod",!1).mod},s.prototype.umod=function(t){return this.divmod(t,"mod",!0).mod},s.prototype.divRound=function(t){var e=this.divmod(t);if(e.mod.isZero())return e.div;var i=0!==e.div.negative?e.mod.isub(t):e.mod,n=t.ushrn(1),r=t.andln(1),s=i.cmp(n);return s<0||1===r&&0===s?e.div:0!==e.div.negative?e.div.isubn(1):e.div.iaddn(1)},s.prototype.modrn=function(t){var e=t<0;e&&(t=-t),i(t<=67108863);for(var n=67108864%t,r=0,s=this.length-1;s>=0;s--)r=(n*r+(0|this.words[s]))%t;return e?-r:r},s.prototype.modn=function(t){return this.modrn(t)},s.prototype.idivn=function(t){var e=t<0;e&&(t=-t),i(t<=67108863);for(var n=0,r=this.length-1;r>=0;r--){var s=(0|this.words[r])+67108864*n;this.words[r]=s/t|0,n=s%t}return this._strip(),e?this.ineg():this},s.prototype.divn=function(t){return this.clone().idivn(t)},s.prototype.egcd=function(t){i(0===t.negative),i(!t.isZero());var e=this,n=t.clone();e=0!==e.negative?e.umod(t):e.clone();for(var r=new s(1),o=new s(0),a=new s(0),h=new s(1),u=0;e.isEven()&&n.isEven();)e.iushrn(1),n.iushrn(1),++u;for(var l=n.clone(),c=e.clone();!e.isZero();){for(var d=0,f=1;0==(e.words[0]&f)&&d<26;++d,f<<=1);if(d>0)for(e.iushrn(d);d-- >0;)(r.isOdd()||o.isOdd())&&(r.iadd(l),o.isub(c)),r.iushrn(1),o.iushrn(1);for(var p=0,m=1;0==(n.words[0]&m)&&p<26;++p,m<<=1);if(p>0)for(n.iushrn(p);p-- >0;)(a.isOdd()||h.isOdd())&&(a.iadd(l),h.isub(c)),a.iushrn(1),h.iushrn(1);e.cmp(n)>=0?(e.isub(n),r.isub(a),o.isub(h)):(n.isub(e),a.isub(r),h.isub(o))}return{a:a,b:h,gcd:n.iushln(u)}},s.prototype._invmp=function(t){i(0===t.negative),i(!t.isZero());var e=this,n=t.clone();e=0!==e.negative?e.umod(t):e.clone();for(var r,o=new s(1),a=new s(0),h=n.clone();e.cmpn(1)>0&&n.cmpn(1)>0;){for(var u=0,l=1;0==(e.words[0]&l)&&u<26;++u,l<<=1);if(u>0)for(e.iushrn(u);u-- >0;)o.isOdd()&&o.iadd(h),o.iushrn(1);for(var c=0,d=1;0==(n.words[0]&d)&&c<26;++c,d<<=1);if(c>0)for(n.iushrn(c);c-- >0;)a.isOdd()&&a.iadd(h),a.iushrn(1);e.cmp(n)>=0?(e.isub(n),o.isub(a)):(n.isub(e),a.isub(o))}return(r=0===e.cmpn(1)?o:a).cmpn(0)<0&&r.iadd(t),r},s.prototype.gcd=function(t){if(this.isZero())return t.abs();if(t.isZero())return this.abs();var e=this.clone(),i=t.clone();e.negative=0,i.negative=0;for(var n=0;e.isEven()&&i.isEven();n++)e.iushrn(1),i.iushrn(1);for(;;){for(;e.isEven();)e.iushrn(1);for(;i.isEven();)i.iushrn(1);var r=e.cmp(i);if(r<0){var s=e;e=i,i=s}else if(0===r||0===i.cmpn(1))break;e.isub(i)}return i.iushln(n)},s.prototype.invm=function(t){return this.egcd(t).a.umod(t)},s.prototype.isEven=function(){return 0==(1&this.words[0])},s.prototype.isOdd=function(){return 1==(1&this.words[0])},s.prototype.andln=function(t){return this.words[0]&t},s.prototype.bincn=function(t){i("number"==typeof t);var e=t%26,n=(t-e)/26,r=1<<e;if(this.length<=n)return this._expand(n+1),this.words[n]|=r,this;for(var s=r,o=n;0!==s&&o<this.length;o++){var a=0|this.words[o];s=(a+=s)>>>26,a&=67108863,this.words[o]=a}return 0!==s&&(this.words[o]=s,this.length++),this},s.prototype.isZero=function(){return 1===this.length&&0===this.words[0]},s.prototype.cmpn=function(t){var e,n=t<0;if(0!==this.negative&&!n)return-1;if(0===this.negative&&n)return 1;if(this._strip(),this.length>1)e=1;else{n&&(t=-t),i(t<=67108863,"Number is too big");var r=0|this.words[0];e=r===t?0:r<t?-1:1}return 0!==this.negative?0|-e:e},s.prototype.cmp=function(t){if(0!==this.negative&&0===t.negative)return-1;if(0===this.negative&&0!==t.negative)return 1;var e=this.ucmp(t);return 0!==this.negative?0|-e:e},s.prototype.ucmp=function(t){if(this.length>t.length)return 1;if(this.length<t.length)return-1;for(var e=0,i=this.length-1;i>=0;i--){var n=0|this.words[i],r=0|t.words[i];if(n!==r){n<r?e=-1:n>r&&(e=1);break}}return e},s.prototype.gtn=function(t){return 1===this.cmpn(t)},s.prototype.gt=function(t){return 1===this.cmp(t)},s.prototype.gten=function(t){return this.cmpn(t)>=0},s.prototype.gte=function(t){return this.cmp(t)>=0},s.prototype.ltn=function(t){return-1===this.cmpn(t)},s.prototype.lt=function(t){return-1===this.cmp(t)},s.prototype.lten=function(t){return this.cmpn(t)<=0},s.prototype.lte=function(t){return this.cmp(t)<=0},s.prototype.eqn=function(t){return 0===this.cmpn(t)},s.prototype.eq=function(t){return 0===this.cmp(t)},s.red=function(t){return new x(t)},s.prototype.toRed=function(t){return i(!this.red,"Already a number in reduction context"),i(0===this.negative,"red works only with positives"),t.convertTo(this)._forceRed(t)},s.prototype.fromRed=function(){return i(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},s.prototype._forceRed=function(t){return this.red=t,this},s.prototype.forceRed=function(t){return i(!this.red,"Already a number in reduction context"),this._forceRed(t)},s.prototype.redAdd=function(t){return i(this.red,"redAdd works only with red numbers"),this.red.add(this,t)},s.prototype.redIAdd=function(t){return i(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,t)},s.prototype.redSub=function(t){return i(this.red,"redSub works only with red numbers"),this.red.sub(this,t)},s.prototype.redISub=function(t){return i(this.red,"redISub works only with red numbers"),this.red.isub(this,t)},s.prototype.redShl=function(t){return i(this.red,"redShl works only with red numbers"),this.red.shl(this,t)},s.prototype.redMul=function(t){return i(this.red,"redMul works only with red numbers"),this.red._verify2(this,t),this.red.mul(this,t)},s.prototype.redIMul=function(t){return i(this.red,"redMul works only with red numbers"),this.red._verify2(this,t),this.red.imul(this,t)},s.prototype.redSqr=function(){return i(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},s.prototype.redISqr=function(){return i(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},s.prototype.redSqrt=function(){return i(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},s.prototype.redInvm=function(){return i(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},s.prototype.redNeg=function(){return i(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},s.prototype.redPow=function(t){return i(this.red&&!t.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,t)};var w={k256:null,p224:null,p192:null,p25519:null};function _(t,e){this.name=t,this.p=new s(e,16),this.n=this.p.bitLength(),this.k=new s(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}function M(){_.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}function A(){_.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}function k(){_.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}function E(){_.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}function x(t){if("string"==typeof t){var e=s._prime(t);this.m=e.p,this.prime=e}else i(t.gtn(1),"modulus must be greater than 1"),this.m=t,this.prime=null}function S(t){x.call(this,t),this.shift=this.m.bitLength(),this.shift%26!=0&&(this.shift+=26-this.shift%26),this.r=new s(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}_.prototype._tmp=function(){var t=new s(null);return t.words=new Array(Math.ceil(this.n/13)),t},_.prototype.ireduce=function(t){var e,i=t;do{this.split(i,this.tmp),e=(i=(i=this.imulK(i)).iadd(this.tmp)).bitLength()}while(e>this.n);var n=e<this.n?-1:i.ucmp(this.p);return 0===n?(i.words[0]=0,i.length=1):n>0?i.isub(this.p):void 0!==i.strip?i.strip():i._strip(),i},_.prototype.split=function(t,e){t.iushrn(this.n,0,e)},_.prototype.imulK=function(t){return t.imul(this.k)},n(M,_),M.prototype.split=function(t,e){for(var i=4194303,n=Math.min(t.length,9),r=0;r<n;r++)e.words[r]=t.words[r];if(e.length=n,t.length<=9)return t.words[0]=0,void(t.length=1);var s=t.words[9];for(e.words[e.length++]=s&i,r=10;r<t.length;r++){var o=0|t.words[r];t.words[r-10]=(o&i)<<4|s>>>22,s=o}s>>>=22,t.words[r-10]=s,0===s&&t.length>10?t.length-=10:t.length-=9},M.prototype.imulK=function(t){t.words[t.length]=0,t.words[t.length+1]=0,t.length+=2;for(var e=0,i=0;i<t.length;i++){var n=0|t.words[i];e+=977*n,t.words[i]=67108863&e,e=64*n+(e/67108864|0)}return 0===t.words[t.length-1]&&(t.length--,0===t.words[t.length-1]&&t.length--),t},n(A,_),n(k,_),n(E,_),E.prototype.imulK=function(t){for(var e=0,i=0;i<t.length;i++){var n=19*(0|t.words[i])+e,r=67108863&n;n>>>=26,t.words[i]=r,e=n}return 0!==e&&(t.words[t.length++]=e),t},s._prime=function(t){if(w[t])return w[t];var e;if("k256"===t)e=new M;else if("p224"===t)e=new A;else if("p192"===t)e=new k;else{if("p25519"!==t)throw new Error("Unknown prime "+t);e=new E}return w[t]=e,e},x.prototype._verify1=function(t){i(0===t.negative,"red works only with positives"),i(t.red,"red works only with red numbers")},x.prototype._verify2=function(t,e){i(0==(t.negative|e.negative),"red works only with positives"),i(t.red&&t.red===e.red,"red works only with red numbers")},x.prototype.imod=function(t){return this.prime?this.prime.ireduce(t)._forceRed(this):(l(t,t.umod(this.m)._forceRed(this)),t)},x.prototype.neg=function(t){return t.isZero()?t.clone():this.m.sub(t)._forceRed(this)},x.prototype.add=function(t,e){this._verify2(t,e);var i=t.add(e);return i.cmp(this.m)>=0&&i.isub(this.m),i._forceRed(this)},x.prototype.iadd=function(t,e){this._verify2(t,e);var i=t.iadd(e);return i.cmp(this.m)>=0&&i.isub(this.m),i},x.prototype.sub=function(t,e){this._verify2(t,e);var i=t.sub(e);return i.cmpn(0)<0&&i.iadd(this.m),i._forceRed(this)},x.prototype.isub=function(t,e){this._verify2(t,e);var i=t.isub(e);return i.cmpn(0)<0&&i.iadd(this.m),i},x.prototype.shl=function(t,e){return this._verify1(t),this.imod(t.ushln(e))},x.prototype.imul=function(t,e){return this._verify2(t,e),this.imod(t.imul(e))},x.prototype.mul=function(t,e){return this._verify2(t,e),this.imod(t.mul(e))},x.prototype.isqr=function(t){return this.imul(t,t.clone())},x.prototype.sqr=function(t){return this.mul(t,t)},x.prototype.sqrt=function(t){if(t.isZero())return t.clone();var e=this.m.andln(3);if(i(e%2==1),3===e){var n=this.m.add(new s(1)).iushrn(2);return this.pow(t,n)}for(var r=this.m.subn(1),o=0;!r.isZero()&&0===r.andln(1);)o++,r.iushrn(1);i(!r.isZero());var a=new s(1).toRed(this),h=a.redNeg(),u=this.m.subn(1).iushrn(1),l=this.m.bitLength();for(l=new s(2*l*l).toRed(this);0!==this.pow(l,u).cmp(h);)l.redIAdd(h);for(var c=this.pow(l,r),d=this.pow(t,r.addn(1).iushrn(1)),f=this.pow(t,r),p=o;0!==f.cmp(a);){for(var m=f,g=0;0!==m.cmp(a);g++)m=m.redSqr();i(g<p);var v=this.pow(c,new s(1).iushln(p-g-1));d=d.redMul(v),c=v.redSqr(),f=f.redMul(c),p=g}return d},x.prototype.invm=function(t){var e=t._invmp(this.m);return 0!==e.negative?(e.negative=0,this.imod(e).redNeg()):this.imod(e)},x.prototype.pow=function(t,e){if(e.isZero())return new s(1).toRed(this);if(0===e.cmpn(1))return t.clone();var i=new Array(16);i[0]=new s(1).toRed(this),i[1]=t;for(var n=2;n<i.length;n++)i[n]=this.mul(i[n-1],t);var r=i[0],o=0,a=0,h=e.bitLength()%26;for(0===h&&(h=26),n=e.length-1;n>=0;n--){for(var u=e.words[n],l=h-1;l>=0;l--){var c=u>>l&1;r!==i[0]&&(r=this.sqr(r)),0!==c||0!==o?(o<<=1,o|=c,(4===++a||0===n&&0===l)&&(r=this.mul(r,i[o]),a=0,o=0)):a=0}h=26}return r},x.prototype.convertTo=function(t){var e=t.umod(this.m);return e===t?e.clone():e},x.prototype.convertFrom=function(t){var e=t.clone();return e.red=null,e},s.mont=function(t){return new S(t)},n(S,x),S.prototype.convertTo=function(t){return this.imod(t.ushln(this.shift))},S.prototype.convertFrom=function(t){var e=this.imod(t.mul(this.rinv));return e.red=null,e},S.prototype.imul=function(t,e){if(t.isZero()||e.isZero())return t.words[0]=0,t.length=1,t;var i=t.imul(e),n=i.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),r=i.isub(n).iushrn(this.shift),s=r;return r.cmp(this.m)>=0?s=r.isub(this.m):r.cmpn(0)<0&&(s=r.iadd(this.m)),s._forceRed(this)},S.prototype.mul=function(t,e){if(t.isZero()||e.isZero())return new s(0)._forceRed(this);var i=t.mul(e),n=i.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),r=i.isub(n).iushrn(this.shift),o=r;return r.cmp(this.m)>=0?o=r.isub(this.m):r.cmpn(0)<0&&(o=r.iadd(this.m)),o._forceRed(this)},S.prototype.invm=function(t){return this.imod(t._invmp(this.m).mul(this.r2))._forceRed(this)}}(t,this)})),r.register("ikIB9",(function(t,e){var i=t.exports;i.version=r("5JwsX").version,i.utils=r("fpVz9"),i.rand=r("9m54X"),i.curve=r("9N9oN"),i.curves=r("ch9s3"),i.ec=r("2XALJ"),i.eddsa=r("aNhbj")})),r.register("5JwsX",(function(t,e){t.exports=JSON.parse('{"name":"elliptic","version":"6.5.4","description":"EC cryptography","main":"lib/elliptic.js","files":["lib"],"scripts":{"lint":"eslint lib test","lint:fix":"npm run lint -- --fix","unit":"istanbul test _mocha --reporter=spec test/index.js","test":"npm run lint && npm run unit","version":"grunt dist && git add dist/"},"repository":{"type":"git","url":"git@github.com:indutny/elliptic"},"keywords":["EC","Elliptic","curve","Cryptography"],"author":"Fedor Indutny <fedor@indutny.com>","license":"MIT","bugs":{"url":"https://github.com/indutny/elliptic/issues"},"homepage":"https://github.com/indutny/elliptic","devDependencies":{"brfs":"^2.0.2","coveralls":"^3.1.0","eslint":"^7.6.0","grunt":"^1.2.1","grunt-browserify":"^5.3.0","grunt-cli":"^1.3.2","grunt-contrib-connect":"^3.0.0","grunt-contrib-copy":"^1.0.0","grunt-contrib-uglify":"^5.0.0","grunt-mocha-istanbul":"^5.0.2","grunt-saucelabs":"^9.0.1","istanbul":"^0.4.5","mocha":"^8.0.1"},"dependencies":{"bn.js":"^4.11.9","brorand":"^1.1.0","hash.js":"^1.0.0","hmac-drbg":"^1.0.1","inherits":"^2.0.4","minimalistic-assert":"^1.0.1","minimalistic-crypto-utils":"^1.0.1"}}')})),r.register("fpVz9",(function(t,e){var i=t.exports,n=r("7ceHy"),s=r("bNW2d"),o=r("am8t0");i.assert=s,i.toArray=o.toArray,i.zero2=o.zero2,i.toHex=o.toHex,i.encode=o.encode,i.getNAF=function(t,e,i){var n=new Array(Math.max(t.bitLength(),i)+1);n.fill(0);for(var r=1<<e+1,s=t.clone(),o=0;o<n.length;o++){var a,h=s.andln(r-1);s.isOdd()?(a=h>(r>>1)-1?(r>>1)-h:h,s.isubn(a)):a=0,n[o]=a,s.iushrn(1)}return n},i.getJSF=function(t,e){var i=[[],[]];t=t.clone(),e=e.clone();for(var n,r=0,s=0;t.cmpn(-r)>0||e.cmpn(-s)>0;){var o,a,h=t.andln(3)+r&3,u=e.andln(3)+s&3;3===h&&(h=-1),3===u&&(u=-1),o=0==(1&h)?0:3!==(n=t.andln(7)+r&7)&&5!==n||2!==u?h:-h,i[0].push(o),a=0==(1&u)?0:3!==(n=e.andln(7)+s&7)&&5!==n||2!==h?u:-u,i[1].push(a),2*r===o+1&&(r=1-r),2*s===a+1&&(s=1-s),t.iushrn(1),e.iushrn(1)}return i},i.cachedProperty=function(t,e,i){var n="_"+e;t.prototype[e]=function(){return void 0!==this[n]?this[n]:this[n]=i.call(this)}},i.parseBytes=function(t){return"string"==typeof t?i.toArray(t,"hex"):t},i.intFromLE=function(t){return new n(t,"hex","le")}})),r.register("7ceHy",(function(t,e){!function(t,e){function i(t,e){if(!t)throw new Error(e||"Assertion failed")}function n(t,e){t.super_=e;var i=function(){};i.prototype=e.prototype,t.prototype=new i,t.prototype.constructor=t}function s(t,e,i){if(s.isBN(t))return t;this.negative=0,this.words=null,this.length=0,this.red=null,null!==t&&("le"!==e&&"be"!==e||(i=e,e=10),this._init(t||0,e||10,i||"be"))}var o;"object"==typeof t?t.exports=s:e.BN=s,s.BN=s,s.wordSize=26;try{o="undefined"!=typeof window&&void 0!==window.Buffer?window.Buffer:r("66yC2").Buffer}catch(t){}function a(t,e){var i=t.charCodeAt(e);return i>=65&&i<=70?i-55:i>=97&&i<=102?i-87:i-48&15}function h(t,e,i){var n=a(t,i);return i-1>=e&&(n|=a(t,i-1)<<4),n}function u(t,e,i,n){for(var r=0,s=Math.min(t.length,i),o=e;o<s;o++){var a=t.charCodeAt(o)-48;r*=n,r+=a>=49?a-49+10:a>=17?a-17+10:a}return r}s.isBN=function(t){return t instanceof s||null!==t&&"object"==typeof t&&t.constructor.wordSize===s.wordSize&&Array.isArray(t.words)},s.max=function(t,e){return t.cmp(e)>0?t:e},s.min=function(t,e){return t.cmp(e)<0?t:e},s.prototype._init=function(t,e,n){if("number"==typeof t)return this._initNumber(t,e,n);if("object"==typeof t)return this._initArray(t,e,n);"hex"===e&&(e=16),i(e===(0|e)&&e>=2&&e<=36);var r=0;"-"===(t=t.toString().replace(/\s+/g,""))[0]&&(r++,this.negative=1),r<t.length&&(16===e?this._parseHex(t,r,n):(this._parseBase(t,e,r),"le"===n&&this._initArray(this.toArray(),e,n)))},s.prototype._initNumber=function(t,e,n){t<0&&(this.negative=1,t=-t),t<67108864?(this.words=[67108863&t],this.length=1):t<4503599627370496?(this.words=[67108863&t,t/67108864&67108863],this.length=2):(i(t<9007199254740992),this.words=[67108863&t,t/67108864&67108863,1],this.length=3),"le"===n&&this._initArray(this.toArray(),e,n)},s.prototype._initArray=function(t,e,n){if(i("number"==typeof t.length),t.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(t.length/3),this.words=new Array(this.length);for(var r=0;r<this.length;r++)this.words[r]=0;var s,o,a=0;if("be"===n)for(r=t.length-1,s=0;r>=0;r-=3)o=t[r]|t[r-1]<<8|t[r-2]<<16,this.words[s]|=o<<a&67108863,this.words[s+1]=o>>>26-a&67108863,(a+=24)>=26&&(a-=26,s++);else if("le"===n)for(r=0,s=0;r<t.length;r+=3)o=t[r]|t[r+1]<<8|t[r+2]<<16,this.words[s]|=o<<a&67108863,this.words[s+1]=o>>>26-a&67108863,(a+=24)>=26&&(a-=26,s++);return this.strip()},s.prototype._parseHex=function(t,e,i){this.length=Math.ceil((t.length-e)/6),this.words=new Array(this.length);for(var n=0;n<this.length;n++)this.words[n]=0;var r,s=0,o=0;if("be"===i)for(n=t.length-1;n>=e;n-=2)r=h(t,e,n)<<s,this.words[o]|=67108863&r,s>=18?(s-=18,o+=1,this.words[o]|=r>>>26):s+=8;else for(n=(t.length-e)%2==0?e+1:e;n<t.length;n+=2)r=h(t,e,n)<<s,this.words[o]|=67108863&r,s>=18?(s-=18,o+=1,this.words[o]|=r>>>26):s+=8;this.strip()},s.prototype._parseBase=function(t,e,i){this.words=[0],this.length=1;for(var n=0,r=1;r<=67108863;r*=e)n++;n--,r=r/e|0;for(var s=t.length-i,o=s%n,a=Math.min(s,s-o)+i,h=0,l=i;l<a;l+=n)h=u(t,l,l+n,e),this.imuln(r),this.words[0]+h<67108864?this.words[0]+=h:this._iaddn(h);if(0!==o){var c=1;for(h=u(t,l,t.length,e),l=0;l<o;l++)c*=e;this.imuln(c),this.words[0]+h<67108864?this.words[0]+=h:this._iaddn(h)}this.strip()},s.prototype.copy=function(t){t.words=new Array(this.length);for(var e=0;e<this.length;e++)t.words[e]=this.words[e];t.length=this.length,t.negative=this.negative,t.red=this.red},s.prototype.clone=function(){var t=new s(null);return this.copy(t),t},s.prototype._expand=function(t){for(;this.length<t;)this.words[this.length++]=0;return this},s.prototype.strip=function(){for(;this.length>1&&0===this.words[this.length-1];)this.length--;return this._normSign()},s.prototype._normSign=function(){return 1===this.length&&0===this.words[0]&&(this.negative=0),this},s.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var l=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],c=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],d=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];function f(t,e,i){i.negative=e.negative^t.negative;var n=t.length+e.length|0;i.length=n,n=n-1|0;var r=0|t.words[0],s=0|e.words[0],o=r*s,a=67108863&o,h=o/67108864|0;i.words[0]=a;for(var u=1;u<n;u++){for(var l=h>>>26,c=67108863&h,d=Math.min(u,e.length-1),f=Math.max(0,u-t.length+1);f<=d;f++){var p=u-f|0;l+=(o=(r=0|t.words[p])*(s=0|e.words[f])+c)/67108864|0,c=67108863&o}i.words[u]=0|c,h=0|l}return 0!==h?i.words[u]=0|h:i.length--,i.strip()}s.prototype.toString=function(t,e){var n;if(e=0|e||1,16===(t=t||10)||"hex"===t){n="";for(var r=0,s=0,o=0;o<this.length;o++){var a=this.words[o],h=(16777215&(a<<r|s)).toString(16);n=0!==(s=a>>>24-r&16777215)||o!==this.length-1?l[6-h.length]+h+n:h+n,(r+=2)>=26&&(r-=26,o--)}for(0!==s&&(n=s.toString(16)+n);n.length%e!=0;)n="0"+n;return 0!==this.negative&&(n="-"+n),n}if(t===(0|t)&&t>=2&&t<=36){var u=c[t],f=d[t];n="";var p=this.clone();for(p.negative=0;!p.isZero();){var m=p.modn(f).toString(t);n=(p=p.idivn(f)).isZero()?m+n:l[u-m.length]+m+n}for(this.isZero()&&(n="0"+n);n.length%e!=0;)n="0"+n;return 0!==this.negative&&(n="-"+n),n}i(!1,"Base should be between 2 and 36")},s.prototype.toNumber=function(){var t=this.words[0];return 2===this.length?t+=67108864*this.words[1]:3===this.length&&1===this.words[2]?t+=4503599627370496+67108864*this.words[1]:this.length>2&&i(!1,"Number can only safely store up to 53 bits"),0!==this.negative?-t:t},s.prototype.toJSON=function(){return this.toString(16)},s.prototype.toBuffer=function(t,e){return i(void 0!==o),this.toArrayLike(o,t,e)},s.prototype.toArray=function(t,e){return this.toArrayLike(Array,t,e)},s.prototype.toArrayLike=function(t,e,n){var r=this.byteLength(),s=n||Math.max(1,r);i(r<=s,"byte array longer than desired length"),i(s>0,"Requested array length <= 0"),this.strip();var o,a,h="le"===e,u=new t(s),l=this.clone();if(h){for(a=0;!l.isZero();a++)o=l.andln(255),l.iushrn(8),u[a]=o;for(;a<s;a++)u[a]=0}else{for(a=0;a<s-r;a++)u[a]=0;for(a=0;!l.isZero();a++)o=l.andln(255),l.iushrn(8),u[s-a-1]=o}return u},Math.clz32?s.prototype._countBits=function(t){return 32-Math.clz32(t)}:s.prototype._countBits=function(t){var e=t,i=0;return e>=4096&&(i+=13,e>>>=13),e>=64&&(i+=7,e>>>=7),e>=8&&(i+=4,e>>>=4),e>=2&&(i+=2,e>>>=2),i+e},s.prototype._zeroBits=function(t){if(0===t)return 26;var e=t,i=0;return 0==(8191&e)&&(i+=13,e>>>=13),0==(127&e)&&(i+=7,e>>>=7),0==(15&e)&&(i+=4,e>>>=4),0==(3&e)&&(i+=2,e>>>=2),0==(1&e)&&i++,i},s.prototype.bitLength=function(){var t=this.words[this.length-1],e=this._countBits(t);return 26*(this.length-1)+e},s.prototype.zeroBits=function(){if(this.isZero())return 0;for(var t=0,e=0;e<this.length;e++){var i=this._zeroBits(this.words[e]);if(t+=i,26!==i)break}return t},s.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},s.prototype.toTwos=function(t){return 0!==this.negative?this.abs().inotn(t).iaddn(1):this.clone()},s.prototype.fromTwos=function(t){return this.testn(t-1)?this.notn(t).iaddn(1).ineg():this.clone()},s.prototype.isNeg=function(){return 0!==this.negative},s.prototype.neg=function(){return this.clone().ineg()},s.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},s.prototype.iuor=function(t){for(;this.length<t.length;)this.words[this.length++]=0;for(var e=0;e<t.length;e++)this.words[e]=this.words[e]|t.words[e];return this.strip()},s.prototype.ior=function(t){return i(0==(this.negative|t.negative)),this.iuor(t)},s.prototype.or=function(t){return this.length>t.length?this.clone().ior(t):t.clone().ior(this)},s.prototype.uor=function(t){return this.length>t.length?this.clone().iuor(t):t.clone().iuor(this)},s.prototype.iuand=function(t){var e;e=this.length>t.length?t:this;for(var i=0;i<e.length;i++)this.words[i]=this.words[i]&t.words[i];return this.length=e.length,this.strip()},s.prototype.iand=function(t){return i(0==(this.negative|t.negative)),this.iuand(t)},s.prototype.and=function(t){return this.length>t.length?this.clone().iand(t):t.clone().iand(this)},s.prototype.uand=function(t){return this.length>t.length?this.clone().iuand(t):t.clone().iuand(this)},s.prototype.iuxor=function(t){var e,i;this.length>t.length?(e=this,i=t):(e=t,i=this);for(var n=0;n<i.length;n++)this.words[n]=e.words[n]^i.words[n];if(this!==e)for(;n<e.length;n++)this.words[n]=e.words[n];return this.length=e.length,this.strip()},s.prototype.ixor=function(t){return i(0==(this.negative|t.negative)),this.iuxor(t)},s.prototype.xor=function(t){return this.length>t.length?this.clone().ixor(t):t.clone().ixor(this)},s.prototype.uxor=function(t){return this.length>t.length?this.clone().iuxor(t):t.clone().iuxor(this)},s.prototype.inotn=function(t){i("number"==typeof t&&t>=0);var e=0|Math.ceil(t/26),n=t%26;this._expand(e),n>0&&e--;for(var r=0;r<e;r++)this.words[r]=67108863&~this.words[r];return n>0&&(this.words[r]=~this.words[r]&67108863>>26-n),this.strip()},s.prototype.notn=function(t){return this.clone().inotn(t)},s.prototype.setn=function(t,e){i("number"==typeof t&&t>=0);var n=t/26|0,r=t%26;return this._expand(n+1),this.words[n]=e?this.words[n]|1<<r:this.words[n]&~(1<<r),this.strip()},s.prototype.iadd=function(t){var e,i,n;if(0!==this.negative&&0===t.negative)return this.negative=0,e=this.isub(t),this.negative^=1,this._normSign();if(0===this.negative&&0!==t.negative)return t.negative=0,e=this.isub(t),t.negative=1,e._normSign();this.length>t.length?(i=this,n=t):(i=t,n=this);for(var r=0,s=0;s<n.length;s++)e=(0|i.words[s])+(0|n.words[s])+r,this.words[s]=67108863&e,r=e>>>26;for(;0!==r&&s<i.length;s++)e=(0|i.words[s])+r,this.words[s]=67108863&e,r=e>>>26;if(this.length=i.length,0!==r)this.words[this.length]=r,this.length++;else if(i!==this)for(;s<i.length;s++)this.words[s]=i.words[s];return this},s.prototype.add=function(t){var e;return 0!==t.negative&&0===this.negative?(t.negative=0,e=this.sub(t),t.negative^=1,e):0===t.negative&&0!==this.negative?(this.negative=0,e=t.sub(this),this.negative=1,e):this.length>t.length?this.clone().iadd(t):t.clone().iadd(this)},s.prototype.isub=function(t){if(0!==t.negative){t.negative=0;var e=this.iadd(t);return t.negative=1,e._normSign()}if(0!==this.negative)return this.negative=0,this.iadd(t),this.negative=1,this._normSign();var i,n,r=this.cmp(t);if(0===r)return this.negative=0,this.length=1,this.words[0]=0,this;r>0?(i=this,n=t):(i=t,n=this);for(var s=0,o=0;o<n.length;o++)s=(e=(0|i.words[o])-(0|n.words[o])+s)>>26,this.words[o]=67108863&e;for(;0!==s&&o<i.length;o++)s=(e=(0|i.words[o])+s)>>26,this.words[o]=67108863&e;if(0===s&&o<i.length&&i!==this)for(;o<i.length;o++)this.words[o]=i.words[o];return this.length=Math.max(this.length,o),i!==this&&(this.negative=1),this.strip()},s.prototype.sub=function(t){return this.clone().isub(t)};var p=function(t,e,i){var n,r,s,o=t.words,a=e.words,h=i.words,u=0,l=0|o[0],c=8191&l,d=l>>>13,f=0|o[1],p=8191&f,m=f>>>13,g=0|o[2],v=8191&g,y=g>>>13,b=0|o[3],w=8191&b,_=b>>>13,M=0|o[4],A=8191&M,k=M>>>13,E=0|o[5],x=8191&E,S=E>>>13,T=0|o[6],I=8191&T,q=T>>>13,R=0|o[7],C=8191&R,N=R>>>13,L=0|o[8],D=8191&L,O=L>>>13,B=0|o[9],P=8191&B,U=B>>>13,F=0|a[0],j=8191&F,z=F>>>13,V=0|a[1],H=8191&V,K=V>>>13,G=0|a[2],W=8191&G,Q=G>>>13,$=0|a[3],Z=8191&$,Y=$>>>13,X=0|a[4],J=8191&X,tt=X>>>13,et=0|a[5],it=8191&et,nt=et>>>13,rt=0|a[6],st=8191&rt,ot=rt>>>13,at=0|a[7],ht=8191&at,ut=at>>>13,lt=0|a[8],ct=8191&lt,dt=lt>>>13,ft=0|a[9],pt=8191&ft,mt=ft>>>13;i.negative=t.negative^e.negative,i.length=19;var gt=(u+(n=Math.imul(c,j))|0)+((8191&(r=(r=Math.imul(c,z))+Math.imul(d,j)|0))<<13)|0;u=((s=Math.imul(d,z))+(r>>>13)|0)+(gt>>>26)|0,gt&=67108863,n=Math.imul(p,j),r=(r=Math.imul(p,z))+Math.imul(m,j)|0,s=Math.imul(m,z);var vt=(u+(n=n+Math.imul(c,H)|0)|0)+((8191&(r=(r=r+Math.imul(c,K)|0)+Math.imul(d,H)|0))<<13)|0;u=((s=s+Math.imul(d,K)|0)+(r>>>13)|0)+(vt>>>26)|0,vt&=67108863,n=Math.imul(v,j),r=(r=Math.imul(v,z))+Math.imul(y,j)|0,s=Math.imul(y,z),n=n+Math.imul(p,H)|0,r=(r=r+Math.imul(p,K)|0)+Math.imul(m,H)|0,s=s+Math.imul(m,K)|0;var yt=(u+(n=n+Math.imul(c,W)|0)|0)+((8191&(r=(r=r+Math.imul(c,Q)|0)+Math.imul(d,W)|0))<<13)|0;u=((s=s+Math.imul(d,Q)|0)+(r>>>13)|0)+(yt>>>26)|0,yt&=67108863,n=Math.imul(w,j),r=(r=Math.imul(w,z))+Math.imul(_,j)|0,s=Math.imul(_,z),n=n+Math.imul(v,H)|0,r=(r=r+Math.imul(v,K)|0)+Math.imul(y,H)|0,s=s+Math.imul(y,K)|0,n=n+Math.imul(p,W)|0,r=(r=r+Math.imul(p,Q)|0)+Math.imul(m,W)|0,s=s+Math.imul(m,Q)|0;var bt=(u+(n=n+Math.imul(c,Z)|0)|0)+((8191&(r=(r=r+Math.imul(c,Y)|0)+Math.imul(d,Z)|0))<<13)|0;u=((s=s+Math.imul(d,Y)|0)+(r>>>13)|0)+(bt>>>26)|0,bt&=67108863,n=Math.imul(A,j),r=(r=Math.imul(A,z))+Math.imul(k,j)|0,s=Math.imul(k,z),n=n+Math.imul(w,H)|0,r=(r=r+Math.imul(w,K)|0)+Math.imul(_,H)|0,s=s+Math.imul(_,K)|0,n=n+Math.imul(v,W)|0,r=(r=r+Math.imul(v,Q)|0)+Math.imul(y,W)|0,s=s+Math.imul(y,Q)|0,n=n+Math.imul(p,Z)|0,r=(r=r+Math.imul(p,Y)|0)+Math.imul(m,Z)|0,s=s+Math.imul(m,Y)|0;var wt=(u+(n=n+Math.imul(c,J)|0)|0)+((8191&(r=(r=r+Math.imul(c,tt)|0)+Math.imul(d,J)|0))<<13)|0;u=((s=s+Math.imul(d,tt)|0)+(r>>>13)|0)+(wt>>>26)|0,wt&=67108863,n=Math.imul(x,j),r=(r=Math.imul(x,z))+Math.imul(S,j)|0,s=Math.imul(S,z),n=n+Math.imul(A,H)|0,r=(r=r+Math.imul(A,K)|0)+Math.imul(k,H)|0,s=s+Math.imul(k,K)|0,n=n+Math.imul(w,W)|0,r=(r=r+Math.imul(w,Q)|0)+Math.imul(_,W)|0,s=s+Math.imul(_,Q)|0,n=n+Math.imul(v,Z)|0,r=(r=r+Math.imul(v,Y)|0)+Math.imul(y,Z)|0,s=s+Math.imul(y,Y)|0,n=n+Math.imul(p,J)|0,r=(r=r+Math.imul(p,tt)|0)+Math.imul(m,J)|0,s=s+Math.imul(m,tt)|0;var _t=(u+(n=n+Math.imul(c,it)|0)|0)+((8191&(r=(r=r+Math.imul(c,nt)|0)+Math.imul(d,it)|0))<<13)|0;u=((s=s+Math.imul(d,nt)|0)+(r>>>13)|0)+(_t>>>26)|0,_t&=67108863,n=Math.imul(I,j),r=(r=Math.imul(I,z))+Math.imul(q,j)|0,s=Math.imul(q,z),n=n+Math.imul(x,H)|0,r=(r=r+Math.imul(x,K)|0)+Math.imul(S,H)|0,s=s+Math.imul(S,K)|0,n=n+Math.imul(A,W)|0,r=(r=r+Math.imul(A,Q)|0)+Math.imul(k,W)|0,s=s+Math.imul(k,Q)|0,n=n+Math.imul(w,Z)|0,r=(r=r+Math.imul(w,Y)|0)+Math.imul(_,Z)|0,s=s+Math.imul(_,Y)|0,n=n+Math.imul(v,J)|0,r=(r=r+Math.imul(v,tt)|0)+Math.imul(y,J)|0,s=s+Math.imul(y,tt)|0,n=n+Math.imul(p,it)|0,r=(r=r+Math.imul(p,nt)|0)+Math.imul(m,it)|0,s=s+Math.imul(m,nt)|0;var Mt=(u+(n=n+Math.imul(c,st)|0)|0)+((8191&(r=(r=r+Math.imul(c,ot)|0)+Math.imul(d,st)|0))<<13)|0;u=((s=s+Math.imul(d,ot)|0)+(r>>>13)|0)+(Mt>>>26)|0,Mt&=67108863,n=Math.imul(C,j),r=(r=Math.imul(C,z))+Math.imul(N,j)|0,s=Math.imul(N,z),n=n+Math.imul(I,H)|0,r=(r=r+Math.imul(I,K)|0)+Math.imul(q,H)|0,s=s+Math.imul(q,K)|0,n=n+Math.imul(x,W)|0,r=(r=r+Math.imul(x,Q)|0)+Math.imul(S,W)|0,s=s+Math.imul(S,Q)|0,n=n+Math.imul(A,Z)|0,r=(r=r+Math.imul(A,Y)|0)+Math.imul(k,Z)|0,s=s+Math.imul(k,Y)|0,n=n+Math.imul(w,J)|0,r=(r=r+Math.imul(w,tt)|0)+Math.imul(_,J)|0,s=s+Math.imul(_,tt)|0,n=n+Math.imul(v,it)|0,r=(r=r+Math.imul(v,nt)|0)+Math.imul(y,it)|0,s=s+Math.imul(y,nt)|0,n=n+Math.imul(p,st)|0,r=(r=r+Math.imul(p,ot)|0)+Math.imul(m,st)|0,s=s+Math.imul(m,ot)|0;var At=(u+(n=n+Math.imul(c,ht)|0)|0)+((8191&(r=(r=r+Math.imul(c,ut)|0)+Math.imul(d,ht)|0))<<13)|0;u=((s=s+Math.imul(d,ut)|0)+(r>>>13)|0)+(At>>>26)|0,At&=67108863,n=Math.imul(D,j),r=(r=Math.imul(D,z))+Math.imul(O,j)|0,s=Math.imul(O,z),n=n+Math.imul(C,H)|0,r=(r=r+Math.imul(C,K)|0)+Math.imul(N,H)|0,s=s+Math.imul(N,K)|0,n=n+Math.imul(I,W)|0,r=(r=r+Math.imul(I,Q)|0)+Math.imul(q,W)|0,s=s+Math.imul(q,Q)|0,n=n+Math.imul(x,Z)|0,r=(r=r+Math.imul(x,Y)|0)+Math.imul(S,Z)|0,s=s+Math.imul(S,Y)|0,n=n+Math.imul(A,J)|0,r=(r=r+Math.imul(A,tt)|0)+Math.imul(k,J)|0,s=s+Math.imul(k,tt)|0,n=n+Math.imul(w,it)|0,r=(r=r+Math.imul(w,nt)|0)+Math.imul(_,it)|0,s=s+Math.imul(_,nt)|0,n=n+Math.imul(v,st)|0,r=(r=r+Math.imul(v,ot)|0)+Math.imul(y,st)|0,s=s+Math.imul(y,ot)|0,n=n+Math.imul(p,ht)|0,r=(r=r+Math.imul(p,ut)|0)+Math.imul(m,ht)|0,s=s+Math.imul(m,ut)|0;var kt=(u+(n=n+Math.imul(c,ct)|0)|0)+((8191&(r=(r=r+Math.imul(c,dt)|0)+Math.imul(d,ct)|0))<<13)|0;u=((s=s+Math.imul(d,dt)|0)+(r>>>13)|0)+(kt>>>26)|0,kt&=67108863,n=Math.imul(P,j),r=(r=Math.imul(P,z))+Math.imul(U,j)|0,s=Math.imul(U,z),n=n+Math.imul(D,H)|0,r=(r=r+Math.imul(D,K)|0)+Math.imul(O,H)|0,s=s+Math.imul(O,K)|0,n=n+Math.imul(C,W)|0,r=(r=r+Math.imul(C,Q)|0)+Math.imul(N,W)|0,s=s+Math.imul(N,Q)|0,n=n+Math.imul(I,Z)|0,r=(r=r+Math.imul(I,Y)|0)+Math.imul(q,Z)|0,s=s+Math.imul(q,Y)|0,n=n+Math.imul(x,J)|0,r=(r=r+Math.imul(x,tt)|0)+Math.imul(S,J)|0,s=s+Math.imul(S,tt)|0,n=n+Math.imul(A,it)|0,r=(r=r+Math.imul(A,nt)|0)+Math.imul(k,it)|0,s=s+Math.imul(k,nt)|0,n=n+Math.imul(w,st)|0,r=(r=r+Math.imul(w,ot)|0)+Math.imul(_,st)|0,s=s+Math.imul(_,ot)|0,n=n+Math.imul(v,ht)|0,r=(r=r+Math.imul(v,ut)|0)+Math.imul(y,ht)|0,s=s+Math.imul(y,ut)|0,n=n+Math.imul(p,ct)|0,r=(r=r+Math.imul(p,dt)|0)+Math.imul(m,ct)|0,s=s+Math.imul(m,dt)|0;var Et=(u+(n=n+Math.imul(c,pt)|0)|0)+((8191&(r=(r=r+Math.imul(c,mt)|0)+Math.imul(d,pt)|0))<<13)|0;u=((s=s+Math.imul(d,mt)|0)+(r>>>13)|0)+(Et>>>26)|0,Et&=67108863,n=Math.imul(P,H),r=(r=Math.imul(P,K))+Math.imul(U,H)|0,s=Math.imul(U,K),n=n+Math.imul(D,W)|0,r=(r=r+Math.imul(D,Q)|0)+Math.imul(O,W)|0,s=s+Math.imul(O,Q)|0,n=n+Math.imul(C,Z)|0,r=(r=r+Math.imul(C,Y)|0)+Math.imul(N,Z)|0,s=s+Math.imul(N,Y)|0,n=n+Math.imul(I,J)|0,r=(r=r+Math.imul(I,tt)|0)+Math.imul(q,J)|0,s=s+Math.imul(q,tt)|0,n=n+Math.imul(x,it)|0,r=(r=r+Math.imul(x,nt)|0)+Math.imul(S,it)|0,s=s+Math.imul(S,nt)|0,n=n+Math.imul(A,st)|0,r=(r=r+Math.imul(A,ot)|0)+Math.imul(k,st)|0,s=s+Math.imul(k,ot)|0,n=n+Math.imul(w,ht)|0,r=(r=r+Math.imul(w,ut)|0)+Math.imul(_,ht)|0,s=s+Math.imul(_,ut)|0,n=n+Math.imul(v,ct)|0,r=(r=r+Math.imul(v,dt)|0)+Math.imul(y,ct)|0,s=s+Math.imul(y,dt)|0;var xt=(u+(n=n+Math.imul(p,pt)|0)|0)+((8191&(r=(r=r+Math.imul(p,mt)|0)+Math.imul(m,pt)|0))<<13)|0;u=((s=s+Math.imul(m,mt)|0)+(r>>>13)|0)+(xt>>>26)|0,xt&=67108863,n=Math.imul(P,W),r=(r=Math.imul(P,Q))+Math.imul(U,W)|0,s=Math.imul(U,Q),n=n+Math.imul(D,Z)|0,r=(r=r+Math.imul(D,Y)|0)+Math.imul(O,Z)|0,s=s+Math.imul(O,Y)|0,n=n+Math.imul(C,J)|0,r=(r=r+Math.imul(C,tt)|0)+Math.imul(N,J)|0,s=s+Math.imul(N,tt)|0,n=n+Math.imul(I,it)|0,r=(r=r+Math.imul(I,nt)|0)+Math.imul(q,it)|0,s=s+Math.imul(q,nt)|0,n=n+Math.imul(x,st)|0,r=(r=r+Math.imul(x,ot)|0)+Math.imul(S,st)|0,s=s+Math.imul(S,ot)|0,n=n+Math.imul(A,ht)|0,r=(r=r+Math.imul(A,ut)|0)+Math.imul(k,ht)|0,s=s+Math.imul(k,ut)|0,n=n+Math.imul(w,ct)|0,r=(r=r+Math.imul(w,dt)|0)+Math.imul(_,ct)|0,s=s+Math.imul(_,dt)|0;var St=(u+(n=n+Math.imul(v,pt)|0)|0)+((8191&(r=(r=r+Math.imul(v,mt)|0)+Math.imul(y,pt)|0))<<13)|0;u=((s=s+Math.imul(y,mt)|0)+(r>>>13)|0)+(St>>>26)|0,St&=67108863,n=Math.imul(P,Z),r=(r=Math.imul(P,Y))+Math.imul(U,Z)|0,s=Math.imul(U,Y),n=n+Math.imul(D,J)|0,r=(r=r+Math.imul(D,tt)|0)+Math.imul(O,J)|0,s=s+Math.imul(O,tt)|0,n=n+Math.imul(C,it)|0,r=(r=r+Math.imul(C,nt)|0)+Math.imul(N,it)|0,s=s+Math.imul(N,nt)|0,n=n+Math.imul(I,st)|0,r=(r=r+Math.imul(I,ot)|0)+Math.imul(q,st)|0,s=s+Math.imul(q,ot)|0,n=n+Math.imul(x,ht)|0,r=(r=r+Math.imul(x,ut)|0)+Math.imul(S,ht)|0,s=s+Math.imul(S,ut)|0,n=n+Math.imul(A,ct)|0,r=(r=r+Math.imul(A,dt)|0)+Math.imul(k,ct)|0,s=s+Math.imul(k,dt)|0;var Tt=(u+(n=n+Math.imul(w,pt)|0)|0)+((8191&(r=(r=r+Math.imul(w,mt)|0)+Math.imul(_,pt)|0))<<13)|0;u=((s=s+Math.imul(_,mt)|0)+(r>>>13)|0)+(Tt>>>26)|0,Tt&=67108863,n=Math.imul(P,J),r=(r=Math.imul(P,tt))+Math.imul(U,J)|0,s=Math.imul(U,tt),n=n+Math.imul(D,it)|0,r=(r=r+Math.imul(D,nt)|0)+Math.imul(O,it)|0,s=s+Math.imul(O,nt)|0,n=n+Math.imul(C,st)|0,r=(r=r+Math.imul(C,ot)|0)+Math.imul(N,st)|0,s=s+Math.imul(N,ot)|0,n=n+Math.imul(I,ht)|0,r=(r=r+Math.imul(I,ut)|0)+Math.imul(q,ht)|0,s=s+Math.imul(q,ut)|0,n=n+Math.imul(x,ct)|0,r=(r=r+Math.imul(x,dt)|0)+Math.imul(S,ct)|0,s=s+Math.imul(S,dt)|0;var It=(u+(n=n+Math.imul(A,pt)|0)|0)+((8191&(r=(r=r+Math.imul(A,mt)|0)+Math.imul(k,pt)|0))<<13)|0;u=((s=s+Math.imul(k,mt)|0)+(r>>>13)|0)+(It>>>26)|0,It&=67108863,n=Math.imul(P,it),r=(r=Math.imul(P,nt))+Math.imul(U,it)|0,s=Math.imul(U,nt),n=n+Math.imul(D,st)|0,r=(r=r+Math.imul(D,ot)|0)+Math.imul(O,st)|0,s=s+Math.imul(O,ot)|0,n=n+Math.imul(C,ht)|0,r=(r=r+Math.imul(C,ut)|0)+Math.imul(N,ht)|0,s=s+Math.imul(N,ut)|0,n=n+Math.imul(I,ct)|0,r=(r=r+Math.imul(I,dt)|0)+Math.imul(q,ct)|0,s=s+Math.imul(q,dt)|0;var qt=(u+(n=n+Math.imul(x,pt)|0)|0)+((8191&(r=(r=r+Math.imul(x,mt)|0)+Math.imul(S,pt)|0))<<13)|0;u=((s=s+Math.imul(S,mt)|0)+(r>>>13)|0)+(qt>>>26)|0,qt&=67108863,n=Math.imul(P,st),r=(r=Math.imul(P,ot))+Math.imul(U,st)|0,s=Math.imul(U,ot),n=n+Math.imul(D,ht)|0,r=(r=r+Math.imul(D,ut)|0)+Math.imul(O,ht)|0,s=s+Math.imul(O,ut)|0,n=n+Math.imul(C,ct)|0,r=(r=r+Math.imul(C,dt)|0)+Math.imul(N,ct)|0,s=s+Math.imul(N,dt)|0;var Rt=(u+(n=n+Math.imul(I,pt)|0)|0)+((8191&(r=(r=r+Math.imul(I,mt)|0)+Math.imul(q,pt)|0))<<13)|0;u=((s=s+Math.imul(q,mt)|0)+(r>>>13)|0)+(Rt>>>26)|0,Rt&=67108863,n=Math.imul(P,ht),r=(r=Math.imul(P,ut))+Math.imul(U,ht)|0,s=Math.imul(U,ut),n=n+Math.imul(D,ct)|0,r=(r=r+Math.imul(D,dt)|0)+Math.imul(O,ct)|0,s=s+Math.imul(O,dt)|0;var Ct=(u+(n=n+Math.imul(C,pt)|0)|0)+((8191&(r=(r=r+Math.imul(C,mt)|0)+Math.imul(N,pt)|0))<<13)|0;u=((s=s+Math.imul(N,mt)|0)+(r>>>13)|0)+(Ct>>>26)|0,Ct&=67108863,n=Math.imul(P,ct),r=(r=Math.imul(P,dt))+Math.imul(U,ct)|0,s=Math.imul(U,dt);var Nt=(u+(n=n+Math.imul(D,pt)|0)|0)+((8191&(r=(r=r+Math.imul(D,mt)|0)+Math.imul(O,pt)|0))<<13)|0;u=((s=s+Math.imul(O,mt)|0)+(r>>>13)|0)+(Nt>>>26)|0,Nt&=67108863;var Lt=(u+(n=Math.imul(P,pt))|0)+((8191&(r=(r=Math.imul(P,mt))+Math.imul(U,pt)|0))<<13)|0;return u=((s=Math.imul(U,mt))+(r>>>13)|0)+(Lt>>>26)|0,Lt&=67108863,h[0]=gt,h[1]=vt,h[2]=yt,h[3]=bt,h[4]=wt,h[5]=_t,h[6]=Mt,h[7]=At,h[8]=kt,h[9]=Et,h[10]=xt,h[11]=St,h[12]=Tt,h[13]=It,h[14]=qt,h[15]=Rt,h[16]=Ct,h[17]=Nt,h[18]=Lt,0!==u&&(h[19]=u,i.length++),i};function m(t,e,i){return(new g).mulp(t,e,i)}function g(t,e){this.x=t,this.y=e}Math.imul||(p=f),s.prototype.mulTo=function(t,e){var i,n=this.length+t.length;return i=10===this.length&&10===t.length?p(this,t,e):n<63?f(this,t,e):n<1024?function(t,e,i){i.negative=e.negative^t.negative,i.length=t.length+e.length;for(var n=0,r=0,s=0;s<i.length-1;s++){var o=r;r=0;for(var a=67108863&n,h=Math.min(s,e.length-1),u=Math.max(0,s-t.length+1);u<=h;u++){var l=s-u,c=(0|t.words[l])*(0|e.words[u]),d=67108863&c;a=67108863&(d=d+a|0),r+=(o=(o=o+(c/67108864|0)|0)+(d>>>26)|0)>>>26,o&=67108863}i.words[s]=a,n=o,o=r}return 0!==n?i.words[s]=n:i.length--,i.strip()}(this,t,e):m(this,t,e),i},g.prototype.makeRBT=function(t){for(var e=new Array(t),i=s.prototype._countBits(t)-1,n=0;n<t;n++)e[n]=this.revBin(n,i,t);return e},g.prototype.revBin=function(t,e,i){if(0===t||t===i-1)return t;for(var n=0,r=0;r<e;r++)n|=(1&t)<<e-r-1,t>>=1;return n},g.prototype.permute=function(t,e,i,n,r,s){for(var o=0;o<s;o++)n[o]=e[t[o]],r[o]=i[t[o]]},g.prototype.transform=function(t,e,i,n,r,s){this.permute(s,t,e,i,n,r);for(var o=1;o<r;o<<=1)for(var a=o<<1,h=Math.cos(2*Math.PI/a),u=Math.sin(2*Math.PI/a),l=0;l<r;l+=a)for(var c=h,d=u,f=0;f<o;f++){var p=i[l+f],m=n[l+f],g=i[l+f+o],v=n[l+f+o],y=c*g-d*v;v=c*v+d*g,g=y,i[l+f]=p+g,n[l+f]=m+v,i[l+f+o]=p-g,n[l+f+o]=m-v,f!==a&&(y=h*c-u*d,d=h*d+u*c,c=y)}},g.prototype.guessLen13b=function(t,e){var i=1|Math.max(e,t),n=1&i,r=0;for(i=i/2|0;i;i>>>=1)r++;return 1<<r+1+n},g.prototype.conjugate=function(t,e,i){if(!(i<=1))for(var n=0;n<i/2;n++){var r=t[n];t[n]=t[i-n-1],t[i-n-1]=r,r=e[n],e[n]=-e[i-n-1],e[i-n-1]=-r}},g.prototype.normalize13b=function(t,e){for(var i=0,n=0;n<e/2;n++){var r=8192*Math.round(t[2*n+1]/e)+Math.round(t[2*n]/e)+i;t[n]=67108863&r,i=r<67108864?0:r/67108864|0}return t},g.prototype.convert13b=function(t,e,n,r){for(var s=0,o=0;o<e;o++)s+=0|t[o],n[2*o]=8191&s,s>>>=13,n[2*o+1]=8191&s,s>>>=13;for(o=2*e;o<r;++o)n[o]=0;i(0===s),i(0==(-8192&s))},g.prototype.stub=function(t){for(var e=new Array(t),i=0;i<t;i++)e[i]=0;return e},g.prototype.mulp=function(t,e,i){var n=2*this.guessLen13b(t.length,e.length),r=this.makeRBT(n),s=this.stub(n),o=new Array(n),a=new Array(n),h=new Array(n),u=new Array(n),l=new Array(n),c=new Array(n),d=i.words;d.length=n,this.convert13b(t.words,t.length,o,n),this.convert13b(e.words,e.length,u,n),this.transform(o,s,a,h,n,r),this.transform(u,s,l,c,n,r);for(var f=0;f<n;f++){var p=a[f]*l[f]-h[f]*c[f];h[f]=a[f]*c[f]+h[f]*l[f],a[f]=p}return this.conjugate(a,h,n),this.transform(a,h,d,s,n,r),this.conjugate(d,s,n),this.normalize13b(d,n),i.negative=t.negative^e.negative,i.length=t.length+e.length,i.strip()},s.prototype.mul=function(t){var e=new s(null);return e.words=new Array(this.length+t.length),this.mulTo(t,e)},s.prototype.mulf=function(t){var e=new s(null);return e.words=new Array(this.length+t.length),m(this,t,e)},s.prototype.imul=function(t){return this.clone().mulTo(t,this)},s.prototype.imuln=function(t){i("number"==typeof t),i(t<67108864);for(var e=0,n=0;n<this.length;n++){var r=(0|this.words[n])*t,s=(67108863&r)+(67108863&e);e>>=26,e+=r/67108864|0,e+=s>>>26,this.words[n]=67108863&s}return 0!==e&&(this.words[n]=e,this.length++),this},s.prototype.muln=function(t){return this.clone().imuln(t)},s.prototype.sqr=function(){return this.mul(this)},s.prototype.isqr=function(){return this.imul(this.clone())},s.prototype.pow=function(t){var e=function(t){for(var e=new Array(t.bitLength()),i=0;i<e.length;i++){var n=i/26|0,r=i%26;e[i]=(t.words[n]&1<<r)>>>r}return e}(t);if(0===e.length)return new s(1);for(var i=this,n=0;n<e.length&&0===e[n];n++,i=i.sqr());if(++n<e.length)for(var r=i.sqr();n<e.length;n++,r=r.sqr())0!==e[n]&&(i=i.mul(r));return i},s.prototype.iushln=function(t){i("number"==typeof t&&t>=0);var e,n=t%26,r=(t-n)/26,s=67108863>>>26-n<<26-n;if(0!==n){var o=0;for(e=0;e<this.length;e++){var a=this.words[e]&s,h=(0|this.words[e])-a<<n;this.words[e]=h|o,o=a>>>26-n}o&&(this.words[e]=o,this.length++)}if(0!==r){for(e=this.length-1;e>=0;e--)this.words[e+r]=this.words[e];for(e=0;e<r;e++)this.words[e]=0;this.length+=r}return this.strip()},s.prototype.ishln=function(t){return i(0===this.negative),this.iushln(t)},s.prototype.iushrn=function(t,e,n){var r;i("number"==typeof t&&t>=0),r=e?(e-e%26)/26:0;var s=t%26,o=Math.min((t-s)/26,this.length),a=67108863^67108863>>>s<<s,h=n;if(r-=o,r=Math.max(0,r),h){for(var u=0;u<o;u++)h.words[u]=this.words[u];h.length=o}if(0===o);else if(this.length>o)for(this.length-=o,u=0;u<this.length;u++)this.words[u]=this.words[u+o];else this.words[0]=0,this.length=1;var l=0;for(u=this.length-1;u>=0&&(0!==l||u>=r);u--){var c=0|this.words[u];this.words[u]=l<<26-s|c>>>s,l=c&a}return h&&0!==l&&(h.words[h.length++]=l),0===this.length&&(this.words[0]=0,this.length=1),this.strip()},s.prototype.ishrn=function(t,e,n){return i(0===this.negative),this.iushrn(t,e,n)},s.prototype.shln=function(t){return this.clone().ishln(t)},s.prototype.ushln=function(t){return this.clone().iushln(t)},s.prototype.shrn=function(t){return this.clone().ishrn(t)},s.prototype.ushrn=function(t){return this.clone().iushrn(t)},s.prototype.testn=function(t){i("number"==typeof t&&t>=0);var e=t%26,n=(t-e)/26,r=1<<e;return!(this.length<=n)&&!!(this.words[n]&r)},s.prototype.imaskn=function(t){i("number"==typeof t&&t>=0);var e=t%26,n=(t-e)/26;if(i(0===this.negative,"imaskn works only with positive numbers"),this.length<=n)return this;if(0!==e&&n++,this.length=Math.min(n,this.length),0!==e){var r=67108863^67108863>>>e<<e;this.words[this.length-1]&=r}return this.strip()},s.prototype.maskn=function(t){return this.clone().imaskn(t)},s.prototype.iaddn=function(t){return i("number"==typeof t),i(t<67108864),t<0?this.isubn(-t):0!==this.negative?1===this.length&&(0|this.words[0])<t?(this.words[0]=t-(0|this.words[0]),this.negative=0,this):(this.negative=0,this.isubn(t),this.negative=1,this):this._iaddn(t)},s.prototype._iaddn=function(t){this.words[0]+=t;for(var e=0;e<this.length&&this.words[e]>=67108864;e++)this.words[e]-=67108864,e===this.length-1?this.words[e+1]=1:this.words[e+1]++;return this.length=Math.max(this.length,e+1),this},s.prototype.isubn=function(t){if(i("number"==typeof t),i(t<67108864),t<0)return this.iaddn(-t);if(0!==this.negative)return this.negative=0,this.iaddn(t),this.negative=1,this;if(this.words[0]-=t,1===this.length&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var e=0;e<this.length&&this.words[e]<0;e++)this.words[e]+=67108864,this.words[e+1]-=1;return this.strip()},s.prototype.addn=function(t){return this.clone().iaddn(t)},s.prototype.subn=function(t){return this.clone().isubn(t)},s.prototype.iabs=function(){return this.negative=0,this},s.prototype.abs=function(){return this.clone().iabs()},s.prototype._ishlnsubmul=function(t,e,n){var r,s,o=t.length+n;this._expand(o);var a=0;for(r=0;r<t.length;r++){s=(0|this.words[r+n])+a;var h=(0|t.words[r])*e;a=((s-=67108863&h)>>26)-(h/67108864|0),this.words[r+n]=67108863&s}for(;r<this.length-n;r++)a=(s=(0|this.words[r+n])+a)>>26,this.words[r+n]=67108863&s;if(0===a)return this.strip();for(i(-1===a),a=0,r=0;r<this.length;r++)a=(s=-(0|this.words[r])+a)>>26,this.words[r]=67108863&s;return this.negative=1,this.strip()},s.prototype._wordDiv=function(t,e){var i=(this.length,t.length),n=this.clone(),r=t,o=0|r.words[r.length-1];0!==(i=26-this._countBits(o))&&(r=r.ushln(i),n.iushln(i),o=0|r.words[r.length-1]);var a,h=n.length-r.length;if("mod"!==e){(a=new s(null)).length=h+1,a.words=new Array(a.length);for(var u=0;u<a.length;u++)a.words[u]=0}var l=n.clone()._ishlnsubmul(r,1,h);0===l.negative&&(n=l,a&&(a.words[h]=1));for(var c=h-1;c>=0;c--){var d=67108864*(0|n.words[r.length+c])+(0|n.words[r.length+c-1]);for(d=Math.min(d/o|0,67108863),n._ishlnsubmul(r,d,c);0!==n.negative;)d--,n.negative=0,n._ishlnsubmul(r,1,c),n.isZero()||(n.negative^=1);a&&(a.words[c]=d)}return a&&a.strip(),n.strip(),"div"!==e&&0!==i&&n.iushrn(i),{div:a||null,mod:n}},s.prototype.divmod=function(t,e,n){return i(!t.isZero()),this.isZero()?{div:new s(0),mod:new s(0)}:0!==this.negative&&0===t.negative?(a=this.neg().divmod(t,e),"mod"!==e&&(r=a.div.neg()),"div"!==e&&(o=a.mod.neg(),n&&0!==o.negative&&o.iadd(t)),{div:r,mod:o}):0===this.negative&&0!==t.negative?(a=this.divmod(t.neg(),e),"mod"!==e&&(r=a.div.neg()),{div:r,mod:a.mod}):0!=(this.negative&t.negative)?(a=this.neg().divmod(t.neg(),e),"div"!==e&&(o=a.mod.neg(),n&&0!==o.negative&&o.isub(t)),{div:a.div,mod:o}):t.length>this.length||this.cmp(t)<0?{div:new s(0),mod:this}:1===t.length?"div"===e?{div:this.divn(t.words[0]),mod:null}:"mod"===e?{div:null,mod:new s(this.modn(t.words[0]))}:{div:this.divn(t.words[0]),mod:new s(this.modn(t.words[0]))}:this._wordDiv(t,e);var r,o,a},s.prototype.div=function(t){return this.divmod(t,"div",!1).div},s.prototype.mod=function(t){return this.divmod(t,"mod",!1).mod},s.prototype.umod=function(t){return this.divmod(t,"mod",!0).mod},s.prototype.divRound=function(t){var e=this.divmod(t);if(e.mod.isZero())return e.div;var i=0!==e.div.negative?e.mod.isub(t):e.mod,n=t.ushrn(1),r=t.andln(1),s=i.cmp(n);return s<0||1===r&&0===s?e.div:0!==e.div.negative?e.div.isubn(1):e.div.iaddn(1)},s.prototype.modn=function(t){i(t<=67108863);for(var e=67108864%t,n=0,r=this.length-1;r>=0;r--)n=(e*n+(0|this.words[r]))%t;return n},s.prototype.idivn=function(t){i(t<=67108863);for(var e=0,n=this.length-1;n>=0;n--){var r=(0|this.words[n])+67108864*e;this.words[n]=r/t|0,e=r%t}return this.strip()},s.prototype.divn=function(t){return this.clone().idivn(t)},s.prototype.egcd=function(t){i(0===t.negative),i(!t.isZero());var e=this,n=t.clone();e=0!==e.negative?e.umod(t):e.clone();for(var r=new s(1),o=new s(0),a=new s(0),h=new s(1),u=0;e.isEven()&&n.isEven();)e.iushrn(1),n.iushrn(1),++u;for(var l=n.clone(),c=e.clone();!e.isZero();){for(var d=0,f=1;0==(e.words[0]&f)&&d<26;++d,f<<=1);if(d>0)for(e.iushrn(d);d-- >0;)(r.isOdd()||o.isOdd())&&(r.iadd(l),o.isub(c)),r.iushrn(1),o.iushrn(1);for(var p=0,m=1;0==(n.words[0]&m)&&p<26;++p,m<<=1);if(p>0)for(n.iushrn(p);p-- >0;)(a.isOdd()||h.isOdd())&&(a.iadd(l),h.isub(c)),a.iushrn(1),h.iushrn(1);e.cmp(n)>=0?(e.isub(n),r.isub(a),o.isub(h)):(n.isub(e),a.isub(r),h.isub(o))}return{a:a,b:h,gcd:n.iushln(u)}},s.prototype._invmp=function(t){i(0===t.negative),i(!t.isZero());var e=this,n=t.clone();e=0!==e.negative?e.umod(t):e.clone();for(var r,o=new s(1),a=new s(0),h=n.clone();e.cmpn(1)>0&&n.cmpn(1)>0;){for(var u=0,l=1;0==(e.words[0]&l)&&u<26;++u,l<<=1);if(u>0)for(e.iushrn(u);u-- >0;)o.isOdd()&&o.iadd(h),o.iushrn(1);for(var c=0,d=1;0==(n.words[0]&d)&&c<26;++c,d<<=1);if(c>0)for(n.iushrn(c);c-- >0;)a.isOdd()&&a.iadd(h),a.iushrn(1);e.cmp(n)>=0?(e.isub(n),o.isub(a)):(n.isub(e),a.isub(o))}return(r=0===e.cmpn(1)?o:a).cmpn(0)<0&&r.iadd(t),r},s.prototype.gcd=function(t){if(this.isZero())return t.abs();if(t.isZero())return this.abs();var e=this.clone(),i=t.clone();e.negative=0,i.negative=0;for(var n=0;e.isEven()&&i.isEven();n++)e.iushrn(1),i.iushrn(1);for(;;){for(;e.isEven();)e.iushrn(1);for(;i.isEven();)i.iushrn(1);var r=e.cmp(i);if(r<0){var s=e;e=i,i=s}else if(0===r||0===i.cmpn(1))break;e.isub(i)}return i.iushln(n)},s.prototype.invm=function(t){return this.egcd(t).a.umod(t)},s.prototype.isEven=function(){return 0==(1&this.words[0])},s.prototype.isOdd=function(){return 1==(1&this.words[0])},s.prototype.andln=function(t){return this.words[0]&t},s.prototype.bincn=function(t){i("number"==typeof t);var e=t%26,n=(t-e)/26,r=1<<e;if(this.length<=n)return this._expand(n+1),this.words[n]|=r,this;for(var s=r,o=n;0!==s&&o<this.length;o++){var a=0|this.words[o];s=(a+=s)>>>26,a&=67108863,this.words[o]=a}return 0!==s&&(this.words[o]=s,this.length++),this},s.prototype.isZero=function(){return 1===this.length&&0===this.words[0]},s.prototype.cmpn=function(t){var e,n=t<0;if(0!==this.negative&&!n)return-1;if(0===this.negative&&n)return 1;if(this.strip(),this.length>1)e=1;else{n&&(t=-t),i(t<=67108863,"Number is too big");var r=0|this.words[0];e=r===t?0:r<t?-1:1}return 0!==this.negative?0|-e:e},s.prototype.cmp=function(t){if(0!==this.negative&&0===t.negative)return-1;if(0===this.negative&&0!==t.negative)return 1;var e=this.ucmp(t);return 0!==this.negative?0|-e:e},s.prototype.ucmp=function(t){if(this.length>t.length)return 1;if(this.length<t.length)return-1;for(var e=0,i=this.length-1;i>=0;i--){var n=0|this.words[i],r=0|t.words[i];if(n!==r){n<r?e=-1:n>r&&(e=1);break}}return e},s.prototype.gtn=function(t){return 1===this.cmpn(t)},s.prototype.gt=function(t){return 1===this.cmp(t)},s.prototype.gten=function(t){return this.cmpn(t)>=0},s.prototype.gte=function(t){return this.cmp(t)>=0},s.prototype.ltn=function(t){return-1===this.cmpn(t)},s.prototype.lt=function(t){return-1===this.cmp(t)},s.prototype.lten=function(t){return this.cmpn(t)<=0},s.prototype.lte=function(t){return this.cmp(t)<=0},s.prototype.eqn=function(t){return 0===this.cmpn(t)},s.prototype.eq=function(t){return 0===this.cmp(t)},s.red=function(t){return new A(t)},s.prototype.toRed=function(t){return i(!this.red,"Already a number in reduction context"),i(0===this.negative,"red works only with positives"),t.convertTo(this)._forceRed(t)},s.prototype.fromRed=function(){return i(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},s.prototype._forceRed=function(t){return this.red=t,this},s.prototype.forceRed=function(t){return i(!this.red,"Already a number in reduction context"),this._forceRed(t)},s.prototype.redAdd=function(t){return i(this.red,"redAdd works only with red numbers"),this.red.add(this,t)},s.prototype.redIAdd=function(t){return i(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,t)},s.prototype.redSub=function(t){return i(this.red,"redSub works only with red numbers"),this.red.sub(this,t)},s.prototype.redISub=function(t){return i(this.red,"redISub works only with red numbers"),this.red.isub(this,t)},s.prototype.redShl=function(t){return i(this.red,"redShl works only with red numbers"),this.red.shl(this,t)},s.prototype.redMul=function(t){return i(this.red,"redMul works only with red numbers"),this.red._verify2(this,t),this.red.mul(this,t)},s.prototype.redIMul=function(t){return i(this.red,"redMul works only with red numbers"),this.red._verify2(this,t),this.red.imul(this,t)},s.prototype.redSqr=function(){return i(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},s.prototype.redISqr=function(){return i(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},s.prototype.redSqrt=function(){return i(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},s.prototype.redInvm=function(){return i(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},s.prototype.redNeg=function(){return i(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},s.prototype.redPow=function(t){return i(this.red&&!t.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,t)};var v={k256:null,p224:null,p192:null,p25519:null};function y(t,e){this.name=t,this.p=new s(e,16),this.n=this.p.bitLength(),this.k=new s(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}function b(){y.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}function w(){y.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}function _(){y.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}function M(){y.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}function A(t){if("string"==typeof t){var e=s._prime(t);this.m=e.p,this.prime=e}else i(t.gtn(1),"modulus must be greater than 1"),this.m=t,this.prime=null}function k(t){A.call(this,t),this.shift=this.m.bitLength(),this.shift%26!=0&&(this.shift+=26-this.shift%26),this.r=new s(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}y.prototype._tmp=function(){var t=new s(null);return t.words=new Array(Math.ceil(this.n/13)),t},y.prototype.ireduce=function(t){var e,i=t;do{this.split(i,this.tmp),e=(i=(i=this.imulK(i)).iadd(this.tmp)).bitLength()}while(e>this.n);var n=e<this.n?-1:i.ucmp(this.p);return 0===n?(i.words[0]=0,i.length=1):n>0?i.isub(this.p):void 0!==i.strip?i.strip():i._strip(),i},y.prototype.split=function(t,e){t.iushrn(this.n,0,e)},y.prototype.imulK=function(t){return t.imul(this.k)},n(b,y),b.prototype.split=function(t,e){for(var i=4194303,n=Math.min(t.length,9),r=0;r<n;r++)e.words[r]=t.words[r];if(e.length=n,t.length<=9)return t.words[0]=0,void(t.length=1);var s=t.words[9];for(e.words[e.length++]=s&i,r=10;r<t.length;r++){var o=0|t.words[r];t.words[r-10]=(o&i)<<4|s>>>22,s=o}s>>>=22,t.words[r-10]=s,0===s&&t.length>10?t.length-=10:t.length-=9},b.prototype.imulK=function(t){t.words[t.length]=0,t.words[t.length+1]=0,t.length+=2;for(var e=0,i=0;i<t.length;i++){var n=0|t.words[i];e+=977*n,t.words[i]=67108863&e,e=64*n+(e/67108864|0)}return 0===t.words[t.length-1]&&(t.length--,0===t.words[t.length-1]&&t.length--),t},n(w,y),n(_,y),n(M,y),M.prototype.imulK=function(t){for(var e=0,i=0;i<t.length;i++){var n=19*(0|t.words[i])+e,r=67108863&n;n>>>=26,t.words[i]=r,e=n}return 0!==e&&(t.words[t.length++]=e),t},s._prime=function(t){if(v[t])return v[t];var e;if("k256"===t)e=new b;else if("p224"===t)e=new w;else if("p192"===t)e=new _;else{if("p25519"!==t)throw new Error("Unknown prime "+t);e=new M}return v[t]=e,e},A.prototype._verify1=function(t){i(0===t.negative,"red works only with positives"),i(t.red,"red works only with red numbers")},A.prototype._verify2=function(t,e){i(0==(t.negative|e.negative),"red works only with positives"),i(t.red&&t.red===e.red,"red works only with red numbers")},A.prototype.imod=function(t){return this.prime?this.prime.ireduce(t)._forceRed(this):t.umod(this.m)._forceRed(this)},A.prototype.neg=function(t){return t.isZero()?t.clone():this.m.sub(t)._forceRed(this)},A.prototype.add=function(t,e){this._verify2(t,e);var i=t.add(e);return i.cmp(this.m)>=0&&i.isub(this.m),i._forceRed(this)},A.prototype.iadd=function(t,e){this._verify2(t,e);var i=t.iadd(e);return i.cmp(this.m)>=0&&i.isub(this.m),i},A.prototype.sub=function(t,e){this._verify2(t,e);var i=t.sub(e);return i.cmpn(0)<0&&i.iadd(this.m),i._forceRed(this)},A.prototype.isub=function(t,e){this._verify2(t,e);var i=t.isub(e);return i.cmpn(0)<0&&i.iadd(this.m),i},A.prototype.shl=function(t,e){return this._verify1(t),this.imod(t.ushln(e))},A.prototype.imul=function(t,e){return this._verify2(t,e),this.imod(t.imul(e))},A.prototype.mul=function(t,e){return this._verify2(t,e),this.imod(t.mul(e))},A.prototype.isqr=function(t){return this.imul(t,t.clone())},A.prototype.sqr=function(t){return this.mul(t,t)},A.prototype.sqrt=function(t){if(t.isZero())return t.clone();var e=this.m.andln(3);if(i(e%2==1),3===e){var n=this.m.add(new s(1)).iushrn(2);return this.pow(t,n)}for(var r=this.m.subn(1),o=0;!r.isZero()&&0===r.andln(1);)o++,r.iushrn(1);i(!r.isZero());var a=new s(1).toRed(this),h=a.redNeg(),u=this.m.subn(1).iushrn(1),l=this.m.bitLength();for(l=new s(2*l*l).toRed(this);0!==this.pow(l,u).cmp(h);)l.redIAdd(h);for(var c=this.pow(l,r),d=this.pow(t,r.addn(1).iushrn(1)),f=this.pow(t,r),p=o;0!==f.cmp(a);){for(var m=f,g=0;0!==m.cmp(a);g++)m=m.redSqr();i(g<p);var v=this.pow(c,new s(1).iushln(p-g-1));d=d.redMul(v),c=v.redSqr(),f=f.redMul(c),p=g}return d},A.prototype.invm=function(t){var e=t._invmp(this.m);return 0!==e.negative?(e.negative=0,this.imod(e).redNeg()):this.imod(e)},A.prototype.pow=function(t,e){if(e.isZero())return new s(1).toRed(this);if(0===e.cmpn(1))return t.clone();var i=new Array(16);i[0]=new s(1).toRed(this),i[1]=t;for(var n=2;n<i.length;n++)i[n]=this.mul(i[n-1],t);var r=i[0],o=0,a=0,h=e.bitLength()%26;for(0===h&&(h=26),n=e.length-1;n>=0;n--){for(var u=e.words[n],l=h-1;l>=0;l--){var c=u>>l&1;r!==i[0]&&(r=this.sqr(r)),0!==c||0!==o?(o<<=1,o|=c,(4===++a||0===n&&0===l)&&(r=this.mul(r,i[o]),a=0,o=0)):a=0}h=26}return r},A.prototype.convertTo=function(t){var e=t.umod(this.m);return e===t?e.clone():e},A.prototype.convertFrom=function(t){var e=t.clone();return e.red=null,e},s.mont=function(t){return new k(t)},n(k,A),k.prototype.convertTo=function(t){return this.imod(t.ushln(this.shift))},k.prototype.convertFrom=function(t){var e=this.imod(t.mul(this.rinv));return e.red=null,e},k.prototype.imul=function(t,e){if(t.isZero()||e.isZero())return t.words[0]=0,t.length=1,t;var i=t.imul(e),n=i.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),r=i.isub(n).iushrn(this.shift),s=r;return r.cmp(this.m)>=0?s=r.isub(this.m):r.cmpn(0)<0&&(s=r.iadd(this.m)),s._forceRed(this)},k.prototype.mul=function(t,e){if(t.isZero()||e.isZero())return new s(0)._forceRed(this);var i=t.mul(e),n=i.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),r=i.isub(n).iushrn(this.shift),o=r;return r.cmp(this.m)>=0?o=r.isub(this.m):r.cmpn(0)<0&&(o=r.iadd(this.m)),o._forceRed(this)},k.prototype.invm=function(t){return this.imod(t._invmp(this.m).mul(this.r2))._forceRed(this)}}(t,this)})),r.register("am8t0",(function(t,e){var i=t.exports;function n(t){return 1===t.length?"0"+t:t}function r(t){for(var e="",i=0;i<t.length;i++)e+=n(t[i].toString(16));return e}i.toArray=function(t,e){if(Array.isArray(t))return t.slice();if(!t)return[];var i=[];if("string"!=typeof t){for(var n=0;n<t.length;n++)i[n]=0|t[n];return i}if("hex"===e){(t=t.replace(/[^a-z0-9]+/gi,"")).length%2!=0&&(t="0"+t);for(n=0;n<t.length;n+=2)i.push(parseInt(t[n]+t[n+1],16))}else for(n=0;n<t.length;n++){var r=t.charCodeAt(n),s=r>>8,o=255&r;s?i.push(s,o):i.push(o)}return i},i.zero2=n,i.toHex=r,i.encode=function(t,e){return"hex"===e?r(t):t}})),r.register("9N9oN",(function(t,e){var i=t.exports;i.base=r("5O5VQ"),i.short=r("9ZaPg"),i.mont=r("a8wOD"),i.edwards=r("8OnvZ")})),r.register("5O5VQ",(function(t,e){var i=r("7ceHy"),n=r("fpVz9"),s=n.getNAF,o=n.getJSF,a=n.assert;function h(t,e){this.type=t,this.p=new i(e.p,16),this.red=e.prime?i.red(e.prime):i.mont(this.p),this.zero=new i(0).toRed(this.red),this.one=new i(1).toRed(this.red),this.two=new i(2).toRed(this.red),this.n=e.n&&new i(e.n,16),this.g=e.g&&this.pointFromJSON(e.g,e.gRed),this._wnafT1=new Array(4),this._wnafT2=new Array(4),this._wnafT3=new Array(4),this._wnafT4=new Array(4),this._bitLength=this.n?this.n.bitLength():0;var n=this.n&&this.p.div(this.n);!n||n.cmpn(100)>0?this.redN=null:(this._maxwellTrick=!0,this.redN=this.n.toRed(this.red))}function u(t,e){this.curve=t,this.type=e,this.precomputed=null}t.exports=h,h.prototype.point=function(){throw new Error("Not implemented")},h.prototype.validate=function(){throw new Error("Not implemented")},h.prototype._fixedNafMul=function(t,e){a(t.precomputed);var i=t._getDoubles(),n=s(e,1,this._bitLength),r=(1<<i.step+1)-(i.step%2==0?2:1);r/=3;var o,h,u=[];for(o=0;o<n.length;o+=i.step){h=0;for(var l=o+i.step-1;l>=o;l--)h=(h<<1)+n[l];u.push(h)}for(var c=this.jpoint(null,null,null),d=this.jpoint(null,null,null),f=r;f>0;f--){for(o=0;o<u.length;o++)(h=u[o])===f?d=d.mixedAdd(i.points[o]):h===-f&&(d=d.mixedAdd(i.points[o].neg()));c=c.add(d)}return c.toP()},h.prototype._wnafMul=function(t,e){var i=4,n=t._getNAFPoints(i);i=n.wnd;for(var r=n.points,o=s(e,i,this._bitLength),h=this.jpoint(null,null,null),u=o.length-1;u>=0;u--){for(var l=0;u>=0&&0===o[u];u--)l++;if(u>=0&&l++,h=h.dblp(l),u<0)break;var c=o[u];a(0!==c),h="affine"===t.type?c>0?h.mixedAdd(r[c-1>>1]):h.mixedAdd(r[-c-1>>1].neg()):c>0?h.add(r[c-1>>1]):h.add(r[-c-1>>1].neg())}return"affine"===t.type?h.toP():h},h.prototype._wnafMulAdd=function(t,e,i,n,r){var a,h,u,l=this._wnafT1,c=this._wnafT2,d=this._wnafT3,f=0;for(a=0;a<n;a++){var p=(u=e[a])._getNAFPoints(t);l[a]=p.wnd,c[a]=p.points}for(a=n-1;a>=1;a-=2){var m=a-1,g=a;if(1===l[m]&&1===l[g]){var v=[e[m],null,null,e[g]];0===e[m].y.cmp(e[g].y)?(v[1]=e[m].add(e[g]),v[2]=e[m].toJ().mixedAdd(e[g].neg())):0===e[m].y.cmp(e[g].y.redNeg())?(v[1]=e[m].toJ().mixedAdd(e[g]),v[2]=e[m].add(e[g].neg())):(v[1]=e[m].toJ().mixedAdd(e[g]),v[2]=e[m].toJ().mixedAdd(e[g].neg()));var y=[-3,-1,-5,-7,0,7,5,1,3],b=o(i[m],i[g]);for(f=Math.max(b[0].length,f),d[m]=new Array(f),d[g]=new Array(f),h=0;h<f;h++){var w=0|b[0][h],_=0|b[1][h];d[m][h]=y[3*(w+1)+(_+1)],d[g][h]=0,c[m]=v}}else d[m]=s(i[m],l[m],this._bitLength),d[g]=s(i[g],l[g],this._bitLength),f=Math.max(d[m].length,f),f=Math.max(d[g].length,f)}var M=this.jpoint(null,null,null),A=this._wnafT4;for(a=f;a>=0;a--){for(var k=0;a>=0;){var E=!0;for(h=0;h<n;h++)A[h]=0|d[h][a],0!==A[h]&&(E=!1);if(!E)break;k++,a--}if(a>=0&&k++,M=M.dblp(k),a<0)break;for(h=0;h<n;h++){var x=A[h];0!==x&&(x>0?u=c[h][x-1>>1]:x<0&&(u=c[h][-x-1>>1].neg()),M="affine"===u.type?M.mixedAdd(u):M.add(u))}}for(a=0;a<n;a++)c[a]=null;return r?M:M.toP()},h.BasePoint=u,u.prototype.eq=function(){throw new Error("Not implemented")},u.prototype.validate=function(){return this.curve.validate(this)},h.prototype.decodePoint=function(t,e){t=n.toArray(t,e);var i=this.p.byteLength();if((4===t[0]||6===t[0]||7===t[0])&&t.length-1==2*i)return 6===t[0]?a(t[t.length-1]%2==0):7===t[0]&&a(t[t.length-1]%2==1),this.point(t.slice(1,1+i),t.slice(1+i,1+2*i));if((2===t[0]||3===t[0])&&t.length-1===i)return this.pointFromX(t.slice(1,1+i),3===t[0]);throw new Error("Unknown point format")},u.prototype.encodeCompressed=function(t){return this.encode(t,!0)},u.prototype._encode=function(t){var e=this.curve.p.byteLength(),i=this.getX().toArray("be",e);return t?[this.getY().isEven()?2:3].concat(i):[4].concat(i,this.getY().toArray("be",e))},u.prototype.encode=function(t,e){return n.encode(this._encode(e),t)},u.prototype.precompute=function(t){if(this.precomputed)return this;var e={doubles:null,naf:null,beta:null};return e.naf=this._getNAFPoints(8),e.doubles=this._getDoubles(4,t),e.beta=this._getBeta(),this.precomputed=e,this},u.prototype._hasDoubles=function(t){if(!this.precomputed)return!1;var e=this.precomputed.doubles;return!!e&&e.points.length>=Math.ceil((t.bitLength()+1)/e.step)},u.prototype._getDoubles=function(t,e){if(this.precomputed&&this.precomputed.doubles)return this.precomputed.doubles;for(var i=[this],n=this,r=0;r<e;r+=t){for(var s=0;s<t;s++)n=n.dbl();i.push(n)}return{step:t,points:i}},u.prototype._getNAFPoints=function(t){if(this.precomputed&&this.precomputed.naf)return this.precomputed.naf;for(var e=[this],i=(1<<t)-1,n=1===i?null:this.dbl(),r=1;r<i;r++)e[r]=e[r-1].add(n);return{wnd:t,points:e}},u.prototype._getBeta=function(){return null},u.prototype.dblp=function(t){for(var e=this,i=0;i<t;i++)e=e.dbl();return e}})),r.register("9ZaPg",(function(t,e){var i=r("fpVz9"),n=r("7ceHy"),s=r("bniia"),o=r("5O5VQ"),a=i.assert;function h(t){o.call(this,"short",t),this.a=new n(t.a,16).toRed(this.red),this.b=new n(t.b,16).toRed(this.red),this.tinv=this.two.redInvm(),this.zeroA=0===this.a.fromRed().cmpn(0),this.threeA=0===this.a.fromRed().sub(this.p).cmpn(-3),this.endo=this._getEndomorphism(t),this._endoWnafT1=new Array(4),this._endoWnafT2=new Array(4)}function u(t,e,i,r){o.BasePoint.call(this,t,"affine"),null===e&&null===i?(this.x=null,this.y=null,this.inf=!0):(this.x=new n(e,16),this.y=new n(i,16),r&&(this.x.forceRed(this.curve.red),this.y.forceRed(this.curve.red)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.inf=!1)}function l(t,e,i,r){o.BasePoint.call(this,t,"jacobian"),null===e&&null===i&&null===r?(this.x=this.curve.one,this.y=this.curve.one,this.z=new n(0)):(this.x=new n(e,16),this.y=new n(i,16),this.z=new n(r,16)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.zOne=this.z===this.curve.one}s(h,o),t.exports=h,h.prototype._getEndomorphism=function(t){if(this.zeroA&&this.g&&this.n&&1===this.p.modn(3)){var e,i;if(t.beta)e=new n(t.beta,16).toRed(this.red);else{var r=this._getEndoRoots(this.p);e=(e=r[0].cmp(r[1])<0?r[0]:r[1]).toRed(this.red)}if(t.lambda)i=new n(t.lambda,16);else{var s=this._getEndoRoots(this.n);0===this.g.mul(s[0]).x.cmp(this.g.x.redMul(e))?i=s[0]:(i=s[1],a(0===this.g.mul(i).x.cmp(this.g.x.redMul(e))))}return{beta:e,lambda:i,basis:t.basis?t.basis.map((function(t){return{a:new n(t.a,16),b:new n(t.b,16)}})):this._getEndoBasis(i)}}},h.prototype._getEndoRoots=function(t){var e=t===this.p?this.red:n.mont(t),i=new n(2).toRed(e).redInvm(),r=i.redNeg(),s=new n(3).toRed(e).redNeg().redSqrt().redMul(i);return[r.redAdd(s).fromRed(),r.redSub(s).fromRed()]},h.prototype._getEndoBasis=function(t){for(var e,i,r,s,o,a,h,u,l,c=this.n.ushrn(Math.floor(this.n.bitLength()/2)),d=t,f=this.n.clone(),p=new n(1),m=new n(0),g=new n(0),v=new n(1),y=0;0!==d.cmpn(0);){var b=f.div(d);u=f.sub(b.mul(d)),l=g.sub(b.mul(p));var w=v.sub(b.mul(m));if(!r&&u.cmp(c)<0)e=h.neg(),i=p,r=u.neg(),s=l;else if(r&&2==++y)break;h=u,f=d,d=u,g=p,p=l,v=m,m=w}o=u.neg(),a=l;var _=r.sqr().add(s.sqr());return o.sqr().add(a.sqr()).cmp(_)>=0&&(o=e,a=i),r.negative&&(r=r.neg(),s=s.neg()),o.negative&&(o=o.neg(),a=a.neg()),[{a:r,b:s},{a:o,b:a}]},h.prototype._endoSplit=function(t){var e=this.endo.basis,i=e[0],n=e[1],r=n.b.mul(t).divRound(this.n),s=i.b.neg().mul(t).divRound(this.n),o=r.mul(i.a),a=s.mul(n.a),h=r.mul(i.b),u=s.mul(n.b);return{k1:t.sub(o).sub(a),k2:h.add(u).neg()}},h.prototype.pointFromX=function(t,e){(t=new n(t,16)).red||(t=t.toRed(this.red));var i=t.redSqr().redMul(t).redIAdd(t.redMul(this.a)).redIAdd(this.b),r=i.redSqrt();if(0!==r.redSqr().redSub(i).cmp(this.zero))throw new Error("invalid point");var s=r.fromRed().isOdd();return(e&&!s||!e&&s)&&(r=r.redNeg()),this.point(t,r)},h.prototype.validate=function(t){if(t.inf)return!0;var e=t.x,i=t.y,n=this.a.redMul(e),r=e.redSqr().redMul(e).redIAdd(n).redIAdd(this.b);return 0===i.redSqr().redISub(r).cmpn(0)},h.prototype._endoWnafMulAdd=function(t,e,i){for(var n=this._endoWnafT1,r=this._endoWnafT2,s=0;s<t.length;s++){var o=this._endoSplit(e[s]),a=t[s],h=a._getBeta();o.k1.negative&&(o.k1.ineg(),a=a.neg(!0)),o.k2.negative&&(o.k2.ineg(),h=h.neg(!0)),n[2*s]=a,n[2*s+1]=h,r[2*s]=o.k1,r[2*s+1]=o.k2}for(var u=this._wnafMulAdd(1,n,r,2*s,i),l=0;l<2*s;l++)n[l]=null,r[l]=null;return u},s(u,o.BasePoint),h.prototype.point=function(t,e,i){return new u(this,t,e,i)},h.prototype.pointFromJSON=function(t,e){return u.fromJSON(this,t,e)},u.prototype._getBeta=function(){if(this.curve.endo){var t=this.precomputed;if(t&&t.beta)return t.beta;var e=this.curve.point(this.x.redMul(this.curve.endo.beta),this.y);if(t){var i=this.curve,n=function(t){return i.point(t.x.redMul(i.endo.beta),t.y)};t.beta=e,e.precomputed={beta:null,naf:t.naf&&{wnd:t.naf.wnd,points:t.naf.points.map(n)},doubles:t.doubles&&{step:t.doubles.step,points:t.doubles.points.map(n)}}}return e}},u.prototype.toJSON=function(){return this.precomputed?[this.x,this.y,this.precomputed&&{doubles:this.precomputed.doubles&&{step:this.precomputed.doubles.step,points:this.precomputed.doubles.points.slice(1)},naf:this.precomputed.naf&&{wnd:this.precomputed.naf.wnd,points:this.precomputed.naf.points.slice(1)}}]:[this.x,this.y]},u.fromJSON=function(t,e,i){"string"==typeof e&&(e=JSON.parse(e));var n=t.point(e[0],e[1],i);if(!e[2])return n;function r(e){return t.point(e[0],e[1],i)}var s=e[2];return n.precomputed={beta:null,doubles:s.doubles&&{step:s.doubles.step,points:[n].concat(s.doubles.points.map(r))},naf:s.naf&&{wnd:s.naf.wnd,points:[n].concat(s.naf.points.map(r))}},n},u.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+">"},u.prototype.isInfinity=function(){return this.inf},u.prototype.add=function(t){if(this.inf)return t;if(t.inf)return this;if(this.eq(t))return this.dbl();if(this.neg().eq(t))return this.curve.point(null,null);if(0===this.x.cmp(t.x))return this.curve.point(null,null);var e=this.y.redSub(t.y);0!==e.cmpn(0)&&(e=e.redMul(this.x.redSub(t.x).redInvm()));var i=e.redSqr().redISub(this.x).redISub(t.x),n=e.redMul(this.x.redSub(i)).redISub(this.y);return this.curve.point(i,n)},u.prototype.dbl=function(){if(this.inf)return this;var t=this.y.redAdd(this.y);if(0===t.cmpn(0))return this.curve.point(null,null);var e=this.curve.a,i=this.x.redSqr(),n=t.redInvm(),r=i.redAdd(i).redIAdd(i).redIAdd(e).redMul(n),s=r.redSqr().redISub(this.x.redAdd(this.x)),o=r.redMul(this.x.redSub(s)).redISub(this.y);return this.curve.point(s,o)},u.prototype.getX=function(){return this.x.fromRed()},u.prototype.getY=function(){return this.y.fromRed()},u.prototype.mul=function(t){return t=new n(t,16),this.isInfinity()?this:this._hasDoubles(t)?this.curve._fixedNafMul(this,t):this.curve.endo?this.curve._endoWnafMulAdd([this],[t]):this.curve._wnafMul(this,t)},u.prototype.mulAdd=function(t,e,i){var n=[this,e],r=[t,i];return this.curve.endo?this.curve._endoWnafMulAdd(n,r):this.curve._wnafMulAdd(1,n,r,2)},u.prototype.jmulAdd=function(t,e,i){var n=[this,e],r=[t,i];return this.curve.endo?this.curve._endoWnafMulAdd(n,r,!0):this.curve._wnafMulAdd(1,n,r,2,!0)},u.prototype.eq=function(t){return this===t||this.inf===t.inf&&(this.inf||0===this.x.cmp(t.x)&&0===this.y.cmp(t.y))},u.prototype.neg=function(t){if(this.inf)return this;var e=this.curve.point(this.x,this.y.redNeg());if(t&&this.precomputed){var i=this.precomputed,n=function(t){return t.neg()};e.precomputed={naf:i.naf&&{wnd:i.naf.wnd,points:i.naf.points.map(n)},doubles:i.doubles&&{step:i.doubles.step,points:i.doubles.points.map(n)}}}return e},u.prototype.toJ=function(){return this.inf?this.curve.jpoint(null,null,null):this.curve.jpoint(this.x,this.y,this.curve.one)},s(l,o.BasePoint),h.prototype.jpoint=function(t,e,i){return new l(this,t,e,i)},l.prototype.toP=function(){if(this.isInfinity())return this.curve.point(null,null);var t=this.z.redInvm(),e=t.redSqr(),i=this.x.redMul(e),n=this.y.redMul(e).redMul(t);return this.curve.point(i,n)},l.prototype.neg=function(){return this.curve.jpoint(this.x,this.y.redNeg(),this.z)},l.prototype.add=function(t){if(this.isInfinity())return t;if(t.isInfinity())return this;var e=t.z.redSqr(),i=this.z.redSqr(),n=this.x.redMul(e),r=t.x.redMul(i),s=this.y.redMul(e.redMul(t.z)),o=t.y.redMul(i.redMul(this.z)),a=n.redSub(r),h=s.redSub(o);if(0===a.cmpn(0))return 0!==h.cmpn(0)?this.curve.jpoint(null,null,null):this.dbl();var u=a.redSqr(),l=u.redMul(a),c=n.redMul(u),d=h.redSqr().redIAdd(l).redISub(c).redISub(c),f=h.redMul(c.redISub(d)).redISub(s.redMul(l)),p=this.z.redMul(t.z).redMul(a);return this.curve.jpoint(d,f,p)},l.prototype.mixedAdd=function(t){if(this.isInfinity())return t.toJ();if(t.isInfinity())return this;var e=this.z.redSqr(),i=this.x,n=t.x.redMul(e),r=this.y,s=t.y.redMul(e).redMul(this.z),o=i.redSub(n),a=r.redSub(s);if(0===o.cmpn(0))return 0!==a.cmpn(0)?this.curve.jpoint(null,null,null):this.dbl();var h=o.redSqr(),u=h.redMul(o),l=i.redMul(h),c=a.redSqr().redIAdd(u).redISub(l).redISub(l),d=a.redMul(l.redISub(c)).redISub(r.redMul(u)),f=this.z.redMul(o);return this.curve.jpoint(c,d,f)},l.prototype.dblp=function(t){if(0===t)return this;if(this.isInfinity())return this;if(!t)return this.dbl();var e;if(this.curve.zeroA||this.curve.threeA){var i=this;for(e=0;e<t;e++)i=i.dbl();return i}var n=this.curve.a,r=this.curve.tinv,s=this.x,o=this.y,a=this.z,h=a.redSqr().redSqr(),u=o.redAdd(o);for(e=0;e<t;e++){var l=s.redSqr(),c=u.redSqr(),d=c.redSqr(),f=l.redAdd(l).redIAdd(l).redIAdd(n.redMul(h)),p=s.redMul(c),m=f.redSqr().redISub(p.redAdd(p)),g=p.redISub(m),v=f.redMul(g);v=v.redIAdd(v).redISub(d);var y=u.redMul(a);e+1<t&&(h=h.redMul(d)),s=m,a=y,u=v}return this.curve.jpoint(s,u.redMul(r),a)},l.prototype.dbl=function(){return this.isInfinity()?this:this.curve.zeroA?this._zeroDbl():this.curve.threeA?this._threeDbl():this._dbl()},l.prototype._zeroDbl=function(){var t,e,i;if(this.zOne){var n=this.x.redSqr(),r=this.y.redSqr(),s=r.redSqr(),o=this.x.redAdd(r).redSqr().redISub(n).redISub(s);o=o.redIAdd(o);var a=n.redAdd(n).redIAdd(n),h=a.redSqr().redISub(o).redISub(o),u=s.redIAdd(s);u=(u=u.redIAdd(u)).redIAdd(u),t=h,e=a.redMul(o.redISub(h)).redISub(u),i=this.y.redAdd(this.y)}else{var l=this.x.redSqr(),c=this.y.redSqr(),d=c.redSqr(),f=this.x.redAdd(c).redSqr().redISub(l).redISub(d);f=f.redIAdd(f);var p=l.redAdd(l).redIAdd(l),m=p.redSqr(),g=d.redIAdd(d);g=(g=g.redIAdd(g)).redIAdd(g),t=m.redISub(f).redISub(f),e=p.redMul(f.redISub(t)).redISub(g),i=(i=this.y.redMul(this.z)).redIAdd(i)}return this.curve.jpoint(t,e,i)},l.prototype._threeDbl=function(){var t,e,i;if(this.zOne){var n=this.x.redSqr(),r=this.y.redSqr(),s=r.redSqr(),o=this.x.redAdd(r).redSqr().redISub(n).redISub(s);o=o.redIAdd(o);var a=n.redAdd(n).redIAdd(n).redIAdd(this.curve.a),h=a.redSqr().redISub(o).redISub(o);t=h;var u=s.redIAdd(s);u=(u=u.redIAdd(u)).redIAdd(u),e=a.redMul(o.redISub(h)).redISub(u),i=this.y.redAdd(this.y)}else{var l=this.z.redSqr(),c=this.y.redSqr(),d=this.x.redMul(c),f=this.x.redSub(l).redMul(this.x.redAdd(l));f=f.redAdd(f).redIAdd(f);var p=d.redIAdd(d),m=(p=p.redIAdd(p)).redAdd(p);t=f.redSqr().redISub(m),i=this.y.redAdd(this.z).redSqr().redISub(c).redISub(l);var g=c.redSqr();g=(g=(g=g.redIAdd(g)).redIAdd(g)).redIAdd(g),e=f.redMul(p.redISub(t)).redISub(g)}return this.curve.jpoint(t,e,i)},l.prototype._dbl=function(){var t=this.curve.a,e=this.x,i=this.y,n=this.z,r=n.redSqr().redSqr(),s=e.redSqr(),o=i.redSqr(),a=s.redAdd(s).redIAdd(s).redIAdd(t.redMul(r)),h=e.redAdd(e),u=(h=h.redIAdd(h)).redMul(o),l=a.redSqr().redISub(u.redAdd(u)),c=u.redISub(l),d=o.redSqr();d=(d=(d=d.redIAdd(d)).redIAdd(d)).redIAdd(d);var f=a.redMul(c).redISub(d),p=i.redAdd(i).redMul(n);return this.curve.jpoint(l,f,p)},l.prototype.trpl=function(){if(!this.curve.zeroA)return this.dbl().add(this);var t=this.x.redSqr(),e=this.y.redSqr(),i=this.z.redSqr(),n=e.redSqr(),r=t.redAdd(t).redIAdd(t),s=r.redSqr(),o=this.x.redAdd(e).redSqr().redISub(t).redISub(n),a=(o=(o=(o=o.redIAdd(o)).redAdd(o).redIAdd(o)).redISub(s)).redSqr(),h=n.redIAdd(n);h=(h=(h=h.redIAdd(h)).redIAdd(h)).redIAdd(h);var u=r.redIAdd(o).redSqr().redISub(s).redISub(a).redISub(h),l=e.redMul(u);l=(l=l.redIAdd(l)).redIAdd(l);var c=this.x.redMul(a).redISub(l);c=(c=c.redIAdd(c)).redIAdd(c);var d=this.y.redMul(u.redMul(h.redISub(u)).redISub(o.redMul(a)));d=(d=(d=d.redIAdd(d)).redIAdd(d)).redIAdd(d);var f=this.z.redAdd(o).redSqr().redISub(i).redISub(a);return this.curve.jpoint(c,d,f)},l.prototype.mul=function(t,e){return t=new n(t,e),this.curve._wnafMul(this,t)},l.prototype.eq=function(t){if("affine"===t.type)return this.eq(t.toJ());if(this===t)return!0;var e=this.z.redSqr(),i=t.z.redSqr();if(0!==this.x.redMul(i).redISub(t.x.redMul(e)).cmpn(0))return!1;var n=e.redMul(this.z),r=i.redMul(t.z);return 0===this.y.redMul(r).redISub(t.y.redMul(n)).cmpn(0)},l.prototype.eqXToP=function(t){var e=this.z.redSqr(),i=t.toRed(this.curve.red).redMul(e);if(0===this.x.cmp(i))return!0;for(var n=t.clone(),r=this.curve.redN.redMul(e);;){if(n.iadd(this.curve.n),n.cmp(this.curve.p)>=0)return!1;if(i.redIAdd(r),0===this.x.cmp(i))return!0}},l.prototype.inspect=function(){return this.isInfinity()?"<EC JPoint Infinity>":"<EC JPoint x: "+this.x.toString(16,2)+" y: "+this.y.toString(16,2)+" z: "+this.z.toString(16,2)+">"},l.prototype.isInfinity=function(){return 0===this.z.cmpn(0)}})),r.register("a8wOD",(function(t,e){var i=r("7ceHy"),n=r("bniia"),s=r("5O5VQ"),o=r("fpVz9");function a(t){s.call(this,"mont",t),this.a=new i(t.a,16).toRed(this.red),this.b=new i(t.b,16).toRed(this.red),this.i4=new i(4).toRed(this.red).redInvm(),this.two=new i(2).toRed(this.red),this.a24=this.i4.redMul(this.a.redAdd(this.two))}function h(t,e,n){s.BasePoint.call(this,t,"projective"),null===e&&null===n?(this.x=this.curve.one,this.z=this.curve.zero):(this.x=new i(e,16),this.z=new i(n,16),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)))}n(a,s),t.exports=a,a.prototype.validate=function(t){var e=t.normalize().x,i=e.redSqr(),n=i.redMul(e).redAdd(i.redMul(this.a)).redAdd(e);return 0===n.redSqrt().redSqr().cmp(n)},n(h,s.BasePoint),a.prototype.decodePoint=function(t,e){return this.point(o.toArray(t,e),1)},a.prototype.point=function(t,e){return new h(this,t,e)},a.prototype.pointFromJSON=function(t){return h.fromJSON(this,t)},h.prototype.precompute=function(){},h.prototype._encode=function(){return this.getX().toArray("be",this.curve.p.byteLength())},h.fromJSON=function(t,e){return new h(t,e[0],e[1]||t.one)},h.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" z: "+this.z.fromRed().toString(16,2)+">"},h.prototype.isInfinity=function(){return 0===this.z.cmpn(0)},h.prototype.dbl=function(){var t=this.x.redAdd(this.z).redSqr(),e=this.x.redSub(this.z).redSqr(),i=t.redSub(e),n=t.redMul(e),r=i.redMul(e.redAdd(this.curve.a24.redMul(i)));return this.curve.point(n,r)},h.prototype.add=function(){throw new Error("Not supported on Montgomery curve")},h.prototype.diffAdd=function(t,e){var i=this.x.redAdd(this.z),n=this.x.redSub(this.z),r=t.x.redAdd(t.z),s=t.x.redSub(t.z).redMul(i),o=r.redMul(n),a=e.z.redMul(s.redAdd(o).redSqr()),h=e.x.redMul(s.redISub(o).redSqr());return this.curve.point(a,h)},h.prototype.mul=function(t){for(var e=t.clone(),i=this,n=this.curve.point(null,null),r=[];0!==e.cmpn(0);e.iushrn(1))r.push(e.andln(1));for(var s=r.length-1;s>=0;s--)0===r[s]?(i=i.diffAdd(n,this),n=n.dbl()):(n=i.diffAdd(n,this),i=i.dbl());return n},h.prototype.mulAdd=function(){throw new Error("Not supported on Montgomery curve")},h.prototype.jumlAdd=function(){throw new Error("Not supported on Montgomery curve")},h.prototype.eq=function(t){return 0===this.getX().cmp(t.getX())},h.prototype.normalize=function(){return this.x=this.x.redMul(this.z.redInvm()),this.z=this.curve.one,this},h.prototype.getX=function(){return this.normalize(),this.x.fromRed()}})),r.register("8OnvZ",(function(t,e){var i=r("fpVz9"),n=r("7ceHy"),s=r("bniia"),o=r("5O5VQ"),a=i.assert;function h(t){this.twisted=1!=(0|t.a),this.mOneA=this.twisted&&-1==(0|t.a),this.extended=this.mOneA,o.call(this,"edwards",t),this.a=new n(t.a,16).umod(this.red.m),this.a=this.a.toRed(this.red),this.c=new n(t.c,16).toRed(this.red),this.c2=this.c.redSqr(),this.d=new n(t.d,16).toRed(this.red),this.dd=this.d.redAdd(this.d),a(!this.twisted||0===this.c.fromRed().cmpn(1)),this.oneC=1==(0|t.c)}function u(t,e,i,r,s){o.BasePoint.call(this,t,"projective"),null===e&&null===i&&null===r?(this.x=this.curve.zero,this.y=this.curve.one,this.z=this.curve.one,this.t=this.curve.zero,this.zOne=!0):(this.x=new n(e,16),this.y=new n(i,16),this.z=r?new n(r,16):this.curve.one,this.t=s&&new n(s,16),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.t&&!this.t.red&&(this.t=this.t.toRed(this.curve.red)),this.zOne=this.z===this.curve.one,this.curve.extended&&!this.t&&(this.t=this.x.redMul(this.y),this.zOne||(this.t=this.t.redMul(this.z.redInvm()))))}s(h,o),t.exports=h,h.prototype._mulA=function(t){return this.mOneA?t.redNeg():this.a.redMul(t)},h.prototype._mulC=function(t){return this.oneC?t:this.c.redMul(t)},h.prototype.jpoint=function(t,e,i,n){return this.point(t,e,i,n)},h.prototype.pointFromX=function(t,e){(t=new n(t,16)).red||(t=t.toRed(this.red));var i=t.redSqr(),r=this.c2.redSub(this.a.redMul(i)),s=this.one.redSub(this.c2.redMul(this.d).redMul(i)),o=r.redMul(s.redInvm()),a=o.redSqrt();if(0!==a.redSqr().redSub(o).cmp(this.zero))throw new Error("invalid point");var h=a.fromRed().isOdd();return(e&&!h||!e&&h)&&(a=a.redNeg()),this.point(t,a)},h.prototype.pointFromY=function(t,e){(t=new n(t,16)).red||(t=t.toRed(this.red));var i=t.redSqr(),r=i.redSub(this.c2),s=i.redMul(this.d).redMul(this.c2).redSub(this.a),o=r.redMul(s.redInvm());if(0===o.cmp(this.zero)){if(e)throw new Error("invalid point");return this.point(this.zero,t)}var a=o.redSqrt();if(0!==a.redSqr().redSub(o).cmp(this.zero))throw new Error("invalid point");return a.fromRed().isOdd()!==e&&(a=a.redNeg()),this.point(a,t)},h.prototype.validate=function(t){if(t.isInfinity())return!0;t.normalize();var e=t.x.redSqr(),i=t.y.redSqr(),n=e.redMul(this.a).redAdd(i),r=this.c2.redMul(this.one.redAdd(this.d.redMul(e).redMul(i)));return 0===n.cmp(r)},s(u,o.BasePoint),h.prototype.pointFromJSON=function(t){return u.fromJSON(this,t)},h.prototype.point=function(t,e,i,n){return new u(this,t,e,i,n)},u.fromJSON=function(t,e){return new u(t,e[0],e[1],e[2])},u.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+" z: "+this.z.fromRed().toString(16,2)+">"},u.prototype.isInfinity=function(){return 0===this.x.cmpn(0)&&(0===this.y.cmp(this.z)||this.zOne&&0===this.y.cmp(this.curve.c))},u.prototype._extDbl=function(){var t=this.x.redSqr(),e=this.y.redSqr(),i=this.z.redSqr();i=i.redIAdd(i);var n=this.curve._mulA(t),r=this.x.redAdd(this.y).redSqr().redISub(t).redISub(e),s=n.redAdd(e),o=s.redSub(i),a=n.redSub(e),h=r.redMul(o),u=s.redMul(a),l=r.redMul(a),c=o.redMul(s);return this.curve.point(h,u,c,l)},u.prototype._projDbl=function(){var t,e,i,n,r,s,o=this.x.redAdd(this.y).redSqr(),a=this.x.redSqr(),h=this.y.redSqr();if(this.curve.twisted){var u=(n=this.curve._mulA(a)).redAdd(h);this.zOne?(t=o.redSub(a).redSub(h).redMul(u.redSub(this.curve.two)),e=u.redMul(n.redSub(h)),i=u.redSqr().redSub(u).redSub(u)):(r=this.z.redSqr(),s=u.redSub(r).redISub(r),t=o.redSub(a).redISub(h).redMul(s),e=u.redMul(n.redSub(h)),i=u.redMul(s))}else n=a.redAdd(h),r=this.curve._mulC(this.z).redSqr(),s=n.redSub(r).redSub(r),t=this.curve._mulC(o.redISub(n)).redMul(s),e=this.curve._mulC(n).redMul(a.redISub(h)),i=n.redMul(s);return this.curve.point(t,e,i)},u.prototype.dbl=function(){return this.isInfinity()?this:this.curve.extended?this._extDbl():this._projDbl()},u.prototype._extAdd=function(t){var e=this.y.redSub(this.x).redMul(t.y.redSub(t.x)),i=this.y.redAdd(this.x).redMul(t.y.redAdd(t.x)),n=this.t.redMul(this.curve.dd).redMul(t.t),r=this.z.redMul(t.z.redAdd(t.z)),s=i.redSub(e),o=r.redSub(n),a=r.redAdd(n),h=i.redAdd(e),u=s.redMul(o),l=a.redMul(h),c=s.redMul(h),d=o.redMul(a);return this.curve.point(u,l,d,c)},u.prototype._projAdd=function(t){var e,i,n=this.z.redMul(t.z),r=n.redSqr(),s=this.x.redMul(t.x),o=this.y.redMul(t.y),a=this.curve.d.redMul(s).redMul(o),h=r.redSub(a),u=r.redAdd(a),l=this.x.redAdd(this.y).redMul(t.x.redAdd(t.y)).redISub(s).redISub(o),c=n.redMul(h).redMul(l);return this.curve.twisted?(e=n.redMul(u).redMul(o.redSub(this.curve._mulA(s))),i=h.redMul(u)):(e=n.redMul(u).redMul(o.redSub(s)),i=this.curve._mulC(h).redMul(u)),this.curve.point(c,e,i)},u.prototype.add=function(t){return this.isInfinity()?t:t.isInfinity()?this:this.curve.extended?this._extAdd(t):this._projAdd(t)},u.prototype.mul=function(t){return this._hasDoubles(t)?this.curve._fixedNafMul(this,t):this.curve._wnafMul(this,t)},u.prototype.mulAdd=function(t,e,i){return this.curve._wnafMulAdd(1,[this,e],[t,i],2,!1)},u.prototype.jmulAdd=function(t,e,i){return this.curve._wnafMulAdd(1,[this,e],[t,i],2,!0)},u.prototype.normalize=function(){if(this.zOne)return this;var t=this.z.redInvm();return this.x=this.x.redMul(t),this.y=this.y.redMul(t),this.t&&(this.t=this.t.redMul(t)),this.z=this.curve.one,this.zOne=!0,this},u.prototype.neg=function(){return this.curve.point(this.x.redNeg(),this.y,this.z,this.t&&this.t.redNeg())},u.prototype.getX=function(){return this.normalize(),this.x.fromRed()},u.prototype.getY=function(){return this.normalize(),this.y.fromRed()},u.prototype.eq=function(t){return this===t||0===this.getX().cmp(t.getX())&&0===this.getY().cmp(t.getY())},u.prototype.eqXToP=function(t){var e=t.toRed(this.curve.red).redMul(this.z);if(0===this.x.cmp(e))return!0;for(var i=t.clone(),n=this.curve.redN.redMul(this.z);;){if(i.iadd(this.curve.n),i.cmp(this.curve.p)>=0)return!1;if(e.redIAdd(n),0===this.x.cmp(e))return!0}},u.prototype.toP=u.prototype.normalize,u.prototype.mixedAdd=u.prototype.add})),r.register("ch9s3",(function(t,e){var i,n=t.exports,s=r("d8iRl"),o=r("9N9oN"),a=r("fpVz9").assert;function h(t){"short"===t.type?this.curve=new o.short(t):"edwards"===t.type?this.curve=new o.edwards(t):this.curve=new o.mont(t),this.g=this.curve.g,this.n=this.curve.n,this.hash=t.hash,a(this.g.validate(),"Invalid curve"),a(this.g.mul(this.n).isInfinity(),"Invalid curve, G*N != O")}function u(t,e){Object.defineProperty(n,t,{configurable:!0,enumerable:!0,get:function(){var i=new h(e);return Object.defineProperty(n,t,{configurable:!0,enumerable:!0,value:i}),i}})}n.PresetCurve=h,u("p192",{type:"short",prime:"p192",p:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff",a:"ffffffff ffffffff ffffffff fffffffe ffffffff fffffffc",b:"64210519 e59c80e7 0fa7e9ab 72243049 feb8deec c146b9b1",n:"ffffffff ffffffff ffffffff 99def836 146bc9b1 b4d22831",hash:s.sha256,gRed:!1,g:["188da80e b03090f6 7cbf20eb 43a18800 f4ff0afd 82ff1012","07192b95 ffc8da78 631011ed 6b24cdd5 73f977a1 1e794811"]}),u("p224",{type:"short",prime:"p224",p:"ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001",a:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff fffffffe",b:"b4050a85 0c04b3ab f5413256 5044b0b7 d7bfd8ba 270b3943 2355ffb4",n:"ffffffff ffffffff ffffffff ffff16a2 e0b8f03e 13dd2945 5c5c2a3d",hash:s.sha256,gRed:!1,g:["b70e0cbd 6bb4bf7f 321390b9 4a03c1d3 56c21122 343280d6 115c1d21","bd376388 b5f723fb 4c22dfe6 cd4375a0 5a074764 44d58199 85007e34"]}),u("p256",{type:"short",prime:null,p:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff ffffffff",a:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff fffffffc",b:"5ac635d8 aa3a93e7 b3ebbd55 769886bc 651d06b0 cc53b0f6 3bce3c3e 27d2604b",n:"ffffffff 00000000 ffffffff ffffffff bce6faad a7179e84 f3b9cac2 fc632551",hash:s.sha256,gRed:!1,g:["6b17d1f2 e12c4247 f8bce6e5 63a440f2 77037d81 2deb33a0 f4a13945 d898c296","4fe342e2 fe1a7f9b 8ee7eb4a 7c0f9e16 2bce3357 6b315ece cbb64068 37bf51f5"]}),u("p384",{type:"short",prime:null,p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 ffffffff",a:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 fffffffc",b:"b3312fa7 e23ee7e4 988e056b e3f82d19 181d9c6e fe814112 0314088f 5013875a c656398d 8a2ed19d 2a85c8ed d3ec2aef",n:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff c7634d81 f4372ddf 581a0db2 48b0a77a ecec196a ccc52973",hash:s.sha384,gRed:!1,g:["aa87ca22 be8b0537 8eb1c71e f320ad74 6e1d3b62 8ba79b98 59f741e0 82542a38 5502f25d bf55296c 3a545e38 72760ab7","3617de4a 96262c6f 5d9e98bf 9292dc29 f8f41dbd 289a147c e9da3113 b5f0b8c0 0a60b1ce 1d7e819d 7a431d7c 90ea0e5f"]}),u("p521",{type:"short",prime:null,p:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff",a:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffc",b:"00000051 953eb961 8e1c9a1f 929a21a0 b68540ee a2da725b 99b315f3 b8b48991 8ef109e1 56193951 ec7e937b 1652c0bd 3bb1bf07 3573df88 3d2c34f1 ef451fd4 6b503f00",n:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffa 51868783 bf2f966b 7fcc0148 f709a5d0 3bb5c9b8 899c47ae bb6fb71e 91386409",hash:s.sha512,gRed:!1,g:["000000c6 858e06b7 0404e9cd 9e3ecb66 2395b442 9c648139 053fb521 f828af60 6b4d3dba a14b5e77 efe75928 fe1dc127 a2ffa8de 3348b3c1 856a429b f97e7e31 c2e5bd66","00000118 39296a78 9a3bc004 5c8a5fb4 2c7d1bd9 98f54449 579b4468 17afbd17 273e662c 97ee7299 5ef42640 c550b901 3fad0761 353c7086 a272c240 88be9476 9fd16650"]}),u("curve25519",{type:"mont",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"76d06",b:"1",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:s.sha256,gRed:!1,g:["9"]}),u("ed25519",{type:"edwards",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"-1",c:"1",d:"52036cee2b6ffe73 8cc740797779e898 00700a4d4141d8ab 75eb4dca135978a3",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:s.sha256,gRed:!1,g:["216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51a","6666666666666666666666666666666666666666666666666666666666666658"]});try{i=r("eh5tQ")}catch(t){i=void 0}u("secp256k1",{type:"short",prime:"k256",p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f",a:"0",b:"7",n:"ffffffff ffffffff ffffffff fffffffe baaedce6 af48a03b bfd25e8c d0364141",h:"1",hash:s.sha256,beta:"7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee",lambda:"5363ad4cc05c30e0a5261c028812645a122e22ea20816678df02967c1b23bd72",basis:[{a:"3086d221a7d46bcde86c90e49284eb15",b:"-e4437ed6010e88286f547fa90abfe4c3"},{a:"114ca50f7a8e2f3f657c1108d9d44cfd8",b:"3086d221a7d46bcde86c90e49284eb15"}],gRed:!1,g:["79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798","483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8",i]})})),r.register("d8iRl",(function(t,e){var i=t.exports;i.utils=r("5h91W"),i.common=r("2uLAh"),i.sha=r("e6NW8"),i.ripemd=r("4vjbU"),i.hmac=r("bzM2M"),i.sha1=i.sha.sha1,i.sha256=i.sha.sha256,i.sha224=i.sha.sha224,i.sha384=i.sha.sha384,i.sha512=i.sha.sha512,i.ripemd160=i.ripemd.ripemd160})),r.register("5h91W",(function(e,i){var n,s,o,a,h,u,l,c,d,f,p,m,g,v,y,b,w,_,M,A,k,E,x,S,T,I;t(e.exports,"inherits",(()=>n),(t=>n=t)),t(e.exports,"toArray",(()=>s),(t=>s=t)),t(e.exports,"toHex",(()=>o),(t=>o=t)),t(e.exports,"htonl",(()=>a),(t=>a=t)),t(e.exports,"toHex32",(()=>h),(t=>h=t)),t(e.exports,"zero2",(()=>u),(t=>u=t)),t(e.exports,"zero8",(()=>l),(t=>l=t)),t(e.exports,"join32",(()=>c),(t=>c=t)),t(e.exports,"split32",(()=>d),(t=>d=t)),t(e.exports,"rotr32",(()=>f),(t=>f=t)),t(e.exports,"rotl32",(()=>p),(t=>p=t)),t(e.exports,"sum32",(()=>m),(t=>m=t)),t(e.exports,"sum32_3",(()=>g),(t=>g=t)),t(e.exports,"sum32_4",(()=>v),(t=>v=t)),t(e.exports,"sum32_5",(()=>y),(t=>y=t)),t(e.exports,"sum64",(()=>b),(t=>b=t)),t(e.exports,"sum64_hi",(()=>w),(t=>w=t)),t(e.exports,"sum64_lo",(()=>_),(t=>_=t)),t(e.exports,"sum64_4_hi",(()=>M),(t=>M=t)),t(e.exports,"sum64_4_lo",(()=>A),(t=>A=t)),t(e.exports,"sum64_5_hi",(()=>k),(t=>k=t)),t(e.exports,"sum64_5_lo",(()=>E),(t=>E=t)),t(e.exports,"rotr64_hi",(()=>x),(t=>x=t)),t(e.exports,"rotr64_lo",(()=>S),(t=>S=t)),t(e.exports,"shr64_hi",(()=>T),(t=>T=t)),t(e.exports,"shr64_lo",(()=>I),(t=>I=t));var q=r("bNW2d"),R=r("bniia");function C(t,e){return 55296==(64512&t.charCodeAt(e))&&(!(e<0||e+1>=t.length)&&56320==(64512&t.charCodeAt(e+1)))}function N(t){return(t>>>24|t>>>8&65280|t<<8&16711680|(255&t)<<24)>>>0}function L(t){return 1===t.length?"0"+t:t}function D(t){return 7===t.length?"0"+t:6===t.length?"00"+t:5===t.length?"000"+t:4===t.length?"0000"+t:3===t.length?"00000"+t:2===t.length?"000000"+t:1===t.length?"0000000"+t:t}n=R,s=function(t,e){if(Array.isArray(t))return t.slice();if(!t)return[];var i=[];if("string"==typeof t)if(e){if("hex"===e)for((t=t.replace(/[^a-z0-9]+/gi,"")).length%2!=0&&(t="0"+t),r=0;r<t.length;r+=2)i.push(parseInt(t[r]+t[r+1],16))}else for(var n=0,r=0;r<t.length;r++){var s=t.charCodeAt(r);s<128?i[n++]=s:s<2048?(i[n++]=s>>6|192,i[n++]=63&s|128):C(t,r)?(s=65536+((1023&s)<<10)+(1023&t.charCodeAt(++r)),i[n++]=s>>18|240,i[n++]=s>>12&63|128,i[n++]=s>>6&63|128,i[n++]=63&s|128):(i[n++]=s>>12|224,i[n++]=s>>6&63|128,i[n++]=63&s|128)}else for(r=0;r<t.length;r++)i[r]=0|t[r];return i},o=function(t){for(var e="",i=0;i<t.length;i++)e+=L(t[i].toString(16));return e},a=N,h=function(t,e){for(var i="",n=0;n<t.length;n++){var r=t[n];"little"===e&&(r=N(r)),i+=D(r.toString(16))}return i},u=L,l=D,c=function(t,e,i,n){var r=i-e;q(r%4==0);for(var s=new Array(r/4),o=0,a=e;o<s.length;o++,a+=4){var h;h="big"===n?t[a]<<24|t[a+1]<<16|t[a+2]<<8|t[a+3]:t[a+3]<<24|t[a+2]<<16|t[a+1]<<8|t[a],s[o]=h>>>0}return s},d=function(t,e){for(var i=new Array(4*t.length),n=0,r=0;n<t.length;n++,r+=4){var s=t[n];"big"===e?(i[r]=s>>>24,i[r+1]=s>>>16&255,i[r+2]=s>>>8&255,i[r+3]=255&s):(i[r+3]=s>>>24,i[r+2]=s>>>16&255,i[r+1]=s>>>8&255,i[r]=255&s)}return i},f=function(t,e){return t>>>e|t<<32-e},p=function(t,e){return t<<e|t>>>32-e},m=function(t,e){return t+e>>>0},g=function(t,e,i){return t+e+i>>>0},v=function(t,e,i,n){return t+e+i+n>>>0},y=function(t,e,i,n,r){return t+e+i+n+r>>>0},b=function(t,e,i,n){var r=t[e],s=n+t[e+1]>>>0,o=(s<n?1:0)+i+r;t[e]=o>>>0,t[e+1]=s},w=function(t,e,i,n){return(e+n>>>0<e?1:0)+t+i>>>0},_=function(t,e,i,n){return e+n>>>0},M=function(t,e,i,n,r,s,o,a){var h=0,u=e;return h+=(u=u+n>>>0)<e?1:0,h+=(u=u+s>>>0)<s?1:0,t+i+r+o+(h+=(u=u+a>>>0)<a?1:0)>>>0},A=function(t,e,i,n,r,s,o,a){return e+n+s+a>>>0},k=function(t,e,i,n,r,s,o,a,h,u){var l=0,c=e;return l+=(c=c+n>>>0)<e?1:0,l+=(c=c+s>>>0)<s?1:0,l+=(c=c+a>>>0)<a?1:0,t+i+r+o+h+(l+=(c=c+u>>>0)<u?1:0)>>>0},E=function(t,e,i,n,r,s,o,a,h,u){return e+n+s+a+u>>>0},x=function(t,e,i){return(e<<32-i|t>>>i)>>>0},S=function(t,e,i){return(t<<32-i|e>>>i)>>>0},T=function(t,e,i){return t>>>i},I=function(t,e,i){return(t<<32-i|e>>>i)>>>0}})),r.register("2uLAh",(function(e,i){var n;t(e.exports,"BlockHash",(()=>n),(t=>n=t));var s=r("5h91W"),o=r("bNW2d");function a(){this.pending=null,this.pendingTotal=0,this.blockSize=this.constructor.blockSize,this.outSize=this.constructor.outSize,this.hmacStrength=this.constructor.hmacStrength,this.padLength=this.constructor.padLength/8,this.endian="big",this._delta8=this.blockSize/8,this._delta32=this.blockSize/32}n=a,a.prototype.update=function(t,e){if(t=s.toArray(t,e),this.pending?this.pending=this.pending.concat(t):this.pending=t,this.pendingTotal+=t.length,this.pending.length>=this._delta8){var i=(t=this.pending).length%this._delta8;this.pending=t.slice(t.length-i,t.length),0===this.pending.length&&(this.pending=null),t=s.join32(t,0,t.length-i,this.endian);for(var n=0;n<t.length;n+=this._delta32)this._update(t,n,n+this._delta32)}return this},a.prototype.digest=function(t){return this.update(this._pad()),o(null===this.pending),this._digest(t)},a.prototype._pad=function(){var t=this.pendingTotal,e=this._delta8,i=e-(t+this.padLength)%e,n=new Array(i+this.padLength);n[0]=128;for(var r=1;r<i;r++)n[r]=0;if(t<<=3,"big"===this.endian){for(var s=8;s<this.padLength;s++)n[r++]=0;n[r++]=0,n[r++]=0,n[r++]=0,n[r++]=0,n[r++]=t>>>24&255,n[r++]=t>>>16&255,n[r++]=t>>>8&255,n[r++]=255&t}else for(n[r++]=255&t,n[r++]=t>>>8&255,n[r++]=t>>>16&255,n[r++]=t>>>24&255,n[r++]=0,n[r++]=0,n[r++]=0,n[r++]=0,s=8;s<this.padLength;s++)n[r++]=0;return n}})),r.register("e6NW8",(function(e,i){var n,s,o,a,h;t(e.exports,"sha1",(()=>n),(t=>n=t)),t(e.exports,"sha224",(()=>s),(t=>s=t)),t(e.exports,"sha256",(()=>o),(t=>o=t)),t(e.exports,"sha384",(()=>a),(t=>a=t)),t(e.exports,"sha512",(()=>h),(t=>h=t)),n=r("8pXku"),s=r("9B7hK"),o=r("4yK5H"),a=r("2xlNG"),h=r("eQOPn")})),r.register("8pXku",(function(t,e){var i=r("5h91W"),n=r("2uLAh"),s=r("br9Yg"),o=i.rotl32,a=i.sum32,h=i.sum32_5,u=s.ft_1,l=n.BlockHash,c=[1518500249,1859775393,2400959708,3395469782];function d(){if(!(this instanceof d))return new d;l.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.W=new Array(80)}i.inherits(d,l),t.exports=d,d.blockSize=512,d.outSize=160,d.hmacStrength=80,d.padLength=64,d.prototype._update=function(t,e){for(var i=this.W,n=0;n<16;n++)i[n]=t[e+n];for(;n<i.length;n++)i[n]=o(i[n-3]^i[n-8]^i[n-14]^i[n-16],1);var r=this.h[0],s=this.h[1],l=this.h[2],d=this.h[3],f=this.h[4];for(n=0;n<i.length;n++){var p=~~(n/20),m=h(o(r,5),u(p,s,l,d),f,i[n],c[p]);f=d,d=l,l=o(s,30),s=r,r=m}this.h[0]=a(this.h[0],r),this.h[1]=a(this.h[1],s),this.h[2]=a(this.h[2],l),this.h[3]=a(this.h[3],d),this.h[4]=a(this.h[4],f)},d.prototype._digest=function(t){return"hex"===t?i.toHex32(this.h,"big"):i.split32(this.h,"big")}})),r.register("br9Yg",(function(e,i){var n,s,o,a,h,u,l;t(e.exports,"ft_1",(()=>n),(t=>n=t)),t(e.exports,"ch32",(()=>s),(t=>s=t)),t(e.exports,"maj32",(()=>o),(t=>o=t)),t(e.exports,"s0_256",(()=>a),(t=>a=t)),t(e.exports,"s1_256",(()=>h),(t=>h=t)),t(e.exports,"g0_256",(()=>u),(t=>u=t)),t(e.exports,"g1_256",(()=>l),(t=>l=t));var c=r("5h91W").rotr32;function d(t,e,i){return t&e^~t&i}function f(t,e,i){return t&e^t&i^e&i}function p(t,e,i){return t^e^i}n=function(t,e,i,n){return 0===t?d(e,i,n):1===t||3===t?p(e,i,n):2===t?f(e,i,n):void 0},s=d,o=f,a=function(t){return c(t,2)^c(t,13)^c(t,22)},h=function(t){return c(t,6)^c(t,11)^c(t,25)},u=function(t){return c(t,7)^c(t,18)^t>>>3},l=function(t){return c(t,17)^c(t,19)^t>>>10}})),r.register("9B7hK",(function(t,e){var i=r("5h91W"),n=r("4yK5H");function s(){if(!(this instanceof s))return new s;n.call(this),this.h=[3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428]}i.inherits(s,n),t.exports=s,s.blockSize=512,s.outSize=224,s.hmacStrength=192,s.padLength=64,s.prototype._digest=function(t){return"hex"===t?i.toHex32(this.h.slice(0,7),"big"):i.split32(this.h.slice(0,7),"big")}})),r.register("4yK5H",(function(t,e){var i=r("5h91W"),n=r("2uLAh"),s=r("br9Yg"),o=r("bNW2d"),a=i.sum32,h=i.sum32_4,u=i.sum32_5,l=s.ch32,c=s.maj32,d=s.s0_256,f=s.s1_256,p=s.g0_256,m=s.g1_256,g=n.BlockHash,v=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function y(){if(!(this instanceof y))return new y;g.call(this),this.h=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],this.k=v,this.W=new Array(64)}i.inherits(y,g),t.exports=y,y.blockSize=512,y.outSize=256,y.hmacStrength=192,y.padLength=64,y.prototype._update=function(t,e){for(var i=this.W,n=0;n<16;n++)i[n]=t[e+n];for(;n<i.length;n++)i[n]=h(m(i[n-2]),i[n-7],p(i[n-15]),i[n-16]);var r=this.h[0],s=this.h[1],g=this.h[2],v=this.h[3],y=this.h[4],b=this.h[5],w=this.h[6],_=this.h[7];for(o(this.k.length===i.length),n=0;n<i.length;n++){var M=u(_,f(y),l(y,b,w),this.k[n],i[n]),A=a(d(r),c(r,s,g));_=w,w=b,b=y,y=a(v,M),v=g,g=s,s=r,r=a(M,A)}this.h[0]=a(this.h[0],r),this.h[1]=a(this.h[1],s),this.h[2]=a(this.h[2],g),this.h[3]=a(this.h[3],v),this.h[4]=a(this.h[4],y),this.h[5]=a(this.h[5],b),this.h[6]=a(this.h[6],w),this.h[7]=a(this.h[7],_)},y.prototype._digest=function(t){return"hex"===t?i.toHex32(this.h,"big"):i.split32(this.h,"big")}})),r.register("2xlNG",(function(t,e){var i=r("5h91W"),n=r("eQOPn");function s(){if(!(this instanceof s))return new s;n.call(this),this.h=[3418070365,3238371032,1654270250,914150663,2438529370,812702999,355462360,4144912697,1731405415,4290775857,2394180231,1750603025,3675008525,1694076839,1203062813,3204075428]}i.inherits(s,n),t.exports=s,s.blockSize=1024,s.outSize=384,s.hmacStrength=192,s.padLength=128,s.prototype._digest=function(t){return"hex"===t?i.toHex32(this.h.slice(0,12),"big"):i.split32(this.h.slice(0,12),"big")}})),r.register("eQOPn",(function(t,e){var i=r("5h91W"),n=r("2uLAh"),s=r("bNW2d"),o=i.rotr64_hi,a=i.rotr64_lo,h=i.shr64_hi,u=i.shr64_lo,l=i.sum64,c=i.sum64_hi,d=i.sum64_lo,f=i.sum64_4_hi,p=i.sum64_4_lo,m=i.sum64_5_hi,g=i.sum64_5_lo,v=n.BlockHash,y=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591];function b(){if(!(this instanceof b))return new b;v.call(this),this.h=[1779033703,4089235720,3144134277,2227873595,1013904242,4271175723,2773480762,1595750129,1359893119,2917565137,2600822924,725511199,528734635,4215389547,1541459225,327033209],this.k=y,this.W=new Array(160)}function w(t,e,i,n,r){var s=t&i^~t&r;return s<0&&(s+=4294967296),s}function _(t,e,i,n,r,s){var o=e&n^~e&s;return o<0&&(o+=4294967296),o}function M(t,e,i,n,r){var s=t&i^t&r^i&r;return s<0&&(s+=4294967296),s}function A(t,e,i,n,r,s){var o=e&n^e&s^n&s;return o<0&&(o+=4294967296),o}function k(t,e){var i=o(t,e,28)^o(e,t,2)^o(e,t,7);return i<0&&(i+=4294967296),i}function E(t,e){var i=a(t,e,28)^a(e,t,2)^a(e,t,7);return i<0&&(i+=4294967296),i}function x(t,e){var i=o(t,e,14)^o(t,e,18)^o(e,t,9);return i<0&&(i+=4294967296),i}function S(t,e){var i=a(t,e,14)^a(t,e,18)^a(e,t,9);return i<0&&(i+=4294967296),i}function T(t,e){var i=o(t,e,1)^o(t,e,8)^h(t,e,7);return i<0&&(i+=4294967296),i}function I(t,e){var i=a(t,e,1)^a(t,e,8)^u(t,e,7);return i<0&&(i+=4294967296),i}function q(t,e){var i=o(t,e,19)^o(e,t,29)^h(t,e,6);return i<0&&(i+=4294967296),i}function R(t,e){var i=a(t,e,19)^a(e,t,29)^u(t,e,6);return i<0&&(i+=4294967296),i}i.inherits(b,v),t.exports=b,b.blockSize=1024,b.outSize=512,b.hmacStrength=192,b.padLength=128,b.prototype._prepareBlock=function(t,e){for(var i=this.W,n=0;n<32;n++)i[n]=t[e+n];for(;n<i.length;n+=2){var r=q(i[n-4],i[n-3]),s=R(i[n-4],i[n-3]),o=i[n-14],a=i[n-13],h=T(i[n-30],i[n-29]),u=I(i[n-30],i[n-29]),l=i[n-32],c=i[n-31];i[n]=f(r,s,o,a,h,u,l,c),i[n+1]=p(r,s,o,a,h,u,l,c)}},b.prototype._update=function(t,e){this._prepareBlock(t,e);var i=this.W,n=this.h[0],r=this.h[1],o=this.h[2],a=this.h[3],h=this.h[4],u=this.h[5],f=this.h[6],p=this.h[7],v=this.h[8],y=this.h[9],b=this.h[10],T=this.h[11],I=this.h[12],q=this.h[13],R=this.h[14],C=this.h[15];s(this.k.length===i.length);for(var N=0;N<i.length;N+=2){var L=R,D=C,O=x(v,y),B=S(v,y),P=w(v,y,b,T,I),U=_(v,y,b,T,I,q),F=this.k[N],j=this.k[N+1],z=i[N],V=i[N+1],H=m(L,D,O,B,P,U,F,j,z,V),K=g(L,D,O,B,P,U,F,j,z,V);L=k(n,r),D=E(n,r),O=M(n,r,o,a,h),B=A(n,r,o,a,h,u);var G=c(L,D,O,B),W=d(L,D,O,B);R=I,C=q,I=b,q=T,b=v,T=y,v=c(f,p,H,K),y=d(p,p,H,K),f=h,p=u,h=o,u=a,o=n,a=r,n=c(H,K,G,W),r=d(H,K,G,W)}l(this.h,0,n,r),l(this.h,2,o,a),l(this.h,4,h,u),l(this.h,6,f,p),l(this.h,8,v,y),l(this.h,10,b,T),l(this.h,12,I,q),l(this.h,14,R,C)},b.prototype._digest=function(t){return"hex"===t?i.toHex32(this.h,"big"):i.split32(this.h,"big")}})),r.register("4vjbU",(function(e,i){var n;t(e.exports,"ripemd160",(()=>n),(t=>n=t));var s=r("5h91W"),o=r("2uLAh"),a=s.rotl32,h=s.sum32,u=s.sum32_3,l=s.sum32_4,c=o.BlockHash;function d(){if(!(this instanceof d))return new d;c.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.endian="little"}function f(t,e,i,n){return t<=15?e^i^n:t<=31?e&i|~e&n:t<=47?(e|~i)^n:t<=63?e&n|i&~n:e^(i|~n)}function p(t){return t<=15?0:t<=31?1518500249:t<=47?1859775393:t<=63?2400959708:2840853838}function m(t){return t<=15?1352829926:t<=31?1548603684:t<=47?1836072691:t<=63?2053994217:0}s.inherits(d,c),n=d,d.blockSize=512,d.outSize=160,d.hmacStrength=192,d.padLength=64,d.prototype._update=function(t,e){for(var i=this.h[0],n=this.h[1],r=this.h[2],s=this.h[3],o=this.h[4],c=i,d=n,w=r,_=s,M=o,A=0;A<80;A++){var k=h(a(l(i,f(A,n,r,s),t[g[A]+e],p(A)),y[A]),o);i=o,o=s,s=a(r,10),r=n,n=k,k=h(a(l(c,f(79-A,d,w,_),t[v[A]+e],m(A)),b[A]),M),c=M,M=_,_=a(w,10),w=d,d=k}k=u(this.h[1],r,_),this.h[1]=u(this.h[2],s,M),this.h[2]=u(this.h[3],o,c),this.h[3]=u(this.h[4],i,d),this.h[4]=u(this.h[0],n,w),this.h[0]=k},d.prototype._digest=function(t){return"hex"===t?s.toHex32(this.h,"little"):s.split32(this.h,"little")};var g=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],v=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],y=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],b=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11]})),r.register("bzM2M",(function(t,e){var i=r("5h91W"),n=r("bNW2d");function s(t,e,n){if(!(this instanceof s))return new s(t,e,n);this.Hash=t,this.blockSize=t.blockSize/8,this.outSize=t.outSize/8,this.inner=null,this.outer=null,this._init(i.toArray(e,n))}t.exports=s,s.prototype._init=function(t){t.length>this.blockSize&&(t=(new this.Hash).update(t).digest()),n(t.length<=this.blockSize);for(var e=t.length;e<this.blockSize;e++)t.push(0);for(e=0;e<t.length;e++)t[e]^=54;for(this.inner=(new this.Hash).update(t),e=0;e<t.length;e++)t[e]^=106;this.outer=(new this.Hash).update(t)},s.prototype.update=function(t,e){return this.inner.update(t,e),this},s.prototype.digest=function(t){return this.outer.update(this.inner.digest()),this.outer.digest(t)}})),r.register("eh5tQ",(function(t,e){t.exports={doubles:{step:4,points:[["e60fce93b59e9ec53011aabc21c23e97b2a31369b87a5ae9c44ee89e2a6dec0a","f7e3507399e595929db99f34f57937101296891e44d23f0be1f32cce69616821"],["8282263212c609d9ea2a6e3e172de238d8c39cabd5ac1ca10646e23fd5f51508","11f8a8098557dfe45e8256e830b60ace62d613ac2f7b17bed31b6eaff6e26caf"],["175e159f728b865a72f99cc6c6fc846de0b93833fd2222ed73fce5b551e5b739","d3506e0d9e3c79eba4ef97a51ff71f5eacb5955add24345c6efa6ffee9fed695"],["363d90d447b00c9c99ceac05b6262ee053441c7e55552ffe526bad8f83ff4640","4e273adfc732221953b445397f3363145b9a89008199ecb62003c7f3bee9de9"],["8b4b5f165df3c2be8c6244b5b745638843e4a781a15bcd1b69f79a55dffdf80c","4aad0a6f68d308b4b3fbd7813ab0da04f9e336546162ee56b3eff0c65fd4fd36"],["723cbaa6e5db996d6bf771c00bd548c7b700dbffa6c0e77bcb6115925232fcda","96e867b5595cc498a921137488824d6e2660a0653779494801dc069d9eb39f5f"],["eebfa4d493bebf98ba5feec812c2d3b50947961237a919839a533eca0e7dd7fa","5d9a8ca3970ef0f269ee7edaf178089d9ae4cdc3a711f712ddfd4fdae1de8999"],["100f44da696e71672791d0a09b7bde459f1215a29b3c03bfefd7835b39a48db0","cdd9e13192a00b772ec8f3300c090666b7ff4a18ff5195ac0fbd5cd62bc65a09"],["e1031be262c7ed1b1dc9227a4a04c017a77f8d4464f3b3852c8acde6e534fd2d","9d7061928940405e6bb6a4176597535af292dd419e1ced79a44f18f29456a00d"],["feea6cae46d55b530ac2839f143bd7ec5cf8b266a41d6af52d5e688d9094696d","e57c6b6c97dce1bab06e4e12bf3ecd5c981c8957cc41442d3155debf18090088"],["da67a91d91049cdcb367be4be6ffca3cfeed657d808583de33fa978bc1ec6cb1","9bacaa35481642bc41f463f7ec9780e5dec7adc508f740a17e9ea8e27a68be1d"],["53904faa0b334cdda6e000935ef22151ec08d0f7bb11069f57545ccc1a37b7c0","5bc087d0bc80106d88c9eccac20d3c1c13999981e14434699dcb096b022771c8"],["8e7bcd0bd35983a7719cca7764ca906779b53a043a9b8bcaeff959f43ad86047","10b7770b2a3da4b3940310420ca9514579e88e2e47fd68b3ea10047e8460372a"],["385eed34c1cdff21e6d0818689b81bde71a7f4f18397e6690a841e1599c43862","283bebc3e8ea23f56701de19e9ebf4576b304eec2086dc8cc0458fe5542e5453"],["6f9d9b803ecf191637c73a4413dfa180fddf84a5947fbc9c606ed86c3fac3a7","7c80c68e603059ba69b8e2a30e45c4d47ea4dd2f5c281002d86890603a842160"],["3322d401243c4e2582a2147c104d6ecbf774d163db0f5e5313b7e0e742d0e6bd","56e70797e9664ef5bfb019bc4ddaf9b72805f63ea2873af624f3a2e96c28b2a0"],["85672c7d2de0b7da2bd1770d89665868741b3f9af7643397721d74d28134ab83","7c481b9b5b43b2eb6374049bfa62c2e5e77f17fcc5298f44c8e3094f790313a6"],["948bf809b1988a46b06c9f1919413b10f9226c60f668832ffd959af60c82a0a","53a562856dcb6646dc6b74c5d1c3418c6d4dff08c97cd2bed4cb7f88d8c8e589"],["6260ce7f461801c34f067ce0f02873a8f1b0e44dfc69752accecd819f38fd8e8","bc2da82b6fa5b571a7f09049776a1ef7ecd292238051c198c1a84e95b2b4ae17"],["e5037de0afc1d8d43d8348414bbf4103043ec8f575bfdc432953cc8d2037fa2d","4571534baa94d3b5f9f98d09fb990bddbd5f5b03ec481f10e0e5dc841d755bda"],["e06372b0f4a207adf5ea905e8f1771b4e7e8dbd1c6a6c5b725866a0ae4fce725","7a908974bce18cfe12a27bb2ad5a488cd7484a7787104870b27034f94eee31dd"],["213c7a715cd5d45358d0bbf9dc0ce02204b10bdde2a3f58540ad6908d0559754","4b6dad0b5ae462507013ad06245ba190bb4850f5f36a7eeddff2c27534b458f2"],["4e7c272a7af4b34e8dbb9352a5419a87e2838c70adc62cddf0cc3a3b08fbd53c","17749c766c9d0b18e16fd09f6def681b530b9614bff7dd33e0b3941817dcaae6"],["fea74e3dbe778b1b10f238ad61686aa5c76e3db2be43057632427e2840fb27b6","6e0568db9b0b13297cf674deccb6af93126b596b973f7b77701d3db7f23cb96f"],["76e64113f677cf0e10a2570d599968d31544e179b760432952c02a4417bdde39","c90ddf8dee4e95cf577066d70681f0d35e2a33d2b56d2032b4b1752d1901ac01"],["c738c56b03b2abe1e8281baa743f8f9a8f7cc643df26cbee3ab150242bcbb891","893fb578951ad2537f718f2eacbfbbbb82314eef7880cfe917e735d9699a84c3"],["d895626548b65b81e264c7637c972877d1d72e5f3a925014372e9f6588f6c14b","febfaa38f2bc7eae728ec60818c340eb03428d632bb067e179363ed75d7d991f"],["b8da94032a957518eb0f6433571e8761ceffc73693e84edd49150a564f676e03","2804dfa44805a1e4d7c99cc9762808b092cc584d95ff3b511488e4e74efdf6e7"],["e80fea14441fb33a7d8adab9475d7fab2019effb5156a792f1a11778e3c0df5d","eed1de7f638e00771e89768ca3ca94472d155e80af322ea9fcb4291b6ac9ec78"],["a301697bdfcd704313ba48e51d567543f2a182031efd6915ddc07bbcc4e16070","7370f91cfb67e4f5081809fa25d40f9b1735dbf7c0a11a130c0d1a041e177ea1"],["90ad85b389d6b936463f9d0512678de208cc330b11307fffab7ac63e3fb04ed4","e507a3620a38261affdcbd9427222b839aefabe1582894d991d4d48cb6ef150"],["8f68b9d2f63b5f339239c1ad981f162ee88c5678723ea3351b7b444c9ec4c0da","662a9f2dba063986de1d90c2b6be215dbbea2cfe95510bfdf23cbf79501fff82"],["e4f3fb0176af85d65ff99ff9198c36091f48e86503681e3e6686fd5053231e11","1e63633ad0ef4f1c1661a6d0ea02b7286cc7e74ec951d1c9822c38576feb73bc"],["8c00fa9b18ebf331eb961537a45a4266c7034f2f0d4e1d0716fb6eae20eae29e","efa47267fea521a1a9dc343a3736c974c2fadafa81e36c54e7d2a4c66702414b"],["e7a26ce69dd4829f3e10cec0a9e98ed3143d084f308b92c0997fddfc60cb3e41","2a758e300fa7984b471b006a1aafbb18d0a6b2c0420e83e20e8a9421cf2cfd51"],["b6459e0ee3662ec8d23540c223bcbdc571cbcb967d79424f3cf29eb3de6b80ef","67c876d06f3e06de1dadf16e5661db3c4b3ae6d48e35b2ff30bf0b61a71ba45"],["d68a80c8280bb840793234aa118f06231d6f1fc67e73c5a5deda0f5b496943e8","db8ba9fff4b586d00c4b1f9177b0e28b5b0e7b8f7845295a294c84266b133120"],["324aed7df65c804252dc0270907a30b09612aeb973449cea4095980fc28d3d5d","648a365774b61f2ff130c0c35aec1f4f19213b0c7e332843967224af96ab7c84"],["4df9c14919cde61f6d51dfdbe5fee5dceec4143ba8d1ca888e8bd373fd054c96","35ec51092d8728050974c23a1d85d4b5d506cdc288490192ebac06cad10d5d"],["9c3919a84a474870faed8a9c1cc66021523489054d7f0308cbfc99c8ac1f98cd","ddb84f0f4a4ddd57584f044bf260e641905326f76c64c8e6be7e5e03d4fc599d"],["6057170b1dd12fdf8de05f281d8e06bb91e1493a8b91d4cc5a21382120a959e5","9a1af0b26a6a4807add9a2daf71df262465152bc3ee24c65e899be932385a2a8"],["a576df8e23a08411421439a4518da31880cef0fba7d4df12b1a6973eecb94266","40a6bf20e76640b2c92b97afe58cd82c432e10a7f514d9f3ee8be11ae1b28ec8"],["7778a78c28dec3e30a05fe9629de8c38bb30d1f5cf9a3a208f763889be58ad71","34626d9ab5a5b22ff7098e12f2ff580087b38411ff24ac563b513fc1fd9f43ac"],["928955ee637a84463729fd30e7afd2ed5f96274e5ad7e5cb09eda9c06d903ac","c25621003d3f42a827b78a13093a95eeac3d26efa8a8d83fc5180e935bcd091f"],["85d0fef3ec6db109399064f3a0e3b2855645b4a907ad354527aae75163d82751","1f03648413a38c0be29d496e582cf5663e8751e96877331582c237a24eb1f962"],["ff2b0dce97eece97c1c9b6041798b85dfdfb6d8882da20308f5404824526087e","493d13fef524ba188af4c4dc54d07936c7b7ed6fb90e2ceb2c951e01f0c29907"],["827fbbe4b1e880ea9ed2b2e6301b212b57f1ee148cd6dd28780e5e2cf856e241","c60f9c923c727b0b71bef2c67d1d12687ff7a63186903166d605b68baec293ec"],["eaa649f21f51bdbae7be4ae34ce6e5217a58fdce7f47f9aa7f3b58fa2120e2b3","be3279ed5bbbb03ac69a80f89879aa5a01a6b965f13f7e59d47a5305ba5ad93d"],["e4a42d43c5cf169d9391df6decf42ee541b6d8f0c9a137401e23632dda34d24f","4d9f92e716d1c73526fc99ccfb8ad34ce886eedfa8d8e4f13a7f7131deba9414"],["1ec80fef360cbdd954160fadab352b6b92b53576a88fea4947173b9d4300bf19","aeefe93756b5340d2f3a4958a7abbf5e0146e77f6295a07b671cdc1cc107cefd"],["146a778c04670c2f91b00af4680dfa8bce3490717d58ba889ddb5928366642be","b318e0ec3354028add669827f9d4b2870aaa971d2f7e5ed1d0b297483d83efd0"],["fa50c0f61d22e5f07e3acebb1aa07b128d0012209a28b9776d76a8793180eef9","6b84c6922397eba9b72cd2872281a68a5e683293a57a213b38cd8d7d3f4f2811"],["da1d61d0ca721a11b1a5bf6b7d88e8421a288ab5d5bba5220e53d32b5f067ec2","8157f55a7c99306c79c0766161c91e2966a73899d279b48a655fba0f1ad836f1"],["a8e282ff0c9706907215ff98e8fd416615311de0446f1e062a73b0610d064e13","7f97355b8db81c09abfb7f3c5b2515888b679a3e50dd6bd6cef7c73111f4cc0c"],["174a53b9c9a285872d39e56e6913cab15d59b1fa512508c022f382de8319497c","ccc9dc37abfc9c1657b4155f2c47f9e6646b3a1d8cb9854383da13ac079afa73"],["959396981943785c3d3e57edf5018cdbe039e730e4918b3d884fdff09475b7ba","2e7e552888c331dd8ba0386a4b9cd6849c653f64c8709385e9b8abf87524f2fd"],["d2a63a50ae401e56d645a1153b109a8fcca0a43d561fba2dbb51340c9d82b151","e82d86fb6443fcb7565aee58b2948220a70f750af484ca52d4142174dcf89405"],["64587e2335471eb890ee7896d7cfdc866bacbdbd3839317b3436f9b45617e073","d99fcdd5bf6902e2ae96dd6447c299a185b90a39133aeab358299e5e9faf6589"],["8481bde0e4e4d885b3a546d3e549de042f0aa6cea250e7fd358d6c86dd45e458","38ee7b8cba5404dd84a25bf39cecb2ca900a79c42b262e556d64b1b59779057e"],["13464a57a78102aa62b6979ae817f4637ffcfed3c4b1ce30bcd6303f6caf666b","69be159004614580ef7e433453ccb0ca48f300a81d0942e13f495a907f6ecc27"],["bc4a9df5b713fe2e9aef430bcc1dc97a0cd9ccede2f28588cada3a0d2d83f366","d3a81ca6e785c06383937adf4b798caa6e8a9fbfa547b16d758d666581f33c1"],["8c28a97bf8298bc0d23d8c749452a32e694b65e30a9472a3954ab30fe5324caa","40a30463a3305193378fedf31f7cc0eb7ae784f0451cb9459e71dc73cbef9482"],["8ea9666139527a8c1dd94ce4f071fd23c8b350c5a4bb33748c4ba111faccae0","620efabbc8ee2782e24e7c0cfb95c5d735b783be9cf0f8e955af34a30e62b945"],["dd3625faef5ba06074669716bbd3788d89bdde815959968092f76cc4eb9a9787","7a188fa3520e30d461da2501045731ca941461982883395937f68d00c644a573"],["f710d79d9eb962297e4f6232b40e8f7feb2bc63814614d692c12de752408221e","ea98e67232d3b3295d3b535532115ccac8612c721851617526ae47a9c77bfc82"]]},naf:{wnd:7,points:[["f9308a019258c31049344f85f89d5229b531c845836f99b08601f113bce036f9","388f7b0f632de8140fe337e62a37f3566500a99934c2231b6cb9fd7584b8e672"],["2f8bde4d1a07209355b4a7250a5c5128e88b84bddc619ab7cba8d569b240efe4","d8ac222636e5e3d6d4dba9dda6c9c426f788271bab0d6840dca87d3aa6ac62d6"],["5cbdf0646e5db4eaa398f365f2ea7a0e3d419b7e0330e39ce92bddedcac4f9bc","6aebca40ba255960a3178d6d861a54dba813d0b813fde7b5a5082628087264da"],["acd484e2f0c7f65309ad178a9f559abde09796974c57e714c35f110dfc27ccbe","cc338921b0a7d9fd64380971763b61e9add888a4375f8e0f05cc262ac64f9c37"],["774ae7f858a9411e5ef4246b70c65aac5649980be5c17891bbec17895da008cb","d984a032eb6b5e190243dd56d7b7b365372db1e2dff9d6a8301d74c9c953c61b"],["f28773c2d975288bc7d1d205c3748651b075fbc6610e58cddeeddf8f19405aa8","ab0902e8d880a89758212eb65cdaf473a1a06da521fa91f29b5cb52db03ed81"],["d7924d4f7d43ea965a465ae3095ff41131e5946f3c85f79e44adbcf8e27e080e","581e2872a86c72a683842ec228cc6defea40af2bd896d3a5c504dc9ff6a26b58"],["defdea4cdb677750a420fee807eacf21eb9898ae79b9768766e4faa04a2d4a34","4211ab0694635168e997b0ead2a93daeced1f4a04a95c0f6cfb199f69e56eb77"],["2b4ea0a797a443d293ef5cff444f4979f06acfebd7e86d277475656138385b6c","85e89bc037945d93b343083b5a1c86131a01f60c50269763b570c854e5c09b7a"],["352bbf4a4cdd12564f93fa332ce333301d9ad40271f8107181340aef25be59d5","321eb4075348f534d59c18259dda3e1f4a1b3b2e71b1039c67bd3d8bcf81998c"],["2fa2104d6b38d11b0230010559879124e42ab8dfeff5ff29dc9cdadd4ecacc3f","2de1068295dd865b64569335bd5dd80181d70ecfc882648423ba76b532b7d67"],["9248279b09b4d68dab21a9b066edda83263c3d84e09572e269ca0cd7f5453714","73016f7bf234aade5d1aa71bdea2b1ff3fc0de2a887912ffe54a32ce97cb3402"],["daed4f2be3a8bf278e70132fb0beb7522f570e144bf615c07e996d443dee8729","a69dce4a7d6c98e8d4a1aca87ef8d7003f83c230f3afa726ab40e52290be1c55"],["c44d12c7065d812e8acf28d7cbb19f9011ecd9e9fdf281b0e6a3b5e87d22e7db","2119a460ce326cdc76c45926c982fdac0e106e861edf61c5a039063f0e0e6482"],["6a245bf6dc698504c89a20cfded60853152b695336c28063b61c65cbd269e6b4","e022cf42c2bd4a708b3f5126f16a24ad8b33ba48d0423b6efd5e6348100d8a82"],["1697ffa6fd9de627c077e3d2fe541084ce13300b0bec1146f95ae57f0d0bd6a5","b9c398f186806f5d27561506e4557433a2cf15009e498ae7adee9d63d01b2396"],["605bdb019981718b986d0f07e834cb0d9deb8360ffb7f61df982345ef27a7479","2972d2de4f8d20681a78d93ec96fe23c26bfae84fb14db43b01e1e9056b8c49"],["62d14dab4150bf497402fdc45a215e10dcb01c354959b10cfe31c7e9d87ff33d","80fc06bd8cc5b01098088a1950eed0db01aa132967ab472235f5642483b25eaf"],["80c60ad0040f27dade5b4b06c408e56b2c50e9f56b9b8b425e555c2f86308b6f","1c38303f1cc5c30f26e66bad7fe72f70a65eed4cbe7024eb1aa01f56430bd57a"],["7a9375ad6167ad54aa74c6348cc54d344cc5dc9487d847049d5eabb0fa03c8fb","d0e3fa9eca8726909559e0d79269046bdc59ea10c70ce2b02d499ec224dc7f7"],["d528ecd9b696b54c907a9ed045447a79bb408ec39b68df504bb51f459bc3ffc9","eecf41253136e5f99966f21881fd656ebc4345405c520dbc063465b521409933"],["49370a4b5f43412ea25f514e8ecdad05266115e4a7ecb1387231808f8b45963","758f3f41afd6ed428b3081b0512fd62a54c3f3afbb5b6764b653052a12949c9a"],["77f230936ee88cbbd73df930d64702ef881d811e0e1498e2f1c13eb1fc345d74","958ef42a7886b6400a08266e9ba1b37896c95330d97077cbbe8eb3c7671c60d6"],["f2dac991cc4ce4b9ea44887e5c7c0bce58c80074ab9d4dbaeb28531b7739f530","e0dedc9b3b2f8dad4da1f32dec2531df9eb5fbeb0598e4fd1a117dba703a3c37"],["463b3d9f662621fb1b4be8fbbe2520125a216cdfc9dae3debcba4850c690d45b","5ed430d78c296c3543114306dd8622d7c622e27c970a1de31cb377b01af7307e"],["f16f804244e46e2a09232d4aff3b59976b98fac14328a2d1a32496b49998f247","cedabd9b82203f7e13d206fcdf4e33d92a6c53c26e5cce26d6579962c4e31df6"],["caf754272dc84563b0352b7a14311af55d245315ace27c65369e15f7151d41d1","cb474660ef35f5f2a41b643fa5e460575f4fa9b7962232a5c32f908318a04476"],["2600ca4b282cb986f85d0f1709979d8b44a09c07cb86d7c124497bc86f082120","4119b88753c15bd6a693b03fcddbb45d5ac6be74ab5f0ef44b0be9475a7e4b40"],["7635ca72d7e8432c338ec53cd12220bc01c48685e24f7dc8c602a7746998e435","91b649609489d613d1d5e590f78e6d74ecfc061d57048bad9e76f302c5b9c61"],["754e3239f325570cdbbf4a87deee8a66b7f2b33479d468fbc1a50743bf56cc18","673fb86e5bda30fb3cd0ed304ea49a023ee33d0197a695d0c5d98093c536683"],["e3e6bd1071a1e96aff57859c82d570f0330800661d1c952f9fe2694691d9b9e8","59c9e0bba394e76f40c0aa58379a3cb6a5a2283993e90c4167002af4920e37f5"],["186b483d056a033826ae73d88f732985c4ccb1f32ba35f4b4cc47fdcf04aa6eb","3b952d32c67cf77e2e17446e204180ab21fb8090895138b4a4a797f86e80888b"],["df9d70a6b9876ce544c98561f4be4f725442e6d2b737d9c91a8321724ce0963f","55eb2dafd84d6ccd5f862b785dc39d4ab157222720ef9da217b8c45cf2ba2417"],["5edd5cc23c51e87a497ca815d5dce0f8ab52554f849ed8995de64c5f34ce7143","efae9c8dbc14130661e8cec030c89ad0c13c66c0d17a2905cdc706ab7399a868"],["290798c2b6476830da12fe02287e9e777aa3fba1c355b17a722d362f84614fba","e38da76dcd440621988d00bcf79af25d5b29c094db2a23146d003afd41943e7a"],["af3c423a95d9f5b3054754efa150ac39cd29552fe360257362dfdecef4053b45","f98a3fd831eb2b749a93b0e6f35cfb40c8cd5aa667a15581bc2feded498fd9c6"],["766dbb24d134e745cccaa28c99bf274906bb66b26dcf98df8d2fed50d884249a","744b1152eacbe5e38dcc887980da38b897584a65fa06cedd2c924f97cbac5996"],["59dbf46f8c94759ba21277c33784f41645f7b44f6c596a58ce92e666191abe3e","c534ad44175fbc300f4ea6ce648309a042ce739a7919798cd85e216c4a307f6e"],["f13ada95103c4537305e691e74e9a4a8dd647e711a95e73cb62dc6018cfd87b8","e13817b44ee14de663bf4bc808341f326949e21a6a75c2570778419bdaf5733d"],["7754b4fa0e8aced06d4167a2c59cca4cda1869c06ebadfb6488550015a88522c","30e93e864e669d82224b967c3020b8fa8d1e4e350b6cbcc537a48b57841163a2"],["948dcadf5990e048aa3874d46abef9d701858f95de8041d2a6828c99e2262519","e491a42537f6e597d5d28a3224b1bc25df9154efbd2ef1d2cbba2cae5347d57e"],["7962414450c76c1689c7b48f8202ec37fb224cf5ac0bfa1570328a8a3d7c77ab","100b610ec4ffb4760d5c1fc133ef6f6b12507a051f04ac5760afa5b29db83437"],["3514087834964b54b15b160644d915485a16977225b8847bb0dd085137ec47ca","ef0afbb2056205448e1652c48e8127fc6039e77c15c2378b7e7d15a0de293311"],["d3cc30ad6b483e4bc79ce2c9dd8bc54993e947eb8df787b442943d3f7b527eaf","8b378a22d827278d89c5e9be8f9508ae3c2ad46290358630afb34db04eede0a4"],["1624d84780732860ce1c78fcbfefe08b2b29823db913f6493975ba0ff4847610","68651cf9b6da903e0914448c6cd9d4ca896878f5282be4c8cc06e2a404078575"],["733ce80da955a8a26902c95633e62a985192474b5af207da6df7b4fd5fc61cd4","f5435a2bd2badf7d485a4d8b8db9fcce3e1ef8e0201e4578c54673bc1dc5ea1d"],["15d9441254945064cf1a1c33bbd3b49f8966c5092171e699ef258dfab81c045c","d56eb30b69463e7234f5137b73b84177434800bacebfc685fc37bbe9efe4070d"],["a1d0fcf2ec9de675b612136e5ce70d271c21417c9d2b8aaaac138599d0717940","edd77f50bcb5a3cab2e90737309667f2641462a54070f3d519212d39c197a629"],["e22fbe15c0af8ccc5780c0735f84dbe9a790badee8245c06c7ca37331cb36980","a855babad5cd60c88b430a69f53a1a7a38289154964799be43d06d77d31da06"],["311091dd9860e8e20ee13473c1155f5f69635e394704eaa74009452246cfa9b3","66db656f87d1f04fffd1f04788c06830871ec5a64feee685bd80f0b1286d8374"],["34c1fd04d301be89b31c0442d3e6ac24883928b45a9340781867d4232ec2dbdf","9414685e97b1b5954bd46f730174136d57f1ceeb487443dc5321857ba73abee"],["f219ea5d6b54701c1c14de5b557eb42a8d13f3abbcd08affcc2a5e6b049b8d63","4cb95957e83d40b0f73af4544cccf6b1f4b08d3c07b27fb8d8c2962a400766d1"],["d7b8740f74a8fbaab1f683db8f45de26543a5490bca627087236912469a0b448","fa77968128d9c92ee1010f337ad4717eff15db5ed3c049b3411e0315eaa4593b"],["32d31c222f8f6f0ef86f7c98d3a3335ead5bcd32abdd94289fe4d3091aa824bf","5f3032f5892156e39ccd3d7915b9e1da2e6dac9e6f26e961118d14b8462e1661"],["7461f371914ab32671045a155d9831ea8793d77cd59592c4340f86cbc18347b5","8ec0ba238b96bec0cbdddcae0aa442542eee1ff50c986ea6b39847b3cc092ff6"],["ee079adb1df1860074356a25aa38206a6d716b2c3e67453d287698bad7b2b2d6","8dc2412aafe3be5c4c5f37e0ecc5f9f6a446989af04c4e25ebaac479ec1c8c1e"],["16ec93e447ec83f0467b18302ee620f7e65de331874c9dc72bfd8616ba9da6b5","5e4631150e62fb40d0e8c2a7ca5804a39d58186a50e497139626778e25b0674d"],["eaa5f980c245f6f038978290afa70b6bd8855897f98b6aa485b96065d537bd99","f65f5d3e292c2e0819a528391c994624d784869d7e6ea67fb18041024edc07dc"],["78c9407544ac132692ee1910a02439958ae04877151342ea96c4b6b35a49f51","f3e0319169eb9b85d5404795539a5e68fa1fbd583c064d2462b675f194a3ddb4"],["494f4be219a1a77016dcd838431aea0001cdc8ae7a6fc688726578d9702857a5","42242a969283a5f339ba7f075e36ba2af925ce30d767ed6e55f4b031880d562c"],["a598a8030da6d86c6bc7f2f5144ea549d28211ea58faa70ebf4c1e665c1fe9b5","204b5d6f84822c307e4b4a7140737aec23fc63b65b35f86a10026dbd2d864e6b"],["c41916365abb2b5d09192f5f2dbeafec208f020f12570a184dbadc3e58595997","4f14351d0087efa49d245b328984989d5caf9450f34bfc0ed16e96b58fa9913"],["841d6063a586fa475a724604da03bc5b92a2e0d2e0a36acfe4c73a5514742881","73867f59c0659e81904f9a1c7543698e62562d6744c169ce7a36de01a8d6154"],["5e95bb399a6971d376026947f89bde2f282b33810928be4ded112ac4d70e20d5","39f23f366809085beebfc71181313775a99c9aed7d8ba38b161384c746012865"],["36e4641a53948fd476c39f8a99fd974e5ec07564b5315d8bf99471bca0ef2f66","d2424b1b1abe4eb8164227b085c9aa9456ea13493fd563e06fd51cf5694c78fc"],["336581ea7bfbbb290c191a2f507a41cf5643842170e914faeab27c2c579f726","ead12168595fe1be99252129b6e56b3391f7ab1410cd1e0ef3dcdcabd2fda224"],["8ab89816dadfd6b6a1f2634fcf00ec8403781025ed6890c4849742706bd43ede","6fdcef09f2f6d0a044e654aef624136f503d459c3e89845858a47a9129cdd24e"],["1e33f1a746c9c5778133344d9299fcaa20b0938e8acff2544bb40284b8c5fb94","60660257dd11b3aa9c8ed618d24edff2306d320f1d03010e33a7d2057f3b3b6"],["85b7c1dcb3cec1b7ee7f30ded79dd20a0ed1f4cc18cbcfcfa410361fd8f08f31","3d98a9cdd026dd43f39048f25a8847f4fcafad1895d7a633c6fed3c35e999511"],["29df9fbd8d9e46509275f4b125d6d45d7fbe9a3b878a7af872a2800661ac5f51","b4c4fe99c775a606e2d8862179139ffda61dc861c019e55cd2876eb2a27d84b"],["a0b1cae06b0a847a3fea6e671aaf8adfdfe58ca2f768105c8082b2e449fce252","ae434102edde0958ec4b19d917a6a28e6b72da1834aff0e650f049503a296cf2"],["4e8ceafb9b3e9a136dc7ff67e840295b499dfb3b2133e4ba113f2e4c0e121e5","cf2174118c8b6d7a4b48f6d534ce5c79422c086a63460502b827ce62a326683c"],["d24a44e047e19b6f5afb81c7ca2f69080a5076689a010919f42725c2b789a33b","6fb8d5591b466f8fc63db50f1c0f1c69013f996887b8244d2cdec417afea8fa3"],["ea01606a7a6c9cdd249fdfcfacb99584001edd28abbab77b5104e98e8e3b35d4","322af4908c7312b0cfbfe369f7a7b3cdb7d4494bc2823700cfd652188a3ea98d"],["af8addbf2b661c8a6c6328655eb96651252007d8c5ea31be4ad196de8ce2131f","6749e67c029b85f52a034eafd096836b2520818680e26ac8f3dfbcdb71749700"],["e3ae1974566ca06cc516d47e0fb165a674a3dabcfca15e722f0e3450f45889","2aeabe7e4531510116217f07bf4d07300de97e4874f81f533420a72eeb0bd6a4"],["591ee355313d99721cf6993ffed1e3e301993ff3ed258802075ea8ced397e246","b0ea558a113c30bea60fc4775460c7901ff0b053d25ca2bdeee98f1a4be5d196"],["11396d55fda54c49f19aa97318d8da61fa8584e47b084945077cf03255b52984","998c74a8cd45ac01289d5833a7beb4744ff536b01b257be4c5767bea93ea57a4"],["3c5d2a1ba39c5a1790000738c9e0c40b8dcdfd5468754b6405540157e017aa7a","b2284279995a34e2f9d4de7396fc18b80f9b8b9fdd270f6661f79ca4c81bd257"],["cc8704b8a60a0defa3a99a7299f2e9c3fbc395afb04ac078425ef8a1793cc030","bdd46039feed17881d1e0862db347f8cf395b74fc4bcdc4e940b74e3ac1f1b13"],["c533e4f7ea8555aacd9777ac5cad29b97dd4defccc53ee7ea204119b2889b197","6f0a256bc5efdf429a2fb6242f1a43a2d9b925bb4a4b3a26bb8e0f45eb596096"],["c14f8f2ccb27d6f109f6d08d03cc96a69ba8c34eec07bbcf566d48e33da6593","c359d6923bb398f7fd4473e16fe1c28475b740dd098075e6c0e8649113dc3a38"],["a6cbc3046bc6a450bac24789fa17115a4c9739ed75f8f21ce441f72e0b90e6ef","21ae7f4680e889bb130619e2c0f95a360ceb573c70603139862afd617fa9b9f"],["347d6d9a02c48927ebfb86c1359b1caf130a3c0267d11ce6344b39f99d43cc38","60ea7f61a353524d1c987f6ecec92f086d565ab687870cb12689ff1e31c74448"],["da6545d2181db8d983f7dcb375ef5866d47c67b1bf31c8cf855ef7437b72656a","49b96715ab6878a79e78f07ce5680c5d6673051b4935bd897fea824b77dc208a"],["c40747cc9d012cb1a13b8148309c6de7ec25d6945d657146b9d5994b8feb1111","5ca560753be2a12fc6de6caf2cb489565db936156b9514e1bb5e83037e0fa2d4"],["4e42c8ec82c99798ccf3a610be870e78338c7f713348bd34c8203ef4037f3502","7571d74ee5e0fb92a7a8b33a07783341a5492144cc54bcc40a94473693606437"],["3775ab7089bc6af823aba2e1af70b236d251cadb0c86743287522a1b3b0dedea","be52d107bcfa09d8bcb9736a828cfa7fac8db17bf7a76a2c42ad961409018cf7"],["cee31cbf7e34ec379d94fb814d3d775ad954595d1314ba8846959e3e82f74e26","8fd64a14c06b589c26b947ae2bcf6bfa0149ef0be14ed4d80f448a01c43b1c6d"],["b4f9eaea09b6917619f6ea6a4eb5464efddb58fd45b1ebefcdc1a01d08b47986","39e5c9925b5a54b07433a4f18c61726f8bb131c012ca542eb24a8ac07200682a"],["d4263dfc3d2df923a0179a48966d30ce84e2515afc3dccc1b77907792ebcc60e","62dfaf07a0f78feb30e30d6295853ce189e127760ad6cf7fae164e122a208d54"],["48457524820fa65a4f8d35eb6930857c0032acc0a4a2de422233eeda897612c4","25a748ab367979d98733c38a1fa1c2e7dc6cc07db2d60a9ae7a76aaa49bd0f77"],["dfeeef1881101f2cb11644f3a2afdfc2045e19919152923f367a1767c11cceda","ecfb7056cf1de042f9420bab396793c0c390bde74b4bbdff16a83ae09a9a7517"],["6d7ef6b17543f8373c573f44e1f389835d89bcbc6062ced36c82df83b8fae859","cd450ec335438986dfefa10c57fea9bcc521a0959b2d80bbf74b190dca712d10"],["e75605d59102a5a2684500d3b991f2e3f3c88b93225547035af25af66e04541f","f5c54754a8f71ee540b9b48728473e314f729ac5308b06938360990e2bfad125"],["eb98660f4c4dfaa06a2be453d5020bc99a0c2e60abe388457dd43fefb1ed620c","6cb9a8876d9cb8520609af3add26cd20a0a7cd8a9411131ce85f44100099223e"],["13e87b027d8514d35939f2e6892b19922154596941888336dc3563e3b8dba942","fef5a3c68059a6dec5d624114bf1e91aac2b9da568d6abeb2570d55646b8adf1"],["ee163026e9fd6fe017c38f06a5be6fc125424b371ce2708e7bf4491691e5764a","1acb250f255dd61c43d94ccc670d0f58f49ae3fa15b96623e5430da0ad6c62b2"],["b268f5ef9ad51e4d78de3a750c2dc89b1e626d43505867999932e5db33af3d80","5f310d4b3c99b9ebb19f77d41c1dee018cf0d34fd4191614003e945a1216e423"],["ff07f3118a9df035e9fad85eb6c7bfe42b02f01ca99ceea3bf7ffdba93c4750d","438136d603e858a3a5c440c38eccbaddc1d2942114e2eddd4740d098ced1f0d8"],["8d8b9855c7c052a34146fd20ffb658bea4b9f69e0d825ebec16e8c3ce2b526a1","cdb559eedc2d79f926baf44fb84ea4d44bcf50fee51d7ceb30e2e7f463036758"],["52db0b5384dfbf05bfa9d472d7ae26dfe4b851ceca91b1eba54263180da32b63","c3b997d050ee5d423ebaf66a6db9f57b3180c902875679de924b69d84a7b375"],["e62f9490d3d51da6395efd24e80919cc7d0f29c3f3fa48c6fff543becbd43352","6d89ad7ba4876b0b22c2ca280c682862f342c8591f1daf5170e07bfd9ccafa7d"],["7f30ea2476b399b4957509c88f77d0191afa2ff5cb7b14fd6d8e7d65aaab1193","ca5ef7d4b231c94c3b15389a5f6311e9daff7bb67b103e9880ef4bff637acaec"],["5098ff1e1d9f14fb46a210fada6c903fef0fb7b4a1dd1d9ac60a0361800b7a00","9731141d81fc8f8084d37c6e7542006b3ee1b40d60dfe5362a5b132fd17ddc0"],["32b78c7de9ee512a72895be6b9cbefa6e2f3c4ccce445c96b9f2c81e2778ad58","ee1849f513df71e32efc3896ee28260c73bb80547ae2275ba497237794c8753c"],["e2cb74fddc8e9fbcd076eef2a7c72b0ce37d50f08269dfc074b581550547a4f7","d3aa2ed71c9dd2247a62df062736eb0baddea9e36122d2be8641abcb005cc4a4"],["8438447566d4d7bedadc299496ab357426009a35f235cb141be0d99cd10ae3a8","c4e1020916980a4da5d01ac5e6ad330734ef0d7906631c4f2390426b2edd791f"],["4162d488b89402039b584c6fc6c308870587d9c46f660b878ab65c82c711d67e","67163e903236289f776f22c25fb8a3afc1732f2b84b4e95dbda47ae5a0852649"],["3fad3fa84caf0f34f0f89bfd2dcf54fc175d767aec3e50684f3ba4a4bf5f683d","cd1bc7cb6cc407bb2f0ca647c718a730cf71872e7d0d2a53fa20efcdfe61826"],["674f2600a3007a00568c1a7ce05d0816c1fb84bf1370798f1c69532faeb1a86b","299d21f9413f33b3edf43b257004580b70db57da0b182259e09eecc69e0d38a5"],["d32f4da54ade74abb81b815ad1fb3b263d82d6c692714bcff87d29bd5ee9f08f","f9429e738b8e53b968e99016c059707782e14f4535359d582fc416910b3eea87"],["30e4e670435385556e593657135845d36fbb6931f72b08cb1ed954f1e3ce3ff6","462f9bce619898638499350113bbc9b10a878d35da70740dc695a559eb88db7b"],["be2062003c51cc3004682904330e4dee7f3dcd10b01e580bf1971b04d4cad297","62188bc49d61e5428573d48a74e1c655b1c61090905682a0d5558ed72dccb9bc"],["93144423ace3451ed29e0fb9ac2af211cb6e84a601df5993c419859fff5df04a","7c10dfb164c3425f5c71a3f9d7992038f1065224f72bb9d1d902a6d13037b47c"],["b015f8044f5fcbdcf21ca26d6c34fb8197829205c7b7d2a7cb66418c157b112c","ab8c1e086d04e813744a655b2df8d5f83b3cdc6faa3088c1d3aea1454e3a1d5f"],["d5e9e1da649d97d89e4868117a465a3a4f8a18de57a140d36b3f2af341a21b52","4cb04437f391ed73111a13cc1d4dd0db1693465c2240480d8955e8592f27447a"],["d3ae41047dd7ca065dbf8ed77b992439983005cd72e16d6f996a5316d36966bb","bd1aeb21ad22ebb22a10f0303417c6d964f8cdd7df0aca614b10dc14d125ac46"],["463e2763d885f958fc66cdd22800f0a487197d0a82e377b49f80af87c897b065","bfefacdb0e5d0fd7df3a311a94de062b26b80c61fbc97508b79992671ef7ca7f"],["7985fdfd127c0567c6f53ec1bb63ec3158e597c40bfe747c83cddfc910641917","603c12daf3d9862ef2b25fe1de289aed24ed291e0ec6708703a5bd567f32ed03"],["74a1ad6b5f76e39db2dd249410eac7f99e74c59cb83d2d0ed5ff1543da7703e9","cc6157ef18c9c63cd6193d83631bbea0093e0968942e8c33d5737fd790e0db08"],["30682a50703375f602d416664ba19b7fc9bab42c72747463a71d0896b22f6da3","553e04f6b018b4fa6c8f39e7f311d3176290d0e0f19ca73f17714d9977a22ff8"],["9e2158f0d7c0d5f26c3791efefa79597654e7a2b2464f52b1ee6c1347769ef57","712fcdd1b9053f09003a3481fa7762e9ffd7c8ef35a38509e2fbf2629008373"],["176e26989a43c9cfeba4029c202538c28172e566e3c4fce7322857f3be327d66","ed8cc9d04b29eb877d270b4878dc43c19aefd31f4eee09ee7b47834c1fa4b1c3"],["75d46efea3771e6e68abb89a13ad747ecf1892393dfc4f1b7004788c50374da8","9852390a99507679fd0b86fd2b39a868d7efc22151346e1a3ca4726586a6bed8"],["809a20c67d64900ffb698c4c825f6d5f2310fb0451c869345b7319f645605721","9e994980d9917e22b76b061927fa04143d096ccc54963e6a5ebfa5f3f8e286c1"],["1b38903a43f7f114ed4500b4eac7083fdefece1cf29c63528d563446f972c180","4036edc931a60ae889353f77fd53de4a2708b26b6f5da72ad3394119daf408f9"]]}}})),r.register("2XALJ",(function(t,e){var i=r("7ceHy"),n=r("ftqWI"),s=r("fpVz9"),o=r("ch9s3"),a=r("9m54X"),h=s.assert,u=r("jHJd0"),l=r("3Mc9q");function c(t){if(!(this instanceof c))return new c(t);"string"==typeof t&&(h(Object.prototype.hasOwnProperty.call(o,t),"Unknown curve "+t),t=o[t]),t instanceof o.PresetCurve&&(t={curve:t}),this.curve=t.curve.curve,this.n=this.curve.n,this.nh=this.n.ushrn(1),this.g=this.curve.g,this.g=t.curve.g,this.g.precompute(t.curve.n.bitLength()+1),this.hash=t.hash||t.curve.hash}t.exports=c,c.prototype.keyPair=function(t){return new u(this,t)},c.prototype.keyFromPrivate=function(t,e){return u.fromPrivate(this,t,e)},c.prototype.keyFromPublic=function(t,e){return u.fromPublic(this,t,e)},c.prototype.genKeyPair=function(t){t||(t={});for(var e=new n({hash:this.hash,pers:t.pers,persEnc:t.persEnc||"utf8",entropy:t.entropy||a(this.hash.hmacStrength),entropyEnc:t.entropy&&t.entropyEnc||"utf8",nonce:this.n.toArray()}),r=this.n.byteLength(),s=this.n.sub(new i(2));;){var o=new i(e.generate(r));if(!(o.cmp(s)>0))return o.iaddn(1),this.keyFromPrivate(o)}},c.prototype._truncateToN=function(t,e){var i=8*t.byteLength()-this.n.bitLength();return i>0&&(t=t.ushrn(i)),!e&&t.cmp(this.n)>=0?t.sub(this.n):t},c.prototype.sign=function(t,e,r,s){"object"==typeof r&&(s=r,r=null),s||(s={}),e=this.keyFromPrivate(e,r),t=this._truncateToN(new i(t,16));for(var o=this.n.byteLength(),a=e.getPrivate().toArray("be",o),h=t.toArray("be",o),u=new n({hash:this.hash,entropy:a,nonce:h,pers:s.pers,persEnc:s.persEnc||"utf8"}),c=this.n.sub(new i(1)),d=0;;d++){var f=s.k?s.k(d):new i(u.generate(this.n.byteLength()));if(!((f=this._truncateToN(f,!0)).cmpn(1)<=0||f.cmp(c)>=0)){var p=this.g.mul(f);if(!p.isInfinity()){var m=p.getX(),g=m.umod(this.n);if(0!==g.cmpn(0)){var v=f.invm(this.n).mul(g.mul(e.getPrivate()).iadd(t));if(0!==(v=v.umod(this.n)).cmpn(0)){var y=(p.getY().isOdd()?1:0)|(0!==m.cmp(g)?2:0);return s.canonical&&v.cmp(this.nh)>0&&(v=this.n.sub(v),y^=1),new l({r:g,s:v,recoveryParam:y})}}}}}},c.prototype.verify=function(t,e,n,r){t=this._truncateToN(new i(t,16)),n=this.keyFromPublic(n,r);var s=(e=new l(e,"hex")).r,o=e.s;if(s.cmpn(1)<0||s.cmp(this.n)>=0)return!1;if(o.cmpn(1)<0||o.cmp(this.n)>=0)return!1;var a,h=o.invm(this.n),u=h.mul(t).umod(this.n),c=h.mul(s).umod(this.n);return this.curve._maxwellTrick?!(a=this.g.jmulAdd(u,n.getPublic(),c)).isInfinity()&&a.eqXToP(s):!(a=this.g.mulAdd(u,n.getPublic(),c)).isInfinity()&&0===a.getX().umod(this.n).cmp(s)},c.prototype.recoverPubKey=function(t,e,n,r){h((3&n)===n,"The recovery param is more than two bits"),e=new l(e,r);var s=this.n,o=new i(t),a=e.r,u=e.s,c=1&n,d=n>>1;if(a.cmp(this.curve.p.umod(this.curve.n))>=0&&d)throw new Error("Unable to find sencond key candinate");a=d?this.curve.pointFromX(a.add(this.curve.n),c):this.curve.pointFromX(a,c);var f=e.r.invm(s),p=s.sub(o).mul(f).umod(s),m=u.mul(f).umod(s);return this.g.mulAdd(p,a,m)},c.prototype.getKeyRecoveryParam=function(t,e,i,n){if(null!==(e=new l(e,n)).recoveryParam)return e.recoveryParam;for(var r=0;r<4;r++){var s;try{s=this.recoverPubKey(t,e,r)}catch(t){continue}if(s.eq(i))return r}throw new Error("Unable to find valid recovery factor")}})),r.register("ftqWI",(function(t,e){var i=r("d8iRl"),n=r("am8t0"),s=r("bNW2d");function o(t){if(!(this instanceof o))return new o(t);this.hash=t.hash,this.predResist=!!t.predResist,this.outLen=this.hash.outSize,this.minEntropy=t.minEntropy||this.hash.hmacStrength,this._reseed=null,this.reseedInterval=null,this.K=null,this.V=null;var e=n.toArray(t.entropy,t.entropyEnc||"hex"),i=n.toArray(t.nonce,t.nonceEnc||"hex"),r=n.toArray(t.pers,t.persEnc||"hex");s(e.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._init(e,i,r)}t.exports=o,o.prototype._init=function(t,e,i){var n=t.concat(e).concat(i);this.K=new Array(this.outLen/8),this.V=new Array(this.outLen/8);for(var r=0;r<this.V.length;r++)this.K[r]=0,this.V[r]=1;this._update(n),this._reseed=1,this.reseedInterval=281474976710656},o.prototype._hmac=function(){return new i.hmac(this.hash,this.K)},o.prototype._update=function(t){var e=this._hmac().update(this.V).update([0]);t&&(e=e.update(t)),this.K=e.digest(),this.V=this._hmac().update(this.V).digest(),t&&(this.K=this._hmac().update(this.V).update([1]).update(t).digest(),this.V=this._hmac().update(this.V).digest())},o.prototype.reseed=function(t,e,i,r){"string"!=typeof e&&(r=i,i=e,e=null),t=n.toArray(t,e),i=n.toArray(i,r),s(t.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._update(t.concat(i||[])),this._reseed=1},o.prototype.generate=function(t,e,i,r){if(this._reseed>this.reseedInterval)throw new Error("Reseed is required");"string"!=typeof e&&(r=i,i=e,e=null),i&&(i=n.toArray(i,r||"hex"),this._update(i));for(var s=[];s.length<t;)this.V=this._hmac().update(this.V).digest(),s=s.concat(this.V);var o=s.slice(0,t);return this._update(i),this._reseed++,n.encode(o,e)}})),r.register("jHJd0",(function(t,e){var i=r("7ceHy"),n=r("fpVz9").assert;function s(t,e){this.ec=t,this.priv=null,this.pub=null,e.priv&&this._importPrivate(e.priv,e.privEnc),e.pub&&this._importPublic(e.pub,e.pubEnc)}t.exports=s,s.fromPublic=function(t,e,i){return e instanceof s?e:new s(t,{pub:e,pubEnc:i})},s.fromPrivate=function(t,e,i){return e instanceof s?e:new s(t,{priv:e,privEnc:i})},s.prototype.validate=function(){var t=this.getPublic();return t.isInfinity()?{result:!1,reason:"Invalid public key"}:t.validate()?t.mul(this.ec.curve.n).isInfinity()?{result:!0,reason:null}:{result:!1,reason:"Public key * N != O"}:{result:!1,reason:"Public key is not a point"}},s.prototype.getPublic=function(t,e){return"string"==typeof t&&(e=t,t=null),this.pub||(this.pub=this.ec.g.mul(this.priv)),e?this.pub.encode(e,t):this.pub},s.prototype.getPrivate=function(t){return"hex"===t?this.priv.toString(16,2):this.priv},s.prototype._importPrivate=function(t,e){this.priv=new i(t,e||16),this.priv=this.priv.umod(this.ec.curve.n)},s.prototype._importPublic=function(t,e){if(t.x||t.y)return"mont"===this.ec.curve.type?n(t.x,"Need x coordinate"):"short"!==this.ec.curve.type&&"edwards"!==this.ec.curve.type||n(t.x&&t.y,"Need both x and y coordinate"),void(this.pub=this.ec.curve.point(t.x,t.y));this.pub=this.ec.curve.decodePoint(t,e)},s.prototype.derive=function(t){return t.validate()||n(t.validate(),"public point not validated"),t.mul(this.priv).getX()},s.prototype.sign=function(t,e,i){return this.ec.sign(t,this,e,i)},s.prototype.verify=function(t,e){return this.ec.verify(t,e,this)},s.prototype.inspect=function(){return"<Key priv: "+(this.priv&&this.priv.toString(16,2))+" pub: "+(this.pub&&this.pub.inspect())+" >"}})),r.register("3Mc9q",(function(t,e){var i=r("7ceHy"),n=r("fpVz9"),s=n.assert;function o(t,e){if(t instanceof o)return t;this._importDER(t,e)||(s(t.r&&t.s,"Signature without r or s"),this.r=new i(t.r,16),this.s=new i(t.s,16),void 0===t.recoveryParam?this.recoveryParam=null:this.recoveryParam=t.recoveryParam)}function a(){this.place=0}function h(t,e){var i=t[e.place++];if(!(128&i))return i;var n=15&i;if(0===n||n>4)return!1;for(var r=0,s=0,o=e.place;s<n;s++,o++)r<<=8,r|=t[o],r>>>=0;return!(r<=127)&&(e.place=o,r)}function u(t){for(var e=0,i=t.length-1;!t[e]&&!(128&t[e+1])&&e<i;)e++;return 0===e?t:t.slice(e)}function l(t,e){if(e<128)t.push(e);else{var i=1+(Math.log(e)/Math.LN2>>>3);for(t.push(128|i);--i;)t.push(e>>>(i<<3)&255);t.push(e)}}t.exports=o,o.prototype._importDER=function(t,e){t=n.toArray(t,e);var r=new a;if(48!==t[r.place++])return!1;var s=h(t,r);if(!1===s)return!1;if(s+r.place!==t.length)return!1;if(2!==t[r.place++])return!1;var o=h(t,r);if(!1===o)return!1;var u=t.slice(r.place,o+r.place);if(r.place+=o,2!==t[r.place++])return!1;var l=h(t,r);if(!1===l)return!1;if(t.length!==l+r.place)return!1;var c=t.slice(r.place,l+r.place);if(0===u[0]){if(!(128&u[1]))return!1;u=u.slice(1)}if(0===c[0]){if(!(128&c[1]))return!1;c=c.slice(1)}return this.r=new i(u),this.s=new i(c),this.recoveryParam=null,!0},o.prototype.toDER=function(t){var e=this.r.toArray(),i=this.s.toArray();for(128&e[0]&&(e=[0].concat(e)),128&i[0]&&(i=[0].concat(i)),e=u(e),i=u(i);!(i[0]||128&i[1]);)i=i.slice(1);var r=[2];l(r,e.length),(r=r.concat(e)).push(2),l(r,i.length);var s=r.concat(i),o=[48];return l(o,s.length),o=o.concat(s),n.encode(o,t)}})),r.register("aNhbj",(function(t,e){var i=r("d8iRl"),n=r("ch9s3"),s=r("fpVz9"),o=s.assert,a=s.parseBytes,h=r("kQKNv"),u=r("ioc6i");function l(t){if(o("ed25519"===t,"only tested with ed25519 so far"),!(this instanceof l))return new l(t);t=n[t].curve,this.curve=t,this.g=t.g,this.g.precompute(t.n.bitLength()+1),this.pointClass=t.point().constructor,this.encodingLength=Math.ceil(t.n.bitLength()/8),this.hash=i.sha512}t.exports=l,l.prototype.sign=function(t,e){t=a(t);var i=this.keyFromSecret(e),n=this.hashInt(i.messagePrefix(),t),r=this.g.mul(n),s=this.encodePoint(r),o=this.hashInt(s,i.pubBytes(),t).mul(i.priv()),h=n.add(o).umod(this.curve.n);return this.makeSignature({R:r,S:h,Rencoded:s})},l.prototype.verify=function(t,e,i){t=a(t),e=this.makeSignature(e);var n=this.keyFromPublic(i),r=this.hashInt(e.Rencoded(),n.pubBytes(),t),s=this.g.mul(e.S());return e.R().add(n.pub().mul(r)).eq(s)},l.prototype.hashInt=function(){for(var t=this.hash(),e=0;e<arguments.length;e++)t.update(arguments[e]);return s.intFromLE(t.digest()).umod(this.curve.n)},l.prototype.keyFromPublic=function(t){return h.fromPublic(this,t)},l.prototype.keyFromSecret=function(t){return h.fromSecret(this,t)},l.prototype.makeSignature=function(t){return t instanceof u?t:new u(this,t)},l.prototype.encodePoint=function(t){var e=t.getY().toArray("le",this.encodingLength);return e[this.encodingLength-1]|=t.getX().isOdd()?128:0,e},l.prototype.decodePoint=function(t){var e=(t=s.parseBytes(t)).length-1,i=t.slice(0,e).concat(-129&t[e]),n=0!=(128&t[e]),r=s.intFromLE(i);return this.curve.pointFromY(r,n)},l.prototype.encodeInt=function(t){return t.toArray("le",this.encodingLength)},l.prototype.decodeInt=function(t){return s.intFromLE(t)},l.prototype.isPoint=function(t){return t instanceof this.pointClass}})),r.register("kQKNv",(function(t,e){var i=r("fpVz9"),n=i.assert,s=i.parseBytes,o=i.cachedProperty;function a(t,e){this.eddsa=t,this._secret=s(e.secret),t.isPoint(e.pub)?this._pub=e.pub:this._pubBytes=s(e.pub)}a.fromPublic=function(t,e){return e instanceof a?e:new a(t,{pub:e})},a.fromSecret=function(t,e){return e instanceof a?e:new a(t,{secret:e})},a.prototype.secret=function(){return this._secret},o(a,"pubBytes",(function(){return this.eddsa.encodePoint(this.pub())})),o(a,"pub",(function(){return this._pubBytes?this.eddsa.decodePoint(this._pubBytes):this.eddsa.g.mul(this.priv())})),o(a,"privBytes",(function(){var t=this.eddsa,e=this.hash(),i=t.encodingLength-1,n=e.slice(0,t.encodingLength);return n[0]&=248,n[i]&=127,n[i]|=64,n})),o(a,"priv",(function(){return this.eddsa.decodeInt(this.privBytes())})),o(a,"hash",(function(){return this.eddsa.hash().update(this.secret()).digest()})),o(a,"messagePrefix",(function(){return this.hash().slice(this.eddsa.encodingLength)})),a.prototype.sign=function(t){return n(this._secret,"KeyPair can only verify"),this.eddsa.sign(t,this)},a.prototype.verify=function(t,e){return this.eddsa.verify(t,e,this)},a.prototype.getSecret=function(t){return n(this._secret,"KeyPair is public only"),i.encode(this.secret(),t)},a.prototype.getPublic=function(t){return i.encode(this.pubBytes(),t)},t.exports=a})),r.register("ioc6i",(function(t,e){var i=r("7ceHy"),n=r("fpVz9"),s=n.assert,o=n.cachedProperty,a=n.parseBytes;function h(t,e){this.eddsa=t,"object"!=typeof e&&(e=a(e)),Array.isArray(e)&&(e={R:e.slice(0,t.encodingLength),S:e.slice(t.encodingLength)}),s(e.R&&e.S,"Signature without R or S"),t.isPoint(e.R)&&(this._R=e.R),e.S instanceof i&&(this._S=e.S),this._Rencoded=Array.isArray(e.R)?e.R:e.Rencoded,this._Sencoded=Array.isArray(e.S)?e.S:e.Sencoded}o(h,"S",(function(){return this.eddsa.decodeInt(this.Sencoded())})),o(h,"R",(function(){return this.eddsa.decodePoint(this.Rencoded())})),o(h,"Rencoded",(function(){return this.eddsa.encodePoint(this.R())})),o(h,"Sencoded",(function(){return this.eddsa.encodeInt(this.S())})),h.prototype.toBytes=function(){return this.Rencoded().concat(this.Sencoded())},h.prototype.toHex=function(){return n.encode(this.toBytes(),"hex").toUpperCase()},t.exports=h})),r.register("eOlL6",(function(t,e){var i=r("g78em"),n=r("4IRG5"),s=r("hg5oe"),o=r("2JnZq"),a=r("ellmV"),h=r("4OiF0").Buffer;function u(t){var e;"object"!=typeof t||h.isBuffer(t)||(e=t.passphrase,t=t.key),"string"==typeof t&&(t=h.from(t));var r,u,l=s(t,e),c=l.tag,d=l.data;switch(c){case"CERTIFICATE":u=i.certificate.decode(d,"der").tbsCertificate.subjectPublicKeyInfo;case"PUBLIC KEY":switch(u||(u=i.PublicKey.decode(d,"der")),r=u.algorithm.algorithm.join(".")){case"1.2.840.113549.1.1.1":return i.RSAPublicKey.decode(u.subjectPublicKey.data,"der");case"1.2.840.10045.2.1":return u.subjectPrivateKey=u.subjectPublicKey,{type:"ec",data:u};case"1.2.840.10040.4.1":return u.algorithm.params.pub_key=i.DSAparam.decode(u.subjectPublicKey.data,"der"),{type:"dsa",data:u.algorithm.params};default:throw new Error("unknown key id "+r)}case"ENCRYPTED PRIVATE KEY":d=function(t,e){var i=t.algorithm.decrypt.kde.kdeparams.salt,r=parseInt(t.algorithm.decrypt.kde.kdeparams.iters.toString(),10),s=n[t.algorithm.decrypt.cipher.algo.join(".")],u=t.algorithm.decrypt.cipher.iv,l=t.subjectPrivateKey,c=parseInt(s.split("-")[1],10)/8,d=a.pbkdf2Sync(e,i,r,c,"sha1"),f=o.createDecipheriv(s,d,u),p=[];return p.push(f.update(l)),p.push(f.final()),h.concat(p)}(d=i.EncryptedPrivateKey.decode(d,"der"),e);case"PRIVATE KEY":switch(r=(u=i.PrivateKey.decode(d,"der")).algorithm.algorithm.join(".")){case"1.2.840.113549.1.1.1":return i.RSAPrivateKey.decode(u.subjectPrivateKey,"der");case"1.2.840.10045.2.1":return{curve:u.algorithm.curve,privateKey:i.ECPrivateKey.decode(u.subjectPrivateKey,"der").privateKey};case"1.2.840.10040.4.1":return u.algorithm.params.priv_key=i.DSAparam.decode(u.subjectPrivateKey,"der"),{type:"dsa",params:u.algorithm.params};default:throw new Error("unknown key id "+r)}case"RSA PUBLIC KEY":return i.RSAPublicKey.decode(d,"der");case"RSA PRIVATE KEY":return i.RSAPrivateKey.decode(d,"der");case"DSA PRIVATE KEY":return{type:"dsa",params:i.DSAPrivateKey.decode(d,"der")};case"EC PRIVATE KEY":return{curve:(d=i.ECPrivateKey.decode(d,"der")).parameters.value,privateKey:d.privateKey};default:throw new Error("unknown key type "+c)}}t.exports=u,u.signature=i.signature})),r.register("g78em",(function(e,i){var n,s,o,a,h,u,l,c,d,f;t(e.exports,"certificate",(()=>n),(t=>n=t)),t(e.exports,"RSAPrivateKey",(()=>s),(t=>s=t)),t(e.exports,"RSAPublicKey",(()=>o),(t=>o=t)),t(e.exports,"PublicKey",(()=>a),(t=>a=t)),t(e.exports,"PrivateKey",(()=>h),(t=>h=t)),t(e.exports,"EncryptedPrivateKey",(()=>u),(t=>u=t)),t(e.exports,"DSAPrivateKey",(()=>l),(t=>l=t)),t(e.exports,"DSAparam",(()=>c),(t=>c=t)),t(e.exports,"ECPrivateKey",(()=>d),(t=>d=t)),t(e.exports,"signature",(()=>f),(t=>f=t));var p=r("1auoC");n=r("ged9F");var m=p.define("RSAPrivateKey",(function(){this.seq().obj(this.key("version").int(),this.key("modulus").int(),this.key("publicExponent").int(),this.key("privateExponent").int(),this.key("prime1").int(),this.key("prime2").int(),this.key("exponent1").int(),this.key("exponent2").int(),this.key("coefficient").int())}));s=m;var g=p.define("RSAPublicKey",(function(){this.seq().obj(this.key("modulus").int(),this.key("publicExponent").int())}));o=g;var v=p.define("SubjectPublicKeyInfo",(function(){this.seq().obj(this.key("algorithm").use(y),this.key("subjectPublicKey").bitstr())}));a=v;var y=p.define("AlgorithmIdentifier",(function(){this.seq().obj(this.key("algorithm").objid(),this.key("none").null_().optional(),this.key("curve").objid().optional(),this.key("params").seq().obj(this.key("p").int(),this.key("q").int(),this.key("g").int()).optional())})),b=p.define("PrivateKeyInfo",(function(){this.seq().obj(this.key("version").int(),this.key("algorithm").use(y),this.key("subjectPrivateKey").octstr())}));h=b;var w=p.define("EncryptedPrivateKeyInfo",(function(){this.seq().obj(this.key("algorithm").seq().obj(this.key("id").objid(),this.key("decrypt").seq().obj(this.key("kde").seq().obj(this.key("id").objid(),this.key("kdeparams").seq().obj(this.key("salt").octstr(),this.key("iters").int())),this.key("cipher").seq().obj(this.key("algo").objid(),this.key("iv").octstr()))),this.key("subjectPrivateKey").octstr())}));u=w;var _=p.define("DSAPrivateKey",(function(){this.seq().obj(this.key("version").int(),this.key("p").int(),this.key("q").int(),this.key("g").int(),this.key("pub_key").int(),this.key("priv_key").int())}));l=_,c=p.define("DSAparam",(function(){this.int()}));var M=p.define("ECPrivateKey",(function(){this.seq().obj(this.key("version").int(),this.key("privateKey").octstr(),this.key("parameters").optional().explicit(0).use(A),this.key("publicKey").optional().explicit(1).bitstr())}));d=M;var A=p.define("ECParameters",(function(){this.choice({namedCurve:this.objid()})}));f=p.define("signature",(function(){this.seq().obj(this.key("r").int(),this.key("s").int())}))})),r.register("1auoC",(function(t,e){const i=t.exports;i.bignum=r("jwZLX"),i.define=r("aslIH").define,i.base=r("gi7zr"),i.constants=r("4Sey6"),i.decoders=r("8KdoP"),i.encoders=r("aaDqI")})),r.register("jwZLX",(function(t,e){!function(t,e){function i(t,e){if(!t)throw new Error(e||"Assertion failed")}function n(t,e){t.super_=e;var i=function(){};i.prototype=e.prototype,t.prototype=new i,t.prototype.constructor=t}function s(t,e,i){if(s.isBN(t))return t;this.negative=0,this.words=null,this.length=0,this.red=null,null!==t&&("le"!==e&&"be"!==e||(i=e,e=10),this._init(t||0,e||10,i||"be"))}var o;"object"==typeof t?t.exports=s:e.BN=s,s.BN=s,s.wordSize=26;try{o="undefined"!=typeof window&&void 0!==window.Buffer?window.Buffer:r("66yC2").Buffer}catch(t){}function a(t,e){var i=t.charCodeAt(e);return i>=65&&i<=70?i-55:i>=97&&i<=102?i-87:i-48&15}function h(t,e,i){var n=a(t,i);return i-1>=e&&(n|=a(t,i-1)<<4),n}function u(t,e,i,n){for(var r=0,s=Math.min(t.length,i),o=e;o<s;o++){var a=t.charCodeAt(o)-48;r*=n,r+=a>=49?a-49+10:a>=17?a-17+10:a}return r}s.isBN=function(t){return t instanceof s||null!==t&&"object"==typeof t&&t.constructor.wordSize===s.wordSize&&Array.isArray(t.words)},s.max=function(t,e){return t.cmp(e)>0?t:e},s.min=function(t,e){return t.cmp(e)<0?t:e},s.prototype._init=function(t,e,n){if("number"==typeof t)return this._initNumber(t,e,n);if("object"==typeof t)return this._initArray(t,e,n);"hex"===e&&(e=16),i(e===(0|e)&&e>=2&&e<=36);var r=0;"-"===(t=t.toString().replace(/\s+/g,""))[0]&&(r++,this.negative=1),r<t.length&&(16===e?this._parseHex(t,r,n):(this._parseBase(t,e,r),"le"===n&&this._initArray(this.toArray(),e,n)))},s.prototype._initNumber=function(t,e,n){t<0&&(this.negative=1,t=-t),t<67108864?(this.words=[67108863&t],this.length=1):t<4503599627370496?(this.words=[67108863&t,t/67108864&67108863],this.length=2):(i(t<9007199254740992),this.words=[67108863&t,t/67108864&67108863,1],this.length=3),"le"===n&&this._initArray(this.toArray(),e,n)},s.prototype._initArray=function(t,e,n){if(i("number"==typeof t.length),t.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(t.length/3),this.words=new Array(this.length);for(var r=0;r<this.length;r++)this.words[r]=0;var s,o,a=0;if("be"===n)for(r=t.length-1,s=0;r>=0;r-=3)o=t[r]|t[r-1]<<8|t[r-2]<<16,this.words[s]|=o<<a&67108863,this.words[s+1]=o>>>26-a&67108863,(a+=24)>=26&&(a-=26,s++);else if("le"===n)for(r=0,s=0;r<t.length;r+=3)o=t[r]|t[r+1]<<8|t[r+2]<<16,this.words[s]|=o<<a&67108863,this.words[s+1]=o>>>26-a&67108863,(a+=24)>=26&&(a-=26,s++);return this.strip()},s.prototype._parseHex=function(t,e,i){this.length=Math.ceil((t.length-e)/6),this.words=new Array(this.length);for(var n=0;n<this.length;n++)this.words[n]=0;var r,s=0,o=0;if("be"===i)for(n=t.length-1;n>=e;n-=2)r=h(t,e,n)<<s,this.words[o]|=67108863&r,s>=18?(s-=18,o+=1,this.words[o]|=r>>>26):s+=8;else for(n=(t.length-e)%2==0?e+1:e;n<t.length;n+=2)r=h(t,e,n)<<s,this.words[o]|=67108863&r,s>=18?(s-=18,o+=1,this.words[o]|=r>>>26):s+=8;this.strip()},s.prototype._parseBase=function(t,e,i){this.words=[0],this.length=1;for(var n=0,r=1;r<=67108863;r*=e)n++;n--,r=r/e|0;for(var s=t.length-i,o=s%n,a=Math.min(s,s-o)+i,h=0,l=i;l<a;l+=n)h=u(t,l,l+n,e),this.imuln(r),this.words[0]+h<67108864?this.words[0]+=h:this._iaddn(h);if(0!==o){var c=1;for(h=u(t,l,t.length,e),l=0;l<o;l++)c*=e;this.imuln(c),this.words[0]+h<67108864?this.words[0]+=h:this._iaddn(h)}this.strip()},s.prototype.copy=function(t){t.words=new Array(this.length);for(var e=0;e<this.length;e++)t.words[e]=this.words[e];t.length=this.length,t.negative=this.negative,t.red=this.red},s.prototype.clone=function(){var t=new s(null);return this.copy(t),t},s.prototype._expand=function(t){for(;this.length<t;)this.words[this.length++]=0;return this},s.prototype.strip=function(){for(;this.length>1&&0===this.words[this.length-1];)this.length--;return this._normSign()},s.prototype._normSign=function(){return 1===this.length&&0===this.words[0]&&(this.negative=0),this},s.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var l=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],c=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],d=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];function f(t,e,i){i.negative=e.negative^t.negative;var n=t.length+e.length|0;i.length=n,n=n-1|0;var r=0|t.words[0],s=0|e.words[0],o=r*s,a=67108863&o,h=o/67108864|0;i.words[0]=a;for(var u=1;u<n;u++){for(var l=h>>>26,c=67108863&h,d=Math.min(u,e.length-1),f=Math.max(0,u-t.length+1);f<=d;f++){var p=u-f|0;l+=(o=(r=0|t.words[p])*(s=0|e.words[f])+c)/67108864|0,c=67108863&o}i.words[u]=0|c,h=0|l}return 0!==h?i.words[u]=0|h:i.length--,i.strip()}s.prototype.toString=function(t,e){var n;if(e=0|e||1,16===(t=t||10)||"hex"===t){n="";for(var r=0,s=0,o=0;o<this.length;o++){var a=this.words[o],h=(16777215&(a<<r|s)).toString(16);n=0!==(s=a>>>24-r&16777215)||o!==this.length-1?l[6-h.length]+h+n:h+n,(r+=2)>=26&&(r-=26,o--)}for(0!==s&&(n=s.toString(16)+n);n.length%e!=0;)n="0"+n;return 0!==this.negative&&(n="-"+n),n}if(t===(0|t)&&t>=2&&t<=36){var u=c[t],f=d[t];n="";var p=this.clone();for(p.negative=0;!p.isZero();){var m=p.modn(f).toString(t);n=(p=p.idivn(f)).isZero()?m+n:l[u-m.length]+m+n}for(this.isZero()&&(n="0"+n);n.length%e!=0;)n="0"+n;return 0!==this.negative&&(n="-"+n),n}i(!1,"Base should be between 2 and 36")},s.prototype.toNumber=function(){var t=this.words[0];return 2===this.length?t+=67108864*this.words[1]:3===this.length&&1===this.words[2]?t+=4503599627370496+67108864*this.words[1]:this.length>2&&i(!1,"Number can only safely store up to 53 bits"),0!==this.negative?-t:t},s.prototype.toJSON=function(){return this.toString(16)},s.prototype.toBuffer=function(t,e){return i(void 0!==o),this.toArrayLike(o,t,e)},s.prototype.toArray=function(t,e){return this.toArrayLike(Array,t,e)},s.prototype.toArrayLike=function(t,e,n){var r=this.byteLength(),s=n||Math.max(1,r);i(r<=s,"byte array longer than desired length"),i(s>0,"Requested array length <= 0"),this.strip();var o,a,h="le"===e,u=new t(s),l=this.clone();if(h){for(a=0;!l.isZero();a++)o=l.andln(255),l.iushrn(8),u[a]=o;for(;a<s;a++)u[a]=0}else{for(a=0;a<s-r;a++)u[a]=0;for(a=0;!l.isZero();a++)o=l.andln(255),l.iushrn(8),u[s-a-1]=o}return u},Math.clz32?s.prototype._countBits=function(t){return 32-Math.clz32(t)}:s.prototype._countBits=function(t){var e=t,i=0;return e>=4096&&(i+=13,e>>>=13),e>=64&&(i+=7,e>>>=7),e>=8&&(i+=4,e>>>=4),e>=2&&(i+=2,e>>>=2),i+e},s.prototype._zeroBits=function(t){if(0===t)return 26;var e=t,i=0;return 0==(8191&e)&&(i+=13,e>>>=13),0==(127&e)&&(i+=7,e>>>=7),0==(15&e)&&(i+=4,e>>>=4),0==(3&e)&&(i+=2,e>>>=2),0==(1&e)&&i++,i},s.prototype.bitLength=function(){var t=this.words[this.length-1],e=this._countBits(t);return 26*(this.length-1)+e},s.prototype.zeroBits=function(){if(this.isZero())return 0;for(var t=0,e=0;e<this.length;e++){var i=this._zeroBits(this.words[e]);if(t+=i,26!==i)break}return t},s.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},s.prototype.toTwos=function(t){return 0!==this.negative?this.abs().inotn(t).iaddn(1):this.clone()},s.prototype.fromTwos=function(t){return this.testn(t-1)?this.notn(t).iaddn(1).ineg():this.clone()},s.prototype.isNeg=function(){return 0!==this.negative},s.prototype.neg=function(){return this.clone().ineg()},s.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},s.prototype.iuor=function(t){for(;this.length<t.length;)this.words[this.length++]=0;for(var e=0;e<t.length;e++)this.words[e]=this.words[e]|t.words[e];return this.strip()},s.prototype.ior=function(t){return i(0==(this.negative|t.negative)),this.iuor(t)},s.prototype.or=function(t){return this.length>t.length?this.clone().ior(t):t.clone().ior(this)},s.prototype.uor=function(t){return this.length>t.length?this.clone().iuor(t):t.clone().iuor(this)},s.prototype.iuand=function(t){var e;e=this.length>t.length?t:this;for(var i=0;i<e.length;i++)this.words[i]=this.words[i]&t.words[i];return this.length=e.length,this.strip()},s.prototype.iand=function(t){return i(0==(this.negative|t.negative)),this.iuand(t)},s.prototype.and=function(t){return this.length>t.length?this.clone().iand(t):t.clone().iand(this)},s.prototype.uand=function(t){return this.length>t.length?this.clone().iuand(t):t.clone().iuand(this)},s.prototype.iuxor=function(t){var e,i;this.length>t.length?(e=this,i=t):(e=t,i=this);for(var n=0;n<i.length;n++)this.words[n]=e.words[n]^i.words[n];if(this!==e)for(;n<e.length;n++)this.words[n]=e.words[n];return this.length=e.length,this.strip()},s.prototype.ixor=function(t){return i(0==(this.negative|t.negative)),this.iuxor(t)},s.prototype.xor=function(t){return this.length>t.length?this.clone().ixor(t):t.clone().ixor(this)},s.prototype.uxor=function(t){return this.length>t.length?this.clone().iuxor(t):t.clone().iuxor(this)},s.prototype.inotn=function(t){i("number"==typeof t&&t>=0);var e=0|Math.ceil(t/26),n=t%26;this._expand(e),n>0&&e--;for(var r=0;r<e;r++)this.words[r]=67108863&~this.words[r];return n>0&&(this.words[r]=~this.words[r]&67108863>>26-n),this.strip()},s.prototype.notn=function(t){return this.clone().inotn(t)},s.prototype.setn=function(t,e){i("number"==typeof t&&t>=0);var n=t/26|0,r=t%26;return this._expand(n+1),this.words[n]=e?this.words[n]|1<<r:this.words[n]&~(1<<r),this.strip()},s.prototype.iadd=function(t){var e,i,n;if(0!==this.negative&&0===t.negative)return this.negative=0,e=this.isub(t),this.negative^=1,this._normSign();if(0===this.negative&&0!==t.negative)return t.negative=0,e=this.isub(t),t.negative=1,e._normSign();this.length>t.length?(i=this,n=t):(i=t,n=this);for(var r=0,s=0;s<n.length;s++)e=(0|i.words[s])+(0|n.words[s])+r,this.words[s]=67108863&e,r=e>>>26;for(;0!==r&&s<i.length;s++)e=(0|i.words[s])+r,this.words[s]=67108863&e,r=e>>>26;if(this.length=i.length,0!==r)this.words[this.length]=r,this.length++;else if(i!==this)for(;s<i.length;s++)this.words[s]=i.words[s];return this},s.prototype.add=function(t){var e;return 0!==t.negative&&0===this.negative?(t.negative=0,e=this.sub(t),t.negative^=1,e):0===t.negative&&0!==this.negative?(this.negative=0,e=t.sub(this),this.negative=1,e):this.length>t.length?this.clone().iadd(t):t.clone().iadd(this)},s.prototype.isub=function(t){if(0!==t.negative){t.negative=0;var e=this.iadd(t);return t.negative=1,e._normSign()}if(0!==this.negative)return this.negative=0,this.iadd(t),this.negative=1,this._normSign();var i,n,r=this.cmp(t);if(0===r)return this.negative=0,this.length=1,this.words[0]=0,this;r>0?(i=this,n=t):(i=t,n=this);for(var s=0,o=0;o<n.length;o++)s=(e=(0|i.words[o])-(0|n.words[o])+s)>>26,this.words[o]=67108863&e;for(;0!==s&&o<i.length;o++)s=(e=(0|i.words[o])+s)>>26,this.words[o]=67108863&e;if(0===s&&o<i.length&&i!==this)for(;o<i.length;o++)this.words[o]=i.words[o];return this.length=Math.max(this.length,o),i!==this&&(this.negative=1),this.strip()},s.prototype.sub=function(t){return this.clone().isub(t)};var p=function(t,e,i){var n,r,s,o=t.words,a=e.words,h=i.words,u=0,l=0|o[0],c=8191&l,d=l>>>13,f=0|o[1],p=8191&f,m=f>>>13,g=0|o[2],v=8191&g,y=g>>>13,b=0|o[3],w=8191&b,_=b>>>13,M=0|o[4],A=8191&M,k=M>>>13,E=0|o[5],x=8191&E,S=E>>>13,T=0|o[6],I=8191&T,q=T>>>13,R=0|o[7],C=8191&R,N=R>>>13,L=0|o[8],D=8191&L,O=L>>>13,B=0|o[9],P=8191&B,U=B>>>13,F=0|a[0],j=8191&F,z=F>>>13,V=0|a[1],H=8191&V,K=V>>>13,G=0|a[2],W=8191&G,Q=G>>>13,$=0|a[3],Z=8191&$,Y=$>>>13,X=0|a[4],J=8191&X,tt=X>>>13,et=0|a[5],it=8191&et,nt=et>>>13,rt=0|a[6],st=8191&rt,ot=rt>>>13,at=0|a[7],ht=8191&at,ut=at>>>13,lt=0|a[8],ct=8191&lt,dt=lt>>>13,ft=0|a[9],pt=8191&ft,mt=ft>>>13;i.negative=t.negative^e.negative,i.length=19;var gt=(u+(n=Math.imul(c,j))|0)+((8191&(r=(r=Math.imul(c,z))+Math.imul(d,j)|0))<<13)|0;u=((s=Math.imul(d,z))+(r>>>13)|0)+(gt>>>26)|0,gt&=67108863,n=Math.imul(p,j),r=(r=Math.imul(p,z))+Math.imul(m,j)|0,s=Math.imul(m,z);var vt=(u+(n=n+Math.imul(c,H)|0)|0)+((8191&(r=(r=r+Math.imul(c,K)|0)+Math.imul(d,H)|0))<<13)|0;u=((s=s+Math.imul(d,K)|0)+(r>>>13)|0)+(vt>>>26)|0,vt&=67108863,n=Math.imul(v,j),r=(r=Math.imul(v,z))+Math.imul(y,j)|0,s=Math.imul(y,z),n=n+Math.imul(p,H)|0,r=(r=r+Math.imul(p,K)|0)+Math.imul(m,H)|0,s=s+Math.imul(m,K)|0;var yt=(u+(n=n+Math.imul(c,W)|0)|0)+((8191&(r=(r=r+Math.imul(c,Q)|0)+Math.imul(d,W)|0))<<13)|0;u=((s=s+Math.imul(d,Q)|0)+(r>>>13)|0)+(yt>>>26)|0,yt&=67108863,n=Math.imul(w,j),r=(r=Math.imul(w,z))+Math.imul(_,j)|0,s=Math.imul(_,z),n=n+Math.imul(v,H)|0,r=(r=r+Math.imul(v,K)|0)+Math.imul(y,H)|0,s=s+Math.imul(y,K)|0,n=n+Math.imul(p,W)|0,r=(r=r+Math.imul(p,Q)|0)+Math.imul(m,W)|0,s=s+Math.imul(m,Q)|0;var bt=(u+(n=n+Math.imul(c,Z)|0)|0)+((8191&(r=(r=r+Math.imul(c,Y)|0)+Math.imul(d,Z)|0))<<13)|0;u=((s=s+Math.imul(d,Y)|0)+(r>>>13)|0)+(bt>>>26)|0,bt&=67108863,n=Math.imul(A,j),r=(r=Math.imul(A,z))+Math.imul(k,j)|0,s=Math.imul(k,z),n=n+Math.imul(w,H)|0,r=(r=r+Math.imul(w,K)|0)+Math.imul(_,H)|0,s=s+Math.imul(_,K)|0,n=n+Math.imul(v,W)|0,r=(r=r+Math.imul(v,Q)|0)+Math.imul(y,W)|0,s=s+Math.imul(y,Q)|0,n=n+Math.imul(p,Z)|0,r=(r=r+Math.imul(p,Y)|0)+Math.imul(m,Z)|0,s=s+Math.imul(m,Y)|0;var wt=(u+(n=n+Math.imul(c,J)|0)|0)+((8191&(r=(r=r+Math.imul(c,tt)|0)+Math.imul(d,J)|0))<<13)|0;u=((s=s+Math.imul(d,tt)|0)+(r>>>13)|0)+(wt>>>26)|0,wt&=67108863,n=Math.imul(x,j),r=(r=Math.imul(x,z))+Math.imul(S,j)|0,s=Math.imul(S,z),n=n+Math.imul(A,H)|0,r=(r=r+Math.imul(A,K)|0)+Math.imul(k,H)|0,s=s+Math.imul(k,K)|0,n=n+Math.imul(w,W)|0,r=(r=r+Math.imul(w,Q)|0)+Math.imul(_,W)|0,s=s+Math.imul(_,Q)|0,n=n+Math.imul(v,Z)|0,r=(r=r+Math.imul(v,Y)|0)+Math.imul(y,Z)|0,s=s+Math.imul(y,Y)|0,n=n+Math.imul(p,J)|0,r=(r=r+Math.imul(p,tt)|0)+Math.imul(m,J)|0,s=s+Math.imul(m,tt)|0;var _t=(u+(n=n+Math.imul(c,it)|0)|0)+((8191&(r=(r=r+Math.imul(c,nt)|0)+Math.imul(d,it)|0))<<13)|0;u=((s=s+Math.imul(d,nt)|0)+(r>>>13)|0)+(_t>>>26)|0,_t&=67108863,n=Math.imul(I,j),r=(r=Math.imul(I,z))+Math.imul(q,j)|0,s=Math.imul(q,z),n=n+Math.imul(x,H)|0,r=(r=r+Math.imul(x,K)|0)+Math.imul(S,H)|0,s=s+Math.imul(S,K)|0,n=n+Math.imul(A,W)|0,r=(r=r+Math.imul(A,Q)|0)+Math.imul(k,W)|0,s=s+Math.imul(k,Q)|0,n=n+Math.imul(w,Z)|0,r=(r=r+Math.imul(w,Y)|0)+Math.imul(_,Z)|0,s=s+Math.imul(_,Y)|0,n=n+Math.imul(v,J)|0,r=(r=r+Math.imul(v,tt)|0)+Math.imul(y,J)|0,s=s+Math.imul(y,tt)|0,n=n+Math.imul(p,it)|0,r=(r=r+Math.imul(p,nt)|0)+Math.imul(m,it)|0,s=s+Math.imul(m,nt)|0;var Mt=(u+(n=n+Math.imul(c,st)|0)|0)+((8191&(r=(r=r+Math.imul(c,ot)|0)+Math.imul(d,st)|0))<<13)|0;u=((s=s+Math.imul(d,ot)|0)+(r>>>13)|0)+(Mt>>>26)|0,Mt&=67108863,n=Math.imul(C,j),r=(r=Math.imul(C,z))+Math.imul(N,j)|0,s=Math.imul(N,z),n=n+Math.imul(I,H)|0,r=(r=r+Math.imul(I,K)|0)+Math.imul(q,H)|0,s=s+Math.imul(q,K)|0,n=n+Math.imul(x,W)|0,r=(r=r+Math.imul(x,Q)|0)+Math.imul(S,W)|0,s=s+Math.imul(S,Q)|0,n=n+Math.imul(A,Z)|0,r=(r=r+Math.imul(A,Y)|0)+Math.imul(k,Z)|0,s=s+Math.imul(k,Y)|0,n=n+Math.imul(w,J)|0,r=(r=r+Math.imul(w,tt)|0)+Math.imul(_,J)|0,s=s+Math.imul(_,tt)|0,n=n+Math.imul(v,it)|0,r=(r=r+Math.imul(v,nt)|0)+Math.imul(y,it)|0,s=s+Math.imul(y,nt)|0,n=n+Math.imul(p,st)|0,r=(r=r+Math.imul(p,ot)|0)+Math.imul(m,st)|0,s=s+Math.imul(m,ot)|0;var At=(u+(n=n+Math.imul(c,ht)|0)|0)+((8191&(r=(r=r+Math.imul(c,ut)|0)+Math.imul(d,ht)|0))<<13)|0;u=((s=s+Math.imul(d,ut)|0)+(r>>>13)|0)+(At>>>26)|0,At&=67108863,n=Math.imul(D,j),r=(r=Math.imul(D,z))+Math.imul(O,j)|0,s=Math.imul(O,z),n=n+Math.imul(C,H)|0,r=(r=r+Math.imul(C,K)|0)+Math.imul(N,H)|0,s=s+Math.imul(N,K)|0,n=n+Math.imul(I,W)|0,r=(r=r+Math.imul(I,Q)|0)+Math.imul(q,W)|0,s=s+Math.imul(q,Q)|0,n=n+Math.imul(x,Z)|0,r=(r=r+Math.imul(x,Y)|0)+Math.imul(S,Z)|0,s=s+Math.imul(S,Y)|0,n=n+Math.imul(A,J)|0,r=(r=r+Math.imul(A,tt)|0)+Math.imul(k,J)|0,s=s+Math.imul(k,tt)|0,n=n+Math.imul(w,it)|0,r=(r=r+Math.imul(w,nt)|0)+Math.imul(_,it)|0,s=s+Math.imul(_,nt)|0,n=n+Math.imul(v,st)|0,r=(r=r+Math.imul(v,ot)|0)+Math.imul(y,st)|0,s=s+Math.imul(y,ot)|0,n=n+Math.imul(p,ht)|0,r=(r=r+Math.imul(p,ut)|0)+Math.imul(m,ht)|0,s=s+Math.imul(m,ut)|0;var kt=(u+(n=n+Math.imul(c,ct)|0)|0)+((8191&(r=(r=r+Math.imul(c,dt)|0)+Math.imul(d,ct)|0))<<13)|0;u=((s=s+Math.imul(d,dt)|0)+(r>>>13)|0)+(kt>>>26)|0,kt&=67108863,n=Math.imul(P,j),r=(r=Math.imul(P,z))+Math.imul(U,j)|0,s=Math.imul(U,z),n=n+Math.imul(D,H)|0,r=(r=r+Math.imul(D,K)|0)+Math.imul(O,H)|0,s=s+Math.imul(O,K)|0,n=n+Math.imul(C,W)|0,r=(r=r+Math.imul(C,Q)|0)+Math.imul(N,W)|0,s=s+Math.imul(N,Q)|0,n=n+Math.imul(I,Z)|0,r=(r=r+Math.imul(I,Y)|0)+Math.imul(q,Z)|0,s=s+Math.imul(q,Y)|0,n=n+Math.imul(x,J)|0,r=(r=r+Math.imul(x,tt)|0)+Math.imul(S,J)|0,s=s+Math.imul(S,tt)|0,n=n+Math.imul(A,it)|0,r=(r=r+Math.imul(A,nt)|0)+Math.imul(k,it)|0,s=s+Math.imul(k,nt)|0,n=n+Math.imul(w,st)|0,r=(r=r+Math.imul(w,ot)|0)+Math.imul(_,st)|0,s=s+Math.imul(_,ot)|0,n=n+Math.imul(v,ht)|0,r=(r=r+Math.imul(v,ut)|0)+Math.imul(y,ht)|0,s=s+Math.imul(y,ut)|0,n=n+Math.imul(p,ct)|0,r=(r=r+Math.imul(p,dt)|0)+Math.imul(m,ct)|0,s=s+Math.imul(m,dt)|0;var Et=(u+(n=n+Math.imul(c,pt)|0)|0)+((8191&(r=(r=r+Math.imul(c,mt)|0)+Math.imul(d,pt)|0))<<13)|0;u=((s=s+Math.imul(d,mt)|0)+(r>>>13)|0)+(Et>>>26)|0,Et&=67108863,n=Math.imul(P,H),r=(r=Math.imul(P,K))+Math.imul(U,H)|0,s=Math.imul(U,K),n=n+Math.imul(D,W)|0,r=(r=r+Math.imul(D,Q)|0)+Math.imul(O,W)|0,s=s+Math.imul(O,Q)|0,n=n+Math.imul(C,Z)|0,r=(r=r+Math.imul(C,Y)|0)+Math.imul(N,Z)|0,s=s+Math.imul(N,Y)|0,n=n+Math.imul(I,J)|0,r=(r=r+Math.imul(I,tt)|0)+Math.imul(q,J)|0,s=s+Math.imul(q,tt)|0,n=n+Math.imul(x,it)|0,r=(r=r+Math.imul(x,nt)|0)+Math.imul(S,it)|0,s=s+Math.imul(S,nt)|0,n=n+Math.imul(A,st)|0,r=(r=r+Math.imul(A,ot)|0)+Math.imul(k,st)|0,s=s+Math.imul(k,ot)|0,n=n+Math.imul(w,ht)|0,r=(r=r+Math.imul(w,ut)|0)+Math.imul(_,ht)|0,s=s+Math.imul(_,ut)|0,n=n+Math.imul(v,ct)|0,r=(r=r+Math.imul(v,dt)|0)+Math.imul(y,ct)|0,s=s+Math.imul(y,dt)|0;var xt=(u+(n=n+Math.imul(p,pt)|0)|0)+((8191&(r=(r=r+Math.imul(p,mt)|0)+Math.imul(m,pt)|0))<<13)|0;u=((s=s+Math.imul(m,mt)|0)+(r>>>13)|0)+(xt>>>26)|0,xt&=67108863,n=Math.imul(P,W),r=(r=Math.imul(P,Q))+Math.imul(U,W)|0,s=Math.imul(U,Q),n=n+Math.imul(D,Z)|0,r=(r=r+Math.imul(D,Y)|0)+Math.imul(O,Z)|0,s=s+Math.imul(O,Y)|0,n=n+Math.imul(C,J)|0,r=(r=r+Math.imul(C,tt)|0)+Math.imul(N,J)|0,s=s+Math.imul(N,tt)|0,n=n+Math.imul(I,it)|0,r=(r=r+Math.imul(I,nt)|0)+Math.imul(q,it)|0,s=s+Math.imul(q,nt)|0,n=n+Math.imul(x,st)|0,r=(r=r+Math.imul(x,ot)|0)+Math.imul(S,st)|0,s=s+Math.imul(S,ot)|0,n=n+Math.imul(A,ht)|0,r=(r=r+Math.imul(A,ut)|0)+Math.imul(k,ht)|0,s=s+Math.imul(k,ut)|0,n=n+Math.imul(w,ct)|0,r=(r=r+Math.imul(w,dt)|0)+Math.imul(_,ct)|0,s=s+Math.imul(_,dt)|0;var St=(u+(n=n+Math.imul(v,pt)|0)|0)+((8191&(r=(r=r+Math.imul(v,mt)|0)+Math.imul(y,pt)|0))<<13)|0;u=((s=s+Math.imul(y,mt)|0)+(r>>>13)|0)+(St>>>26)|0,St&=67108863,n=Math.imul(P,Z),r=(r=Math.imul(P,Y))+Math.imul(U,Z)|0,s=Math.imul(U,Y),n=n+Math.imul(D,J)|0,r=(r=r+Math.imul(D,tt)|0)+Math.imul(O,J)|0,s=s+Math.imul(O,tt)|0,n=n+Math.imul(C,it)|0,r=(r=r+Math.imul(C,nt)|0)+Math.imul(N,it)|0,s=s+Math.imul(N,nt)|0,n=n+Math.imul(I,st)|0,r=(r=r+Math.imul(I,ot)|0)+Math.imul(q,st)|0,s=s+Math.imul(q,ot)|0,n=n+Math.imul(x,ht)|0,r=(r=r+Math.imul(x,ut)|0)+Math.imul(S,ht)|0,s=s+Math.imul(S,ut)|0,n=n+Math.imul(A,ct)|0,r=(r=r+Math.imul(A,dt)|0)+Math.imul(k,ct)|0,s=s+Math.imul(k,dt)|0;var Tt=(u+(n=n+Math.imul(w,pt)|0)|0)+((8191&(r=(r=r+Math.imul(w,mt)|0)+Math.imul(_,pt)|0))<<13)|0;u=((s=s+Math.imul(_,mt)|0)+(r>>>13)|0)+(Tt>>>26)|0,Tt&=67108863,n=Math.imul(P,J),r=(r=Math.imul(P,tt))+Math.imul(U,J)|0,s=Math.imul(U,tt),n=n+Math.imul(D,it)|0,r=(r=r+Math.imul(D,nt)|0)+Math.imul(O,it)|0,s=s+Math.imul(O,nt)|0,n=n+Math.imul(C,st)|0,r=(r=r+Math.imul(C,ot)|0)+Math.imul(N,st)|0,s=s+Math.imul(N,ot)|0,n=n+Math.imul(I,ht)|0,r=(r=r+Math.imul(I,ut)|0)+Math.imul(q,ht)|0,s=s+Math.imul(q,ut)|0,n=n+Math.imul(x,ct)|0,r=(r=r+Math.imul(x,dt)|0)+Math.imul(S,ct)|0,s=s+Math.imul(S,dt)|0;var It=(u+(n=n+Math.imul(A,pt)|0)|0)+((8191&(r=(r=r+Math.imul(A,mt)|0)+Math.imul(k,pt)|0))<<13)|0;u=((s=s+Math.imul(k,mt)|0)+(r>>>13)|0)+(It>>>26)|0,It&=67108863,n=Math.imul(P,it),r=(r=Math.imul(P,nt))+Math.imul(U,it)|0,s=Math.imul(U,nt),n=n+Math.imul(D,st)|0,r=(r=r+Math.imul(D,ot)|0)+Math.imul(O,st)|0,s=s+Math.imul(O,ot)|0,n=n+Math.imul(C,ht)|0,r=(r=r+Math.imul(C,ut)|0)+Math.imul(N,ht)|0,s=s+Math.imul(N,ut)|0,n=n+Math.imul(I,ct)|0,r=(r=r+Math.imul(I,dt)|0)+Math.imul(q,ct)|0,s=s+Math.imul(q,dt)|0;var qt=(u+(n=n+Math.imul(x,pt)|0)|0)+((8191&(r=(r=r+Math.imul(x,mt)|0)+Math.imul(S,pt)|0))<<13)|0;u=((s=s+Math.imul(S,mt)|0)+(r>>>13)|0)+(qt>>>26)|0,qt&=67108863,n=Math.imul(P,st),r=(r=Math.imul(P,ot))+Math.imul(U,st)|0,s=Math.imul(U,ot),n=n+Math.imul(D,ht)|0,r=(r=r+Math.imul(D,ut)|0)+Math.imul(O,ht)|0,s=s+Math.imul(O,ut)|0,n=n+Math.imul(C,ct)|0,r=(r=r+Math.imul(C,dt)|0)+Math.imul(N,ct)|0,s=s+Math.imul(N,dt)|0;var Rt=(u+(n=n+Math.imul(I,pt)|0)|0)+((8191&(r=(r=r+Math.imul(I,mt)|0)+Math.imul(q,pt)|0))<<13)|0;u=((s=s+Math.imul(q,mt)|0)+(r>>>13)|0)+(Rt>>>26)|0,Rt&=67108863,n=Math.imul(P,ht),r=(r=Math.imul(P,ut))+Math.imul(U,ht)|0,s=Math.imul(U,ut),n=n+Math.imul(D,ct)|0,r=(r=r+Math.imul(D,dt)|0)+Math.imul(O,ct)|0,s=s+Math.imul(O,dt)|0;var Ct=(u+(n=n+Math.imul(C,pt)|0)|0)+((8191&(r=(r=r+Math.imul(C,mt)|0)+Math.imul(N,pt)|0))<<13)|0;u=((s=s+Math.imul(N,mt)|0)+(r>>>13)|0)+(Ct>>>26)|0,Ct&=67108863,n=Math.imul(P,ct),r=(r=Math.imul(P,dt))+Math.imul(U,ct)|0,s=Math.imul(U,dt);var Nt=(u+(n=n+Math.imul(D,pt)|0)|0)+((8191&(r=(r=r+Math.imul(D,mt)|0)+Math.imul(O,pt)|0))<<13)|0;u=((s=s+Math.imul(O,mt)|0)+(r>>>13)|0)+(Nt>>>26)|0,Nt&=67108863;var Lt=(u+(n=Math.imul(P,pt))|0)+((8191&(r=(r=Math.imul(P,mt))+Math.imul(U,pt)|0))<<13)|0;return u=((s=Math.imul(U,mt))+(r>>>13)|0)+(Lt>>>26)|0,Lt&=67108863,h[0]=gt,h[1]=vt,h[2]=yt,h[3]=bt,h[4]=wt,h[5]=_t,h[6]=Mt,h[7]=At,h[8]=kt,h[9]=Et,h[10]=xt,h[11]=St,h[12]=Tt,h[13]=It,h[14]=qt,h[15]=Rt,h[16]=Ct,h[17]=Nt,h[18]=Lt,0!==u&&(h[19]=u,i.length++),i};function m(t,e,i){return(new g).mulp(t,e,i)}function g(t,e){this.x=t,this.y=e}Math.imul||(p=f),s.prototype.mulTo=function(t,e){var i,n=this.length+t.length;return i=10===this.length&&10===t.length?p(this,t,e):n<63?f(this,t,e):n<1024?function(t,e,i){i.negative=e.negative^t.negative,i.length=t.length+e.length;for(var n=0,r=0,s=0;s<i.length-1;s++){var o=r;r=0;for(var a=67108863&n,h=Math.min(s,e.length-1),u=Math.max(0,s-t.length+1);u<=h;u++){var l=s-u,c=(0|t.words[l])*(0|e.words[u]),d=67108863&c;a=67108863&(d=d+a|0),r+=(o=(o=o+(c/67108864|0)|0)+(d>>>26)|0)>>>26,o&=67108863}i.words[s]=a,n=o,o=r}return 0!==n?i.words[s]=n:i.length--,i.strip()}(this,t,e):m(this,t,e),i},g.prototype.makeRBT=function(t){for(var e=new Array(t),i=s.prototype._countBits(t)-1,n=0;n<t;n++)e[n]=this.revBin(n,i,t);return e},g.prototype.revBin=function(t,e,i){if(0===t||t===i-1)return t;for(var n=0,r=0;r<e;r++)n|=(1&t)<<e-r-1,t>>=1;return n},g.prototype.permute=function(t,e,i,n,r,s){for(var o=0;o<s;o++)n[o]=e[t[o]],r[o]=i[t[o]]},g.prototype.transform=function(t,e,i,n,r,s){this.permute(s,t,e,i,n,r);for(var o=1;o<r;o<<=1)for(var a=o<<1,h=Math.cos(2*Math.PI/a),u=Math.sin(2*Math.PI/a),l=0;l<r;l+=a)for(var c=h,d=u,f=0;f<o;f++){var p=i[l+f],m=n[l+f],g=i[l+f+o],v=n[l+f+o],y=c*g-d*v;v=c*v+d*g,g=y,i[l+f]=p+g,n[l+f]=m+v,i[l+f+o]=p-g,n[l+f+o]=m-v,f!==a&&(y=h*c-u*d,d=h*d+u*c,c=y)}},g.prototype.guessLen13b=function(t,e){var i=1|Math.max(e,t),n=1&i,r=0;for(i=i/2|0;i;i>>>=1)r++;return 1<<r+1+n},g.prototype.conjugate=function(t,e,i){if(!(i<=1))for(var n=0;n<i/2;n++){var r=t[n];t[n]=t[i-n-1],t[i-n-1]=r,r=e[n],e[n]=-e[i-n-1],e[i-n-1]=-r}},g.prototype.normalize13b=function(t,e){for(var i=0,n=0;n<e/2;n++){var r=8192*Math.round(t[2*n+1]/e)+Math.round(t[2*n]/e)+i;t[n]=67108863&r,i=r<67108864?0:r/67108864|0}return t},g.prototype.convert13b=function(t,e,n,r){for(var s=0,o=0;o<e;o++)s+=0|t[o],n[2*o]=8191&s,s>>>=13,n[2*o+1]=8191&s,s>>>=13;for(o=2*e;o<r;++o)n[o]=0;i(0===s),i(0==(-8192&s))},g.prototype.stub=function(t){for(var e=new Array(t),i=0;i<t;i++)e[i]=0;return e},g.prototype.mulp=function(t,e,i){var n=2*this.guessLen13b(t.length,e.length),r=this.makeRBT(n),s=this.stub(n),o=new Array(n),a=new Array(n),h=new Array(n),u=new Array(n),l=new Array(n),c=new Array(n),d=i.words;d.length=n,this.convert13b(t.words,t.length,o,n),this.convert13b(e.words,e.length,u,n),this.transform(o,s,a,h,n,r),this.transform(u,s,l,c,n,r);for(var f=0;f<n;f++){var p=a[f]*l[f]-h[f]*c[f];h[f]=a[f]*c[f]+h[f]*l[f],a[f]=p}return this.conjugate(a,h,n),this.transform(a,h,d,s,n,r),this.conjugate(d,s,n),this.normalize13b(d,n),i.negative=t.negative^e.negative,i.length=t.length+e.length,i.strip()},s.prototype.mul=function(t){var e=new s(null);return e.words=new Array(this.length+t.length),this.mulTo(t,e)},s.prototype.mulf=function(t){var e=new s(null);return e.words=new Array(this.length+t.length),m(this,t,e)},s.prototype.imul=function(t){return this.clone().mulTo(t,this)},s.prototype.imuln=function(t){i("number"==typeof t),i(t<67108864);for(var e=0,n=0;n<this.length;n++){var r=(0|this.words[n])*t,s=(67108863&r)+(67108863&e);e>>=26,e+=r/67108864|0,e+=s>>>26,this.words[n]=67108863&s}return 0!==e&&(this.words[n]=e,this.length++),this},s.prototype.muln=function(t){return this.clone().imuln(t)},s.prototype.sqr=function(){return this.mul(this)},s.prototype.isqr=function(){return this.imul(this.clone())},s.prototype.pow=function(t){var e=function(t){for(var e=new Array(t.bitLength()),i=0;i<e.length;i++){var n=i/26|0,r=i%26;e[i]=(t.words[n]&1<<r)>>>r}return e}(t);if(0===e.length)return new s(1);for(var i=this,n=0;n<e.length&&0===e[n];n++,i=i.sqr());if(++n<e.length)for(var r=i.sqr();n<e.length;n++,r=r.sqr())0!==e[n]&&(i=i.mul(r));return i},s.prototype.iushln=function(t){i("number"==typeof t&&t>=0);var e,n=t%26,r=(t-n)/26,s=67108863>>>26-n<<26-n;if(0!==n){var o=0;for(e=0;e<this.length;e++){var a=this.words[e]&s,h=(0|this.words[e])-a<<n;this.words[e]=h|o,o=a>>>26-n}o&&(this.words[e]=o,this.length++)}if(0!==r){for(e=this.length-1;e>=0;e--)this.words[e+r]=this.words[e];for(e=0;e<r;e++)this.words[e]=0;this.length+=r}return this.strip()},s.prototype.ishln=function(t){return i(0===this.negative),this.iushln(t)},s.prototype.iushrn=function(t,e,n){var r;i("number"==typeof t&&t>=0),r=e?(e-e%26)/26:0;var s=t%26,o=Math.min((t-s)/26,this.length),a=67108863^67108863>>>s<<s,h=n;if(r-=o,r=Math.max(0,r),h){for(var u=0;u<o;u++)h.words[u]=this.words[u];h.length=o}if(0===o);else if(this.length>o)for(this.length-=o,u=0;u<this.length;u++)this.words[u]=this.words[u+o];else this.words[0]=0,this.length=1;var l=0;for(u=this.length-1;u>=0&&(0!==l||u>=r);u--){var c=0|this.words[u];this.words[u]=l<<26-s|c>>>s,l=c&a}return h&&0!==l&&(h.words[h.length++]=l),0===this.length&&(this.words[0]=0,this.length=1),this.strip()},s.prototype.ishrn=function(t,e,n){return i(0===this.negative),this.iushrn(t,e,n)},s.prototype.shln=function(t){return this.clone().ishln(t)},s.prototype.ushln=function(t){return this.clone().iushln(t)},s.prototype.shrn=function(t){return this.clone().ishrn(t)},s.prototype.ushrn=function(t){return this.clone().iushrn(t)},s.prototype.testn=function(t){i("number"==typeof t&&t>=0);var e=t%26,n=(t-e)/26,r=1<<e;return!(this.length<=n)&&!!(this.words[n]&r)},s.prototype.imaskn=function(t){i("number"==typeof t&&t>=0);var e=t%26,n=(t-e)/26;if(i(0===this.negative,"imaskn works only with positive numbers"),this.length<=n)return this;if(0!==e&&n++,this.length=Math.min(n,this.length),0!==e){var r=67108863^67108863>>>e<<e;this.words[this.length-1]&=r}return this.strip()},s.prototype.maskn=function(t){return this.clone().imaskn(t)},s.prototype.iaddn=function(t){return i("number"==typeof t),i(t<67108864),t<0?this.isubn(-t):0!==this.negative?1===this.length&&(0|this.words[0])<t?(this.words[0]=t-(0|this.words[0]),this.negative=0,this):(this.negative=0,this.isubn(t),this.negative=1,this):this._iaddn(t)},s.prototype._iaddn=function(t){this.words[0]+=t;for(var e=0;e<this.length&&this.words[e]>=67108864;e++)this.words[e]-=67108864,e===this.length-1?this.words[e+1]=1:this.words[e+1]++;return this.length=Math.max(this.length,e+1),this},s.prototype.isubn=function(t){if(i("number"==typeof t),i(t<67108864),t<0)return this.iaddn(-t);if(0!==this.negative)return this.negative=0,this.iaddn(t),this.negative=1,this;if(this.words[0]-=t,1===this.length&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var e=0;e<this.length&&this.words[e]<0;e++)this.words[e]+=67108864,this.words[e+1]-=1;return this.strip()},s.prototype.addn=function(t){return this.clone().iaddn(t)},s.prototype.subn=function(t){return this.clone().isubn(t)},s.prototype.iabs=function(){return this.negative=0,this},s.prototype.abs=function(){return this.clone().iabs()},s.prototype._ishlnsubmul=function(t,e,n){var r,s,o=t.length+n;this._expand(o);var a=0;for(r=0;r<t.length;r++){s=(0|this.words[r+n])+a;var h=(0|t.words[r])*e;a=((s-=67108863&h)>>26)-(h/67108864|0),this.words[r+n]=67108863&s}for(;r<this.length-n;r++)a=(s=(0|this.words[r+n])+a)>>26,this.words[r+n]=67108863&s;if(0===a)return this.strip();for(i(-1===a),a=0,r=0;r<this.length;r++)a=(s=-(0|this.words[r])+a)>>26,this.words[r]=67108863&s;return this.negative=1,this.strip()},s.prototype._wordDiv=function(t,e){var i=(this.length,t.length),n=this.clone(),r=t,o=0|r.words[r.length-1];0!==(i=26-this._countBits(o))&&(r=r.ushln(i),n.iushln(i),o=0|r.words[r.length-1]);var a,h=n.length-r.length;if("mod"!==e){(a=new s(null)).length=h+1,a.words=new Array(a.length);for(var u=0;u<a.length;u++)a.words[u]=0}var l=n.clone()._ishlnsubmul(r,1,h);0===l.negative&&(n=l,a&&(a.words[h]=1));for(var c=h-1;c>=0;c--){var d=67108864*(0|n.words[r.length+c])+(0|n.words[r.length+c-1]);for(d=Math.min(d/o|0,67108863),n._ishlnsubmul(r,d,c);0!==n.negative;)d--,n.negative=0,n._ishlnsubmul(r,1,c),n.isZero()||(n.negative^=1);a&&(a.words[c]=d)}return a&&a.strip(),n.strip(),"div"!==e&&0!==i&&n.iushrn(i),{div:a||null,mod:n}},s.prototype.divmod=function(t,e,n){return i(!t.isZero()),this.isZero()?{div:new s(0),mod:new s(0)}:0!==this.negative&&0===t.negative?(a=this.neg().divmod(t,e),"mod"!==e&&(r=a.div.neg()),"div"!==e&&(o=a.mod.neg(),n&&0!==o.negative&&o.iadd(t)),{div:r,mod:o}):0===this.negative&&0!==t.negative?(a=this.divmod(t.neg(),e),"mod"!==e&&(r=a.div.neg()),{div:r,mod:a.mod}):0!=(this.negative&t.negative)?(a=this.neg().divmod(t.neg(),e),"div"!==e&&(o=a.mod.neg(),n&&0!==o.negative&&o.isub(t)),{div:a.div,mod:o}):t.length>this.length||this.cmp(t)<0?{div:new s(0),mod:this}:1===t.length?"div"===e?{div:this.divn(t.words[0]),mod:null}:"mod"===e?{div:null,mod:new s(this.modn(t.words[0]))}:{div:this.divn(t.words[0]),mod:new s(this.modn(t.words[0]))}:this._wordDiv(t,e);var r,o,a},s.prototype.div=function(t){return this.divmod(t,"div",!1).div},s.prototype.mod=function(t){return this.divmod(t,"mod",!1).mod},s.prototype.umod=function(t){return this.divmod(t,"mod",!0).mod},s.prototype.divRound=function(t){var e=this.divmod(t);if(e.mod.isZero())return e.div;var i=0!==e.div.negative?e.mod.isub(t):e.mod,n=t.ushrn(1),r=t.andln(1),s=i.cmp(n);return s<0||1===r&&0===s?e.div:0!==e.div.negative?e.div.isubn(1):e.div.iaddn(1)},s.prototype.modn=function(t){i(t<=67108863);for(var e=67108864%t,n=0,r=this.length-1;r>=0;r--)n=(e*n+(0|this.words[r]))%t;return n},s.prototype.idivn=function(t){i(t<=67108863);for(var e=0,n=this.length-1;n>=0;n--){var r=(0|this.words[n])+67108864*e;this.words[n]=r/t|0,e=r%t}return this.strip()},s.prototype.divn=function(t){return this.clone().idivn(t)},s.prototype.egcd=function(t){i(0===t.negative),i(!t.isZero());var e=this,n=t.clone();e=0!==e.negative?e.umod(t):e.clone();for(var r=new s(1),o=new s(0),a=new s(0),h=new s(1),u=0;e.isEven()&&n.isEven();)e.iushrn(1),n.iushrn(1),++u;for(var l=n.clone(),c=e.clone();!e.isZero();){for(var d=0,f=1;0==(e.words[0]&f)&&d<26;++d,f<<=1);if(d>0)for(e.iushrn(d);d-- >0;)(r.isOdd()||o.isOdd())&&(r.iadd(l),o.isub(c)),r.iushrn(1),o.iushrn(1);for(var p=0,m=1;0==(n.words[0]&m)&&p<26;++p,m<<=1);if(p>0)for(n.iushrn(p);p-- >0;)(a.isOdd()||h.isOdd())&&(a.iadd(l),h.isub(c)),a.iushrn(1),h.iushrn(1);e.cmp(n)>=0?(e.isub(n),r.isub(a),o.isub(h)):(n.isub(e),a.isub(r),h.isub(o))}return{a:a,b:h,gcd:n.iushln(u)}},s.prototype._invmp=function(t){i(0===t.negative),i(!t.isZero());var e=this,n=t.clone();e=0!==e.negative?e.umod(t):e.clone();for(var r,o=new s(1),a=new s(0),h=n.clone();e.cmpn(1)>0&&n.cmpn(1)>0;){for(var u=0,l=1;0==(e.words[0]&l)&&u<26;++u,l<<=1);if(u>0)for(e.iushrn(u);u-- >0;)o.isOdd()&&o.iadd(h),o.iushrn(1);for(var c=0,d=1;0==(n.words[0]&d)&&c<26;++c,d<<=1);if(c>0)for(n.iushrn(c);c-- >0;)a.isOdd()&&a.iadd(h),a.iushrn(1);e.cmp(n)>=0?(e.isub(n),o.isub(a)):(n.isub(e),a.isub(o))}return(r=0===e.cmpn(1)?o:a).cmpn(0)<0&&r.iadd(t),r},s.prototype.gcd=function(t){if(this.isZero())return t.abs();if(t.isZero())return this.abs();var e=this.clone(),i=t.clone();e.negative=0,i.negative=0;for(var n=0;e.isEven()&&i.isEven();n++)e.iushrn(1),i.iushrn(1);for(;;){for(;e.isEven();)e.iushrn(1);for(;i.isEven();)i.iushrn(1);var r=e.cmp(i);if(r<0){var s=e;e=i,i=s}else if(0===r||0===i.cmpn(1))break;e.isub(i)}return i.iushln(n)},s.prototype.invm=function(t){return this.egcd(t).a.umod(t)},s.prototype.isEven=function(){return 0==(1&this.words[0])},s.prototype.isOdd=function(){return 1==(1&this.words[0])},s.prototype.andln=function(t){return this.words[0]&t},s.prototype.bincn=function(t){i("number"==typeof t);var e=t%26,n=(t-e)/26,r=1<<e;if(this.length<=n)return this._expand(n+1),this.words[n]|=r,this;for(var s=r,o=n;0!==s&&o<this.length;o++){var a=0|this.words[o];s=(a+=s)>>>26,a&=67108863,this.words[o]=a}return 0!==s&&(this.words[o]=s,this.length++),this},s.prototype.isZero=function(){return 1===this.length&&0===this.words[0]},s.prototype.cmpn=function(t){var e,n=t<0;if(0!==this.negative&&!n)return-1;if(0===this.negative&&n)return 1;if(this.strip(),this.length>1)e=1;else{n&&(t=-t),i(t<=67108863,"Number is too big");var r=0|this.words[0];e=r===t?0:r<t?-1:1}return 0!==this.negative?0|-e:e},s.prototype.cmp=function(t){if(0!==this.negative&&0===t.negative)return-1;if(0===this.negative&&0!==t.negative)return 1;var e=this.ucmp(t);return 0!==this.negative?0|-e:e},s.prototype.ucmp=function(t){if(this.length>t.length)return 1;if(this.length<t.length)return-1;for(var e=0,i=this.length-1;i>=0;i--){var n=0|this.words[i],r=0|t.words[i];if(n!==r){n<r?e=-1:n>r&&(e=1);break}}return e},s.prototype.gtn=function(t){return 1===this.cmpn(t)},s.prototype.gt=function(t){return 1===this.cmp(t)},s.prototype.gten=function(t){return this.cmpn(t)>=0},s.prototype.gte=function(t){return this.cmp(t)>=0},s.prototype.ltn=function(t){return-1===this.cmpn(t)},s.prototype.lt=function(t){return-1===this.cmp(t)},s.prototype.lten=function(t){return this.cmpn(t)<=0},s.prototype.lte=function(t){return this.cmp(t)<=0},s.prototype.eqn=function(t){return 0===this.cmpn(t)},s.prototype.eq=function(t){return 0===this.cmp(t)},s.red=function(t){return new A(t)},s.prototype.toRed=function(t){return i(!this.red,"Already a number in reduction context"),i(0===this.negative,"red works only with positives"),t.convertTo(this)._forceRed(t)},s.prototype.fromRed=function(){return i(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},s.prototype._forceRed=function(t){return this.red=t,this},s.prototype.forceRed=function(t){return i(!this.red,"Already a number in reduction context"),this._forceRed(t)},s.prototype.redAdd=function(t){return i(this.red,"redAdd works only with red numbers"),this.red.add(this,t)},s.prototype.redIAdd=function(t){return i(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,t)},s.prototype.redSub=function(t){return i(this.red,"redSub works only with red numbers"),this.red.sub(this,t)},s.prototype.redISub=function(t){return i(this.red,"redISub works only with red numbers"),this.red.isub(this,t)},s.prototype.redShl=function(t){return i(this.red,"redShl works only with red numbers"),this.red.shl(this,t)},s.prototype.redMul=function(t){return i(this.red,"redMul works only with red numbers"),this.red._verify2(this,t),this.red.mul(this,t)},s.prototype.redIMul=function(t){return i(this.red,"redMul works only with red numbers"),this.red._verify2(this,t),this.red.imul(this,t)},s.prototype.redSqr=function(){return i(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},s.prototype.redISqr=function(){return i(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},s.prototype.redSqrt=function(){return i(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},s.prototype.redInvm=function(){return i(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},s.prototype.redNeg=function(){return i(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},s.prototype.redPow=function(t){return i(this.red&&!t.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,t)};var v={k256:null,p224:null,p192:null,p25519:null};function y(t,e){this.name=t,this.p=new s(e,16),this.n=this.p.bitLength(),this.k=new s(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}function b(){y.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}function w(){y.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}function _(){y.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}function M(){y.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}function A(t){if("string"==typeof t){var e=s._prime(t);this.m=e.p,this.prime=e}else i(t.gtn(1),"modulus must be greater than 1"),this.m=t,this.prime=null}function k(t){A.call(this,t),this.shift=this.m.bitLength(),this.shift%26!=0&&(this.shift+=26-this.shift%26),this.r=new s(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}y.prototype._tmp=function(){var t=new s(null);return t.words=new Array(Math.ceil(this.n/13)),t},y.prototype.ireduce=function(t){var e,i=t;do{this.split(i,this.tmp),e=(i=(i=this.imulK(i)).iadd(this.tmp)).bitLength()}while(e>this.n);var n=e<this.n?-1:i.ucmp(this.p);return 0===n?(i.words[0]=0,i.length=1):n>0?i.isub(this.p):void 0!==i.strip?i.strip():i._strip(),i},y.prototype.split=function(t,e){t.iushrn(this.n,0,e)},y.prototype.imulK=function(t){return t.imul(this.k)},n(b,y),b.prototype.split=function(t,e){for(var i=4194303,n=Math.min(t.length,9),r=0;r<n;r++)e.words[r]=t.words[r];if(e.length=n,t.length<=9)return t.words[0]=0,void(t.length=1);var s=t.words[9];for(e.words[e.length++]=s&i,r=10;r<t.length;r++){var o=0|t.words[r];t.words[r-10]=(o&i)<<4|s>>>22,s=o}s>>>=22,t.words[r-10]=s,0===s&&t.length>10?t.length-=10:t.length-=9},b.prototype.imulK=function(t){t.words[t.length]=0,t.words[t.length+1]=0,t.length+=2;for(var e=0,i=0;i<t.length;i++){var n=0|t.words[i];e+=977*n,t.words[i]=67108863&e,e=64*n+(e/67108864|0)}return 0===t.words[t.length-1]&&(t.length--,0===t.words[t.length-1]&&t.length--),t},n(w,y),n(_,y),n(M,y),M.prototype.imulK=function(t){for(var e=0,i=0;i<t.length;i++){var n=19*(0|t.words[i])+e,r=67108863&n;n>>>=26,t.words[i]=r,e=n}return 0!==e&&(t.words[t.length++]=e),t},s._prime=function(t){if(v[t])return v[t];var e;if("k256"===t)e=new b;else if("p224"===t)e=new w;else if("p192"===t)e=new _;else{if("p25519"!==t)throw new Error("Unknown prime "+t);e=new M}return v[t]=e,e},A.prototype._verify1=function(t){i(0===t.negative,"red works only with positives"),i(t.red,"red works only with red numbers")},A.prototype._verify2=function(t,e){i(0==(t.negative|e.negative),"red works only with positives"),i(t.red&&t.red===e.red,"red works only with red numbers")},A.prototype.imod=function(t){return this.prime?this.prime.ireduce(t)._forceRed(this):t.umod(this.m)._forceRed(this)},A.prototype.neg=function(t){return t.isZero()?t.clone():this.m.sub(t)._forceRed(this)},A.prototype.add=function(t,e){this._verify2(t,e);var i=t.add(e);return i.cmp(this.m)>=0&&i.isub(this.m),i._forceRed(this)},A.prototype.iadd=function(t,e){this._verify2(t,e);var i=t.iadd(e);return i.cmp(this.m)>=0&&i.isub(this.m),i},A.prototype.sub=function(t,e){this._verify2(t,e);var i=t.sub(e);return i.cmpn(0)<0&&i.iadd(this.m),i._forceRed(this)},A.prototype.isub=function(t,e){this._verify2(t,e);var i=t.isub(e);return i.cmpn(0)<0&&i.iadd(this.m),i},A.prototype.shl=function(t,e){return this._verify1(t),this.imod(t.ushln(e))},A.prototype.imul=function(t,e){return this._verify2(t,e),this.imod(t.imul(e))},A.prototype.mul=function(t,e){return this._verify2(t,e),this.imod(t.mul(e))},A.prototype.isqr=function(t){return this.imul(t,t.clone())},A.prototype.sqr=function(t){return this.mul(t,t)},A.prototype.sqrt=function(t){if(t.isZero())return t.clone();var e=this.m.andln(3);if(i(e%2==1),3===e){var n=this.m.add(new s(1)).iushrn(2);return this.pow(t,n)}for(var r=this.m.subn(1),o=0;!r.isZero()&&0===r.andln(1);)o++,r.iushrn(1);i(!r.isZero());var a=new s(1).toRed(this),h=a.redNeg(),u=this.m.subn(1).iushrn(1),l=this.m.bitLength();for(l=new s(2*l*l).toRed(this);0!==this.pow(l,u).cmp(h);)l.redIAdd(h);for(var c=this.pow(l,r),d=this.pow(t,r.addn(1).iushrn(1)),f=this.pow(t,r),p=o;0!==f.cmp(a);){for(var m=f,g=0;0!==m.cmp(a);g++)m=m.redSqr();i(g<p);var v=this.pow(c,new s(1).iushln(p-g-1));d=d.redMul(v),c=v.redSqr(),f=f.redMul(c),p=g}return d},A.prototype.invm=function(t){var e=t._invmp(this.m);return 0!==e.negative?(e.negative=0,this.imod(e).redNeg()):this.imod(e)},A.prototype.pow=function(t,e){if(e.isZero())return new s(1).toRed(this);if(0===e.cmpn(1))return t.clone();var i=new Array(16);i[0]=new s(1).toRed(this),i[1]=t;for(var n=2;n<i.length;n++)i[n]=this.mul(i[n-1],t);var r=i[0],o=0,a=0,h=e.bitLength()%26;for(0===h&&(h=26),n=e.length-1;n>=0;n--){for(var u=e.words[n],l=h-1;l>=0;l--){var c=u>>l&1;r!==i[0]&&(r=this.sqr(r)),0!==c||0!==o?(o<<=1,o|=c,(4===++a||0===n&&0===l)&&(r=this.mul(r,i[o]),a=0,o=0)):a=0}h=26}return r},A.prototype.convertTo=function(t){var e=t.umod(this.m);return e===t?e.clone():e},A.prototype.convertFrom=function(t){var e=t.clone();return e.red=null,e},s.mont=function(t){return new k(t)},n(k,A),k.prototype.convertTo=function(t){return this.imod(t.ushln(this.shift))},k.prototype.convertFrom=function(t){var e=this.imod(t.mul(this.rinv));return e.red=null,e},k.prototype.imul=function(t,e){if(t.isZero()||e.isZero())return t.words[0]=0,t.length=1,t;var i=t.imul(e),n=i.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),r=i.isub(n).iushrn(this.shift),s=r;return r.cmp(this.m)>=0?s=r.isub(this.m):r.cmpn(0)<0&&(s=r.iadd(this.m)),s._forceRed(this)},k.prototype.mul=function(t,e){if(t.isZero()||e.isZero())return new s(0)._forceRed(this);var i=t.mul(e),n=i.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),r=i.isub(n).iushrn(this.shift),o=r;return r.cmp(this.m)>=0?o=r.isub(this.m):r.cmpn(0)<0&&(o=r.iadd(this.m)),o._forceRed(this)},k.prototype.invm=function(t){return this.imod(t._invmp(this.m).mul(this.r2))._forceRed(this)}}(t,this)})),r.register("aslIH",(function(t,e){var i=r("aaDqI"),n=r("8KdoP"),s=r("bniia");function o(t,e){this.name=t,this.body=e,this.decoders={},this.encoders={}}t.exports.define=function(t,e){return new o(t,e)},o.prototype._createNamed=function(t){const e=this.name;function i(t){this._initNamed(t,e)}return s(i,t),i.prototype._initNamed=function(e,i){t.call(this,e,i)},new i(this)},o.prototype._getDecoder=function(t){return t=t||"der",this.decoders.hasOwnProperty(t)||(this.decoders[t]=this._createNamed(n[t])),this.decoders[t]},o.prototype.decode=function(t,e,i){return this._getDecoder(e).decode(t,i)},o.prototype._getEncoder=function(t){return t=t||"der",this.encoders.hasOwnProperty(t)||(this.encoders[t]=this._createNamed(i[t])),this.encoders[t]},o.prototype.encode=function(t,e,i){return this._getEncoder(e).encode(t,i)}})),r.register("aaDqI",(function(t,e){const i=t.exports;i.der=r("73ynf"),i.pem=r("4nYMz")})),r.register("73ynf",(function(t,e){var i=r("bniia"),n=r("iUg6U").Buffer,s=r("f4zDQ"),o=r("4Urgx");function a(t){this.enc="der",this.name=t.name,this.entity=t,this.tree=new h,this.tree._init(t.body)}function h(t){s.call(this,"der",t)}function u(t){return t<10?"0"+t:t}t.exports=a,a.prototype.encode=function(t,e){return this.tree._encode(t,e).join()},i(h,s),h.prototype._encodeComposite=function(t,e,i,r){const s=function(t,e,i,n){let r;"seqof"===t?t="seq":"setof"===t&&(t="set");if(o.tagByName.hasOwnProperty(t))r=o.tagByName[t];else{if("number"!=typeof t||(0|t)!==t)return n.error("Unknown tag: "+t);r=t}if(r>=31)return n.error("Multi-octet tag encoding unsupported");e||(r|=32);return r|=o.tagClassByName[i||"universal"]<<6,r}(t,e,i,this.reporter);if(r.length<128){const t=n.alloc(2);return t[0]=s,t[1]=r.length,this._createEncoderBuffer([t,r])}let a=1;for(let t=r.length;t>=256;t>>=8)a++;const h=n.alloc(2+a);h[0]=s,h[1]=128|a;for(let t=1+a,e=r.length;e>0;t--,e>>=8)h[t]=255&e;return this._createEncoderBuffer([h,r])},h.prototype._encodeStr=function(t,e){if("bitstr"===e)return this._createEncoderBuffer([0|t.unused,t.data]);if("bmpstr"===e){const e=n.alloc(2*t.length);for(let i=0;i<t.length;i++)e.writeUInt16BE(t.charCodeAt(i),2*i);return this._createEncoderBuffer(e)}return"numstr"===e?this._isNumstr(t)?this._createEncoderBuffer(t):this.reporter.error("Encoding of string type: numstr supports only digits and space"):"printstr"===e?this._isPrintstr(t)?this._createEncoderBuffer(t):this.reporter.error("Encoding of string type: printstr supports only latin upper and lower case letters, digits, space, apostrophe, left and rigth parenthesis, plus sign, comma, hyphen, dot, slash, colon, equal sign, question mark"):/str$/.test(e)||"objDesc"===e?this._createEncoderBuffer(t):this.reporter.error("Encoding of string type: "+e+" unsupported")},h.prototype._encodeObjid=function(t,e,i){if("string"==typeof t){if(!e)return this.reporter.error("string objid given, but no values map found");if(!e.hasOwnProperty(t))return this.reporter.error("objid not found in values map");t=e[t].split(/[\s.]+/g);for(let e=0;e<t.length;e++)t[e]|=0}else if(Array.isArray(t)){t=t.slice();for(let e=0;e<t.length;e++)t[e]|=0}if(!Array.isArray(t))return this.reporter.error("objid() should be either array or string, got: "+JSON.stringify(t));if(!i){if(t[1]>=40)return this.reporter.error("Second objid identifier OOB");t.splice(0,2,40*t[0]+t[1])}let r=0;for(let e=0;e<t.length;e++){let i=t[e];for(r++;i>=128;i>>=7)r++}const s=n.alloc(r);let o=s.length-1;for(let e=t.length-1;e>=0;e--){let i=t[e];for(s[o--]=127&i;(i>>=7)>0;)s[o--]=128|127&i}return this._createEncoderBuffer(s)},h.prototype._encodeTime=function(t,e){let i;const n=new Date(t);return"gentime"===e?i=[u(n.getUTCFullYear()),u(n.getUTCMonth()+1),u(n.getUTCDate()),u(n.getUTCHours()),u(n.getUTCMinutes()),u(n.getUTCSeconds()),"Z"].join(""):"utctime"===e?i=[u(n.getUTCFullYear()%100),u(n.getUTCMonth()+1),u(n.getUTCDate()),u(n.getUTCHours()),u(n.getUTCMinutes()),u(n.getUTCSeconds()),"Z"].join(""):this.reporter.error("Encoding "+e+" time is not supported yet"),this._encodeStr(i,"octstr")},h.prototype._encodeNull=function(){return this._createEncoderBuffer("")},h.prototype._encodeInt=function(t,e){if("string"==typeof t){if(!e)return this.reporter.error("String int or enum given, but no values map");if(!e.hasOwnProperty(t))return this.reporter.error("Values map doesn't contain: "+JSON.stringify(t));t=e[t]}if("number"!=typeof t&&!n.isBuffer(t)){const e=t.toArray();!t.sign&&128&e[0]&&e.unshift(0),t=n.from(e)}if(n.isBuffer(t)){let e=t.length;0===t.length&&e++;const i=n.alloc(e);return t.copy(i),0===t.length&&(i[0]=0),this._createEncoderBuffer(i)}if(t<128)return this._createEncoderBuffer(t);if(t<256)return this._createEncoderBuffer([0,t]);let i=1;for(let e=t;e>=256;e>>=8)i++;const r=new Array(i);for(let e=r.length-1;e>=0;e--)r[e]=255&t,t>>=8;return 128&r[0]&&r.unshift(0),this._createEncoderBuffer(n.from(r))},h.prototype._encodeBool=function(t){return this._createEncoderBuffer(t?255:0)},h.prototype._use=function(t,e){return"function"==typeof t&&(t=t(e)),t._getEncoder("der").tree},h.prototype._skipDefault=function(t,e,i){const n=this._baseState;let r;if(null===n.default)return!1;const s=t.join();if(void 0===n.defaultBuffer&&(n.defaultBuffer=this._encodeValue(n.default,e,i).join()),s.length!==n.defaultBuffer.length)return!1;for(r=0;r<s.length;r++)if(s[r]!==n.defaultBuffer[r])return!1;return!0}})),r.register("iUg6U",(function(t,e){var i,n=r("ajwPf"),s=r("8UsMN"),o=s.Buffer,a={};for(i in s)s.hasOwnProperty(i)&&"SlowBuffer"!==i&&"Buffer"!==i&&(a[i]=s[i]);var h=a.Buffer={};for(i in o)o.hasOwnProperty(i)&&"allocUnsafe"!==i&&"allocUnsafeSlow"!==i&&(h[i]=o[i]);if(a.Buffer.prototype=o.prototype,h.from&&h.from!==Uint8Array.from||(h.from=function(t,e,i){if("number"==typeof t)throw new TypeError('The "value" argument must not be of type number. Received type '+typeof t);if(t&&void 0===t.length)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof t);return o(t,e,i)}),h.alloc||(h.alloc=function(t,e,i){if("number"!=typeof t)throw new TypeError('The "size" argument must be of type number. Received type '+typeof t);if(t<0||t>=2147483648)throw new RangeError('The value "'+t+'" is invalid for option "size"');var n=o(t);return e&&0!==e.length?"string"==typeof i?n.fill(e,i):n.fill(e):n.fill(0),n}),!a.kStringMaxLength)try{a.kStringMaxLength=n.binding("buffer").kStringMaxLength}catch(t){}a.constants||(a.constants={MAX_LENGTH:a.kMaxLength},a.kStringMaxLength&&(a.constants.MAX_STRING_LENGTH=a.kStringMaxLength)),t.exports=a})),r.register("f4zDQ",(function(t,e){var i=r("kiLMG").Reporter,n=r("6LLAC").EncoderBuffer,s=r("6LLAC").DecoderBuffer,o=r("bNW2d");const a=["seq","seqof","set","setof","objid","bool","gentime","utctime","null_","enum","int","objDesc","bitstr","bmpstr","charstr","genstr","graphstr","ia5str","iso646str","numstr","octstr","printstr","t61str","unistr","utf8str","videostr"],h=["key","obj","use","optional","explicit","implicit","def","choice","any","contains"].concat(a);function u(t,e,i){const n={};this._baseState=n,n.name=i,n.enc=t,n.parent=e||null,n.children=null,n.tag=null,n.args=null,n.reverseArgs=null,n.choice=null,n.optional=!1,n.any=!1,n.obj=!1,n.use=null,n.useDecoder=null,n.key=null,n.default=null,n.explicit=null,n.implicit=null,n.contains=null,n.parent||(n.children=[],this._wrap())}t.exports=u;const l=["enc","parent","children","tag","args","reverseArgs","choice","optional","any","obj","use","alteredUse","key","default","explicit","implicit","contains"];u.prototype.clone=function(){const t=this._baseState,e={};l.forEach((function(i){e[i]=t[i]}));const i=new this.constructor(e.parent);return i._baseState=e,i},u.prototype._wrap=function(){const t=this._baseState;h.forEach((function(e){this[e]=function(){const i=new this.constructor(this);return t.children.push(i),i[e].apply(i,arguments)}}),this)},u.prototype._init=function(t){const e=this._baseState;o(null===e.parent),t.call(this),e.children=e.children.filter((function(t){return t._baseState.parent===this}),this),o.equal(e.children.length,1,"Root node can have only one child")},u.prototype._useArgs=function(t){const e=this._baseState,i=t.filter((function(t){return t instanceof this.constructor}),this);t=t.filter((function(t){return!(t instanceof this.constructor)}),this),0!==i.length&&(o(null===e.children),e.children=i,i.forEach((function(t){t._baseState.parent=this}),this)),0!==t.length&&(o(null===e.args),e.args=t,e.reverseArgs=t.map((function(t){if("object"!=typeof t||t.constructor!==Object)return t;const e={};return Object.keys(t).forEach((function(i){i==(0|i)&&(i|=0);const n=t[i];e[n]=i})),e})))},["_peekTag","_decodeTag","_use","_decodeStr","_decodeObjid","_decodeTime","_decodeNull","_decodeInt","_decodeBool","_decodeList","_encodeComposite","_encodeStr","_encodeObjid","_encodeTime","_encodeNull","_encodeInt","_encodeBool"].forEach((function(t){u.prototype[t]=function(){const e=this._baseState;throw new Error(t+" not implemented for encoding: "+e.enc)}})),a.forEach((function(t){u.prototype[t]=function(){const e=this._baseState,i=Array.prototype.slice.call(arguments);return o(null===e.tag),e.tag=t,this._useArgs(i),this}})),u.prototype.use=function(t){o(t);const e=this._baseState;return o(null===e.use),e.use=t,this},u.prototype.optional=function(){return this._baseState.optional=!0,this},u.prototype.def=function(t){const e=this._baseState;return o(null===e.default),e.default=t,e.optional=!0,this},u.prototype.explicit=function(t){const e=this._baseState;return o(null===e.explicit&&null===e.implicit),e.explicit=t,this},u.prototype.implicit=function(t){const e=this._baseState;return o(null===e.explicit&&null===e.implicit),e.implicit=t,this},u.prototype.obj=function(){const t=this._baseState,e=Array.prototype.slice.call(arguments);return t.obj=!0,0!==e.length&&this._useArgs(e),this},u.prototype.key=function(t){const e=this._baseState;return o(null===e.key),e.key=t,this},u.prototype.any=function(){return this._baseState.any=!0,this},u.prototype.choice=function(t){const e=this._baseState;return o(null===e.choice),e.choice=t,this._useArgs(Object.keys(t).map((function(e){return t[e]}))),this},u.prototype.contains=function(t){const e=this._baseState;return o(null===e.use),e.contains=t,this},u.prototype._decode=function(t,e){const i=this._baseState;if(null===i.parent)return t.wrapResult(i.children[0]._decode(t,e));let n,r=i.default,o=!0,a=null;if(null!==i.key&&(a=t.enterKey(i.key)),i.optional){let n=null;if(null!==i.explicit?n=i.explicit:null!==i.implicit?n=i.implicit:null!==i.tag&&(n=i.tag),null!==n||i.any){if(o=this._peekTag(t,n,i.any),t.isError(o))return o}else{const n=t.save();try{null===i.choice?this._decodeGeneric(i.tag,t,e):this._decodeChoice(t,e),o=!0}catch(t){o=!1}t.restore(n)}}if(i.obj&&o&&(n=t.enterObject()),o){if(null!==i.explicit){const e=this._decodeTag(t,i.explicit);if(t.isError(e))return e;t=e}const n=t.offset;if(null===i.use&&null===i.choice){let e;i.any&&(e=t.save());const n=this._decodeTag(t,null!==i.implicit?i.implicit:i.tag,i.any);if(t.isError(n))return n;i.any?r=t.raw(e):t=n}if(e&&e.track&&null!==i.tag&&e.track(t.path(),n,t.length,"tagged"),e&&e.track&&null!==i.tag&&e.track(t.path(),t.offset,t.length,"content"),i.any||(r=null===i.choice?this._decodeGeneric(i.tag,t,e):this._decodeChoice(t,e)),t.isError(r))return r;if(i.any||null!==i.choice||null===i.children||i.children.forEach((function(i){i._decode(t,e)})),i.contains&&("octstr"===i.tag||"bitstr"===i.tag)){const n=new s(r);r=this._getUse(i.contains,t._reporterState.obj)._decode(n,e)}}return i.obj&&o&&(r=t.leaveObject(n)),null===i.key||null===r&&!0!==o?null!==a&&t.exitKey(a):t.leaveKey(a,i.key,r),r},u.prototype._decodeGeneric=function(t,e,i){const n=this._baseState;return"seq"===t||"set"===t?null:"seqof"===t||"setof"===t?this._decodeList(e,t,n.args[0],i):/str$/.test(t)?this._decodeStr(e,t,i):"objid"===t&&n.args?this._decodeObjid(e,n.args[0],n.args[1],i):"objid"===t?this._decodeObjid(e,null,null,i):"gentime"===t||"utctime"===t?this._decodeTime(e,t,i):"null_"===t?this._decodeNull(e,i):"bool"===t?this._decodeBool(e,i):"objDesc"===t?this._decodeStr(e,t,i):"int"===t||"enum"===t?this._decodeInt(e,n.args&&n.args[0],i):null!==n.use?this._getUse(n.use,e._reporterState.obj)._decode(e,i):e.error("unknown tag: "+t)},u.prototype._getUse=function(t,e){const i=this._baseState;return i.useDecoder=this._use(t,e),o(null===i.useDecoder._baseState.parent),i.useDecoder=i.useDecoder._baseState.children[0],i.implicit!==i.useDecoder._baseState.implicit&&(i.useDecoder=i.useDecoder.clone(),i.useDecoder._baseState.implicit=i.implicit),i.useDecoder},u.prototype._decodeChoice=function(t,e){const i=this._baseState;let n=null,r=!1;return Object.keys(i.choice).some((function(s){const o=t.save(),a=i.choice[s];try{const i=a._decode(t,e);if(t.isError(i))return!1;n={type:s,value:i},r=!0}catch(e){return t.restore(o),!1}return!0}),this),r?n:t.error("Choice not matched")},u.prototype._createEncoderBuffer=function(t){return new n(t,this.reporter)},u.prototype._encode=function(t,e,i){const n=this._baseState;if(null!==n.default&&n.default===t)return;const r=this._encodeValue(t,e,i);return void 0===r||this._skipDefault(r,e,i)?void 0:r},u.prototype._encodeValue=function(t,e,n){const r=this._baseState;if(null===r.parent)return r.children[0]._encode(t,e||new i);let s=null;if(this.reporter=e,r.optional&&void 0===t){if(null===r.default)return;t=r.default}let o=null,a=!1;if(r.any)s=this._createEncoderBuffer(t);else if(r.choice)s=this._encodeChoice(t,e);else if(r.contains)o=this._getUse(r.contains,n)._encode(t,e),a=!0;else if(r.children)o=r.children.map((function(i){if("null_"===i._baseState.tag)return i._encode(null,e,t);if(null===i._baseState.key)return e.error("Child should have a key");const n=e.enterKey(i._baseState.key);if("object"!=typeof t)return e.error("Child expected, but input is not object");const r=i._encode(t[i._baseState.key],e,t);return e.leaveKey(n),r}),this).filter((function(t){return t})),o=this._createEncoderBuffer(o);else if("seqof"===r.tag||"setof"===r.tag){if(!r.args||1!==r.args.length)return e.error("Too many args for : "+r.tag);if(!Array.isArray(t))return e.error("seqof/setof, but data is not Array");const i=this.clone();i._baseState.implicit=null,o=this._createEncoderBuffer(t.map((function(i){const n=this._baseState;return this._getUse(n.args[0],t)._encode(i,e)}),i))}else null!==r.use?s=this._getUse(r.use,n)._encode(t,e):(o=this._encodePrimitive(r.tag,t),a=!0);if(!r.any&&null===r.choice){const t=null!==r.implicit?r.implicit:r.tag,i=null===r.implicit?"universal":"context";null===t?null===r.use&&e.error("Tag could be omitted only for .use()"):null===r.use&&(s=this._encodeComposite(t,a,i,o))}return null!==r.explicit&&(s=this._encodeComposite(r.explicit,!1,"context",s)),s},u.prototype._encodeChoice=function(t,e){const i=this._baseState,n=i.choice[t.type];return n||o(!1,t.type+" not found in "+JSON.stringify(Object.keys(i.choice))),n._encode(t.value,e)},u.prototype._encodePrimitive=function(t,e){const i=this._baseState;if(/str$/.test(t))return this._encodeStr(e,t);if("objid"===t&&i.args)return this._encodeObjid(e,i.reverseArgs[0],i.args[1]);if("objid"===t)return this._encodeObjid(e,null,null);if("gentime"===t||"utctime"===t)return this._encodeTime(e,t);if("null_"===t)return this._encodeNull();if("int"===t||"enum"===t)return this._encodeInt(e,i.args&&i.reverseArgs[0]);if("bool"===t)return this._encodeBool(e);if("objDesc"===t)return this._encodeStr(e,t);throw new Error("Unsupported tag: "+t)},u.prototype._isNumstr=function(t){return/^[0-9 ]*$/.test(t)},u.prototype._isPrintstr=function(t){return/^[A-Za-z0-9 '()+,-./:=?]*$/.test(t)}})),r.register("kiLMG",(function(e,i){var n;t(e.exports,"Reporter",(()=>n),(t=>n=t));var s=r("bniia");function o(t){this._reporterState={obj:null,path:[],options:t||{},errors:[]}}function a(t,e){this.path=t,this.rethrow(e)}n=o,o.prototype.isError=function(t){return t instanceof a},o.prototype.save=function(){const t=this._reporterState;return{obj:t.obj,pathLen:t.path.length}},o.prototype.restore=function(t){const e=this._reporterState;e.obj=t.obj,e.path=e.path.slice(0,t.pathLen)},o.prototype.enterKey=function(t){return this._reporterState.path.push(t)},o.prototype.exitKey=function(t){const e=this._reporterState;e.path=e.path.slice(0,t-1)},o.prototype.leaveKey=function(t,e,i){const n=this._reporterState;this.exitKey(t),null!==n.obj&&(n.obj[e]=i)},o.prototype.path=function(){return this._reporterState.path.join("/")},o.prototype.enterObject=function(){const t=this._reporterState,e=t.obj;return t.obj={},e},o.prototype.leaveObject=function(t){const e=this._reporterState,i=e.obj;return e.obj=t,i},o.prototype.error=function(t){let e;const i=this._reporterState,n=t instanceof a;if(e=n?t:new a(i.path.map((function(t){return"["+JSON.stringify(t)+"]"})).join(""),t.message||t,t.stack),!i.options.partial)throw e;return n||i.errors.push(e),e},o.prototype.wrapResult=function(t){const e=this._reporterState;return e.options.partial?{result:this.isError(t)?null:t,errors:e.errors}:t},s(a,Error),a.prototype.rethrow=function(t){if(this.message=t+" at: "+(this.path||"(shallow)"),Error.captureStackTrace&&Error.captureStackTrace(this,a),!this.stack)try{throw new Error(this.message)}catch(t){this.stack=t.stack}return this}})),r.register("6LLAC",(function(e,i){var n,s;t(e.exports,"DecoderBuffer",(()=>n),(t=>n=t)),t(e.exports,"EncoderBuffer",(()=>s),(t=>s=t));var o=r("bniia"),a=r("kiLMG").Reporter,h=r("iUg6U").Buffer;function u(t,e){a.call(this,e),h.isBuffer(t)?(this.base=t,this.offset=0,this.length=t.length):this.error("Input not Buffer")}function l(t,e){if(Array.isArray(t))this.length=0,this.value=t.map((function(t){return l.isEncoderBuffer(t)||(t=new l(t,e)),this.length+=t.length,t}),this);else if("number"==typeof t){if(!(0<=t&&t<=255))return e.error("non-byte EncoderBuffer value");this.value=t,this.length=1}else if("string"==typeof t)this.value=t,this.length=h.byteLength(t);else{if(!h.isBuffer(t))return e.error("Unsupported type: "+typeof t);this.value=t,this.length=t.length}}o(u,a),n=u,u.isDecoderBuffer=function(t){if(t instanceof u)return!0;return"object"==typeof t&&h.isBuffer(t.base)&&"DecoderBuffer"===t.constructor.name&&"number"==typeof t.offset&&"number"==typeof t.length&&"function"==typeof t.save&&"function"==typeof t.restore&&"function"==typeof t.isEmpty&&"function"==typeof t.readUInt8&&"function"==typeof t.skip&&"function"==typeof t.raw},u.prototype.save=function(){return{offset:this.offset,reporter:a.prototype.save.call(this)}},u.prototype.restore=function(t){const e=new u(this.base);return e.offset=t.offset,e.length=this.offset,this.offset=t.offset,a.prototype.restore.call(this,t.reporter),e},u.prototype.isEmpty=function(){return this.offset===this.length},u.prototype.readUInt8=function(t){return this.offset+1<=this.length?this.base.readUInt8(this.offset++,!0):this.error(t||"DecoderBuffer overrun")},u.prototype.skip=function(t,e){if(!(this.offset+t<=this.length))return this.error(e||"DecoderBuffer overrun");const i=new u(this.base);return i._reporterState=this._reporterState,i.offset=this.offset,i.length=this.offset+t,this.offset+=t,i},u.prototype.raw=function(t){return this.base.slice(t?t.offset:this.offset,this.length)},s=l,l.isEncoderBuffer=function(t){if(t instanceof l)return!0;return"object"==typeof t&&"EncoderBuffer"===t.constructor.name&&"number"==typeof t.length&&"function"==typeof t.join},l.prototype.join=function(t,e){return t||(t=h.alloc(this.length)),e||(e=0),0===this.length||(Array.isArray(this.value)?this.value.forEach((function(i){i.join(t,e),e+=i.length})):("number"==typeof this.value?t[e]=this.value:"string"==typeof this.value?t.write(this.value,e):h.isBuffer(this.value)&&this.value.copy(t,e),e+=this.length)),t}})),r.register("4Urgx",(function(e,i){var n,r,s,o;function a(t){const e={};return Object.keys(t).forEach((function(i){(0|i)==i&&(i|=0);const n=t[i];e[n]=i})),e}t(e.exports,"tagClass",(()=>n),(t=>n=t)),t(e.exports,"tagClassByName",(()=>r),(t=>r=t)),t(e.exports,"tag",(()=>s),(t=>s=t)),t(e.exports,"tagByName",(()=>o),(t=>o=t)),r=a(n={0:"universal",1:"application",2:"context",3:"private"}),o=a(s={0:"end",1:"bool",2:"int",3:"bitstr",4:"octstr",5:"null_",6:"objid",7:"objDesc",8:"external",9:"real",10:"enum",11:"embed",12:"utf8str",13:"relativeOid",16:"seq",17:"set",18:"numstr",19:"printstr",20:"t61str",21:"videostr",22:"ia5str",23:"utctime",24:"gentime",25:"graphstr",26:"iso646str",27:"genstr",28:"unistr",29:"charstr",30:"bmpstr"})})),r.register("4nYMz",(function(t,e){var i=r("bniia"),n=r("73ynf");function s(t){n.call(this,t),this.enc="pem"}i(s,n),t.exports=s,s.prototype.encode=function(t,e){const i=n.prototype.encode.call(this,t).toString("base64"),r=["-----BEGIN "+e.label+"-----"];for(let t=0;t<i.length;t+=64)r.push(i.slice(t,t+64));return r.push("-----END "+e.label+"-----"),r.join("\n")}})),r.register("8KdoP",(function(t,e){const i=t.exports;i.der=r("9Qw3K"),i.pem=r("lgkmB")})),r.register("9Qw3K",(function(t,e){var i=r("bniia"),n=r("jwZLX"),s=r("6LLAC").DecoderBuffer,o=r("f4zDQ"),a=r("4Urgx");function h(t){this.enc="der",this.name=t.name,this.entity=t,this.tree=new u,this.tree._init(t.body)}function u(t){o.call(this,"der",t)}function l(t,e){let i=t.readUInt8(e);if(t.isError(i))return i;const n=a.tagClass[i>>6],r=0==(32&i);if(31==(31&i)){let n=i;for(i=0;128==(128&n);){if(n=t.readUInt8(e),t.isError(n))return n;i<<=7,i|=127&n}}else i&=31;return{cls:n,primitive:r,tag:i,tagStr:a.tag[i]}}function c(t,e,i){let n=t.readUInt8(i);if(t.isError(n))return n;if(!e&&128===n)return null;if(0==(128&n))return n;const r=127&n;if(r>4)return t.error("length octect is too long");n=0;for(let e=0;e<r;e++){n<<=8;const e=t.readUInt8(i);if(t.isError(e))return e;n|=e}return n}t.exports=h,h.prototype.decode=function(t,e){return s.isDecoderBuffer(t)||(t=new s(t,e)),this.tree._decode(t,e)},i(u,o),u.prototype._peekTag=function(t,e,i){if(t.isEmpty())return!1;const n=t.save(),r=l(t,'Failed to peek tag: "'+e+'"');return t.isError(r)?r:(t.restore(n),r.tag===e||r.tagStr===e||r.tagStr+"of"===e||i)},u.prototype._decodeTag=function(t,e,i){const n=l(t,'Failed to decode tag of "'+e+'"');if(t.isError(n))return n;let r=c(t,n.primitive,'Failed to get length of "'+e+'"');if(t.isError(r))return r;if(!i&&n.tag!==e&&n.tagStr!==e&&n.tagStr+"of"!==e)return t.error('Failed to match tag: "'+e+'"');if(n.primitive||null!==r)return t.skip(r,'Failed to match body of: "'+e+'"');const s=t.save(),o=this._skipUntilEnd(t,'Failed to skip indefinite length body: "'+this.tag+'"');return t.isError(o)?o:(r=t.offset-s.offset,t.restore(s),t.skip(r,'Failed to match body of: "'+e+'"'))},u.prototype._skipUntilEnd=function(t,e){for(;;){const i=l(t,e);if(t.isError(i))return i;const n=c(t,i.primitive,e);if(t.isError(n))return n;let r;if(r=i.primitive||null!==n?t.skip(n):this._skipUntilEnd(t,e),t.isError(r))return r;if("end"===i.tagStr)break}},u.prototype._decodeList=function(t,e,i,n){const r=[];for(;!t.isEmpty();){const e=this._peekTag(t,"end");if(t.isError(e))return e;const s=i.decode(t,"der",n);if(t.isError(s)&&e)break;r.push(s)}return r},u.prototype._decodeStr=function(t,e){if("bitstr"===e){const e=t.readUInt8();return t.isError(e)?e:{unused:e,data:t.raw()}}if("bmpstr"===e){const e=t.raw();if(e.length%2==1)return t.error("Decoding of string type: bmpstr length mismatch");let i="";for(let t=0;t<e.length/2;t++)i+=String.fromCharCode(e.readUInt16BE(2*t));return i}if("numstr"===e){const e=t.raw().toString("ascii");return this._isNumstr(e)?e:t.error("Decoding of string type: numstr unsupported characters")}if("octstr"===e)return t.raw();if("objDesc"===e)return t.raw();if("printstr"===e){const e=t.raw().toString("ascii");return this._isPrintstr(e)?e:t.error("Decoding of string type: printstr unsupported characters")}return/str$/.test(e)?t.raw().toString():t.error("Decoding of string type: "+e+" unsupported")},u.prototype._decodeObjid=function(t,e,i){let n;const r=[];let s=0,o=0;for(;!t.isEmpty();)o=t.readUInt8(),s<<=7,s|=127&o,0==(128&o)&&(r.push(s),s=0);128&o&&r.push(s);const a=r[0]/40|0,h=r[0]%40;if(n=i?r:[a,h].concat(r.slice(1)),e){let t=e[n.join(" ")];void 0===t&&(t=e[n.join(".")]),void 0!==t&&(n=t)}return n},u.prototype._decodeTime=function(t,e){const i=t.raw().toString();let n,r,s,o,a,h;if("gentime"===e)n=0|i.slice(0,4),r=0|i.slice(4,6),s=0|i.slice(6,8),o=0|i.slice(8,10),a=0|i.slice(10,12),h=0|i.slice(12,14);else{if("utctime"!==e)return t.error("Decoding "+e+" time is not supported yet");n=0|i.slice(0,2),r=0|i.slice(2,4),s=0|i.slice(4,6),o=0|i.slice(6,8),a=0|i.slice(8,10),h=0|i.slice(10,12),n=n<70?2e3+n:1900+n}return Date.UTC(n,r-1,s,o,a,h,0)},u.prototype._decodeNull=function(){return null},u.prototype._decodeBool=function(t){const e=t.readUInt8();return t.isError(e)?e:0!==e},u.prototype._decodeInt=function(t,e){const i=t.raw();let r=new n(i);return e&&(r=e[r.toString(10)]||r),r},u.prototype._use=function(t,e){return"function"==typeof t&&(t=t(e)),t._getDecoder("der").tree}})),r.register("lgkmB",(function(t,e){var i=r("bniia"),n=r("iUg6U").Buffer,s=r("9Qw3K");function o(t){s.call(this,t),this.enc="pem"}i(o,s),t.exports=o,o.prototype.decode=function(t,e){const i=t.toString().split(/[\r\n]+/g),r=e.label.toUpperCase(),o=/^-----(BEGIN|END) ([^-]+)-----$/;let a=-1,h=-1;for(let t=0;t<i.length;t++){const e=i[t].match(o);if(null!==e&&e[2]===r){if(-1!==a){if("END"!==e[1])break;h=t;break}if("BEGIN"!==e[1])break;a=t}}if(-1===a||-1===h)throw new Error("PEM section not found for: "+r);const u=i.slice(a+1,h).join("");u.replace(/[^a-z0-9+/=]+/gi,"");const l=n.from(u,"base64");return s.prototype.decode.call(this,l,e)}})),r.register("gi7zr",(function(t,e){const i=t.exports;i.Reporter=r("kiLMG").Reporter,i.DecoderBuffer=r("6LLAC").DecoderBuffer,i.EncoderBuffer=r("6LLAC").EncoderBuffer,i.Node=r("f4zDQ")})),r.register("4Sey6",(function(t,e){const i=t.exports;i._reverse=function(t){const e={};return Object.keys(t).forEach((function(i){(0|i)==i&&(i|=0);const n=t[i];e[n]=i})),e},i.der=r("4Urgx")})),r.register("ged9F",(function(t,e){var i=r("1auoC"),n=i.define("Time",(function(){this.choice({utcTime:this.utctime(),generalTime:this.gentime()})})),s=i.define("AttributeTypeValue",(function(){this.seq().obj(this.key("type").objid(),this.key("value").any())})),o=i.define("AlgorithmIdentifier",(function(){this.seq().obj(this.key("algorithm").objid(),this.key("parameters").optional(),this.key("curve").objid().optional())})),a=i.define("SubjectPublicKeyInfo",(function(){this.seq().obj(this.key("algorithm").use(o),this.key("subjectPublicKey").bitstr())})),h=i.define("RelativeDistinguishedName",(function(){this.setof(s)})),u=i.define("RDNSequence",(function(){this.seqof(h)})),l=i.define("Name",(function(){this.choice({rdnSequence:this.use(u)})})),c=i.define("Validity",(function(){this.seq().obj(this.key("notBefore").use(n),this.key("notAfter").use(n))})),d=i.define("Extension",(function(){this.seq().obj(this.key("extnID").objid(),this.key("critical").bool().def(!1),this.key("extnValue").octstr())})),f=i.define("TBSCertificate",(function(){this.seq().obj(this.key("version").explicit(0).int().optional(),this.key("serialNumber").int(),this.key("signature").use(o),this.key("issuer").use(l),this.key("validity").use(c),this.key("subject").use(l),this.key("subjectPublicKeyInfo").use(a),this.key("issuerUniqueID").implicit(1).bitstr().optional(),this.key("subjectUniqueID").implicit(2).bitstr().optional(),this.key("extensions").explicit(3).seqof(d).optional())})),p=i.define("X509Certificate",(function(){this.seq().obj(this.key("tbsCertificate").use(f),this.key("signatureAlgorithm").use(o),this.key("signatureValue").bitstr())}));t.exports=p})),r.register("4IRG5",(function(t,e){t.exports=JSON.parse('{"2.16.840.1.101.3.4.1.1":"aes-128-ecb","2.16.840.1.101.3.4.1.2":"aes-128-cbc","2.16.840.1.101.3.4.1.3":"aes-128-ofb","2.16.840.1.101.3.4.1.4":"aes-128-cfb","2.16.840.1.101.3.4.1.21":"aes-192-ecb","2.16.840.1.101.3.4.1.22":"aes-192-cbc","2.16.840.1.101.3.4.1.23":"aes-192-ofb","2.16.840.1.101.3.4.1.24":"aes-192-cfb","2.16.840.1.101.3.4.1.41":"aes-256-ecb","2.16.840.1.101.3.4.1.42":"aes-256-cbc","2.16.840.1.101.3.4.1.43":"aes-256-ofb","2.16.840.1.101.3.4.1.44":"aes-256-cfb"}')})),r.register("hg5oe",(function(t,e){var i=/Proc-Type: 4,ENCRYPTED[\n\r]+DEK-Info: AES-((?:128)|(?:192)|(?:256))-CBC,([0-9A-H]+)[\n\r]+([0-9A-z\n\r+/=]+)[\n\r]+/m,n=/^-----BEGIN ((?:.*? KEY)|CERTIFICATE)-----/m,s=/^-----BEGIN ((?:.*? KEY)|CERTIFICATE)-----([0-9A-z\n\r+/=]+)-----END \1-----$/m,o=r("cthQ7"),a=r("2JnZq"),h=r("4OiF0").Buffer;t.exports=function(t,e){var r,u=t.toString(),l=u.match(i);if(l){var c="aes"+l[1],d=h.from(l[2],"hex"),f=h.from(l[3].replace(/[\r\n]/g,""),"base64"),p=o(e,d.slice(0,8),parseInt(l[1],10)).key,m=[],g=a.createDecipheriv(c,p,d);m.push(g.update(f)),m.push(g.final()),r=h.concat(m)}else{var v=u.match(s);r=h.from(v[2].replace(/[\r\n]/g,""),"base64")}return{tag:u.match(n)[1],data:r}}})),r.register("6YO51",(function(t,e){t.exports=JSON.parse('{"1.3.132.0.10":"secp256k1","1.3.132.0.33":"p224","1.2.840.10045.3.1.1":"p192","1.2.840.10045.3.1.7":"p256","1.3.132.0.34":"p384","1.3.132.0.35":"p521"}')})),r.register("9J4Jv",(function(t,e){var i=r("4OiF0").Buffer,n=r("7ww61"),s=r("ikIB9").ec,o=r("eOlL6"),a=r("6YO51");function h(t,e){if(t.cmpn(0)<=0)throw new Error("invalid sig");if(t.cmp(e)>=e)throw new Error("invalid sig")}t.exports=function(t,e,r,u,l){var c=o(r);if("ec"===c.type){if("ecdsa"!==u&&"ecdsa/rsa"!==u)throw new Error("wrong public key type");return function(t,e,i){var n=a[i.data.algorithm.curve.join(".")];if(!n)throw new Error("unknown curve "+i.data.algorithm.curve.join("."));var r=new s(n),o=i.data.subjectPrivateKey.data;return r.verify(e,t,o)}(t,e,c)}if("dsa"===c.type){if("dsa"!==u)throw new Error("wrong public key type");return function(t,e,i){var r=i.data.p,s=i.data.q,a=i.data.g,u=i.data.pub_key,l=o.signature.decode(t,"der"),c=l.s,d=l.r;h(c,s),h(d,s);var f=n.mont(r),p=c.invm(s),m=a.toRed(f).redPow(new n(e).mul(p).mod(s)).fromRed().mul(u.toRed(f).redPow(d.mul(p).mod(s)).fromRed()).mod(r).mod(s);return 0===m.cmp(d)}(t,e,c)}if("rsa"!==u&&"ecdsa/rsa"!==u)throw new Error("wrong public key type");e=i.concat([l,e]);for(var d=c.modulus.byteLength(),f=[1],p=0;e.length+f.length+2<d;)f.push(255),p++;f.push(0);for(var m=-1;++m<e.length;)f.push(e[m]);f=i.from(f);var g=n.mont(c.modulus);t=(t=new n(t).toRed(g)).redPow(new n(c.publicExponent)),t=i.from(t.fromRed().toArray());var v=p<8?1:0;for(d=Math.min(t.length,f.length),t.length!==f.length&&(v=1),m=-1;++m<d;)v|=t[m]^f[m];return 0===v}})),r.register("3ZddE",(function(t,e){var i=r("8UsMN").Buffer,n=r("ikIB9"),s=r("2DN2x");t.exports=function(t){return new a(t)};var o={secp256k1:{name:"secp256k1",byteLength:32},secp224r1:{name:"p224",byteLength:28},prime256v1:{name:"p256",byteLength:32},prime192v1:{name:"p192",byteLength:24},ed25519:{name:"ed25519",byteLength:32},secp384r1:{name:"p384",byteLength:48},secp521r1:{name:"p521",byteLength:66}};function a(t){this.curveType=o[t],this.curveType||(this.curveType={name:t}),this.curve=new n.ec(this.curveType.name),this.keys=void 0}function h(t,e,n){Array.isArray(t)||(t=t.toArray());var r=new i(t);if(n&&r.length<n){var s=new i(n-r.length);s.fill(0),r=i.concat([s,r])}return e?r.toString(e):r}o.p224=o.secp224r1,o.p256=o.secp256r1=o.prime256v1,o.p192=o.secp192r1=o.prime192v1,o.p384=o.secp384r1,o.p521=o.secp521r1,a.prototype.generateKeys=function(t,e){return this.keys=this.curve.genKeyPair(),this.getPublicKey(t,e)},a.prototype.computeSecret=function(t,e,n){return e=e||"utf8",i.isBuffer(t)||(t=new i(t,e)),h(this.curve.keyFromPublic(t).getPublic().mul(this.keys.getPrivate()).getX(),n,this.curveType.byteLength)},a.prototype.getPublicKey=function(t,e){var i=this.keys.getPublic("compressed"===e,!0);return"hybrid"===e&&(i[i.length-1]%2?i[0]=7:i[0]=6),h(i,t)},a.prototype.getPrivateKey=function(t){return h(this.keys.getPrivate(),t)},a.prototype.setPublicKey=function(t,e){return e=e||"utf8",i.isBuffer(t)||(t=new i(t,e)),this.keys._importPublic(t),this},a.prototype.setPrivateKey=function(t,e){e=e||"utf8",i.isBuffer(t)||(t=new i(t,e));var n=new s(t);return n=n.toString(16),this.keys=this.curve.genKeyPair(),this.keys._importPrivate(n),this}})),r.register("2DN2x",(function(t,e){!function(t,e){function i(t,e){if(!t)throw new Error(e||"Assertion failed")}function n(t,e){t.super_=e;var i=function(){};i.prototype=e.prototype,t.prototype=new i,t.prototype.constructor=t}function s(t,e,i){if(s.isBN(t))return t;this.negative=0,this.words=null,this.length=0,this.red=null,null!==t&&("le"!==e&&"be"!==e||(i=e,e=10),this._init(t||0,e||10,i||"be"))}var o;"object"==typeof t?t.exports=s:e.BN=s,s.BN=s,s.wordSize=26;try{o="undefined"!=typeof window&&void 0!==window.Buffer?window.Buffer:r("66yC2").Buffer}catch(t){}function a(t,e){var i=t.charCodeAt(e);return i>=65&&i<=70?i-55:i>=97&&i<=102?i-87:i-48&15}function h(t,e,i){var n=a(t,i);return i-1>=e&&(n|=a(t,i-1)<<4),n}function u(t,e,i,n){for(var r=0,s=Math.min(t.length,i),o=e;o<s;o++){var a=t.charCodeAt(o)-48;r*=n,r+=a>=49?a-49+10:a>=17?a-17+10:a}return r}s.isBN=function(t){return t instanceof s||null!==t&&"object"==typeof t&&t.constructor.wordSize===s.wordSize&&Array.isArray(t.words)},s.max=function(t,e){return t.cmp(e)>0?t:e},s.min=function(t,e){return t.cmp(e)<0?t:e},s.prototype._init=function(t,e,n){if("number"==typeof t)return this._initNumber(t,e,n);if("object"==typeof t)return this._initArray(t,e,n);"hex"===e&&(e=16),i(e===(0|e)&&e>=2&&e<=36);var r=0;"-"===(t=t.toString().replace(/\s+/g,""))[0]&&(r++,this.negative=1),r<t.length&&(16===e?this._parseHex(t,r,n):(this._parseBase(t,e,r),"le"===n&&this._initArray(this.toArray(),e,n)))},s.prototype._initNumber=function(t,e,n){t<0&&(this.negative=1,t=-t),t<67108864?(this.words=[67108863&t],this.length=1):t<4503599627370496?(this.words=[67108863&t,t/67108864&67108863],this.length=2):(i(t<9007199254740992),this.words=[67108863&t,t/67108864&67108863,1],this.length=3),"le"===n&&this._initArray(this.toArray(),e,n)},s.prototype._initArray=function(t,e,n){if(i("number"==typeof t.length),t.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(t.length/3),this.words=new Array(this.length);for(var r=0;r<this.length;r++)this.words[r]=0;var s,o,a=0;if("be"===n)for(r=t.length-1,s=0;r>=0;r-=3)o=t[r]|t[r-1]<<8|t[r-2]<<16,this.words[s]|=o<<a&67108863,this.words[s+1]=o>>>26-a&67108863,(a+=24)>=26&&(a-=26,s++);else if("le"===n)for(r=0,s=0;r<t.length;r+=3)o=t[r]|t[r+1]<<8|t[r+2]<<16,this.words[s]|=o<<a&67108863,this.words[s+1]=o>>>26-a&67108863,(a+=24)>=26&&(a-=26,s++);return this.strip()},s.prototype._parseHex=function(t,e,i){this.length=Math.ceil((t.length-e)/6),this.words=new Array(this.length);for(var n=0;n<this.length;n++)this.words[n]=0;var r,s=0,o=0;if("be"===i)for(n=t.length-1;n>=e;n-=2)r=h(t,e,n)<<s,this.words[o]|=67108863&r,s>=18?(s-=18,o+=1,this.words[o]|=r>>>26):s+=8;else for(n=(t.length-e)%2==0?e+1:e;n<t.length;n+=2)r=h(t,e,n)<<s,this.words[o]|=67108863&r,s>=18?(s-=18,o+=1,this.words[o]|=r>>>26):s+=8;this.strip()},s.prototype._parseBase=function(t,e,i){this.words=[0],this.length=1;for(var n=0,r=1;r<=67108863;r*=e)n++;n--,r=r/e|0;for(var s=t.length-i,o=s%n,a=Math.min(s,s-o)+i,h=0,l=i;l<a;l+=n)h=u(t,l,l+n,e),this.imuln(r),this.words[0]+h<67108864?this.words[0]+=h:this._iaddn(h);if(0!==o){var c=1;for(h=u(t,l,t.length,e),l=0;l<o;l++)c*=e;this.imuln(c),this.words[0]+h<67108864?this.words[0]+=h:this._iaddn(h)}this.strip()},s.prototype.copy=function(t){t.words=new Array(this.length);for(var e=0;e<this.length;e++)t.words[e]=this.words[e];t.length=this.length,t.negative=this.negative,t.red=this.red},s.prototype.clone=function(){var t=new s(null);return this.copy(t),t},s.prototype._expand=function(t){for(;this.length<t;)this.words[this.length++]=0;return this},s.prototype.strip=function(){for(;this.length>1&&0===this.words[this.length-1];)this.length--;return this._normSign()},s.prototype._normSign=function(){return 1===this.length&&0===this.words[0]&&(this.negative=0),this},s.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var l=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],c=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],d=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];function f(t,e,i){i.negative=e.negative^t.negative;var n=t.length+e.length|0;i.length=n,n=n-1|0;var r=0|t.words[0],s=0|e.words[0],o=r*s,a=67108863&o,h=o/67108864|0;i.words[0]=a;for(var u=1;u<n;u++){for(var l=h>>>26,c=67108863&h,d=Math.min(u,e.length-1),f=Math.max(0,u-t.length+1);f<=d;f++){var p=u-f|0;l+=(o=(r=0|t.words[p])*(s=0|e.words[f])+c)/67108864|0,c=67108863&o}i.words[u]=0|c,h=0|l}return 0!==h?i.words[u]=0|h:i.length--,i.strip()}s.prototype.toString=function(t,e){var n;if(e=0|e||1,16===(t=t||10)||"hex"===t){n="";for(var r=0,s=0,o=0;o<this.length;o++){var a=this.words[o],h=(16777215&(a<<r|s)).toString(16);n=0!==(s=a>>>24-r&16777215)||o!==this.length-1?l[6-h.length]+h+n:h+n,(r+=2)>=26&&(r-=26,o--)}for(0!==s&&(n=s.toString(16)+n);n.length%e!=0;)n="0"+n;return 0!==this.negative&&(n="-"+n),n}if(t===(0|t)&&t>=2&&t<=36){var u=c[t],f=d[t];n="";var p=this.clone();for(p.negative=0;!p.isZero();){var m=p.modn(f).toString(t);n=(p=p.idivn(f)).isZero()?m+n:l[u-m.length]+m+n}for(this.isZero()&&(n="0"+n);n.length%e!=0;)n="0"+n;return 0!==this.negative&&(n="-"+n),n}i(!1,"Base should be between 2 and 36")},s.prototype.toNumber=function(){var t=this.words[0];return 2===this.length?t+=67108864*this.words[1]:3===this.length&&1===this.words[2]?t+=4503599627370496+67108864*this.words[1]:this.length>2&&i(!1,"Number can only safely store up to 53 bits"),0!==this.negative?-t:t},s.prototype.toJSON=function(){return this.toString(16)},s.prototype.toBuffer=function(t,e){return i(void 0!==o),this.toArrayLike(o,t,e)},s.prototype.toArray=function(t,e){return this.toArrayLike(Array,t,e)},s.prototype.toArrayLike=function(t,e,n){var r=this.byteLength(),s=n||Math.max(1,r);i(r<=s,"byte array longer than desired length"),i(s>0,"Requested array length <= 0"),this.strip();var o,a,h="le"===e,u=new t(s),l=this.clone();if(h){for(a=0;!l.isZero();a++)o=l.andln(255),l.iushrn(8),u[a]=o;for(;a<s;a++)u[a]=0}else{for(a=0;a<s-r;a++)u[a]=0;for(a=0;!l.isZero();a++)o=l.andln(255),l.iushrn(8),u[s-a-1]=o}return u},Math.clz32?s.prototype._countBits=function(t){return 32-Math.clz32(t)}:s.prototype._countBits=function(t){var e=t,i=0;return e>=4096&&(i+=13,e>>>=13),e>=64&&(i+=7,e>>>=7),e>=8&&(i+=4,e>>>=4),e>=2&&(i+=2,e>>>=2),i+e},s.prototype._zeroBits=function(t){if(0===t)return 26;var e=t,i=0;return 0==(8191&e)&&(i+=13,e>>>=13),0==(127&e)&&(i+=7,e>>>=7),0==(15&e)&&(i+=4,e>>>=4),0==(3&e)&&(i+=2,e>>>=2),0==(1&e)&&i++,i},s.prototype.bitLength=function(){var t=this.words[this.length-1],e=this._countBits(t);return 26*(this.length-1)+e},s.prototype.zeroBits=function(){if(this.isZero())return 0;for(var t=0,e=0;e<this.length;e++){var i=this._zeroBits(this.words[e]);if(t+=i,26!==i)break}return t},s.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},s.prototype.toTwos=function(t){return 0!==this.negative?this.abs().inotn(t).iaddn(1):this.clone()},s.prototype.fromTwos=function(t){return this.testn(t-1)?this.notn(t).iaddn(1).ineg():this.clone()},s.prototype.isNeg=function(){return 0!==this.negative},s.prototype.neg=function(){return this.clone().ineg()},s.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},s.prototype.iuor=function(t){for(;this.length<t.length;)this.words[this.length++]=0;for(var e=0;e<t.length;e++)this.words[e]=this.words[e]|t.words[e];return this.strip()},s.prototype.ior=function(t){return i(0==(this.negative|t.negative)),this.iuor(t)},s.prototype.or=function(t){return this.length>t.length?this.clone().ior(t):t.clone().ior(this)},s.prototype.uor=function(t){return this.length>t.length?this.clone().iuor(t):t.clone().iuor(this)},s.prototype.iuand=function(t){var e;e=this.length>t.length?t:this;for(var i=0;i<e.length;i++)this.words[i]=this.words[i]&t.words[i];return this.length=e.length,this.strip()},s.prototype.iand=function(t){return i(0==(this.negative|t.negative)),this.iuand(t)},s.prototype.and=function(t){return this.length>t.length?this.clone().iand(t):t.clone().iand(this)},s.prototype.uand=function(t){return this.length>t.length?this.clone().iuand(t):t.clone().iuand(this)},s.prototype.iuxor=function(t){var e,i;this.length>t.length?(e=this,i=t):(e=t,i=this);for(var n=0;n<i.length;n++)this.words[n]=e.words[n]^i.words[n];if(this!==e)for(;n<e.length;n++)this.words[n]=e.words[n];return this.length=e.length,this.strip()},s.prototype.ixor=function(t){return i(0==(this.negative|t.negative)),this.iuxor(t)},s.prototype.xor=function(t){return this.length>t.length?this.clone().ixor(t):t.clone().ixor(this)},s.prototype.uxor=function(t){return this.length>t.length?this.clone().iuxor(t):t.clone().iuxor(this)},s.prototype.inotn=function(t){i("number"==typeof t&&t>=0);var e=0|Math.ceil(t/26),n=t%26;this._expand(e),n>0&&e--;for(var r=0;r<e;r++)this.words[r]=67108863&~this.words[r];return n>0&&(this.words[r]=~this.words[r]&67108863>>26-n),this.strip()},s.prototype.notn=function(t){return this.clone().inotn(t)},s.prototype.setn=function(t,e){i("number"==typeof t&&t>=0);var n=t/26|0,r=t%26;return this._expand(n+1),this.words[n]=e?this.words[n]|1<<r:this.words[n]&~(1<<r),this.strip()},s.prototype.iadd=function(t){var e,i,n;if(0!==this.negative&&0===t.negative)return this.negative=0,e=this.isub(t),this.negative^=1,this._normSign();if(0===this.negative&&0!==t.negative)return t.negative=0,e=this.isub(t),t.negative=1,e._normSign();this.length>t.length?(i=this,n=t):(i=t,n=this);for(var r=0,s=0;s<n.length;s++)e=(0|i.words[s])+(0|n.words[s])+r,this.words[s]=67108863&e,r=e>>>26;for(;0!==r&&s<i.length;s++)e=(0|i.words[s])+r,this.words[s]=67108863&e,r=e>>>26;if(this.length=i.length,0!==r)this.words[this.length]=r,this.length++;else if(i!==this)for(;s<i.length;s++)this.words[s]=i.words[s];return this},s.prototype.add=function(t){var e;return 0!==t.negative&&0===this.negative?(t.negative=0,e=this.sub(t),t.negative^=1,e):0===t.negative&&0!==this.negative?(this.negative=0,e=t.sub(this),this.negative=1,e):this.length>t.length?this.clone().iadd(t):t.clone().iadd(this)},s.prototype.isub=function(t){if(0!==t.negative){t.negative=0;var e=this.iadd(t);return t.negative=1,e._normSign()}if(0!==this.negative)return this.negative=0,this.iadd(t),this.negative=1,this._normSign();var i,n,r=this.cmp(t);if(0===r)return this.negative=0,this.length=1,this.words[0]=0,this;r>0?(i=this,n=t):(i=t,n=this);for(var s=0,o=0;o<n.length;o++)s=(e=(0|i.words[o])-(0|n.words[o])+s)>>26,this.words[o]=67108863&e;for(;0!==s&&o<i.length;o++)s=(e=(0|i.words[o])+s)>>26,this.words[o]=67108863&e;if(0===s&&o<i.length&&i!==this)for(;o<i.length;o++)this.words[o]=i.words[o];return this.length=Math.max(this.length,o),i!==this&&(this.negative=1),this.strip()},s.prototype.sub=function(t){return this.clone().isub(t)};var p=function(t,e,i){var n,r,s,o=t.words,a=e.words,h=i.words,u=0,l=0|o[0],c=8191&l,d=l>>>13,f=0|o[1],p=8191&f,m=f>>>13,g=0|o[2],v=8191&g,y=g>>>13,b=0|o[3],w=8191&b,_=b>>>13,M=0|o[4],A=8191&M,k=M>>>13,E=0|o[5],x=8191&E,S=E>>>13,T=0|o[6],I=8191&T,q=T>>>13,R=0|o[7],C=8191&R,N=R>>>13,L=0|o[8],D=8191&L,O=L>>>13,B=0|o[9],P=8191&B,U=B>>>13,F=0|a[0],j=8191&F,z=F>>>13,V=0|a[1],H=8191&V,K=V>>>13,G=0|a[2],W=8191&G,Q=G>>>13,$=0|a[3],Z=8191&$,Y=$>>>13,X=0|a[4],J=8191&X,tt=X>>>13,et=0|a[5],it=8191&et,nt=et>>>13,rt=0|a[6],st=8191&rt,ot=rt>>>13,at=0|a[7],ht=8191&at,ut=at>>>13,lt=0|a[8],ct=8191&lt,dt=lt>>>13,ft=0|a[9],pt=8191&ft,mt=ft>>>13;i.negative=t.negative^e.negative,i.length=19;var gt=(u+(n=Math.imul(c,j))|0)+((8191&(r=(r=Math.imul(c,z))+Math.imul(d,j)|0))<<13)|0;u=((s=Math.imul(d,z))+(r>>>13)|0)+(gt>>>26)|0,gt&=67108863,n=Math.imul(p,j),r=(r=Math.imul(p,z))+Math.imul(m,j)|0,s=Math.imul(m,z);var vt=(u+(n=n+Math.imul(c,H)|0)|0)+((8191&(r=(r=r+Math.imul(c,K)|0)+Math.imul(d,H)|0))<<13)|0;u=((s=s+Math.imul(d,K)|0)+(r>>>13)|0)+(vt>>>26)|0,vt&=67108863,n=Math.imul(v,j),r=(r=Math.imul(v,z))+Math.imul(y,j)|0,s=Math.imul(y,z),n=n+Math.imul(p,H)|0,r=(r=r+Math.imul(p,K)|0)+Math.imul(m,H)|0,s=s+Math.imul(m,K)|0;var yt=(u+(n=n+Math.imul(c,W)|0)|0)+((8191&(r=(r=r+Math.imul(c,Q)|0)+Math.imul(d,W)|0))<<13)|0;u=((s=s+Math.imul(d,Q)|0)+(r>>>13)|0)+(yt>>>26)|0,yt&=67108863,n=Math.imul(w,j),r=(r=Math.imul(w,z))+Math.imul(_,j)|0,s=Math.imul(_,z),n=n+Math.imul(v,H)|0,r=(r=r+Math.imul(v,K)|0)+Math.imul(y,H)|0,s=s+Math.imul(y,K)|0,n=n+Math.imul(p,W)|0,r=(r=r+Math.imul(p,Q)|0)+Math.imul(m,W)|0,s=s+Math.imul(m,Q)|0;var bt=(u+(n=n+Math.imul(c,Z)|0)|0)+((8191&(r=(r=r+Math.imul(c,Y)|0)+Math.imul(d,Z)|0))<<13)|0;u=((s=s+Math.imul(d,Y)|0)+(r>>>13)|0)+(bt>>>26)|0,bt&=67108863,n=Math.imul(A,j),r=(r=Math.imul(A,z))+Math.imul(k,j)|0,s=Math.imul(k,z),n=n+Math.imul(w,H)|0,r=(r=r+Math.imul(w,K)|0)+Math.imul(_,H)|0,s=s+Math.imul(_,K)|0,n=n+Math.imul(v,W)|0,r=(r=r+Math.imul(v,Q)|0)+Math.imul(y,W)|0,s=s+Math.imul(y,Q)|0,n=n+Math.imul(p,Z)|0,r=(r=r+Math.imul(p,Y)|0)+Math.imul(m,Z)|0,s=s+Math.imul(m,Y)|0;var wt=(u+(n=n+Math.imul(c,J)|0)|0)+((8191&(r=(r=r+Math.imul(c,tt)|0)+Math.imul(d,J)|0))<<13)|0;u=((s=s+Math.imul(d,tt)|0)+(r>>>13)|0)+(wt>>>26)|0,wt&=67108863,n=Math.imul(x,j),r=(r=Math.imul(x,z))+Math.imul(S,j)|0,s=Math.imul(S,z),n=n+Math.imul(A,H)|0,r=(r=r+Math.imul(A,K)|0)+Math.imul(k,H)|0,s=s+Math.imul(k,K)|0,n=n+Math.imul(w,W)|0,r=(r=r+Math.imul(w,Q)|0)+Math.imul(_,W)|0,s=s+Math.imul(_,Q)|0,n=n+Math.imul(v,Z)|0,r=(r=r+Math.imul(v,Y)|0)+Math.imul(y,Z)|0,s=s+Math.imul(y,Y)|0,n=n+Math.imul(p,J)|0,r=(r=r+Math.imul(p,tt)|0)+Math.imul(m,J)|0,s=s+Math.imul(m,tt)|0;var _t=(u+(n=n+Math.imul(c,it)|0)|0)+((8191&(r=(r=r+Math.imul(c,nt)|0)+Math.imul(d,it)|0))<<13)|0;u=((s=s+Math.imul(d,nt)|0)+(r>>>13)|0)+(_t>>>26)|0,_t&=67108863,n=Math.imul(I,j),r=(r=Math.imul(I,z))+Math.imul(q,j)|0,s=Math.imul(q,z),n=n+Math.imul(x,H)|0,r=(r=r+Math.imul(x,K)|0)+Math.imul(S,H)|0,s=s+Math.imul(S,K)|0,n=n+Math.imul(A,W)|0,r=(r=r+Math.imul(A,Q)|0)+Math.imul(k,W)|0,s=s+Math.imul(k,Q)|0,n=n+Math.imul(w,Z)|0,r=(r=r+Math.imul(w,Y)|0)+Math.imul(_,Z)|0,s=s+Math.imul(_,Y)|0,n=n+Math.imul(v,J)|0,r=(r=r+Math.imul(v,tt)|0)+Math.imul(y,J)|0,s=s+Math.imul(y,tt)|0,n=n+Math.imul(p,it)|0,r=(r=r+Math.imul(p,nt)|0)+Math.imul(m,it)|0,s=s+Math.imul(m,nt)|0;var Mt=(u+(n=n+Math.imul(c,st)|0)|0)+((8191&(r=(r=r+Math.imul(c,ot)|0)+Math.imul(d,st)|0))<<13)|0;u=((s=s+Math.imul(d,ot)|0)+(r>>>13)|0)+(Mt>>>26)|0,Mt&=67108863,n=Math.imul(C,j),r=(r=Math.imul(C,z))+Math.imul(N,j)|0,s=Math.imul(N,z),n=n+Math.imul(I,H)|0,r=(r=r+Math.imul(I,K)|0)+Math.imul(q,H)|0,s=s+Math.imul(q,K)|0,n=n+Math.imul(x,W)|0,r=(r=r+Math.imul(x,Q)|0)+Math.imul(S,W)|0,s=s+Math.imul(S,Q)|0,n=n+Math.imul(A,Z)|0,r=(r=r+Math.imul(A,Y)|0)+Math.imul(k,Z)|0,s=s+Math.imul(k,Y)|0,n=n+Math.imul(w,J)|0,r=(r=r+Math.imul(w,tt)|0)+Math.imul(_,J)|0,s=s+Math.imul(_,tt)|0,n=n+Math.imul(v,it)|0,r=(r=r+Math.imul(v,nt)|0)+Math.imul(y,it)|0,s=s+Math.imul(y,nt)|0,n=n+Math.imul(p,st)|0,r=(r=r+Math.imul(p,ot)|0)+Math.imul(m,st)|0,s=s+Math.imul(m,ot)|0;var At=(u+(n=n+Math.imul(c,ht)|0)|0)+((8191&(r=(r=r+Math.imul(c,ut)|0)+Math.imul(d,ht)|0))<<13)|0;u=((s=s+Math.imul(d,ut)|0)+(r>>>13)|0)+(At>>>26)|0,At&=67108863,n=Math.imul(D,j),r=(r=Math.imul(D,z))+Math.imul(O,j)|0,s=Math.imul(O,z),n=n+Math.imul(C,H)|0,r=(r=r+Math.imul(C,K)|0)+Math.imul(N,H)|0,s=s+Math.imul(N,K)|0,n=n+Math.imul(I,W)|0,r=(r=r+Math.imul(I,Q)|0)+Math.imul(q,W)|0,s=s+Math.imul(q,Q)|0,n=n+Math.imul(x,Z)|0,r=(r=r+Math.imul(x,Y)|0)+Math.imul(S,Z)|0,s=s+Math.imul(S,Y)|0,n=n+Math.imul(A,J)|0,r=(r=r+Math.imul(A,tt)|0)+Math.imul(k,J)|0,s=s+Math.imul(k,tt)|0,n=n+Math.imul(w,it)|0,r=(r=r+Math.imul(w,nt)|0)+Math.imul(_,it)|0,s=s+Math.imul(_,nt)|0,n=n+Math.imul(v,st)|0,r=(r=r+Math.imul(v,ot)|0)+Math.imul(y,st)|0,s=s+Math.imul(y,ot)|0,n=n+Math.imul(p,ht)|0,r=(r=r+Math.imul(p,ut)|0)+Math.imul(m,ht)|0,s=s+Math.imul(m,ut)|0;var kt=(u+(n=n+Math.imul(c,ct)|0)|0)+((8191&(r=(r=r+Math.imul(c,dt)|0)+Math.imul(d,ct)|0))<<13)|0;u=((s=s+Math.imul(d,dt)|0)+(r>>>13)|0)+(kt>>>26)|0,kt&=67108863,n=Math.imul(P,j),r=(r=Math.imul(P,z))+Math.imul(U,j)|0,s=Math.imul(U,z),n=n+Math.imul(D,H)|0,r=(r=r+Math.imul(D,K)|0)+Math.imul(O,H)|0,s=s+Math.imul(O,K)|0,n=n+Math.imul(C,W)|0,r=(r=r+Math.imul(C,Q)|0)+Math.imul(N,W)|0,s=s+Math.imul(N,Q)|0,n=n+Math.imul(I,Z)|0,r=(r=r+Math.imul(I,Y)|0)+Math.imul(q,Z)|0,s=s+Math.imul(q,Y)|0,n=n+Math.imul(x,J)|0,r=(r=r+Math.imul(x,tt)|0)+Math.imul(S,J)|0,s=s+Math.imul(S,tt)|0,n=n+Math.imul(A,it)|0,r=(r=r+Math.imul(A,nt)|0)+Math.imul(k,it)|0,s=s+Math.imul(k,nt)|0,n=n+Math.imul(w,st)|0,r=(r=r+Math.imul(w,ot)|0)+Math.imul(_,st)|0,s=s+Math.imul(_,ot)|0,n=n+Math.imul(v,ht)|0,r=(r=r+Math.imul(v,ut)|0)+Math.imul(y,ht)|0,s=s+Math.imul(y,ut)|0,n=n+Math.imul(p,ct)|0,r=(r=r+Math.imul(p,dt)|0)+Math.imul(m,ct)|0,s=s+Math.imul(m,dt)|0;var Et=(u+(n=n+Math.imul(c,pt)|0)|0)+((8191&(r=(r=r+Math.imul(c,mt)|0)+Math.imul(d,pt)|0))<<13)|0;u=((s=s+Math.imul(d,mt)|0)+(r>>>13)|0)+(Et>>>26)|0,Et&=67108863,n=Math.imul(P,H),r=(r=Math.imul(P,K))+Math.imul(U,H)|0,s=Math.imul(U,K),n=n+Math.imul(D,W)|0,r=(r=r+Math.imul(D,Q)|0)+Math.imul(O,W)|0,s=s+Math.imul(O,Q)|0,n=n+Math.imul(C,Z)|0,r=(r=r+Math.imul(C,Y)|0)+Math.imul(N,Z)|0,s=s+Math.imul(N,Y)|0,n=n+Math.imul(I,J)|0,r=(r=r+Math.imul(I,tt)|0)+Math.imul(q,J)|0,s=s+Math.imul(q,tt)|0,n=n+Math.imul(x,it)|0,r=(r=r+Math.imul(x,nt)|0)+Math.imul(S,it)|0,s=s+Math.imul(S,nt)|0,n=n+Math.imul(A,st)|0,r=(r=r+Math.imul(A,ot)|0)+Math.imul(k,st)|0,s=s+Math.imul(k,ot)|0,n=n+Math.imul(w,ht)|0,r=(r=r+Math.imul(w,ut)|0)+Math.imul(_,ht)|0,s=s+Math.imul(_,ut)|0,n=n+Math.imul(v,ct)|0,r=(r=r+Math.imul(v,dt)|0)+Math.imul(y,ct)|0,s=s+Math.imul(y,dt)|0;var xt=(u+(n=n+Math.imul(p,pt)|0)|0)+((8191&(r=(r=r+Math.imul(p,mt)|0)+Math.imul(m,pt)|0))<<13)|0;u=((s=s+Math.imul(m,mt)|0)+(r>>>13)|0)+(xt>>>26)|0,xt&=67108863,n=Math.imul(P,W),r=(r=Math.imul(P,Q))+Math.imul(U,W)|0,s=Math.imul(U,Q),n=n+Math.imul(D,Z)|0,r=(r=r+Math.imul(D,Y)|0)+Math.imul(O,Z)|0,s=s+Math.imul(O,Y)|0,n=n+Math.imul(C,J)|0,r=(r=r+Math.imul(C,tt)|0)+Math.imul(N,J)|0,s=s+Math.imul(N,tt)|0,n=n+Math.imul(I,it)|0,r=(r=r+Math.imul(I,nt)|0)+Math.imul(q,it)|0,s=s+Math.imul(q,nt)|0,n=n+Math.imul(x,st)|0,r=(r=r+Math.imul(x,ot)|0)+Math.imul(S,st)|0,s=s+Math.imul(S,ot)|0,n=n+Math.imul(A,ht)|0,r=(r=r+Math.imul(A,ut)|0)+Math.imul(k,ht)|0,s=s+Math.imul(k,ut)|0,n=n+Math.imul(w,ct)|0,r=(r=r+Math.imul(w,dt)|0)+Math.imul(_,ct)|0,s=s+Math.imul(_,dt)|0;var St=(u+(n=n+Math.imul(v,pt)|0)|0)+((8191&(r=(r=r+Math.imul(v,mt)|0)+Math.imul(y,pt)|0))<<13)|0;u=((s=s+Math.imul(y,mt)|0)+(r>>>13)|0)+(St>>>26)|0,St&=67108863,n=Math.imul(P,Z),r=(r=Math.imul(P,Y))+Math.imul(U,Z)|0,s=Math.imul(U,Y),n=n+Math.imul(D,J)|0,r=(r=r+Math.imul(D,tt)|0)+Math.imul(O,J)|0,s=s+Math.imul(O,tt)|0,n=n+Math.imul(C,it)|0,r=(r=r+Math.imul(C,nt)|0)+Math.imul(N,it)|0,s=s+Math.imul(N,nt)|0,n=n+Math.imul(I,st)|0,r=(r=r+Math.imul(I,ot)|0)+Math.imul(q,st)|0,s=s+Math.imul(q,ot)|0,n=n+Math.imul(x,ht)|0,r=(r=r+Math.imul(x,ut)|0)+Math.imul(S,ht)|0,s=s+Math.imul(S,ut)|0,n=n+Math.imul(A,ct)|0,r=(r=r+Math.imul(A,dt)|0)+Math.imul(k,ct)|0,s=s+Math.imul(k,dt)|0;var Tt=(u+(n=n+Math.imul(w,pt)|0)|0)+((8191&(r=(r=r+Math.imul(w,mt)|0)+Math.imul(_,pt)|0))<<13)|0;u=((s=s+Math.imul(_,mt)|0)+(r>>>13)|0)+(Tt>>>26)|0,Tt&=67108863,n=Math.imul(P,J),r=(r=Math.imul(P,tt))+Math.imul(U,J)|0,s=Math.imul(U,tt),n=n+Math.imul(D,it)|0,r=(r=r+Math.imul(D,nt)|0)+Math.imul(O,it)|0,s=s+Math.imul(O,nt)|0,n=n+Math.imul(C,st)|0,r=(r=r+Math.imul(C,ot)|0)+Math.imul(N,st)|0,s=s+Math.imul(N,ot)|0,n=n+Math.imul(I,ht)|0,r=(r=r+Math.imul(I,ut)|0)+Math.imul(q,ht)|0,s=s+Math.imul(q,ut)|0,n=n+Math.imul(x,ct)|0,r=(r=r+Math.imul(x,dt)|0)+Math.imul(S,ct)|0,s=s+Math.imul(S,dt)|0;var It=(u+(n=n+Math.imul(A,pt)|0)|0)+((8191&(r=(r=r+Math.imul(A,mt)|0)+Math.imul(k,pt)|0))<<13)|0;u=((s=s+Math.imul(k,mt)|0)+(r>>>13)|0)+(It>>>26)|0,It&=67108863,n=Math.imul(P,it),r=(r=Math.imul(P,nt))+Math.imul(U,it)|0,s=Math.imul(U,nt),n=n+Math.imul(D,st)|0,r=(r=r+Math.imul(D,ot)|0)+Math.imul(O,st)|0,s=s+Math.imul(O,ot)|0,n=n+Math.imul(C,ht)|0,r=(r=r+Math.imul(C,ut)|0)+Math.imul(N,ht)|0,s=s+Math.imul(N,ut)|0,n=n+Math.imul(I,ct)|0,r=(r=r+Math.imul(I,dt)|0)+Math.imul(q,ct)|0,s=s+Math.imul(q,dt)|0;var qt=(u+(n=n+Math.imul(x,pt)|0)|0)+((8191&(r=(r=r+Math.imul(x,mt)|0)+Math.imul(S,pt)|0))<<13)|0;u=((s=s+Math.imul(S,mt)|0)+(r>>>13)|0)+(qt>>>26)|0,qt&=67108863,n=Math.imul(P,st),r=(r=Math.imul(P,ot))+Math.imul(U,st)|0,s=Math.imul(U,ot),n=n+Math.imul(D,ht)|0,r=(r=r+Math.imul(D,ut)|0)+Math.imul(O,ht)|0,s=s+Math.imul(O,ut)|0,n=n+Math.imul(C,ct)|0,r=(r=r+Math.imul(C,dt)|0)+Math.imul(N,ct)|0,s=s+Math.imul(N,dt)|0;var Rt=(u+(n=n+Math.imul(I,pt)|0)|0)+((8191&(r=(r=r+Math.imul(I,mt)|0)+Math.imul(q,pt)|0))<<13)|0;u=((s=s+Math.imul(q,mt)|0)+(r>>>13)|0)+(Rt>>>26)|0,Rt&=67108863,n=Math.imul(P,ht),r=(r=Math.imul(P,ut))+Math.imul(U,ht)|0,s=Math.imul(U,ut),n=n+Math.imul(D,ct)|0,r=(r=r+Math.imul(D,dt)|0)+Math.imul(O,ct)|0,s=s+Math.imul(O,dt)|0;var Ct=(u+(n=n+Math.imul(C,pt)|0)|0)+((8191&(r=(r=r+Math.imul(C,mt)|0)+Math.imul(N,pt)|0))<<13)|0;u=((s=s+Math.imul(N,mt)|0)+(r>>>13)|0)+(Ct>>>26)|0,Ct&=67108863,n=Math.imul(P,ct),r=(r=Math.imul(P,dt))+Math.imul(U,ct)|0,s=Math.imul(U,dt);var Nt=(u+(n=n+Math.imul(D,pt)|0)|0)+((8191&(r=(r=r+Math.imul(D,mt)|0)+Math.imul(O,pt)|0))<<13)|0;u=((s=s+Math.imul(O,mt)|0)+(r>>>13)|0)+(Nt>>>26)|0,Nt&=67108863;var Lt=(u+(n=Math.imul(P,pt))|0)+((8191&(r=(r=Math.imul(P,mt))+Math.imul(U,pt)|0))<<13)|0;return u=((s=Math.imul(U,mt))+(r>>>13)|0)+(Lt>>>26)|0,Lt&=67108863,h[0]=gt,h[1]=vt,h[2]=yt,h[3]=bt,h[4]=wt,h[5]=_t,h[6]=Mt,h[7]=At,h[8]=kt,h[9]=Et,h[10]=xt,h[11]=St,h[12]=Tt,h[13]=It,h[14]=qt,h[15]=Rt,h[16]=Ct,h[17]=Nt,h[18]=Lt,0!==u&&(h[19]=u,i.length++),i};function m(t,e,i){return(new g).mulp(t,e,i)}function g(t,e){this.x=t,this.y=e}Math.imul||(p=f),s.prototype.mulTo=function(t,e){var i,n=this.length+t.length;return i=10===this.length&&10===t.length?p(this,t,e):n<63?f(this,t,e):n<1024?function(t,e,i){i.negative=e.negative^t.negative,i.length=t.length+e.length;for(var n=0,r=0,s=0;s<i.length-1;s++){var o=r;r=0;for(var a=67108863&n,h=Math.min(s,e.length-1),u=Math.max(0,s-t.length+1);u<=h;u++){var l=s-u,c=(0|t.words[l])*(0|e.words[u]),d=67108863&c;a=67108863&(d=d+a|0),r+=(o=(o=o+(c/67108864|0)|0)+(d>>>26)|0)>>>26,o&=67108863}i.words[s]=a,n=o,o=r}return 0!==n?i.words[s]=n:i.length--,i.strip()}(this,t,e):m(this,t,e),i},g.prototype.makeRBT=function(t){for(var e=new Array(t),i=s.prototype._countBits(t)-1,n=0;n<t;n++)e[n]=this.revBin(n,i,t);return e},g.prototype.revBin=function(t,e,i){if(0===t||t===i-1)return t;for(var n=0,r=0;r<e;r++)n|=(1&t)<<e-r-1,t>>=1;return n},g.prototype.permute=function(t,e,i,n,r,s){for(var o=0;o<s;o++)n[o]=e[t[o]],r[o]=i[t[o]]},g.prototype.transform=function(t,e,i,n,r,s){this.permute(s,t,e,i,n,r);for(var o=1;o<r;o<<=1)for(var a=o<<1,h=Math.cos(2*Math.PI/a),u=Math.sin(2*Math.PI/a),l=0;l<r;l+=a)for(var c=h,d=u,f=0;f<o;f++){var p=i[l+f],m=n[l+f],g=i[l+f+o],v=n[l+f+o],y=c*g-d*v;v=c*v+d*g,g=y,i[l+f]=p+g,n[l+f]=m+v,i[l+f+o]=p-g,n[l+f+o]=m-v,f!==a&&(y=h*c-u*d,d=h*d+u*c,c=y)}},g.prototype.guessLen13b=function(t,e){var i=1|Math.max(e,t),n=1&i,r=0;for(i=i/2|0;i;i>>>=1)r++;return 1<<r+1+n},g.prototype.conjugate=function(t,e,i){if(!(i<=1))for(var n=0;n<i/2;n++){var r=t[n];t[n]=t[i-n-1],t[i-n-1]=r,r=e[n],e[n]=-e[i-n-1],e[i-n-1]=-r}},g.prototype.normalize13b=function(t,e){for(var i=0,n=0;n<e/2;n++){var r=8192*Math.round(t[2*n+1]/e)+Math.round(t[2*n]/e)+i;t[n]=67108863&r,i=r<67108864?0:r/67108864|0}return t},g.prototype.convert13b=function(t,e,n,r){for(var s=0,o=0;o<e;o++)s+=0|t[o],n[2*o]=8191&s,s>>>=13,n[2*o+1]=8191&s,s>>>=13;for(o=2*e;o<r;++o)n[o]=0;i(0===s),i(0==(-8192&s))},g.prototype.stub=function(t){for(var e=new Array(t),i=0;i<t;i++)e[i]=0;return e},g.prototype.mulp=function(t,e,i){var n=2*this.guessLen13b(t.length,e.length),r=this.makeRBT(n),s=this.stub(n),o=new Array(n),a=new Array(n),h=new Array(n),u=new Array(n),l=new Array(n),c=new Array(n),d=i.words;d.length=n,this.convert13b(t.words,t.length,o,n),this.convert13b(e.words,e.length,u,n),this.transform(o,s,a,h,n,r),this.transform(u,s,l,c,n,r);for(var f=0;f<n;f++){var p=a[f]*l[f]-h[f]*c[f];h[f]=a[f]*c[f]+h[f]*l[f],a[f]=p}return this.conjugate(a,h,n),this.transform(a,h,d,s,n,r),this.conjugate(d,s,n),this.normalize13b(d,n),i.negative=t.negative^e.negative,i.length=t.length+e.length,i.strip()},s.prototype.mul=function(t){var e=new s(null);return e.words=new Array(this.length+t.length),this.mulTo(t,e)},s.prototype.mulf=function(t){var e=new s(null);return e.words=new Array(this.length+t.length),m(this,t,e)},s.prototype.imul=function(t){return this.clone().mulTo(t,this)},s.prototype.imuln=function(t){i("number"==typeof t),i(t<67108864);for(var e=0,n=0;n<this.length;n++){var r=(0|this.words[n])*t,s=(67108863&r)+(67108863&e);e>>=26,e+=r/67108864|0,e+=s>>>26,this.words[n]=67108863&s}return 0!==e&&(this.words[n]=e,this.length++),this},s.prototype.muln=function(t){return this.clone().imuln(t)},s.prototype.sqr=function(){return this.mul(this)},s.prototype.isqr=function(){return this.imul(this.clone())},s.prototype.pow=function(t){var e=function(t){for(var e=new Array(t.bitLength()),i=0;i<e.length;i++){var n=i/26|0,r=i%26;e[i]=(t.words[n]&1<<r)>>>r}return e}(t);if(0===e.length)return new s(1);for(var i=this,n=0;n<e.length&&0===e[n];n++,i=i.sqr());if(++n<e.length)for(var r=i.sqr();n<e.length;n++,r=r.sqr())0!==e[n]&&(i=i.mul(r));return i},s.prototype.iushln=function(t){i("number"==typeof t&&t>=0);var e,n=t%26,r=(t-n)/26,s=67108863>>>26-n<<26-n;if(0!==n){var o=0;for(e=0;e<this.length;e++){var a=this.words[e]&s,h=(0|this.words[e])-a<<n;this.words[e]=h|o,o=a>>>26-n}o&&(this.words[e]=o,this.length++)}if(0!==r){for(e=this.length-1;e>=0;e--)this.words[e+r]=this.words[e];for(e=0;e<r;e++)this.words[e]=0;this.length+=r}return this.strip()},s.prototype.ishln=function(t){return i(0===this.negative),this.iushln(t)},s.prototype.iushrn=function(t,e,n){var r;i("number"==typeof t&&t>=0),r=e?(e-e%26)/26:0;var s=t%26,o=Math.min((t-s)/26,this.length),a=67108863^67108863>>>s<<s,h=n;if(r-=o,r=Math.max(0,r),h){for(var u=0;u<o;u++)h.words[u]=this.words[u];h.length=o}if(0===o);else if(this.length>o)for(this.length-=o,u=0;u<this.length;u++)this.words[u]=this.words[u+o];else this.words[0]=0,this.length=1;var l=0;for(u=this.length-1;u>=0&&(0!==l||u>=r);u--){var c=0|this.words[u];this.words[u]=l<<26-s|c>>>s,l=c&a}return h&&0!==l&&(h.words[h.length++]=l),0===this.length&&(this.words[0]=0,this.length=1),this.strip()},s.prototype.ishrn=function(t,e,n){return i(0===this.negative),this.iushrn(t,e,n)},s.prototype.shln=function(t){return this.clone().ishln(t)},s.prototype.ushln=function(t){return this.clone().iushln(t)},s.prototype.shrn=function(t){return this.clone().ishrn(t)},s.prototype.ushrn=function(t){return this.clone().iushrn(t)},s.prototype.testn=function(t){i("number"==typeof t&&t>=0);var e=t%26,n=(t-e)/26,r=1<<e;return!(this.length<=n)&&!!(this.words[n]&r)},s.prototype.imaskn=function(t){i("number"==typeof t&&t>=0);var e=t%26,n=(t-e)/26;if(i(0===this.negative,"imaskn works only with positive numbers"),this.length<=n)return this;if(0!==e&&n++,this.length=Math.min(n,this.length),0!==e){var r=67108863^67108863>>>e<<e;this.words[this.length-1]&=r}return this.strip()},s.prototype.maskn=function(t){return this.clone().imaskn(t)},s.prototype.iaddn=function(t){return i("number"==typeof t),i(t<67108864),t<0?this.isubn(-t):0!==this.negative?1===this.length&&(0|this.words[0])<t?(this.words[0]=t-(0|this.words[0]),this.negative=0,this):(this.negative=0,this.isubn(t),this.negative=1,this):this._iaddn(t)},s.prototype._iaddn=function(t){this.words[0]+=t;for(var e=0;e<this.length&&this.words[e]>=67108864;e++)this.words[e]-=67108864,e===this.length-1?this.words[e+1]=1:this.words[e+1]++;return this.length=Math.max(this.length,e+1),this},s.prototype.isubn=function(t){if(i("number"==typeof t),i(t<67108864),t<0)return this.iaddn(-t);if(0!==this.negative)return this.negative=0,this.iaddn(t),this.negative=1,this;if(this.words[0]-=t,1===this.length&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var e=0;e<this.length&&this.words[e]<0;e++)this.words[e]+=67108864,this.words[e+1]-=1;return this.strip()},s.prototype.addn=function(t){return this.clone().iaddn(t)},s.prototype.subn=function(t){return this.clone().isubn(t)},s.prototype.iabs=function(){return this.negative=0,this},s.prototype.abs=function(){return this.clone().iabs()},s.prototype._ishlnsubmul=function(t,e,n){var r,s,o=t.length+n;this._expand(o);var a=0;for(r=0;r<t.length;r++){s=(0|this.words[r+n])+a;var h=(0|t.words[r])*e;a=((s-=67108863&h)>>26)-(h/67108864|0),this.words[r+n]=67108863&s}for(;r<this.length-n;r++)a=(s=(0|this.words[r+n])+a)>>26,this.words[r+n]=67108863&s;if(0===a)return this.strip();for(i(-1===a),a=0,r=0;r<this.length;r++)a=(s=-(0|this.words[r])+a)>>26,this.words[r]=67108863&s;return this.negative=1,this.strip()},s.prototype._wordDiv=function(t,e){var i=(this.length,t.length),n=this.clone(),r=t,o=0|r.words[r.length-1];0!==(i=26-this._countBits(o))&&(r=r.ushln(i),n.iushln(i),o=0|r.words[r.length-1]);var a,h=n.length-r.length;if("mod"!==e){(a=new s(null)).length=h+1,a.words=new Array(a.length);for(var u=0;u<a.length;u++)a.words[u]=0}var l=n.clone()._ishlnsubmul(r,1,h);0===l.negative&&(n=l,a&&(a.words[h]=1));for(var c=h-1;c>=0;c--){var d=67108864*(0|n.words[r.length+c])+(0|n.words[r.length+c-1]);for(d=Math.min(d/o|0,67108863),n._ishlnsubmul(r,d,c);0!==n.negative;)d--,n.negative=0,n._ishlnsubmul(r,1,c),n.isZero()||(n.negative^=1);a&&(a.words[c]=d)}return a&&a.strip(),n.strip(),"div"!==e&&0!==i&&n.iushrn(i),{div:a||null,mod:n}},s.prototype.divmod=function(t,e,n){return i(!t.isZero()),this.isZero()?{div:new s(0),mod:new s(0)}:0!==this.negative&&0===t.negative?(a=this.neg().divmod(t,e),"mod"!==e&&(r=a.div.neg()),"div"!==e&&(o=a.mod.neg(),n&&0!==o.negative&&o.iadd(t)),{div:r,mod:o}):0===this.negative&&0!==t.negative?(a=this.divmod(t.neg(),e),"mod"!==e&&(r=a.div.neg()),{div:r,mod:a.mod}):0!=(this.negative&t.negative)?(a=this.neg().divmod(t.neg(),e),"div"!==e&&(o=a.mod.neg(),n&&0!==o.negative&&o.isub(t)),{div:a.div,mod:o}):t.length>this.length||this.cmp(t)<0?{div:new s(0),mod:this}:1===t.length?"div"===e?{div:this.divn(t.words[0]),mod:null}:"mod"===e?{div:null,mod:new s(this.modn(t.words[0]))}:{div:this.divn(t.words[0]),mod:new s(this.modn(t.words[0]))}:this._wordDiv(t,e);var r,o,a},s.prototype.div=function(t){return this.divmod(t,"div",!1).div},s.prototype.mod=function(t){return this.divmod(t,"mod",!1).mod},s.prototype.umod=function(t){return this.divmod(t,"mod",!0).mod},s.prototype.divRound=function(t){var e=this.divmod(t);if(e.mod.isZero())return e.div;var i=0!==e.div.negative?e.mod.isub(t):e.mod,n=t.ushrn(1),r=t.andln(1),s=i.cmp(n);return s<0||1===r&&0===s?e.div:0!==e.div.negative?e.div.isubn(1):e.div.iaddn(1)},s.prototype.modn=function(t){i(t<=67108863);for(var e=67108864%t,n=0,r=this.length-1;r>=0;r--)n=(e*n+(0|this.words[r]))%t;return n},s.prototype.idivn=function(t){i(t<=67108863);for(var e=0,n=this.length-1;n>=0;n--){var r=(0|this.words[n])+67108864*e;this.words[n]=r/t|0,e=r%t}return this.strip()},s.prototype.divn=function(t){return this.clone().idivn(t)},s.prototype.egcd=function(t){i(0===t.negative),i(!t.isZero());var e=this,n=t.clone();e=0!==e.negative?e.umod(t):e.clone();for(var r=new s(1),o=new s(0),a=new s(0),h=new s(1),u=0;e.isEven()&&n.isEven();)e.iushrn(1),n.iushrn(1),++u;for(var l=n.clone(),c=e.clone();!e.isZero();){for(var d=0,f=1;0==(e.words[0]&f)&&d<26;++d,f<<=1);if(d>0)for(e.iushrn(d);d-- >0;)(r.isOdd()||o.isOdd())&&(r.iadd(l),o.isub(c)),r.iushrn(1),o.iushrn(1);for(var p=0,m=1;0==(n.words[0]&m)&&p<26;++p,m<<=1);if(p>0)for(n.iushrn(p);p-- >0;)(a.isOdd()||h.isOdd())&&(a.iadd(l),h.isub(c)),a.iushrn(1),h.iushrn(1);e.cmp(n)>=0?(e.isub(n),r.isub(a),o.isub(h)):(n.isub(e),a.isub(r),h.isub(o))}return{a:a,b:h,gcd:n.iushln(u)}},s.prototype._invmp=function(t){i(0===t.negative),i(!t.isZero());var e=this,n=t.clone();e=0!==e.negative?e.umod(t):e.clone();for(var r,o=new s(1),a=new s(0),h=n.clone();e.cmpn(1)>0&&n.cmpn(1)>0;){for(var u=0,l=1;0==(e.words[0]&l)&&u<26;++u,l<<=1);if(u>0)for(e.iushrn(u);u-- >0;)o.isOdd()&&o.iadd(h),o.iushrn(1);for(var c=0,d=1;0==(n.words[0]&d)&&c<26;++c,d<<=1);if(c>0)for(n.iushrn(c);c-- >0;)a.isOdd()&&a.iadd(h),a.iushrn(1);e.cmp(n)>=0?(e.isub(n),o.isub(a)):(n.isub(e),a.isub(o))}return(r=0===e.cmpn(1)?o:a).cmpn(0)<0&&r.iadd(t),r},s.prototype.gcd=function(t){if(this.isZero())return t.abs();if(t.isZero())return this.abs();var e=this.clone(),i=t.clone();e.negative=0,i.negative=0;for(var n=0;e.isEven()&&i.isEven();n++)e.iushrn(1),i.iushrn(1);for(;;){for(;e.isEven();)e.iushrn(1);for(;i.isEven();)i.iushrn(1);var r=e.cmp(i);if(r<0){var s=e;e=i,i=s}else if(0===r||0===i.cmpn(1))break;e.isub(i)}return i.iushln(n)},s.prototype.invm=function(t){return this.egcd(t).a.umod(t)},s.prototype.isEven=function(){return 0==(1&this.words[0])},s.prototype.isOdd=function(){return 1==(1&this.words[0])},s.prototype.andln=function(t){return this.words[0]&t},s.prototype.bincn=function(t){i("number"==typeof t);var e=t%26,n=(t-e)/26,r=1<<e;if(this.length<=n)return this._expand(n+1),this.words[n]|=r,this;for(var s=r,o=n;0!==s&&o<this.length;o++){var a=0|this.words[o];s=(a+=s)>>>26,a&=67108863,this.words[o]=a}return 0!==s&&(this.words[o]=s,this.length++),this},s.prototype.isZero=function(){return 1===this.length&&0===this.words[0]},s.prototype.cmpn=function(t){var e,n=t<0;if(0!==this.negative&&!n)return-1;if(0===this.negative&&n)return 1;if(this.strip(),this.length>1)e=1;else{n&&(t=-t),i(t<=67108863,"Number is too big");var r=0|this.words[0];e=r===t?0:r<t?-1:1}return 0!==this.negative?0|-e:e},s.prototype.cmp=function(t){if(0!==this.negative&&0===t.negative)return-1;if(0===this.negative&&0!==t.negative)return 1;var e=this.ucmp(t);return 0!==this.negative?0|-e:e},s.prototype.ucmp=function(t){if(this.length>t.length)return 1;if(this.length<t.length)return-1;for(var e=0,i=this.length-1;i>=0;i--){var n=0|this.words[i],r=0|t.words[i];if(n!==r){n<r?e=-1:n>r&&(e=1);break}}return e},s.prototype.gtn=function(t){return 1===this.cmpn(t)},s.prototype.gt=function(t){return 1===this.cmp(t)},s.prototype.gten=function(t){return this.cmpn(t)>=0},s.prototype.gte=function(t){return this.cmp(t)>=0},s.prototype.ltn=function(t){return-1===this.cmpn(t)},s.prototype.lt=function(t){return-1===this.cmp(t)},s.prototype.lten=function(t){return this.cmpn(t)<=0},s.prototype.lte=function(t){return this.cmp(t)<=0},s.prototype.eqn=function(t){return 0===this.cmpn(t)},s.prototype.eq=function(t){return 0===this.cmp(t)},s.red=function(t){return new A(t)},s.prototype.toRed=function(t){return i(!this.red,"Already a number in reduction context"),i(0===this.negative,"red works only with positives"),t.convertTo(this)._forceRed(t)},s.prototype.fromRed=function(){return i(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},s.prototype._forceRed=function(t){return this.red=t,this},s.prototype.forceRed=function(t){return i(!this.red,"Already a number in reduction context"),this._forceRed(t)},s.prototype.redAdd=function(t){return i(this.red,"redAdd works only with red numbers"),this.red.add(this,t)},s.prototype.redIAdd=function(t){return i(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,t)},s.prototype.redSub=function(t){return i(this.red,"redSub works only with red numbers"),this.red.sub(this,t)},s.prototype.redISub=function(t){return i(this.red,"redISub works only with red numbers"),this.red.isub(this,t)},s.prototype.redShl=function(t){return i(this.red,"redShl works only with red numbers"),this.red.shl(this,t)},s.prototype.redMul=function(t){return i(this.red,"redMul works only with red numbers"),this.red._verify2(this,t),this.red.mul(this,t)},s.prototype.redIMul=function(t){return i(this.red,"redMul works only with red numbers"),this.red._verify2(this,t),this.red.imul(this,t)},s.prototype.redSqr=function(){return i(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},s.prototype.redISqr=function(){return i(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},s.prototype.redSqrt=function(){return i(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},s.prototype.redInvm=function(){return i(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},s.prototype.redNeg=function(){return i(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},s.prototype.redPow=function(t){return i(this.red&&!t.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,t)};var v={k256:null,p224:null,p192:null,p25519:null};function y(t,e){this.name=t,this.p=new s(e,16),this.n=this.p.bitLength(),this.k=new s(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}function b(){y.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}function w(){y.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}function _(){y.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}function M(){y.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}function A(t){if("string"==typeof t){var e=s._prime(t);this.m=e.p,this.prime=e}else i(t.gtn(1),"modulus must be greater than 1"),this.m=t,this.prime=null}function k(t){A.call(this,t),this.shift=this.m.bitLength(),this.shift%26!=0&&(this.shift+=26-this.shift%26),this.r=new s(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}y.prototype._tmp=function(){var t=new s(null);return t.words=new Array(Math.ceil(this.n/13)),t},y.prototype.ireduce=function(t){var e,i=t;do{this.split(i,this.tmp),e=(i=(i=this.imulK(i)).iadd(this.tmp)).bitLength()}while(e>this.n);var n=e<this.n?-1:i.ucmp(this.p);return 0===n?(i.words[0]=0,i.length=1):n>0?i.isub(this.p):void 0!==i.strip?i.strip():i._strip(),i},y.prototype.split=function(t,e){t.iushrn(this.n,0,e)},y.prototype.imulK=function(t){return t.imul(this.k)},n(b,y),b.prototype.split=function(t,e){for(var i=4194303,n=Math.min(t.length,9),r=0;r<n;r++)e.words[r]=t.words[r];if(e.length=n,t.length<=9)return t.words[0]=0,void(t.length=1);var s=t.words[9];for(e.words[e.length++]=s&i,r=10;r<t.length;r++){var o=0|t.words[r];t.words[r-10]=(o&i)<<4|s>>>22,s=o}s>>>=22,t.words[r-10]=s,0===s&&t.length>10?t.length-=10:t.length-=9},b.prototype.imulK=function(t){t.words[t.length]=0,t.words[t.length+1]=0,t.length+=2;for(var e=0,i=0;i<t.length;i++){var n=0|t.words[i];e+=977*n,t.words[i]=67108863&e,e=64*n+(e/67108864|0)}return 0===t.words[t.length-1]&&(t.length--,0===t.words[t.length-1]&&t.length--),t},n(w,y),n(_,y),n(M,y),M.prototype.imulK=function(t){for(var e=0,i=0;i<t.length;i++){var n=19*(0|t.words[i])+e,r=67108863&n;n>>>=26,t.words[i]=r,e=n}return 0!==e&&(t.words[t.length++]=e),t},s._prime=function(t){if(v[t])return v[t];var e;if("k256"===t)e=new b;else if("p224"===t)e=new w;else if("p192"===t)e=new _;else{if("p25519"!==t)throw new Error("Unknown prime "+t);e=new M}return v[t]=e,e},A.prototype._verify1=function(t){i(0===t.negative,"red works only with positives"),i(t.red,"red works only with red numbers")},A.prototype._verify2=function(t,e){i(0==(t.negative|e.negative),"red works only with positives"),i(t.red&&t.red===e.red,"red works only with red numbers")},A.prototype.imod=function(t){return this.prime?this.prime.ireduce(t)._forceRed(this):t.umod(this.m)._forceRed(this)},A.prototype.neg=function(t){return t.isZero()?t.clone():this.m.sub(t)._forceRed(this)},A.prototype.add=function(t,e){this._verify2(t,e);var i=t.add(e);return i.cmp(this.m)>=0&&i.isub(this.m),i._forceRed(this)},A.prototype.iadd=function(t,e){this._verify2(t,e);var i=t.iadd(e);return i.cmp(this.m)>=0&&i.isub(this.m),i},A.prototype.sub=function(t,e){this._verify2(t,e);var i=t.sub(e);return i.cmpn(0)<0&&i.iadd(this.m),i._forceRed(this)},A.prototype.isub=function(t,e){this._verify2(t,e);var i=t.isub(e);return i.cmpn(0)<0&&i.iadd(this.m),i},A.prototype.shl=function(t,e){return this._verify1(t),this.imod(t.ushln(e))},A.prototype.imul=function(t,e){return this._verify2(t,e),this.imod(t.imul(e))},A.prototype.mul=function(t,e){return this._verify2(t,e),this.imod(t.mul(e))},A.prototype.isqr=function(t){return this.imul(t,t.clone())},A.prototype.sqr=function(t){return this.mul(t,t)},A.prototype.sqrt=function(t){if(t.isZero())return t.clone();var e=this.m.andln(3);if(i(e%2==1),3===e){var n=this.m.add(new s(1)).iushrn(2);return this.pow(t,n)}for(var r=this.m.subn(1),o=0;!r.isZero()&&0===r.andln(1);)o++,r.iushrn(1);i(!r.isZero());var a=new s(1).toRed(this),h=a.redNeg(),u=this.m.subn(1).iushrn(1),l=this.m.bitLength();for(l=new s(2*l*l).toRed(this);0!==this.pow(l,u).cmp(h);)l.redIAdd(h);for(var c=this.pow(l,r),d=this.pow(t,r.addn(1).iushrn(1)),f=this.pow(t,r),p=o;0!==f.cmp(a);){for(var m=f,g=0;0!==m.cmp(a);g++)m=m.redSqr();i(g<p);var v=this.pow(c,new s(1).iushln(p-g-1));d=d.redMul(v),c=v.redSqr(),f=f.redMul(c),p=g}return d},A.prototype.invm=function(t){var e=t._invmp(this.m);return 0!==e.negative?(e.negative=0,this.imod(e).redNeg()):this.imod(e)},A.prototype.pow=function(t,e){if(e.isZero())return new s(1).toRed(this);if(0===e.cmpn(1))return t.clone();var i=new Array(16);i[0]=new s(1).toRed(this),i[1]=t;for(var n=2;n<i.length;n++)i[n]=this.mul(i[n-1],t);var r=i[0],o=0,a=0,h=e.bitLength()%26;for(0===h&&(h=26),n=e.length-1;n>=0;n--){for(var u=e.words[n],l=h-1;l>=0;l--){var c=u>>l&1;r!==i[0]&&(r=this.sqr(r)),0!==c||0!==o?(o<<=1,o|=c,(4===++a||0===n&&0===l)&&(r=this.mul(r,i[o]),a=0,o=0)):a=0}h=26}return r},A.prototype.convertTo=function(t){var e=t.umod(this.m);return e===t?e.clone():e},A.prototype.convertFrom=function(t){var e=t.clone();return e.red=null,e},s.mont=function(t){return new k(t)},n(k,A),k.prototype.convertTo=function(t){return this.imod(t.ushln(this.shift))},k.prototype.convertFrom=function(t){var e=this.imod(t.mul(this.rinv));return e.red=null,e},k.prototype.imul=function(t,e){if(t.isZero()||e.isZero())return t.words[0]=0,t.length=1,t;var i=t.imul(e),n=i.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),r=i.isub(n).iushrn(this.shift),s=r;return r.cmp(this.m)>=0?s=r.isub(this.m):r.cmpn(0)<0&&(s=r.iadd(this.m)),s._forceRed(this)},k.prototype.mul=function(t,e){if(t.isZero()||e.isZero())return new s(0)._forceRed(this);var i=t.mul(e),n=i.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),r=i.isub(n).iushrn(this.shift),o=r;return r.cmp(this.m)>=0?o=r.isub(this.m):r.cmpn(0)<0&&(o=r.iadd(this.m)),o._forceRed(this)},k.prototype.invm=function(t){return this.imod(t._invmp(this.m).mul(this.r2))._forceRed(this)}}(t,this)})),r.register("e76V8",(function(e,i){var n,s,o,a;t(e.exports,"publicEncrypt",(()=>n),(t=>n=t)),t(e.exports,"privateDecrypt",(()=>s),(t=>s=t)),t(e.exports,"privateEncrypt",(()=>o),(t=>o=t)),t(e.exports,"publicDecrypt",(()=>a),(t=>a=t)),n=r("95P7C"),s=r("1LJuO"),o=function(t,e){return n(t,e,!0)},a=function(t,e){return s(t,e,!0)}})),r.register("95P7C",(function(t,e){var i=r("eOlL6"),n=r("bUSoq"),s=r("dHvdJ"),o=r("4UAri"),a=r("9nhUm"),h=r("hADws"),u=r("4w14y"),l=r("aHKJP"),c=r("4OiF0").Buffer;t.exports=function(t,e,r){var d;d=t.padding?t.padding:r?1:4;var f,p=i(t);if(4===d)f=function(t,e){var i=t.modulus.byteLength(),r=e.length,u=s("sha1").update(c.alloc(0)).digest(),l=u.length,d=2*l;if(r>i-d-2)throw new Error("message too long");var f=c.alloc(i-r-d-2),p=i-l-1,m=n(l),g=a(c.concat([u,f,c.alloc(1,1),e],p),o(m,p)),v=a(m,o(g,l));return new h(c.concat([c.alloc(1),v,g],i))}(p,e);else if(1===d)f=function(t,e,i){var r,s=e.length,o=t.modulus.byteLength();if(s>o-11)throw new Error("message too long");r=i?c.alloc(o-s-3,255):function(t){var e,i=c.allocUnsafe(t),r=0,s=n(2*t),o=0;for(;r<t;)o===s.length&&(s=n(2*t),o=0),(e=s[o++])&&(i[r++]=e);return i}(o-s-3);return new h(c.concat([c.from([0,i?1:2]),r,c.alloc(1),e],o))}(p,e,r);else{if(3!==d)throw new Error("unknown padding");if((f=new h(e)).cmp(p.modulus)>=0)throw new Error("data too long for modulus")}return r?l(f,p):u(f,p)}})),r.register("4UAri",(function(t,e){var i=r("dHvdJ"),n=r("4OiF0").Buffer;function s(t){var e=n.allocUnsafe(4);return e.writeUInt32BE(t,0),e}t.exports=function(t,e){for(var r,o=n.alloc(0),a=0;o.length<e;)r=s(a++),o=n.concat([o,i("sha1").update(t).update(r).digest()]);return o.slice(0,e)}})),r.register("9nhUm",(function(t,e){t.exports=function(t,e){for(var i=t.length,n=-1;++n<i;)t[n]^=e[n];return t}})),r.register("hADws",(function(t,e){!function(t,e){function i(t,e){if(!t)throw new Error(e||"Assertion failed")}function n(t,e){t.super_=e;var i=function(){};i.prototype=e.prototype,t.prototype=new i,t.prototype.constructor=t}function s(t,e,i){if(s.isBN(t))return t;this.negative=0,this.words=null,this.length=0,this.red=null,null!==t&&("le"!==e&&"be"!==e||(i=e,e=10),this._init(t||0,e||10,i||"be"))}var o;"object"==typeof t?t.exports=s:e.BN=s,s.BN=s,s.wordSize=26;try{o="undefined"!=typeof window&&void 0!==window.Buffer?window.Buffer:r("66yC2").Buffer}catch(t){}function a(t,e){var i=t.charCodeAt(e);return i>=65&&i<=70?i-55:i>=97&&i<=102?i-87:i-48&15}function h(t,e,i){var n=a(t,i);return i-1>=e&&(n|=a(t,i-1)<<4),n}function u(t,e,i,n){for(var r=0,s=Math.min(t.length,i),o=e;o<s;o++){var a=t.charCodeAt(o)-48;r*=n,r+=a>=49?a-49+10:a>=17?a-17+10:a}return r}s.isBN=function(t){return t instanceof s||null!==t&&"object"==typeof t&&t.constructor.wordSize===s.wordSize&&Array.isArray(t.words)},s.max=function(t,e){return t.cmp(e)>0?t:e},s.min=function(t,e){return t.cmp(e)<0?t:e},s.prototype._init=function(t,e,n){if("number"==typeof t)return this._initNumber(t,e,n);if("object"==typeof t)return this._initArray(t,e,n);"hex"===e&&(e=16),i(e===(0|e)&&e>=2&&e<=36);var r=0;"-"===(t=t.toString().replace(/\s+/g,""))[0]&&(r++,this.negative=1),r<t.length&&(16===e?this._parseHex(t,r,n):(this._parseBase(t,e,r),"le"===n&&this._initArray(this.toArray(),e,n)))},s.prototype._initNumber=function(t,e,n){t<0&&(this.negative=1,t=-t),t<67108864?(this.words=[67108863&t],this.length=1):t<4503599627370496?(this.words=[67108863&t,t/67108864&67108863],this.length=2):(i(t<9007199254740992),this.words=[67108863&t,t/67108864&67108863,1],this.length=3),"le"===n&&this._initArray(this.toArray(),e,n)},s.prototype._initArray=function(t,e,n){if(i("number"==typeof t.length),t.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(t.length/3),this.words=new Array(this.length);for(var r=0;r<this.length;r++)this.words[r]=0;var s,o,a=0;if("be"===n)for(r=t.length-1,s=0;r>=0;r-=3)o=t[r]|t[r-1]<<8|t[r-2]<<16,this.words[s]|=o<<a&67108863,this.words[s+1]=o>>>26-a&67108863,(a+=24)>=26&&(a-=26,s++);else if("le"===n)for(r=0,s=0;r<t.length;r+=3)o=t[r]|t[r+1]<<8|t[r+2]<<16,this.words[s]|=o<<a&67108863,this.words[s+1]=o>>>26-a&67108863,(a+=24)>=26&&(a-=26,s++);return this.strip()},s.prototype._parseHex=function(t,e,i){this.length=Math.ceil((t.length-e)/6),this.words=new Array(this.length);for(var n=0;n<this.length;n++)this.words[n]=0;var r,s=0,o=0;if("be"===i)for(n=t.length-1;n>=e;n-=2)r=h(t,e,n)<<s,this.words[o]|=67108863&r,s>=18?(s-=18,o+=1,this.words[o]|=r>>>26):s+=8;else for(n=(t.length-e)%2==0?e+1:e;n<t.length;n+=2)r=h(t,e,n)<<s,this.words[o]|=67108863&r,s>=18?(s-=18,o+=1,this.words[o]|=r>>>26):s+=8;this.strip()},s.prototype._parseBase=function(t,e,i){this.words=[0],this.length=1;for(var n=0,r=1;r<=67108863;r*=e)n++;n--,r=r/e|0;for(var s=t.length-i,o=s%n,a=Math.min(s,s-o)+i,h=0,l=i;l<a;l+=n)h=u(t,l,l+n,e),this.imuln(r),this.words[0]+h<67108864?this.words[0]+=h:this._iaddn(h);if(0!==o){var c=1;for(h=u(t,l,t.length,e),l=0;l<o;l++)c*=e;this.imuln(c),this.words[0]+h<67108864?this.words[0]+=h:this._iaddn(h)}this.strip()},s.prototype.copy=function(t){t.words=new Array(this.length);for(var e=0;e<this.length;e++)t.words[e]=this.words[e];t.length=this.length,t.negative=this.negative,t.red=this.red},s.prototype.clone=function(){var t=new s(null);return this.copy(t),t},s.prototype._expand=function(t){for(;this.length<t;)this.words[this.length++]=0;return this},s.prototype.strip=function(){for(;this.length>1&&0===this.words[this.length-1];)this.length--;return this._normSign()},s.prototype._normSign=function(){return 1===this.length&&0===this.words[0]&&(this.negative=0),this},s.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var l=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],c=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],d=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];function f(t,e,i){i.negative=e.negative^t.negative;var n=t.length+e.length|0;i.length=n,n=n-1|0;var r=0|t.words[0],s=0|e.words[0],o=r*s,a=67108863&o,h=o/67108864|0;i.words[0]=a;for(var u=1;u<n;u++){for(var l=h>>>26,c=67108863&h,d=Math.min(u,e.length-1),f=Math.max(0,u-t.length+1);f<=d;f++){var p=u-f|0;l+=(o=(r=0|t.words[p])*(s=0|e.words[f])+c)/67108864|0,c=67108863&o}i.words[u]=0|c,h=0|l}return 0!==h?i.words[u]=0|h:i.length--,i.strip()}s.prototype.toString=function(t,e){var n;if(e=0|e||1,16===(t=t||10)||"hex"===t){n="";for(var r=0,s=0,o=0;o<this.length;o++){var a=this.words[o],h=(16777215&(a<<r|s)).toString(16);n=0!==(s=a>>>24-r&16777215)||o!==this.length-1?l[6-h.length]+h+n:h+n,(r+=2)>=26&&(r-=26,o--)}for(0!==s&&(n=s.toString(16)+n);n.length%e!=0;)n="0"+n;return 0!==this.negative&&(n="-"+n),n}if(t===(0|t)&&t>=2&&t<=36){var u=c[t],f=d[t];n="";var p=this.clone();for(p.negative=0;!p.isZero();){var m=p.modn(f).toString(t);n=(p=p.idivn(f)).isZero()?m+n:l[u-m.length]+m+n}for(this.isZero()&&(n="0"+n);n.length%e!=0;)n="0"+n;return 0!==this.negative&&(n="-"+n),n}i(!1,"Base should be between 2 and 36")},s.prototype.toNumber=function(){var t=this.words[0];return 2===this.length?t+=67108864*this.words[1]:3===this.length&&1===this.words[2]?t+=4503599627370496+67108864*this.words[1]:this.length>2&&i(!1,"Number can only safely store up to 53 bits"),0!==this.negative?-t:t},s.prototype.toJSON=function(){return this.toString(16)},s.prototype.toBuffer=function(t,e){return i(void 0!==o),this.toArrayLike(o,t,e)},s.prototype.toArray=function(t,e){return this.toArrayLike(Array,t,e)},s.prototype.toArrayLike=function(t,e,n){var r=this.byteLength(),s=n||Math.max(1,r);i(r<=s,"byte array longer than desired length"),i(s>0,"Requested array length <= 0"),this.strip();var o,a,h="le"===e,u=new t(s),l=this.clone();if(h){for(a=0;!l.isZero();a++)o=l.andln(255),l.iushrn(8),u[a]=o;for(;a<s;a++)u[a]=0}else{for(a=0;a<s-r;a++)u[a]=0;for(a=0;!l.isZero();a++)o=l.andln(255),l.iushrn(8),u[s-a-1]=o}return u},Math.clz32?s.prototype._countBits=function(t){return 32-Math.clz32(t)}:s.prototype._countBits=function(t){var e=t,i=0;return e>=4096&&(i+=13,e>>>=13),e>=64&&(i+=7,e>>>=7),e>=8&&(i+=4,e>>>=4),e>=2&&(i+=2,e>>>=2),i+e},s.prototype._zeroBits=function(t){if(0===t)return 26;var e=t,i=0;return 0==(8191&e)&&(i+=13,e>>>=13),0==(127&e)&&(i+=7,e>>>=7),0==(15&e)&&(i+=4,e>>>=4),0==(3&e)&&(i+=2,e>>>=2),0==(1&e)&&i++,i},s.prototype.bitLength=function(){var t=this.words[this.length-1],e=this._countBits(t);return 26*(this.length-1)+e},s.prototype.zeroBits=function(){if(this.isZero())return 0;for(var t=0,e=0;e<this.length;e++){var i=this._zeroBits(this.words[e]);if(t+=i,26!==i)break}return t},s.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},s.prototype.toTwos=function(t){return 0!==this.negative?this.abs().inotn(t).iaddn(1):this.clone()},s.prototype.fromTwos=function(t){return this.testn(t-1)?this.notn(t).iaddn(1).ineg():this.clone()},s.prototype.isNeg=function(){return 0!==this.negative},s.prototype.neg=function(){return this.clone().ineg()},s.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},s.prototype.iuor=function(t){for(;this.length<t.length;)this.words[this.length++]=0;for(var e=0;e<t.length;e++)this.words[e]=this.words[e]|t.words[e];return this.strip()},s.prototype.ior=function(t){return i(0==(this.negative|t.negative)),this.iuor(t)},s.prototype.or=function(t){return this.length>t.length?this.clone().ior(t):t.clone().ior(this)},s.prototype.uor=function(t){return this.length>t.length?this.clone().iuor(t):t.clone().iuor(this)},s.prototype.iuand=function(t){var e;e=this.length>t.length?t:this;for(var i=0;i<e.length;i++)this.words[i]=this.words[i]&t.words[i];return this.length=e.length,this.strip()},s.prototype.iand=function(t){return i(0==(this.negative|t.negative)),this.iuand(t)},s.prototype.and=function(t){return this.length>t.length?this.clone().iand(t):t.clone().iand(this)},s.prototype.uand=function(t){return this.length>t.length?this.clone().iuand(t):t.clone().iuand(this)},s.prototype.iuxor=function(t){var e,i;this.length>t.length?(e=this,i=t):(e=t,i=this);for(var n=0;n<i.length;n++)this.words[n]=e.words[n]^i.words[n];if(this!==e)for(;n<e.length;n++)this.words[n]=e.words[n];return this.length=e.length,this.strip()},s.prototype.ixor=function(t){return i(0==(this.negative|t.negative)),this.iuxor(t)},s.prototype.xor=function(t){return this.length>t.length?this.clone().ixor(t):t.clone().ixor(this)},s.prototype.uxor=function(t){return this.length>t.length?this.clone().iuxor(t):t.clone().iuxor(this)},s.prototype.inotn=function(t){i("number"==typeof t&&t>=0);var e=0|Math.ceil(t/26),n=t%26;this._expand(e),n>0&&e--;for(var r=0;r<e;r++)this.words[r]=67108863&~this.words[r];return n>0&&(this.words[r]=~this.words[r]&67108863>>26-n),this.strip()},s.prototype.notn=function(t){return this.clone().inotn(t)},s.prototype.setn=function(t,e){i("number"==typeof t&&t>=0);var n=t/26|0,r=t%26;return this._expand(n+1),this.words[n]=e?this.words[n]|1<<r:this.words[n]&~(1<<r),this.strip()},s.prototype.iadd=function(t){var e,i,n;if(0!==this.negative&&0===t.negative)return this.negative=0,e=this.isub(t),this.negative^=1,this._normSign();if(0===this.negative&&0!==t.negative)return t.negative=0,e=this.isub(t),t.negative=1,e._normSign();this.length>t.length?(i=this,n=t):(i=t,n=this);for(var r=0,s=0;s<n.length;s++)e=(0|i.words[s])+(0|n.words[s])+r,this.words[s]=67108863&e,r=e>>>26;for(;0!==r&&s<i.length;s++)e=(0|i.words[s])+r,this.words[s]=67108863&e,r=e>>>26;if(this.length=i.length,0!==r)this.words[this.length]=r,this.length++;else if(i!==this)for(;s<i.length;s++)this.words[s]=i.words[s];return this},s.prototype.add=function(t){var e;return 0!==t.negative&&0===this.negative?(t.negative=0,e=this.sub(t),t.negative^=1,e):0===t.negative&&0!==this.negative?(this.negative=0,e=t.sub(this),this.negative=1,e):this.length>t.length?this.clone().iadd(t):t.clone().iadd(this)},s.prototype.isub=function(t){if(0!==t.negative){t.negative=0;var e=this.iadd(t);return t.negative=1,e._normSign()}if(0!==this.negative)return this.negative=0,this.iadd(t),this.negative=1,this._normSign();var i,n,r=this.cmp(t);if(0===r)return this.negative=0,this.length=1,this.words[0]=0,this;r>0?(i=this,n=t):(i=t,n=this);for(var s=0,o=0;o<n.length;o++)s=(e=(0|i.words[o])-(0|n.words[o])+s)>>26,this.words[o]=67108863&e;for(;0!==s&&o<i.length;o++)s=(e=(0|i.words[o])+s)>>26,this.words[o]=67108863&e;if(0===s&&o<i.length&&i!==this)for(;o<i.length;o++)this.words[o]=i.words[o];return this.length=Math.max(this.length,o),i!==this&&(this.negative=1),this.strip()},s.prototype.sub=function(t){return this.clone().isub(t)};var p=function(t,e,i){var n,r,s,o=t.words,a=e.words,h=i.words,u=0,l=0|o[0],c=8191&l,d=l>>>13,f=0|o[1],p=8191&f,m=f>>>13,g=0|o[2],v=8191&g,y=g>>>13,b=0|o[3],w=8191&b,_=b>>>13,M=0|o[4],A=8191&M,k=M>>>13,E=0|o[5],x=8191&E,S=E>>>13,T=0|o[6],I=8191&T,q=T>>>13,R=0|o[7],C=8191&R,N=R>>>13,L=0|o[8],D=8191&L,O=L>>>13,B=0|o[9],P=8191&B,U=B>>>13,F=0|a[0],j=8191&F,z=F>>>13,V=0|a[1],H=8191&V,K=V>>>13,G=0|a[2],W=8191&G,Q=G>>>13,$=0|a[3],Z=8191&$,Y=$>>>13,X=0|a[4],J=8191&X,tt=X>>>13,et=0|a[5],it=8191&et,nt=et>>>13,rt=0|a[6],st=8191&rt,ot=rt>>>13,at=0|a[7],ht=8191&at,ut=at>>>13,lt=0|a[8],ct=8191&lt,dt=lt>>>13,ft=0|a[9],pt=8191&ft,mt=ft>>>13;i.negative=t.negative^e.negative,i.length=19;var gt=(u+(n=Math.imul(c,j))|0)+((8191&(r=(r=Math.imul(c,z))+Math.imul(d,j)|0))<<13)|0;u=((s=Math.imul(d,z))+(r>>>13)|0)+(gt>>>26)|0,gt&=67108863,n=Math.imul(p,j),r=(r=Math.imul(p,z))+Math.imul(m,j)|0,s=Math.imul(m,z);var vt=(u+(n=n+Math.imul(c,H)|0)|0)+((8191&(r=(r=r+Math.imul(c,K)|0)+Math.imul(d,H)|0))<<13)|0;u=((s=s+Math.imul(d,K)|0)+(r>>>13)|0)+(vt>>>26)|0,vt&=67108863,n=Math.imul(v,j),r=(r=Math.imul(v,z))+Math.imul(y,j)|0,s=Math.imul(y,z),n=n+Math.imul(p,H)|0,r=(r=r+Math.imul(p,K)|0)+Math.imul(m,H)|0,s=s+Math.imul(m,K)|0;var yt=(u+(n=n+Math.imul(c,W)|0)|0)+((8191&(r=(r=r+Math.imul(c,Q)|0)+Math.imul(d,W)|0))<<13)|0;u=((s=s+Math.imul(d,Q)|0)+(r>>>13)|0)+(yt>>>26)|0,yt&=67108863,n=Math.imul(w,j),r=(r=Math.imul(w,z))+Math.imul(_,j)|0,s=Math.imul(_,z),n=n+Math.imul(v,H)|0,r=(r=r+Math.imul(v,K)|0)+Math.imul(y,H)|0,s=s+Math.imul(y,K)|0,n=n+Math.imul(p,W)|0,r=(r=r+Math.imul(p,Q)|0)+Math.imul(m,W)|0,s=s+Math.imul(m,Q)|0;var bt=(u+(n=n+Math.imul(c,Z)|0)|0)+((8191&(r=(r=r+Math.imul(c,Y)|0)+Math.imul(d,Z)|0))<<13)|0;u=((s=s+Math.imul(d,Y)|0)+(r>>>13)|0)+(bt>>>26)|0,bt&=67108863,n=Math.imul(A,j),r=(r=Math.imul(A,z))+Math.imul(k,j)|0,s=Math.imul(k,z),n=n+Math.imul(w,H)|0,r=(r=r+Math.imul(w,K)|0)+Math.imul(_,H)|0,s=s+Math.imul(_,K)|0,n=n+Math.imul(v,W)|0,r=(r=r+Math.imul(v,Q)|0)+Math.imul(y,W)|0,s=s+Math.imul(y,Q)|0,n=n+Math.imul(p,Z)|0,r=(r=r+Math.imul(p,Y)|0)+Math.imul(m,Z)|0,s=s+Math.imul(m,Y)|0;var wt=(u+(n=n+Math.imul(c,J)|0)|0)+((8191&(r=(r=r+Math.imul(c,tt)|0)+Math.imul(d,J)|0))<<13)|0;u=((s=s+Math.imul(d,tt)|0)+(r>>>13)|0)+(wt>>>26)|0,wt&=67108863,n=Math.imul(x,j),r=(r=Math.imul(x,z))+Math.imul(S,j)|0,s=Math.imul(S,z),n=n+Math.imul(A,H)|0,r=(r=r+Math.imul(A,K)|0)+Math.imul(k,H)|0,s=s+Math.imul(k,K)|0,n=n+Math.imul(w,W)|0,r=(r=r+Math.imul(w,Q)|0)+Math.imul(_,W)|0,s=s+Math.imul(_,Q)|0,n=n+Math.imul(v,Z)|0,r=(r=r+Math.imul(v,Y)|0)+Math.imul(y,Z)|0,s=s+Math.imul(y,Y)|0,n=n+Math.imul(p,J)|0,r=(r=r+Math.imul(p,tt)|0)+Math.imul(m,J)|0,s=s+Math.imul(m,tt)|0;var _t=(u+(n=n+Math.imul(c,it)|0)|0)+((8191&(r=(r=r+Math.imul(c,nt)|0)+Math.imul(d,it)|0))<<13)|0;u=((s=s+Math.imul(d,nt)|0)+(r>>>13)|0)+(_t>>>26)|0,_t&=67108863,n=Math.imul(I,j),r=(r=Math.imul(I,z))+Math.imul(q,j)|0,s=Math.imul(q,z),n=n+Math.imul(x,H)|0,r=(r=r+Math.imul(x,K)|0)+Math.imul(S,H)|0,s=s+Math.imul(S,K)|0,n=n+Math.imul(A,W)|0,r=(r=r+Math.imul(A,Q)|0)+Math.imul(k,W)|0,s=s+Math.imul(k,Q)|0,n=n+Math.imul(w,Z)|0,r=(r=r+Math.imul(w,Y)|0)+Math.imul(_,Z)|0,s=s+Math.imul(_,Y)|0,n=n+Math.imul(v,J)|0,r=(r=r+Math.imul(v,tt)|0)+Math.imul(y,J)|0,s=s+Math.imul(y,tt)|0,n=n+Math.imul(p,it)|0,r=(r=r+Math.imul(p,nt)|0)+Math.imul(m,it)|0,s=s+Math.imul(m,nt)|0;var Mt=(u+(n=n+Math.imul(c,st)|0)|0)+((8191&(r=(r=r+Math.imul(c,ot)|0)+Math.imul(d,st)|0))<<13)|0;u=((s=s+Math.imul(d,ot)|0)+(r>>>13)|0)+(Mt>>>26)|0,Mt&=67108863,n=Math.imul(C,j),r=(r=Math.imul(C,z))+Math.imul(N,j)|0,s=Math.imul(N,z),n=n+Math.imul(I,H)|0,r=(r=r+Math.imul(I,K)|0)+Math.imul(q,H)|0,s=s+Math.imul(q,K)|0,n=n+Math.imul(x,W)|0,r=(r=r+Math.imul(x,Q)|0)+Math.imul(S,W)|0,s=s+Math.imul(S,Q)|0,n=n+Math.imul(A,Z)|0,r=(r=r+Math.imul(A,Y)|0)+Math.imul(k,Z)|0,s=s+Math.imul(k,Y)|0,n=n+Math.imul(w,J)|0,r=(r=r+Math.imul(w,tt)|0)+Math.imul(_,J)|0,s=s+Math.imul(_,tt)|0,n=n+Math.imul(v,it)|0,r=(r=r+Math.imul(v,nt)|0)+Math.imul(y,it)|0,s=s+Math.imul(y,nt)|0,n=n+Math.imul(p,st)|0,r=(r=r+Math.imul(p,ot)|0)+Math.imul(m,st)|0,s=s+Math.imul(m,ot)|0;var At=(u+(n=n+Math.imul(c,ht)|0)|0)+((8191&(r=(r=r+Math.imul(c,ut)|0)+Math.imul(d,ht)|0))<<13)|0;u=((s=s+Math.imul(d,ut)|0)+(r>>>13)|0)+(At>>>26)|0,At&=67108863,n=Math.imul(D,j),r=(r=Math.imul(D,z))+Math.imul(O,j)|0,s=Math.imul(O,z),n=n+Math.imul(C,H)|0,r=(r=r+Math.imul(C,K)|0)+Math.imul(N,H)|0,s=s+Math.imul(N,K)|0,n=n+Math.imul(I,W)|0,r=(r=r+Math.imul(I,Q)|0)+Math.imul(q,W)|0,s=s+Math.imul(q,Q)|0,n=n+Math.imul(x,Z)|0,r=(r=r+Math.imul(x,Y)|0)+Math.imul(S,Z)|0,s=s+Math.imul(S,Y)|0,n=n+Math.imul(A,J)|0,r=(r=r+Math.imul(A,tt)|0)+Math.imul(k,J)|0,s=s+Math.imul(k,tt)|0,n=n+Math.imul(w,it)|0,r=(r=r+Math.imul(w,nt)|0)+Math.imul(_,it)|0,s=s+Math.imul(_,nt)|0,n=n+Math.imul(v,st)|0,r=(r=r+Math.imul(v,ot)|0)+Math.imul(y,st)|0,s=s+Math.imul(y,ot)|0,n=n+Math.imul(p,ht)|0,r=(r=r+Math.imul(p,ut)|0)+Math.imul(m,ht)|0,s=s+Math.imul(m,ut)|0;var kt=(u+(n=n+Math.imul(c,ct)|0)|0)+((8191&(r=(r=r+Math.imul(c,dt)|0)+Math.imul(d,ct)|0))<<13)|0;u=((s=s+Math.imul(d,dt)|0)+(r>>>13)|0)+(kt>>>26)|0,kt&=67108863,n=Math.imul(P,j),r=(r=Math.imul(P,z))+Math.imul(U,j)|0,s=Math.imul(U,z),n=n+Math.imul(D,H)|0,r=(r=r+Math.imul(D,K)|0)+Math.imul(O,H)|0,s=s+Math.imul(O,K)|0,n=n+Math.imul(C,W)|0,r=(r=r+Math.imul(C,Q)|0)+Math.imul(N,W)|0,s=s+Math.imul(N,Q)|0,n=n+Math.imul(I,Z)|0,r=(r=r+Math.imul(I,Y)|0)+Math.imul(q,Z)|0,s=s+Math.imul(q,Y)|0,n=n+Math.imul(x,J)|0,r=(r=r+Math.imul(x,tt)|0)+Math.imul(S,J)|0,s=s+Math.imul(S,tt)|0,n=n+Math.imul(A,it)|0,r=(r=r+Math.imul(A,nt)|0)+Math.imul(k,it)|0,s=s+Math.imul(k,nt)|0,n=n+Math.imul(w,st)|0,r=(r=r+Math.imul(w,ot)|0)+Math.imul(_,st)|0,s=s+Math.imul(_,ot)|0,n=n+Math.imul(v,ht)|0,r=(r=r+Math.imul(v,ut)|0)+Math.imul(y,ht)|0,s=s+Math.imul(y,ut)|0,n=n+Math.imul(p,ct)|0,r=(r=r+Math.imul(p,dt)|0)+Math.imul(m,ct)|0,s=s+Math.imul(m,dt)|0;var Et=(u+(n=n+Math.imul(c,pt)|0)|0)+((8191&(r=(r=r+Math.imul(c,mt)|0)+Math.imul(d,pt)|0))<<13)|0;u=((s=s+Math.imul(d,mt)|0)+(r>>>13)|0)+(Et>>>26)|0,Et&=67108863,n=Math.imul(P,H),r=(r=Math.imul(P,K))+Math.imul(U,H)|0,s=Math.imul(U,K),n=n+Math.imul(D,W)|0,r=(r=r+Math.imul(D,Q)|0)+Math.imul(O,W)|0,s=s+Math.imul(O,Q)|0,n=n+Math.imul(C,Z)|0,r=(r=r+Math.imul(C,Y)|0)+Math.imul(N,Z)|0,s=s+Math.imul(N,Y)|0,n=n+Math.imul(I,J)|0,r=(r=r+Math.imul(I,tt)|0)+Math.imul(q,J)|0,s=s+Math.imul(q,tt)|0,n=n+Math.imul(x,it)|0,r=(r=r+Math.imul(x,nt)|0)+Math.imul(S,it)|0,s=s+Math.imul(S,nt)|0,n=n+Math.imul(A,st)|0,r=(r=r+Math.imul(A,ot)|0)+Math.imul(k,st)|0,s=s+Math.imul(k,ot)|0,n=n+Math.imul(w,ht)|0,r=(r=r+Math.imul(w,ut)|0)+Math.imul(_,ht)|0,s=s+Math.imul(_,ut)|0,n=n+Math.imul(v,ct)|0,r=(r=r+Math.imul(v,dt)|0)+Math.imul(y,ct)|0,s=s+Math.imul(y,dt)|0;var xt=(u+(n=n+Math.imul(p,pt)|0)|0)+((8191&(r=(r=r+Math.imul(p,mt)|0)+Math.imul(m,pt)|0))<<13)|0;u=((s=s+Math.imul(m,mt)|0)+(r>>>13)|0)+(xt>>>26)|0,xt&=67108863,n=Math.imul(P,W),r=(r=Math.imul(P,Q))+Math.imul(U,W)|0,s=Math.imul(U,Q),n=n+Math.imul(D,Z)|0,r=(r=r+Math.imul(D,Y)|0)+Math.imul(O,Z)|0,s=s+Math.imul(O,Y)|0,n=n+Math.imul(C,J)|0,r=(r=r+Math.imul(C,tt)|0)+Math.imul(N,J)|0,s=s+Math.imul(N,tt)|0,n=n+Math.imul(I,it)|0,r=(r=r+Math.imul(I,nt)|0)+Math.imul(q,it)|0,s=s+Math.imul(q,nt)|0,n=n+Math.imul(x,st)|0,r=(r=r+Math.imul(x,ot)|0)+Math.imul(S,st)|0,s=s+Math.imul(S,ot)|0,n=n+Math.imul(A,ht)|0,r=(r=r+Math.imul(A,ut)|0)+Math.imul(k,ht)|0,s=s+Math.imul(k,ut)|0,n=n+Math.imul(w,ct)|0,r=(r=r+Math.imul(w,dt)|0)+Math.imul(_,ct)|0,s=s+Math.imul(_,dt)|0;var St=(u+(n=n+Math.imul(v,pt)|0)|0)+((8191&(r=(r=r+Math.imul(v,mt)|0)+Math.imul(y,pt)|0))<<13)|0;u=((s=s+Math.imul(y,mt)|0)+(r>>>13)|0)+(St>>>26)|0,St&=67108863,n=Math.imul(P,Z),r=(r=Math.imul(P,Y))+Math.imul(U,Z)|0,s=Math.imul(U,Y),n=n+Math.imul(D,J)|0,r=(r=r+Math.imul(D,tt)|0)+Math.imul(O,J)|0,s=s+Math.imul(O,tt)|0,n=n+Math.imul(C,it)|0,r=(r=r+Math.imul(C,nt)|0)+Math.imul(N,it)|0,s=s+Math.imul(N,nt)|0,n=n+Math.imul(I,st)|0,r=(r=r+Math.imul(I,ot)|0)+Math.imul(q,st)|0,s=s+Math.imul(q,ot)|0,n=n+Math.imul(x,ht)|0,r=(r=r+Math.imul(x,ut)|0)+Math.imul(S,ht)|0,s=s+Math.imul(S,ut)|0,n=n+Math.imul(A,ct)|0,r=(r=r+Math.imul(A,dt)|0)+Math.imul(k,ct)|0,s=s+Math.imul(k,dt)|0;var Tt=(u+(n=n+Math.imul(w,pt)|0)|0)+((8191&(r=(r=r+Math.imul(w,mt)|0)+Math.imul(_,pt)|0))<<13)|0;u=((s=s+Math.imul(_,mt)|0)+(r>>>13)|0)+(Tt>>>26)|0,Tt&=67108863,n=Math.imul(P,J),r=(r=Math.imul(P,tt))+Math.imul(U,J)|0,s=Math.imul(U,tt),n=n+Math.imul(D,it)|0,r=(r=r+Math.imul(D,nt)|0)+Math.imul(O,it)|0,s=s+Math.imul(O,nt)|0,n=n+Math.imul(C,st)|0,r=(r=r+Math.imul(C,ot)|0)+Math.imul(N,st)|0,s=s+Math.imul(N,ot)|0,n=n+Math.imul(I,ht)|0,r=(r=r+Math.imul(I,ut)|0)+Math.imul(q,ht)|0,s=s+Math.imul(q,ut)|0,n=n+Math.imul(x,ct)|0,r=(r=r+Math.imul(x,dt)|0)+Math.imul(S,ct)|0,s=s+Math.imul(S,dt)|0;var It=(u+(n=n+Math.imul(A,pt)|0)|0)+((8191&(r=(r=r+Math.imul(A,mt)|0)+Math.imul(k,pt)|0))<<13)|0;u=((s=s+Math.imul(k,mt)|0)+(r>>>13)|0)+(It>>>26)|0,It&=67108863,n=Math.imul(P,it),r=(r=Math.imul(P,nt))+Math.imul(U,it)|0,s=Math.imul(U,nt),n=n+Math.imul(D,st)|0,r=(r=r+Math.imul(D,ot)|0)+Math.imul(O,st)|0,s=s+Math.imul(O,ot)|0,n=n+Math.imul(C,ht)|0,r=(r=r+Math.imul(C,ut)|0)+Math.imul(N,ht)|0,s=s+Math.imul(N,ut)|0,n=n+Math.imul(I,ct)|0,r=(r=r+Math.imul(I,dt)|0)+Math.imul(q,ct)|0,s=s+Math.imul(q,dt)|0;var qt=(u+(n=n+Math.imul(x,pt)|0)|0)+((8191&(r=(r=r+Math.imul(x,mt)|0)+Math.imul(S,pt)|0))<<13)|0;u=((s=s+Math.imul(S,mt)|0)+(r>>>13)|0)+(qt>>>26)|0,qt&=67108863,n=Math.imul(P,st),r=(r=Math.imul(P,ot))+Math.imul(U,st)|0,s=Math.imul(U,ot),n=n+Math.imul(D,ht)|0,r=(r=r+Math.imul(D,ut)|0)+Math.imul(O,ht)|0,s=s+Math.imul(O,ut)|0,n=n+Math.imul(C,ct)|0,r=(r=r+Math.imul(C,dt)|0)+Math.imul(N,ct)|0,s=s+Math.imul(N,dt)|0;var Rt=(u+(n=n+Math.imul(I,pt)|0)|0)+((8191&(r=(r=r+Math.imul(I,mt)|0)+Math.imul(q,pt)|0))<<13)|0;u=((s=s+Math.imul(q,mt)|0)+(r>>>13)|0)+(Rt>>>26)|0,Rt&=67108863,n=Math.imul(P,ht),r=(r=Math.imul(P,ut))+Math.imul(U,ht)|0,s=Math.imul(U,ut),n=n+Math.imul(D,ct)|0,r=(r=r+Math.imul(D,dt)|0)+Math.imul(O,ct)|0,s=s+Math.imul(O,dt)|0;var Ct=(u+(n=n+Math.imul(C,pt)|0)|0)+((8191&(r=(r=r+Math.imul(C,mt)|0)+Math.imul(N,pt)|0))<<13)|0;u=((s=s+Math.imul(N,mt)|0)+(r>>>13)|0)+(Ct>>>26)|0,Ct&=67108863,n=Math.imul(P,ct),r=(r=Math.imul(P,dt))+Math.imul(U,ct)|0,s=Math.imul(U,dt);var Nt=(u+(n=n+Math.imul(D,pt)|0)|0)+((8191&(r=(r=r+Math.imul(D,mt)|0)+Math.imul(O,pt)|0))<<13)|0;u=((s=s+Math.imul(O,mt)|0)+(r>>>13)|0)+(Nt>>>26)|0,Nt&=67108863;var Lt=(u+(n=Math.imul(P,pt))|0)+((8191&(r=(r=Math.imul(P,mt))+Math.imul(U,pt)|0))<<13)|0;return u=((s=Math.imul(U,mt))+(r>>>13)|0)+(Lt>>>26)|0,Lt&=67108863,h[0]=gt,h[1]=vt,h[2]=yt,h[3]=bt,h[4]=wt,h[5]=_t,h[6]=Mt,h[7]=At,h[8]=kt,h[9]=Et,h[10]=xt,h[11]=St,h[12]=Tt,h[13]=It,h[14]=qt,h[15]=Rt,h[16]=Ct,h[17]=Nt,h[18]=Lt,0!==u&&(h[19]=u,i.length++),i};function m(t,e,i){return(new g).mulp(t,e,i)}function g(t,e){this.x=t,this.y=e}Math.imul||(p=f),s.prototype.mulTo=function(t,e){var i,n=this.length+t.length;return i=10===this.length&&10===t.length?p(this,t,e):n<63?f(this,t,e):n<1024?function(t,e,i){i.negative=e.negative^t.negative,i.length=t.length+e.length;for(var n=0,r=0,s=0;s<i.length-1;s++){var o=r;r=0;for(var a=67108863&n,h=Math.min(s,e.length-1),u=Math.max(0,s-t.length+1);u<=h;u++){var l=s-u,c=(0|t.words[l])*(0|e.words[u]),d=67108863&c;a=67108863&(d=d+a|0),r+=(o=(o=o+(c/67108864|0)|0)+(d>>>26)|0)>>>26,o&=67108863}i.words[s]=a,n=o,o=r}return 0!==n?i.words[s]=n:i.length--,i.strip()}(this,t,e):m(this,t,e),i},g.prototype.makeRBT=function(t){for(var e=new Array(t),i=s.prototype._countBits(t)-1,n=0;n<t;n++)e[n]=this.revBin(n,i,t);return e},g.prototype.revBin=function(t,e,i){if(0===t||t===i-1)return t;for(var n=0,r=0;r<e;r++)n|=(1&t)<<e-r-1,t>>=1;return n},g.prototype.permute=function(t,e,i,n,r,s){for(var o=0;o<s;o++)n[o]=e[t[o]],r[o]=i[t[o]]},g.prototype.transform=function(t,e,i,n,r,s){this.permute(s,t,e,i,n,r);for(var o=1;o<r;o<<=1)for(var a=o<<1,h=Math.cos(2*Math.PI/a),u=Math.sin(2*Math.PI/a),l=0;l<r;l+=a)for(var c=h,d=u,f=0;f<o;f++){var p=i[l+f],m=n[l+f],g=i[l+f+o],v=n[l+f+o],y=c*g-d*v;v=c*v+d*g,g=y,i[l+f]=p+g,n[l+f]=m+v,i[l+f+o]=p-g,n[l+f+o]=m-v,f!==a&&(y=h*c-u*d,d=h*d+u*c,c=y)}},g.prototype.guessLen13b=function(t,e){var i=1|Math.max(e,t),n=1&i,r=0;for(i=i/2|0;i;i>>>=1)r++;return 1<<r+1+n},g.prototype.conjugate=function(t,e,i){if(!(i<=1))for(var n=0;n<i/2;n++){var r=t[n];t[n]=t[i-n-1],t[i-n-1]=r,r=e[n],e[n]=-e[i-n-1],e[i-n-1]=-r}},g.prototype.normalize13b=function(t,e){for(var i=0,n=0;n<e/2;n++){var r=8192*Math.round(t[2*n+1]/e)+Math.round(t[2*n]/e)+i;t[n]=67108863&r,i=r<67108864?0:r/67108864|0}return t},g.prototype.convert13b=function(t,e,n,r){for(var s=0,o=0;o<e;o++)s+=0|t[o],n[2*o]=8191&s,s>>>=13,n[2*o+1]=8191&s,s>>>=13;for(o=2*e;o<r;++o)n[o]=0;i(0===s),i(0==(-8192&s))},g.prototype.stub=function(t){for(var e=new Array(t),i=0;i<t;i++)e[i]=0;return e},g.prototype.mulp=function(t,e,i){var n=2*this.guessLen13b(t.length,e.length),r=this.makeRBT(n),s=this.stub(n),o=new Array(n),a=new Array(n),h=new Array(n),u=new Array(n),l=new Array(n),c=new Array(n),d=i.words;d.length=n,this.convert13b(t.words,t.length,o,n),this.convert13b(e.words,e.length,u,n),this.transform(o,s,a,h,n,r),this.transform(u,s,l,c,n,r);for(var f=0;f<n;f++){var p=a[f]*l[f]-h[f]*c[f];h[f]=a[f]*c[f]+h[f]*l[f],a[f]=p}return this.conjugate(a,h,n),this.transform(a,h,d,s,n,r),this.conjugate(d,s,n),this.normalize13b(d,n),i.negative=t.negative^e.negative,i.length=t.length+e.length,i.strip()},s.prototype.mul=function(t){var e=new s(null);return e.words=new Array(this.length+t.length),this.mulTo(t,e)},s.prototype.mulf=function(t){var e=new s(null);return e.words=new Array(this.length+t.length),m(this,t,e)},s.prototype.imul=function(t){return this.clone().mulTo(t,this)},s.prototype.imuln=function(t){i("number"==typeof t),i(t<67108864);for(var e=0,n=0;n<this.length;n++){var r=(0|this.words[n])*t,s=(67108863&r)+(67108863&e);e>>=26,e+=r/67108864|0,e+=s>>>26,this.words[n]=67108863&s}return 0!==e&&(this.words[n]=e,this.length++),this},s.prototype.muln=function(t){return this.clone().imuln(t)},s.prototype.sqr=function(){return this.mul(this)},s.prototype.isqr=function(){return this.imul(this.clone())},s.prototype.pow=function(t){var e=function(t){for(var e=new Array(t.bitLength()),i=0;i<e.length;i++){var n=i/26|0,r=i%26;e[i]=(t.words[n]&1<<r)>>>r}return e}(t);if(0===e.length)return new s(1);for(var i=this,n=0;n<e.length&&0===e[n];n++,i=i.sqr());if(++n<e.length)for(var r=i.sqr();n<e.length;n++,r=r.sqr())0!==e[n]&&(i=i.mul(r));return i},s.prototype.iushln=function(t){i("number"==typeof t&&t>=0);var e,n=t%26,r=(t-n)/26,s=67108863>>>26-n<<26-n;if(0!==n){var o=0;for(e=0;e<this.length;e++){var a=this.words[e]&s,h=(0|this.words[e])-a<<n;this.words[e]=h|o,o=a>>>26-n}o&&(this.words[e]=o,this.length++)}if(0!==r){for(e=this.length-1;e>=0;e--)this.words[e+r]=this.words[e];for(e=0;e<r;e++)this.words[e]=0;this.length+=r}return this.strip()},s.prototype.ishln=function(t){return i(0===this.negative),this.iushln(t)},s.prototype.iushrn=function(t,e,n){var r;i("number"==typeof t&&t>=0),r=e?(e-e%26)/26:0;var s=t%26,o=Math.min((t-s)/26,this.length),a=67108863^67108863>>>s<<s,h=n;if(r-=o,r=Math.max(0,r),h){for(var u=0;u<o;u++)h.words[u]=this.words[u];h.length=o}if(0===o);else if(this.length>o)for(this.length-=o,u=0;u<this.length;u++)this.words[u]=this.words[u+o];else this.words[0]=0,this.length=1;var l=0;for(u=this.length-1;u>=0&&(0!==l||u>=r);u--){var c=0|this.words[u];this.words[u]=l<<26-s|c>>>s,l=c&a}return h&&0!==l&&(h.words[h.length++]=l),0===this.length&&(this.words[0]=0,this.length=1),this.strip()},s.prototype.ishrn=function(t,e,n){return i(0===this.negative),this.iushrn(t,e,n)},s.prototype.shln=function(t){return this.clone().ishln(t)},s.prototype.ushln=function(t){return this.clone().iushln(t)},s.prototype.shrn=function(t){return this.clone().ishrn(t)},s.prototype.ushrn=function(t){return this.clone().iushrn(t)},s.prototype.testn=function(t){i("number"==typeof t&&t>=0);var e=t%26,n=(t-e)/26,r=1<<e;return!(this.length<=n)&&!!(this.words[n]&r)},s.prototype.imaskn=function(t){i("number"==typeof t&&t>=0);var e=t%26,n=(t-e)/26;if(i(0===this.negative,"imaskn works only with positive numbers"),this.length<=n)return this;if(0!==e&&n++,this.length=Math.min(n,this.length),0!==e){var r=67108863^67108863>>>e<<e;this.words[this.length-1]&=r}return this.strip()},s.prototype.maskn=function(t){return this.clone().imaskn(t)},s.prototype.iaddn=function(t){return i("number"==typeof t),i(t<67108864),t<0?this.isubn(-t):0!==this.negative?1===this.length&&(0|this.words[0])<t?(this.words[0]=t-(0|this.words[0]),this.negative=0,this):(this.negative=0,this.isubn(t),this.negative=1,this):this._iaddn(t)},s.prototype._iaddn=function(t){this.words[0]+=t;for(var e=0;e<this.length&&this.words[e]>=67108864;e++)this.words[e]-=67108864,e===this.length-1?this.words[e+1]=1:this.words[e+1]++;return this.length=Math.max(this.length,e+1),this},s.prototype.isubn=function(t){if(i("number"==typeof t),i(t<67108864),t<0)return this.iaddn(-t);if(0!==this.negative)return this.negative=0,this.iaddn(t),this.negative=1,this;if(this.words[0]-=t,1===this.length&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var e=0;e<this.length&&this.words[e]<0;e++)this.words[e]+=67108864,this.words[e+1]-=1;return this.strip()},s.prototype.addn=function(t){return this.clone().iaddn(t)},s.prototype.subn=function(t){return this.clone().isubn(t)},s.prototype.iabs=function(){return this.negative=0,this},s.prototype.abs=function(){return this.clone().iabs()},s.prototype._ishlnsubmul=function(t,e,n){var r,s,o=t.length+n;this._expand(o);var a=0;for(r=0;r<t.length;r++){s=(0|this.words[r+n])+a;var h=(0|t.words[r])*e;a=((s-=67108863&h)>>26)-(h/67108864|0),this.words[r+n]=67108863&s}for(;r<this.length-n;r++)a=(s=(0|this.words[r+n])+a)>>26,this.words[r+n]=67108863&s;if(0===a)return this.strip();for(i(-1===a),a=0,r=0;r<this.length;r++)a=(s=-(0|this.words[r])+a)>>26,this.words[r]=67108863&s;return this.negative=1,this.strip()},s.prototype._wordDiv=function(t,e){var i=(this.length,t.length),n=this.clone(),r=t,o=0|r.words[r.length-1];0!==(i=26-this._countBits(o))&&(r=r.ushln(i),n.iushln(i),o=0|r.words[r.length-1]);var a,h=n.length-r.length;if("mod"!==e){(a=new s(null)).length=h+1,a.words=new Array(a.length);for(var u=0;u<a.length;u++)a.words[u]=0}var l=n.clone()._ishlnsubmul(r,1,h);0===l.negative&&(n=l,a&&(a.words[h]=1));for(var c=h-1;c>=0;c--){var d=67108864*(0|n.words[r.length+c])+(0|n.words[r.length+c-1]);for(d=Math.min(d/o|0,67108863),n._ishlnsubmul(r,d,c);0!==n.negative;)d--,n.negative=0,n._ishlnsubmul(r,1,c),n.isZero()||(n.negative^=1);a&&(a.words[c]=d)}return a&&a.strip(),n.strip(),"div"!==e&&0!==i&&n.iushrn(i),{div:a||null,mod:n}},s.prototype.divmod=function(t,e,n){return i(!t.isZero()),this.isZero()?{div:new s(0),mod:new s(0)}:0!==this.negative&&0===t.negative?(a=this.neg().divmod(t,e),"mod"!==e&&(r=a.div.neg()),"div"!==e&&(o=a.mod.neg(),n&&0!==o.negative&&o.iadd(t)),{div:r,mod:o}):0===this.negative&&0!==t.negative?(a=this.divmod(t.neg(),e),"mod"!==e&&(r=a.div.neg()),{div:r,mod:a.mod}):0!=(this.negative&t.negative)?(a=this.neg().divmod(t.neg(),e),"div"!==e&&(o=a.mod.neg(),n&&0!==o.negative&&o.isub(t)),{div:a.div,mod:o}):t.length>this.length||this.cmp(t)<0?{div:new s(0),mod:this}:1===t.length?"div"===e?{div:this.divn(t.words[0]),mod:null}:"mod"===e?{div:null,mod:new s(this.modn(t.words[0]))}:{div:this.divn(t.words[0]),mod:new s(this.modn(t.words[0]))}:this._wordDiv(t,e);var r,o,a},s.prototype.div=function(t){return this.divmod(t,"div",!1).div},s.prototype.mod=function(t){return this.divmod(t,"mod",!1).mod},s.prototype.umod=function(t){return this.divmod(t,"mod",!0).mod},s.prototype.divRound=function(t){var e=this.divmod(t);if(e.mod.isZero())return e.div;var i=0!==e.div.negative?e.mod.isub(t):e.mod,n=t.ushrn(1),r=t.andln(1),s=i.cmp(n);return s<0||1===r&&0===s?e.div:0!==e.div.negative?e.div.isubn(1):e.div.iaddn(1)},s.prototype.modn=function(t){i(t<=67108863);for(var e=67108864%t,n=0,r=this.length-1;r>=0;r--)n=(e*n+(0|this.words[r]))%t;return n},s.prototype.idivn=function(t){i(t<=67108863);for(var e=0,n=this.length-1;n>=0;n--){var r=(0|this.words[n])+67108864*e;this.words[n]=r/t|0,e=r%t}return this.strip()},s.prototype.divn=function(t){return this.clone().idivn(t)},s.prototype.egcd=function(t){i(0===t.negative),i(!t.isZero());var e=this,n=t.clone();e=0!==e.negative?e.umod(t):e.clone();for(var r=new s(1),o=new s(0),a=new s(0),h=new s(1),u=0;e.isEven()&&n.isEven();)e.iushrn(1),n.iushrn(1),++u;for(var l=n.clone(),c=e.clone();!e.isZero();){for(var d=0,f=1;0==(e.words[0]&f)&&d<26;++d,f<<=1);if(d>0)for(e.iushrn(d);d-- >0;)(r.isOdd()||o.isOdd())&&(r.iadd(l),o.isub(c)),r.iushrn(1),o.iushrn(1);for(var p=0,m=1;0==(n.words[0]&m)&&p<26;++p,m<<=1);if(p>0)for(n.iushrn(p);p-- >0;)(a.isOdd()||h.isOdd())&&(a.iadd(l),h.isub(c)),a.iushrn(1),h.iushrn(1);e.cmp(n)>=0?(e.isub(n),r.isub(a),o.isub(h)):(n.isub(e),a.isub(r),h.isub(o))}return{a:a,b:h,gcd:n.iushln(u)}},s.prototype._invmp=function(t){i(0===t.negative),i(!t.isZero());var e=this,n=t.clone();e=0!==e.negative?e.umod(t):e.clone();for(var r,o=new s(1),a=new s(0),h=n.clone();e.cmpn(1)>0&&n.cmpn(1)>0;){for(var u=0,l=1;0==(e.words[0]&l)&&u<26;++u,l<<=1);if(u>0)for(e.iushrn(u);u-- >0;)o.isOdd()&&o.iadd(h),o.iushrn(1);for(var c=0,d=1;0==(n.words[0]&d)&&c<26;++c,d<<=1);if(c>0)for(n.iushrn(c);c-- >0;)a.isOdd()&&a.iadd(h),a.iushrn(1);e.cmp(n)>=0?(e.isub(n),o.isub(a)):(n.isub(e),a.isub(o))}return(r=0===e.cmpn(1)?o:a).cmpn(0)<0&&r.iadd(t),r},s.prototype.gcd=function(t){if(this.isZero())return t.abs();if(t.isZero())return this.abs();var e=this.clone(),i=t.clone();e.negative=0,i.negative=0;for(var n=0;e.isEven()&&i.isEven();n++)e.iushrn(1),i.iushrn(1);for(;;){for(;e.isEven();)e.iushrn(1);for(;i.isEven();)i.iushrn(1);var r=e.cmp(i);if(r<0){var s=e;e=i,i=s}else if(0===r||0===i.cmpn(1))break;e.isub(i)}return i.iushln(n)},s.prototype.invm=function(t){return this.egcd(t).a.umod(t)},s.prototype.isEven=function(){return 0==(1&this.words[0])},s.prototype.isOdd=function(){return 1==(1&this.words[0])},s.prototype.andln=function(t){return this.words[0]&t},s.prototype.bincn=function(t){i("number"==typeof t);var e=t%26,n=(t-e)/26,r=1<<e;if(this.length<=n)return this._expand(n+1),this.words[n]|=r,this;for(var s=r,o=n;0!==s&&o<this.length;o++){var a=0|this.words[o];s=(a+=s)>>>26,a&=67108863,this.words[o]=a}return 0!==s&&(this.words[o]=s,this.length++),this},s.prototype.isZero=function(){return 1===this.length&&0===this.words[0]},s.prototype.cmpn=function(t){var e,n=t<0;if(0!==this.negative&&!n)return-1;if(0===this.negative&&n)return 1;if(this.strip(),this.length>1)e=1;else{n&&(t=-t),i(t<=67108863,"Number is too big");var r=0|this.words[0];e=r===t?0:r<t?-1:1}return 0!==this.negative?0|-e:e},s.prototype.cmp=function(t){if(0!==this.negative&&0===t.negative)return-1;if(0===this.negative&&0!==t.negative)return 1;var e=this.ucmp(t);return 0!==this.negative?0|-e:e},s.prototype.ucmp=function(t){if(this.length>t.length)return 1;if(this.length<t.length)return-1;for(var e=0,i=this.length-1;i>=0;i--){var n=0|this.words[i],r=0|t.words[i];if(n!==r){n<r?e=-1:n>r&&(e=1);break}}return e},s.prototype.gtn=function(t){return 1===this.cmpn(t)},s.prototype.gt=function(t){return 1===this.cmp(t)},s.prototype.gten=function(t){return this.cmpn(t)>=0},s.prototype.gte=function(t){return this.cmp(t)>=0},s.prototype.ltn=function(t){return-1===this.cmpn(t)},s.prototype.lt=function(t){return-1===this.cmp(t)},s.prototype.lten=function(t){return this.cmpn(t)<=0},s.prototype.lte=function(t){return this.cmp(t)<=0},s.prototype.eqn=function(t){return 0===this.cmpn(t)},s.prototype.eq=function(t){return 0===this.cmp(t)},s.red=function(t){return new A(t)},s.prototype.toRed=function(t){return i(!this.red,"Already a number in reduction context"),i(0===this.negative,"red works only with positives"),t.convertTo(this)._forceRed(t)},s.prototype.fromRed=function(){return i(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},s.prototype._forceRed=function(t){return this.red=t,this},s.prototype.forceRed=function(t){return i(!this.red,"Already a number in reduction context"),this._forceRed(t)},s.prototype.redAdd=function(t){return i(this.red,"redAdd works only with red numbers"),this.red.add(this,t)},s.prototype.redIAdd=function(t){return i(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,t)},s.prototype.redSub=function(t){return i(this.red,"redSub works only with red numbers"),this.red.sub(this,t)},s.prototype.redISub=function(t){return i(this.red,"redISub works only with red numbers"),this.red.isub(this,t)},s.prototype.redShl=function(t){return i(this.red,"redShl works only with red numbers"),this.red.shl(this,t)},s.prototype.redMul=function(t){return i(this.red,"redMul works only with red numbers"),this.red._verify2(this,t),this.red.mul(this,t)},s.prototype.redIMul=function(t){return i(this.red,"redMul works only with red numbers"),this.red._verify2(this,t),this.red.imul(this,t)},s.prototype.redSqr=function(){return i(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},s.prototype.redISqr=function(){return i(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},s.prototype.redSqrt=function(){return i(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},s.prototype.redInvm=function(){return i(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},s.prototype.redNeg=function(){return i(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},s.prototype.redPow=function(t){return i(this.red&&!t.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,t)};var v={k256:null,p224:null,p192:null,p25519:null};function y(t,e){this.name=t,this.p=new s(e,16),this.n=this.p.bitLength(),this.k=new s(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}function b(){y.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}function w(){y.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}function _(){y.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}function M(){y.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}function A(t){if("string"==typeof t){var e=s._prime(t);this.m=e.p,this.prime=e}else i(t.gtn(1),"modulus must be greater than 1"),this.m=t,this.prime=null}function k(t){A.call(this,t),this.shift=this.m.bitLength(),this.shift%26!=0&&(this.shift+=26-this.shift%26),this.r=new s(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}y.prototype._tmp=function(){var t=new s(null);return t.words=new Array(Math.ceil(this.n/13)),t},y.prototype.ireduce=function(t){var e,i=t;do{this.split(i,this.tmp),e=(i=(i=this.imulK(i)).iadd(this.tmp)).bitLength()}while(e>this.n);var n=e<this.n?-1:i.ucmp(this.p);return 0===n?(i.words[0]=0,i.length=1):n>0?i.isub(this.p):void 0!==i.strip?i.strip():i._strip(),i},y.prototype.split=function(t,e){t.iushrn(this.n,0,e)},y.prototype.imulK=function(t){return t.imul(this.k)},n(b,y),b.prototype.split=function(t,e){for(var i=4194303,n=Math.min(t.length,9),r=0;r<n;r++)e.words[r]=t.words[r];if(e.length=n,t.length<=9)return t.words[0]=0,void(t.length=1);var s=t.words[9];for(e.words[e.length++]=s&i,r=10;r<t.length;r++){var o=0|t.words[r];t.words[r-10]=(o&i)<<4|s>>>22,s=o}s>>>=22,t.words[r-10]=s,0===s&&t.length>10?t.length-=10:t.length-=9},b.prototype.imulK=function(t){t.words[t.length]=0,t.words[t.length+1]=0,t.length+=2;for(var e=0,i=0;i<t.length;i++){var n=0|t.words[i];e+=977*n,t.words[i]=67108863&e,e=64*n+(e/67108864|0)}return 0===t.words[t.length-1]&&(t.length--,0===t.words[t.length-1]&&t.length--),t},n(w,y),n(_,y),n(M,y),M.prototype.imulK=function(t){for(var e=0,i=0;i<t.length;i++){var n=19*(0|t.words[i])+e,r=67108863&n;n>>>=26,t.words[i]=r,e=n}return 0!==e&&(t.words[t.length++]=e),t},s._prime=function(t){if(v[t])return v[t];var e;if("k256"===t)e=new b;else if("p224"===t)e=new w;else if("p192"===t)e=new _;else{if("p25519"!==t)throw new Error("Unknown prime "+t);e=new M}return v[t]=e,e},A.prototype._verify1=function(t){i(0===t.negative,"red works only with positives"),i(t.red,"red works only with red numbers")},A.prototype._verify2=function(t,e){i(0==(t.negative|e.negative),"red works only with positives"),i(t.red&&t.red===e.red,"red works only with red numbers")},A.prototype.imod=function(t){return this.prime?this.prime.ireduce(t)._forceRed(this):t.umod(this.m)._forceRed(this)},A.prototype.neg=function(t){return t.isZero()?t.clone():this.m.sub(t)._forceRed(this)},A.prototype.add=function(t,e){this._verify2(t,e);var i=t.add(e);return i.cmp(this.m)>=0&&i.isub(this.m),i._forceRed(this)},A.prototype.iadd=function(t,e){this._verify2(t,e);var i=t.iadd(e);return i.cmp(this.m)>=0&&i.isub(this.m),i},A.prototype.sub=function(t,e){this._verify2(t,e);var i=t.sub(e);return i.cmpn(0)<0&&i.iadd(this.m),i._forceRed(this)},A.prototype.isub=function(t,e){this._verify2(t,e);var i=t.isub(e);return i.cmpn(0)<0&&i.iadd(this.m),i},A.prototype.shl=function(t,e){return this._verify1(t),this.imod(t.ushln(e))},A.prototype.imul=function(t,e){return this._verify2(t,e),this.imod(t.imul(e))},A.prototype.mul=function(t,e){return this._verify2(t,e),this.imod(t.mul(e))},A.prototype.isqr=function(t){return this.imul(t,t.clone())},A.prototype.sqr=function(t){return this.mul(t,t)},A.prototype.sqrt=function(t){if(t.isZero())return t.clone();var e=this.m.andln(3);if(i(e%2==1),3===e){var n=this.m.add(new s(1)).iushrn(2);return this.pow(t,n)}for(var r=this.m.subn(1),o=0;!r.isZero()&&0===r.andln(1);)o++,r.iushrn(1);i(!r.isZero());var a=new s(1).toRed(this),h=a.redNeg(),u=this.m.subn(1).iushrn(1),l=this.m.bitLength();for(l=new s(2*l*l).toRed(this);0!==this.pow(l,u).cmp(h);)l.redIAdd(h);for(var c=this.pow(l,r),d=this.pow(t,r.addn(1).iushrn(1)),f=this.pow(t,r),p=o;0!==f.cmp(a);){for(var m=f,g=0;0!==m.cmp(a);g++)m=m.redSqr();i(g<p);var v=this.pow(c,new s(1).iushln(p-g-1));d=d.redMul(v),c=v.redSqr(),f=f.redMul(c),p=g}return d},A.prototype.invm=function(t){var e=t._invmp(this.m);return 0!==e.negative?(e.negative=0,this.imod(e).redNeg()):this.imod(e)},A.prototype.pow=function(t,e){if(e.isZero())return new s(1).toRed(this);if(0===e.cmpn(1))return t.clone();var i=new Array(16);i[0]=new s(1).toRed(this),i[1]=t;for(var n=2;n<i.length;n++)i[n]=this.mul(i[n-1],t);var r=i[0],o=0,a=0,h=e.bitLength()%26;for(0===h&&(h=26),n=e.length-1;n>=0;n--){for(var u=e.words[n],l=h-1;l>=0;l--){var c=u>>l&1;r!==i[0]&&(r=this.sqr(r)),0!==c||0!==o?(o<<=1,o|=c,(4===++a||0===n&&0===l)&&(r=this.mul(r,i[o]),a=0,o=0)):a=0}h=26}return r},A.prototype.convertTo=function(t){var e=t.umod(this.m);return e===t?e.clone():e},A.prototype.convertFrom=function(t){var e=t.clone();return e.red=null,e},s.mont=function(t){return new k(t)},n(k,A),k.prototype.convertTo=function(t){return this.imod(t.ushln(this.shift))},k.prototype.convertFrom=function(t){var e=this.imod(t.mul(this.rinv));return e.red=null,e},k.prototype.imul=function(t,e){if(t.isZero()||e.isZero())return t.words[0]=0,t.length=1,t;var i=t.imul(e),n=i.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),r=i.isub(n).iushrn(this.shift),s=r;return r.cmp(this.m)>=0?s=r.isub(this.m):r.cmpn(0)<0&&(s=r.iadd(this.m)),s._forceRed(this)},k.prototype.mul=function(t,e){if(t.isZero()||e.isZero())return new s(0)._forceRed(this);var i=t.mul(e),n=i.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),r=i.isub(n).iushrn(this.shift),o=r;return r.cmp(this.m)>=0?o=r.isub(this.m):r.cmpn(0)<0&&(o=r.iadd(this.m)),o._forceRed(this)},k.prototype.invm=function(t){return this.imod(t._invmp(this.m).mul(this.r2))._forceRed(this)}}(t,this)})),r.register("4w14y",(function(t,e){var i=r("hADws"),n=r("4OiF0").Buffer;t.exports=function(t,e){return n.from(t.toRed(i.mont(e.modulus)).redPow(new i(e.publicExponent)).fromRed().toArray())}})),r.register("1LJuO",(function(t,e){var i=r("eOlL6"),n=r("4UAri"),s=r("9nhUm"),o=r("hADws"),a=r("aHKJP"),h=r("dHvdJ"),u=r("4w14y"),l=r("4OiF0").Buffer;t.exports=function(t,e,r){var c;c=t.padding?t.padding:r?1:4;var d,f=i(t),p=f.modulus.byteLength();if(e.length>p||new o(e).cmp(f.modulus)>=0)throw new Error("decryption error");d=r?u(new o(e),f):a(e,f);var m=l.alloc(p-d.length);if(d=l.concat([m,d],p),4===c)return function(t,e){var i=t.modulus.byteLength(),r=h("sha1").update(l.alloc(0)).digest(),o=r.length;if(0!==e[0])throw new Error("decryption error");var a=e.slice(1,o+1),u=e.slice(o+1),c=s(a,n(u,o)),d=s(u,n(c,i-o-1));if(function(t,e){t=l.from(t),e=l.from(e);var i=0,n=t.length;t.length!==e.length&&(i++,n=Math.min(t.length,e.length));var r=-1;for(;++r<n;)i+=t[r]^e[r];return i}(r,d.slice(0,o)))throw new Error("decryption error");var f=o;for(;0===d[f];)f++;if(1!==d[f++])throw new Error("decryption error");return d.slice(f)}(f,d);if(1===c)return function(t,e,i){var n=e.slice(0,2),r=2,s=0;for(;0!==e[r++];)if(r>=e.length){s++;break}var o=e.slice(2,r-1);("0002"!==n.toString("hex")&&!i||"0001"!==n.toString("hex")&&i)&&s++;o.length<8&&s++;if(s)throw new Error("decryption error");return e.slice(r)}(0,d,r);if(3===c)return d;throw new Error("unknown padding")}})),r.register("30hQH",(function(i,n){var s,o;t(i.exports,"randomFill",(()=>s),(t=>s=t)),t(i.exports,"randomFillSync",(()=>o),(t=>o=t));var a=r("ajwPf");function h(){throw new Error("secure random number generation not supported by this browser\nuse chrome, FireFox or Internet Explorer 11")}var u=r("4OiF0"),l=(r("bUSoq"),u.Buffer),c=u.kMaxLength,d=e.crypto||e.msCrypto,f=Math.pow(2,32)-1;function p(t,e){if("number"!=typeof t||t!=t)throw new TypeError("offset must be a number");if(t>f||t<0)throw new TypeError("offset must be a uint32");if(t>c||t>e)throw new RangeError("offset out of range")}function m(t,e,i){if("number"!=typeof t||t!=t)throw new TypeError("size must be a number");if(t>f||t<0)throw new TypeError("size must be a uint32");if(t+e>i||t>c)throw new RangeError("buffer too small")}function g(t,e,i,n){var r=t.buffer,s=new Uint8Array(r,e,i);if(d.getRandomValues(s),!n)return t;a.nextTick((function(){n(null,t)}))}d&&d.getRandomValues?(s=function(t,i,n,r){if(!(l.isBuffer(t)||t instanceof e.Uint8Array))throw new TypeError('"buf" argument must be a Buffer or Uint8Array');if("function"==typeof i)r=i,i=0,n=t.length;else if("function"==typeof n)r=n,n=t.length-i;else if("function"!=typeof r)throw new TypeError('"cb" argument must be a function');return p(i,t.length),m(n,i,t.length),g(t,i,n,r)},o=function(t,i,n){void 0===i&&(i=0);if(!(l.isBuffer(t)||t instanceof e.Uint8Array))throw new TypeError('"buf" argument must be a Buffer or Uint8Array');p(i,t.length),void 0===n&&(n=t.length-i);return m(n,i,t.length),g(t,i,n)}):(s=h,o=h)})),r("4z4pD").register(JSON.parse('{"b3ZGg":"index.2f6c9205.js","cdl9a":"sw.js"}'));
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var s=r("ajwPf");const o=function(t){const e=[];let i=0;for(let n=0;n<t.length;n++){let r=t.charCodeAt(n);r<128?e[i++]=r:r<2048?(e[i++]=r>>6|192,e[i++]=63&r|128):55296==(64512&r)&&n+1<t.length&&56320==(64512&t.charCodeAt(n+1))?(r=65536+((1023&r)<<10)+(1023&t.charCodeAt(++n)),e[i++]=r>>18|240,e[i++]=r>>12&63|128,e[i++]=r>>6&63|128,e[i++]=63&r|128):(e[i++]=r>>12|224,e[i++]=r>>6&63|128,e[i++]=63&r|128)}return e},a={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const i=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,n=[];for(let e=0;e<t.length;e+=3){const r=t[e],s=e+1<t.length,o=s?t[e+1]:0,a=e+2<t.length,h=a?t[e+2]:0,u=r>>2,l=(3&r)<<4|o>>4;let c=(15&o)<<2|h>>6,d=63&h;a||(d=64,s||(c=64)),n.push(i[u],i[l],i[c],i[d])}return n.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(o(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):function(t){const e=[];let i=0,n=0;for(;i<t.length;){const r=t[i++];if(r<128)e[n++]=String.fromCharCode(r);else if(r>191&&r<224){const s=t[i++];e[n++]=String.fromCharCode((31&r)<<6|63&s)}else if(r>239&&r<365){const s=((7&r)<<18|(63&t[i++])<<12|(63&t[i++])<<6|63&t[i++])-65536;e[n++]=String.fromCharCode(55296+(s>>10)),e[n++]=String.fromCharCode(56320+(1023&s))}else{const s=t[i++],o=t[i++];e[n++]=String.fromCharCode((15&r)<<12|(63&s)<<6|63&o)}}return e.join("")}(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const i=e?this.charToByteMapWebSafe_:this.charToByteMap_,n=[];for(let e=0;e<t.length;){const r=i[t.charAt(e++)],s=e<t.length?i[t.charAt(e)]:0;++e;const o=e<t.length?i[t.charAt(e)]:64;++e;const a=e<t.length?i[t.charAt(e)]:64;if(++e,null==r||null==s||null==o||null==a)throw Error();const h=r<<2|s>>4;if(n.push(h),64!==o){const t=s<<4&240|o>>2;if(n.push(t),64!==a){const t=o<<6&192|a;n.push(t)}}}return n},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}},h=function(t){return function(t){const e=o(t);return a.encodeByteArray(e,!0)}(t).replace(/\./g,"")},u=function(t){try{return a.decodeString(t,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
const l=()=>
/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function(){if("undefined"!=typeof self)return self;if("undefined"!=typeof window)return window;if(void 0!==e)return e;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__,c=()=>{try{return l()||(()=>{if(void 0===s||void 0===s.env)return})()||(()=>{if("undefined"==typeof document)return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch(t){return}const e=t&&u(t[1]);return e&&JSON.parse(e)})()}catch(t){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`)}},d=t=>{var e,i;return null===(i=null===(e=c())||void 0===e?void 0:e.emulatorHosts)||void 0===i?void 0:i[t]},f=t=>{const e=d(t);if(!e)return;const i=e.lastIndexOf(":");if(i<=0||i+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const n=parseInt(e.substring(i+1),10);return"["===e[0]?[e.substring(1,i-1),n]:[e.substring(0,i),n]},p=()=>{var t;return null===(t=c())||void 0===t?void 0:t.config},m=t=>{var e;return null===(e=c())||void 0===e?void 0:e[`_${t}`]};
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class g{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise(((t,e)=>{this.resolve=t,this.reject=e}))}wrapCallback(t){return(e,i)=>{e?this.reject(e):this.resolve(i),"function"==typeof t&&(this.promise.catch((()=>{})),1===t.length?t(e):t(e,i))}}}
/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function v(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const i=e||"demo-project",n=t.iat||0,r=t.sub||t.user_id;if(!r)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const s=Object.assign({iss:`https://securetoken.google.com/${i}`,aud:i,iat:n,exp:n+3600,auth_time:n,sub:r,user_id:r,firebase:{sign_in_provider:"custom",identities:{}}},t);return[h(JSON.stringify({alg:"none",type:"JWT"})),h(JSON.stringify(s)),""].join(".")}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function y(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function b(){var t;const i=null===(t=c())||void 0===t?void 0:t.forceEnvironment;if("node"===i)return!0;if("browser"===i)return!1;try{return"[object process]"===Object.prototype.toString.call(e.process)}catch(t){return!1}}function w(){const t="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof t&&void 0!==t.id}function _(){const t=y();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function M(){try{return"object"==typeof indexedDB}catch(t){return!1}}class A extends Error{constructor(t,e,i){super(e),this.code=t,this.customData=i,this.name="FirebaseError",Object.setPrototypeOf(this,A.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,k.prototype.create)}}class k{constructor(t,e,i){this.service=t,this.serviceName=e,this.errors=i}create(t,...e){const i=e[0]||{},n=`${this.service}/${t}`,r=this.errors[t],s=r?function(t,e){return t.replace(E,((t,i)=>{const n=e[i];return null!=n?String(n):`<${i}?>`}))}(r,i):"Error",o=`${this.serviceName}: ${s} (${n}).`;return new A(n,o,i)}}const E=/\{\$([^}]+)}/g;
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function x(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function S(t,e){if(t===e)return!0;const i=Object.keys(t),n=Object.keys(e);for(const r of i){if(!n.includes(r))return!1;const i=t[r],s=e[r];if(T(i)&&T(s)){if(!S(i,s))return!1}else if(i!==s)return!1}for(const t of n)if(!i.includes(t))return!1;return!0}function T(t){return null!==t&&"object"==typeof t}
/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function I(t){const e=[];for(const[i,n]of Object.entries(t))Array.isArray(n)?n.forEach((t=>{e.push(encodeURIComponent(i)+"="+encodeURIComponent(t))})):e.push(encodeURIComponent(i)+"="+encodeURIComponent(n));return e.length?"&"+e.join("&"):""}function q(t){const e={};return t.replace(/^\?/,"").split("&").forEach((t=>{if(t){const[i,n]=t.split("=");e[decodeURIComponent(i)]=decodeURIComponent(n)}})),e}function R(t){const e=t.indexOf("?");if(!e)return"";const i=t.indexOf("#",e);return t.substring(e,i>0?i:void 0)}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function C(t,e){const i=new N(t,e);return i.subscribe.bind(i)}class N{constructor(t,e){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=e,this.task.then((()=>{t(this)})).catch((t=>{this.error(t)}))}next(t){this.forEachObserver((e=>{e.next(t)}))}error(t){this.forEachObserver((e=>{e.error(t)})),this.close(t)}complete(){this.forEachObserver((t=>{t.complete()})),this.close()}subscribe(t,e,i){let n;if(void 0===t&&void 0===e&&void 0===i)throw new Error("Missing Observer.");n=function(t,e){if("object"!=typeof t||null===t)return!1;for(const i of e)if(i in t&&"function"==typeof t[i])return!0;return!1}(t,["next","error","complete"])?t:{next:t,error:e,complete:i},void 0===n.next&&(n.next=L),void 0===n.error&&(n.error=L),void 0===n.complete&&(n.complete=L);const r=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((()=>{try{this.finalError?n.error(this.finalError):n.complete()}catch(t){}})),this.observers.push(n),r}unsubscribeOne(t){void 0!==this.observers&&void 0!==this.observers[t]&&(delete this.observers[t],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let e=0;e<this.observers.length;e++)this.sendOne(e,t)}sendOne(t,e){this.task.then((()=>{if(void 0!==this.observers&&void 0!==this.observers[t])try{e(this.observers[t])}catch(t){"undefined"!=typeof console&&console.error&&console.error(t)}}))}close(t){this.finalized||(this.finalized=!0,void 0!==t&&(this.finalError=t),this.task.then((()=>{this.observers=void 0,this.onNoObservers=void 0})))}}function L(){}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function D(t){return t&&t._delegate?t._delegate:t}class O{constructor(t,e,i){this.name=t,this.instanceFactory=e,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const B="[DEFAULT]";
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P{constructor(t,e){this.name=t,this.container=e,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const e=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(e)){const t=new g;if(this.instancesDeferred.set(e,t),this.isInitialized(e)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:e});i&&t.resolve(i)}catch(t){}}return this.instancesDeferred.get(e).promise}getImmediate(t){var e;const i=this.normalizeInstanceIdentifier(null==t?void 0:t.identifier),n=null!==(e=null==t?void 0:t.optional)&&void 0!==e&&e;if(!this.isInitialized(i)&&!this.shouldAutoInitialize()){if(n)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:i})}catch(t){if(n)return null;throw t}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,this.shouldAutoInitialize()){if(function(t){return"EAGER"===t.instantiationMode}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(t))try{this.getOrInitializeService({instanceIdentifier:B})}catch(t){}for(const[t,e]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(t);try{const t=this.getOrInitializeService({instanceIdentifier:i});e.resolve(t)}catch(t){}}}}clearInstance(t=B){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter((t=>"INTERNAL"in t)).map((t=>t.INTERNAL.delete())),...t.filter((t=>"_delete"in t)).map((t=>t._delete()))])}isComponentSet(){return null!=this.component}isInitialized(t=B){return this.instances.has(t)}getOptions(t=B){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:e={}}=t,i=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const n=this.getOrInitializeService({instanceIdentifier:i,options:e});for(const[t,e]of this.instancesDeferred.entries()){i===this.normalizeInstanceIdentifier(t)&&e.resolve(n)}return n}onInit(t,e){var i;const n=this.normalizeInstanceIdentifier(e),r=null!==(i=this.onInitCallbacks.get(n))&&void 0!==i?i:new Set;r.add(t),this.onInitCallbacks.set(n,r);const s=this.instances.get(n);return s&&t(s,n),()=>{r.delete(t)}}invokeOnInitCallbacks(t,e){const i=this.onInitCallbacks.get(e);if(i)for(const n of i)try{n(t,e)}catch(t){}}getOrInitializeService({instanceIdentifier:t,options:e={}}){let i=this.instances.get(t);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:(n=t,n===B?void 0:n),options:e}),this.instances.set(t,i),this.instancesOptions.set(t,e),this.invokeOnInitCallbacks(i,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,i)}catch(t){}var n;return i||null}normalizeInstanceIdentifier(t=B){return this.component?this.component.multipleInstances?t:B:t}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class U{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const e=this.getProvider(t.name);if(e.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);e.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const e=new P(t,this);return this.providers.set(t,e),e}getProviders(){return Array.from(this.providers.values())}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const F=[];var j,z;(z=j||(j={}))[z.DEBUG=0]="DEBUG",z[z.VERBOSE=1]="VERBOSE",z[z.INFO=2]="INFO",z[z.WARN=3]="WARN",z[z.ERROR=4]="ERROR",z[z.SILENT=5]="SILENT";const V={debug:j.DEBUG,verbose:j.VERBOSE,info:j.INFO,warn:j.WARN,error:j.ERROR,silent:j.SILENT},H=j.INFO,K={[j.DEBUG]:"log",[j.VERBOSE]:"log",[j.INFO]:"info",[j.WARN]:"warn",[j.ERROR]:"error"},G=(t,e,...i)=>{if(e<t.logLevel)return;const n=(new Date).toISOString(),r=K[e];if(!r)throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`);console[r](`[${n}]  ${t.name}:`,...i)};class W{constructor(t){this.name=t,this._logLevel=H,this._logHandler=G,this._userLogHandler=null,F.push(this)}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in j))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel="string"==typeof t?V[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if("function"!=typeof t)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,j.DEBUG,...t),this._logHandler(this,j.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,j.VERBOSE,...t),this._logHandler(this,j.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,j.INFO,...t),this._logHandler(this,j.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,j.WARN,...t),this._logHandler(this,j.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,j.ERROR,...t),this._logHandler(this,j.ERROR,...t)}}const Q=(t,e)=>e.some((e=>t instanceof e));let Z,Y;const X=new WeakMap,J=new WeakMap,tt=new WeakMap,et=new WeakMap,it=new WeakMap;let nt={get(t,e,i){if(t instanceof IDBTransaction){if("done"===e)return J.get(t);if("objectStoreNames"===e)return t.objectStoreNames||tt.get(t);if("store"===e)return i.objectStoreNames[1]?void 0:i.objectStore(i.objectStoreNames[0])}return ot(t[e])},set:(t,e,i)=>(t[e]=i,!0),has:(t,e)=>t instanceof IDBTransaction&&("done"===e||"store"===e)||e in t};function rt(t){return t!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(Y||(Y=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(t)?function(...e){return t.apply(at(this),e),ot(X.get(this))}:function(...e){return ot(t.apply(at(this),e))}:function(e,...i){const n=t.call(at(this),e,...i);return tt.set(n,e.sort?e.sort():[e]),ot(n)}}function st(t){return"function"==typeof t?rt(t):(t instanceof IDBTransaction&&function(t){if(J.has(t))return;const e=new Promise(((e,i)=>{const n=()=>{t.removeEventListener("complete",r),t.removeEventListener("error",s),t.removeEventListener("abort",s)},r=()=>{e(),n()},s=()=>{i(t.error||new DOMException("AbortError","AbortError")),n()};t.addEventListener("complete",r),t.addEventListener("error",s),t.addEventListener("abort",s)}));J.set(t,e)}(t),Q(t,Z||(Z=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction]))?new Proxy(t,nt):t)}function ot(t){if(t instanceof IDBRequest)return function(t){const e=new Promise(((e,i)=>{const n=()=>{t.removeEventListener("success",r),t.removeEventListener("error",s)},r=()=>{e(ot(t.result)),n()},s=()=>{i(t.error),n()};t.addEventListener("success",r),t.addEventListener("error",s)}));return e.then((e=>{e instanceof IDBCursor&&X.set(e,t)})).catch((()=>{})),it.set(e,t),e}(t);if(et.has(t))return et.get(t);const e=st(t);return e!==t&&(et.set(t,e),it.set(e,t)),e}const at=t=>it.get(t);function ht(t,e,{blocked:i,upgrade:n,blocking:r,terminated:s}={}){const o=indexedDB.open(t,e),a=ot(o);return n&&o.addEventListener("upgradeneeded",(t=>{n(ot(o.result),t.oldVersion,t.newVersion,ot(o.transaction))})),i&&o.addEventListener("blocked",(()=>i())),a.then((t=>{s&&t.addEventListener("close",(()=>s())),r&&t.addEventListener("versionchange",(()=>r()))})).catch((()=>{})),a}const ut=["get","getKey","getAll","getAllKeys","count"],lt=["put","add","delete","clear"],ct=new Map;function dt(t,e){if(!(t instanceof IDBDatabase)||e in t||"string"!=typeof e)return;if(ct.get(e))return ct.get(e);const i=e.replace(/FromIndex$/,""),n=e!==i,r=lt.includes(i);if(!(i in(n?IDBIndex:IDBObjectStore).prototype)||!r&&!ut.includes(i))return;const s=async function(t,...e){const s=this.transaction(t,r?"readwrite":"readonly");let o=s.store;return n&&(o=o.index(e.shift())),(await Promise.all([o[i](...e),r&&s.done]))[0]};return ct.set(e,s),s}nt=(t=>({...t,get:(e,i,n)=>dt(e,i)||t.get(e,i,n),has:(e,i)=>!!dt(e,i)||t.has(e,i)}))(nt);
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class ft{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map((t=>{if(function(t){const e=t.getComponent();return"VERSION"===(null==e?void 0:e.type)}(t)){const e=t.getImmediate();return`${e.library}/${e.version}`}return null})).filter((t=>t)).join(" ")}}const pt="@firebase/app",mt="0.9.3",gt=new W("@firebase/app"),vt="[DEFAULT]",yt={[pt]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},bt=new Map,wt=new Map;function _t(t,e){try{t.container.addComponent(e)}catch(i){gt.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,i)}}function Mt(t){const e=t.name;if(wt.has(e))return gt.debug(`There were multiple attempts to register component ${e}.`),!1;wt.set(e,t);for(const e of bt.values())_t(e,t);return!0}function At(t,e){const i=t.container.getProvider("heartbeat").getImmediate({optional:!0});return i&&i.triggerHeartbeat(),t.container.getProvider(e)}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
const kt=new k("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class Et{constructor(t,e,i){this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},e),this._name=e.name,this._automaticDataCollectionEnabled=e.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new O("app",(()=>this),"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw kt.create("app-deleted",{appName:this._name})}}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xt="9.17.1";function St(t,e={}){let i=t;if("object"!=typeof e){e={name:e}}const n=Object.assign({name:vt,automaticDataCollectionEnabled:!1},e),r=n.name;if("string"!=typeof r||!r)throw kt.create("bad-app-name",{appName:String(r)});if(i||(i=p()),!i)throw kt.create("no-options");const s=bt.get(r);if(s){if(S(i,s.options)&&S(n,s.config))return s;throw kt.create("duplicate-app",{appName:r})}const o=new U(r);for(const t of wt.values())o.addComponent(t);const a=new Et(i,n,o);return bt.set(r,a),a}function Tt(t=vt){const e=bt.get(t);if(!e&&t===vt)return St();if(!e)throw kt.create("no-app",{appName:t});return e}function It(t,e,i){var n;let r=null!==(n=yt[t])&&void 0!==n?n:t;i&&(r+=`-${i}`);const s=r.match(/\s|\//),o=e.match(/\s|\//);if(s||o){const t=[`Unable to register library "${r}" with version "${e}":`];return s&&t.push(`library name "${r}" contains illegal characters (whitespace or "/")`),s&&o&&t.push("and"),o&&t.push(`version name "${e}" contains illegal characters (whitespace or "/")`),void gt.warn(t.join(" "))}Mt(new O(`${r}-version`,(()=>({library:r,version:e})),"VERSION"))}
/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
const qt="firebase-heartbeat-database",Rt=1,Ct="firebase-heartbeat-store";let Nt=null;function Lt(){return Nt||(Nt=ht(qt,Rt,{upgrade:(t,e)=>{if(0===e)t.createObjectStore(Ct)}}).catch((t=>{throw kt.create("idb-open",{originalErrorMessage:t.message})}))),Nt}async function Dt(t,e){try{const i=(await Lt()).transaction(Ct,"readwrite"),n=i.objectStore(Ct);return await n.put(e,Ot(t)),i.done}catch(t){if(t instanceof A)gt.warn(t.message);else{const e=kt.create("idb-set",{originalErrorMessage:null==t?void 0:t.message});gt.warn(e.message)}}}function Ot(t){return`${t.name}!${t.options.appId}`}
/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bt=1024;class Pt{constructor(t){this.container=t,this._heartbeatsCache=null;const e=this.container.getProvider("app").getImmediate();this._storage=new Ft(e),this._heartbeatsCachePromise=this._storage.read().then((t=>(this._heartbeatsCache=t,t)))}async triggerHeartbeat(){const t=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),e=Ut();if(null===this._heartbeatsCache&&(this._heartbeatsCache=await this._heartbeatsCachePromise),this._heartbeatsCache.lastSentHeartbeatDate!==e&&!this._heartbeatsCache.heartbeats.some((t=>t.date===e)))return this._heartbeatsCache.heartbeats.push({date:e,agent:t}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter((t=>{const e=new Date(t.date).valueOf();return Date.now()-e<=2592e6})),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){if(null===this._heartbeatsCache&&await this._heartbeatsCachePromise,null===this._heartbeatsCache||0===this._heartbeatsCache.heartbeats.length)return"";const t=Ut(),{heartbeatsToSend:e,unsentEntries:i}=function(t,e=Bt){const i=[];let n=t.slice();for(const r of t){const t=i.find((t=>t.agent===r.agent));if(t){if(t.dates.push(r.date),jt(i)>e){t.dates.pop();break}}else if(i.push({agent:r.agent,dates:[r.date]}),jt(i)>e){i.pop();break}n=n.slice(1)}return{heartbeatsToSend:i,unsentEntries:n}}(this._heartbeatsCache.heartbeats),n=h(JSON.stringify({version:2,heartbeats:e}));return this._heartbeatsCache.lastSentHeartbeatDate=t,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),n}}function Ut(){return(new Date).toISOString().substring(0,10)}class Ft{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return!!M()&&new Promise(((t,e)=>{try{let i=!0;const n="validate-browser-context-for-indexeddb-analytics-module",r=self.indexedDB.open(n);r.onsuccess=()=>{r.result.close(),i||self.indexedDB.deleteDatabase(n),t(!0)},r.onupgradeneeded=()=>{i=!1},r.onerror=()=>{var t;e((null===(t=r.error)||void 0===t?void 0:t.message)||"")}}catch(t){e(t)}})).then((()=>!0)).catch((()=>!1))}async read(){if(await this._canUseIndexedDBPromise){return await async function(t){try{return(await Lt()).transaction(Ct).objectStore(Ct).get(Ot(t))}catch(t){if(t instanceof A)gt.warn(t.message);else{const e=kt.create("idb-get",{originalErrorMessage:null==t?void 0:t.message});gt.warn(e.message)}}}(this.app)||{heartbeats:[]}}return{heartbeats:[]}}async overwrite(t){var e;if(await this._canUseIndexedDBPromise){const i=await this.read();return Dt(this.app,{lastSentHeartbeatDate:null!==(e=t.lastSentHeartbeatDate)&&void 0!==e?e:i.lastSentHeartbeatDate,heartbeats:t.heartbeats})}}async add(t){var e;if(await this._canUseIndexedDBPromise){const i=await this.read();return Dt(this.app,{lastSentHeartbeatDate:null!==(e=t.lastSentHeartbeatDate)&&void 0!==e?e:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...t.heartbeats]})}}}function jt(t){return h(JSON.stringify({version:2,heartbeats:t})).length}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var zt;zt="",Mt(new O("platform-logger",(t=>new ft(t)),"PRIVATE")),Mt(new O("heartbeat",(t=>new Pt(t)),"PRIVATE")),It(pt,mt,zt),It(pt,mt,"esm2017"),It("fire-js","");
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
It("firebase","9.17.1","app");function Vt(t,e){var i={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(i[n]=t[n]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(n=Object.getOwnPropertySymbols(t);r<n.length;r++)e.indexOf(n[r])<0&&Object.prototype.propertyIsEnumerable.call(t,n[r])&&(i[n[r]]=t[n[r]])}return i}Object.create;Object.create;function Ht(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const Kt=Ht,Gt=new k("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),Wt=new W("@firebase/auth");function Qt(t,...e){Wt.logLevel<=j.ERROR&&Wt.error(`Auth (${xt}): ${t}`,...e)}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $t(t,...e){throw Xt(t,...e)}function Zt(t,...e){return Xt(t,...e)}function Yt(t,e,i){const n=Object.assign(Object.assign({},Kt()),{[e]:i});return new k("auth","Firebase",n).create(e,{appName:t.name})}function Xt(t,...e){if("string"!=typeof t){const i=e[0],n=[...e.slice(1)];return n[0]&&(n[0].appName=t.name),t._errorFactory.create(i,...n)}return Gt.create(t,...e)}function Jt(t,e,...i){if(!t)throw Xt(e,...i)}function te(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Qt(e),new Error(e)}function ee(t,e){t||te(e)}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ie=new Map;function ne(t){ee(t instanceof Function,"Expected a class definition");let e=ie.get(t);return e?(ee(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,ie.set(t,e),e)}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function re(){var t;return"undefined"!=typeof self&&(null===(t=self.location)||void 0===t?void 0:t.href)||""}function se(){return"http:"===oe()||"https:"===oe()}function oe(){var t;return"undefined"!=typeof self&&(null===(t=self.location)||void 0===t?void 0:t.protocol)||null}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ae(){return!("undefined"!=typeof navigator&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(se()||w()||"connection"in navigator))||navigator.onLine}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class he{constructor(t,e){this.shortDelay=t,this.longDelay=e,ee(e>t,"Short delay should be less than long delay!"),this.isMobile="undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(y())||"object"==typeof navigator&&"ReactNative"===navigator.product}get(){return ae()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ue(t,e){ee(t.emulator,"Emulator should always be set here");const{url:i}=t.emulator;return e?`${i}${e.startsWith("/")?e.slice(1):e}`:i}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class le{static initialize(t,e,i){this.fetchImpl=t,e&&(this.headersImpl=e),i&&(this.responseImpl=i)}static fetch(){return this.fetchImpl?this.fetchImpl:"undefined"!=typeof self&&"fetch"in self?self.fetch:void te("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:"undefined"!=typeof self&&"Headers"in self?self.Headers:void te("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:"undefined"!=typeof self&&"Response"in self?self.Response:void te("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ce={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error"},de=new he(3e4,6e4);
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fe(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function pe(t,e,i,n,r={}){return me(t,r,(async()=>{let r={},s={};n&&("GET"===e?s=n:r={body:JSON.stringify(n)});const o=I(Object.assign({key:t.config.apiKey},s)).slice(1),a=await t._getAdditionalHeaders();return a["Content-Type"]="application/json",t.languageCode&&(a["X-Firebase-Locale"]=t.languageCode),le.fetch()(ve(t,t.config.apiHost,i,o),Object.assign({method:e,headers:a,referrerPolicy:"no-referrer"},r))}))}async function me(t,e,i){t._canInitEmulator=!1;const n=Object.assign(Object.assign({},ce),e);try{const e=new ye(t),r=await Promise.race([i(),e.promise]);e.clearNetworkTimeout();const s=await r.json();if("needConfirmation"in s)throw be(t,"account-exists-with-different-credential",s);if(r.ok&&!("errorMessage"in s))return s;{const e=r.ok?s.errorMessage:s.error.message,[i,o]=e.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===i)throw be(t,"credential-already-in-use",s);if("EMAIL_EXISTS"===i)throw be(t,"email-already-in-use",s);if("USER_DISABLED"===i)throw be(t,"user-disabled",s);const a=n[i]||i.toLowerCase().replace(/[_\s]+/g,"-");if(o)throw Yt(t,a,o);$t(t,a)}}catch(e){if(e instanceof A)throw e;$t(t,"network-request-failed")}}async function ge(t,e,i,n,r={}){const s=await pe(t,e,i,n,r);return"mfaPendingCredential"in s&&$t(t,"multi-factor-auth-required",{_serverResponse:s}),s}function ve(t,e,i,n){const r=`${e}${i}?${n}`;return t.config.emulator?ue(t.config,r):`${t.config.apiScheme}://${r}`}class ye{constructor(t){this.auth=t,this.timer=null,this.promise=new Promise(((t,e)=>{this.timer=setTimeout((()=>e(Zt(this.auth,"network-request-failed"))),de.get())}))}clearNetworkTimeout(){clearTimeout(this.timer)}}function be(t,e,i){const n={appName:t.name};i.email&&(n.email=i.email),i.phoneNumber&&(n.phoneNumber=i.phoneNumber);const r=Zt(t,e,n);return r.customData._tokenResponse=i,r}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function we(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch(t){}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _e(t){return 1e3*Number(t)}function Me(t){const[e,i,n]=t.split(".");if(void 0===e||void 0===i||void 0===n)return Qt("JWT malformed, contained fewer than 3 sections"),null;try{const t=u(i);return t?JSON.parse(t):(Qt("Failed to decode base64 JWT payload"),null)}catch(t){return Qt("Caught error parsing JWT payload as JSON",null==t?void 0:t.toString()),null}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
async function Ae(t,e,i=!1){if(i)return e;try{return await e}catch(e){throw e instanceof A&&function({code:t}){return"auth/user-disabled"===t||"auth/user-token-expired"===t}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(e)&&t.auth.currentUser===t&&await t.auth.signOut(),e}}class ke{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(t){var e;if(t){const t=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),t}{this.errorBackoff=3e4;const t=(null!==(e=this.user.stsTokenManager.expirationTime)&&void 0!==e?e:0)-Date.now()-3e5;return Math.max(0,t)}}schedule(t=!1){if(!this.isRunning)return;const e=this.getInterval(t);this.timerId=setTimeout((async()=>{await this.iteration()}),e)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){return void("auth/network-request-failed"===(null==t?void 0:t.code)&&this.schedule(!0))}this.schedule()}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ee{constructor(t,e){this.createdAt=t,this.lastLoginAt=e,this._initializeTime()}_initializeTime(){this.lastSignInTime=we(this.lastLoginAt),this.creationTime=we(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function xe(t){var e;const i=t.auth,n=await t.getIdToken(),r=await Ae(t,async function(t,e){return pe(t,"POST","/v1/accounts:lookup",e)}(i,{idToken:n}));Jt(null==r?void 0:r.users.length,i,"internal-error");const s=r.users[0];t._notifyReloadListener(s);const o=(null===(e=s.providerUserInfo)||void 0===e?void 0:e.length)?s.providerUserInfo.map((t=>{var{providerId:e}=t,i=Vt(t,["providerId"]);return{providerId:e,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}})):[];const a=(h=t.providerData,u=o,[...h.filter((t=>!u.some((e=>e.providerId===t.providerId)))),...u]);var h,u;const l=t.isAnonymous,c=!(t.email&&s.passwordHash||(null==a?void 0:a.length)),d=!!l&&c,f={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new Ee(s.createdAt,s.lastLoginAt),isAnonymous:d};Object.assign(t,f)}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class Se{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){Jt(t.idToken,"internal-error"),Jt(void 0!==t.idToken,"internal-error"),Jt(void 0!==t.refreshToken,"internal-error");const e="expiresIn"in t&&void 0!==t.expiresIn?Number(t.expiresIn):function(t){const e=Me(t);return Jt(e,"internal-error"),Jt(void 0!==e.exp,"internal-error"),Jt(void 0!==e.iat,"internal-error"),Number(e.exp)-Number(e.iat)}(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,e)}async getToken(t,e=!1){return Jt(!this.accessToken||this.refreshToken,t,"user-token-expired"),e||!this.accessToken||this.isExpired?this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null:this.accessToken}clearRefreshToken(){this.refreshToken=null}async refresh(t,e){const{accessToken:i,refreshToken:n,expiresIn:r}=await
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
async function(t,e){const i=await me(t,{},(async()=>{const i=I({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:n,apiKey:r}=t.config,s=ve(t,n,"/v1/token",`key=${r}`),o=await t._getAdditionalHeaders();return o["Content-Type"]="application/x-www-form-urlencoded",le.fetch()(s,{method:"POST",headers:o,body:i})}));return{accessToken:i.access_token,expiresIn:i.expires_in,refreshToken:i.refresh_token}}(t,e);this.updateTokensAndExpiration(i,n,Number(r))}updateTokensAndExpiration(t,e,i){this.refreshToken=e||null,this.accessToken=t||null,this.expirationTime=Date.now()+1e3*i}static fromJSON(t,e){const{refreshToken:i,accessToken:n,expirationTime:r}=e,s=new Se;return i&&(Jt("string"==typeof i,"internal-error",{appName:t}),s.refreshToken=i),n&&(Jt("string"==typeof n,"internal-error",{appName:t}),s.accessToken=n),r&&(Jt("number"==typeof r,"internal-error",{appName:t}),s.expirationTime=r),s}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new Se,this.toJSON())}_performRefresh(){return te("not implemented")}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Te(t,e){Jt("string"==typeof t||void 0===t,"internal-error",{appName:e})}class Ie{constructor(t){var{uid:e,auth:i,stsTokenManager:n}=t,r=Vt(t,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new ke(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=i,this.stsTokenManager=n,this.accessToken=n.accessToken,this.displayName=r.displayName||null,this.email=r.email||null,this.emailVerified=r.emailVerified||!1,this.phoneNumber=r.phoneNumber||null,this.photoURL=r.photoURL||null,this.isAnonymous=r.isAnonymous||!1,this.tenantId=r.tenantId||null,this.providerData=r.providerData?[...r.providerData]:[],this.metadata=new Ee(r.createdAt||void 0,r.lastLoginAt||void 0)}async getIdToken(t){const e=await Ae(this,this.stsTokenManager.getToken(this.auth,t));return Jt(e,this.auth,"internal-error"),this.accessToken!==e&&(this.accessToken=e,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),e}getIdTokenResult(t){return async function(t,e=!1){const i=D(t),n=await i.getIdToken(e),r=Me(n);Jt(r&&r.exp&&r.auth_time&&r.iat,i.auth,"internal-error");const s="object"==typeof r.firebase?r.firebase:void 0,o=null==s?void 0:s.sign_in_provider;return{claims:r,token:n,authTime:we(_e(r.auth_time)),issuedAtTime:we(_e(r.iat)),expirationTime:we(_e(r.exp)),signInProvider:o||null,signInSecondFactor:(null==s?void 0:s.sign_in_second_factor)||null}}(this,t)}reload(){return async function(t){const e=D(t);await xe(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}(this)}_assign(t){this!==t&&(Jt(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map((t=>Object.assign({},t))),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){return new Ie(Object.assign(Object.assign({},this),{auth:t,stsTokenManager:this.stsTokenManager._clone()}))}_onReload(t){Jt(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,e=!1){let i=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),i=!0),e&&await xe(this),await this.auth._persistUserIfCurrent(this),i&&this.auth._notifyListenersIfCurrent(this)}async delete(){const t=await this.getIdToken();return await Ae(this,async function(t,e){return pe(t,"POST","/v1/accounts:delete",e)}(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map((t=>Object.assign({},t))),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,e){var i,n,r,s,o,a,h,u;const l=null!==(i=e.displayName)&&void 0!==i?i:void 0,c=null!==(n=e.email)&&void 0!==n?n:void 0,d=null!==(r=e.phoneNumber)&&void 0!==r?r:void 0,f=null!==(s=e.photoURL)&&void 0!==s?s:void 0,p=null!==(o=e.tenantId)&&void 0!==o?o:void 0,m=null!==(a=e._redirectEventId)&&void 0!==a?a:void 0,g=null!==(h=e.createdAt)&&void 0!==h?h:void 0,v=null!==(u=e.lastLoginAt)&&void 0!==u?u:void 0,{uid:y,emailVerified:b,isAnonymous:w,providerData:_,stsTokenManager:M}=e;Jt(y&&M,t,"internal-error");const A=Se.fromJSON(this.name,M);Jt("string"==typeof y,t,"internal-error"),Te(l,t.name),Te(c,t.name),Jt("boolean"==typeof b,t,"internal-error"),Jt("boolean"==typeof w,t,"internal-error"),Te(d,t.name),Te(f,t.name),Te(p,t.name),Te(m,t.name),Te(g,t.name),Te(v,t.name);const k=new Ie({uid:y,auth:t,email:c,emailVerified:b,displayName:l,isAnonymous:w,photoURL:f,phoneNumber:d,tenantId:p,stsTokenManager:A,createdAt:g,lastLoginAt:v});return _&&Array.isArray(_)&&(k.providerData=_.map((t=>Object.assign({},t)))),m&&(k._redirectEventId=m),k}static async _fromIdTokenResponse(t,e,i=!1){const n=new Se;n.updateFromServerResponse(e);const r=new Ie({uid:e.localId,auth:t,stsTokenManager:n,isAnonymous:i});return await xe(r),r}}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qe{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,e){this.storage[t]=e}async _get(t){const e=this.storage[t];return void 0===e?null:e}async _remove(t){delete this.storage[t]}_addListener(t,e){}_removeListener(t,e){}}qe.type="NONE";const Re=qe;
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ce(t,e,i){return`firebase:${t}:${e}:${i}`}class Ne{constructor(t,e,i){this.persistence=t,this.auth=e,this.userKey=i;const{config:n,name:r}=this.auth;this.fullUserKey=Ce(this.userKey,n.apiKey,r),this.fullPersistenceKey=Ce("persistence",n.apiKey,r),this.boundEventHandler=e._onStorageEvent.bind(e),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);return t?Ie._fromJSON(this.auth,t):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const e=await this.getCurrentUser();return await this.removeCurrentUser(),this.persistence=t,e?this.setCurrentUser(e):void 0}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,e,i="authUser"){if(!e.length)return new Ne(ne(Re),t,i);const n=(await Promise.all(e.map((async t=>{if(await t._isAvailable())return t})))).filter((t=>t));let r=n[0]||ne(Re);const s=Ce(i,t.config.apiKey,t.name);let o=null;for(const i of e)try{const e=await i._get(s);if(e){const n=Ie._fromJSON(t,e);i!==r&&(o=n),r=i;break}}catch(t){}const a=n.filter((t=>t._shouldAllowMigration));return r._shouldAllowMigration&&a.length?(r=a[0],o&&await r._set(s,o.toJSON()),await Promise.all(e.map((async t=>{if(t!==r)try{await t._remove(s)}catch(t){}}))),new Ne(r,t,i)):new Ne(r,t,i)}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Le(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(Pe(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(De(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(Fe(e))return"Blackberry";if(je(e))return"Webos";if(Oe(e))return"Safari";if((e.includes("chrome/")||Be(e))&&!e.includes("edge/"))return"Chrome";if(Ue(e))return"Android";{const e=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,i=t.match(e);if(2===(null==i?void 0:i.length))return i[1]}return"Other"}function De(t=y()){return/firefox\//i.test(t)}function Oe(t=y()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function Be(t=y()){return/crios\//i.test(t)}function Pe(t=y()){return/iemobile/i.test(t)}function Ue(t=y()){return/android/i.test(t)}function Fe(t=y()){return/blackberry/i.test(t)}function je(t=y()){return/webos/i.test(t)}function ze(t=y()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function Ve(){return _()&&10===document.documentMode}function He(t=y()){return ze(t)||Ue(t)||je(t)||Fe(t)||/windows phone/i.test(t)||Pe(t)}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function Ke(t,e=[]){let i;switch(t){case"Browser":i=Le(y());break;case"Worker":i=`${Le(y())}-${t}`;break;default:i=t}const n=e.length?e.join(","):"FirebaseCore-web";return`${i}/JsCore/${xt}/${n}`}
/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ge{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,e){const i=e=>new Promise(((i,n)=>{try{i(t(e))}catch(t){n(t)}}));i.onAbort=e,this.queue.push(i);const n=this.queue.length-1;return()=>{this.queue[n]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const e=[];try{for(const i of this.queue)await i(t),i.onAbort&&e.push(i.onAbort)}catch(t){e.reverse();for(const t of e)try{t()}catch(t){}throw this.auth._errorFactory.create("login-blocked",{originalMessage:null==t?void 0:t.message})}}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class We{constructor(t,e,i){this.app=t,this.heartbeatServiceProvider=e,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new $e(this),this.idTokenSubscription=new $e(this),this.beforeStateQueue=new Ge(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Gt,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(t,e){return e&&(this._popupRedirectResolver=ne(e)),this._initializationPromise=this.queue((async()=>{var i,n;if(!this._deleted&&(this.persistenceManager=await Ne.create(this,t),!this._deleted)){if(null===(i=this._popupRedirectResolver)||void 0===i?void 0:i._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch(t){}await this.initializeCurrentUser(e),this.lastNotifiedUid=(null===(n=this.currentUser)||void 0===n?void 0:n.uid)||null,this._deleted||(this._isInitialized=!0)}})),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();return this.currentUser||t?this.currentUser&&t&&this.currentUser.uid===t.uid?(this._currentUser._assign(t),void await this.currentUser.getIdToken()):void await this._updateCurrentUser(t,!0):void 0}async initializeCurrentUser(t){var e;const i=await this.assertedPersistence.getCurrentUser();let n=i,r=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const i=null===(e=this.redirectUser)||void 0===e?void 0:e._redirectEventId,s=null==n?void 0:n._redirectEventId,o=await this.tryRedirectSignIn(t);i&&i!==s||!(null==o?void 0:o.user)||(n=o.user,r=!0)}if(!n)return this.directlySetCurrentUser(null);if(!n._redirectEventId){if(r)try{await this.beforeStateQueue.runMiddleware(n)}catch(t){n=i,this._popupRedirectResolver._overrideRedirectResult(this,(()=>Promise.reject(t)))}return n?this.reloadAndSetCurrentUserOrClear(n):this.directlySetCurrentUser(null)}return Jt(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===n._redirectEventId?this.directlySetCurrentUser(n):this.reloadAndSetCurrentUserOrClear(n)}async tryRedirectSignIn(t){let e=null;try{e=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch(t){await this._setRedirectUser(null)}return e}async reloadAndSetCurrentUserOrClear(t){try{await xe(t)}catch(t){if("auth/network-request-failed"!==(null==t?void 0:t.code))return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=function(){if("undefined"==typeof navigator)return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}()}async _delete(){this._deleted=!0}async updateCurrentUser(t){const e=t?D(t):null;return e&&Jt(e.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(e&&e._clone(this))}async _updateCurrentUser(t,e=!1){if(!this._deleted)return t&&Jt(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),e||await this.beforeStateQueue.runMiddleware(t),this.queue((async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()}))}async signOut(){return await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0)}setPersistence(t){return this.queue((async()=>{await this.assertedPersistence.setPersistence(ne(t))}))}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(t){this._errorFactory=new k("auth","Firebase",t())}onAuthStateChanged(t,e,i){return this.registerStateListener(this.authStateSubscription,t,e,i)}beforeAuthStateChanged(t,e){return this.beforeStateQueue.pushCallback(t,e)}onIdTokenChanged(t,e,i){return this.registerStateListener(this.idTokenSubscription,t,e,i)}toJSON(){var t;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(t=this._currentUser)||void 0===t?void 0:t.toJSON()}}async _setRedirectUser(t,e){const i=await this.getOrInitRedirectPersistenceManager(e);return null===t?i.removeCurrentUser():i.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const e=t&&ne(t)||this._popupRedirectResolver;Jt(e,this,"argument-error"),this.redirectPersistenceManager=await Ne.create(this,[ne(e._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){var e,i;return this._isInitialized&&await this.queue((async()=>{})),(null===(e=this._currentUser)||void 0===e?void 0:e._redirectEventId)===t?this._currentUser:(null===(i=this.redirectUser)||void 0===i?void 0:i._redirectEventId)===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue((async()=>this.directlySetCurrentUser(t)))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var t,e;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const i=null!==(e=null===(t=this.currentUser)||void 0===t?void 0:t.uid)&&void 0!==e?e:null;this.lastNotifiedUid!==i&&(this.lastNotifiedUid=i,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,e,i,n){if(this._deleted)return()=>{};const r="function"==typeof e?e:e.next.bind(e),s=this._isInitialized?Promise.resolve():this._initializationPromise;return Jt(s,this,"internal-error"),s.then((()=>r(this.currentUser))),"function"==typeof e?t.addObserver(e,i,n):t.addObserver(e)}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return Jt(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){t&&!this.frameworks.includes(t)&&(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=Ke(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var t;const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const i=await(null===(t=this.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===t?void 0:t.getHeartbeatsHeader());return i&&(e["X-Firebase-Client"]=i),e}}function Qe(t){return D(t)}class $e{constructor(t){this.auth=t,this.observer=null,this.addObserver=C((t=>this.observer=t))}get next(){return Jt(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function Ze(t,e,i){const n=Qe(t);Jt(n._canInitEmulator,n,"emulator-config-failed"),Jt(/^https?:\/\//.test(e),n,"invalid-emulator-scheme");const r=!!(null==i?void 0:i.disableWarnings),s=Ye(e),{host:o,port:a}=function(t){const e=Ye(t),i=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!i)return{host:"",port:null};const n=i[2].split("@").pop()||"",r=/^(\[[^\]]+\])(:|$)/.exec(n);if(r){const t=r[1];return{host:t,port:Xe(n.substr(t.length+1))}}{const[t,e]=n.split(":");return{host:t,port:Xe(e)}}}(e),h=null===a?"":`:${a}`;n.config.emulator={url:`${s}//${o}${h}/`},n.settings.appVerificationDisabledForTesting=!0,n.emulatorConfig=Object.freeze({host:o,port:a,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:r})}),r||function(){function t(){const t=document.createElement("p"),e=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",e.position="fixed",e.width="100%",e.backgroundColor="#ffffff",e.border=".1em solid #000000",e.color="#b50000",e.bottom="0px",e.left="0px",e.margin="0px",e.zIndex="10000",e.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}"undefined"!=typeof console&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials.");"undefined"!=typeof window&&"undefined"!=typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",t):t())}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */()}function Ye(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function Xe(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}class Je{constructor(t,e){this.providerId=t,this.signInMethod=e}toJSON(){return te("not implemented")}_getIdTokenResponse(t){return te("not implemented")}_linkToIdToken(t,e){return te("not implemented")}_getReauthenticationResolver(t){return te("not implemented")}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ti(t,e){return pe(t,"POST","/v1/accounts:update",e)}async function ei(t,e){return pe(t,"POST","/v1/accounts:sendOobCode",fe(t,e))}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class ii extends Je{constructor(t,e,i,n=null){super("password",i),this._email=t,this._password=e,this._tenantId=n}static _fromEmailAndPassword(t,e){return new ii(t,e,"password")}static _fromEmailAndCode(t,e,i=null){return new ii(t,e,"emailLink",i)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(t){const e="string"==typeof t?JSON.parse(t):t;if((null==e?void 0:e.email)&&(null==e?void 0:e.password)){if("password"===e.signInMethod)return this._fromEmailAndPassword(e.email,e.password);if("emailLink"===e.signInMethod)return this._fromEmailAndCode(e.email,e.password,e.tenantId)}return null}async _getIdTokenResponse(t){switch(this.signInMethod){case"password":
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
return async function(t,e){return ge(t,"POST","/v1/accounts:signInWithPassword",fe(t,e))}(t,{returnSecureToken:!0,email:this._email,password:this._password});case"emailLink":
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
return async function(t,e){return ge(t,"POST","/v1/accounts:signInWithEmailLink",fe(t,e))}(t,{email:this._email,oobCode:this._password});default:$t(t,"internal-error")}}async _linkToIdToken(t,e){switch(this.signInMethod){case"password":return ti(t,{idToken:e,returnSecureToken:!0,email:this._email,password:this._password});case"emailLink":return async function(t,e){return ge(t,"POST","/v1/accounts:signInWithEmailLink",fe(t,e))}(t,{idToken:e,email:this._email,oobCode:this._password});default:$t(t,"internal-error")}}_getReauthenticationResolver(t){return this._getIdTokenResponse(t)}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ni(t,e){return ge(t,"POST","/v1/accounts:signInWithIdp",fe(t,e))}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ri extends Je{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const e=new ri(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(e.idToken=t.idToken),t.accessToken&&(e.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(e.nonce=t.nonce),t.pendingToken&&(e.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(e.accessToken=t.oauthToken,e.secret=t.oauthTokenSecret):$t("argument-error"),e}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const e="string"==typeof t?JSON.parse(t):t,{providerId:i,signInMethod:n}=e,r=Vt(e,["providerId","signInMethod"]);if(!i||!n)return null;const s=new ri(i,n);return s.idToken=r.idToken||void 0,s.accessToken=r.accessToken||void 0,s.secret=r.secret,s.nonce=r.nonce,s.pendingToken=r.pendingToken||null,s}_getIdTokenResponse(t){return ni(t,this.buildRequest())}_linkToIdToken(t,e){const i=this.buildRequest();return i.idToken=e,ni(t,i)}_getReauthenticationResolver(t){const e=this.buildRequest();return e.autoCreate=!1,ni(t,e)}buildRequest(){const t={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const e={};this.idToken&&(e.id_token=this.idToken),this.accessToken&&(e.access_token=this.accessToken),this.secret&&(e.oauth_token_secret=this.secret),e.providerId=this.providerId,this.nonce&&!this.pendingToken&&(e.nonce=this.nonce),t.postBody=I(e)}return t}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const si={USER_NOT_FOUND:"user-not-found"};
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class oi extends Je{constructor(t){super("phone","phone"),this.params=t}static _fromVerification(t,e){return new oi({verificationId:t,verificationCode:e})}static _fromTokenResponse(t,e){return new oi({phoneNumber:t,temporaryProof:e})}_getIdTokenResponse(t){return async function(t,e){return ge(t,"POST","/v1/accounts:signInWithPhoneNumber",fe(t,e))}(t,this._makeVerificationRequest())}_linkToIdToken(t,e){return async function(t,e){const i=await ge(t,"POST","/v1/accounts:signInWithPhoneNumber",fe(t,e));if(i.temporaryProof)throw be(t,"account-exists-with-different-credential",i);return i}(t,Object.assign({idToken:e},this._makeVerificationRequest()))}_getReauthenticationResolver(t){return async function(t,e){return ge(t,"POST","/v1/accounts:signInWithPhoneNumber",fe(t,Object.assign(Object.assign({},e),{operation:"REAUTH"})),si)}(t,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:t,phoneNumber:e,verificationId:i,verificationCode:n}=this.params;return t&&e?{temporaryProof:t,phoneNumber:e}:{sessionInfo:i,code:n}}toJSON(){const t={providerId:this.providerId};return this.params.phoneNumber&&(t.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(t.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(t.verificationCode=this.params.verificationCode),this.params.verificationId&&(t.verificationId=this.params.verificationId),t}static fromJSON(t){"string"==typeof t&&(t=JSON.parse(t));const{verificationId:e,verificationCode:i,phoneNumber:n,temporaryProof:r}=t;return i||e||n||r?new oi({verificationId:e,verificationCode:i,phoneNumber:n,temporaryProof:r}):null}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ai{constructor(t){var e,i,n,r,s,o;const a=q(R(t)),h=null!==(e=a.apiKey)&&void 0!==e?e:null,u=null!==(i=a.oobCode)&&void 0!==i?i:null,l=function(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(n=a.mode)&&void 0!==n?n:null);Jt(h&&u&&l,"argument-error"),this.apiKey=h,this.operation=l,this.code=u,this.continueUrl=null!==(r=a.continueUrl)&&void 0!==r?r:null,this.languageCode=null!==(s=a.languageCode)&&void 0!==s?s:null,this.tenantId=null!==(o=a.tenantId)&&void 0!==o?o:null}static parseLink(t){const e=function(t){const e=q(R(t)).link,i=e?q(R(e)).deep_link_id:null,n=q(R(t)).deep_link_id;return(n?q(R(n)).link:null)||n||i||e||t}(t);try{return new ai(e)}catch(t){return null}}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class hi{constructor(){this.providerId=hi.PROVIDER_ID}static credential(t,e){return ii._fromEmailAndPassword(t,e)}static credentialWithLink(t,e){const i=ai.parseLink(e);return Jt(i,"argument-error"),ii._fromEmailAndCode(t,i.code,i.tenantId)}}hi.PROVIDER_ID="password",hi.EMAIL_PASSWORD_SIGN_IN_METHOD="password",hi.EMAIL_LINK_SIGN_IN_METHOD="emailLink";
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class ui{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class li extends ui{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class ci extends li{constructor(){super("facebook.com")}static credential(t){return ri._fromParams({providerId:ci.PROVIDER_ID,signInMethod:ci.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return ci.credentialFromTaggedObject(t)}static credentialFromError(t){return ci.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return ci.credential(t.oauthAccessToken)}catch(t){return null}}}ci.FACEBOOK_SIGN_IN_METHOD="facebook.com",ci.PROVIDER_ID="facebook.com";
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class di extends li{constructor(){super("google.com"),this.addScope("profile")}static credential(t,e){return ri._fromParams({providerId:di.PROVIDER_ID,signInMethod:di.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:e})}static credentialFromResult(t){return di.credentialFromTaggedObject(t)}static credentialFromError(t){return di.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:e,oauthAccessToken:i}=t;if(!e&&!i)return null;try{return di.credential(e,i)}catch(t){return null}}}di.GOOGLE_SIGN_IN_METHOD="google.com",di.PROVIDER_ID="google.com";
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class fi extends li{constructor(){super("github.com")}static credential(t){return ri._fromParams({providerId:fi.PROVIDER_ID,signInMethod:fi.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return fi.credentialFromTaggedObject(t)}static credentialFromError(t){return fi.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return fi.credential(t.oauthAccessToken)}catch(t){return null}}}fi.GITHUB_SIGN_IN_METHOD="github.com",fi.PROVIDER_ID="github.com";
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class pi extends li{constructor(){super("twitter.com")}static credential(t,e){return ri._fromParams({providerId:pi.PROVIDER_ID,signInMethod:pi.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:e})}static credentialFromResult(t){return pi.credentialFromTaggedObject(t)}static credentialFromError(t){return pi.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:e,oauthTokenSecret:i}=t;if(!e||!i)return null;try{return pi.credential(e,i)}catch(t){return null}}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
async function mi(t,e){return ge(t,"POST","/v1/accounts:signUp",fe(t,e))}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */pi.TWITTER_SIGN_IN_METHOD="twitter.com",pi.PROVIDER_ID="twitter.com";class gi{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,e,i,n=!1){const r=await Ie._fromIdTokenResponse(t,i,n),s=vi(i);return new gi({user:r,providerId:s,_tokenResponse:i,operationType:e})}static async _forOperation(t,e,i){await t._updateTokensIfNecessary(i,!0);const n=vi(i);return new gi({user:t,providerId:n,_tokenResponse:i,operationType:e})}}function vi(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class yi extends A{constructor(t,e,i,n){var r;super(e.code,e.message),this.operationType=i,this.user=n,Object.setPrototypeOf(this,yi.prototype),this.customData={appName:t.name,tenantId:null!==(r=t.tenantId)&&void 0!==r?r:void 0,_serverResponse:e.customData._serverResponse,operationType:i}}static _fromErrorAndOperation(t,e,i,n){return new yi(t,e,i,n)}}function bi(t,e,i,n){return("reauthenticate"===e?i._getReauthenticationResolver(t):i._getIdTokenResponse(t)).catch((i=>{if("auth/multi-factor-auth-required"===i.code)throw yi._fromErrorAndOperation(t,i,e,n);throw i}))}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function wi(t,e,i=!1){const n=await Ae(t,e._linkToIdToken(t.auth,await t.getIdToken()),i);return gi._forOperation(t,"link",n)}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
async function _i(t,e,i=!1){const{auth:n}=t,r="reauthenticate";try{const s=await Ae(t,bi(n,r,e,t),i);Jt(s.idToken,n,"internal-error");const o=Me(s.idToken);Jt(o,n,"internal-error");const{sub:a}=o;return Jt(t.uid===a,n,"user-mismatch"),gi._forOperation(t,r,s)}catch(t){throw"auth/user-not-found"===(null==t?void 0:t.code)&&$t(n,"user-mismatch"),t}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Mi(t,e,i=!1){const n="signIn",r=await bi(t,n,e),s=await gi._fromIdTokenResponse(t,n,r);return i||await t._updateCurrentUser(s.user),s}async function Ai(t,e){return Mi(Qe(t),e)}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function ki(t,e,i){var n;Jt((null===(n=i.url)||void 0===n?void 0:n.length)>0,t,"invalid-continue-uri"),Jt(void 0===i.dynamicLinkDomain||i.dynamicLinkDomain.length>0,t,"invalid-dynamic-link-domain"),e.continueUrl=i.url,e.dynamicLinkDomain=i.dynamicLinkDomain,e.canHandleCodeInApp=i.handleCodeInApp,i.iOS&&(Jt(i.iOS.bundleId.length>0,t,"missing-ios-bundle-id"),e.iOSBundleId=i.iOS.bundleId),i.android&&(Jt(i.android.packageName.length>0,t,"missing-android-pkg-name"),e.androidInstallApp=i.android.installApp,e.androidMinimumVersionCode=i.android.minimumVersion,e.androidPackageName=i.android.packageName)}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ei(t,e,i){const n=D(t),r={requestType:"PASSWORD_RESET",email:e};i&&ki(n,r,i),await async function(t,e){return ei(t,e)}(n,r)}async function xi(t,e,i){const n=Qe(t),r=await mi(n,{returnSecureToken:!0,email:e,password:i}),s=await gi._fromIdTokenResponse(n,"signIn",r);return await n._updateCurrentUser(s.user),s}function Si(t,e,i){return Ai(D(t),hi.credential(e,i))}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ti(t,e,i,n){return D(t).onAuthStateChanged(e,i,n)}function Ii(t){return D(t).signOut()}new WeakMap;const qi="__sak";
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ri{constructor(t,e){this.storageRetriever=t,this.type=e}_isAvailable(){try{return this.storage?(this.storage.setItem(qi,"1"),this.storage.removeItem(qi),Promise.resolve(!0)):Promise.resolve(!1)}catch(t){return Promise.resolve(!1)}}_set(t,e){return this.storage.setItem(t,JSON.stringify(e)),Promise.resolve()}_get(t){const e=this.storage.getItem(t);return Promise.resolve(e?JSON.parse(e):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ci extends Ri{constructor(){super((()=>window.localStorage),"LOCAL"),this.boundEventHandler=(t,e)=>this.onStorageEvent(t,e),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function(){const t=y();return Oe(t)||ze(t)}()&&function(){try{return!(!window||window===window.top)}catch(t){return!1}}(),this.fallbackToPolling=He(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const e of Object.keys(this.listeners)){const i=this.storage.getItem(e),n=this.localCache[e];i!==n&&t(e,n,i)}}onStorageEvent(t,e=!1){if(!t.key)return void this.forAllChangedKeys(((t,e,i)=>{this.notifyListeners(t,i)}));const i=t.key;if(e?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const n=this.storage.getItem(i);if(t.newValue!==n)null!==t.newValue?this.storage.setItem(i,t.newValue):this.storage.removeItem(i);else if(this.localCache[i]===t.newValue&&!e)return}const n=()=>{const t=this.storage.getItem(i);(e||this.localCache[i]!==t)&&this.notifyListeners(i,t)},r=this.storage.getItem(i);Ve()&&r!==t.newValue&&t.newValue!==t.oldValue?setTimeout(n,10):n()}notifyListeners(t,e){this.localCache[t]=e;const i=this.listeners[t];if(i)for(const t of Array.from(i))t(e?JSON.parse(e):e)}startPolling(){this.stopPolling(),this.pollTimer=setInterval((()=>{this.forAllChangedKeys(((t,e,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:e,newValue:i}),!0)}))}),1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,e){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(e)}_removeListener(t,e){this.listeners[t]&&(this.listeners[t].delete(e),0===this.listeners[t].size&&delete this.listeners[t]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}async _set(t,e){await super._set(t,e),this.localCache[t]=JSON.stringify(e)}async _get(t){const e=await super._get(t);return this.localCache[t]=JSON.stringify(e),e}async _remove(t){await super._remove(t),delete this.localCache[t]}}Ci.type="LOCAL";const Ni=Ci;
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Li extends Ri{constructor(){super((()=>window.sessionStorage),"SESSION")}_addListener(t,e){}_removeListener(t,e){}}Li.type="SESSION";const Di=Li;
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class Oi{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const e=this.receivers.find((e=>e.isListeningto(t)));if(e)return e;const i=new Oi(t);return this.receivers.push(i),i}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const e=t,{eventId:i,eventType:n,data:r}=e.data,s=this.handlersMap[n];if(!(null==s?void 0:s.size))return;e.ports[0].postMessage({status:"ack",eventId:i,eventType:n});const o=Array.from(s).map((async t=>t(e.origin,r))),a=await function(t){return Promise.all(t.map((async t=>{try{return{fulfilled:!0,value:await t}}catch(t){return{fulfilled:!1,reason:t}}})))}(o);e.ports[0].postMessage({status:"done",eventId:i,eventType:n,response:a})}_subscribe(t,e){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(e)}_unsubscribe(t,e){this.handlersMap[t]&&e&&this.handlersMap[t].delete(e),e&&0!==this.handlersMap[t].size||delete this.handlersMap[t],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function Bi(t="",e=10){let i="";for(let t=0;t<e;t++)i+=Math.floor(10*Math.random());return t+i}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Oi.receivers=[];class Pi{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,e,i=50){const n="undefined"!=typeof MessageChannel?new MessageChannel:null;if(!n)throw new Error("connection_unavailable");let r,s;return new Promise(((o,a)=>{const h=Bi("",20);n.port1.start();const u=setTimeout((()=>{a(new Error("unsupported_event"))}),i);s={messageChannel:n,onMessage(t){const e=t;if(e.data.eventId===h)switch(e.data.status){case"ack":clearTimeout(u),r=setTimeout((()=>{a(new Error("timeout"))}),3e3);break;case"done":clearTimeout(r),o(e.data.response);break;default:clearTimeout(u),clearTimeout(r),a(new Error("invalid_response"))}}},this.handlers.add(s),n.port1.addEventListener("message",s.onMessage),this.target.postMessage({eventType:t,eventId:h,data:e},[n.port2])})).finally((()=>{s&&this.removeMessageHandler(s)}))}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ui(){return window}
/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function Fi(){return void 0!==Ui().WorkerGlobalScope&&"function"==typeof Ui().importScripts}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
const ji="firebaseLocalStorageDb",zi=1,Vi="firebaseLocalStorage",Hi="fbase_key";class Ki{constructor(t){this.request=t}toPromise(){return new Promise(((t,e)=>{this.request.addEventListener("success",(()=>{t(this.request.result)})),this.request.addEventListener("error",(()=>{e(this.request.error)}))}))}}function Gi(t,e){return t.transaction([Vi],e?"readwrite":"readonly").objectStore(Vi)}function Wi(){const t=indexedDB.open(ji,zi);return new Promise(((e,i)=>{t.addEventListener("error",(()=>{i(t.error)})),t.addEventListener("upgradeneeded",(()=>{const e=t.result;try{e.createObjectStore(Vi,{keyPath:Hi})}catch(t){i(t)}})),t.addEventListener("success",(async()=>{const i=t.result;i.objectStoreNames.contains(Vi)?e(i):(i.close(),await function(){const t=indexedDB.deleteDatabase(ji);return new Ki(t).toPromise()}(),e(await Wi()))}))}))}async function Qi(t,e,i){const n=Gi(t,!0).put({[Hi]:e,value:i});return new Ki(n).toPromise()}function $i(t,e){const i=Gi(t,!0).delete(e);return new Ki(i).toPromise()}class Zi{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then((()=>{}),(()=>{}))}async _openDb(){return this.db||(this.db=await Wi()),this.db}async _withRetries(t){let e=0;for(;;)try{const e=await this._openDb();return await t(e)}catch(t){if(e++>3)throw t;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return Fi()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Oi._getInstance(Fi()?self:null),this.receiver._subscribe("keyChanged",(async(t,e)=>({keyProcessed:(await this._poll()).includes(e.key)}))),this.receiver._subscribe("ping",(async(t,e)=>["keyChanged"]))}async initializeSender(){var t,e;if(this.activeServiceWorker=await async function(){if(!(null===navigator||void 0===navigator?void 0:navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch(t){return null}}(),!this.activeServiceWorker)return;this.sender=new Pi(this.activeServiceWorker);const i=await this.sender._send("ping",{},800);i&&(null===(t=i[0])||void 0===t?void 0:t.fulfilled)&&(null===(e=i[0])||void 0===e?void 0:e.value.includes("keyChanged"))&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){var e;if(this.sender&&this.activeServiceWorker&&((null===(e=null===navigator||void 0===navigator?void 0:navigator.serviceWorker)||void 0===e?void 0:e.controller)||null)===this.activeServiceWorker)try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch(e){}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await Wi();return await Qi(t,qi,"1"),await $i(t,qi),!0}catch(t){}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,e){return this._withPendingWrite((async()=>(await this._withRetries((i=>Qi(i,t,e))),this.localCache[t]=e,this.notifyServiceWorker(t))))}async _get(t){const e=await this._withRetries((e=>async function(t,e){const i=Gi(t,!1).get(e),n=await new Ki(i).toPromise();return void 0===n?null:n.value}(e,t)));return this.localCache[t]=e,e}async _remove(t){return this._withPendingWrite((async()=>(await this._withRetries((e=>$i(e,t))),delete this.localCache[t],this.notifyServiceWorker(t))))}async _poll(){const t=await this._withRetries((t=>{const e=Gi(t,!1).getAll();return new Ki(e).toPromise()}));if(!t)return[];if(0!==this.pendingWrites)return[];const e=[],i=new Set;for(const{fbase_key:n,value:r}of t)i.add(n),JSON.stringify(this.localCache[n])!==JSON.stringify(r)&&(this.notifyListeners(n,r),e.push(n));for(const t of Object.keys(this.localCache))this.localCache[t]&&!i.has(t)&&(this.notifyListeners(t,null),e.push(t));return e}notifyListeners(t,e){this.localCache[t]=e;const i=this.listeners[t];if(i)for(const t of Array.from(i))t(e)}startPolling(){this.stopPolling(),this.pollTimer=setInterval((async()=>this._poll()),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,e){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(e)}_removeListener(t,e){this.listeners[t]&&(this.listeners[t].delete(e),0===this.listeners[t].size&&delete this.listeners[t]),0===Object.keys(this.listeners).length&&this.stopPolling()}}Zi.type="LOCAL";const Yi=Zi;
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xi(t){return new Promise(((e,i)=>{const n=document.createElement("script");
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var r,s;n.setAttribute("src",t),n.onload=e,n.onerror=t=>{const e=Zt("internal-error");e.customData=t,i(e)},n.type="text/javascript",n.charset="UTF-8",(null!==(s=null===(r=document.getElementsByTagName("head"))||void 0===r?void 0:r[0])&&void 0!==s?s:document).appendChild(n)}))}function Ji(t){return`__${t}${Math.floor(1e6*Math.random())}`}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
Ji("rcb"),new he(3e4,6e4);
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
const tn="recaptcha";async function en(t,e,i){var n;const r=await i.verify();try{let s;if(Jt("string"==typeof r,t,"argument-error"),Jt(i.type===tn,t,"argument-error"),s="string"==typeof e?{phoneNumber:e}:e,"session"in s){const e=s.session;if("phoneNumber"in s){Jt("enroll"===e.type,t,"internal-error");const i=await
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function(t,e){return pe(t,"POST","/v2/accounts/mfaEnrollment:start",fe(t,e))}(t,{idToken:e.credential,phoneEnrollmentInfo:{phoneNumber:s.phoneNumber,recaptchaToken:r}});return i.phoneSessionInfo.sessionInfo}{Jt("signin"===e.type,t,"internal-error");const i=(null===(n=s.multiFactorHint)||void 0===n?void 0:n.uid)||s.multiFactorUid;Jt(i,t,"missing-multi-factor-info");const o=await function(t,e){return pe(t,"POST","/v2/accounts/mfaSignIn:start",fe(t,e))}(t,{mfaPendingCredential:e.credential,mfaEnrollmentId:i,phoneSignInInfo:{recaptchaToken:r}});return o.phoneResponseInfo.sessionInfo}}{const{sessionInfo:e}=await async function(t,e){return pe(t,"POST","/v1/accounts:sendVerificationCode",fe(t,e))}(t,{phoneNumber:s.phoneNumber,recaptchaToken:r});return e}}finally{i._reset()}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class nn{constructor(t){this.providerId=nn.PROVIDER_ID,this.auth=Qe(t)}verifyPhoneNumber(t,e){return en(this.auth,t,D(e))}static credential(t,e){return oi._fromVerification(t,e)}static credentialFromResult(t){const e=t;return nn.credentialFromTaggedObject(e)}static credentialFromError(t){return nn.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{phoneNumber:e,temporaryProof:i}=t;return e&&i?oi._fromTokenResponse(e,i):null}}
/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function rn(t,e){return e?ne(e):(Jt(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */nn.PROVIDER_ID="phone",nn.PHONE_SIGN_IN_METHOD="phone";class sn extends Je{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return ni(t,this._buildIdpRequest())}_linkToIdToken(t,e){return ni(t,this._buildIdpRequest(e))}_getReauthenticationResolver(t){return ni(t,this._buildIdpRequest())}_buildIdpRequest(t){const e={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(e.idToken=t),e}}function on(t){return Mi(t.auth,new sn(t),t.bypassAuthState)}function an(t){const{auth:e,user:i}=t;return Jt(i,e,"internal-error"),_i(i,new sn(t),t.bypassAuthState)}async function hn(t){const{auth:e,user:i}=t;return Jt(i,e,"internal-error"),wi(i,new sn(t),t.bypassAuthState)}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class un{constructor(t,e,i,n,r=!1){this.auth=t,this.resolver=i,this.user=n,this.bypassAuthState=r,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(e)?e:[e]}execute(){return new Promise((async(t,e)=>{this.pendingPromise={resolve:t,reject:e};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(t){this.reject(t)}}))}async onAuthEvent(t){const{urlResponse:e,sessionId:i,postBody:n,tenantId:r,error:s,type:o}=t;if(s)return void this.reject(s);const a={auth:this.auth,requestUri:e,sessionId:i,tenantId:r||void 0,postBody:n||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(o)(a))}catch(t){this.reject(t)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return on;case"linkViaPopup":case"linkViaRedirect":return hn;case"reauthViaPopup":case"reauthViaRedirect":return an;default:$t(this.auth,"internal-error")}}resolve(t){ee(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){ee(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ln=new he(2e3,1e4);class cn extends un{constructor(t,e,i,n,r){super(t,e,n,r),this.provider=i,this.authWindow=null,this.pollId=null,cn.currentPopupAction&&cn.currentPopupAction.cancel(),cn.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return Jt(t,this.auth,"internal-error"),t}async onExecution(){ee(1===this.filter.length,"Popup operations only handle one event");const t=Bi();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch((t=>{this.reject(t)})),this.resolver._isIframeWebStorageSupported(this.auth,(t=>{t||this.reject(Zt(this.auth,"web-storage-unsupported"))})),this.pollUserCancellation()}get eventId(){var t;return(null===(t=this.authWindow)||void 0===t?void 0:t.associatedEvent)||null}cancel(){this.reject(Zt(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,cn.currentPopupAction=null}pollUserCancellation(){const t=()=>{var e,i;(null===(i=null===(e=this.authWindow)||void 0===e?void 0:e.window)||void 0===i?void 0:i.closed)?this.pollId=window.setTimeout((()=>{this.pollId=null,this.reject(Zt(this.auth,"popup-closed-by-user"))}),2e3):this.pollId=window.setTimeout(t,ln.get())};t()}}cn.currentPopupAction=null;
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
const dn="pendingRedirect",fn=new Map;class pn extends un{constructor(t,e,i=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],e,void 0,i),this.eventId=null}async execute(){let t=fn.get(this.auth._key());if(!t){try{const e=await async function(t,e){const i=vn(e),n=gn(t);if(!await n._isAvailable())return!1;const r="true"===await n._get(i);return await n._remove(i),r}(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(e)}catch(e){t=()=>Promise.reject(e)}fn.set(this.auth._key(),t)}return this.bypassAuthState||fn.set(this.auth._key(),(()=>Promise.resolve(null))),t()}async onAuthEvent(t){if("signInViaRedirect"===t.type)return super.onAuthEvent(t);if("unknown"!==t.type){if(t.eventId){const e=await this.auth._redirectUserForId(t.eventId);if(e)return this.user=e,super.onAuthEvent(t);this.resolve(null)}}else this.resolve(null)}async onExecution(){}cleanUp(){}}function mn(t,e){fn.set(t._key(),e)}function gn(t){return ne(t._redirectPersistence)}function vn(t){return Ce(dn,t.config.apiKey,t.name)}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function yn(t,e,i=!1){const n=Qe(t),r=rn(n,e),s=new pn(n,r,i),o=await s.execute();return o&&!i&&(delete o.user._redirectEventId,await n._persistUserIfCurrent(o.user),await n._setRedirectUser(null,e)),o}class bn{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let e=!1;return this.consumers.forEach((i=>{this.isEventForConsumer(t,i)&&(e=!0,this.sendToConsumer(t,i),this.saveEventToCache(t))})),this.hasHandledPotentialRedirect||!function(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return _n(t);default:return!1}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(t)||(this.hasHandledPotentialRedirect=!0,e||(this.queuedRedirectEvent=t,e=!0)),e}sendToConsumer(t,e){var i;if(t.error&&!_n(t)){const n=(null===(i=t.error.code)||void 0===i?void 0:i.split("auth/")[1])||"internal-error";e.onError(Zt(this.auth,n))}else e.onAuthEvent(t)}isEventForConsumer(t,e){const i=null===e.eventId||!!t.eventId&&t.eventId===e.eventId;return e.filter.includes(t.type)&&i}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(wn(t))}saveEventToCache(t){this.cachedEventUids.add(wn(t)),this.lastProcessedEventTime=Date.now()}}function wn(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter((t=>t)).join("-")}function _n({type:t,error:e}){return"unknown"===t&&"auth/no-auth-event"===(null==e?void 0:e.code)}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
const Mn=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,An=/^https?/;async function kn(t){if(t.config.emulator)return;const{authorizedDomains:e}=await async function(t,e={}){return pe(t,"GET","/v1/projects",e)}(t);for(const t of e)try{if(En(t))return}catch(t){}$t(t,"unauthorized-domain")}function En(t){const e=re(),{protocol:i,hostname:n}=new URL(e);if(t.startsWith("chrome-extension://")){const r=new URL(t);return""===r.hostname&&""===n?"chrome-extension:"===i&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):"chrome-extension:"===i&&r.hostname===n}if(!An.test(i))return!1;if(Mn.test(t))return n===t;const r=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+r+"|"+r+")$","i").test(n)}
/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xn=new he(3e4,6e4);function Sn(){const t=Ui().___jsl;if(null==t?void 0:t.H)for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let e=0;e<t.CP.length;e++)t.CP[e]=null}let Tn=null;function In(t){return Tn=Tn||function(t){return new Promise(((e,i)=>{var n,r,s;function o(){Sn(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{Sn(),i(Zt(t,"network-request-failed"))},timeout:xn.get()})}if(null===(r=null===(n=Ui().gapi)||void 0===n?void 0:n.iframes)||void 0===r?void 0:r.Iframe)e(gapi.iframes.getContext());else{if(!(null===(s=Ui().gapi)||void 0===s?void 0:s.load)){const e=Ji("iframefcb");return Ui()[e]=()=>{gapi.load?o():i(Zt(t,"network-request-failed"))},Xi(`https://apis.google.com/js/api.js?onload=${e}`).catch((t=>i(t)))}o()}})).catch((t=>{throw Tn=null,t}))}(t),Tn}
/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qn=new he(5e3,15e3),Rn="__/auth/iframe",Cn="emulator/auth/iframe",Nn={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Ln=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Dn(t){const e=t.config;Jt(e.authDomain,t,"auth-domain-config-required");const i=e.emulator?ue(e,Cn):`https://${t.config.authDomain}/${Rn}`,n={apiKey:e.apiKey,appName:t.name,v:xt},r=Ln.get(t.config.apiHost);r&&(n.eid=r);const s=t._getFrameworks();return s.length&&(n.fw=s.join(",")),`${i}?${I(n).slice(1)}`}
/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
const On={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},Bn=500,Pn=600,Un="_blank",Fn="http://localhost";class jn{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch(t){}}}function zn(t,e,i,n=Bn,r=Pn){const s=Math.max((window.screen.availHeight-r)/2,0).toString(),o=Math.max((window.screen.availWidth-n)/2,0).toString();let a="";const h=Object.assign(Object.assign({},On),{width:n.toString(),height:r.toString(),top:s,left:o}),u=y().toLowerCase();i&&(a=Be(u)?Un:i),De(u)&&(e=e||Fn,h.scrollbars="yes");const l=Object.entries(h).reduce(((t,[e,i])=>`${t}${e}=${i},`),"");if(function(t=y()){var e;return ze(t)&&!!(null===(e=window.navigator)||void 0===e?void 0:e.standalone)}(u)&&"_self"!==a)return function(t,e){const i=document.createElement("a");i.href=t,i.target=e;const n=document.createEvent("MouseEvent");n.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),i.dispatchEvent(n)}
/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(e||"",a),new jn(null);const c=window.open(e||"",a,l);Jt(c,t,"popup-blocked");try{c.focus()}catch(t){}return new jn(c)}const Vn="__/auth/handler",Hn="emulator/auth/handler";function Kn(t,e,i,n,r,s){Jt(t.config.authDomain,t,"auth-domain-config-required"),Jt(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:i,redirectUrl:n,v:xt,eventId:r};if(e instanceof ui){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",x(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[t,e]of Object.entries(s||{}))o[t]=e}if(e instanceof li){const t=e.getScopes().filter((t=>""!==t));t.length>0&&(o.scopes=t.join(","))}t.tenantId&&(o.tid=t.tenantId);const a=o;for(const t of Object.keys(a))void 0===a[t]&&delete a[t];return`${function({config:t}){return t.emulator?ue(t,Hn):`https://${t.authDomain}/${Vn}`}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(t)}?${I(a).slice(1)}`}const Gn="webStorageSupport";const Wn=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Di,this._completeRedirectFn=yn,this._overrideRedirectResult=mn}async _openPopup(t,e,i,n){var r;ee(null===(r=this.eventManagers[t._key()])||void 0===r?void 0:r.manager,"_initialize() not called before _openPopup()");return zn(t,Kn(t,e,i,re(),n),Bi())}async _openRedirect(t,e,i,n){var r;return await this._originValidation(t),r=Kn(t,e,i,re(),n),Ui().location.href=r,new Promise((()=>{}))}_initialize(t){const e=t._key();if(this.eventManagers[e]){const{manager:t,promise:i}=this.eventManagers[e];return t?Promise.resolve(t):(ee(i,"If manager is not set, promise should be"),i)}const i=this.initAndGetManager(t);return this.eventManagers[e]={promise:i},i.catch((()=>{delete this.eventManagers[e]})),i}async initAndGetManager(t){const e=await async function(t){const e=await In(t),i=Ui().gapi;return Jt(i,t,"internal-error"),e.open({where:document.body,url:Dn(t),messageHandlersFilter:i.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Nn,dontclear:!0},(e=>new Promise((async(i,n)=>{await e.restyle({setHideOnLeave:!1});const r=Zt(t,"network-request-failed"),s=Ui().setTimeout((()=>{n(r)}),qn.get());function o(){Ui().clearTimeout(s),i(e)}e.ping(o).then(o,(()=>{n(r)}))}))))}(t),i=new bn(t);return e.register("authEvent",(e=>{Jt(null==e?void 0:e.authEvent,t,"invalid-auth-event");return{status:i.onEvent(e.authEvent)?"ACK":"ERROR"}}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:i},this.iframes[t._key()]=e,i}_isIframeWebStorageSupported(t,e){this.iframes[t._key()].send(Gn,{type:Gn},(i=>{var n;const r=null===(n=null==i?void 0:i[0])||void 0===n?void 0:n[Gn];void 0!==r&&e(!!r),$t(t,"internal-error")}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const e=t._key();return this.originValidationPromises[e]||(this.originValidationPromises[e]=kn(t)),this.originValidationPromises[e]}get _shouldInitProactively(){return He()||Oe()||ze()}};var Qn="@firebase/auth",$n="0.21.3";
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class Zn{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){var t;return this.assertAuthConfigured(),(null===(t=this.auth.currentUser)||void 0===t?void 0:t.uid)||null}async getToken(t){if(this.assertAuthConfigured(),await this.auth._initializationPromise,!this.auth.currentUser)return null;return{accessToken:await this.auth.currentUser.getIdToken(t)}}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const e=this.auth.onIdTokenChanged((e=>{t((null==e?void 0:e.stsTokenManager.accessToken)||null)}));this.internalListeners.set(t,e),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const e=this.internalListeners.get(t);e&&(this.internalListeners.delete(t),e(),this.updateProactiveRefresh())}assertAuthConfigured(){Jt(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
const Yn=m("authIdTokenMaxAge")||300;let Xn=null;const Jn=t=>async e=>{const i=e&&await e.getIdTokenResult(),n=i&&((new Date).getTime()-Date.parse(i.issuedAtTime))/1e3;if(n&&n>Yn)return;const r=null==i?void 0:i.token;Xn!==r&&(Xn=r,await fetch(t,{method:r?"POST":"DELETE",headers:r?{Authorization:`Bearer ${r}`}:{}}))};function tr(t=Tt()){const e=At(t,"auth");if(e.isInitialized())return e.getImmediate();const i=function(t,e){const i=At(t,"auth");if(i.isInitialized()){const t=i.getImmediate();if(S(i.getOptions(),null!=e?e:{}))return t;$t(t,"already-initialized")}return i.initialize({options:e})}(t,{popupRedirectResolver:Wn,persistence:[Yi,Ni,Di]}),n=m("authTokenSyncURL");if(n){const t=Jn(n);!function(t,e,i){D(t).beforeAuthStateChanged(e,i)}(i,t,(()=>t(i.currentUser))),function(t,e,i,n){D(t).onIdTokenChanged(e,i,n)}(i,(e=>t(e)))}const r=d("auth");return r&&Ze(i,`http://${r}`),i}var er;er="Browser",Mt(new O("auth",((t,{options:e})=>{const i=t.getProvider("app").getImmediate(),n=t.getProvider("heartbeat"),{apiKey:r,authDomain:s}=i.options;return((t,i)=>{Jt(r&&!r.includes(":"),"invalid-api-key",{appName:t.name}),Jt(!(null==s?void 0:s.includes(":")),"argument-error",{appName:t.name});const n={apiKey:r,authDomain:s,clientPlatform:er,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Ke(er)},o=new We(t,i,n);return function(t,e){const i=(null==e?void 0:e.persistence)||[],n=(Array.isArray(i)?i:[i]).map(ne);(null==e?void 0:e.errorMap)&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(n,null==e?void 0:e.popupRedirectResolver)}(o,e),o})(i,n)}),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback(((t,e,i)=>{t.getProvider("auth-internal").initialize()}))),Mt(new O("auth-internal",(t=>(t=>new Zn(t))(Qe(t.getProvider("auth").getImmediate()))),"PRIVATE").setInstantiationMode("EXPLICIT")),It(Qn,$n,function(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(er)),It(Qn,$n,"esm2017");var ir,nr="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:void 0!==e?e:"undefined"!=typeof self?self:{},rr={},sr=sr||{},or=nr||self;function ar(){}function hr(t){var e=typeof t;return"array"==(e="object"!=e?e:t?Array.isArray(t)?"array":e:"null")||"object"==e&&"number"==typeof t.length}function ur(t){var e=typeof t;return"object"==e&&null!=t||"function"==e}var lr="closure_uid_"+(1e9*Math.random()>>>0),cr=0;function dr(t,e,i){return t.call.apply(t.bind,arguments)}function fr(t,e,i){if(!t)throw Error();if(2<arguments.length){var n=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,n),t.apply(e,i)}}return function(){return t.apply(e,arguments)}}function pr(t,e,i){return(pr=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?dr:fr).apply(null,arguments)}function mr(t,e){var i=Array.prototype.slice.call(arguments,1);return function(){var e=i.slice();return e.push.apply(e,arguments),t.apply(this,e)}}function gr(t,e){function i(){}i.prototype=e.prototype,t.X=e.prototype,t.prototype=new i,t.prototype.constructor=t,t.Wb=function(t,i,n){for(var r=Array(arguments.length-2),s=2;s<arguments.length;s++)r[s-2]=arguments[s];return e.prototype[i].apply(t,r)}}function vr(){this.s=this.s,this.o=this.o}vr.prototype.s=!1,vr.prototype.na=function(){var t;!this.s&&(this.s=!0,this.M(),0)&&(t=this,Object.prototype.hasOwnProperty.call(t,lr)&&t[lr]||(t[lr]=++cr))},vr.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const yr=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if("string"==typeof t)return"string"!=typeof e||1!=e.length?-1:t.indexOf(e,0);for(let i=0;i<t.length;i++)if(i in t&&t[i]===e)return i;return-1};function br(t){const e=t.length;if(0<e){const i=Array(e);for(let n=0;n<e;n++)i[n]=t[n];return i}return[]}function wr(t,e){for(let e=1;e<arguments.length;e++){const i=arguments[e];if(hr(i)){const e=t.length||0,n=i.length||0;t.length=e+n;for(let r=0;r<n;r++)t[e+r]=i[r]}else t.push(i)}}function _r(t,e){this.type=t,this.g=this.target=e,this.defaultPrevented=!1}_r.prototype.h=function(){this.defaultPrevented=!0};var Mr=function(){if(!or.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{or.addEventListener("test",ar,e),or.removeEventListener("test",ar,e)}catch(t){}return t}();function Ar(t){return/^[\s\xa0]*$/.test(t)}var kr=String.prototype.trim?function(t){return t.trim()}:function(t){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(t)[1]};function Er(t,e){return t<e?-1:t>e?1:0}function xr(){var t=or.navigator;return t&&(t=t.userAgent)?t:""}function Sr(t){return-1!=xr().indexOf(t)}function Tr(t){return Tr[" "](t),t}Tr[" "]=ar;var Ir,qr,Rr=Sr("Opera"),Cr=Sr("Trident")||Sr("MSIE"),Nr=Sr("Edge"),Lr=Nr||Cr,Dr=Sr("Gecko")&&!(-1!=xr().toLowerCase().indexOf("webkit")&&!Sr("Edge"))&&!(Sr("Trident")||Sr("MSIE"))&&!Sr("Edge"),Or=-1!=xr().toLowerCase().indexOf("webkit")&&!Sr("Edge");function Br(){var t=or.document;return t?t.documentMode:void 0}t:{var Pr="",Ur=(qr=xr(),Dr?/rv:([^\);]+)(\)|;)/.exec(qr):Nr?/Edge\/([\d\.]+)/.exec(qr):Cr?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(qr):Or?/WebKit\/(\S+)/.exec(qr):Rr?/(?:Version)[ \/]?(\S+)/.exec(qr):void 0);if(Ur&&(Pr=Ur?Ur[1]:""),Cr){var Fr=Br();if(null!=Fr&&Fr>parseFloat(Pr)){Ir=String(Fr);break t}}Ir=Pr}var jr,zr={};function Vr(){return function(t){var e=zr;return Object.prototype.hasOwnProperty.call(e,9)?e[9]:e[9]=t(9)}((function(){let t=0;const e=kr(String(Ir)).split("."),i=kr("9").split("."),n=Math.max(e.length,i.length);for(let o=0;0==t&&o<n;o++){var r=e[o]||"",s=i[o]||"";do{if(r=/(\d*)(\D*)(.*)/.exec(r)||["","","",""],s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],0==r[0].length&&0==s[0].length)break;t=Er(0==r[1].length?0:parseInt(r[1],10),0==s[1].length?0:parseInt(s[1],10))||Er(0==r[2].length,0==s[2].length)||Er(r[2],s[2]),r=r[3],s=s[3]}while(0==t)}return 0<=t}))}if(or.document&&Cr){var Hr=Br();jr=Hr||(parseInt(Ir,10)||void 0)}else jr=void 0;var Kr=jr;function Gr(t,e){if(_r.call(this,t?t.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,t){var i=this.type=t.type,n=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.g=e,e=t.relatedTarget){if(Dr){t:{try{Tr(e.nodeName);var r=!0;break t}catch(t){}r=!1}r||(e=null)}}else"mouseover"==i?e=t.fromElement:"mouseout"==i&&(e=t.toElement);this.relatedTarget=e,n?(this.clientX=void 0!==n.clientX?n.clientX:n.pageX,this.clientY=void 0!==n.clientY?n.clientY:n.pageY,this.screenX=n.screenX||0,this.screenY=n.screenY||0):(this.clientX=void 0!==t.clientX?t.clientX:t.pageX,this.clientY=void 0!==t.clientY?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType="string"==typeof t.pointerType?t.pointerType:Wr[t.pointerType]||"",this.state=t.state,this.i=t,t.defaultPrevented&&Gr.X.h.call(this)}}gr(Gr,_r);var Wr={2:"touch",3:"pen",4:"mouse"};Gr.prototype.h=function(){Gr.X.h.call(this);var t=this.i;t.preventDefault?t.preventDefault():t.returnValue=!1};var Qr="closure_listenable_"+(1e6*Math.random()|0),$r=0;function Zr(t,e,i,n,r){this.listener=t,this.proxy=null,this.src=e,this.type=i,this.capture=!!n,this.ha=r,this.key=++$r,this.ba=this.ea=!1}function Yr(t){t.ba=!0,t.listener=null,t.proxy=null,t.src=null,t.ha=null}function Xr(t,e,i){for(const n in t)e.call(i,t[n],n,t)}function Jr(t){const e={};for(const i in t)e[i]=t[i];return e}const ts="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function es(t,e){let i,n;for(let e=1;e<arguments.length;e++){for(i in n=arguments[e],n)t[i]=n[i];for(let e=0;e<ts.length;e++)i=ts[e],Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}}function is(t){this.src=t,this.g={},this.h=0}function ns(t,e){var i=e.type;if(i in t.g){var n,r=t.g[i],s=yr(r,e);(n=0<=s)&&Array.prototype.splice.call(r,s,1),n&&(Yr(e),0==t.g[i].length&&(delete t.g[i],t.h--))}}function rs(t,e,i,n){for(var r=0;r<t.length;++r){var s=t[r];if(!s.ba&&s.listener==e&&s.capture==!!i&&s.ha==n)return r}return-1}is.prototype.add=function(t,e,i,n,r){var s=t.toString();(t=this.g[s])||(t=this.g[s]=[],this.h++);var o=rs(t,e,n,r);return-1<o?(e=t[o],i||(e.ea=!1)):((e=new Zr(e,this.src,s,!!n,r)).ea=i,t.push(e)),e};var ss="closure_lm_"+(1e6*Math.random()|0),os={};function as(t,e,i,n,r){if(n&&n.once)return us(t,e,i,n,r);if(Array.isArray(e)){for(var s=0;s<e.length;s++)as(t,e[s],i,n,r);return null}return i=gs(i),t&&t[Qr]?t.N(e,i,ur(n)?!!n.capture:!!n,r):hs(t,e,i,!1,n,r)}function hs(t,e,i,n,r,s){if(!e)throw Error("Invalid event type");var o=ur(r)?!!r.capture:!!r,a=ps(t);if(a||(t[ss]=a=new is(t)),(i=a.add(e,i,n,o,s)).proxy)return i;if(n=function(){function t(i){return e.call(t.src,t.listener,i)}const e=fs;return t}(),i.proxy=n,n.src=t,n.listener=i,t.addEventListener)Mr||(r=o),void 0===r&&(r=!1),t.addEventListener(e.toString(),n,r);else if(t.attachEvent)t.attachEvent(ds(e.toString()),n);else{if(!t.addListener||!t.removeListener)throw Error("addEventListener and attachEvent are unavailable.");t.addListener(n)}return i}function us(t,e,i,n,r){if(Array.isArray(e)){for(var s=0;s<e.length;s++)us(t,e[s],i,n,r);return null}return i=gs(i),t&&t[Qr]?t.O(e,i,ur(n)?!!n.capture:!!n,r):hs(t,e,i,!0,n,r)}function ls(t,e,i,n,r){if(Array.isArray(e))for(var s=0;s<e.length;s++)ls(t,e[s],i,n,r);else n=ur(n)?!!n.capture:!!n,i=gs(i),t&&t[Qr]?(t=t.i,(e=String(e).toString())in t.g&&(-1<(i=rs(s=t.g[e],i,n,r))&&(Yr(s[i]),Array.prototype.splice.call(s,i,1),0==s.length&&(delete t.g[e],t.h--)))):t&&(t=ps(t))&&(e=t.g[e.toString()],t=-1,e&&(t=rs(e,i,n,r)),(i=-1<t?e[t]:null)&&cs(i))}function cs(t){if("number"!=typeof t&&t&&!t.ba){var e=t.src;if(e&&e[Qr])ns(e.i,t);else{var i=t.type,n=t.proxy;e.removeEventListener?e.removeEventListener(i,n,t.capture):e.detachEvent?e.detachEvent(ds(i),n):e.addListener&&e.removeListener&&e.removeListener(n),(i=ps(e))?(ns(i,t),0==i.h&&(i.src=null,e[ss]=null)):Yr(t)}}}function ds(t){return t in os?os[t]:os[t]="on"+t}function fs(t,e){if(t.ba)t=!0;else{e=new Gr(e,this);var i=t.listener,n=t.ha||t.src;t.ea&&cs(t),t=i.call(n,e)}return t}function ps(t){return(t=t[ss])instanceof is?t:null}var ms="__closure_events_fn_"+(1e9*Math.random()>>>0);function gs(t){return"function"==typeof t?t:(t[ms]||(t[ms]=function(e){return t.handleEvent(e)}),t[ms])}function vs(){vr.call(this),this.i=new is(this),this.P=this,this.I=null}function ys(t,e){var i,n=t.I;if(n)for(i=[];n;n=n.I)i.push(n);if(t=t.P,n=e.type||e,"string"==typeof e)e=new _r(e,t);else if(e instanceof _r)e.target=e.target||t;else{var r=e;es(e=new _r(n,t),r)}if(r=!0,i)for(var s=i.length-1;0<=s;s--){var o=e.g=i[s];r=bs(o,n,!0,e)&&r}if(r=bs(o=e.g=t,n,!0,e)&&r,r=bs(o,n,!1,e)&&r,i)for(s=0;s<i.length;s++)r=bs(o=e.g=i[s],n,!1,e)&&r}function bs(t,e,i,n){if(!(e=t.i.g[String(e)]))return!0;e=e.concat();for(var r=!0,s=0;s<e.length;++s){var o=e[s];if(o&&!o.ba&&o.capture==i){var a=o.listener,h=o.ha||o.src;o.ea&&ns(t.i,o),r=!1!==a.call(h,n)&&r}}return r&&!n.defaultPrevented}gr(vs,vr),vs.prototype[Qr]=!0,vs.prototype.removeEventListener=function(t,e,i,n){ls(this,t,e,i,n)},vs.prototype.M=function(){if(vs.X.M.call(this),this.i){var t,e=this.i;for(t in e.g){for(var i=e.g[t],n=0;n<i.length;n++)Yr(i[n]);delete e.g[t],e.h--}}this.I=null},vs.prototype.N=function(t,e,i,n){return this.i.add(String(t),e,!1,i,n)},vs.prototype.O=function(t,e,i,n){return this.i.add(String(t),e,!0,i,n)};var ws=or.JSON.stringify;function _s(){var t=Ts;let e=null;return t.g&&(e=t.g,t.g=t.g.next,t.g||(t.h=null),e.next=null),e}var Ms,As=new class{constructor(t,e){this.i=t,this.j=e,this.h=0,this.g=null}get(){let t;return 0<this.h?(this.h--,t=this.g,this.g=t.next,t.next=null):t=this.i(),t}}((()=>new ks),(t=>t.reset()));class ks{constructor(){this.next=this.g=this.h=null}set(t,e){this.h=t,this.g=e,this.next=null}reset(){this.next=this.g=this.h=null}}function Es(t){or.setTimeout((()=>{throw t}),0)}function xs(t,e){Ms||function(){var t=or.Promise.resolve(void 0);Ms=function(){t.then(Is)}}(),Ss||(Ms(),Ss=!0),Ts.add(t,e)}var Ss=!1,Ts=new class{constructor(){this.h=this.g=null}add(t,e){const i=As.get();i.set(t,e),this.h?this.h.next=i:this.g=i,this.h=i}};function Is(){for(var t;t=_s();){try{t.h.call(t.g)}catch(t){Es(t)}var e=As;e.j(t),100>e.h&&(e.h++,t.next=e.g,e.g=t)}Ss=!1}function qs(t,e){vs.call(this),this.h=t||1,this.g=e||or,this.j=pr(this.lb,this),this.l=Date.now()}function Rs(t){t.ca=!1,t.R&&(t.g.clearTimeout(t.R),t.R=null)}function Cs(t,e,i){if("function"==typeof t)i&&(t=pr(t,i));else{if(!t||"function"!=typeof t.handleEvent)throw Error("Invalid listener argument");t=pr(t.handleEvent,t)}return 2147483647<Number(e)?-1:or.setTimeout(t,e||0)}function Ns(t){t.g=Cs((()=>{t.g=null,t.i&&(t.i=!1,Ns(t))}),t.j);const e=t.h;t.h=null,t.m.apply(null,e)}gr(qs,vs),(ir=qs.prototype).ca=!1,ir.R=null,ir.lb=function(){if(this.ca){var t=Date.now()-this.l;0<t&&t<.8*this.h?this.R=this.g.setTimeout(this.j,this.h-t):(this.R&&(this.g.clearTimeout(this.R),this.R=null),ys(this,"tick"),this.ca&&(Rs(this),this.start()))}},ir.start=function(){this.ca=!0,this.R||(this.R=this.g.setTimeout(this.j,this.h),this.l=Date.now())},ir.M=function(){qs.X.M.call(this),Rs(this),delete this.g};class Ls extends vr{constructor(t,e){super(),this.m=t,this.j=e,this.h=null,this.i=!1,this.g=null}l(t){this.h=arguments,this.g?this.i=!0:Ns(this)}M(){super.M(),this.g&&(or.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Ds(t){vr.call(this),this.h=t,this.g={}}gr(Ds,vr);var Os=[];function Bs(t,e,i,n){Array.isArray(i)||(i&&(Os[0]=i.toString()),i=Os);for(var r=0;r<i.length;r++){var s=as(e,i[r],n||t.handleEvent,!1,t.h||t);if(!s)break;t.g[s.key]=s}}function Ps(t){Xr(t.g,(function(t,e){this.g.hasOwnProperty(e)&&cs(t)}),t),t.g={}}function Us(){this.g=!0}function Fs(t,e,i,n){t.info((function(){return"XMLHTTP TEXT ("+e+"): "+function(t,e){if(!t.g)return e;if(!e)return null;try{var i=JSON.parse(e);if(i)for(t=0;t<i.length;t++)if(Array.isArray(i[t])){var n=i[t];if(!(2>n.length)){var r=n[1];if(Array.isArray(r)&&!(1>r.length)){var s=r[0];if("noop"!=s&&"stop"!=s&&"close"!=s)for(var o=1;o<r.length;o++)r[o]=""}}}return ws(i)}catch(t){return e}}(t,i)+(n?" "+n:"")}))}Ds.prototype.M=function(){Ds.X.M.call(this),Ps(this)},Ds.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},Us.prototype.Aa=function(){this.g=!1},Us.prototype.info=function(){};var js={},zs=null;function Vs(){return zs=zs||new vs}function Hs(t){_r.call(this,js.Pa,t)}function Ks(t){const e=Vs();ys(e,new Hs(e))}function Gs(t,e){_r.call(this,js.STAT_EVENT,t),this.stat=e}function Ws(t){const e=Vs();ys(e,new Gs(e,t))}function Qs(t,e){_r.call(this,js.Qa,t),this.size=e}function $s(t,e){if("function"!=typeof t)throw Error("Fn must not be null and must be a function");return or.setTimeout((function(){t()}),e)}js.Pa="serverreachability",gr(Hs,_r),js.STAT_EVENT="statevent",gr(Gs,_r),js.Qa="timingevent",gr(Qs,_r);var Zs={NO_ERROR:0,mb:1,zb:2,yb:3,tb:4,xb:5,Ab:6,Ma:7,TIMEOUT:8,Db:9},Ys={rb:"complete",Nb:"success",Na:"error",Ma:"abort",Fb:"ready",Gb:"readystatechange",TIMEOUT:"timeout",Bb:"incrementaldata",Eb:"progress",ub:"downloadprogress",Vb:"uploadprogress"};function Xs(){}function Js(t){return t.h||(t.h=t.i())}function to(){}Xs.prototype.h=null;var eo,io={OPEN:"a",qb:"b",Na:"c",Cb:"d"};function no(){_r.call(this,"d")}function ro(){_r.call(this,"c")}function so(){}function oo(t,e,i,n){this.l=t,this.j=e,this.m=i,this.U=n||1,this.S=new Ds(this),this.O=ho,t=Lr?125:void 0,this.T=new qs(t),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.V=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.Y=-1,this.I=!1,this.N=0,this.L=null,this.$=this.J=this.Z=this.P=!1,this.h=new ao}function ao(){this.i=null,this.g="",this.h=!1}gr(no,_r),gr(ro,_r),gr(so,Xs),so.prototype.g=function(){return new XMLHttpRequest},so.prototype.i=function(){return{}},eo=new so;var ho=45e3,uo={},lo={};function co(t,e,i){t.K=1,t.v=Ro(xo(e)),t.s=i,t.P=!0,fo(t,null)}function fo(t,e){t.F=Date.now(),vo(t),t.A=xo(t.v);var i=t.A,n=t.U;Array.isArray(n)||(n=[String(n)]),Ho(i.i,"t",n),t.C=0,i=t.l.H,t.h=new ao,t.g=Va(t.l,i?e:null,!t.s),0<t.N&&(t.L=new Ls(pr(t.La,t,t.g),t.N)),Bs(t.S,t.g,"readystatechange",t.ib),e=t.H?Jr(t.H):{},t.s?(t.u||(t.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.g.da(t.A,t.u,t.s,e)):(t.u="GET",t.g.da(t.A,t.u,null,e)),Ks(),function(t,e,i,n,r,s){t.info((function(){if(t.g)if(s)for(var o="",a=s.split("&"),h=0;h<a.length;h++){var u=a[h].split("=");if(1<u.length){var l=u[0];u=u[1];var c=l.split("_");o=2<=c.length&&"type"==c[1]?o+(l+"=")+u+"&":o+(l+"=redacted&")}}else o=null;else o=s;return"XMLHTTP REQ ("+n+") [attempt "+r+"]: "+e+"\n"+i+"\n"+o}))}(t.j,t.u,t.A,t.m,t.U,t.s)}function po(t){return!!t.g&&("GET"==t.u&&2!=t.K&&t.l.Da)}function mo(t,e,i){let n,r=!0;for(;!t.I&&t.C<i.length;){if(n=go(t,i),n==lo){4==e&&(t.o=4,Ws(14),r=!1),Fs(t.j,t.m,null,"[Incomplete Response]");break}if(n==uo){t.o=4,Ws(15),Fs(t.j,t.m,i,"[Invalid Chunk]"),r=!1;break}Fs(t.j,t.m,n,null),Mo(t,n)}po(t)&&n!=lo&&n!=uo&&(t.h.g="",t.C=0),4!=e||0!=i.length||t.h.h||(t.o=1,Ws(16),r=!1),t.i=t.i&&r,r?0<i.length&&!t.$&&(t.$=!0,(e=t.l).g==t&&e.$&&!e.K&&(e.j.info("Great, no buffering proxy detected. Bytes received: "+i.length),Da(e),e.K=!0,Ws(11))):(Fs(t.j,t.m,i,"[Invalid Chunked Response]"),_o(t),wo(t))}function go(t,e){var i=t.C,n=e.indexOf("\n",i);return-1==n?lo:(i=Number(e.substring(i,n)),isNaN(i)?uo:(n+=1)+i>e.length?lo:(e=e.substr(n,i),t.C=n+i,e))}function vo(t){t.V=Date.now()+t.O,yo(t,t.O)}function yo(t,e){if(null!=t.B)throw Error("WatchDog timer not null");t.B=$s(pr(t.gb,t),e)}function bo(t){t.B&&(or.clearTimeout(t.B),t.B=null)}function wo(t){0==t.l.G||t.I||Pa(t.l,t)}function _o(t){bo(t);var e=t.L;e&&"function"==typeof e.na&&e.na(),t.L=null,Rs(t.T),Ps(t.S),t.g&&(e=t.g,t.g=null,e.abort(),e.na())}function Mo(t,e){try{var i=t.l;if(0!=i.G&&(i.g==t||Zo(i.h,t)))if(!t.J&&Zo(i.h,t)&&3==i.G){try{var n=i.Fa.g.parse(e)}catch(t){n=null}if(Array.isArray(n)&&3==n.length){var r=n;if(0==r[0]){t:if(!i.u){if(i.g){if(!(i.g.F+3e3<t.F))break t;Ba(i),Sa(i)}La(i),Ws(18)}}else i.Ba=r[1],0<i.Ba-i.T&&37500>r[2]&&i.L&&0==i.A&&!i.v&&(i.v=$s(pr(i.cb,i),6e3));if(1>=$o(i.h)&&i.ja){try{i.ja()}catch(t){}i.ja=void 0}}else Fa(i,11)}else if((t.J||i.g==t)&&Ba(i),!Ar(e))for(r=i.Fa.g.parse(e),e=0;e<r.length;e++){let u=r[e];if(i.T=u[0],u=u[1],2==i.G)if("c"==u[0]){i.I=u[1],i.ka=u[2];const e=u[3];null!=e&&(i.ma=e,i.j.info("VER="+i.ma));const r=u[4];null!=r&&(i.Ca=r,i.j.info("SVER="+i.Ca));const l=u[5];null!=l&&"number"==typeof l&&0<l&&(n=1.5*l,i.J=n,i.j.info("backChannelRequestTimeoutMs_="+n)),n=i;const c=t.g;if(c){const t=c.g?c.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(t){var s=n.h;s.g||-1==t.indexOf("spdy")&&-1==t.indexOf("quic")&&-1==t.indexOf("h2")||(s.j=s.l,s.g=new Set,s.h&&(Yo(s,s.h),s.h=null))}if(n.D){const t=c.g?c.g.getResponseHeader("X-HTTP-Session-Id"):null;t&&(n.za=t,qo(n.F,n.D,t))}}i.G=3,i.l&&i.l.xa(),i.$&&(i.P=Date.now()-t.F,i.j.info("Handshake RTT: "+i.P+"ms"));var o=t;if((n=i).sa=za(n,n.H?n.ka:null,n.V),o.J){Xo(n.h,o);var a=o,h=n.J;h&&a.setTimeout(h),a.B&&(bo(a),vo(a)),n.g=o}else Na(n);0<i.i.length&&Ia(i)}else"stop"!=u[0]&&"close"!=u[0]||Fa(i,7);else 3==i.G&&("stop"==u[0]||"close"==u[0]?"stop"==u[0]?Fa(i,7):xa(i):"noop"!=u[0]&&i.l&&i.l.wa(u),i.A=0)}Ks()}catch(t){}}function Ao(t,e){if(t.forEach&&"function"==typeof t.forEach)t.forEach(e,void 0);else if(hr(t)||"string"==typeof t)Array.prototype.forEach.call(t,e,void 0);else for(var i=function(t){if(t.oa&&"function"==typeof t.oa)return t.oa();if(!t.W||"function"!=typeof t.W){if("undefined"!=typeof Map&&t instanceof Map)return Array.from(t.keys());if(!("undefined"!=typeof Set&&t instanceof Set)){if(hr(t)||"string"==typeof t){var e=[];t=t.length;for(var i=0;i<t;i++)e.push(i);return e}e=[],i=0;for(const n in t)e[i++]=n;return e}}}(t),n=function(t){if(t.W&&"function"==typeof t.W)return t.W();if("undefined"!=typeof Map&&t instanceof Map||"undefined"!=typeof Set&&t instanceof Set)return Array.from(t.values());if("string"==typeof t)return t.split("");if(hr(t)){for(var e=[],i=t.length,n=0;n<i;n++)e.push(t[n]);return e}for(n in e=[],i=0,t)e[i++]=t[n];return e}(t),r=n.length,s=0;s<r;s++)e.call(void 0,n[s],i&&i[s],t)}(ir=oo.prototype).setTimeout=function(t){this.O=t},ir.ib=function(t){t=t.target;const e=this.L;e&&3==wa(t)?e.l():this.La(t)},ir.La=function(t){try{if(t==this.g)t:{const l=wa(this.g);var e=this.g.Ea();this.g.aa();if(!(3>l)&&(3!=l||Lr||this.g&&(this.h.h||this.g.fa()||_a(this.g)))){this.I||4!=l||7==e||Ks(),bo(this);var i=this.g.aa();this.Y=i;e:if(po(this)){var n=_a(this.g);t="";var r=n.length,s=4==wa(this.g);if(!this.h.i){if("undefined"==typeof TextDecoder){_o(this),wo(this);var o="";break e}this.h.i=new or.TextDecoder}for(e=0;e<r;e++)this.h.h=!0,t+=this.h.i.decode(n[e],{stream:s&&e==r-1});n.splice(0,r),this.h.g+=t,this.C=0,o=this.h.g}else o=this.g.fa();if(this.i=200==i,function(t,e,i,n,r,s,o){t.info((function(){return"XMLHTTP RESP ("+n+") [ attempt "+r+"]: "+e+"\n"+i+"\n"+s+" "+o}))}(this.j,this.u,this.A,this.m,this.U,l,i),this.i){if(this.Z&&!this.J){e:{if(this.g){var a,h=this.g;if((a=h.g?h.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Ar(a)){var u=a;break e}}u=null}if(!(i=u)){this.i=!1,this.o=3,Ws(12),_o(this),wo(this);break t}Fs(this.j,this.m,i,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,Mo(this,i)}this.P?(mo(this,l,o),Lr&&this.i&&3==l&&(Bs(this.S,this.T,"tick",this.hb),this.T.start())):(Fs(this.j,this.m,o,null),Mo(this,o)),4==l&&_o(this),this.i&&!this.I&&(4==l?Pa(this.l,this):(this.i=!1,vo(this)))}else 400==i&&0<o.indexOf("Unknown SID")?(this.o=3,Ws(12)):(this.o=0,Ws(13)),_o(this),wo(this)}}}catch(t){}},ir.hb=function(){if(this.g){var t=wa(this.g),e=this.g.fa();this.C<e.length&&(bo(this),mo(this,t,e),this.i&&4!=t&&vo(this))}},ir.cancel=function(){this.I=!0,_o(this)},ir.gb=function(){this.B=null;const t=Date.now();0<=t-this.V?(function(t,e){t.info((function(){return"TIMEOUT: "+e}))}(this.j,this.A),2!=this.K&&(Ks(),Ws(17)),_o(this),this.o=2,wo(this)):yo(this,this.V-t)};var ko=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Eo(t,e){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,t instanceof Eo){this.h=void 0!==e?e:t.h,So(this,t.j),this.s=t.s,this.g=t.g,To(this,t.m),this.l=t.l,e=t.i;var i=new Fo;i.i=e.i,e.g&&(i.g=new Map(e.g),i.h=e.h),Io(this,i),this.o=t.o}else t&&(i=String(t).match(ko))?(this.h=!!e,So(this,i[1]||"",!0),this.s=Co(i[2]||""),this.g=Co(i[3]||"",!0),To(this,i[4]),this.l=Co(i[5]||"",!0),Io(this,i[6]||"",!0),this.o=Co(i[7]||"")):(this.h=!!e,this.i=new Fo(null,this.h))}function xo(t){return new Eo(t)}function So(t,e,i){t.j=i?Co(e,!0):e,t.j&&(t.j=t.j.replace(/:$/,""))}function To(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.m=e}else t.m=null}function Io(t,e,i){e instanceof Fo?(t.i=e,function(t,e){e&&!t.j&&(jo(t),t.i=null,t.g.forEach((function(t,e){var i=e.toLowerCase();e!=i&&(zo(this,e),Ho(this,i,t))}),t)),t.j=e}(t.i,t.h)):(i||(e=No(e,Po)),t.i=new Fo(e,t.h))}function qo(t,e,i){t.i.set(e,i)}function Ro(t){return qo(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),t}function Co(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function No(t,e,i){return"string"==typeof t?(t=encodeURI(t).replace(e,Lo),i&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function Lo(t){return"%"+((t=t.charCodeAt(0))>>4&15).toString(16)+(15&t).toString(16)}Eo.prototype.toString=function(){var t=[],e=this.j;e&&t.push(No(e,Do,!0),":");var i=this.g;return(i||"file"==e)&&(t.push("//"),(e=this.s)&&t.push(No(e,Do,!0),"@"),t.push(encodeURIComponent(String(i)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(i=this.m)&&t.push(":",String(i))),(i=this.l)&&(this.g&&"/"!=i.charAt(0)&&t.push("/"),t.push(No(i,"/"==i.charAt(0)?Bo:Oo,!0))),(i=this.i.toString())&&t.push("?",i),(i=this.o)&&t.push("#",No(i,Uo)),t.join("")};var Do=/[#\/\?@]/g,Oo=/[#\?:]/g,Bo=/[#\?]/g,Po=/[#\?@]/g,Uo=/#/g;function Fo(t,e){this.h=this.g=null,this.i=t||null,this.j=!!e}function jo(t){t.g||(t.g=new Map,t.h=0,t.i&&function(t,e){if(t){t=t.split("&");for(var i=0;i<t.length;i++){var n=t[i].indexOf("="),r=null;if(0<=n){var s=t[i].substring(0,n);r=t[i].substring(n+1)}else s=t[i];e(s,r?decodeURIComponent(r.replace(/\+/g," ")):"")}}}(t.i,(function(e,i){t.add(decodeURIComponent(e.replace(/\+/g," ")),i)})))}function zo(t,e){jo(t),e=Ko(t,e),t.g.has(e)&&(t.i=null,t.h-=t.g.get(e).length,t.g.delete(e))}function Vo(t,e){return jo(t),e=Ko(t,e),t.g.has(e)}function Ho(t,e,i){zo(t,e),0<i.length&&(t.i=null,t.g.set(Ko(t,e),br(i)),t.h+=i.length)}function Ko(t,e){return e=String(e),t.j&&(e=e.toLowerCase()),e}(ir=Fo.prototype).add=function(t,e){jo(this),this.i=null,t=Ko(this,t);var i=this.g.get(t);return i||this.g.set(t,i=[]),i.push(e),this.h+=1,this},ir.forEach=function(t,e){jo(this),this.g.forEach((function(i,n){i.forEach((function(i){t.call(e,i,n,this)}),this)}),this)},ir.oa=function(){jo(this);const t=Array.from(this.g.values()),e=Array.from(this.g.keys()),i=[];for(let n=0;n<e.length;n++){const r=t[n];for(let t=0;t<r.length;t++)i.push(e[n])}return i},ir.W=function(t){jo(this);let e=[];if("string"==typeof t)Vo(this,t)&&(e=e.concat(this.g.get(Ko(this,t))));else{t=Array.from(this.g.values());for(let i=0;i<t.length;i++)e=e.concat(t[i])}return e},ir.set=function(t,e){return jo(this),this.i=null,Vo(this,t=Ko(this,t))&&(this.h-=this.g.get(t).length),this.g.set(t,[e]),this.h+=1,this},ir.get=function(t,e){return t&&0<(t=this.W(t)).length?String(t[0]):e},ir.toString=function(){if(this.i)return this.i;if(!this.g)return"";const t=[],e=Array.from(this.g.keys());for(var i=0;i<e.length;i++){var n=e[i];const s=encodeURIComponent(String(n)),o=this.W(n);for(n=0;n<o.length;n++){var r=s;""!==o[n]&&(r+="="+encodeURIComponent(String(o[n]))),t.push(r)}}return this.i=t.join("&")};function Go(t){this.l=t||Wo,or.PerformanceNavigationTiming?t=0<(t=or.performance.getEntriesByType("navigation")).length&&("hq"==t[0].nextHopProtocol||"h2"==t[0].nextHopProtocol):t=!!(or.g&&or.g.Ga&&or.g.Ga()&&or.g.Ga().$b),this.j=t?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var Wo=10;function Qo(t){return!!t.h||!!t.g&&t.g.size>=t.j}function $o(t){return t.h?1:t.g?t.g.size:0}function Zo(t,e){return t.h?t.h==e:!!t.g&&t.g.has(e)}function Yo(t,e){t.g?t.g.add(e):t.h=e}function Xo(t,e){t.h&&t.h==e?t.h=null:t.g&&t.g.has(e)&&t.g.delete(e)}function Jo(t){if(null!=t.h)return t.i.concat(t.h.D);if(null!=t.g&&0!==t.g.size){let e=t.i;for(const i of t.g.values())e=e.concat(i.D);return e}return br(t.i)}function ta(){}function ea(){this.g=new ta}function ia(t,e,i){const n=i||"";try{Ao(t,(function(t,i){let r=t;ur(t)&&(r=ws(t)),e.push(n+i+"="+encodeURIComponent(r))}))}catch(t){throw e.push(n+"type="+encodeURIComponent("_badmap")),t}}function na(t,e,i,n,r){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,r(n)}catch(t){}}function ra(t){this.l=t.ac||null,this.j=t.jb||!1}function sa(t,e){vs.call(this),this.D=t,this.u=e,this.m=void 0,this.readyState=oa,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}Go.prototype.cancel=function(){if(this.i=Jo(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const t of this.g.values())t.cancel();this.g.clear()}},ta.prototype.stringify=function(t){return or.JSON.stringify(t,void 0)},ta.prototype.parse=function(t){return or.JSON.parse(t,void 0)},gr(ra,Xs),ra.prototype.g=function(){return new sa(this.l,this.j)},ra.prototype.i=function(t){return function(){return t}}({}),gr(sa,vs);var oa=0;function aa(t){t.j.read().then(t.Ta.bind(t)).catch(t.ga.bind(t))}function ha(t){t.readyState=4,t.l=null,t.j=null,t.A=null,ua(t)}function ua(t){t.onreadystatechange&&t.onreadystatechange.call(t)}(ir=sa.prototype).open=function(t,e){if(this.readyState!=oa)throw this.abort(),Error("Error reopening a connection");this.C=t,this.B=e,this.readyState=1,ua(this)},ir.send=function(t){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};t&&(e.body=t),(this.D||or).fetch(new Request(this.B,e)).then(this.Wa.bind(this),this.ga.bind(this))},ir.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch((()=>{})),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,ha(this)),this.readyState=oa},ir.Wa=function(t){if(this.g&&(this.l=t,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=t.headers,this.readyState=2,ua(this)),this.g&&(this.readyState=3,ua(this),this.g)))if("arraybuffer"===this.responseType)t.arrayBuffer().then(this.Ua.bind(this),this.ga.bind(this));else if(void 0!==or.ReadableStream&&"body"in t){if(this.j=t.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;aa(this)}else t.text().then(this.Va.bind(this),this.ga.bind(this))},ir.Ta=function(t){if(this.g){if(this.u&&t.value)this.response.push(t.value);else if(!this.u){var e=t.value?t.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!t.done}))&&(this.response=this.responseText+=e)}t.done?ha(this):ua(this),3==this.readyState&&aa(this)}},ir.Va=function(t){this.g&&(this.response=this.responseText=t,ha(this))},ir.Ua=function(t){this.g&&(this.response=t,ha(this))},ir.ga=function(){this.g&&ha(this)},ir.setRequestHeader=function(t,e){this.v.append(t,e)},ir.getResponseHeader=function(t){return this.h&&this.h.get(t.toLowerCase())||""},ir.getAllResponseHeaders=function(){if(!this.h)return"";const t=[],e=this.h.entries();for(var i=e.next();!i.done;)i=i.value,t.push(i[0]+": "+i[1]),i=e.next();return t.join("\r\n")},Object.defineProperty(sa.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(t){this.m=t?"include":"same-origin"}});var la=or.JSON.parse;function ca(t){vs.call(this),this.headers=new Map,this.u=t||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=da,this.K=this.L=!1}gr(ca,vs);var da="",fa=/^https?$/i,pa=["POST","PUT"];function ma(t,e){t.h=!1,t.g&&(t.l=!0,t.g.abort(),t.l=!1),t.j=e,t.m=5,ga(t),ya(t)}function ga(t){t.D||(t.D=!0,ys(t,"complete"),ys(t,"error"))}function va(t){if(t.h&&void 0!==sr&&(!t.C[1]||4!=wa(t)||2!=t.aa()))if(t.v&&4==wa(t))Cs(t.Ha,0,t);else if(ys(t,"readystatechange"),4==wa(t)){t.h=!1;try{const a=t.aa();t:switch(a){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break t;default:e=!1}var i;if(!(i=e)){var n;if(n=0===a){var r=String(t.H).match(ko)[1]||null;if(!r&&or.self&&or.self.location){var s=or.self.location.protocol;r=s.substr(0,s.length-1)}n=!fa.test(r?r.toLowerCase():"")}i=n}if(i)ys(t,"complete"),ys(t,"success");else{t.m=6;try{var o=2<wa(t)?t.g.statusText:""}catch(t){o=""}t.j=o+" ["+t.aa()+"]",ga(t)}}finally{ya(t)}}}function ya(t,e){if(t.g){ba(t);const i=t.g,n=t.C[0]?ar:null;t.g=null,t.C=null,e||ys(t,"ready");try{i.onreadystatechange=n}catch(t){}}}function ba(t){t.g&&t.K&&(t.g.ontimeout=null),t.A&&(or.clearTimeout(t.A),t.A=null)}function wa(t){return t.g?t.g.readyState:0}function _a(t){try{if(!t.g)return null;if("response"in t.g)return t.g.response;switch(t.J){case da:case"text":return t.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in t.g)return t.g.mozResponseArrayBuffer}return null}catch(t){return null}}function Ma(t){let e="";return Xr(t,(function(t,i){e+=i,e+=":",e+=t,e+="\r\n"})),e}function Aa(t,e,i){t:{for(n in i){var n=!1;break t}n=!0}n||(i=Ma(i),"string"==typeof t?null!=i&&encodeURIComponent(String(i)):qo(t,e,i))}function ka(t,e,i){return i&&i.internalChannelParams&&i.internalChannelParams[t]||e}function Ea(t){this.Ca=0,this.i=[],this.j=new Us,this.ka=this.sa=this.F=this.V=this.g=this.za=this.D=this.ia=this.o=this.S=this.s=null,this.ab=this.U=0,this.Za=ka("failFast",!1,t),this.L=this.v=this.u=this.m=this.l=null,this.Y=!0,this.pa=this.Ba=this.T=-1,this.Z=this.A=this.C=0,this.Xa=ka("baseRetryDelayMs",5e3,t),this.bb=ka("retryDelaySeedMs",1e4,t),this.$a=ka("forwardChannelMaxRetries",2,t),this.ta=ka("forwardChannelRequestTimeoutMs",2e4,t),this.ra=t&&t.xmlHttpFactory||void 0,this.Da=t&&t.Zb||!1,this.J=void 0,this.H=t&&t.supportsCrossDomainXhr||!1,this.I="",this.h=new Go(t&&t.concurrentRequestLimit),this.Fa=new ea,this.O=t&&t.fastHandshake||!1,this.N=t&&t.encodeInitMessageHeaders||!1,this.O&&this.N&&(this.N=!1),this.Ya=t&&t.Xb||!1,t&&t.Aa&&this.j.Aa(),t&&t.forceLongPolling&&(this.Y=!1),this.$=!this.O&&this.Y&&t&&t.detectBufferingProxy||!1,this.ja=void 0,this.P=0,this.K=!1,this.la=this.B=null}function xa(t){if(Ta(t),3==t.G){var e=t.U++,i=xo(t.F);qo(i,"SID",t.I),qo(i,"RID",e),qo(i,"TYPE","terminate"),Ra(t,i),(e=new oo(t,t.j,e,void 0)).K=2,e.v=Ro(xo(i)),i=!1,or.navigator&&or.navigator.sendBeacon&&(i=or.navigator.sendBeacon(e.v.toString(),"")),!i&&or.Image&&((new Image).src=e.v,i=!0),i||(e.g=Va(e.l,null),e.g.da(e.v)),e.F=Date.now(),vo(e)}ja(t)}function Sa(t){t.g&&(Da(t),t.g.cancel(),t.g=null)}function Ta(t){Sa(t),t.u&&(or.clearTimeout(t.u),t.u=null),Ba(t),t.h.cancel(),t.m&&("number"==typeof t.m&&or.clearTimeout(t.m),t.m=null)}function Ia(t){Qo(t.h)||t.m||(t.m=!0,xs(t.Ja,t),t.C=0)}function qa(t,e){var i;i=e?e.m:t.U++;const n=xo(t.F);qo(n,"SID",t.I),qo(n,"RID",i),qo(n,"AID",t.T),Ra(t,n),t.o&&t.s&&Aa(n,t.o,t.s),i=new oo(t,t.j,i,t.C+1),null===t.o&&(i.H=t.s),e&&(t.i=e.D.concat(t.i)),e=Ca(t,i,1e3),i.setTimeout(Math.round(.5*t.ta)+Math.round(.5*t.ta*Math.random())),Yo(t.h,i),co(i,n,e)}function Ra(t,e){t.ia&&Xr(t.ia,(function(t,i){qo(e,i,t)})),t.l&&Ao({},(function(t,i){qo(e,i,t)}))}function Ca(t,e,i){i=Math.min(t.i.length,i);var n=t.l?pr(t.l.Ra,t.l,t):null;t:{var r=t.i;let e=-1;for(;;){const t=["count="+i];-1==e?0<i?(e=r[0].h,t.push("ofs="+e)):e=0:t.push("ofs="+e);let s=!0;for(let o=0;o<i;o++){let i=r[o].h;const a=r[o].g;if(i-=e,0>i)e=Math.max(0,r[o].h-100),s=!1;else try{ia(a,t,"req"+i+"_")}catch(t){n&&n(a)}}if(s){n=t.join("&");break t}}}return t=t.i.splice(0,i),e.D=t,n}function Na(t){t.g||t.u||(t.Z=1,xs(t.Ia,t),t.A=0)}function La(t){return!(t.g||t.u||3<=t.A)&&(t.Z++,t.u=$s(pr(t.Ia,t),Ua(t,t.A)),t.A++,!0)}function Da(t){null!=t.B&&(or.clearTimeout(t.B),t.B=null)}function Oa(t){t.g=new oo(t,t.j,"rpc",t.Z),null===t.o&&(t.g.H=t.s),t.g.N=0;var e=xo(t.sa);qo(e,"RID","rpc"),qo(e,"SID",t.I),qo(e,"CI",t.L?"0":"1"),qo(e,"AID",t.T),qo(e,"TYPE","xmlhttp"),Ra(t,e),t.o&&t.s&&Aa(e,t.o,t.s),t.J&&t.g.setTimeout(t.J);var i=t.g;t=t.ka,i.K=1,i.v=Ro(xo(e)),i.s=null,i.P=!0,fo(i,t)}function Ba(t){null!=t.v&&(or.clearTimeout(t.v),t.v=null)}function Pa(t,e){var i=null;if(t.g==e){Ba(t),Da(t),t.g=null;var n=2}else{if(!Zo(t.h,e))return;i=e.D,Xo(t.h,e),n=1}if(0!=t.G)if(t.pa=e.Y,e.i)if(1==n){i=e.s?e.s.length:0,e=Date.now()-e.F;var r=t.C;ys(n=Vs(),new Qs(n,i)),Ia(t)}else Na(t);else if(3==(r=e.o)||0==r&&0<t.pa||!(1==n&&function(t,e){return!($o(t.h)>=t.h.j-(t.m?1:0)||(t.m?(t.i=e.D.concat(t.i),0):1==t.G||2==t.G||t.C>=(t.Za?0:t.$a)||(t.m=$s(pr(t.Ja,t,e),Ua(t,t.C)),t.C++,0)))}(t,e)||2==n&&La(t)))switch(i&&0<i.length&&(e=t.h,e.i=e.i.concat(i)),r){case 1:Fa(t,5);break;case 4:Fa(t,10);break;case 3:Fa(t,6);break;default:Fa(t,2)}}function Ua(t,e){let i=t.Xa+Math.floor(Math.random()*t.bb);return t.l||(i*=2),i*e}function Fa(t,e){if(t.j.info("Error code "+e),2==e){var i=null;t.l&&(i=null);var n=pr(t.kb,t);i||(i=new Eo("//www.google.com/images/cleardot.gif"),or.location&&"http"==or.location.protocol||So(i,"https"),Ro(i)),function(t,e){const i=new Us;if(or.Image){const n=new Image;n.onload=mr(na,i,n,"TestLoadImage: loaded",!0,e),n.onerror=mr(na,i,n,"TestLoadImage: error",!1,e),n.onabort=mr(na,i,n,"TestLoadImage: abort",!1,e),n.ontimeout=mr(na,i,n,"TestLoadImage: timeout",!1,e),or.setTimeout((function(){n.ontimeout&&n.ontimeout()}),1e4),n.src=t}else e(!1)}(i.toString(),n)}else Ws(2);t.G=0,t.l&&t.l.va(e),ja(t),Ta(t)}function ja(t){if(t.G=0,t.la=[],t.l){const e=Jo(t.h);0==e.length&&0==t.i.length||(wr(t.la,e),wr(t.la,t.i),t.h.i.length=0,br(t.i),t.i.length=0),t.l.ua()}}function za(t,e,i){var n=i instanceof Eo?xo(i):new Eo(i,void 0);if(""!=n.g)e&&(n.g=e+"."+n.g),To(n,n.m);else{var r=or.location;n=r.protocol,e=e?e+"."+r.hostname:r.hostname,r=+r.port;var s=new Eo(null,void 0);n&&So(s,n),e&&(s.g=e),r&&To(s,r),i&&(s.l=i),n=s}return i=t.D,e=t.za,i&&e&&qo(n,i,e),qo(n,"VER",t.ma),Ra(t,n),n}function Va(t,e,i){if(e&&!t.H)throw Error("Can't create secondary domain capable XhrIo object.");return(e=i&&t.Da&&!t.ra?new ca(new ra({jb:!0})):new ca(t.ra)).Ka(t.H),e}function Ha(){}function Ka(){if(Cr&&!(10<=Number(Kr)))throw Error("Environmental error: no available transport.")}function Ga(t,e){vs.call(this),this.g=new Ea(e),this.l=t,this.h=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.g.s=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.ya&&(t?t["X-WebChannel-Client-Profile"]=e.ya:t={"X-WebChannel-Client-Profile":e.ya}),this.g.S=t,(t=e&&e.Yb)&&!Ar(t)&&(this.g.o=t),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!Ar(e)&&(this.g.D=e,null!==(t=this.h)&&e in t&&(e in(t=this.h)&&delete t[e])),this.j=new $a(this)}function Wa(t){no.call(this);var e=t.__sm__;if(e){t:{for(const i in e){t=i;break t}t=void 0}(this.i=t)&&(t=this.i,e=null!==e&&t in e?e[t]:void 0),this.data=e}else this.data=t}function Qa(){ro.call(this),this.status=1}function $a(t){this.g=t}(ir=ca.prototype).Ka=function(t){this.L=t},ir.da=function(t,e,i,n){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+t);e=e?e.toUpperCase():"GET",this.H=t,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():eo.g(),this.C=this.u?Js(this.u):Js(eo),this.g.onreadystatechange=pr(this.Ha,this);try{this.F=!0,this.g.open(e,String(t),!0),this.F=!1}catch(t){return void ma(this,t)}if(t=i||"",i=new Map(this.headers),n)if(Object.getPrototypeOf(n)===Object.prototype)for(var r in n)i.set(r,n[r]);else{if("function"!=typeof n.keys||"function"!=typeof n.get)throw Error("Unknown input type for opt_headers: "+String(n));for(const t of n.keys())i.set(t,n.get(t))}n=Array.from(i.keys()).find((t=>"content-type"==t.toLowerCase())),r=or.FormData&&t instanceof or.FormData,!(0<=yr(pa,e))||n||r||i.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[t,e]of i)this.g.setRequestHeader(t,e);this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{ba(this),0<this.B&&((this.K=function(t){return Cr&&Vr()&&"number"==typeof t.timeout&&void 0!==t.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=pr(this.qa,this)):this.A=Cs(this.qa,this.B,this)),this.v=!0,this.g.send(t),this.v=!1}catch(t){ma(this,t)}},ir.qa=function(){void 0!==sr&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,ys(this,"timeout"),this.abort(8))},ir.abort=function(t){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=t||7,ys(this,"complete"),ys(this,"abort"),ya(this))},ir.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),ya(this,!0)),ca.X.M.call(this)},ir.Ha=function(){this.s||(this.F||this.v||this.l?va(this):this.fb())},ir.fb=function(){va(this)},ir.aa=function(){try{return 2<wa(this)?this.g.status:-1}catch(t){return-1}},ir.fa=function(){try{return this.g?this.g.responseText:""}catch(t){return""}},ir.Sa=function(t){if(this.g){var e=this.g.responseText;return t&&0==e.indexOf(t)&&(e=e.substring(t.length)),la(e)}},ir.Ea=function(){return this.m},ir.Oa=function(){return"string"==typeof this.j?this.j:String(this.j)},(ir=Ea.prototype).ma=8,ir.G=1,ir.Ja=function(t){if(this.m)if(this.m=null,1==this.G){if(!t){this.U=Math.floor(1e5*Math.random()),t=this.U++;const r=new oo(this,this.j,t,void 0);let s=this.s;if(this.S&&(s?(s=Jr(s),es(s,this.S)):s=this.S),null!==this.o||this.N||(r.H=s,s=null),this.O)t:{for(var e=0,i=0;i<this.i.length;i++){var n=this.i[i];if(void 0===(n="__data__"in n.g&&"string"==typeof(n=n.g.__data__)?n.length:void 0))break;if(4096<(e+=n)){e=i;break t}if(4096===e||i===this.i.length-1){e=i+1;break t}}e=1e3}else e=1e3;e=Ca(this,r,e),qo(i=xo(this.F),"RID",t),qo(i,"CVER",22),this.D&&qo(i,"X-HTTP-Session-Id",this.D),Ra(this,i),s&&(this.N?e="headers="+encodeURIComponent(String(Ma(s)))+"&"+e:this.o&&Aa(i,this.o,s)),Yo(this.h,r),this.Ya&&qo(i,"TYPE","init"),this.O?(qo(i,"$req",e),qo(i,"SID","null"),r.Z=!0,co(r,i,null)):co(r,i,e),this.G=2}}else 3==this.G&&(t?qa(this,t):0==this.i.length||Qo(this.h)||qa(this))},ir.Ia=function(){if(this.u=null,Oa(this),this.$&&!(this.K||null==this.g||0>=this.P)){var t=2*this.P;this.j.info("BP detection timer enabled: "+t),this.B=$s(pr(this.eb,this),t)}},ir.eb=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.L=!1,this.K=!0,Ws(10),Sa(this),Oa(this))},ir.cb=function(){null!=this.v&&(this.v=null,Sa(this),La(this),Ws(19))},ir.kb=function(t){t?(this.j.info("Successfully pinged google.com"),Ws(2)):(this.j.info("Failed to ping google.com"),Ws(1))},(ir=Ha.prototype).xa=function(){},ir.wa=function(){},ir.va=function(){},ir.ua=function(){},ir.Ra=function(){},Ka.prototype.g=function(t,e){return new Ga(t,e)},gr(Ga,vs),Ga.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.H=!0);var t=this.g,e=this.l,i=this.h||void 0;Ws(0),t.V=e,t.ia=i||{},t.L=t.Y,t.F=za(t,null,t.V),Ia(t)},Ga.prototype.close=function(){xa(this.g)},Ga.prototype.u=function(t){var e=this.g;if("string"==typeof t){var i={};i.__data__=t,t=i}else this.v&&((i={}).__data__=ws(t),t=i);e.i.push(new class{constructor(t,e){this.h=t,this.g=e}}(e.ab++,t)),3==e.G&&Ia(e)},Ga.prototype.M=function(){this.g.l=null,delete this.j,xa(this.g),delete this.g,Ga.X.M.call(this)},gr(Wa,no),gr(Qa,ro),gr($a,Ha),$a.prototype.xa=function(){ys(this.g,"a")},$a.prototype.wa=function(t){ys(this.g,new Wa(t))},$a.prototype.va=function(t){ys(this.g,new Qa)},$a.prototype.ua=function(){ys(this.g,"b")},Ka.prototype.createWebChannel=Ka.prototype.g,Ga.prototype.send=Ga.prototype.u,Ga.prototype.open=Ga.prototype.m,Ga.prototype.close=Ga.prototype.close,Zs.NO_ERROR=0,Zs.TIMEOUT=8,Zs.HTTP_ERROR=6,Ys.COMPLETE="complete",to.EventType=io,io.OPEN="a",io.CLOSE="b",io.ERROR="c",io.MESSAGE="d",vs.prototype.listen=vs.prototype.N,ca.prototype.listenOnce=ca.prototype.O,ca.prototype.getLastError=ca.prototype.Oa,ca.prototype.getLastErrorCode=ca.prototype.Ea,ca.prototype.getStatus=ca.prototype.aa,ca.prototype.getResponseJson=ca.prototype.Sa,ca.prototype.getResponseText=ca.prototype.fa,ca.prototype.send=ca.prototype.da,ca.prototype.setWithCredentials=ca.prototype.Ka;var Za=rr.createWebChannelTransport=function(){return new Ka},Ya=rr.getStatEventTarget=function(){return Vs()},Xa=rr.ErrorCode=Zs,Ja=rr.EventType=Ys,th=rr.Event=js,eh=rr.Stat={sb:0,vb:1,wb:2,Pb:3,Ub:4,Rb:5,Sb:6,Qb:7,Ob:8,Tb:9,PROXY:10,NOPROXY:11,Mb:12,Ib:13,Jb:14,Hb:15,Kb:16,Lb:17,ob:18,nb:19,pb:20},ih=rr.FetchXmlHttpFactory=ra,nh=rr.WebChannel=to,rh=rr.XhrIo=ca;s=r("ajwPf");const sh="@firebase/firestore";
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oh{constructor(t){this.uid=t}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}oh.UNAUTHENTICATED=new oh(null),oh.GOOGLE_CREDENTIALS=new oh("google-credentials-uid"),oh.FIRST_PARTY=new oh("first-party-uid"),oh.MOCK_USER=new oh("mock-user");
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
let ah="9.17.1";
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hh=new W("@firebase/firestore");function uh(){return hh.logLevel}function lh(t,...e){if(hh.logLevel<=j.DEBUG){const i=e.map(fh);hh.debug(`Firestore (${ah}): ${t}`,...i)}}function ch(t,...e){if(hh.logLevel<=j.ERROR){const i=e.map(fh);hh.error(`Firestore (${ah}): ${t}`,...i)}}function dh(t,...e){if(hh.logLevel<=j.WARN){const i=e.map(fh);hh.warn(`Firestore (${ah}): ${t}`,...i)}}function fh(t){if("string"==typeof t)return t;try{return e=t,JSON.stringify(e)}catch(e){return t}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var e}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ph(t="Unexpected state"){const e=`FIRESTORE (${ah}) INTERNAL ASSERTION FAILED: `+t;throw ch(e),new Error(e)}function mh(t,e){t||ph()}function gh(t,e){return t}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vh={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class yh extends A{constructor(t,e){super(t,e),this.code=t,this.message=e,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bh{constructor(){this.promise=new Promise(((t,e)=>{this.resolve=t,this.reject=e}))}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wh{constructor(t,e){this.user=e,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class _h{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,e){t.enqueueRetryable((()=>e(oh.UNAUTHENTICATED)))}shutdown(){}}class Mh{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,e){this.changeListener=e,t.enqueueRetryable((()=>e(this.token.user)))}shutdown(){this.changeListener=null}}class Ah{constructor(t){this.t=t,this.currentUser=oh.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,e){let i=this.i;const n=t=>this.i!==i?(i=this.i,e(t)):Promise.resolve();let r=new bh;this.o=()=>{this.i++,this.currentUser=this.u(),r.resolve(),r=new bh,t.enqueueRetryable((()=>n(this.currentUser)))};const s=()=>{const e=r;t.enqueueRetryable((async()=>{await e.promise,await n(this.currentUser)}))},o=t=>{lh("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=t,this.auth.addAuthTokenListener(this.o),s()};this.t.onInit((t=>o(t))),setTimeout((()=>{if(!this.auth){const t=this.t.getImmediate({optional:!0});t?o(t):(lh("FirebaseAuthCredentialsProvider","Auth not yet detected"),r.resolve(),r=new bh)}}),0),s()}getToken(){const t=this.i,e=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(e).then((e=>this.i!==t?(lh("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):e?(mh("string"==typeof e.accessToken),new wh(e.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const t=this.auth&&this.auth.getUid();return mh(null===t||"string"==typeof t),new oh(t)}}class kh{constructor(t,e,i,n){this.h=t,this.l=e,this.m=i,this.g=n,this.type="FirstParty",this.user=oh.FIRST_PARTY,this.p=new Map}I(){return this.g?this.g():(mh(!("object"!=typeof this.h||null===this.h||!this.h.auth||!this.h.auth.getAuthHeaderValueForFirstParty)),this.h.auth.getAuthHeaderValueForFirstParty([]))}get headers(){this.p.set("X-Goog-AuthUser",this.l);const t=this.I();return t&&this.p.set("Authorization",t),this.m&&this.p.set("X-Goog-Iam-Authorization-Token",this.m),this.p}}class Eh{constructor(t,e,i,n){this.h=t,this.l=e,this.m=i,this.g=n}getToken(){return Promise.resolve(new kh(this.h,this.l,this.m,this.g))}start(t,e){t.enqueueRetryable((()=>e(oh.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class xh{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Sh{constructor(t){this.T=t,this.forceRefresh=!1,this.appCheck=null,this.A=null}start(t,e){const i=t=>{null!=t.error&&lh("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${t.error.message}`);const i=t.token!==this.A;return this.A=t.token,lh("FirebaseAppCheckTokenProvider",`Received ${i?"new":"existing"} token.`),i?e(t.token):Promise.resolve()};this.o=e=>{t.enqueueRetryable((()=>i(e)))};const n=t=>{lh("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=t,this.appCheck.addTokenListener(this.o)};this.T.onInit((t=>n(t))),setTimeout((()=>{if(!this.appCheck){const t=this.T.getImmediate({optional:!0});t?n(t):lh("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then((t=>t?(mh("string"==typeof t.token),this.A=t.token,new xh(t.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function Th(t){const e="undefined"!=typeof self&&(self.crypto||self.msCrypto),i=new Uint8Array(t);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(i);else for(let e=0;e<t;e++)i[e]=Math.floor(256*Math.random());return i}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ih{static R(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",e=Math.floor(256/t.length)*t.length;let i="";for(;i.length<20;){const n=Th(40);for(let r=0;r<n.length;++r)i.length<20&&n[r]<e&&(i+=t.charAt(n[r]%t.length))}return i}}function qh(t,e){return t<e?-1:t>e?1:0}function Rh(t,e,i){return t.length===e.length&&t.every(((t,n)=>i(t,e[n])))}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class Ch{constructor(t,e){if(this.seconds=t,this.nanoseconds=e,e<0)throw new yh(vh.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(e>=1e9)throw new yh(vh.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(t<-62135596800)throw new yh(vh.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new yh(vh.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}static now(){return Ch.fromMillis(Date.now())}static fromDate(t){return Ch.fromMillis(t.getTime())}static fromMillis(t){const e=Math.floor(t/1e3),i=Math.floor(1e6*(t-1e3*e));return new Ch(e,i)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(t){return this.seconds===t.seconds?qh(this.nanoseconds,t.nanoseconds):qh(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const t=this.seconds- -62135596800;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nh{constructor(t){this.timestamp=t}static fromTimestamp(t){return new Nh(t)}static min(){return new Nh(new Ch(0,0))}static max(){return new Nh(new Ch(253402300799,999999999))}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lh{constructor(t,e,i){void 0===e?e=0:e>t.length&&ph(),void 0===i?i=t.length-e:i>t.length-e&&ph(),this.segments=t,this.offset=e,this.len=i}get length(){return this.len}isEqual(t){return 0===Lh.comparator(this,t)}child(t){const e=this.segments.slice(this.offset,this.limit());return t instanceof Lh?t.forEach((t=>{e.push(t)})):e.push(t),this.construct(e)}limit(){return this.offset+this.length}popFirst(t){return t=void 0===t?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return 0===this.length}isPrefixOf(t){if(t.length<this.length)return!1;for(let e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0}forEach(t){for(let e=this.offset,i=this.limit();e<i;e++)t(this.segments[e])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,e){const i=Math.min(t.length,e.length);for(let n=0;n<i;n++){const i=t.get(n),r=e.get(n);if(i<r)return-1;if(i>r)return 1}return t.length<e.length?-1:t.length>e.length?1:0}}class Dh extends Lh{construct(t,e,i){return new Dh(t,e,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...t){const e=[];for(const i of t){if(i.indexOf("//")>=0)throw new yh(vh.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);e.push(...i.split("/").filter((t=>t.length>0)))}return new Dh(e)}static emptyPath(){return new Dh([])}}const Oh=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Bh extends Lh{construct(t,e,i){return new Bh(t,e,i)}static isValidIdentifier(t){return Oh.test(t)}canonicalString(){return this.toArray().map((t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Bh.isValidIdentifier(t)||(t="`"+t+"`"),t))).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new Bh(["__name__"])}static fromServerFormat(t){const e=[];let i="",n=0;const r=()=>{if(0===i.length)throw new yh(vh.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);e.push(i),i=""};let s=!1;for(;n<t.length;){const e=t[n];if("\\"===e){if(n+1===t.length)throw new yh(vh.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const e=t[n+1];if("\\"!==e&&"."!==e&&"`"!==e)throw new yh(vh.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);i+=e,n+=2}else"`"===e?(s=!s,n++):"."!==e||s?(i+=e,n++):(r(),n++)}if(r(),s)throw new yh(vh.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new Bh(e)}static emptyPath(){return new Bh([])}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ph{constructor(t){this.path=t}static fromPath(t){return new Ph(Dh.fromString(t))}static fromName(t){return new Ph(Dh.fromString(t).popFirst(5))}static empty(){return new Ph(Dh.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return null!==t&&0===Dh.comparator(this.path,t.path)}toString(){return this.path.toString()}static comparator(t,e){return Dh.comparator(t.path,e.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new Ph(new Dh(t.slice()))}}
/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uh{constructor(t,e,i,n){this.indexId=t,this.collectionGroup=e,this.fields=i,this.indexState=n}}Uh.UNKNOWN_ID=-1;function Fh(t,e){const i=t.toTimestamp().seconds,n=t.toTimestamp().nanoseconds+1,r=Nh.fromTimestamp(1e9===n?new Ch(i+1,0):new Ch(i,n));return new zh(r,Ph.empty(),e)}function jh(t){return new zh(t.readTime,t.key,-1)}class zh{constructor(t,e,i){this.readTime=t,this.documentKey=e,this.largestBatchId=i}static min(){return new zh(Nh.min(),Ph.empty(),-1)}static max(){return new zh(Nh.max(),Ph.empty(),-1)}}function Vh(t,e){let i=t.readTime.compareTo(e.readTime);return 0!==i?i:(i=Ph.comparator(t.documentKey,e.documentKey),0!==i?i:qh(t.largestBatchId,e.largestBatchId))}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hh="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Kh{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((t=>t()))}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Gh(t){if(t.code!==vh.FAILED_PRECONDITION||t.message!==Hh)throw t;lh("LocalStore","Unexpectedly lost primary lease")}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wh{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)}),(t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)}))}catch(t){return this.next(void 0,t)}next(t,e){return this.callbackAttached&&ph(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(e,this.error):this.wrapSuccess(t,this.result):new Wh(((i,n)=>{this.nextCallback=e=>{this.wrapSuccess(t,e).next(i,n)},this.catchCallback=t=>{this.wrapFailure(e,t).next(i,n)}}))}toPromise(){return new Promise(((t,e)=>{this.next(t,e)}))}wrapUserFunction(t){try{const e=t();return e instanceof Wh?e:Wh.resolve(e)}catch(t){return Wh.reject(t)}}wrapSuccess(t,e){return t?this.wrapUserFunction((()=>t(e))):Wh.resolve(e)}wrapFailure(t,e){return t?this.wrapUserFunction((()=>t(e))):Wh.reject(e)}static resolve(t){return new Wh(((e,i)=>{e(t)}))}static reject(t){return new Wh(((e,i)=>{i(t)}))}static waitFor(t){return new Wh(((e,i)=>{let n=0,r=0,s=!1;t.forEach((t=>{++n,t.next((()=>{++r,s&&r===n&&e()}),(t=>i(t)))})),s=!0,r===n&&e()}))}static or(t){let e=Wh.resolve(!1);for(const i of t)e=e.next((t=>t?Wh.resolve(t):i()));return e}static forEach(t,e){const i=[];return t.forEach(((t,n)=>{i.push(e.call(this,t,n))})),this.waitFor(i)}static mapArray(t,e){return new Wh(((i,n)=>{const r=t.length,s=new Array(r);let o=0;for(let a=0;a<r;a++){const h=a;e(t[h]).next((t=>{s[h]=t,++o,o===r&&i(s)}),(t=>n(t)))}}))}static doWhile(t,e){return new Wh(((i,n)=>{const r=()=>{!0===t()?e().next((()=>{r()}),n):i()};r()}))}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qh(t){return"IndexedDbTransactionError"===t.name}
/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class $h{constructor(t,e){this.previousValue=t,e&&(e.sequenceNumberHandler=t=>this.ut(t),this.ct=t=>e.writeSequenceNumber(t))}ut(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ct&&this.ct(t),t}}$h.at=-1;
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class Zh{constructor(t,e,i,n,r,s,o,a){this.databaseId=t,this.appId=e,this.persistenceKey=i,this.host=n,this.ssl=r,this.forceLongPolling=s,this.autoDetectLongPolling=o,this.useFetchStreams=a}}class Yh{constructor(t,e){this.projectId=t,this.database=e||"(default)"}static empty(){return new Yh("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(t){return t instanceof Yh&&t.projectId===this.projectId&&t.database===this.database}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xh(t){let e=0;for(const i in t)Object.prototype.hasOwnProperty.call(t,i)&&e++;return e}function Jh(t,e){for(const i in t)Object.prototype.hasOwnProperty.call(t,i)&&e(i,t[i])}function tu(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eu(t){return null==t}function iu(t){return 0===t&&1/t==-1/0}function nu(t){return"number"==typeof t&&Number.isInteger(t)&&!iu(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class ru{constructor(t){this.binaryString=t}static fromBase64String(t){const e=atob(t);return new ru(e)}static fromUint8Array(t){const e=function(t){let e="";for(let i=0;i<t.length;++i)e+=String.fromCharCode(t[i]);return e}(t);return new ru(e)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){var t;return t=this.binaryString,btoa(t)}toUint8Array(){return function(t){const e=new Uint8Array(t.length);for(let i=0;i<t.length;i++)e[i]=t.charCodeAt(i);return e}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return qh(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}ru.EMPTY_BYTE_STRING=new ru("");const su=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ou(t){if(mh(!!t),"string"==typeof t){let e=0;const i=su.exec(t);if(mh(!!i),i[1]){let t=i[1];t=(t+"000000000").substr(0,9),e=Number(t)}const n=new Date(t);return{seconds:Math.floor(n.getTime()/1e3),nanos:e}}return{seconds:au(t.seconds),nanos:au(t.nanos)}}function au(t){return"number"==typeof t?t:"string"==typeof t?Number(t):0}function hu(t){return"string"==typeof t?ru.fromBase64String(t):ru.fromUint8Array(t)}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uu(t){var e,i;return"server_timestamp"===(null===(i=((null===(e=null==t?void 0:t.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===i?void 0:i.stringValue)}function lu(t){const e=t.mapValue.fields.__previous_value__;return uu(e)?lu(e):e}function cu(t){const e=ou(t.mapValue.fields.__local_write_time__.timestampValue);return new Ch(e.seconds,e.nanos)}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const du={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function fu(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?uu(t)?4:Su(t)?9007199254740991:10:ph()}function pu(t,e){if(t===e)return!0;const i=fu(t);if(i!==fu(e))return!1;switch(i){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return cu(t).isEqual(cu(e));case 3:return function(t,e){if("string"==typeof t.timestampValue&&"string"==typeof e.timestampValue&&t.timestampValue.length===e.timestampValue.length)return t.timestampValue===e.timestampValue;const i=ou(t.timestampValue),n=ou(e.timestampValue);return i.seconds===n.seconds&&i.nanos===n.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(t,e){return hu(t.bytesValue).isEqual(hu(e.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(t,e){return au(t.geoPointValue.latitude)===au(e.geoPointValue.latitude)&&au(t.geoPointValue.longitude)===au(e.geoPointValue.longitude)}(t,e);case 2:return function(t,e){if("integerValue"in t&&"integerValue"in e)return au(t.integerValue)===au(e.integerValue);if("doubleValue"in t&&"doubleValue"in e){const i=au(t.doubleValue),n=au(e.doubleValue);return i===n?iu(i)===iu(n):isNaN(i)&&isNaN(n)}return!1}(t,e);case 9:return Rh(t.arrayValue.values||[],e.arrayValue.values||[],pu);case 10:return function(t,e){const i=t.mapValue.fields||{},n=e.mapValue.fields||{};if(Xh(i)!==Xh(n))return!1;for(const t in i)if(i.hasOwnProperty(t)&&(void 0===n[t]||!pu(i[t],n[t])))return!1;return!0}(t,e);default:return ph()}}function mu(t,e){return void 0!==(t.values||[]).find((t=>pu(t,e)))}function gu(t,e){if(t===e)return 0;const i=fu(t),n=fu(e);if(i!==n)return qh(i,n);switch(i){case 0:case 9007199254740991:return 0;case 1:return qh(t.booleanValue,e.booleanValue);case 2:return function(t,e){const i=au(t.integerValue||t.doubleValue),n=au(e.integerValue||e.doubleValue);return i<n?-1:i>n?1:i===n?0:isNaN(i)?isNaN(n)?0:-1:1}(t,e);case 3:return vu(t.timestampValue,e.timestampValue);case 4:return vu(cu(t),cu(e));case 5:return qh(t.stringValue,e.stringValue);case 6:return function(t,e){const i=hu(t),n=hu(e);return i.compareTo(n)}(t.bytesValue,e.bytesValue);case 7:return function(t,e){const i=t.split("/"),n=e.split("/");for(let t=0;t<i.length&&t<n.length;t++){const e=qh(i[t],n[t]);if(0!==e)return e}return qh(i.length,n.length)}(t.referenceValue,e.referenceValue);case 8:return function(t,e){const i=qh(au(t.latitude),au(e.latitude));return 0!==i?i:qh(au(t.longitude),au(e.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(t,e){const i=t.values||[],n=e.values||[];for(let t=0;t<i.length&&t<n.length;++t){const e=gu(i[t],n[t]);if(e)return e}return qh(i.length,n.length)}(t.arrayValue,e.arrayValue);case 10:return function(t,e){if(t===du.mapValue&&e===du.mapValue)return 0;if(t===du.mapValue)return 1;if(e===du.mapValue)return-1;const i=t.fields||{},n=Object.keys(i),r=e.fields||{},s=Object.keys(r);n.sort(),s.sort();for(let t=0;t<n.length&&t<s.length;++t){const e=qh(n[t],s[t]);if(0!==e)return e;const o=gu(i[n[t]],r[s[t]]);if(0!==o)return o}return qh(n.length,s.length)}(t.mapValue,e.mapValue);default:throw ph()}}function vu(t,e){if("string"==typeof t&&"string"==typeof e&&t.length===e.length)return qh(t,e);const i=ou(t),n=ou(e),r=qh(i.seconds,n.seconds);return 0!==r?r:qh(i.nanos,n.nanos)}function yu(t){return bu(t)}function bu(t){var e,i;return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(t){const e=ou(t);return`time(${e.seconds},${e.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?hu(t.bytesValue).toBase64():"referenceValue"in t?(i=t.referenceValue,Ph.fromName(i).toString()):"geoPointValue"in t?`geo(${(e=t.geoPointValue).latitude},${e.longitude})`:"arrayValue"in t?function(t){let e="[",i=!0;for(const n of t.values||[])i?i=!1:e+=",",e+=bu(n);return e+"]"}(t.arrayValue):"mapValue"in t?function(t){const e=Object.keys(t.fields||{}).sort();let i="{",n=!0;for(const r of e)n?n=!1:i+=",",i+=`${r}:${bu(t.fields[r])}`;return i+"}"}(t.mapValue):ph()}function wu(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function _u(t){return!!t&&"integerValue"in t}function Mu(t){return!!t&&"arrayValue"in t}function Au(t){return!!t&&"nullValue"in t}function ku(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Eu(t){return!!t&&"mapValue"in t}function xu(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&"object"==typeof t.timestampValue)return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return Jh(t.mapValue.fields,((t,i)=>e.mapValue.fields[t]=xu(i))),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let i=0;i<(t.arrayValue.values||[]).length;++i)e.arrayValue.values[i]=xu(t.arrayValue.values[i]);return e}return Object.assign({},t)}function Su(t){return"__max__"===(((t.mapValue||{}).fields||{}).__type__||{}).stringValue}
/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class Tu{constructor(t,e){this.position=t,this.inclusive=e}}function Iu(t,e,i){let n=0;for(let r=0;r<t.position.length;r++){const s=e[r],o=t.position[r];if(n=s.field.isKeyField()?Ph.comparator(Ph.fromName(o.referenceValue),i.key):gu(o,i.data.field(s.field)),"desc"===s.dir&&(n*=-1),0!==n)break}return n}function qu(t,e){if(null===t)return null===e;if(null===e)return!1;if(t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let i=0;i<t.position.length;i++)if(!pu(t.position[i],e.position[i]))return!1;return!0}
/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ru{}class Cu extends Ru{constructor(t,e,i){super(),this.field=t,this.op=e,this.value=i}static create(t,e,i){return t.isKeyField()?"in"===e||"not-in"===e?this.createKeyFieldInFilter(t,e,i):new Fu(t,e,i):"array-contains"===e?new Hu(t,i):"in"===e?new Ku(t,i):"not-in"===e?new Gu(t,i):"array-contains-any"===e?new Wu(t,i):new Cu(t,e,i)}static createKeyFieldInFilter(t,e,i){return"in"===e?new ju(t,i):new zu(t,i)}matches(t){const e=t.data.field(this.field);return"!="===this.op?null!==e&&this.matchesComparison(gu(e,this.value)):null!==e&&fu(this.value)===fu(e)&&this.matchesComparison(gu(e,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return 0===t;case"!=":return 0!==t;case">":return t>0;case">=":return t>=0;default:return ph()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}getFirstInequalityField(){return this.isInequality()?this.field:null}}class Nu extends Ru{constructor(t,e){super(),this.filters=t,this.op=e,this.ht=null}static create(t,e){return new Nu(t,e)}matches(t){return Lu(this)?void 0===this.filters.find((e=>!e.matches(t))):void 0!==this.filters.find((e=>e.matches(t)))}getFlattenedFilters(){return null!==this.ht||(this.ht=this.filters.reduce(((t,e)=>t.concat(e.getFlattenedFilters())),[])),this.ht}getFilters(){return Object.assign([],this.filters)}getFirstInequalityField(){const t=this.lt((t=>t.isInequality()));return null!==t?t.field:null}lt(t){for(const e of this.getFlattenedFilters())if(t(e))return e;return null}}function Lu(t){return"and"===t.op}function Du(t){return Ou(t)&&Lu(t)}function Ou(t){for(const e of t.filters)if(e instanceof Nu)return!1;return!0}function Bu(t){if(t instanceof Cu)return t.field.canonicalString()+t.op.toString()+yu(t.value);if(Du(t))return t.filters.map((t=>Bu(t))).join(",");{const e=t.filters.map((t=>Bu(t))).join(",");return`${t.op}(${e})`}}function Pu(t,e){return t instanceof Cu?function(t,e){return e instanceof Cu&&t.op===e.op&&t.field.isEqual(e.field)&&pu(t.value,e.value)}(t,e):t instanceof Nu?function(t,e){return e instanceof Nu&&t.op===e.op&&t.filters.length===e.filters.length&&t.filters.reduce(((t,i,n)=>t&&Pu(i,e.filters[n])),!0)}(t,e):void ph()}function Uu(t){return t instanceof Cu?function(t){return`${t.field.canonicalString()} ${t.op} ${yu(t.value)}`}(t):t instanceof Nu?function(t){return t.op.toString()+" {"+t.getFilters().map(Uu).join(" ,")+"}"}(t):"Filter"}class Fu extends Cu{constructor(t,e,i){super(t,e,i),this.key=Ph.fromName(i.referenceValue)}matches(t){const e=Ph.comparator(t.key,this.key);return this.matchesComparison(e)}}class ju extends Cu{constructor(t,e){super(t,"in",e),this.keys=Vu("in",e)}matches(t){return this.keys.some((e=>e.isEqual(t.key)))}}class zu extends Cu{constructor(t,e){super(t,"not-in",e),this.keys=Vu("not-in",e)}matches(t){return!this.keys.some((e=>e.isEqual(t.key)))}}function Vu(t,e){var i;return((null===(i=e.arrayValue)||void 0===i?void 0:i.values)||[]).map((t=>Ph.fromName(t.referenceValue)))}class Hu extends Cu{constructor(t,e){super(t,"array-contains",e)}matches(t){const e=t.data.field(this.field);return Mu(e)&&mu(e.arrayValue,this.value)}}class Ku extends Cu{constructor(t,e){super(t,"in",e)}matches(t){const e=t.data.field(this.field);return null!==e&&mu(this.value.arrayValue,e)}}class Gu extends Cu{constructor(t,e){super(t,"not-in",e)}matches(t){if(mu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const e=t.data.field(this.field);return null!==e&&!mu(this.value.arrayValue,e)}}class Wu extends Cu{constructor(t,e){super(t,"array-contains-any",e)}matches(t){const e=t.data.field(this.field);return!(!Mu(e)||!e.arrayValue.values)&&e.arrayValue.values.some((t=>mu(this.value.arrayValue,t)))}}
/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qu{constructor(t,e="asc"){this.field=t,this.dir=e}}function $u(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zu{constructor(t,e){this.comparator=t,this.root=e||Xu.EMPTY}insert(t,e){return new Zu(this.comparator,this.root.insert(t,e,this.comparator).copy(null,null,Xu.BLACK,null,null))}remove(t){return new Zu(this.comparator,this.root.remove(t,this.comparator).copy(null,null,Xu.BLACK,null,null))}get(t){let e=this.root;for(;!e.isEmpty();){const i=this.comparator(t,e.key);if(0===i)return e.value;i<0?e=e.left:i>0&&(e=e.right)}return null}indexOf(t){let e=0,i=this.root;for(;!i.isEmpty();){const n=this.comparator(t,i.key);if(0===n)return e+i.left.size;n<0?i=i.left:(e+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal(((e,i)=>(t(e,i),!1)))}toString(){const t=[];return this.inorderTraversal(((e,i)=>(t.push(`${e}:${i}`),!1))),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new Yu(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new Yu(this.root,t,this.comparator,!1)}getReverseIterator(){return new Yu(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new Yu(this.root,t,this.comparator,!0)}}class Yu{constructor(t,e,i,n){this.isReverse=n,this.nodeStack=[];let r=1;for(;!t.isEmpty();)if(r=e?i(t.key,e):1,e&&n&&(r*=-1),r<0)t=this.isReverse?t.left:t.right;else{if(0===r){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const e={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return e}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class Xu{constructor(t,e,i,n,r){this.key=t,this.value=e,this.color=null!=i?i:Xu.RED,this.left=null!=n?n:Xu.EMPTY,this.right=null!=r?r:Xu.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,e,i,n,r){return new Xu(null!=t?t:this.key,null!=e?e:this.value,null!=i?i:this.color,null!=n?n:this.left,null!=r?r:this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,e,i){let n=this;const r=i(t,n.key);return n=r<0?n.copy(null,null,null,n.left.insert(t,e,i),null):0===r?n.copy(null,e,null,null,null):n.copy(null,null,null,null,n.right.insert(t,e,i)),n.fixUp()}removeMin(){if(this.left.isEmpty())return Xu.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,e){let i,n=this;if(e(t,n.key)<0)n.left.isEmpty()||n.left.isRed()||n.left.left.isRed()||(n=n.moveRedLeft()),n=n.copy(null,null,null,n.left.remove(t,e),null);else{if(n.left.isRed()&&(n=n.rotateRight()),n.right.isEmpty()||n.right.isRed()||n.right.left.isRed()||(n=n.moveRedRight()),0===e(t,n.key)){if(n.right.isEmpty())return Xu.EMPTY;i=n.right.min(),n=n.copy(i.key,i.value,null,null,n.right.removeMin())}n=n.copy(null,null,null,null,n.right.remove(t,e))}return n.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,Xu.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,Xu.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),e=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,e)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw ph();if(this.right.isRed())throw ph();const t=this.left.check();if(t!==this.right.check())throw ph();return t+(this.isRed()?0:1)}}Xu.EMPTY=null,Xu.RED=!0,Xu.BLACK=!1,Xu.EMPTY=new class{constructor(){this.size=0}get key(){throw ph()}get value(){throw ph()}get color(){throw ph()}get left(){throw ph()}get right(){throw ph()}copy(t,e,i,n,r){return this}insert(t,e,i){return new Xu(t,e)}remove(t,e){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class Ju{constructor(t){this.comparator=t,this.data=new Zu(this.comparator)}has(t){return null!==this.data.get(t)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal(((e,i)=>(t(e),!1)))}forEachInRange(t,e){const i=this.data.getIteratorFrom(t[0]);for(;i.hasNext();){const n=i.getNext();if(this.comparator(n.key,t[1])>=0)return;e(n.key)}}forEachWhile(t,e){let i;for(i=void 0!==e?this.data.getIteratorFrom(e):this.data.getIterator();i.hasNext();)if(!t(i.getNext().key))return}firstAfterOrEqual(t){const e=this.data.getIteratorFrom(t);return e.hasNext()?e.getNext().key:null}getIterator(){return new tl(this.data.getIterator())}getIteratorFrom(t){return new tl(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let e=this;return e.size<t.size&&(e=t,t=this),t.forEach((t=>{e=e.add(t)})),e}isEqual(t){if(!(t instanceof Ju))return!1;if(this.size!==t.size)return!1;const e=this.data.getIterator(),i=t.data.getIterator();for(;e.hasNext();){const t=e.getNext().key,n=i.getNext().key;if(0!==this.comparator(t,n))return!1}return!0}toArray(){const t=[];return this.forEach((e=>{t.push(e)})),t}toString(){const t=[];return this.forEach((e=>t.push(e))),"SortedSet("+t.toString()+")"}copy(t){const e=new Ju(this.comparator);return e.data=t,e}}class tl{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class el{constructor(t){this.fields=t,t.sort(Bh.comparator)}static empty(){return new el([])}unionWith(t){let e=new Ju(Bh.comparator);for(const t of this.fields)e=e.add(t);for(const i of t)e=e.add(i);return new el(e.toArray())}covers(t){for(const e of this.fields)if(e.isPrefixOf(t))return!0;return!1}isEqual(t){return Rh(this.fields,t.fields,((t,e)=>t.isEqual(e)))}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class il{constructor(t){this.value=t}static empty(){return new il({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let e=this.value;for(let i=0;i<t.length-1;++i)if(e=(e.mapValue.fields||{})[t.get(i)],!Eu(e))return null;return e=(e.mapValue.fields||{})[t.lastSegment()],e||null}}set(t,e){this.getFieldsMap(t.popLast())[t.lastSegment()]=xu(e)}setAll(t){let e=Bh.emptyPath(),i={},n=[];t.forEach(((t,r)=>{if(!e.isImmediateParentOf(r)){const t=this.getFieldsMap(e);this.applyChanges(t,i,n),i={},n=[],e=r.popLast()}t?i[r.lastSegment()]=xu(t):n.push(r.lastSegment())}));const r=this.getFieldsMap(e);this.applyChanges(r,i,n)}delete(t){const e=this.field(t.popLast());Eu(e)&&e.mapValue.fields&&delete e.mapValue.fields[t.lastSegment()]}isEqual(t){return pu(this.value,t.value)}getFieldsMap(t){let e=this.value;e.mapValue.fields||(e.mapValue={fields:{}});for(let i=0;i<t.length;++i){let n=e.mapValue.fields[t.get(i)];Eu(n)&&n.mapValue.fields||(n={mapValue:{fields:{}}},e.mapValue.fields[t.get(i)]=n),e=n}return e.mapValue.fields}applyChanges(t,e,i){Jh(e,((e,i)=>t[e]=i));for(const e of i)delete t[e]}clone(){return new il(xu(this.value))}}function nl(t){const e=[];return Jh(t.fields,((t,i)=>{const n=new Bh([t]);if(Eu(i)){const t=nl(i.mapValue).fields;if(0===t.length)e.push(n);else for(const i of t)e.push(n.child(i))}else e.push(n)})),new el(e)
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */}class rl{constructor(t,e,i,n,r,s,o){this.key=t,this.documentType=e,this.version=i,this.readTime=n,this.createTime=r,this.data=s,this.documentState=o}static newInvalidDocument(t){return new rl(t,0,Nh.min(),Nh.min(),Nh.min(),il.empty(),0)}static newFoundDocument(t,e,i,n){return new rl(t,1,e,Nh.min(),i,n,0)}static newNoDocument(t,e){return new rl(t,2,e,Nh.min(),Nh.min(),il.empty(),0)}static newUnknownDocument(t,e){return new rl(t,3,e,Nh.min(),Nh.min(),il.empty(),2)}convertToFoundDocument(t,e){return!this.createTime.isEqual(Nh.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=t),this.version=t,this.documentType=1,this.data=e,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=il.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=il.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Nh.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(t){return t instanceof rl&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new rl(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sl{constructor(t,e=null,i=[],n=[],r=null,s=null,o=null){this.path=t,this.collectionGroup=e,this.orderBy=i,this.filters=n,this.limit=r,this.startAt=s,this.endAt=o,this.ft=null}}function ol(t,e=null,i=[],n=[],r=null,s=null,o=null){return new sl(t,e,i,n,r,s,o)}function al(t){const e=gh(t);if(null===e.ft){let t=e.path.canonicalString();null!==e.collectionGroup&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map((t=>Bu(t))).join(","),t+="|ob:",t+=e.orderBy.map((t=>function(t){return t.field.canonicalString()+t.dir}(t))).join(","),eu(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map((t=>yu(t))).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map((t=>yu(t))).join(",")),e.ft=t}return e.ft}function hl(t,e){if(t.limit!==e.limit)return!1;if(t.orderBy.length!==e.orderBy.length)return!1;for(let i=0;i<t.orderBy.length;i++)if(!$u(t.orderBy[i],e.orderBy[i]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let i=0;i<t.filters.length;i++)if(!Pu(t.filters[i],e.filters[i]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!qu(t.startAt,e.startAt)&&qu(t.endAt,e.endAt)}function ul(t){return Ph.isDocumentKey(t.path)&&null===t.collectionGroup&&0===t.filters.length}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class ll{constructor(t,e=null,i=[],n=[],r=null,s="F",o=null,a=null){this.path=t,this.collectionGroup=e,this.explicitOrderBy=i,this.filters=n,this.limit=r,this.limitType=s,this.startAt=o,this.endAt=a,this.dt=null,this._t=null,this.startAt,this.endAt}}function cl(t,e,i,n,r,s,o,a){return new ll(t,e,i,n,r,s,o,a)}function dl(t){return new ll(t)}function fl(t){return 0===t.filters.length&&null===t.limit&&null==t.startAt&&null==t.endAt&&(0===t.explicitOrderBy.length||1===t.explicitOrderBy.length&&t.explicitOrderBy[0].field.isKeyField())}function pl(t){return t.explicitOrderBy.length>0?t.explicitOrderBy[0].field:null}function ml(t){for(const e of t.filters){const t=e.getFirstInequalityField();if(null!==t)return t}return null}function gl(t){return null!==t.collectionGroup}function vl(t){const e=gh(t);if(null===e.dt){e.dt=[];const t=ml(e),i=pl(e);if(null!==t&&null===i)t.isKeyField()||e.dt.push(new Qu(t)),e.dt.push(new Qu(Bh.keyField(),"asc"));else{let t=!1;for(const i of e.explicitOrderBy)e.dt.push(i),i.field.isKeyField()&&(t=!0);if(!t){const t=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.dt.push(new Qu(Bh.keyField(),t))}}}return e.dt}function yl(t){const e=gh(t);if(!e._t)if("F"===e.limitType)e._t=ol(e.path,e.collectionGroup,vl(e),e.filters,e.limit,e.startAt,e.endAt);else{const t=[];for(const i of vl(e)){const e="desc"===i.dir?"asc":"desc";t.push(new Qu(i.field,e))}const i=e.endAt?new Tu(e.endAt.position,e.endAt.inclusive):null,n=e.startAt?new Tu(e.startAt.position,e.startAt.inclusive):null;e._t=ol(e.path,e.collectionGroup,t,e.filters,e.limit,i,n)}return e._t}function bl(t,e){e.getFirstInequalityField(),ml(t);const i=t.filters.concat([e]);return new ll(t.path,t.collectionGroup,t.explicitOrderBy.slice(),i,t.limit,t.limitType,t.startAt,t.endAt)}function wl(t,e,i){return new ll(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,i,t.startAt,t.endAt)}function _l(t,e){return hl(yl(t),yl(e))&&t.limitType===e.limitType}function Ml(t){return`${al(yl(t))}|lt:${t.limitType}`}function Al(t){return`Query(target=${function(t){let e=t.path.canonicalString();return null!==t.collectionGroup&&(e+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(e+=`, filters: [${t.filters.map((t=>Uu(t))).join(", ")}]`),eu(t.limit)||(e+=", limit: "+t.limit),t.orderBy.length>0&&(e+=`, orderBy: [${t.orderBy.map((t=>function(t){return`${t.field.canonicalString()} (${t.dir})`}(t))).join(", ")}]`),t.startAt&&(e+=", startAt: ",e+=t.startAt.inclusive?"b:":"a:",e+=t.startAt.position.map((t=>yu(t))).join(",")),t.endAt&&(e+=", endAt: ",e+=t.endAt.inclusive?"a:":"b:",e+=t.endAt.position.map((t=>yu(t))).join(",")),`Target(${e})`}(yl(t))}; limitType=${t.limitType})`}function kl(t,e){return e.isFoundDocument()&&function(t,e){const i=e.key.path;return null!==t.collectionGroup?e.key.hasCollectionId(t.collectionGroup)&&t.path.isPrefixOf(i):Ph.isDocumentKey(t.path)?t.path.isEqual(i):t.path.isImmediateParentOf(i)}(t,e)&&function(t,e){for(const i of vl(t))if(!i.field.isKeyField()&&null===e.data.field(i.field))return!1;return!0}(t,e)&&function(t,e){for(const i of t.filters)if(!i.matches(e))return!1;return!0}(t,e)&&function(t,e){return!(t.startAt&&!function(t,e,i){const n=Iu(t,e,i);return t.inclusive?n<=0:n<0}(t.startAt,vl(t),e))&&!(t.endAt&&!function(t,e,i){const n=Iu(t,e,i);return t.inclusive?n>=0:n>0}(t.endAt,vl(t),e))}(t,e)}function El(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function xl(t){return(e,i)=>{let n=!1;for(const r of vl(t)){const t=Sl(r,e,i);if(0!==t)return t;n=n||r.field.isKeyField()}return 0}}function Sl(t,e,i){const n=t.field.isKeyField()?Ph.comparator(e.key,i.key):function(t,e,i){const n=e.data.field(t),r=i.data.field(t);return null!==n&&null!==r?gu(n,r):ph()}(t.field,e,i);switch(t.dir){case"asc":return n;case"desc":return-1*n;default:return ph()}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tl(t,e){if(t.wt){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:iu(e)?"-0":e}}function Il(t){return{integerValue:""+t}}function ql(t,e){return nu(e)?Il(e):Tl(t,e)}
/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rl{constructor(){this._=void 0}}function Cl(t,e,i){return t instanceof Dl?function(t,e){const i={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:t.seconds,nanos:t.nanoseconds}}}};return e&&(i.fields.__previous_value__=e),{mapValue:i}}(i,e):t instanceof Ol?Bl(t,e):t instanceof Pl?Ul(t,e):function(t,e){const i=Ll(t,e),n=jl(i)+jl(t.gt);return _u(i)&&_u(t.gt)?Il(n):Tl(t.yt,n)}(t,e)}function Nl(t,e,i){return t instanceof Ol?Bl(t,e):t instanceof Pl?Ul(t,e):i}function Ll(t,e){var i;return t instanceof Fl?_u(i=e)||function(t){return!!t&&"doubleValue"in t}(i)?e:{integerValue:0}:null}class Dl extends Rl{}class Ol extends Rl{constructor(t){super(),this.elements=t}}function Bl(t,e){const i=zl(e);for(const e of t.elements)i.some((t=>pu(t,e)))||i.push(e);return{arrayValue:{values:i}}}class Pl extends Rl{constructor(t){super(),this.elements=t}}function Ul(t,e){let i=zl(e);for(const e of t.elements)i=i.filter((t=>!pu(t,e)));return{arrayValue:{values:i}}}class Fl extends Rl{constructor(t,e){super(),this.yt=t,this.gt=e}}function jl(t){return au(t.integerValue||t.doubleValue)}function zl(t){return Mu(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vl{constructor(t,e){this.field=t,this.transform=e}}class Hl{constructor(t,e){this.version=t,this.transformResults=e}}class Kl{constructor(t,e){this.updateTime=t,this.exists=e}static none(){return new Kl}static exists(t){return new Kl(void 0,t)}static updateTime(t){return new Kl(t)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function Gl(t,e){return void 0!==t.updateTime?e.isFoundDocument()&&e.version.isEqual(t.updateTime):void 0===t.exists||t.exists===e.isFoundDocument()}class Wl{}function Ql(t,e){if(!t.hasLocalMutations||e&&0===e.fields.length)return null;if(null===e)return t.isNoDocument()?new rc(t.key,Kl.none()):new Jl(t.key,t.data,Kl.none());{const i=t.data,n=il.empty();let r=new Ju(Bh.comparator);for(let t of e.fields)if(!r.has(t)){let e=i.field(t);null===e&&t.length>1&&(t=t.popLast(),e=i.field(t)),null===e?n.delete(t):n.set(t,e),r=r.add(t)}return new tc(t.key,n,new el(r.toArray()),Kl.none())}}function $l(t,e,i){t instanceof Jl?function(t,e,i){const n=t.value.clone(),r=ic(t.fieldTransforms,e,i.transformResults);n.setAll(r),e.convertToFoundDocument(i.version,n).setHasCommittedMutations()}(t,e,i):t instanceof tc?function(t,e,i){if(!Gl(t.precondition,e))return void e.convertToUnknownDocument(i.version);const n=ic(t.fieldTransforms,e,i.transformResults),r=e.data;r.setAll(ec(t)),r.setAll(n),e.convertToFoundDocument(i.version,r).setHasCommittedMutations()}(t,e,i):function(t,e,i){e.convertToNoDocument(i.version).setHasCommittedMutations()}(0,e,i)}function Zl(t,e,i,n){return t instanceof Jl?function(t,e,i,n){if(!Gl(t.precondition,e))return i;const r=t.value.clone(),s=nc(t.fieldTransforms,n,e);return r.setAll(s),e.convertToFoundDocument(e.version,r).setHasLocalMutations(),null}(t,e,i,n):t instanceof tc?function(t,e,i,n){if(!Gl(t.precondition,e))return i;const r=nc(t.fieldTransforms,n,e),s=e.data;return s.setAll(ec(t)),s.setAll(r),e.convertToFoundDocument(e.version,s).setHasLocalMutations(),null===i?null:i.unionWith(t.fieldMask.fields).unionWith(t.fieldTransforms.map((t=>t.field)))}(t,e,i,n):function(t,e,i){return Gl(t.precondition,e)?(e.convertToNoDocument(e.version).setHasLocalMutations(),null):i}(t,e,i)}function Yl(t,e){let i=null;for(const n of t.fieldTransforms){const t=e.data.field(n.field),r=Ll(n.transform,t||null);null!=r&&(null===i&&(i=il.empty()),i.set(n.field,r))}return i||null}function Xl(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(t,e){return void 0===t&&void 0===e||!(!t||!e)&&Rh(t,e,((t,e)=>function(t,e){return t.field.isEqual(e.field)&&function(t,e){return t instanceof Ol&&e instanceof Ol||t instanceof Pl&&e instanceof Pl?Rh(t.elements,e.elements,pu):t instanceof Fl&&e instanceof Fl?pu(t.gt,e.gt):t instanceof Dl&&e instanceof Dl}(t.transform,e.transform)}(t,e)))}(t.fieldTransforms,e.fieldTransforms)&&(0===t.type?t.value.isEqual(e.value):1!==t.type||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Jl extends Wl{constructor(t,e,i,n=[]){super(),this.key=t,this.value=e,this.precondition=i,this.fieldTransforms=n,this.type=0}getFieldMask(){return null}}class tc extends Wl{constructor(t,e,i,n,r=[]){super(),this.key=t,this.data=e,this.fieldMask=i,this.precondition=n,this.fieldTransforms=r,this.type=1}getFieldMask(){return this.fieldMask}}function ec(t){const e=new Map;return t.fieldMask.fields.forEach((i=>{if(!i.isEmpty()){const n=t.data.field(i);e.set(i,n)}})),e}function ic(t,e,i){const n=new Map;mh(t.length===i.length);for(let r=0;r<i.length;r++){const s=t[r],o=s.transform,a=e.data.field(s.field);n.set(s.field,Nl(o,a,i[r]))}return n}function nc(t,e,i){const n=new Map;for(const r of t){const t=r.transform,s=i.data.field(r.field);n.set(r.field,Cl(t,s,e))}return n}class rc extends Wl{constructor(t,e){super(),this.key=t,this.precondition=e,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class sc extends Wl{constructor(t,e){super(),this.key=t,this.precondition=e,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oc{constructor(t){this.count=t}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ac,hc;function uc(t){switch(t){default:return ph();case vh.CANCELLED:case vh.UNKNOWN:case vh.DEADLINE_EXCEEDED:case vh.RESOURCE_EXHAUSTED:case vh.INTERNAL:case vh.UNAVAILABLE:case vh.UNAUTHENTICATED:return!1;case vh.INVALID_ARGUMENT:case vh.NOT_FOUND:case vh.ALREADY_EXISTS:case vh.PERMISSION_DENIED:case vh.FAILED_PRECONDITION:case vh.ABORTED:case vh.OUT_OF_RANGE:case vh.UNIMPLEMENTED:case vh.DATA_LOSS:return!0}}function lc(t){if(void 0===t)return ch("GRPC error has no .code"),vh.UNKNOWN;switch(t){case ac.OK:return vh.OK;case ac.CANCELLED:return vh.CANCELLED;case ac.UNKNOWN:return vh.UNKNOWN;case ac.DEADLINE_EXCEEDED:return vh.DEADLINE_EXCEEDED;case ac.RESOURCE_EXHAUSTED:return vh.RESOURCE_EXHAUSTED;case ac.INTERNAL:return vh.INTERNAL;case ac.UNAVAILABLE:return vh.UNAVAILABLE;case ac.UNAUTHENTICATED:return vh.UNAUTHENTICATED;case ac.INVALID_ARGUMENT:return vh.INVALID_ARGUMENT;case ac.NOT_FOUND:return vh.NOT_FOUND;case ac.ALREADY_EXISTS:return vh.ALREADY_EXISTS;case ac.PERMISSION_DENIED:return vh.PERMISSION_DENIED;case ac.FAILED_PRECONDITION:return vh.FAILED_PRECONDITION;case ac.ABORTED:return vh.ABORTED;case ac.OUT_OF_RANGE:return vh.OUT_OF_RANGE;case ac.UNIMPLEMENTED:return vh.UNIMPLEMENTED;case ac.DATA_LOSS:return vh.DATA_LOSS;default:return ph()}}(hc=ac||(ac={}))[hc.OK=0]="OK",hc[hc.CANCELLED=1]="CANCELLED",hc[hc.UNKNOWN=2]="UNKNOWN",hc[hc.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",hc[hc.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",hc[hc.NOT_FOUND=5]="NOT_FOUND",hc[hc.ALREADY_EXISTS=6]="ALREADY_EXISTS",hc[hc.PERMISSION_DENIED=7]="PERMISSION_DENIED",hc[hc.UNAUTHENTICATED=16]="UNAUTHENTICATED",hc[hc.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",hc[hc.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",hc[hc.ABORTED=10]="ABORTED",hc[hc.OUT_OF_RANGE=11]="OUT_OF_RANGE",hc[hc.UNIMPLEMENTED=12]="UNIMPLEMENTED",hc[hc.INTERNAL=13]="INTERNAL",hc[hc.UNAVAILABLE=14]="UNAVAILABLE",hc[hc.DATA_LOSS=15]="DATA_LOSS";
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class cc{constructor(t,e){this.mapKeyFn=t,this.equalsFn=e,this.inner={},this.innerSize=0}get(t){const e=this.mapKeyFn(t),i=this.inner[e];if(void 0!==i)for(const[e,n]of i)if(this.equalsFn(e,t))return n}has(t){return void 0!==this.get(t)}set(t,e){const i=this.mapKeyFn(t),n=this.inner[i];if(void 0===n)return this.inner[i]=[[t,e]],void this.innerSize++;for(let i=0;i<n.length;i++)if(this.equalsFn(n[i][0],t))return void(n[i]=[t,e]);n.push([t,e]),this.innerSize++}delete(t){const e=this.mapKeyFn(t),i=this.inner[e];if(void 0===i)return!1;for(let n=0;n<i.length;n++)if(this.equalsFn(i[n][0],t))return 1===i.length?delete this.inner[e]:i.splice(n,1),this.innerSize--,!0;return!1}forEach(t){Jh(this.inner,((e,i)=>{for(const[e,n]of i)t(e,n)}))}isEmpty(){return tu(this.inner)}size(){return this.innerSize}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dc=new Zu(Ph.comparator);function fc(){return dc}const pc=new Zu(Ph.comparator);function mc(...t){let e=pc;for(const i of t)e=e.insert(i.key,i);return e}function gc(t){let e=pc;return t.forEach(((t,i)=>e=e.insert(t,i.overlayedDocument))),e}function vc(){return bc()}function yc(){return bc()}function bc(){return new cc((t=>t.toString()),((t,e)=>t.isEqual(e)))}const wc=new Zu(Ph.comparator),_c=new Ju(Ph.comparator);function Mc(...t){let e=_c;for(const i of t)e=e.add(i);return e}const Ac=new Ju(qh);function kc(){return Ac}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ec{constructor(t,e,i,n,r){this.snapshotVersion=t,this.targetChanges=e,this.targetMismatches=i,this.documentUpdates=n,this.resolvedLimboDocuments=r}static createSynthesizedRemoteEventForCurrentChange(t,e,i){const n=new Map;return n.set(t,xc.createSynthesizedTargetChangeForCurrentChange(t,e,i)),new Ec(Nh.min(),n,kc(),fc(),Mc())}}class xc{constructor(t,e,i,n,r){this.resumeToken=t,this.current=e,this.addedDocuments=i,this.modifiedDocuments=n,this.removedDocuments=r}static createSynthesizedTargetChangeForCurrentChange(t,e,i){return new xc(i,e,Mc(),Mc(),Mc())}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sc{constructor(t,e,i,n){this.It=t,this.removedTargetIds=e,this.key=i,this.Tt=n}}class Tc{constructor(t,e){this.targetId=t,this.Et=e}}class Ic{constructor(t,e,i=ru.EMPTY_BYTE_STRING,n=null){this.state=t,this.targetIds=e,this.resumeToken=i,this.cause=n}}class qc{constructor(){this.At=0,this.Rt=Nc(),this.bt=ru.EMPTY_BYTE_STRING,this.Pt=!1,this.vt=!0}get current(){return this.Pt}get resumeToken(){return this.bt}get Vt(){return 0!==this.At}get St(){return this.vt}Dt(t){t.approximateByteSize()>0&&(this.vt=!0,this.bt=t)}Ct(){let t=Mc(),e=Mc(),i=Mc();return this.Rt.forEach(((n,r)=>{switch(r){case 0:t=t.add(n);break;case 2:e=e.add(n);break;case 1:i=i.add(n);break;default:ph()}})),new xc(this.bt,this.Pt,t,e,i)}xt(){this.vt=!1,this.Rt=Nc()}Nt(t,e){this.vt=!0,this.Rt=this.Rt.insert(t,e)}kt(t){this.vt=!0,this.Rt=this.Rt.remove(t)}Ot(){this.At+=1}Mt(){this.At-=1}Ft(){this.vt=!0,this.Pt=!0}}class Rc{constructor(t){this.$t=t,this.Bt=new Map,this.Lt=fc(),this.qt=Cc(),this.Ut=new Ju(qh)}Kt(t){for(const e of t.It)t.Tt&&t.Tt.isFoundDocument()?this.Gt(e,t.Tt):this.Qt(e,t.key,t.Tt);for(const e of t.removedTargetIds)this.Qt(e,t.key,t.Tt)}jt(t){this.forEachTarget(t,(e=>{const i=this.Wt(e);switch(t.state){case 0:this.zt(e)&&i.Dt(t.resumeToken);break;case 1:i.Mt(),i.Vt||i.xt(),i.Dt(t.resumeToken);break;case 2:i.Mt(),i.Vt||this.removeTarget(e);break;case 3:this.zt(e)&&(i.Ft(),i.Dt(t.resumeToken));break;case 4:this.zt(e)&&(this.Ht(e),i.Dt(t.resumeToken));break;default:ph()}}))}forEachTarget(t,e){t.targetIds.length>0?t.targetIds.forEach(e):this.Bt.forEach(((t,i)=>{this.zt(i)&&e(i)}))}Jt(t){const e=t.targetId,i=t.Et.count,n=this.Yt(e);if(n){const t=n.target;if(ul(t))if(0===i){const i=new Ph(t.path);this.Qt(e,i,rl.newNoDocument(i,Nh.min()))}else mh(1===i);else this.Xt(e)!==i&&(this.Ht(e),this.Ut=this.Ut.add(e))}}Zt(t){const e=new Map;this.Bt.forEach(((i,n)=>{const r=this.Yt(n);if(r){if(i.current&&ul(r.target)){const e=new Ph(r.target.path);null!==this.Lt.get(e)||this.te(n,e)||this.Qt(n,e,rl.newNoDocument(e,t))}i.St&&(e.set(n,i.Ct()),i.xt())}}));let i=Mc();this.qt.forEach(((t,e)=>{let n=!0;e.forEachWhile((t=>{const e=this.Yt(t);return!e||2===e.purpose||(n=!1,!1)})),n&&(i=i.add(t))})),this.Lt.forEach(((e,i)=>i.setReadTime(t)));const n=new Ec(t,e,this.Ut,this.Lt,i);return this.Lt=fc(),this.qt=Cc(),this.Ut=new Ju(qh),n}Gt(t,e){if(!this.zt(t))return;const i=this.te(t,e.key)?2:0;this.Wt(t).Nt(e.key,i),this.Lt=this.Lt.insert(e.key,e),this.qt=this.qt.insert(e.key,this.ee(e.key).add(t))}Qt(t,e,i){if(!this.zt(t))return;const n=this.Wt(t);this.te(t,e)?n.Nt(e,1):n.kt(e),this.qt=this.qt.insert(e,this.ee(e).delete(t)),i&&(this.Lt=this.Lt.insert(e,i))}removeTarget(t){this.Bt.delete(t)}Xt(t){const e=this.Wt(t).Ct();return this.$t.getRemoteKeysForTarget(t).size+e.addedDocuments.size-e.removedDocuments.size}Ot(t){this.Wt(t).Ot()}Wt(t){let e=this.Bt.get(t);return e||(e=new qc,this.Bt.set(t,e)),e}ee(t){let e=this.qt.get(t);return e||(e=new Ju(qh),this.qt=this.qt.insert(t,e)),e}zt(t){const e=null!==this.Yt(t);return e||lh("WatchChangeAggregator","Detected inactive target",t),e}Yt(t){const e=this.Bt.get(t);return e&&e.Vt?null:this.$t.ne(t)}Ht(t){this.Bt.set(t,new qc),this.$t.getRemoteKeysForTarget(t).forEach((e=>{this.Qt(t,e,null)}))}te(t,e){return this.$t.getRemoteKeysForTarget(t).has(e)}}function Cc(){return new Zu(Ph.comparator)}function Nc(){return new Zu(Ph.comparator)}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lc={asc:"ASCENDING",desc:"DESCENDING"},Dc={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Oc={and:"AND",or:"OR"};class Bc{constructor(t,e){this.databaseId=t,this.wt=e}}function Pc(t,e){return t.wt?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function Uc(t,e){return t.wt?e.toBase64():e.toUint8Array()}function Fc(t,e){return Pc(t,e.toTimestamp())}function jc(t){return mh(!!t),Nh.fromTimestamp(function(t){const e=ou(t);return new Ch(e.seconds,e.nanos)}(t))}function zc(t,e){return function(t){return new Dh(["projects",t.projectId,"databases",t.database])}(t).child("documents").child(e).canonicalString()}function Vc(t){const e=Dh.fromString(t);return mh(ud(e)),e}function Hc(t,e){return zc(t.databaseId,e.path)}function Kc(t,e){const i=Vc(e);if(i.get(1)!==t.databaseId.projectId)throw new yh(vh.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+i.get(1)+" vs "+t.databaseId.projectId);if(i.get(3)!==t.databaseId.database)throw new yh(vh.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+i.get(3)+" vs "+t.databaseId.database);return new Ph($c(i))}function Gc(t,e){return zc(t.databaseId,e)}function Wc(t){const e=Vc(t);return 4===e.length?Dh.emptyPath():$c(e)}function Qc(t){return new Dh(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function $c(t){return mh(t.length>4&&"documents"===t.get(4)),t.popFirst(5)}function Zc(t,e,i){return{name:Hc(t,e),fields:i.value.mapValue.fields}}function Yc(t,e){let i;if(e instanceof Jl)i={update:Zc(t,e.key,e.value)};else if(e instanceof rc)i={delete:Hc(t,e.key)};else if(e instanceof tc)i={update:Zc(t,e.key,e.data),updateMask:hd(e.fieldMask)};else{if(!(e instanceof sc))return ph();i={verify:Hc(t,e.key)}}return e.fieldTransforms.length>0&&(i.updateTransforms=e.fieldTransforms.map((t=>function(t,e){const i=e.transform;if(i instanceof Dl)return{fieldPath:e.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(i instanceof Ol)return{fieldPath:e.field.canonicalString(),appendMissingElements:{values:i.elements}};if(i instanceof Pl)return{fieldPath:e.field.canonicalString(),removeAllFromArray:{values:i.elements}};if(i instanceof Fl)return{fieldPath:e.field.canonicalString(),increment:i.gt};throw ph()}(0,t)))),e.precondition.isNone||(i.currentDocument=function(t,e){return void 0!==e.updateTime?{updateTime:Fc(t,e.updateTime)}:void 0!==e.exists?{exists:e.exists}:ph()}(t,e.precondition)),i}function Xc(t,e){return{documents:[Gc(t,e.path)]}}function Jc(t,e){const i={structuredQuery:{}},n=e.path;null!==e.collectionGroup?(i.parent=Gc(t,n),i.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i.parent=Gc(t,n.popLast()),i.structuredQuery.from=[{collectionId:n.lastSegment()}]);const r=function(t){if(0!==t.length)return ad(Nu.create(t,"and"))}(e.filters);r&&(i.structuredQuery.where=r);const s=function(t){if(0!==t.length)return t.map((t=>function(t){return{field:sd(t.field),direction:id(t.dir)}}(t)))}(e.orderBy);s&&(i.structuredQuery.orderBy=s);const o=function(t,e){return t.wt||eu(e)?e:{value:e}}(t,e.limit);var a;return null!==o&&(i.structuredQuery.limit=o),e.startAt&&(i.structuredQuery.startAt={before:(a=e.startAt).inclusive,values:a.position}),e.endAt&&(i.structuredQuery.endAt=function(t){return{before:!t.inclusive,values:t.position}}(e.endAt)),i}function td(t){let e=Wc(t.parent);const i=t.structuredQuery,n=i.from?i.from.length:0;let r=null;if(n>0){mh(1===n);const t=i.from[0];t.allDescendants?r=t.collectionId:e=e.child(t.collectionId)}let s=[];i.where&&(s=function(t){const e=ed(t);return e instanceof Nu&&Du(e)?e.getFilters():[e]}(i.where));let o=[];i.orderBy&&(o=i.orderBy.map((t=>function(t){return new Qu(od(t.field),function(t){switch(t){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(t.direction))}(t))));let a=null;i.limit&&(a=function(t){let e;return e="object"==typeof t?t.value:t,eu(e)?null:e}(i.limit));let h=null;i.startAt&&(h=function(t){const e=!!t.before,i=t.values||[];return new Tu(i,e)}(i.startAt));let u=null;return i.endAt&&(u=function(t){const e=!t.before,i=t.values||[];return new Tu(i,e)}(i.endAt)),cl(e,r,o,s,a,"F",h,u)}function ed(t){return void 0!==t.unaryFilter?function(t){switch(t.unaryFilter.op){case"IS_NAN":const e=od(t.unaryFilter.field);return Cu.create(e,"==",{doubleValue:NaN});case"IS_NULL":const i=od(t.unaryFilter.field);return Cu.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const n=od(t.unaryFilter.field);return Cu.create(n,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const r=od(t.unaryFilter.field);return Cu.create(r,"!=",{nullValue:"NULL_VALUE"});default:return ph()}}(t):void 0!==t.fieldFilter?function(t){return Cu.create(od(t.fieldFilter.field),function(t){switch(t){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return ph()}}(t.fieldFilter.op),t.fieldFilter.value)}(t):void 0!==t.compositeFilter?function(t){return Nu.create(t.compositeFilter.filters.map((t=>ed(t))),function(t){switch(t){case"AND":return"and";case"OR":return"or";default:return ph()}}(t.compositeFilter.op))}(t):ph()}function id(t){return Lc[t]}function nd(t){return Dc[t]}function rd(t){return Oc[t]}function sd(t){return{fieldPath:t.canonicalString()}}function od(t){return Bh.fromServerFormat(t.fieldPath)}function ad(t){return t instanceof Cu?function(t){if("=="===t.op){if(ku(t.value))return{unaryFilter:{field:sd(t.field),op:"IS_NAN"}};if(Au(t.value))return{unaryFilter:{field:sd(t.field),op:"IS_NULL"}}}else if("!="===t.op){if(ku(t.value))return{unaryFilter:{field:sd(t.field),op:"IS_NOT_NAN"}};if(Au(t.value))return{unaryFilter:{field:sd(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:sd(t.field),op:nd(t.op),value:t.value}}}(t):t instanceof Nu?function(t){const e=t.getFilters().map((t=>ad(t)));return 1===e.length?e[0]:{compositeFilter:{op:rd(t.op),filters:e}}}(t):ph()}function hd(t){const e=[];return t.fields.forEach((t=>e.push(t.canonicalString()))),{fieldPaths:e}}function ud(t){return t.length>=4&&"projects"===t.get(0)&&"databases"===t.get(2)}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ld=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],cd=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],dd=cd;
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class fd{constructor(t,e,i,n){this.batchId=t,this.localWriteTime=e,this.baseMutations=i,this.mutations=n}applyToRemoteDocument(t,e){const i=e.mutationResults;for(let e=0;e<this.mutations.length;e++){const n=this.mutations[e];n.key.isEqual(t.key)&&$l(n,t,i[e])}}applyToLocalView(t,e){for(const i of this.baseMutations)i.key.isEqual(t.key)&&(e=Zl(i,t,e,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(t.key)&&(e=Zl(i,t,e,this.localWriteTime));return e}applyToLocalDocumentSet(t,e){const i=yc();return this.mutations.forEach((n=>{const r=t.get(n.key),s=r.overlayedDocument;let o=this.applyToLocalView(s,r.mutatedFields);o=e.has(n.key)?null:o;const a=Ql(s,o);null!==a&&i.set(n.key,a),s.isValidDocument()||s.convertToNoDocument(Nh.min())})),i}keys(){return this.mutations.reduce(((t,e)=>t.add(e.key)),Mc())}isEqual(t){return this.batchId===t.batchId&&Rh(this.mutations,t.mutations,((t,e)=>Xl(t,e)))&&Rh(this.baseMutations,t.baseMutations,((t,e)=>Xl(t,e)))}}class pd{constructor(t,e,i,n){this.batch=t,this.commitVersion=e,this.mutationResults=i,this.docVersions=n}static from(t,e,i){mh(t.mutations.length===i.length);let n=wc;const r=t.mutations;for(let t=0;t<r.length;t++)n=n.insert(r[t].key,i[t].version);return new pd(t,e,i,n)}}
/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class md{constructor(t,e){this.largestBatchId=t,this.mutation=e}getKey(){return this.mutation.key}isEqual(t){return null!==t&&this.mutation===t.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gd{constructor(t,e,i,n,r=Nh.min(),s=Nh.min(),o=ru.EMPTY_BYTE_STRING){this.target=t,this.targetId=e,this.purpose=i,this.sequenceNumber=n,this.snapshotVersion=r,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=o}withSequenceNumber(t){return new gd(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}withResumeToken(t,e){return new gd(this.target,this.targetId,this.purpose,this.sequenceNumber,e,this.lastLimboFreeSnapshotVersion,t)}withLastLimboFreeSnapshotVersion(t){return new gd(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken)}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vd{constructor(t){this.ie=t}}function yd(t){const e=td({parent:t.parent,structuredQuery:t.structuredQuery});return"LAST"===t.limitType?wl(e,e.limit,"L"):e}
/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bd{constructor(){}ue(t,e){this.ce(t,e),e.ae()}ce(t,e){if("nullValue"in t)this.he(e,5);else if("booleanValue"in t)this.he(e,10),e.le(t.booleanValue?1:0);else if("integerValue"in t)this.he(e,15),e.le(au(t.integerValue));else if("doubleValue"in t){const i=au(t.doubleValue);isNaN(i)?this.he(e,13):(this.he(e,15),iu(i)?e.le(0):e.le(i))}else if("timestampValue"in t){const i=t.timestampValue;this.he(e,20),"string"==typeof i?e.fe(i):(e.fe(`${i.seconds||""}`),e.le(i.nanos||0))}else if("stringValue"in t)this.de(t.stringValue,e),this._e(e);else if("bytesValue"in t)this.he(e,30),e.we(hu(t.bytesValue)),this._e(e);else if("referenceValue"in t)this.me(t.referenceValue,e);else if("geoPointValue"in t){const i=t.geoPointValue;this.he(e,45),e.le(i.latitude||0),e.le(i.longitude||0)}else"mapValue"in t?Su(t)?this.he(e,Number.MAX_SAFE_INTEGER):(this.ge(t.mapValue,e),this._e(e)):"arrayValue"in t?(this.ye(t.arrayValue,e),this._e(e)):ph()}de(t,e){this.he(e,25),this.pe(t,e)}pe(t,e){e.fe(t)}ge(t,e){const i=t.fields||{};this.he(e,55);for(const t of Object.keys(i))this.de(t,e),this.ce(i[t],e)}ye(t,e){const i=t.values||[];this.he(e,50);for(const t of i)this.ce(t,e)}me(t,e){this.he(e,37),Ph.fromName(t).path.forEach((t=>{this.he(e,60),this.pe(t,e)}))}he(t,e){t.le(e)}_e(t){t.le(2)}}bd.Ie=new bd;
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class wd{constructor(){this.Je=new _d}addToCollectionParentIndex(t,e){return this.Je.add(e),Wh.resolve()}getCollectionParents(t,e){return Wh.resolve(this.Je.getEntries(e))}addFieldIndex(t,e){return Wh.resolve()}deleteFieldIndex(t,e){return Wh.resolve()}getDocumentsMatchingTarget(t,e){return Wh.resolve(null)}getIndexType(t,e){return Wh.resolve(0)}getFieldIndexes(t,e){return Wh.resolve([])}getNextCollectionGroupToUpdate(t){return Wh.resolve(null)}getMinOffset(t,e){return Wh.resolve(zh.min())}getMinOffsetFromCollectionGroup(t,e){return Wh.resolve(zh.min())}updateCollectionGroup(t,e,i){return Wh.resolve()}updateIndexEntries(t,e){return Wh.resolve()}}class _d{constructor(){this.index={}}add(t){const e=t.lastSegment(),i=t.popLast(),n=this.index[e]||new Ju(Dh.comparator),r=!n.has(i);return this.index[e]=n.add(i),r}has(t){const e=t.lastSegment(),i=t.popLast(),n=this.index[e];return n&&n.has(i)}getEntries(t){return(this.index[t]||new Ju(Dh.comparator)).toArray()}}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */new Uint8Array(0);class Md{constructor(t,e,i){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=e,this.maximumSequenceNumbersToCollect=i}static withCacheSize(t){return new Md(t,Md.DEFAULT_COLLECTION_PERCENTILE,Md.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Md.DEFAULT_COLLECTION_PERCENTILE=10,Md.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Md.DEFAULT=new Md(41943040,Md.DEFAULT_COLLECTION_PERCENTILE,Md.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Md.DISABLED=new Md(-1,0,0);
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class Ad{constructor(t){this.bn=t}next(){return this.bn+=2,this.bn}static Pn(){return new Ad(0)}static vn(){return new Ad(-1)}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class kd{constructor(){this.changes=new cc((t=>t.toString()),((t,e)=>t.isEqual(e))),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,e){this.assertNotApplied(),this.changes.set(t,rl.newInvalidDocument(t).setReadTime(e))}getEntry(t,e){this.assertNotApplied();const i=this.changes.get(e);return void 0!==i?Wh.resolve(i):this.getFromCache(t,e)}getEntries(t,e){return this.getAllFromCache(t,e)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class Ed{constructor(t,e){this.overlayedDocument=t,this.mutatedFields=e}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xd{constructor(t,e,i,n){this.remoteDocumentCache=t,this.mutationQueue=e,this.documentOverlayCache=i,this.indexManager=n}getDocument(t,e){let i=null;return this.documentOverlayCache.getOverlay(t,e).next((n=>(i=n,this.remoteDocumentCache.getEntry(t,e)))).next((t=>(null!==i&&Zl(i.mutation,t,el.empty(),Ch.now()),t)))}getDocuments(t,e){return this.remoteDocumentCache.getEntries(t,e).next((e=>this.getLocalViewOfDocuments(t,e,Mc()).next((()=>e))))}getLocalViewOfDocuments(t,e,i=Mc()){const n=vc();return this.populateOverlays(t,n,e).next((()=>this.computeViews(t,e,n,i).next((t=>{let e=mc();return t.forEach(((t,i)=>{e=e.insert(t,i.overlayedDocument)})),e}))))}getOverlayedDocuments(t,e){const i=vc();return this.populateOverlays(t,i,e).next((()=>this.computeViews(t,e,i,Mc())))}populateOverlays(t,e,i){const n=[];return i.forEach((t=>{e.has(t)||n.push(t)})),this.documentOverlayCache.getOverlays(t,n).next((t=>{t.forEach(((t,i)=>{e.set(t,i)}))}))}computeViews(t,e,i,n){let r=fc();const s=bc(),o=bc();return e.forEach(((t,e)=>{const o=i.get(e.key);n.has(e.key)&&(void 0===o||o.mutation instanceof tc)?r=r.insert(e.key,e):void 0!==o?(s.set(e.key,o.mutation.getFieldMask()),Zl(o.mutation,e,o.mutation.getFieldMask(),Ch.now())):s.set(e.key,el.empty())})),this.recalculateAndSaveOverlays(t,r).next((t=>(t.forEach(((t,e)=>s.set(t,e))),e.forEach(((t,e)=>{var i;return o.set(t,new Ed(e,null!==(i=s.get(t))&&void 0!==i?i:null))})),o)))}recalculateAndSaveOverlays(t,e){const i=bc();let n=new Zu(((t,e)=>t-e)),r=Mc();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,e).next((t=>{for(const r of t)r.keys().forEach((t=>{const s=e.get(t);if(null===s)return;let o=i.get(t)||el.empty();o=r.applyToLocalView(s,o),i.set(t,o);const a=(n.get(r.batchId)||Mc()).add(t);n=n.insert(r.batchId,a)}))})).next((()=>{const s=[],o=n.getReverseIterator();for(;o.hasNext();){const n=o.getNext(),a=n.key,h=n.value,u=yc();h.forEach((t=>{if(!r.has(t)){const n=Ql(e.get(t),i.get(t));null!==n&&u.set(t,n),r=r.add(t)}})),s.push(this.documentOverlayCache.saveOverlays(t,a,u))}return Wh.waitFor(s)})).next((()=>i))}recalculateAndSaveOverlaysForDocumentKeys(t,e){return this.remoteDocumentCache.getEntries(t,e).next((e=>this.recalculateAndSaveOverlays(t,e)))}getDocumentsMatchingQuery(t,e,i){return function(t){return Ph.isDocumentKey(t.path)&&null===t.collectionGroup&&0===t.filters.length}(e)?this.getDocumentsMatchingDocumentQuery(t,e.path):gl(e)?this.getDocumentsMatchingCollectionGroupQuery(t,e,i):this.getDocumentsMatchingCollectionQuery(t,e,i)}getNextDocuments(t,e,i,n){return this.remoteDocumentCache.getAllFromCollectionGroup(t,e,i,n).next((r=>{const s=n-r.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,e,i.largestBatchId,n-r.size):Wh.resolve(vc());let o=-1,a=r;return s.next((e=>Wh.forEach(e,((e,i)=>(o<i.largestBatchId&&(o=i.largestBatchId),r.get(e)?Wh.resolve():this.remoteDocumentCache.getEntry(t,e).next((t=>{a=a.insert(e,t)}))))).next((()=>this.populateOverlays(t,e,r))).next((()=>this.computeViews(t,a,e,Mc()))).next((t=>({batchId:o,changes:gc(t)})))))}))}getDocumentsMatchingDocumentQuery(t,e){return this.getDocument(t,new Ph(e)).next((t=>{let e=mc();return t.isFoundDocument()&&(e=e.insert(t.key,t)),e}))}getDocumentsMatchingCollectionGroupQuery(t,e,i){const n=e.collectionGroup;let r=mc();return this.indexManager.getCollectionParents(t,n).next((s=>Wh.forEach(s,(s=>{const o=function(t,e){return new ll(e,null,t.explicitOrderBy.slice(),t.filters.slice(),t.limit,t.limitType,t.startAt,t.endAt)}(e,s.child(n));return this.getDocumentsMatchingCollectionQuery(t,o,i).next((t=>{t.forEach(((t,e)=>{r=r.insert(t,e)}))}))})).next((()=>r))))}getDocumentsMatchingCollectionQuery(t,e,i){let n;return this.documentOverlayCache.getOverlaysForCollection(t,e.path,i.largestBatchId).next((r=>(n=r,this.remoteDocumentCache.getDocumentsMatchingQuery(t,e,i,n)))).next((t=>{n.forEach(((e,i)=>{const n=i.getKey();null===t.get(n)&&(t=t.insert(n,rl.newInvalidDocument(n)))}));let i=mc();return t.forEach(((t,r)=>{const s=n.get(t);void 0!==s&&Zl(s.mutation,r,el.empty(),Ch.now()),kl(e,r)&&(i=i.insert(t,r))})),i}))}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sd{constructor(t){this.yt=t,this.Zn=new Map,this.ts=new Map}getBundleMetadata(t,e){return Wh.resolve(this.Zn.get(e))}saveBundleMetadata(t,e){var i;return this.Zn.set(e.id,{id:(i=e).id,version:i.version,createTime:jc(i.createTime)}),Wh.resolve()}getNamedQuery(t,e){return Wh.resolve(this.ts.get(e))}saveNamedQuery(t,e){return this.ts.set(e.name,function(t){return{name:t.name,query:yd(t.bundledQuery),readTime:jc(t.readTime)}}(e)),Wh.resolve()}}
/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Td{constructor(){this.overlays=new Zu(Ph.comparator),this.es=new Map}getOverlay(t,e){return Wh.resolve(this.overlays.get(e))}getOverlays(t,e){const i=vc();return Wh.forEach(e,(e=>this.getOverlay(t,e).next((t=>{null!==t&&i.set(e,t)})))).next((()=>i))}saveOverlays(t,e,i){return i.forEach(((i,n)=>{this.oe(t,e,n)})),Wh.resolve()}removeOverlaysForBatchId(t,e,i){const n=this.es.get(i);return void 0!==n&&(n.forEach((t=>this.overlays=this.overlays.remove(t))),this.es.delete(i)),Wh.resolve()}getOverlaysForCollection(t,e,i){const n=vc(),r=e.length+1,s=new Ph(e.child("")),o=this.overlays.getIteratorFrom(s);for(;o.hasNext();){const t=o.getNext().value,s=t.getKey();if(!e.isPrefixOf(s.path))break;s.path.length===r&&t.largestBatchId>i&&n.set(t.getKey(),t)}return Wh.resolve(n)}getOverlaysForCollectionGroup(t,e,i,n){let r=new Zu(((t,e)=>t-e));const s=this.overlays.getIterator();for(;s.hasNext();){const t=s.getNext().value;if(t.getKey().getCollectionGroup()===e&&t.largestBatchId>i){let e=r.get(t.largestBatchId);null===e&&(e=vc(),r=r.insert(t.largestBatchId,e)),e.set(t.getKey(),t)}}const o=vc(),a=r.getIterator();for(;a.hasNext()&&(a.getNext().value.forEach(((t,e)=>o.set(t,e))),!(o.size()>=n)););return Wh.resolve(o)}oe(t,e,i){const n=this.overlays.get(i.key);if(null!==n){const t=this.es.get(n.largestBatchId).delete(i.key);this.es.set(n.largestBatchId,t)}this.overlays=this.overlays.insert(i.key,new md(e,i));let r=this.es.get(e);void 0===r&&(r=Mc(),this.es.set(e,r)),this.es.set(e,r.add(i.key))}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Id{constructor(){this.ns=new Ju(qd.ss),this.rs=new Ju(qd.os)}isEmpty(){return this.ns.isEmpty()}addReference(t,e){const i=new qd(t,e);this.ns=this.ns.add(i),this.rs=this.rs.add(i)}us(t,e){t.forEach((t=>this.addReference(t,e)))}removeReference(t,e){this.cs(new qd(t,e))}hs(t,e){t.forEach((t=>this.removeReference(t,e)))}ls(t){const e=new Ph(new Dh([])),i=new qd(e,t),n=new qd(e,t+1),r=[];return this.rs.forEachInRange([i,n],(t=>{this.cs(t),r.push(t.key)})),r}fs(){this.ns.forEach((t=>this.cs(t)))}cs(t){this.ns=this.ns.delete(t),this.rs=this.rs.delete(t)}ds(t){const e=new Ph(new Dh([])),i=new qd(e,t),n=new qd(e,t+1);let r=Mc();return this.rs.forEachInRange([i,n],(t=>{r=r.add(t.key)})),r}containsKey(t){const e=new qd(t,0),i=this.ns.firstAfterOrEqual(e);return null!==i&&t.isEqual(i.key)}}class qd{constructor(t,e){this.key=t,this._s=e}static ss(t,e){return Ph.comparator(t.key,e.key)||qh(t._s,e._s)}static os(t,e){return qh(t._s,e._s)||Ph.comparator(t.key,e.key)}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rd{constructor(t,e){this.indexManager=t,this.referenceDelegate=e,this.mutationQueue=[],this.ws=1,this.gs=new Ju(qd.ss)}checkEmpty(t){return Wh.resolve(0===this.mutationQueue.length)}addMutationBatch(t,e,i,n){const r=this.ws;this.ws++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const s=new fd(r,e,i,n);this.mutationQueue.push(s);for(const e of n)this.gs=this.gs.add(new qd(e.key,r)),this.indexManager.addToCollectionParentIndex(t,e.key.path.popLast());return Wh.resolve(s)}lookupMutationBatch(t,e){return Wh.resolve(this.ys(e))}getNextMutationBatchAfterBatchId(t,e){const i=e+1,n=this.ps(i),r=n<0?0:n;return Wh.resolve(this.mutationQueue.length>r?this.mutationQueue[r]:null)}getHighestUnacknowledgedBatchId(){return Wh.resolve(0===this.mutationQueue.length?-1:this.ws-1)}getAllMutationBatches(t){return Wh.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,e){const i=new qd(e,0),n=new qd(e,Number.POSITIVE_INFINITY),r=[];return this.gs.forEachInRange([i,n],(t=>{const e=this.ys(t._s);r.push(e)})),Wh.resolve(r)}getAllMutationBatchesAffectingDocumentKeys(t,e){let i=new Ju(qh);return e.forEach((t=>{const e=new qd(t,0),n=new qd(t,Number.POSITIVE_INFINITY);this.gs.forEachInRange([e,n],(t=>{i=i.add(t._s)}))})),Wh.resolve(this.Is(i))}getAllMutationBatchesAffectingQuery(t,e){const i=e.path,n=i.length+1;let r=i;Ph.isDocumentKey(r)||(r=r.child(""));const s=new qd(new Ph(r),0);let o=new Ju(qh);return this.gs.forEachWhile((t=>{const e=t.key.path;return!!i.isPrefixOf(e)&&(e.length===n&&(o=o.add(t._s)),!0)}),s),Wh.resolve(this.Is(o))}Is(t){const e=[];return t.forEach((t=>{const i=this.ys(t);null!==i&&e.push(i)})),e}removeMutationBatch(t,e){mh(0===this.Ts(e.batchId,"removed")),this.mutationQueue.shift();let i=this.gs;return Wh.forEach(e.mutations,(n=>{const r=new qd(n.key,e.batchId);return i=i.delete(r),this.referenceDelegate.markPotentiallyOrphaned(t,n.key)})).next((()=>{this.gs=i}))}An(t){}containsKey(t,e){const i=new qd(e,0),n=this.gs.firstAfterOrEqual(i);return Wh.resolve(e.isEqual(n&&n.key))}performConsistencyCheck(t){return this.mutationQueue.length,Wh.resolve()}Ts(t,e){return this.ps(t)}ps(t){return 0===this.mutationQueue.length?0:t-this.mutationQueue[0].batchId}ys(t){const e=this.ps(t);return e<0||e>=this.mutationQueue.length?null:this.mutationQueue[e]}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cd{constructor(t){this.Es=t,this.docs=new Zu(Ph.comparator),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,e){const i=e.key,n=this.docs.get(i),r=n?n.size:0,s=this.Es(e);return this.docs=this.docs.insert(i,{document:e.mutableCopy(),size:s}),this.size+=s-r,this.indexManager.addToCollectionParentIndex(t,i.path.popLast())}removeEntry(t){const e=this.docs.get(t);e&&(this.docs=this.docs.remove(t),this.size-=e.size)}getEntry(t,e){const i=this.docs.get(e);return Wh.resolve(i?i.document.mutableCopy():rl.newInvalidDocument(e))}getEntries(t,e){let i=fc();return e.forEach((t=>{const e=this.docs.get(t);i=i.insert(t,e?e.document.mutableCopy():rl.newInvalidDocument(t))})),Wh.resolve(i)}getDocumentsMatchingQuery(t,e,i,n){let r=fc();const s=e.path,o=new Ph(s.child("")),a=this.docs.getIteratorFrom(o);for(;a.hasNext();){const{key:t,value:{document:o}}=a.getNext();if(!s.isPrefixOf(t.path))break;t.path.length>s.length+1||Vh(jh(o),i)<=0||(n.has(o.key)||kl(e,o))&&(r=r.insert(o.key,o.mutableCopy()))}return Wh.resolve(r)}getAllFromCollectionGroup(t,e,i,n){ph()}As(t,e){return Wh.forEach(this.docs,(t=>e(t)))}newChangeBuffer(t){return new Nd(this)}getSize(t){return Wh.resolve(this.size)}}class Nd extends kd{constructor(t){super(),this.Yn=t}applyChanges(t){const e=[];return this.changes.forEach(((i,n)=>{n.isValidDocument()?e.push(this.Yn.addEntry(t,n)):this.Yn.removeEntry(i)})),Wh.waitFor(e)}getFromCache(t,e){return this.Yn.getEntry(t,e)}getAllFromCache(t,e){return this.Yn.getEntries(t,e)}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ld{constructor(t){this.persistence=t,this.Rs=new cc((t=>al(t)),hl),this.lastRemoteSnapshotVersion=Nh.min(),this.highestTargetId=0,this.bs=0,this.Ps=new Id,this.targetCount=0,this.vs=Ad.Pn()}forEachTarget(t,e){return this.Rs.forEach(((t,i)=>e(i))),Wh.resolve()}getLastRemoteSnapshotVersion(t){return Wh.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return Wh.resolve(this.bs)}allocateTargetId(t){return this.highestTargetId=this.vs.next(),Wh.resolve(this.highestTargetId)}setTargetsMetadata(t,e,i){return i&&(this.lastRemoteSnapshotVersion=i),e>this.bs&&(this.bs=e),Wh.resolve()}Dn(t){this.Rs.set(t.target,t);const e=t.targetId;e>this.highestTargetId&&(this.vs=new Ad(e),this.highestTargetId=e),t.sequenceNumber>this.bs&&(this.bs=t.sequenceNumber)}addTargetData(t,e){return this.Dn(e),this.targetCount+=1,Wh.resolve()}updateTargetData(t,e){return this.Dn(e),Wh.resolve()}removeTargetData(t,e){return this.Rs.delete(e.target),this.Ps.ls(e.targetId),this.targetCount-=1,Wh.resolve()}removeTargets(t,e,i){let n=0;const r=[];return this.Rs.forEach(((s,o)=>{o.sequenceNumber<=e&&null===i.get(o.targetId)&&(this.Rs.delete(s),r.push(this.removeMatchingKeysForTargetId(t,o.targetId)),n++)})),Wh.waitFor(r).next((()=>n))}getTargetCount(t){return Wh.resolve(this.targetCount)}getTargetData(t,e){const i=this.Rs.get(e)||null;return Wh.resolve(i)}addMatchingKeys(t,e,i){return this.Ps.us(e,i),Wh.resolve()}removeMatchingKeys(t,e,i){this.Ps.hs(e,i);const n=this.persistence.referenceDelegate,r=[];return n&&e.forEach((e=>{r.push(n.markPotentiallyOrphaned(t,e))})),Wh.waitFor(r)}removeMatchingKeysForTargetId(t,e){return this.Ps.ls(e),Wh.resolve()}getMatchingKeysForTargetId(t,e){const i=this.Ps.ds(e);return Wh.resolve(i)}containsKey(t,e){return Wh.resolve(this.Ps.containsKey(e))}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dd{constructor(t,e){this.Vs={},this.overlays={},this.Ss=new $h(0),this.Ds=!1,this.Ds=!0,this.referenceDelegate=t(this),this.Cs=new Ld(this),this.indexManager=new wd,this.remoteDocumentCache=function(t){return new Cd(t)}((t=>this.referenceDelegate.xs(t))),this.yt=new vd(e),this.Ns=new Sd(this.yt)}start(){return Promise.resolve()}shutdown(){return this.Ds=!1,Promise.resolve()}get started(){return this.Ds}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let e=this.overlays[t.toKey()];return e||(e=new Td,this.overlays[t.toKey()]=e),e}getMutationQueue(t,e){let i=this.Vs[t.toKey()];return i||(i=new Rd(e,this.referenceDelegate),this.Vs[t.toKey()]=i),i}getTargetCache(){return this.Cs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ns}runTransaction(t,e,i){lh("MemoryPersistence","Starting transaction:",t);const n=new Od(this.Ss.next());return this.referenceDelegate.ks(),i(n).next((t=>this.referenceDelegate.Os(n).next((()=>t)))).toPromise().then((t=>(n.raiseOnCommittedEvent(),t)))}Ms(t,e){return Wh.or(Object.values(this.Vs).map((i=>()=>i.containsKey(t,e))))}}class Od extends Kh{constructor(t){super(),this.currentSequenceNumber=t}}class Bd{constructor(t){this.persistence=t,this.Fs=new Id,this.$s=null}static Bs(t){return new Bd(t)}get Ls(){if(this.$s)return this.$s;throw ph()}addReference(t,e,i){return this.Fs.addReference(i,e),this.Ls.delete(i.toString()),Wh.resolve()}removeReference(t,e,i){return this.Fs.removeReference(i,e),this.Ls.add(i.toString()),Wh.resolve()}markPotentiallyOrphaned(t,e){return this.Ls.add(e.toString()),Wh.resolve()}removeTarget(t,e){this.Fs.ls(e.targetId).forEach((t=>this.Ls.add(t.toString())));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(t,e.targetId).next((t=>{t.forEach((t=>this.Ls.add(t.toString())))})).next((()=>i.removeTargetData(t,e)))}ks(){this.$s=new Set}Os(t){const e=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Wh.forEach(this.Ls,(i=>{const n=Ph.fromPath(i);return this.qs(t,n).next((t=>{t||e.removeEntry(n,Nh.min())}))})).next((()=>(this.$s=null,e.apply(t))))}updateLimboDocument(t,e){return this.qs(t,e).next((t=>{t?this.Ls.delete(e.toString()):this.Ls.add(e.toString())}))}xs(t){return 0}qs(t,e){return Wh.or([()=>Wh.resolve(this.Fs.containsKey(e)),()=>this.persistence.getTargetCache().containsKey(t,e),()=>this.persistence.Ms(t,e)])}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class Pd{constructor(t,e,i,n){this.targetId=t,this.fromCache=e,this.Si=i,this.Di=n}static Ci(t,e){let i=Mc(),n=Mc();for(const t of e.docChanges)switch(t.type){case 0:i=i.add(t.doc.key);break;case 1:n=n.add(t.doc.key)}return new Pd(t,e.fromCache,i,n)}}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ud{constructor(){this.xi=!1}initialize(t,e){this.Ni=t,this.indexManager=e,this.xi=!0}getDocumentsMatchingQuery(t,e,i,n){return this.ki(t,e).next((r=>r||this.Oi(t,e,n,i))).next((i=>i||this.Mi(t,e)))}ki(t,e){if(fl(e))return Wh.resolve(null);let i=yl(e);return this.indexManager.getIndexType(t,i).next((n=>0===n?null:(null!==e.limit&&1===n&&(e=wl(e,null,"F"),i=yl(e)),this.indexManager.getDocumentsMatchingTarget(t,i).next((n=>{const r=Mc(...n);return this.Ni.getDocuments(t,r).next((n=>this.indexManager.getMinOffset(t,i).next((i=>{const s=this.Fi(e,n);return this.$i(e,s,r,i.readTime)?this.ki(t,wl(e,null,"F")):this.Bi(t,s,e,i)}))))})))))}Oi(t,e,i,n){return fl(e)||n.isEqual(Nh.min())?this.Mi(t,e):this.Ni.getDocuments(t,i).next((r=>{const s=this.Fi(e,r);return this.$i(e,s,i,n)?this.Mi(t,e):(uh()<=j.DEBUG&&lh("QueryEngine","Re-using previous result from %s to execute query: %s",n.toString(),Al(e)),this.Bi(t,s,e,Fh(n,-1)))}))}Fi(t,e){let i=new Ju(xl(t));return e.forEach(((e,n)=>{kl(t,n)&&(i=i.add(n))})),i}$i(t,e,i,n){if(null===t.limit)return!1;if(i.size!==e.size)return!0;const r="F"===t.limitType?e.last():e.first();return!!r&&(r.hasPendingWrites||r.version.compareTo(n)>0)}Mi(t,e){return uh()<=j.DEBUG&&lh("QueryEngine","Using full collection scan to execute query:",Al(e)),this.Ni.getDocumentsMatchingQuery(t,e,zh.min())}Bi(t,e,i,n){return this.Ni.getDocumentsMatchingQuery(t,i,n).next((t=>(e.forEach((e=>{t=t.insert(e.key,e)})),t)))}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fd{constructor(t,e,i,n){this.persistence=t,this.Li=e,this.yt=n,this.qi=new Zu(qh),this.Ui=new cc((t=>al(t)),hl),this.Ki=new Map,this.Gi=t.getRemoteDocumentCache(),this.Cs=t.getTargetCache(),this.Ns=t.getBundleCache(),this.Qi(i)}Qi(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new xd(this.Gi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Gi.setIndexManager(this.indexManager),this.Li.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(e=>t.collect(e,this.qi)))}}function jd(t,e,i,n){return new Fd(t,e,i,n)}async function zd(t,e){const i=gh(t);return await i.persistence.runTransaction("Handle user change","readonly",(t=>{let n;return i.mutationQueue.getAllMutationBatches(t).next((r=>(n=r,i.Qi(e),i.mutationQueue.getAllMutationBatches(t)))).next((e=>{const r=[],s=[];let o=Mc();for(const t of n){r.push(t.batchId);for(const e of t.mutations)o=o.add(e.key)}for(const t of e){s.push(t.batchId);for(const e of t.mutations)o=o.add(e.key)}return i.localDocuments.getDocuments(t,o).next((t=>({ji:t,removedBatchIds:r,addedBatchIds:s})))}))}))}function Vd(t){const e=gh(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(t=>e.Cs.getLastRemoteSnapshotVersion(t)))}function Hd(t,e,i){let n=Mc(),r=Mc();return i.forEach((t=>n=n.add(t))),e.getEntries(t,n).next((t=>{let n=fc();return i.forEach(((i,s)=>{const o=t.get(i);s.isFoundDocument()!==o.isFoundDocument()&&(r=r.add(i)),s.isNoDocument()&&s.version.isEqual(Nh.min())?(e.removeEntry(i,s.readTime),n=n.insert(i,s)):!o.isValidDocument()||s.version.compareTo(o.version)>0||0===s.version.compareTo(o.version)&&o.hasPendingWrites?(e.addEntry(s),n=n.insert(i,s)):lh("LocalStore","Ignoring outdated watch update for ",i,". Current version:",o.version," Watch version:",s.version)})),{Wi:n,zi:r}}))}function Kd(t,e){const i=gh(t);return i.persistence.runTransaction("Get next mutation batch","readonly",(t=>(void 0===e&&(e=-1),i.mutationQueue.getNextMutationBatchAfterBatchId(t,e))))}function Gd(t,e){const i=gh(t);return i.persistence.runTransaction("Allocate target","readwrite",(t=>{let n;return i.Cs.getTargetData(t,e).next((r=>r?(n=r,Wh.resolve(n)):i.Cs.allocateTargetId(t).next((r=>(n=new gd(e,r,0,t.currentSequenceNumber),i.Cs.addTargetData(t,n).next((()=>n)))))))})).then((t=>{const n=i.qi.get(t.targetId);return(null===n||t.snapshotVersion.compareTo(n.snapshotVersion)>0)&&(i.qi=i.qi.insert(t.targetId,t),i.Ui.set(e,t.targetId)),t}))}async function Wd(t,e,i){const n=gh(t),r=n.qi.get(e),s=i?"readwrite":"readwrite-primary";try{i||await n.persistence.runTransaction("Release target",s,(t=>n.persistence.referenceDelegate.removeTarget(t,r)))}catch(t){if(!Qh(t))throw t;lh("LocalStore",`Failed to update sequence numbers for target ${e}: ${t}`)}n.qi=n.qi.remove(e),n.Ui.delete(r.target)}function Qd(t,e,i){const n=gh(t);let r=Nh.min(),s=Mc();return n.persistence.runTransaction("Execute query","readonly",(t=>function(t,e,i){const n=gh(t),r=n.Ui.get(i);return void 0!==r?Wh.resolve(n.qi.get(r)):n.Cs.getTargetData(e,i)}(n,t,yl(e)).next((e=>{if(e)return r=e.lastLimboFreeSnapshotVersion,n.Cs.getMatchingKeysForTargetId(t,e.targetId).next((t=>{s=t}))})).next((()=>n.Li.getDocumentsMatchingQuery(t,e,i?r:Nh.min(),i?s:Mc()))).next((t=>($d(n,El(e),t),{documents:t,Hi:s})))))}function $d(t,e,i){let n=t.Ki.get(e)||Nh.min();i.forEach(((t,e)=>{e.readTime.compareTo(n)>0&&(n=e.readTime)})),t.Ki.set(e,n)}class Zd{constructor(){this.activeTargetIds=kc()}er(t){this.activeTargetIds=this.activeTargetIds.add(t)}nr(t){this.activeTargetIds=this.activeTargetIds.delete(t)}tr(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class Yd{constructor(){this.Lr=new Zd,this.qr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,e,i){}addLocalQueryTarget(t){return this.Lr.er(t),this.qr[t]||"not-current"}updateQueryState(t,e,i){this.qr[t]=e}removeLocalQueryTarget(t){this.Lr.nr(t)}isLocalQueryTarget(t){return this.Lr.activeTargetIds.has(t)}clearQueryState(t){delete this.qr[t]}getAllActiveQueryTargets(){return this.Lr.activeTargetIds}isActiveQueryTarget(t){return this.Lr.activeTargetIds.has(t)}start(){return this.Lr=new Zd,Promise.resolve()}handleUserChange(t,e,i){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xd{Ur(t){}shutdown(){}}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jd{constructor(){this.Kr=()=>this.Gr(),this.Qr=()=>this.jr(),this.Wr=[],this.zr()}Ur(t){this.Wr.push(t)}shutdown(){window.removeEventListener("online",this.Kr),window.removeEventListener("offline",this.Qr)}zr(){window.addEventListener("online",this.Kr),window.addEventListener("offline",this.Qr)}Gr(){lh("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const t of this.Wr)t(0)}jr(){lh("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const t of this.Wr)t(1)}static C(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tf={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ef{constructor(t){this.Hr=t.Hr,this.Jr=t.Jr}Yr(t){this.Xr=t}Zr(t){this.eo=t}onMessage(t){this.no=t}close(){this.Jr()}send(t){this.Hr(t)}so(){this.Xr()}io(t){this.eo(t)}ro(t){this.no(t)}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nf extends class{constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const e=t.ssl?"https":"http";this.oo=e+"://"+t.host,this.uo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}get co(){return!1}ao(t,e,i,n,r){const s=this.ho(t,e);lh("RestConnection","Sending: ",s,i);const o={};return this.lo(o,n,r),this.fo(t,s,o,i).then((t=>(lh("RestConnection","Received: ",t),t)),(e=>{throw dh("RestConnection",`${t} failed with error: `,e,"url: ",s,"request:",i),e}))}_o(t,e,i,n,r,s){return this.ao(t,e,i,n,r)}lo(t,e,i){t["X-Goog-Api-Client"]="gl-js/ fire/"+ah,t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),e&&e.headers.forEach(((e,i)=>t[i]=e)),i&&i.headers.forEach(((e,i)=>t[i]=e))}ho(t,e){const i=tf[t];return`${this.oo}/v1/${e}:${i}`}}{constructor(t){super(t),this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams}fo(t,e,i,n){return new Promise(((r,s)=>{const o=new rh;o.setWithCredentials(!0),o.listenOnce(Ja.COMPLETE,(()=>{try{switch(o.getLastErrorCode()){case Xa.NO_ERROR:const e=o.getResponseJson();lh("Connection","XHR received:",JSON.stringify(e)),r(e);break;case Xa.TIMEOUT:lh("Connection",'RPC "'+t+'" timed out'),s(new yh(vh.DEADLINE_EXCEEDED,"Request time out"));break;case Xa.HTTP_ERROR:const i=o.getStatus();if(lh("Connection",'RPC "'+t+'" failed with status:',i,"response text:",o.getResponseText()),i>0){let t=o.getResponseJson();Array.isArray(t)&&(t=t[0]);const e=null==t?void 0:t.error;if(e&&e.status&&e.message){const t=function(t){const e=t.toLowerCase().replace(/_/g,"-");return Object.values(vh).indexOf(e)>=0?e:vh.UNKNOWN}(e.status);s(new yh(t,e.message))}else s(new yh(vh.UNKNOWN,"Server responded with status "+o.getStatus()))}else s(new yh(vh.UNAVAILABLE,"Connection failed."));break;default:ph()}}finally{lh("Connection",'RPC "'+t+'" completed.')}}));const a=JSON.stringify(n);o.send(e,"POST",a,i,15)}))}wo(t,e,i){const n=[this.oo,"/","google.firestore.v1.Firestore","/",t,"/channel"],r=Za(),s=Ya(),o={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(o.xmlHttpFactory=new ih({})),this.lo(o.initMessageHeaders,e,i),o.encodeInitMessageHeaders=!0;const a=n.join("");lh("Connection","Creating WebChannel: "+a,o);const h=r.createWebChannel(a,o);let u=!1,l=!1;const c=new ef({Hr:t=>{l?lh("Connection","Not sending because WebChannel is closed:",t):(u||(lh("Connection","Opening WebChannel transport."),h.open(),u=!0),lh("Connection","WebChannel sending:",t),h.send(t))},Jr:()=>h.close()}),d=(t,e,i)=>{t.listen(e,(t=>{try{i(t)}catch(t){setTimeout((()=>{throw t}),0)}}))};return d(h,nh.EventType.OPEN,(()=>{l||lh("Connection","WebChannel transport opened.")})),d(h,nh.EventType.CLOSE,(()=>{l||(l=!0,lh("Connection","WebChannel transport closed"),c.io())})),d(h,nh.EventType.ERROR,(t=>{l||(l=!0,dh("Connection","WebChannel transport errored:",t),c.io(new yh(vh.UNAVAILABLE,"The operation could not be completed")))})),d(h,nh.EventType.MESSAGE,(t=>{var e;if(!l){const i=t.data[0];mh(!!i);const n=i,r=n.error||(null===(e=n[0])||void 0===e?void 0:e.error);if(r){lh("Connection","WebChannel received error:",r);const t=r.status;let e=function(t){const e=ac[t];if(void 0!==e)return lc(e)}(t),i=r.message;void 0===e&&(e=vh.INTERNAL,i="Unknown error status: "+t+" with message "+r.message),l=!0,c.io(new yh(e,i)),h.close()}else lh("Connection","WebChannel received:",i),c.ro(i)}})),d(s,th.STAT_EVENT,(t=>{t.stat===eh.PROXY?lh("Connection","Detected buffering proxy"):t.stat===eh.NOPROXY&&lh("Connection","Detected no buffering proxy")})),setTimeout((()=>{c.so()}),0),c}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rf(){return"undefined"!=typeof document?document:null}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sf(t){return new Bc(t,!0)}class of{constructor(t,e,i=1e3,n=1.5,r=6e4){this.Hs=t,this.timerId=e,this.mo=i,this.yo=n,this.po=r,this.Io=0,this.To=null,this.Eo=Date.now(),this.reset()}reset(){this.Io=0}Ao(){this.Io=this.po}Ro(t){this.cancel();const e=Math.floor(this.Io+this.bo()),i=Math.max(0,Date.now()-this.Eo),n=Math.max(0,e-i);n>0&&lh("ExponentialBackoff",`Backing off for ${n} ms (base delay: ${this.Io} ms, delay with jitter: ${e} ms, last attempt: ${i} ms ago)`),this.To=this.Hs.enqueueAfterDelay(this.timerId,n,(()=>(this.Eo=Date.now(),t()))),this.Io*=this.yo,this.Io<this.mo&&(this.Io=this.mo),this.Io>this.po&&(this.Io=this.po)}Po(){null!==this.To&&(this.To.skipDelay(),this.To=null)}cancel(){null!==this.To&&(this.To.cancel(),this.To=null)}bo(){return(Math.random()-.5)*this.Io}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class af{constructor(t,e,i,n,r,s,o,a){this.Hs=t,this.vo=i,this.Vo=n,this.connection=r,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=o,this.listener=a,this.state=0,this.So=0,this.Do=null,this.Co=null,this.stream=null,this.xo=new of(t,e)}No(){return 1===this.state||5===this.state||this.ko()}ko(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Oo()}async stop(){this.No()&&await this.close(0)}Mo(){this.state=0,this.xo.reset()}Fo(){this.ko()&&null===this.Do&&(this.Do=this.Hs.enqueueAfterDelay(this.vo,6e4,(()=>this.$o())))}Bo(t){this.Lo(),this.stream.send(t)}async $o(){if(this.ko())return this.close(0)}Lo(){this.Do&&(this.Do.cancel(),this.Do=null)}qo(){this.Co&&(this.Co.cancel(),this.Co=null)}async close(t,e){this.Lo(),this.qo(),this.xo.cancel(),this.So++,4!==t?this.xo.reset():e&&e.code===vh.RESOURCE_EXHAUSTED?(ch(e.toString()),ch("Using maximum backoff delay to prevent overloading the backend."),this.xo.Ao()):e&&e.code===vh.UNAUTHENTICATED&&3!==this.state&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),null!==this.stream&&(this.Uo(),this.stream.close(),this.stream=null),this.state=t,await this.listener.Zr(e)}Uo(){}auth(){this.state=1;const t=this.Ko(this.So),e=this.So;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([t,i])=>{this.So===e&&this.Go(t,i)}),(e=>{t((()=>{const t=new yh(vh.UNKNOWN,"Fetching auth token failed: "+e.message);return this.Qo(t)}))}))}Go(t,e){const i=this.Ko(this.So);this.stream=this.jo(t,e),this.stream.Yr((()=>{i((()=>(this.state=2,this.Co=this.Hs.enqueueAfterDelay(this.Vo,1e4,(()=>(this.ko()&&(this.state=3),Promise.resolve()))),this.listener.Yr())))})),this.stream.Zr((t=>{i((()=>this.Qo(t)))})),this.stream.onMessage((t=>{i((()=>this.onMessage(t)))}))}Oo(){this.state=5,this.xo.Ro((async()=>{this.state=0,this.start()}))}Qo(t){return lh("PersistentStream",`close with error: ${t}`),this.stream=null,this.close(4,t)}Ko(t){return e=>{this.Hs.enqueueAndForget((()=>this.So===t?e():(lh("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class hf extends af{constructor(t,e,i,n,r,s){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",e,i,n,s),this.yt=r}jo(t,e){return this.connection.wo("Listen",t,e)}onMessage(t){this.xo.reset();const e=function(t,e){let i;if("targetChange"in e){e.targetChange;const n=function(t){return"NO_CHANGE"===t?0:"ADD"===t?1:"REMOVE"===t?2:"CURRENT"===t?3:"RESET"===t?4:ph()}(e.targetChange.targetChangeType||"NO_CHANGE"),r=e.targetChange.targetIds||[],s=function(t,e){return t.wt?(mh(void 0===e||"string"==typeof e),ru.fromBase64String(e||"")):(mh(void 0===e||e instanceof Uint8Array),ru.fromUint8Array(e||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(t){const e=void 0===t.code?vh.UNKNOWN:lc(t.code);return new yh(e,t.message||"")}(o);i=new Ic(n,r,s,a||null)}else if("documentChange"in e){e.documentChange;const n=e.documentChange;n.document,n.document.name,n.document.updateTime;const r=Kc(t,n.document.name),s=jc(n.document.updateTime),o=n.document.createTime?jc(n.document.createTime):Nh.min(),a=new il({mapValue:{fields:n.document.fields}}),h=rl.newFoundDocument(r,s,o,a),u=n.targetIds||[],l=n.removedTargetIds||[];i=new Sc(u,l,h.key,h)}else if("documentDelete"in e){e.documentDelete;const n=e.documentDelete;n.document;const r=Kc(t,n.document),s=n.readTime?jc(n.readTime):Nh.min(),o=rl.newNoDocument(r,s),a=n.removedTargetIds||[];i=new Sc([],a,o.key,o)}else if("documentRemove"in e){e.documentRemove;const n=e.documentRemove;n.document;const r=Kc(t,n.document),s=n.removedTargetIds||[];i=new Sc([],s,r,null)}else{if(!("filter"in e))return ph();{e.filter;const t=e.filter;t.targetId;const n=t.count||0,r=new oc(n),s=t.targetId;i=new Tc(s,r)}}return i}(this.yt,t),i=function(t){if(!("targetChange"in t))return Nh.min();const e=t.targetChange;return e.targetIds&&e.targetIds.length?Nh.min():e.readTime?jc(e.readTime):Nh.min()}(t);return this.listener.Wo(e,i)}zo(t){const e={};e.database=Qc(this.yt),e.addTarget=function(t,e){let i;const n=e.target;return i=ul(n)?{documents:Xc(t,n)}:{query:Jc(t,n)},i.targetId=e.targetId,e.resumeToken.approximateByteSize()>0?i.resumeToken=Uc(t,e.resumeToken):e.snapshotVersion.compareTo(Nh.min())>0&&(i.readTime=Pc(t,e.snapshotVersion.toTimestamp())),i}(this.yt,t);const i=function(t,e){const i=function(t,e){switch(e){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return ph()}}(0,e.purpose);return null==i?null:{"goog-listen-tags":i}}(this.yt,t);i&&(e.labels=i),this.Bo(e)}Ho(t){const e={};e.database=Qc(this.yt),e.removeTarget=t,this.Bo(e)}}class uf extends af{constructor(t,e,i,n,r,s){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",e,i,n,s),this.yt=r,this.Jo=!1}get Yo(){return this.Jo}start(){this.Jo=!1,this.lastStreamToken=void 0,super.start()}Uo(){this.Jo&&this.Xo([])}jo(t,e){return this.connection.wo("Write",t,e)}onMessage(t){if(mh(!!t.streamToken),this.lastStreamToken=t.streamToken,this.Jo){this.xo.reset();const e=function(t,e){return t&&t.length>0?(mh(void 0!==e),t.map((t=>function(t,e){let i=t.updateTime?jc(t.updateTime):jc(e);return i.isEqual(Nh.min())&&(i=jc(e)),new Hl(i,t.transformResults||[])}(t,e)))):[]}(t.writeResults,t.commitTime),i=jc(t.commitTime);return this.listener.Zo(i,e)}return mh(!t.writeResults||0===t.writeResults.length),this.Jo=!0,this.listener.tu()}eu(){const t={};t.database=Qc(this.yt),this.Bo(t)}Xo(t){const e={streamToken:this.lastStreamToken,writes:t.map((t=>Yc(this.yt,t)))};this.Bo(e)}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lf extends class{}{constructor(t,e,i,n){super(),this.authCredentials=t,this.appCheckCredentials=e,this.connection=i,this.yt=n,this.nu=!1}su(){if(this.nu)throw new yh(vh.FAILED_PRECONDITION,"The client has already been terminated.")}ao(t,e,i){return this.su(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([n,r])=>this.connection.ao(t,e,i,n,r))).catch((t=>{throw"FirebaseError"===t.name?(t.code===vh.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),t):new yh(vh.UNKNOWN,t.toString())}))}_o(t,e,i,n){return this.su(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([r,s])=>this.connection._o(t,e,i,r,s,n))).catch((t=>{throw"FirebaseError"===t.name?(t.code===vh.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),t):new yh(vh.UNKNOWN,t.toString())}))}terminate(){this.nu=!0}}class cf{constructor(t,e){this.asyncQueue=t,this.onlineStateHandler=e,this.state="Unknown",this.iu=0,this.ru=null,this.ou=!0}uu(){0===this.iu&&(this.cu("Unknown"),this.ru=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this.ru=null,this.au("Backend didn't respond within 10 seconds."),this.cu("Offline"),Promise.resolve()))))}hu(t){"Online"===this.state?this.cu("Unknown"):(this.iu++,this.iu>=1&&(this.lu(),this.au(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.cu("Offline")))}set(t){this.lu(),this.iu=0,"Online"===t&&(this.ou=!1),this.cu(t)}cu(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}au(t){const e=`Could not reach Cloud Firestore backend. ${t}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.ou?(ch(e),this.ou=!1):lh("OnlineStateTracker",e)}lu(){null!==this.ru&&(this.ru.cancel(),this.ru=null)}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class df{constructor(t,e,i,n,r){this.localStore=t,this.datastore=e,this.asyncQueue=i,this.remoteSyncer={},this.fu=[],this.du=new Map,this._u=new Set,this.wu=[],this.mu=r,this.mu.Ur((t=>{i.enqueueAndForget((async()=>{_f(this)&&(lh("RemoteStore","Restarting streams for network reachability change."),await async function(t){const e=gh(t);e._u.add(4),await pf(e),e.gu.set("Unknown"),e._u.delete(4),await ff(e)}(this))}))})),this.gu=new cf(i,n)}}async function ff(t){if(_f(t))for(const e of t.wu)await e(!0)}async function pf(t){for(const e of t.wu)await e(!1)}function mf(t,e){const i=gh(t);i.du.has(e.targetId)||(i.du.set(e.targetId,e),wf(i)?bf(i):Uf(i).ko()&&vf(i,e))}function gf(t,e){const i=gh(t),n=Uf(i);i.du.delete(e),n.ko()&&yf(i,e),0===i.du.size&&(n.ko()?n.Fo():_f(i)&&i.gu.set("Unknown"))}function vf(t,e){t.yu.Ot(e.targetId),Uf(t).zo(e)}function yf(t,e){t.yu.Ot(e),Uf(t).Ho(e)}function bf(t){t.yu=new Rc({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),ne:e=>t.du.get(e)||null}),Uf(t).start(),t.gu.uu()}function wf(t){return _f(t)&&!Uf(t).No()&&t.du.size>0}function _f(t){return 0===gh(t)._u.size}function Mf(t){t.yu=void 0}async function Af(t){t.du.forEach(((e,i)=>{vf(t,e)}))}async function kf(t,e){Mf(t),wf(t)?(t.gu.hu(e),bf(t)):t.gu.set("Unknown")}async function Ef(t,e,i){if(t.gu.set("Online"),e instanceof Ic&&2===e.state&&e.cause)try{await async function(t,e){const i=e.cause;for(const n of e.targetIds)t.du.has(n)&&(await t.remoteSyncer.rejectListen(n,i),t.du.delete(n),t.yu.removeTarget(n))}(t,e)}catch(i){lh("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),i),await xf(t,i)}else if(e instanceof Sc?t.yu.Kt(e):e instanceof Tc?t.yu.Jt(e):t.yu.jt(e),!i.isEqual(Nh.min()))try{const e=await Vd(t.localStore);i.compareTo(e)>=0&&await function(t,e){const i=t.yu.Zt(e);return i.targetChanges.forEach(((i,n)=>{if(i.resumeToken.approximateByteSize()>0){const r=t.du.get(n);r&&t.du.set(n,r.withResumeToken(i.resumeToken,e))}})),i.targetMismatches.forEach((e=>{const i=t.du.get(e);if(!i)return;t.du.set(e,i.withResumeToken(ru.EMPTY_BYTE_STRING,i.snapshotVersion)),yf(t,e);const n=new gd(i.target,e,1,i.sequenceNumber);vf(t,n)})),t.remoteSyncer.applyRemoteEvent(i)}(t,i)}catch(e){lh("RemoteStore","Failed to raise snapshot:",e),await xf(t,e)}}async function xf(t,e,i){if(!Qh(e))throw e;t._u.add(1),await pf(t),t.gu.set("Offline"),i||(i=()=>Vd(t.localStore)),t.asyncQueue.enqueueRetryable((async()=>{lh("RemoteStore","Retrying IndexedDB access"),await i(),t._u.delete(1),await ff(t)}))}function Sf(t,e){return e().catch((i=>xf(t,i,e)))}async function Tf(t){const e=gh(t),i=Ff(e);let n=e.fu.length>0?e.fu[e.fu.length-1].batchId:-1;for(;If(e);)try{const t=await Kd(e.localStore,n);if(null===t){0===e.fu.length&&i.Fo();break}n=t.batchId,qf(e,t)}catch(t){await xf(e,t)}Rf(e)&&Cf(e)}function If(t){return _f(t)&&t.fu.length<10}function qf(t,e){t.fu.push(e);const i=Ff(t);i.ko()&&i.Yo&&i.Xo(e.mutations)}function Rf(t){return _f(t)&&!Ff(t).No()&&t.fu.length>0}function Cf(t){Ff(t).start()}async function Nf(t){Ff(t).eu()}async function Lf(t){const e=Ff(t);for(const i of t.fu)e.Xo(i.mutations)}async function Df(t,e,i){const n=t.fu.shift(),r=pd.from(n,e,i);await Sf(t,(()=>t.remoteSyncer.applySuccessfulWrite(r))),await Tf(t)}async function Of(t,e){e&&Ff(t).Yo&&await async function(t,e){if(uc(i=e.code)&&i!==vh.ABORTED){const i=t.fu.shift();Ff(t).Mo(),await Sf(t,(()=>t.remoteSyncer.rejectFailedWrite(i.batchId,e))),await Tf(t)}var i}(t,e),Rf(t)&&Cf(t)}async function Bf(t,e){const i=gh(t);i.asyncQueue.verifyOperationInProgress(),lh("RemoteStore","RemoteStore received new credentials");const n=_f(i);i._u.add(3),await pf(i),n&&i.gu.set("Unknown"),await i.remoteSyncer.handleCredentialChange(e),i._u.delete(3),await ff(i)}async function Pf(t,e){const i=gh(t);e?(i._u.delete(2),await ff(i)):e||(i._u.add(2),await pf(i),i.gu.set("Unknown"))}function Uf(t){return t.pu||(t.pu=function(t,e,i){const n=gh(t);return n.su(),new hf(e,n.connection,n.authCredentials,n.appCheckCredentials,n.yt,i)}(t.datastore,t.asyncQueue,{Yr:Af.bind(null,t),Zr:kf.bind(null,t),Wo:Ef.bind(null,t)}),t.wu.push((async e=>{e?(t.pu.Mo(),wf(t)?bf(t):t.gu.set("Unknown")):(await t.pu.stop(),Mf(t))}))),t.pu}function Ff(t){return t.Iu||(t.Iu=function(t,e,i){const n=gh(t);return n.su(),new uf(e,n.connection,n.authCredentials,n.appCheckCredentials,n.yt,i)}(t.datastore,t.asyncQueue,{Yr:Nf.bind(null,t),Zr:Of.bind(null,t),tu:Lf.bind(null,t),Zo:Df.bind(null,t)}),t.wu.push((async e=>{e?(t.Iu.Mo(),await Tf(t)):(await t.Iu.stop(),t.fu.length>0&&(lh("RemoteStore",`Stopping write stream with ${t.fu.length} pending writes`),t.fu=[]))}))),t.Iu
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */}class jf{constructor(t,e,i,n,r){this.asyncQueue=t,this.timerId=e,this.targetTimeMs=i,this.op=n,this.removalCallback=r,this.deferred=new bh,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((t=>{}))}static createAndSchedule(t,e,i,n,r){const s=Date.now()+i,o=new jf(t,e,s,n,r);return o.start(i),o}start(t){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new yh(vh.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then((t=>this.deferred.resolve(t)))):Promise.resolve()))}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function zf(t,e){if(ch("AsyncQueue",`${e}: ${t}`),Qh(t))return new yh(vh.UNAVAILABLE,`${e}: ${t}`);throw t}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vf{constructor(t){this.comparator=t?(e,i)=>t(e,i)||Ph.comparator(e.key,i.key):(t,e)=>Ph.comparator(t.key,e.key),this.keyedMap=mc(),this.sortedSet=new Zu(this.comparator)}static emptySet(t){return new Vf(t.comparator)}has(t){return null!=this.keyedMap.get(t)}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const e=this.keyedMap.get(t);return e?this.sortedSet.indexOf(e):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal(((e,i)=>(t(e),!1)))}add(t){const e=this.delete(t.key);return e.copy(e.keyedMap.insert(t.key,t),e.sortedSet.insert(t,null))}delete(t){const e=this.get(t);return e?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(e)):this}isEqual(t){if(!(t instanceof Vf))return!1;if(this.size!==t.size)return!1;const e=this.sortedSet.getIterator(),i=t.sortedSet.getIterator();for(;e.hasNext();){const t=e.getNext().key,n=i.getNext().key;if(!t.isEqual(n))return!1}return!0}toString(){const t=[];return this.forEach((e=>{t.push(e.toString())})),0===t.length?"DocumentSet ()":"DocumentSet (\n  "+t.join("  \n")+"\n)"}copy(t,e){const i=new Vf;return i.comparator=this.comparator,i.keyedMap=t,i.sortedSet=e,i}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hf{constructor(){this.Tu=new Zu(Ph.comparator)}track(t){const e=t.doc.key,i=this.Tu.get(e);i?0!==t.type&&3===i.type?this.Tu=this.Tu.insert(e,t):3===t.type&&1!==i.type?this.Tu=this.Tu.insert(e,{type:i.type,doc:t.doc}):2===t.type&&2===i.type?this.Tu=this.Tu.insert(e,{type:2,doc:t.doc}):2===t.type&&0===i.type?this.Tu=this.Tu.insert(e,{type:0,doc:t.doc}):1===t.type&&0===i.type?this.Tu=this.Tu.remove(e):1===t.type&&2===i.type?this.Tu=this.Tu.insert(e,{type:1,doc:i.doc}):0===t.type&&1===i.type?this.Tu=this.Tu.insert(e,{type:2,doc:t.doc}):ph():this.Tu=this.Tu.insert(e,t)}Eu(){const t=[];return this.Tu.inorderTraversal(((e,i)=>{t.push(i)})),t}}class Kf{constructor(t,e,i,n,r,s,o,a,h){this.query=t,this.docs=e,this.oldDocs=i,this.docChanges=n,this.mutatedKeys=r,this.fromCache=s,this.syncStateChanged=o,this.excludesMetadataChanges=a,this.hasCachedResults=h}static fromInitialDocuments(t,e,i,n,r){const s=[];return e.forEach((t=>{s.push({type:0,doc:t})})),new Kf(t,e,Vf.emptySet(e),s,i,n,!0,!1,r)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&_l(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const e=this.docChanges,i=t.docChanges;if(e.length!==i.length)return!1;for(let t=0;t<e.length;t++)if(e[t].type!==i[t].type||!e[t].doc.isEqual(i[t].doc))return!1;return!0}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gf{constructor(){this.Au=void 0,this.listeners=[]}}class Wf{constructor(){this.queries=new cc((t=>Ml(t)),_l),this.onlineState="Unknown",this.Ru=new Set}}async function Qf(t,e){const i=gh(t),n=e.query;let r=!1,s=i.queries.get(n);if(s||(r=!0,s=new Gf),r)try{s.Au=await i.onListen(n)}catch(t){const i=zf(t,`Initialization of query '${Al(e.query)}' failed`);return void e.onError(i)}i.queries.set(n,s),s.listeners.push(e),e.bu(i.onlineState),s.Au&&e.Pu(s.Au)&&Xf(i)}async function $f(t,e){const i=gh(t),n=e.query;let r=!1;const s=i.queries.get(n);if(s){const t=s.listeners.indexOf(e);t>=0&&(s.listeners.splice(t,1),r=0===s.listeners.length)}if(r)return i.queries.delete(n),i.onUnlisten(n)}function Zf(t,e){const i=gh(t);let n=!1;for(const t of e){const e=t.query,r=i.queries.get(e);if(r){for(const e of r.listeners)e.Pu(t)&&(n=!0);r.Au=t}}n&&Xf(i)}function Yf(t,e,i){const n=gh(t),r=n.queries.get(e);if(r)for(const t of r.listeners)t.onError(i);n.queries.delete(e)}function Xf(t){t.Ru.forEach((t=>{t.next()}))}class Jf{constructor(t,e,i){this.query=t,this.vu=e,this.Vu=!1,this.Su=null,this.onlineState="Unknown",this.options=i||{}}Pu(t){if(!this.options.includeMetadataChanges){const e=[];for(const i of t.docChanges)3!==i.type&&e.push(i);t=new Kf(t.query,t.docs,t.oldDocs,e,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let e=!1;return this.Vu?this.Du(t)&&(this.vu.next(t),e=!0):this.Cu(t,this.onlineState)&&(this.xu(t),e=!0),this.Su=t,e}onError(t){this.vu.error(t)}bu(t){this.onlineState=t;let e=!1;return this.Su&&!this.Vu&&this.Cu(this.Su,t)&&(this.xu(this.Su),e=!0),e}Cu(t,e){if(!t.fromCache)return!0;const i="Offline"!==e;return(!this.options.Nu||!i)&&(!t.docs.isEmpty()||t.hasCachedResults||"Offline"===e)}Du(t){if(t.docChanges.length>0)return!0;const e=this.Su&&this.Su.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!e)&&!0===this.options.includeMetadataChanges}xu(t){t=Kf.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.Vu=!0,this.vu.next(t)}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class tp{constructor(t){this.key=t}}class ep{constructor(t){this.key=t}}class ip{constructor(t,e){this.query=t,this.qu=e,this.Uu=null,this.hasCachedResults=!1,this.current=!1,this.Ku=Mc(),this.mutatedKeys=Mc(),this.Gu=xl(t),this.Qu=new Vf(this.Gu)}get ju(){return this.qu}Wu(t,e){const i=e?e.zu:new Hf,n=e?e.Qu:this.Qu;let r=e?e.mutatedKeys:this.mutatedKeys,s=n,o=!1;const a="F"===this.query.limitType&&n.size===this.query.limit?n.last():null,h="L"===this.query.limitType&&n.size===this.query.limit?n.first():null;if(t.inorderTraversal(((t,e)=>{const u=n.get(t),l=kl(this.query,e)?e:null,c=!!u&&this.mutatedKeys.has(u.key),d=!!l&&(l.hasLocalMutations||this.mutatedKeys.has(l.key)&&l.hasCommittedMutations);let f=!1;u&&l?u.data.isEqual(l.data)?c!==d&&(i.track({type:3,doc:l}),f=!0):this.Hu(u,l)||(i.track({type:2,doc:l}),f=!0,(a&&this.Gu(l,a)>0||h&&this.Gu(l,h)<0)&&(o=!0)):!u&&l?(i.track({type:0,doc:l}),f=!0):u&&!l&&(i.track({type:1,doc:u}),f=!0,(a||h)&&(o=!0)),f&&(l?(s=s.add(l),r=d?r.add(t):r.delete(t)):(s=s.delete(t),r=r.delete(t)))})),null!==this.query.limit)for(;s.size>this.query.limit;){const t="F"===this.query.limitType?s.last():s.first();s=s.delete(t.key),r=r.delete(t.key),i.track({type:1,doc:t})}return{Qu:s,zu:i,$i:o,mutatedKeys:r}}Hu(t,e){return t.hasLocalMutations&&e.hasCommittedMutations&&!e.hasLocalMutations}applyChanges(t,e,i){const n=this.Qu;this.Qu=t.Qu,this.mutatedKeys=t.mutatedKeys;const r=t.zu.Eu();r.sort(((t,e)=>function(t,e){const i=t=>{switch(t){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ph()}};return i(t)-i(e)}(t.type,e.type)||this.Gu(t.doc,e.doc))),this.Ju(i);const s=e?this.Yu():[],o=0===this.Ku.size&&this.current?1:0,a=o!==this.Uu;return this.Uu=o,0!==r.length||a?{snapshot:new Kf(this.query,t.Qu,n,r,t.mutatedKeys,0===o,a,!1,!!i&&i.resumeToken.approximateByteSize()>0),Xu:s}:{Xu:s}}bu(t){return this.current&&"Offline"===t?(this.current=!1,this.applyChanges({Qu:this.Qu,zu:new Hf,mutatedKeys:this.mutatedKeys,$i:!1},!1)):{Xu:[]}}Zu(t){return!this.qu.has(t)&&!!this.Qu.has(t)&&!this.Qu.get(t).hasLocalMutations}Ju(t){t&&(t.addedDocuments.forEach((t=>this.qu=this.qu.add(t))),t.modifiedDocuments.forEach((t=>{})),t.removedDocuments.forEach((t=>this.qu=this.qu.delete(t))),this.current=t.current)}Yu(){if(!this.current)return[];const t=this.Ku;this.Ku=Mc(),this.Qu.forEach((t=>{this.Zu(t.key)&&(this.Ku=this.Ku.add(t.key))}));const e=[];return t.forEach((t=>{this.Ku.has(t)||e.push(new ep(t))})),this.Ku.forEach((i=>{t.has(i)||e.push(new tp(i))})),e}tc(t){this.qu=t.Hi,this.Ku=Mc();const e=this.Wu(t.documents);return this.applyChanges(e,!0)}ec(){return Kf.fromInitialDocuments(this.query,this.Qu,this.mutatedKeys,0===this.Uu,this.hasCachedResults)}}class np{constructor(t,e,i){this.query=t,this.targetId=e,this.view=i}}class rp{constructor(t){this.key=t,this.nc=!1}}class sp{constructor(t,e,i,n,r,s){this.localStore=t,this.remoteStore=e,this.eventManager=i,this.sharedClientState=n,this.currentUser=r,this.maxConcurrentLimboResolutions=s,this.sc={},this.ic=new cc((t=>Ml(t)),_l),this.rc=new Map,this.oc=new Set,this.uc=new Zu(Ph.comparator),this.cc=new Map,this.ac=new Id,this.hc={},this.lc=new Map,this.fc=Ad.vn(),this.onlineState="Unknown",this.dc=void 0}get isPrimaryClient(){return!0===this.dc}}async function op(t,e){const i=kp(t);let n,r;const s=i.ic.get(e);if(s)n=s.targetId,i.sharedClientState.addLocalQueryTarget(n),r=s.view.ec();else{const t=await Gd(i.localStore,yl(e));i.isPrimaryClient&&mf(i.remoteStore,t);const s=i.sharedClientState.addLocalQueryTarget(t.targetId);n=t.targetId,r=await ap(i,e,n,"current"===s,t.resumeToken)}return r}async function ap(t,e,i,n,r){t._c=(e,i,n)=>async function(t,e,i,n){let r=e.view.Wu(i);r.$i&&(r=await Qd(t.localStore,e.query,!1).then((({documents:t})=>e.view.Wu(t,r))));const s=n&&n.targetChanges.get(e.targetId),o=e.view.applyChanges(r,t.isPrimaryClient,s);return yp(t,e.targetId,o.Xu),o.snapshot}(t,e,i,n);const s=await Qd(t.localStore,e,!0),o=new ip(e,s.Hi),a=o.Wu(s.documents),h=xc.createSynthesizedTargetChangeForCurrentChange(i,n&&"Offline"!==t.onlineState,r),u=o.applyChanges(a,t.isPrimaryClient,h);yp(t,i,u.Xu);const l=new np(e,i,o);return t.ic.set(e,l),t.rc.has(i)?t.rc.get(i).push(e):t.rc.set(i,[e]),u.snapshot}async function hp(t,e){const i=gh(t),n=i.ic.get(e),r=i.rc.get(n.targetId);if(r.length>1)return i.rc.set(n.targetId,r.filter((t=>!_l(t,e)))),void i.ic.delete(e);i.isPrimaryClient?(i.sharedClientState.removeLocalQueryTarget(n.targetId),i.sharedClientState.isActiveQueryTarget(n.targetId)||await Wd(i.localStore,n.targetId,!1).then((()=>{i.sharedClientState.clearQueryState(n.targetId),gf(i.remoteStore,n.targetId),gp(i,n.targetId)})).catch(Gh)):(gp(i,n.targetId),await Wd(i.localStore,n.targetId,!0))}async function up(t,e){const i=gh(t);try{const t=await function(t,e){const i=gh(t),n=e.snapshotVersion;let r=i.qi;return i.persistence.runTransaction("Apply remote event","readwrite-primary",(t=>{const s=i.Gi.newChangeBuffer({trackRemovals:!0});r=i.qi;const o=[];e.targetChanges.forEach(((s,a)=>{const h=r.get(a);if(!h)return;o.push(i.Cs.removeMatchingKeys(t,s.removedDocuments,a).next((()=>i.Cs.addMatchingKeys(t,s.addedDocuments,a))));let u=h.withSequenceNumber(t.currentSequenceNumber);e.targetMismatches.has(a)?u=u.withResumeToken(ru.EMPTY_BYTE_STRING,Nh.min()).withLastLimboFreeSnapshotVersion(Nh.min()):s.resumeToken.approximateByteSize()>0&&(u=u.withResumeToken(s.resumeToken,n)),r=r.insert(a,u),function(t,e,i){return 0===t.resumeToken.approximateByteSize()||e.snapshotVersion.toMicroseconds()-t.snapshotVersion.toMicroseconds()>=3e8||i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size>0}(h,u,s)&&o.push(i.Cs.updateTargetData(t,u))}));let a=fc(),h=Mc();if(e.documentUpdates.forEach((n=>{e.resolvedLimboDocuments.has(n)&&o.push(i.persistence.referenceDelegate.updateLimboDocument(t,n))})),o.push(Hd(t,s,e.documentUpdates).next((t=>{a=t.Wi,h=t.zi}))),!n.isEqual(Nh.min())){const e=i.Cs.getLastRemoteSnapshotVersion(t).next((e=>i.Cs.setTargetsMetadata(t,t.currentSequenceNumber,n)));o.push(e)}return Wh.waitFor(o).next((()=>s.apply(t))).next((()=>i.localDocuments.getLocalViewOfDocuments(t,a,h))).next((()=>a))})).then((t=>(i.qi=r,t)))}(i.localStore,e);e.targetChanges.forEach(((t,e)=>{const n=i.cc.get(e);n&&(mh(t.addedDocuments.size+t.modifiedDocuments.size+t.removedDocuments.size<=1),t.addedDocuments.size>0?n.nc=!0:t.modifiedDocuments.size>0?mh(n.nc):t.removedDocuments.size>0&&(mh(n.nc),n.nc=!1))})),await _p(i,t,e)}catch(t){await Gh(t)}}function lp(t,e,i){const n=gh(t);if(n.isPrimaryClient&&0===i||!n.isPrimaryClient&&1===i){const t=[];n.ic.forEach(((i,n)=>{const r=n.view.bu(e);r.snapshot&&t.push(r.snapshot)})),function(t,e){const i=gh(t);i.onlineState=e;let n=!1;i.queries.forEach(((t,i)=>{for(const t of i.listeners)t.bu(e)&&(n=!0)})),n&&Xf(i)}(n.eventManager,e),t.length&&n.sc.Wo(t),n.onlineState=e,n.isPrimaryClient&&n.sharedClientState.setOnlineState(e)}}async function cp(t,e,i){const n=gh(t);n.sharedClientState.updateQueryState(e,"rejected",i);const r=n.cc.get(e),s=r&&r.key;if(s){let t=new Zu(Ph.comparator);t=t.insert(s,rl.newNoDocument(s,Nh.min()));const i=Mc().add(s),r=new Ec(Nh.min(),new Map,new Ju(qh),t,i);await up(n,r),n.uc=n.uc.remove(s),n.cc.delete(e),wp(n)}else await Wd(n.localStore,e,!1).then((()=>gp(n,e,i))).catch(Gh)}async function dp(t,e){const i=gh(t),n=e.batch.batchId;try{const t=await function(t,e){const i=gh(t);return i.persistence.runTransaction("Acknowledge batch","readwrite-primary",(t=>{const n=e.batch.keys(),r=i.Gi.newChangeBuffer({trackRemovals:!0});return function(t,e,i,n){const r=i.batch,s=r.keys();let o=Wh.resolve();return s.forEach((t=>{o=o.next((()=>n.getEntry(e,t))).next((e=>{const s=i.docVersions.get(t);mh(null!==s),e.version.compareTo(s)<0&&(r.applyToRemoteDocument(e,i),e.isValidDocument()&&(e.setReadTime(i.commitVersion),n.addEntry(e)))}))})),o.next((()=>t.mutationQueue.removeMutationBatch(e,r)))}(i,t,e,r).next((()=>r.apply(t))).next((()=>i.mutationQueue.performConsistencyCheck(t))).next((()=>i.documentOverlayCache.removeOverlaysForBatchId(t,n,e.batch.batchId))).next((()=>i.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(t,function(t){let e=Mc();for(let i=0;i<t.mutationResults.length;++i)t.mutationResults[i].transformResults.length>0&&(e=e.add(t.batch.mutations[i].key));return e}(e)))).next((()=>i.localDocuments.getDocuments(t,n)))}))}(i.localStore,e);mp(i,n,null),pp(i,n),i.sharedClientState.updateMutationState(n,"acknowledged"),await _p(i,t)}catch(t){await Gh(t)}}async function fp(t,e,i){const n=gh(t);try{const t=await function(t,e){const i=gh(t);return i.persistence.runTransaction("Reject batch","readwrite-primary",(t=>{let n;return i.mutationQueue.lookupMutationBatch(t,e).next((e=>(mh(null!==e),n=e.keys(),i.mutationQueue.removeMutationBatch(t,e)))).next((()=>i.mutationQueue.performConsistencyCheck(t))).next((()=>i.documentOverlayCache.removeOverlaysForBatchId(t,n,e))).next((()=>i.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(t,n))).next((()=>i.localDocuments.getDocuments(t,n)))}))}(n.localStore,e);mp(n,e,i),pp(n,e),n.sharedClientState.updateMutationState(e,"rejected",i),await _p(n,t)}catch(i){await Gh(i)}}function pp(t,e){(t.lc.get(e)||[]).forEach((t=>{t.resolve()})),t.lc.delete(e)}function mp(t,e,i){const n=gh(t);let r=n.hc[n.currentUser.toKey()];if(r){const t=r.get(e);t&&(i?t.reject(i):t.resolve(),r=r.remove(e)),n.hc[n.currentUser.toKey()]=r}}function gp(t,e,i=null){t.sharedClientState.removeLocalQueryTarget(e);for(const n of t.rc.get(e))t.ic.delete(n),i&&t.sc.wc(n,i);t.rc.delete(e),t.isPrimaryClient&&t.ac.ls(e).forEach((e=>{t.ac.containsKey(e)||vp(t,e)}))}function vp(t,e){t.oc.delete(e.path.canonicalString());const i=t.uc.get(e);null!==i&&(gf(t.remoteStore,i),t.uc=t.uc.remove(e),t.cc.delete(i),wp(t))}function yp(t,e,i){for(const n of i)n instanceof tp?(t.ac.addReference(n.key,e),bp(t,n)):n instanceof ep?(lh("SyncEngine","Document no longer in limbo: "+n.key),t.ac.removeReference(n.key,e),t.ac.containsKey(n.key)||vp(t,n.key)):ph()}function bp(t,e){const i=e.key,n=i.path.canonicalString();t.uc.get(i)||t.oc.has(n)||(lh("SyncEngine","New document in limbo: "+i),t.oc.add(n),wp(t))}function wp(t){for(;t.oc.size>0&&t.uc.size<t.maxConcurrentLimboResolutions;){const e=t.oc.values().next().value;t.oc.delete(e);const i=new Ph(Dh.fromString(e)),n=t.fc.next();t.cc.set(n,new rp(i)),t.uc=t.uc.insert(i,n),mf(t.remoteStore,new gd(yl(dl(i.path)),n,2,$h.at))}}async function _p(t,e,i){const n=gh(t),r=[],s=[],o=[];n.ic.isEmpty()||(n.ic.forEach(((t,a)=>{o.push(n._c(a,e,i).then((t=>{if((t||i)&&n.isPrimaryClient&&n.sharedClientState.updateQueryState(a.targetId,(null==t?void 0:t.fromCache)?"not-current":"current"),t){r.push(t);const e=Pd.Ci(a.targetId,t);s.push(e)}})))})),await Promise.all(o),n.sc.Wo(r),await async function(t,e){const i=gh(t);try{await i.persistence.runTransaction("notifyLocalViewChanges","readwrite",(t=>Wh.forEach(e,(e=>Wh.forEach(e.Si,(n=>i.persistence.referenceDelegate.addReference(t,e.targetId,n))).next((()=>Wh.forEach(e.Di,(n=>i.persistence.referenceDelegate.removeReference(t,e.targetId,n)))))))))}catch(t){if(!Qh(t))throw t;lh("LocalStore","Failed to update sequence numbers: "+t)}for(const t of e){const e=t.targetId;if(!t.fromCache){const t=i.qi.get(e),n=t.snapshotVersion,r=t.withLastLimboFreeSnapshotVersion(n);i.qi=i.qi.insert(e,r)}}}(n.localStore,s))}async function Mp(t,e){const i=gh(t);if(!i.currentUser.isEqual(e)){lh("SyncEngine","User change. New user:",e.toKey());const t=await zd(i.localStore,e);i.currentUser=e,function(t,e){t.lc.forEach((t=>{t.forEach((t=>{t.reject(new yh(vh.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))}))})),t.lc.clear()}(i),i.sharedClientState.handleUserChange(e,t.removedBatchIds,t.addedBatchIds),await _p(i,t.ji)}}function Ap(t,e){const i=gh(t),n=i.cc.get(e);if(n&&n.nc)return Mc().add(n.key);{let t=Mc();const n=i.rc.get(e);if(!n)return t;for(const e of n){const n=i.ic.get(e);t=t.unionWith(n.view.ju)}return t}}function kp(t){const e=gh(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=up.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=Ap.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=cp.bind(null,e),e.sc.Wo=Zf.bind(null,e.eventManager),e.sc.wc=Yf.bind(null,e.eventManager),e}function Ep(t){const e=gh(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=dp.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=fp.bind(null,e),e}class xp{constructor(){this.synchronizeTabs=!1}async initialize(t){this.yt=sf(t.databaseInfo.databaseId),this.sharedClientState=this.gc(t),this.persistence=this.yc(t),await this.persistence.start(),this.localStore=this.Ic(t),this.gcScheduler=this.Tc(t,this.localStore),this.indexBackfillerScheduler=this.Ec(t,this.localStore)}Tc(t,e){return null}Ec(t,e){return null}Ic(t){return jd(this.persistence,new Ud,t.initialUser,this.yt)}yc(t){return new Dd(Bd.Bs,this.yt)}gc(t){return new Yd}async terminate(){this.gcScheduler&&this.gcScheduler.stop(),await this.sharedClientState.shutdown(),await this.persistence.shutdown()}}class Sp{async initialize(t,e){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(e),this.remoteStore=this.createRemoteStore(e),this.eventManager=this.createEventManager(e),this.syncEngine=this.createSyncEngine(e,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=t=>lp(this.syncEngine,t,1),this.remoteStore.remoteSyncer.handleCredentialChange=Mp.bind(null,this.syncEngine),await Pf(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return new Wf}createDatastore(t){const e=sf(t.databaseInfo.databaseId),i=(n=t.databaseInfo,new nf(n));var n;return function(t,e,i,n){return new lf(t,e,i,n)}(t.authCredentials,t.appCheckCredentials,i,e)}createRemoteStore(t){var e,i,n,r,s;return e=this.localStore,i=this.datastore,n=t.asyncQueue,r=t=>lp(this.syncEngine,t,0),s=Jd.C()?new Jd:new Xd,new df(e,i,n,r,s)}createSyncEngine(t,e){return function(t,e,i,n,r,s,o){const a=new sp(t,e,i,n,r,s);return o&&(a.dc=!0),a}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,e)}terminate(){return async function(t){const e=gh(t);lh("RemoteStore","RemoteStore shutting down."),e._u.add(5),await pf(e),e.mu.shutdown(),e.gu.set("Unknown")}(this.remoteStore)}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tp(t,e,i){if(!i)throw new yh(vh.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function Ip(t){if(!Ph.isDocumentKey(t))throw new yh(vh.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function qp(t){if(Ph.isDocumentKey(t))throw new yh(vh.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function Rp(t){if(void 0===t)return"undefined";if(null===t)return"null";if("string"==typeof t)return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if("number"==typeof t||"boolean"==typeof t)return""+t;if("object"==typeof t){if(t instanceof Array)return"an array";{const e=function(t){return t.constructor?t.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return"function"==typeof t?"a function":ph()}function Cp(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new yh(vh.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const i=Rp(t);throw new yh(vh.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${i}`)}}return t}function Np(t,e){if(e<=0)throw new yh(vh.INVALID_ARGUMENT,`Function ${t}() requires a positive number, but it was: ${e}.`)}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lp=new Map;class Dp{constructor(t){var e;if(void 0===t.host){if(void 0!==t.ssl)throw new yh(vh.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=null===(e=t.ssl)||void 0===e||e;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,void 0===t.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==t.cacheSizeBytes&&t.cacheSizeBytes<1048576)throw new yh(vh.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.useFetchStreams=!!t.useFetchStreams,function(t,e,i,n){if(!0===e&&!0===n)throw new yh(vh.INVALID_ARGUMENT,`${t} and ${i} cannot be used together.`)}("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling)}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Op{constructor(t,e,i,n){this._authCredentials=t,this._appCheckCredentials=e,this._databaseId=i,this._app=n,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Dp({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new yh(vh.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(t){if(this._settingsFrozen)throw new yh(vh.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Dp(t),void 0!==t.credentials&&(this._authCredentials=function(t){if(!t)return new _h;switch(t.type){case"gapi":const e=t.client;return new Eh(e,t.sessionIndex||"0",t.iamToken||null,t.authTokenFactory||null);case"provider":return t.client;default:throw new yh(vh.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(t.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const e=Lp.get(t);e&&(lh("ComponentProvider","Removing Datastore"),Lp.delete(t),e.terminate())}(this),Promise.resolve()}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class Bp{constructor(t,e,i){this.converter=e,this._key=i,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Up(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new Bp(this.firestore,t,this._key)}}class Pp{constructor(t,e,i){this.converter=e,this._query=i,this.type="query",this.firestore=t}withConverter(t){return new Pp(this.firestore,t,this._query)}}class Up extends Pp{constructor(t,e,i){super(t,e,dl(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new Bp(this.firestore,null,new Ph(t))}withConverter(t){return new Up(this.firestore,t,this._path)}}function Fp(t,e,...i){if(t=D(t),Tp("collection","path",e),t instanceof Op){const n=Dh.fromString(e,...i);return qp(n),new Up(t,null,n)}{if(!(t instanceof Bp||t instanceof Up))throw new yh(vh.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=t._path.child(Dh.fromString(e,...i));return qp(n),new Up(t.firestore,null,n)}}function jp(t,e,...i){if(t=D(t),1===arguments.length&&(e=Ih.R()),Tp("doc","path",e),t instanceof Op){const n=Dh.fromString(e,...i);return Ip(n),new Bp(t,null,new Ph(n))}{if(!(t instanceof Bp||t instanceof Up))throw new yh(vh.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=t._path.child(Dh.fromString(e,...i));return Ip(n),new Bp(t.firestore,t instanceof Up?t.converter:null,new Ph(n))}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class zp{constructor(t){this.observer=t,this.muted=!1}next(t){this.observer.next&&this.Rc(this.observer.next,t)}error(t){this.observer.error?this.Rc(this.observer.error,t):ch("Uncaught Error in snapshot listener:",t.toString())}bc(){this.muted=!0}Rc(t,e){this.muted||setTimeout((()=>{this.muted||t(e)}),0)}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class Vp{constructor(t,e,i,n){this.authCredentials=t,this.appCheckCredentials=e,this.asyncQueue=i,this.databaseInfo=n,this.user=oh.UNAUTHENTICATED,this.clientId=Ih.R(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(i,(async t=>{lh("FirestoreClient","Received user=",t.uid),await this.authCredentialListener(t),this.user=t})),this.appCheckCredentials.start(i,(t=>(lh("FirestoreClient","Received new app check token=",t),this.appCheckCredentialListener(t,this.user))))}async getConfiguration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new yh(vh.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();const t=new bh;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this.onlineComponents&&await this.onlineComponents.terminate(),this.offlineComponents&&await this.offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(e){const i=zf(e,"Failed to shutdown persistence");t.reject(i)}})),t.promise}}async function Hp(t,e){t.asyncQueue.verifyOperationInProgress(),lh("FirestoreClient","Initializing OfflineComponentProvider");const i=await t.getConfiguration();await e.initialize(i);let n=i.initialUser;t.setCredentialChangeListener((async t=>{n.isEqual(t)||(await zd(e.localStore,t),n=t)})),e.persistence.setDatabaseDeletedListener((()=>t.terminate())),t.offlineComponents=e}async function Kp(t,e){t.asyncQueue.verifyOperationInProgress();const i=await Gp(t);lh("FirestoreClient","Initializing OnlineComponentProvider");const n=await t.getConfiguration();await e.initialize(i,n),t.setCredentialChangeListener((t=>Bf(e.remoteStore,t))),t.setAppCheckTokenChangeListener(((t,i)=>Bf(e.remoteStore,i))),t.onlineComponents=e}async function Gp(t){return t.offlineComponents||(lh("FirestoreClient","Using default OfflineComponentProvider"),await Hp(t,new xp)),t.offlineComponents}async function Wp(t){return t.onlineComponents||(lh("FirestoreClient","Using default OnlineComponentProvider"),await Kp(t,new Sp)),t.onlineComponents}function Qp(t){return Wp(t).then((t=>t.syncEngine))}async function $p(t){const e=await Wp(t),i=e.eventManager;return i.onListen=op.bind(null,e.syncEngine),i.onUnlisten=hp.bind(null,e.syncEngine),i}function Zp(t,e,i={}){const n=new bh;return t.asyncQueue.enqueueAndForget((async()=>function(t,e,i,n,r){const s=new zp({next:s=>{e.enqueueAndForget((()=>$f(t,o)));const a=s.docs.has(i);!a&&s.fromCache?r.reject(new yh(vh.UNAVAILABLE,"Failed to get document because the client is offline.")):a&&s.fromCache&&n&&"server"===n.source?r.reject(new yh(vh.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):r.resolve(s)},error:t=>r.reject(t)}),o=new Jf(dl(i.path),s,{includeMetadataChanges:!0,Nu:!0});return Qf(t,o)}(await $p(t),t.asyncQueue,e,i,n))),n.promise}function Yp(t,e,i={}){const n=new bh;return t.asyncQueue.enqueueAndForget((async()=>function(t,e,i,n,r){const s=new zp({next:i=>{e.enqueueAndForget((()=>$f(t,o))),i.fromCache&&"server"===n.source?r.reject(new yh(vh.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):r.resolve(i)},error:t=>r.reject(t)}),o=new Jf(i,s,{includeMetadataChanges:!0,Nu:!0});return Qf(t,o)}(await $p(t),t.asyncQueue,e,i,n))),n.promise}class Xp{constructor(){this.Bc=Promise.resolve(),this.Lc=[],this.qc=!1,this.Uc=[],this.Kc=null,this.Gc=!1,this.Qc=!1,this.jc=[],this.xo=new of(this,"async_queue_retry"),this.Wc=()=>{const t=rf();t&&lh("AsyncQueue","Visibility state changed to "+t.visibilityState),this.xo.Po()};const t=rf();t&&"function"==typeof t.addEventListener&&t.addEventListener("visibilitychange",this.Wc)}get isShuttingDown(){return this.qc}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.zc(),this.Hc(t)}enterRestrictedMode(t){if(!this.qc){this.qc=!0,this.Qc=t||!1;const e=rf();e&&"function"==typeof e.removeEventListener&&e.removeEventListener("visibilitychange",this.Wc)}}enqueue(t){if(this.zc(),this.qc)return new Promise((()=>{}));const e=new bh;return this.Hc((()=>this.qc&&this.Qc?Promise.resolve():(t().then(e.resolve,e.reject),e.promise))).then((()=>e.promise))}enqueueRetryable(t){this.enqueueAndForget((()=>(this.Lc.push(t),this.Jc())))}async Jc(){if(0!==this.Lc.length){try{await this.Lc[0](),this.Lc.shift(),this.xo.reset()}catch(t){if(!Qh(t))throw t;lh("AsyncQueue","Operation failed with retryable error: "+t)}this.Lc.length>0&&this.xo.Ro((()=>this.Jc()))}}Hc(t){const e=this.Bc.then((()=>(this.Gc=!0,t().catch((t=>{this.Kc=t,this.Gc=!1;const e=function(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+"\n"+t.stack),e}(t);throw ch("INTERNAL UNHANDLED ERROR: ",e),t})).then((t=>(this.Gc=!1,t))))));return this.Bc=e,e}enqueueAfterDelay(t,e,i){this.zc(),this.jc.indexOf(t)>-1&&(e=0);const n=jf.createAndSchedule(this,t,e,i,(t=>this.Yc(t)));return this.Uc.push(n),n}zc(){this.Kc&&ph()}verifyOperationInProgress(){}async Xc(){let t;do{t=this.Bc,await t}while(t!==this.Bc)}Zc(t){for(const e of this.Uc)if(e.timerId===t)return!0;return!1}ta(t){return this.Xc().then((()=>{this.Uc.sort(((t,e)=>t.targetTimeMs-e.targetTimeMs));for(const e of this.Uc)if(e.skipDelay(),"all"!==t&&e.timerId===t)break;return this.Xc()}))}ea(t){this.jc.push(t)}Yc(t){const e=this.Uc.indexOf(t);this.Uc.splice(e,1)}}function Jp(t){return function(t,e){if("object"!=typeof t||null===t)return!1;const i=t;for(const t of["next","error","complete"])if(t in i&&"function"==typeof i[t])return!0;return!1}(t)}class tm extends Op{constructor(t,e,i,n){super(t,e,i,n),this.type="firestore",this._queue=new Xp,this._persistenceKey=(null==n?void 0:n.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||nm(this),this._firestoreClient.terminate()}}function em(t,e){const i="string"==typeof t?t:e||"(default)",n=At("object"==typeof t?t:Tt(),"firestore").getImmediate({identifier:i});if(!n._initialized){const t=f("firestore");t&&function(t,e,i,n={}){var r;const s=(t=Cp(t,Op))._getSettings();if("firestore.googleapis.com"!==s.host&&s.host!==e&&dh("Host has been set in both settings() and useEmulator(), emulator host will be used"),t._setSettings(Object.assign(Object.assign({},s),{host:`${e}:${i}`,ssl:!1})),n.mockUserToken){let e,i;if("string"==typeof n.mockUserToken)e=n.mockUserToken,i=oh.MOCK_USER;else{e=v(n.mockUserToken,null===(r=t._app)||void 0===r?void 0:r.options.projectId);const s=n.mockUserToken.sub||n.mockUserToken.user_id;if(!s)throw new yh(vh.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");i=new oh(s)}t._authCredentials=new Mh(new wh(e,i))}}(n,...t)}return n}function im(t){return t._firestoreClient||nm(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function nm(t){var e;const i=t._freezeSettings(),n=function(t,e,i,n){return new Zh(t,e,i,n.host,n.ssl,n.experimentalForceLongPolling,n.experimentalAutoDetectLongPolling,n.useFetchStreams)}(t._databaseId,(null===(e=t._app)||void 0===e?void 0:e.options.appId)||"",t._persistenceKey,i);t._firestoreClient=new Vp(t._authCredentials,t._appCheckCredentials,t._queue,n)}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class rm{constructor(t){this._byteString=t}static fromBase64String(t){try{return new rm(ru.fromBase64String(t))}catch(t){throw new yh(vh.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(t){return new rm(ru.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sm{constructor(...t){for(let e=0;e<t.length;++e)if(0===t[e].length)throw new yh(vh.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Bh(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class om{constructor(t){this._methodName=t}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class am{constructor(t,e){if(!isFinite(t)||t<-90||t>90)throw new yh(vh.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(e)||e<-180||e>180)throw new yh(vh.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+e);this._lat=t,this._long=e}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(t){return qh(this._lat,t._lat)||qh(this._long,t._long)}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hm=/^__.*__$/;class um{constructor(t,e,i){this.data=t,this.fieldMask=e,this.fieldTransforms=i}toMutation(t,e){return null!==this.fieldMask?new tc(t,this.data,this.fieldMask,e,this.fieldTransforms):new Jl(t,this.data,e,this.fieldTransforms)}}class lm{constructor(t,e,i){this.data=t,this.fieldMask=e,this.fieldTransforms=i}toMutation(t,e){return new tc(t,this.data,this.fieldMask,e,this.fieldTransforms)}}function cm(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ph()}}class dm{constructor(t,e,i,n,r,s){this.settings=t,this.databaseId=e,this.yt=i,this.ignoreUndefinedProperties=n,void 0===r&&this.na(),this.fieldTransforms=r||[],this.fieldMask=s||[]}get path(){return this.settings.path}get sa(){return this.settings.sa}ia(t){return new dm(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.yt,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}ra(t){var e;const i=null===(e=this.path)||void 0===e?void 0:e.child(t),n=this.ia({path:i,oa:!1});return n.ua(t),n}ca(t){var e;const i=null===(e=this.path)||void 0===e?void 0:e.child(t),n=this.ia({path:i,oa:!1});return n.na(),n}aa(t){return this.ia({path:void 0,oa:!0})}ha(t){return Rm(t,this.settings.methodName,this.settings.la||!1,this.path,this.settings.fa)}contains(t){return void 0!==this.fieldMask.find((e=>t.isPrefixOf(e)))||void 0!==this.fieldTransforms.find((e=>t.isPrefixOf(e.field)))}na(){if(this.path)for(let t=0;t<this.path.length;t++)this.ua(this.path.get(t))}ua(t){if(0===t.length)throw this.ha("Document fields must not be empty");if(cm(this.sa)&&hm.test(t))throw this.ha('Document fields cannot begin and end with "__"')}}class fm{constructor(t,e,i){this.databaseId=t,this.ignoreUndefinedProperties=e,this.yt=i||sf(t)}da(t,e,i,n=!1){return new dm({sa:t,methodName:e,fa:i,path:Bh.emptyPath(),oa:!1,la:n},this.databaseId,this.yt,this.ignoreUndefinedProperties)}}function pm(t){const e=t._freezeSettings(),i=sf(t._databaseId);return new fm(t._databaseId,!!e.ignoreUndefinedProperties,i)}function mm(t,e,i,n,r,s={}){const o=t.da(s.merge||s.mergeFields?2:0,e,i,r);Sm("Data must be an object, but it was:",o,n);const a=Em(n,o);let h,u;if(s.merge)h=new el(o.fieldMask),u=o.fieldTransforms;else if(s.mergeFields){const t=[];for(const n of s.mergeFields){const r=Tm(e,n,i);if(!o.contains(r))throw new yh(vh.INVALID_ARGUMENT,`Field '${r}' is specified in your field mask but missing from your input data.`);Cm(t,r)||t.push(r)}h=new el(t),u=o.fieldTransforms.filter((t=>h.covers(t.field)))}else h=null,u=o.fieldTransforms;return new um(new il(a),h,u)}class gm extends om{_toFieldTransform(t){if(2!==t.sa)throw 1===t.sa?t.ha(`${this._methodName}() can only appear at the top level of your update data`):t.ha(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return t.fieldMask.push(t.path),null}isEqual(t){return t instanceof gm}}function vm(t,e,i){return new dm({sa:3,fa:e.settings.fa,methodName:t._methodName,oa:i},e.databaseId,e.yt,e.ignoreUndefinedProperties)}class ym extends om{_toFieldTransform(t){return new Vl(t.path,new Dl)}isEqual(t){return t instanceof ym}}class bm extends om{constructor(t,e){super(t),this._a=e}_toFieldTransform(t){const e=vm(this,t,!0),i=this._a.map((t=>km(t,e))),n=new Ol(i);return new Vl(t.path,n)}isEqual(t){return this===t}}class wm extends om{constructor(t,e){super(t),this._a=e}_toFieldTransform(t){const e=vm(this,t,!0),i=this._a.map((t=>km(t,e))),n=new Pl(i);return new Vl(t.path,n)}isEqual(t){return this===t}}function _m(t,e,i,n){const r=t.da(1,e,i);Sm("Data must be an object, but it was:",r,n);const s=[],o=il.empty();Jh(n,((t,n)=>{const a=qm(e,t,i);n=D(n);const h=r.ca(a);if(n instanceof gm)s.push(a);else{const t=km(n,h);null!=t&&(s.push(a),o.set(a,t))}}));const a=new el(s);return new lm(o,a,r.fieldTransforms)}function Mm(t,e,i,n,r,s){const o=t.da(1,e,i),a=[Tm(e,n,i)],h=[r];if(s.length%2!=0)throw new yh(vh.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let t=0;t<s.length;t+=2)a.push(Tm(e,s[t])),h.push(s[t+1]);const u=[],l=il.empty();for(let t=a.length-1;t>=0;--t)if(!Cm(u,a[t])){const e=a[t];let i=h[t];i=D(i);const n=o.ca(e);if(i instanceof gm)u.push(e);else{const t=km(i,n);null!=t&&(u.push(e),l.set(e,t))}}const c=new el(u);return new lm(l,c,o.fieldTransforms)}function Am(t,e,i,n=!1){return km(i,t.da(n?4:3,e))}function km(t,e){if(xm(t=D(t)))return Sm("Unsupported field value:",e,t),Em(t,e);if(t instanceof om)return function(t,e){if(!cm(e.sa))throw e.ha(`${t._methodName}() can only be used with update() and set()`);if(!e.path)throw e.ha(`${t._methodName}() is not currently supported inside arrays`);const i=t._toFieldTransform(e);i&&e.fieldTransforms.push(i)}(t,e),null;if(void 0===t&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.oa&&4!==e.sa)throw e.ha("Nested arrays are not supported");return function(t,e){const i=[];let n=0;for(const r of t){let t=km(r,e.aa(n));null==t&&(t={nullValue:"NULL_VALUE"}),i.push(t),n++}return{arrayValue:{values:i}}}(t,e)}return function(t,e){if(null===(t=D(t)))return{nullValue:"NULL_VALUE"};if("number"==typeof t)return ql(e.yt,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){const i=Ch.fromDate(t);return{timestampValue:Pc(e.yt,i)}}if(t instanceof Ch){const i=new Ch(t.seconds,1e3*Math.floor(t.nanoseconds/1e3));return{timestampValue:Pc(e.yt,i)}}if(t instanceof am)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof rm)return{bytesValue:Uc(e.yt,t._byteString)};if(t instanceof Bp){const i=e.databaseId,n=t.firestore._databaseId;if(!n.isEqual(i))throw e.ha(`Document reference is for database ${n.projectId}/${n.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:zc(t.firestore._databaseId||e.databaseId,t._key.path)}}throw e.ha(`Unsupported field value: ${Rp(t)}`)}(t,e)}function Em(t,e){const i={};return tu(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Jh(t,((t,n)=>{const r=km(n,e.ra(t));null!=r&&(i[t]=r)})),{mapValue:{fields:i}}}function xm(t){return!("object"!=typeof t||null===t||t instanceof Array||t instanceof Date||t instanceof Ch||t instanceof am||t instanceof rm||t instanceof Bp||t instanceof om)}function Sm(t,e,i){if(!xm(i)||!function(t){return"object"==typeof t&&null!==t&&(Object.getPrototypeOf(t)===Object.prototype||null===Object.getPrototypeOf(t))}(i)){const n=Rp(i);throw"an object"===n?e.ha(t+" a custom object"):e.ha(t+" "+n)}}function Tm(t,e,i){if((e=D(e))instanceof sm)return e._internalPath;if("string"==typeof e)return qm(t,e);throw Rm("Field path arguments must be of type string or ",t,!1,void 0,i)}const Im=new RegExp("[~\\*/\\[\\]]");function qm(t,e,i){if(e.search(Im)>=0)throw Rm(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,i);try{return new sm(...e.split("."))._internalPath}catch(n){throw Rm(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,i)}}function Rm(t,e,i,n,r){const s=n&&!n.isEmpty(),o=void 0!==r;let a=`Function ${e}() called with invalid data`;i&&(a+=" (via `toFirestore()`)"),a+=". ";let h="";return(s||o)&&(h+=" (found",s&&(h+=` in field ${n}`),o&&(h+=` in document ${r}`),h+=")"),new yh(vh.INVALID_ARGUMENT,a+t+h)}function Cm(t,e){return t.some((t=>t.isEqual(e)))}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nm{constructor(t,e,i,n,r){this._firestore=t,this._userDataWriter=e,this._key=i,this._document=n,this._converter=r}get id(){return this._key.path.lastSegment()}get ref(){return new Bp(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const t=new Lm(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const e=this._document.data.field(Dm("DocumentSnapshot.get",t));if(null!==e)return this._userDataWriter.convertValue(e)}}}class Lm extends Nm{data(){return super.data()}}function Dm(t,e){return"string"==typeof e?qm(t,e):e instanceof sm?e._internalPath:e._delegate._internalPath}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Om(t){if("L"===t.limitType&&0===t.explicitOrderBy.length)throw new yh(vh.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Bm{}class Pm extends Bm{}function Um(t,e,...i){let n=[];e instanceof Bm&&n.push(e),n=n.concat(i),function(t){const e=t.filter((t=>t instanceof zm)).length,i=t.filter((t=>t instanceof Fm)).length;if(e>1||e>0&&i>0)throw new yh(vh.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(n);for(const e of n)t=e._apply(t);return t}class Fm extends Pm{constructor(t,e,i){super(),this._field=t,this._op=e,this._value=i,this.type="where"}static _create(t,e,i){return new Fm(t,e,i)}_apply(t){const e=this._parse(t);return Qm(t._query,e),new Pp(t.firestore,t.converter,bl(t._query,e))}_parse(t){const e=pm(t.firestore),i=function(t,e,i,n,r,s,o){let a;if(r.isKeyField()){if("array-contains"===s||"array-contains-any"===s)throw new yh(vh.INVALID_ARGUMENT,`Invalid Query. You can't perform '${s}' queries on documentId().`);if("in"===s||"not-in"===s){Wm(o,s);const e=[];for(const i of o)e.push(Gm(n,t,i));a={arrayValue:{values:e}}}else a=Gm(n,t,o)}else"in"!==s&&"not-in"!==s&&"array-contains-any"!==s||Wm(o,s),a=Am(i,"where",o,"in"===s||"not-in"===s);return Cu.create(r,s,a)}(t._query,0,e,t.firestore._databaseId,this._field,this._op,this._value);return i}}function jm(t,e,i){const n=e,r=Dm("where",t);return Fm._create(r,n,i)}class zm extends Bm{constructor(t,e){super(),this.type=t,this._queryConstraints=e}static _create(t,e){return new zm(t,e)}_parse(t){const e=this._queryConstraints.map((e=>e._parse(t))).filter((t=>t.getFilters().length>0));return 1===e.length?e[0]:Nu.create(e,this._getOperator())}_apply(t){const e=this._parse(t);return 0===e.getFilters().length?t:(function(t,e){let i=t;const n=e.getFlattenedFilters();for(const t of n)Qm(i,t),i=bl(i,t)}(t._query,e),new Pp(t.firestore,t.converter,bl(t._query,e)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}class Vm extends Pm{constructor(t,e){super(),this._field=t,this._direction=e,this.type="orderBy"}static _create(t,e){return new Vm(t,e)}_apply(t){const e=function(t,e,i){if(null!==t.startAt)throw new yh(vh.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==t.endAt)throw new yh(vh.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const n=new Qu(e,i);return function(t,e){if(null===pl(t)){const i=ml(t);null!==i&&$m(t,i,e.field)}}(t,n),n}(t._query,this._field,this._direction);return new Pp(t.firestore,t.converter,function(t,e){const i=t.explicitOrderBy.concat([e]);return new ll(t.path,t.collectionGroup,i,t.filters.slice(),t.limit,t.limitType,t.startAt,t.endAt)}(t._query,e))}}function Hm(t,e="asc"){const i=e,n=Dm("orderBy",t);return Vm._create(n,i)}class Km extends Pm{constructor(t,e,i){super(),this.type=t,this._limit=e,this._limitType=i}static _create(t,e,i){return new Km(t,e,i)}_apply(t){return new Pp(t.firestore,t.converter,wl(t._query,this._limit,this._limitType))}}function Gm(t,e,i){if("string"==typeof(i=D(i))){if(""===i)throw new yh(vh.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!gl(e)&&-1!==i.indexOf("/"))throw new yh(vh.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${i}' contains a '/' character.`);const n=e.path.child(Dh.fromString(i));if(!Ph.isDocumentKey(n))throw new yh(vh.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${n}' is not because it has an odd number of segments (${n.length}).`);return wu(t,new Ph(n))}if(i instanceof Bp)return wu(t,i._key);throw new yh(vh.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Rp(i)}.`)}function Wm(t,e){if(!Array.isArray(t)||0===t.length)throw new yh(vh.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`);if(t.length>10)throw new yh(vh.INVALID_ARGUMENT,`Invalid Query. '${e.toString()}' filters support a maximum of 10 elements in the value array.`)}function Qm(t,e){if(e.isInequality()){const i=ml(t),n=e.field;if(null!==i&&!i.isEqual(n))throw new yh(vh.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${i.toString()}' and '${n.toString()}'`);const r=pl(t);null!==r&&$m(t,n,r)}const i=function(t,e){for(const i of t)for(const t of i.getFlattenedFilters())if(e.indexOf(t.op)>=0)return t.op;return null}(t.filters,function(t){switch(t){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(null!==i)throw i===e.op?new yh(vh.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new yh(vh.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${i.toString()}' filters.`)}function $m(t,e,i){if(!i.isEqual(e))throw new yh(vh.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${e.toString()}' and so you must also use '${e.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${i.toString()}' instead.`)}class Zm{convertValue(t,e="none"){switch(fu(t)){case 0:return null;case 1:return t.booleanValue;case 2:return au(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,e);case 5:return t.stringValue;case 6:return this.convertBytes(hu(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,e);case 10:return this.convertObject(t.mapValue,e);default:throw ph()}}convertObject(t,e){const i={};return Jh(t.fields,((t,n)=>{i[t]=this.convertValue(n,e)})),i}convertGeoPoint(t){return new am(au(t.latitude),au(t.longitude))}convertArray(t,e){return(t.values||[]).map((t=>this.convertValue(t,e)))}convertServerTimestamp(t,e){switch(e){case"previous":const i=lu(t);return null==i?null:this.convertValue(i,e);case"estimate":return this.convertTimestamp(cu(t));default:return null}}convertTimestamp(t){const e=ou(t);return new Ch(e.seconds,e.nanos)}convertDocumentKey(t,e){const i=Dh.fromString(t);mh(ud(i));const n=new Yh(i.get(1),i.get(3)),r=new Ph(i.popFirst(5));return n.isEqual(e)||ch(`Document ${r} contains a document reference within a different database (${n.projectId}/${n.database}) which is not supported. It will be treated as a reference in the current database (${e.projectId}/${e.database}) instead.`),r}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ym(t,e,i){let n;return n=t?i&&(i.merge||i.mergeFields)?t.toFirestore(e,i):t.toFirestore(e):e,n}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class Xm{constructor(t,e){this.hasPendingWrites=t,this.fromCache=e}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class Jm extends Nm{constructor(t,e,i,n,r,s){super(t,e,i,n,s),this._firestore=t,this._firestoreImpl=t,this.metadata=r}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const e=new tg(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(e,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,e={}){if(this._document){const i=this._document.data.field(Dm("DocumentSnapshot.get",t));if(null!==i)return this._userDataWriter.convertValue(i,e.serverTimestamps)}}}class tg extends Jm{data(t={}){return super.data(t)}}class eg{constructor(t,e,i,n){this._firestore=t,this._userDataWriter=e,this._snapshot=n,this.metadata=new Xm(n.hasPendingWrites,n.fromCache),this.query=i}get docs(){const t=[];return this.forEach((e=>t.push(e))),t}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(t,e){this._snapshot.docs.forEach((i=>{t.call(e,new tg(this._firestore,this._userDataWriter,i.key,i,new Xm(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(t={}){const e=!!t.includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new yh(vh.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=function(t,e){if(t._snapshot.oldDocs.isEmpty()){let e=0;return t._snapshot.docChanges.map((i=>{const n=new tg(t._firestore,t._userDataWriter,i.doc.key,i.doc,new Xm(t._snapshot.mutatedKeys.has(i.doc.key),t._snapshot.fromCache),t.query.converter);return i.doc,{type:"added",doc:n,oldIndex:-1,newIndex:e++}}))}{let i=t._snapshot.oldDocs;return t._snapshot.docChanges.filter((t=>e||3!==t.type)).map((e=>{const n=new tg(t._firestore,t._userDataWriter,e.doc.key,e.doc,new Xm(t._snapshot.mutatedKeys.has(e.doc.key),t._snapshot.fromCache),t.query.converter);let r=-1,s=-1;return 0!==e.type&&(r=i.indexOf(e.doc.key),i=i.delete(e.doc.key)),1!==e.type&&(i=i.add(e.doc),s=i.indexOf(e.doc.key)),{type:ig(e.type),doc:n,oldIndex:r,newIndex:s}}))}}(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges}}function ig(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ph()}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function ng(t){t=Cp(t,Bp);const e=Cp(t.firestore,tm);return Zp(im(e),t._key).then((i=>dg(e,t,i)))}class rg extends Zm{constructor(t){super(),this.firestore=t}convertBytes(t){return new rm(t)}convertReference(t){const e=this.convertDocumentKey(t,this.firestore._databaseId);return new Bp(this.firestore,null,e)}}function sg(t){t=Cp(t,Pp);const e=Cp(t.firestore,tm),i=im(e),n=new rg(e);return Om(t._query),Yp(i,t._query).then((i=>new eg(e,n,t,i)))}function og(t,e,i){t=Cp(t,Bp);const n=Cp(t.firestore,tm),r=Ym(t.converter,e,i);return cg(n,[mm(pm(n),"setDoc",t._key,r,null!==t.converter,i).toMutation(t._key,Kl.none())])}function ag(t,e,i,...n){t=Cp(t,Bp);const r=Cp(t.firestore,tm),s=pm(r);let o;return o="string"==typeof(e=D(e))||e instanceof sm?Mm(s,"updateDoc",t._key,e,i,n):_m(s,"updateDoc",t._key,e),cg(r,[o.toMutation(t._key,Kl.exists(!0))])}function hg(t){return cg(Cp(t.firestore,tm),[new rc(t._key,Kl.none())])}function ug(t,e){const i=Cp(t.firestore,tm),n=jp(t),r=Ym(t.converter,e);return cg(i,[mm(pm(t.firestore),"addDoc",n._key,r,null!==t.converter,{}).toMutation(n._key,Kl.exists(!1))]).then((()=>n))}function lg(t,...e){var i,n,r;t=D(t);let s={includeMetadataChanges:!1},o=0;"object"!=typeof e[o]||Jp(e[o])||(s=e[o],o++);const a={includeMetadataChanges:s.includeMetadataChanges};if(Jp(e[o])){const t=e[o];e[o]=null===(i=t.next)||void 0===i?void 0:i.bind(t),e[o+1]=null===(n=t.error)||void 0===n?void 0:n.bind(t),e[o+2]=null===(r=t.complete)||void 0===r?void 0:r.bind(t)}let h,u,l;if(t instanceof Bp)u=Cp(t.firestore,tm),l=dl(t._key.path),h={next:i=>{e[o]&&e[o](dg(u,t,i))},error:e[o+1],complete:e[o+2]};else{const i=Cp(t,Pp);u=Cp(i.firestore,tm),l=i._query;const n=new rg(u);h={next:t=>{e[o]&&e[o](new eg(u,n,i,t))},error:e[o+1],complete:e[o+2]},Om(t._query)}return function(t,e,i,n){const r=new zp(n),s=new Jf(e,r,i);return t.asyncQueue.enqueueAndForget((async()=>Qf(await $p(t),s))),()=>{r.bc(),t.asyncQueue.enqueueAndForget((async()=>$f(await $p(t),s)))}}(im(u),l,a,h)}function cg(t,e){return function(t,e){const i=new bh;return t.asyncQueue.enqueueAndForget((async()=>async function(t,e,i){const n=Ep(t);try{const t=await function(t,e){const i=gh(t),n=Ch.now(),r=e.reduce(((t,e)=>t.add(e.key)),Mc());let s,o;return i.persistence.runTransaction("Locally write mutations","readwrite",(t=>{let a=fc(),h=Mc();return i.Gi.getEntries(t,r).next((t=>{a=t,a.forEach(((t,e)=>{e.isValidDocument()||(h=h.add(t))}))})).next((()=>i.localDocuments.getOverlayedDocuments(t,a))).next((r=>{s=r;const o=[];for(const t of e){const e=Yl(t,s.get(t.key).overlayedDocument);null!=e&&o.push(new tc(t.key,e,nl(e.value.mapValue),Kl.exists(!0)))}return i.mutationQueue.addMutationBatch(t,n,o,e)})).next((e=>{o=e;const n=e.applyToLocalDocumentSet(s,h);return i.documentOverlayCache.saveOverlays(t,e.batchId,n)}))})).then((()=>({batchId:o.batchId,changes:gc(s)})))}(n.localStore,e);n.sharedClientState.addPendingMutation(t.batchId),function(t,e,i){let n=t.hc[t.currentUser.toKey()];n||(n=new Zu(qh)),n=n.insert(e,i),t.hc[t.currentUser.toKey()]=n}(n,t.batchId,i),await _p(n,t.changes),await Tf(n.remoteStore)}catch(t){const e=zf(t,"Failed to persist write");i.reject(e)}}(await Qp(t),e,i))),i.promise}(im(t),e)}function dg(t,e,i){const n=i.docs.get(e._key),r=new rg(t);return new Jm(t,r,e._key,n,new Xm(i.hasPendingWrites,i.fromCache),e.converter)}
/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fg(){return new ym("serverTimestamp")}function pg(...t){return new bm("arrayUnion",t)}function mg(...t){return new wm("arrayRemove",t)}!function(t,e=!0){ah=xt,Mt(new O("firestore",((t,{instanceIdentifier:i,options:n})=>{const r=t.getProvider("app").getImmediate(),s=new tm(new Ah(t.getProvider("auth-internal")),new Sh(t.getProvider("app-check-internal")),function(t,e){if(!Object.prototype.hasOwnProperty.apply(t.options,["projectId"]))throw new yh(vh.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Yh(t.options.projectId,e)}(r,i),r);return n=Object.assign({useFetchStreams:e},n),s._setSettings(n),s}),"PUBLIC").setMultipleInstances(!0)),It(sh,"3.8.3",t),It(sh,"3.8.3","esm2017")}();
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
const gg="firebasestorage.googleapis.com",vg="storageBucket";
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class yg extends A{constructor(t,e,i=0){super(Ag(t),`Firebase Storage: ${e} (${Ag(t)})`),this.status_=i,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,yg.prototype)}get status(){return this.status_}set status(t){this.status_=t}_codeEquals(t){return Ag(t)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(t){this.customData.serverResponse=t,this.customData.serverResponse?this.message=`${this._baseMessage}\n${this.customData.serverResponse}`:this.message=this._baseMessage}}var bg,wg,_g,Mg;function Ag(t){return"storage/"+t}function kg(){return new yg(bg.UNKNOWN,"An unknown error occurred, please check the error payload for server response.")}function Eg(){return new yg(bg.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function xg(){return new yg(bg.CANCELED,"User canceled the upload/download.")}function Sg(){return new yg(bg.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function Tg(t){return new yg(bg.INVALID_ARGUMENT,t)}function Ig(){return new yg(bg.APP_DELETED,"The Firebase app was deleted.")}function qg(t,e){return new yg(bg.INVALID_FORMAT,"String does not match format '"+t+"': "+e)}function Rg(t){throw new yg(bg.INTERNAL_ERROR,"Internal error: "+t)}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(wg=bg||(bg={})).UNKNOWN="unknown",wg.OBJECT_NOT_FOUND="object-not-found",wg.BUCKET_NOT_FOUND="bucket-not-found",wg.PROJECT_NOT_FOUND="project-not-found",wg.QUOTA_EXCEEDED="quota-exceeded",wg.UNAUTHENTICATED="unauthenticated",wg.UNAUTHORIZED="unauthorized",wg.UNAUTHORIZED_APP="unauthorized-app",wg.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",wg.INVALID_CHECKSUM="invalid-checksum",wg.CANCELED="canceled",wg.INVALID_EVENT_NAME="invalid-event-name",wg.INVALID_URL="invalid-url",wg.INVALID_DEFAULT_BUCKET="invalid-default-bucket",wg.NO_DEFAULT_BUCKET="no-default-bucket",wg.CANNOT_SLICE_BLOB="cannot-slice-blob",wg.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",wg.NO_DOWNLOAD_URL="no-download-url",wg.INVALID_ARGUMENT="invalid-argument",wg.INVALID_ARGUMENT_COUNT="invalid-argument-count",wg.APP_DELETED="app-deleted",wg.INVALID_ROOT_OPERATION="invalid-root-operation",wg.INVALID_FORMAT="invalid-format",wg.INTERNAL_ERROR="internal-error",wg.UNSUPPORTED_ENVIRONMENT="unsupported-environment";class Cg{constructor(t,e){this.bucket=t,this.path_=e}get path(){return this.path_}get isRoot(){return 0===this.path.length}fullServerUrl(){const t=encodeURIComponent;return"/b/"+t(this.bucket)+"/o/"+t(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(t,e){let i;try{i=Cg.makeFromUrl(t,e)}catch(e){return new Cg(t,"")}if(""===i.path)return i;throw n=t,new yg(bg.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+n+"'.");var n}static makeFromUrl(t,e){let i=null;const n="([A-Za-z0-9.\\-_]+)";const r=new RegExp("^gs://"+n+"(/(.*))?$","i");function s(t){t.path_=decodeURIComponent(t.path)}const o=e.replace(/[.]/g,"\\."),a=[{regex:r,indices:{bucket:1,path:3},postModify:function(t){"/"===t.path.charAt(t.path.length-1)&&(t.path_=t.path_.slice(0,-1))}},{regex:new RegExp(`^https?://${o}/v[A-Za-z0-9_]+/b/${n}/o(/([^?#]*).*)?$`,"i"),indices:{bucket:1,path:3},postModify:s},{regex:new RegExp(`^https?://${e===gg?"(?:storage.googleapis.com|storage.cloud.google.com)":e}/${n}/([^?#]*)`,"i"),indices:{bucket:1,path:2},postModify:s}];for(let e=0;e<a.length;e++){const n=a[e],r=n.regex.exec(t);if(r){const t=r[n.indices.bucket];let e=r[n.indices.path];e||(e=""),i=new Cg(t,e),n.postModify(i);break}}if(null==i)throw function(t){return new yg(bg.INVALID_URL,"Invalid URL '"+t+"'.")}(t);return i}}class Ng{constructor(t){this.promise_=Promise.reject(t)}getPromise(){return this.promise_}cancel(t=!1){}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lg(t){return"string"==typeof t||t instanceof String}function Dg(t){return Og()&&t instanceof Blob}function Og(){return"undefined"!=typeof Blob&&!b()}function Bg(t,e,i,n){if(n<e)throw Tg(`Invalid value for '${t}'. Expected ${e} or greater.`);if(n>i)throw Tg(`Invalid value for '${t}'. Expected ${i} or less.`)}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pg(t,e,i){let n=e;return null==i&&(n=`https://${e}`),`${i}://${n}/v0${t}`}function Ug(t){const e=encodeURIComponent;let i="?";for(const n in t)if(t.hasOwnProperty(n)){i=i+(e(n)+"="+e(t[n]))+"&"}return i=i.slice(0,-1),i}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function Fg(t,e){const i=t>=500&&t<600,n=-1!==[408,429].indexOf(t),r=-1!==e.indexOf(t);return i||n||r}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(Mg=_g||(_g={}))[Mg.NO_ERROR=0]="NO_ERROR",Mg[Mg.NETWORK_ERROR=1]="NETWORK_ERROR",Mg[Mg.ABORT=2]="ABORT";class jg{constructor(t,e,i,n,r,s,o,a,h,u,l,c=!0){this.url_=t,this.method_=e,this.headers_=i,this.body_=n,this.successCodes_=r,this.additionalRetryCodes_=s,this.callback_=o,this.errorCallback_=a,this.timeout_=h,this.progressCallback_=u,this.connectionFactory_=l,this.retry=c,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise(((t,e)=>{this.resolve_=t,this.reject_=e,this.start_()}))}start_(){const t=(t,e)=>{const i=this.resolve_,n=this.reject_,r=e.connection;if(e.wasSuccessCode)try{const t=this.callback_(r,r.getResponse());void 0!==t?i(t):i()}catch(t){n(t)}else if(null!==r){const t=kg();t.serverResponse=r.getErrorText(),this.errorCallback_?n(this.errorCallback_(r,t)):n(t)}else if(e.canceled){n(this.appDelete_?Ig():xg())}else{n(Eg())}};this.canceled_?t(0,new zg(!1,null,!0)):this.backoffId_=function(t,e,i){let n=1,r=null,s=null,o=!1,a=0;function h(){return 2===a}let u=!1;function l(...t){u||(u=!0,e.apply(null,t))}function c(e){r=setTimeout((()=>{r=null,t(f,h())}),e)}function d(){s&&clearTimeout(s)}function f(t,...e){if(u)return void d();if(t)return d(),void l.call(null,t,...e);if(h()||o)return d(),void l.call(null,t,...e);let i;n<64&&(n*=2),1===a?(a=2,i=0):i=1e3*(n+Math.random()),c(i)}let p=!1;function m(t){p||(p=!0,d(),u||(null!==r?(t||(a=2),clearTimeout(r),c(0)):t||(a=1)))}return c(0),s=setTimeout((()=>{o=!0,m(!0)}),i),m}(((t,e)=>{if(e)return void t(!1,new zg(!1,null,!0));const i=this.connectionFactory_();this.pendingConnection_=i;const n=t=>{const e=t.loaded,i=t.lengthComputable?t.total:-1;null!==this.progressCallback_&&this.progressCallback_(e,i)};null!==this.progressCallback_&&i.addUploadProgressListener(n),i.send(this.url_,this.method_,this.body_,this.headers_).then((()=>{null!==this.progressCallback_&&i.removeUploadProgressListener(n),this.pendingConnection_=null;const e=i.getErrorCode()===_g.NO_ERROR,r=i.getStatus();if(!e||Fg(r,this.additionalRetryCodes_)&&this.retry){const e=i.getErrorCode()===_g.ABORT;return void t(!1,new zg(!1,null,e))}const s=-1!==this.successCodes_.indexOf(r);t(!0,new zg(s,i))}))}),t,this.timeout_)}getPromise(){return this.promise_}cancel(t){this.canceled_=!0,this.appDelete_=t||!1,null!==this.backoffId_&&(0,this.backoffId_)(!1),null!==this.pendingConnection_&&this.pendingConnection_.abort()}}class zg{constructor(t,e,i){this.wasSuccessCode=t,this.connection=e,this.canceled=!!i}}function Vg(...t){const e="undefined"!=typeof BlobBuilder?BlobBuilder:"undefined"!=typeof WebKitBlobBuilder?WebKitBlobBuilder:void 0;if(void 0!==e){const i=new e;for(let e=0;e<t.length;e++)i.append(t[e]);return i.getBlob()}if(Og())return new Blob(t);throw new yg(bg.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}
/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hg(t){if("undefined"==typeof atob)throw e="base-64",new yg(bg.UNSUPPORTED_ENVIRONMENT,`${e} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`);var e;return atob(t)}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kg={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class Gg{constructor(t,e){this.data=t,this.contentType=e||null}}function Wg(t,e){switch(t){case Kg.RAW:return new Gg(Qg(e));case Kg.BASE64:case Kg.BASE64URL:return new Gg($g(t,e));case Kg.DATA_URL:return new Gg(function(t){const e=new Zg(t);return e.base64?$g(Kg.BASE64,e.rest):function(t){let e;try{e=decodeURIComponent(t)}catch(t){throw qg(Kg.DATA_URL,"Malformed data URL.")}return Qg(e)}(e.rest)}(e),new Zg(e).contentType)}throw kg()}function Qg(t){const e=[];for(let i=0;i<t.length;i++){let n=t.charCodeAt(i);if(n<=127)e.push(n);else if(n<=2047)e.push(192|n>>6,128|63&n);else if(55296==(64512&n)){if(i<t.length-1&&56320==(64512&t.charCodeAt(i+1))){n=65536|(1023&n)<<10|1023&t.charCodeAt(++i),e.push(240|n>>18,128|n>>12&63,128|n>>6&63,128|63&n)}else e.push(239,191,189)}else 56320==(64512&n)?e.push(239,191,189):e.push(224|n>>12,128|n>>6&63,128|63&n)}return new Uint8Array(e)}function $g(t,e){switch(t){case Kg.BASE64:{const i=-1!==e.indexOf("-"),n=-1!==e.indexOf("_");if(i||n){throw qg(t,"Invalid character '"+(i?"-":"_")+"' found: is it base64url encoded?")}break}case Kg.BASE64URL:{const i=-1!==e.indexOf("+"),n=-1!==e.indexOf("/");if(i||n){throw qg(t,"Invalid character '"+(i?"+":"/")+"' found: is it base64 encoded?")}e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let i;try{i=Hg(e)}catch(e){if(e.message.includes("polyfill"))throw e;throw qg(t,"Invalid character found")}const n=new Uint8Array(i.length);for(let t=0;t<i.length;t++)n[t]=i.charCodeAt(t);return n}class Zg{constructor(t){this.base64=!1,this.contentType=null;const e=t.match(/^data:([^,]+)?,/);if(null===e)throw qg(Kg.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const i=e[1]||null;var n,r;
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */null!=i&&(this.base64=(r=";base64",!!((n=i).length>=r.length)&&n.substring(n.length-r.length)===r),this.contentType=this.base64?i.substring(0,i.length-7):i),this.rest=t.substring(t.indexOf(",")+1)}}class Yg{constructor(t,e){let i=0,n="";Dg(t)?(this.data_=t,i=t.size,n=t.type):t instanceof ArrayBuffer?(e?this.data_=new Uint8Array(t):(this.data_=new Uint8Array(t.byteLength),this.data_.set(new Uint8Array(t))),i=this.data_.length):t instanceof Uint8Array&&(e?this.data_=t:(this.data_=new Uint8Array(t.length),this.data_.set(t)),i=t.length),this.size_=i,this.type_=n}size(){return this.size_}type(){return this.type_}slice(t,e){if(Dg(this.data_)){const s=this.data_,o=(n=t,r=e,(i=s).webkitSlice?i.webkitSlice(n,r):i.mozSlice?i.mozSlice(n,r):i.slice?i.slice(n,r):null);return null===o?null:new Yg(o)}{const i=new Uint8Array(this.data_.buffer,t,e-t);return new Yg(i,!0)}var i,n,r}static getBlob(...t){if(Og()){const e=t.map((t=>t instanceof Yg?t.data_:t));return new Yg(Vg.apply(null,e))}{const e=t.map((t=>Lg(t)?Wg(Kg.RAW,t).data:t.data_));let i=0;e.forEach((t=>{i+=t.byteLength}));const n=new Uint8Array(i);let r=0;return e.forEach((t=>{for(let e=0;e<t.length;e++)n[r++]=t[e]})),new Yg(n,!0)}}uploadData(){return this.data_}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xg(t){let e;try{e=JSON.parse(t)}catch(t){return null}return"object"!=typeof(i=e)||Array.isArray(i)?null:e;var i}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jg(t){const e=t.lastIndexOf("/",t.length-2);return-1===e?t:t.slice(e+1)}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tv(t,e){return e}class ev{constructor(t,e,i,n){this.server=t,this.local=e||t,this.writable=!!i,this.xform=n||tv}}let iv=null;function nv(){if(iv)return iv;const t=[];t.push(new ev("bucket")),t.push(new ev("generation")),t.push(new ev("metageneration")),t.push(new ev("name","fullPath",!0));const e=new ev("name");e.xform=function(t,e){return function(t){return!Lg(t)||t.length<2?t:Jg(t)}(e)},t.push(e);const i=new ev("size");return i.xform=function(t,e){return void 0!==e?Number(e):e},t.push(i),t.push(new ev("timeCreated")),t.push(new ev("updated")),t.push(new ev("md5Hash",null,!0)),t.push(new ev("cacheControl",null,!0)),t.push(new ev("contentDisposition",null,!0)),t.push(new ev("contentEncoding",null,!0)),t.push(new ev("contentLanguage",null,!0)),t.push(new ev("contentType",null,!0)),t.push(new ev("metadata","customMetadata",!0)),iv=t,iv}function rv(t,e,i){const n={type:"file"},r=i.length;for(let t=0;t<r;t++){const r=i[t];n[r.local]=r.xform(n,e[r.server])}return function(t,e){Object.defineProperty(t,"ref",{get:function(){const i=t.bucket,n=t.fullPath,r=new Cg(i,n);return e._makeStorageReference(r)}})}(n,t),n}function sv(t,e,i){const n=Xg(e);if(null===n)return null;return rv(t,n,i)}function ov(t,e){const i={},n=e.length;for(let r=0;r<n;r++){const n=e[r];n.writable&&(i[n.server]=t[n.local])}return JSON.stringify(i)}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class av{constructor(t,e,i,n){this.url=t,this.method=e,this.handler=i,this.timeout=n,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hv(t){if(!t)throw kg()}function uv(t,e){return function(i,n){const r=sv(t,n,e);return hv(null!==r),r}}function lv(t,e){return function(i,n){const r=sv(t,n,e);return hv(null!==r),function(t,e,i,n){const r=Xg(e);if(null===r)return null;if(!Lg(r.downloadTokens))return null;const s=r.downloadTokens;if(0===s.length)return null;const o=encodeURIComponent;return s.split(",").map((e=>{const r=t.bucket,s=t.fullPath;return Pg("/b/"+o(r)+"/o/"+o(s),i,n)+Ug({alt:"media",token:e})}))[0]}(r,n,t.host,t._protocol)}}function cv(t){return function(e,i){let n;var r,s;return 401===e.getStatus()?n=e.getErrorText().includes("Firebase App Check token is invalid")?new yg(bg.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project."):new yg(bg.UNAUTHENTICATED,"User is not authenticated, please authenticate using Firebase Authentication and try again."):402===e.getStatus()?(s=t.bucket,n=new yg(bg.QUOTA_EXCEEDED,"Quota for bucket '"+s+"' exceeded, please view quota on https://firebase.google.com/pricing/.")):403===e.getStatus()?(r=t.path,n=new yg(bg.UNAUTHORIZED,"User does not have permission to access '"+r+"'.")):n=i,n.status=e.getStatus(),n.serverResponse=i.serverResponse,n}}function dv(t){const e=cv(t);return function(i,n){let r=e(i,n);var s;return 404===i.getStatus()&&(s=t.path,r=new yg(bg.OBJECT_NOT_FOUND,"Object '"+s+"' does not exist.")),r.serverResponse=n.serverResponse,r}}function fv(t,e,i){const n=Pg(e.fullServerUrl(),t.host,t._protocol),r=t.maxOperationRetryTime,s=new av(n,"GET",uv(t,i),r);return s.errorHandler=dv(e),s}function pv(t,e,i){const n=Object.assign({},i);return n.fullPath=t.path,n.size=e.size(),n.contentType||(n.contentType=function(t,e){return t&&t.contentType||e&&e.type()||"application/octet-stream"}(null,e)),n}function mv(t,e,i,n,r){const s=e.bucketOnlyServerUrl(),o={"X-Goog-Upload-Protocol":"multipart"};const a=function(){let t="";for(let e=0;e<2;e++)t+=Math.random().toString().slice(2);return t}();o["Content-Type"]="multipart/related; boundary="+a;const h=pv(e,n,r),u="--"+a+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+ov(h,i)+"\r\n--"+a+"\r\nContent-Type: "+h.contentType+"\r\n\r\n",l="\r\n--"+a+"--",c=Yg.getBlob(u,n,l);if(null===c)throw Sg();const d={name:h.fullPath},f=Pg(s,t.host,t._protocol),p=t.maxUploadRetryTime,m=new av(f,"POST",uv(t,i),p);return m.urlParams=d,m.headers=o,m.body=c.uploadData(),m.errorHandler=cv(e),m}class gv{constructor(t,e,i,n){this.current=t,this.total=e,this.finalized=!!i,this.metadata=n||null}}function vv(t,e){let i=null;try{i=t.getResponseHeader("X-Goog-Upload-Status")}catch(t){hv(!1)}return hv(!!i&&-1!==(e||["active"]).indexOf(i)),i}const yv=262144;function bv(t,e,i,n,r,s,o,a){const h=new gv(0,0);if(o?(h.current=o.current,h.total=o.total):(h.current=0,h.total=n.size()),n.size()!==h.total)throw new yg(bg.SERVER_FILE_WRONG_SIZE,"Server recorded incorrect upload file size, please retry the upload.");const u=h.total-h.current;let l=u;r>0&&(l=Math.min(l,r));const c=h.current,d=c+l;let f="";f=0===l?"finalize":u===l?"upload, finalize":"upload";const p={"X-Goog-Upload-Command":f,"X-Goog-Upload-Offset":`${h.current}`},m=n.slice(c,d);if(null===m)throw Sg();const g=e.maxUploadRetryTime,v=new av(i,"POST",(function(t,i){const r=vv(t,["active","final"]),o=h.current+l,a=n.size();let u;return u="final"===r?uv(e,s)(t,i):null,new gv(o,a,"final"===r,u)}),g);return v.headers=p,v.body=m.uploadData(),v.progressCallback=a||null,v.errorHandler=cv(t),v}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wv={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function _v(t){switch(t){case"running":case"pausing":case"canceling":return wv.RUNNING;case"paused":return wv.PAUSED;case"success":return wv.SUCCESS;case"canceled":return wv.CANCELED;default:return wv.ERROR}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mv{constructor(t,e,i){if("function"==typeof t||null!=e||null!=i)this.next=t,this.error=null!=e?e:void 0,this.complete=null!=i?i:void 0;else{const e=t;this.next=e.next,this.error=e.error,this.complete=e.complete}}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Av(t){return(...e)=>{Promise.resolve().then((()=>t(...e)))}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let kv=null;class Ev{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=_g.NO_ERROR,this.sendPromise_=new Promise((t=>{this.xhr_.addEventListener("abort",(()=>{this.errorCode_=_g.ABORT,t()})),this.xhr_.addEventListener("error",(()=>{this.errorCode_=_g.NETWORK_ERROR,t()})),this.xhr_.addEventListener("load",(()=>{t()}))}))}send(t,e,i,n){if(this.sent_)throw Rg("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(e,t,!0),void 0!==n)for(const t in n)n.hasOwnProperty(t)&&this.xhr_.setRequestHeader(t,n[t].toString());return void 0!==i?this.xhr_.send(i):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw Rg("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw Rg("cannot .getStatus() before sending");try{return this.xhr_.status}catch(t){return-1}}getResponse(){if(!this.sent_)throw Rg("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw Rg("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(t){return this.xhr_.getResponseHeader(t)}addUploadProgressListener(t){null!=this.xhr_.upload&&this.xhr_.upload.addEventListener("progress",t)}removeUploadProgressListener(t){null!=this.xhr_.upload&&this.xhr_.upload.removeEventListener("progress",t)}}class xv extends Ev{initXhr(){this.xhr_.responseType="text"}}function Sv(){return kv?kv():new xv}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class Tv{constructor(t,e,i=null){this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=t,this._blob=e,this._metadata=i,this._mappings=nv(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=t=>{if(this._request=void 0,this._chunkMultiplier=1,t._codeEquals(bg.CANCELED))this._needToFetchStatus=!0,this.completeTransitions_();else{const e=this.isExponentialBackoffExpired();if(Fg(t.status,[])){if(!e)return this.sleepTime=Math.max(2*this.sleepTime,1e3),this._needToFetchStatus=!0,void this.completeTransitions_();t=Eg()}this._error=t,this._transition("error")}},this._metadataErrorHandler=t=>{this._request=void 0,t._codeEquals(bg.CANCELED)?this.completeTransitions_():(this._error=t,this._transition("error"))},this.sleepTime=0,this.maxSleepTime=this._ref.storage.maxUploadRetryTime,this._promise=new Promise(((t,e)=>{this._resolve=t,this._reject=e,this._start()})),this._promise.then(null,(()=>{}))}isExponentialBackoffExpired(){return this.sleepTime>this.maxSleepTime}_makeProgressCallback(){const t=this._transferred;return e=>this._updateProgress(t+e)}_shouldDoResumable(t){return t.size()>262144}_start(){"running"===this._state&&void 0===this._request&&(this._resumable?void 0===this._uploadUrl?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this.pendingTimeout=setTimeout((()=>{this.pendingTimeout=void 0,this._continueUpload()}),this.sleepTime):this._oneShotUpload())}_resolveToken(t){Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then((([e,i])=>{switch(this._state){case"running":t(e,i);break;case"canceling":this._transition("canceled");break;case"pausing":this._transition("paused")}}))}_createResumable(){this._resolveToken(((t,e)=>{const i=function(t,e,i,n,r){const s=e.bucketOnlyServerUrl(),o=pv(e,n,r),a={name:o.fullPath},h=Pg(s,t.host,t._protocol),u={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${n.size()}`,"X-Goog-Upload-Header-Content-Type":o.contentType,"Content-Type":"application/json; charset=utf-8"},l=ov(o,i),c=t.maxUploadRetryTime,d=new av(h,"POST",(function(t){let e;vv(t);try{e=t.getResponseHeader("X-Goog-Upload-URL")}catch(t){hv(!1)}return hv(Lg(e)),e}),c);return d.urlParams=a,d.headers=u,d.body=l,d.errorHandler=cv(e),d}(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),n=this._ref.storage._makeRequest(i,Sv,t,e);this._request=n,n.getPromise().then((t=>{this._request=void 0,this._uploadUrl=t,this._needToFetchStatus=!1,this.completeTransitions_()}),this._errorHandler)}))}_fetchStatus(){const t=this._uploadUrl;this._resolveToken(((e,i)=>{const n=function(t,e,i,n){const r=t.maxUploadRetryTime,s=new av(i,"POST",(function(t){const e=vv(t,["active","final"]);let i=null;try{i=t.getResponseHeader("X-Goog-Upload-Size-Received")}catch(t){hv(!1)}i||hv(!1);const r=Number(i);return hv(!isNaN(r)),new gv(r,n.size(),"final"===e)}),r);return s.headers={"X-Goog-Upload-Command":"query"},s.errorHandler=cv(e),s}(this._ref.storage,this._ref._location,t,this._blob),r=this._ref.storage._makeRequest(n,Sv,e,i);this._request=r,r.getPromise().then((t=>{this._request=void 0,this._updateProgress(t.current),this._needToFetchStatus=!1,t.finalized&&(this._needToFetchMetadata=!0),this.completeTransitions_()}),this._errorHandler)}))}_continueUpload(){const t=yv*this._chunkMultiplier,e=new gv(this._transferred,this._blob.size()),i=this._uploadUrl;this._resolveToken(((n,r)=>{let s;try{s=bv(this._ref._location,this._ref.storage,i,this._blob,t,this._mappings,e,this._makeProgressCallback())}catch(t){return this._error=t,void this._transition("error")}const o=this._ref.storage._makeRequest(s,Sv,n,r,!1);this._request=o,o.getPromise().then((t=>{this._increaseMultiplier(),this._request=void 0,this._updateProgress(t.current),t.finalized?(this._metadata=t.metadata,this._transition("success")):this.completeTransitions_()}),this._errorHandler)}))}_increaseMultiplier(){2*(yv*this._chunkMultiplier)<33554432&&(this._chunkMultiplier*=2)}_fetchMetadata(){this._resolveToken(((t,e)=>{const i=fv(this._ref.storage,this._ref._location,this._mappings),n=this._ref.storage._makeRequest(i,Sv,t,e);this._request=n,n.getPromise().then((t=>{this._request=void 0,this._metadata=t,this._transition("success")}),this._metadataErrorHandler)}))}_oneShotUpload(){this._resolveToken(((t,e)=>{const i=mv(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),n=this._ref.storage._makeRequest(i,Sv,t,e);this._request=n,n.getPromise().then((t=>{this._request=void 0,this._metadata=t,this._updateProgress(this._blob.size()),this._transition("success")}),this._errorHandler)}))}_updateProgress(t){const e=this._transferred;this._transferred=t,this._transferred!==e&&this._notifyObservers()}_transition(t){if(this._state!==t)switch(t){case"canceling":case"pausing":this._state=t,void 0!==this._request?this._request.cancel():this.pendingTimeout&&(clearTimeout(this.pendingTimeout),this.pendingTimeout=void 0,this.completeTransitions_());break;case"running":const e="paused"===this._state;this._state=t,e&&(this._notifyObservers(),this._start());break;case"paused":case"error":case"success":this._state=t,this._notifyObservers();break;case"canceled":this._error=xg(),this._state=t,this._notifyObservers()}}completeTransitions_(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start()}}get snapshot(){const t=_v(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:t,metadata:this._metadata,task:this,ref:this._ref}}on(t,e,i,n){const r=new Mv(e||void 0,i||void 0,n||void 0);return this._addObserver(r),()=>{this._removeObserver(r)}}then(t,e){return this._promise.then(t,e)}catch(t){return this.then(null,t)}_addObserver(t){this._observers.push(t),this._notifyObserver(t)}_removeObserver(t){const e=this._observers.indexOf(t);-1!==e&&this._observers.splice(e,1)}_notifyObservers(){this._finishPromise();this._observers.slice().forEach((t=>{this._notifyObserver(t)}))}_finishPromise(){if(void 0!==this._resolve){let t=!0;switch(_v(this._state)){case wv.SUCCESS:Av(this._resolve.bind(null,this.snapshot))();break;case wv.CANCELED:case wv.ERROR:Av(this._reject.bind(null,this._error))();break;default:t=!1}t&&(this._resolve=void 0,this._reject=void 0)}}_notifyObserver(t){switch(_v(this._state)){case wv.RUNNING:case wv.PAUSED:t.next&&Av(t.next.bind(t,this.snapshot))();break;case wv.SUCCESS:t.complete&&Av(t.complete.bind(t))();break;case wv.CANCELED:case wv.ERROR:default:t.error&&Av(t.error.bind(t,this._error))()}}resume(){const t="paused"===this._state||"pausing"===this._state;return t&&this._transition("running"),t}pause(){const t="running"===this._state;return t&&this._transition("pausing"),t}cancel(){const t="running"===this._state||"pausing"===this._state;return t&&this._transition("canceling"),t}}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Iv{constructor(t,e){this._service=t,this._location=e instanceof Cg?e:Cg.makeFromUrl(e,t.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(t,e){return new Iv(t,e)}get root(){const t=new Cg(this._location.bucket,"");return this._newRef(this._service,t)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return Jg(this._location.path)}get storage(){return this._service}get parent(){const t=function(t){if(0===t.length)return null;const e=t.lastIndexOf("/");return-1===e?"":t.slice(0,e)}(this._location.path);if(null===t)return null;const e=new Cg(this._location.bucket,t);return new Iv(this._service,e)}_throwIfRoot(t){if(""===this._location.path)throw function(t){return new yg(bg.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}(t)}}function qv(t){t._throwIfRoot("getDownloadURL");const e=function(t,e,i){const n=Pg(e.fullServerUrl(),t.host,t._protocol),r=t.maxOperationRetryTime,s=new av(n,"GET",lv(t,i),r);return s.errorHandler=dv(e),s}(t.storage,t._location,nv());return t.storage.makeRequestWithTokens(e,Sv).then((t=>{if(null===t)throw new yg(bg.NO_DOWNLOAD_URL,"The given file does not have any download URLs.");return t}))}function Rv(t,e){const i=function(t,e){const i=e.split("/").filter((t=>t.length>0)).join("/");return 0===t.length?i:t+"/"+i}(t._location.path,e),n=new Cg(t._location.bucket,i);return new Iv(t.storage,n)}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cv(t,e){if(t instanceof Dv){const i=t;if(null==i._bucket)throw new yg(bg.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+vg+"' property when initializing the app?");const n=new Iv(i,i._bucket);return null!=e?Cv(n,e):n}return void 0!==e?Rv(t,e):t}function Nv(t,e){if(e&&/^[A-Za-z]+:\/\//.test(e)){if(t instanceof Dv)return new Iv(t,e);throw Tg("To use ref(service, url), the first argument must be a Storage instance.")}return Cv(t,e)}function Lv(t,e){const i=null==e?void 0:e[vg];return null==i?null:Cg.makeFromBucketSpec(i,t)}class Dv{constructor(t,e,i,n,r){this.app=t,this._authProvider=e,this._appCheckProvider=i,this._url=n,this._firebaseVersion=r,this._bucket=null,this._host=gg,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=n?Cg.makeFromBucketSpec(n,this._host):Lv(this._host,this.app.options)}get host(){return this._host}set host(t){this._host=t,null!=this._url?this._bucket=Cg.makeFromBucketSpec(this._url,t):this._bucket=Lv(t,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(t){Bg("time",0,Number.POSITIVE_INFINITY,t),this._maxUploadRetryTime=t}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(t){Bg("time",0,Number.POSITIVE_INFINITY,t),this._maxOperationRetryTime=t}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const t=this._authProvider.getImmediate({optional:!0});if(t){const e=await t.getToken();if(null!==e)return e.accessToken}return null}async _getAppCheckToken(){const t=this._appCheckProvider.getImmediate({optional:!0});if(t){return(await t.getToken()).token}return null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach((t=>t.cancel())),this._requests.clear()),Promise.resolve()}_makeStorageReference(t){return new Iv(this,t)}_makeRequest(t,e,i,n,r=!0){if(this._deleted)return new Ng(Ig());{const s=function(t,e,i,n,r,s,o=!0){const a=Ug(t.urlParams),h=t.url+a,u=Object.assign({},t.headers);return function(t,e){e&&(t["X-Firebase-GMPID"]=e)}(u,e),function(t,e){null!==e&&e.length>0&&(t.Authorization="Firebase "+e)}(u,i),function(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(null!=e?e:"AppManager")}(u,s),function(t,e){null!==e&&(t["X-Firebase-AppCheck"]=e)}(u,n),new jg(h,t.method,u,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,r,o)}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(t,this._appId,i,n,e,this._firebaseVersion,r);return this._requests.add(s),s.getPromise().then((()=>this._requests.delete(s)),(()=>this._requests.delete(s))),s}}async makeRequestWithTokens(t,e){const[i,n]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(t,e,i,n).getPromise()}}const Ov="@firebase/storage",Bv="0.11.1",Pv="storage";function Uv(t,e,i){return function(t,e,i){return t._throwIfRoot("uploadBytesResumable"),new Tv(t,new Yg(e),i)}(t=D(t),e,i)}function Fv(t){return qv(t=D(t))}function jv(t,e){return Nv(t=D(t),e)}function zv(t,{instanceIdentifier:e}){const i=t.getProvider("app").getImmediate(),n=t.getProvider("auth-internal"),r=t.getProvider("app-check-internal");return new Dv(i,n,r,e,xt)}Mt(new O(Pv,zv,"PUBLIC").setMultipleInstances(!0)),It(Ov,Bv,""),It(Ov,Bv,"esm2017");let Vv='\n<span class="in_t">About</span>\n        <img id="abt_tab_t_t_img" alt="MTT Logo" src="https://avatars1.githubusercontent.com/u/64828294?s=460&amp;v=4">\n        <div id="abt_tab_t_hold">\n            <span id="abt_name">Mr Techtroid</span>\n            <span class="abt_det">\n                <span id="abt_email">mrtechtroid@outlook.com</span>\n            </span>\n            <div style="font-size: 12px;width:400px;align-items: flex-end;">\n                <span>I Am Mr Techtroid The Main Developer Of <span class="sp_txt">Quarkz!</span></span>\n                <span>I Built This Website As A Way For Schools To Head Towards Online Learning</span>\n                <span>Its Built In A Way That It Is Easy For Both Teachers And Students To Use</span>\n                <span>Quarkz Is Currently Under Beta Version And Many Features Will Come In The Future</span>\n            </div>\n        </div>\n        <div id="abt_c_1">\n            <button id="lgl_btn" class="tst_btn rpl">Legal</button>\n            <button id="rbu_btn" class="tst_btn rpl" onclick="window.location = \'/#/bugreport\'">Report Bugs</button>\n            <button id="apinf_btn" class="tst_btn rpl" onclick="window.location = \'/#/appinfo\'">App Info</button>\n            <a id="contq_btn"\n                href="https://docs.google.com/forms/d/e/1FAIpQLSfLZ2_GUDv6EYRR3kz53BYtsP3SaTIMfCo8az-xPzUi1nb91A/viewform"\n                class="tst_btn rpl" target="_blank">Contact Us</a>\n        </div>\n';let Hv='\n<span class="in_t">Chapters</span>\n        <hr color="white" width="100%">\n        <div style="display: flex;flex-direction: row;flex-wrap: wrap;">\n            <button class="tst_btn rpl" id="pchb">Physics</button>\n            <button class="tst_btn rpl" id="cchb">Chemistry</button>\n            <button class="tst_btn rpl" id="mchb">Maths</button>\n            <button class="tst_btn rpl" id="bchb">Biology</button>\n            <button class="tst_btn rpl" id="cochb">Computer</button>\n            <button class="tst_btn rpl" id="schb">Statistics</button>\n            <button class="tst_btn rpl" id="uchb">Unfiled</button>\n        </div>\n        <div id="qb_cont_2" style="overflow-y: scroll;height:50vh;" class="flex_type">\n        </div>',Kv='\n<span class="in_t" id="chp_chaptername">Topic</span><button class="tst_btn rpl" id="chp_edit">Edit</button>\n        <div class = "flex_type" style="flex-direction: row;flex-wrap: wrap;">\n            <div id="chpt_topics" class = "db_class">\n                <span style="font-size: 25px;color:yellow">Topics</span>\n                <div id="chp_tpc_list" style="overflow-y: scroll;height:60vh;" class="flex_type"></div>\n            </div>\n            <div id="chpt_qbanks" class = "db_class">\n                <span style="font-size: 25px;color:yellow">Question Banks</span>\n                <div id="chp_qbk_list" style="overflow-y: scroll;height:60vh;" class="flex_type"></div>\n            </div>\n        </div>';let Gv='<div id="cyberhunt" class="full_page flex_type">\n        <div id="cyb_code" class="flex_type">\n            <span class="in_t">Join Cyberhunt!</span>\n            <hr color="white" width="100%">\n            <span>Do You Want To Join A Cyberhunt?Enter The Cyberhunt Code Below:</span>\n            <input id="cyb_cd_in" class="_in_aq" placeholder="i2a01pmzshn1">\n            <button class="tst_btn rpl" id="cyb_cd_sbm"\n                onclick="if (document.getElementById(\'cyb_cd_in\').value != \'\'){window.location.hash = \'/cyberhunt/\'+document.getElementById(\'cyb_cd_in\').value}">Submit</button>\n            <span>Joined Cyberhunts</span>\n            <div id="cyb_joined"\n                style="overflow-y: scroll;display: flex;flex-direction: column;height: 30vh;width: 40vw;border: 3px greenyellow solid;padding-left: 6px;">\n            </div>\n        </div>\n        <div id="cyb_edit">\n\n        </div>\n        <div id="cyb_viewer" class="flex_type" style="width:100%;height:100%">\n            <div\n                style="display:flex;flex-direction:column;justify-content: left;width:100%;margin-left:5vw;margin-top:10px;">\n                <span style="font-size: 16px;">Welcome to</span>\n                <span id="cyb_v_name" style="font-size: 30px">CyberHunt Name</span>\n                <span id="cyb_v_status" style="font-size: 18px">started on XX:XX</span>\n                <span id="cyb_v_crtby" style="font-size: 15px">By Mr Techtroid</span>\n            </div>\n            <span style="font-size: 16px;">Participants List</span>\n            <div id="cyb_v_plist"\n                style="display:flex;flex-direction:row;flex-wrap:wrap;border: solid grey 2px;border-radius: 10px 10px 10px;width:90%;height:40vh;padding:10px;overflow-y: scroll;">\n                <div class="cyb_v_plist_p"\n                    style="display: flex;flex-direction: column;width:100px;height:50px;border: solid grey 2px;border-radius: 10px 10px 10px;text-align: center;">\n                    <span>Mr Techtroid</span>\n                </div>\n            </div>\n        </div>\n\n    </div>';let Wv='\n<div id="sidebar">\n            <div id="options_tab"\n                style="display: flex;flex-direction: row;align-items:center;height:50px;justify-content: space-evenly;width: 25vw;max-width: 250px;">\n                <span class="material-symbols-outlined rpl" onclick="window.location = \'#/settings\'">settings</span>\n                <span class="material-symbols-outlined rpl" id="abt_btn">info</span>\n                <span class="material-symbols-outlined rpl" onclick="window.location = \'#/updates\'">notifications</span>\n                <span class="material-symbols-outlined rpl" id="prf_btn">account_circle</span>\n                <span class="material-symbols-outlined rpl" id="lgt_btn">logout</span>\n            </div>\n            <hr style="width: 100%;">\n            <div id="profile_tab"\n                style="display: flex;flex-direction: column;align-items: center;height:170px;max-width: 250px;">\n                <img id="prf_tab_img" style="width: 100px;height:100px;object-fit: cover;margin:5px;border:2px solid #06d85f;border-radius:30px;"></img>\n                <span style="color:rgb(0, 255, 221)" id="dshd_name">NAME</span>\n                <span style="color:rgb(104, 104, 92);font-size: small;" id="dshd_uname">@username</span>\n                <span style="color:rgb(251, 255, 0)" id="dshd_batch">BATCH</span>\n            </div>\n            <hr style="width: 100%;">\n            <div class="flex_type"\n                style="flex-direction: column;align-items: center;overflow-y: scroll;width: 30vw;height:250px;max-width: 250px;">\n                <div class="dshbox_v2 " id="tmt_btn">Time Table</div>\n                <div class="dshbox_v2" id="chp_btn">Chapters</div>\n                <div class="dshbox_v2" id="tstinf_btn">Test Infos</div>\n                <div class="dshbox_v2" id="usn_btn" onclick="window.location.hash = \'/usernotes/\'">Your Notes</div>\n                <div class="dshbox_v2" id="tpc_btn" style="display: none;">Topics</div>\n                <div class="dshbox_v2" id="lvq_btn" style="display:none">Live Quiz</div>\n                <div class="dshbox_v2" id="frm_btn">Forum</div>\n                <div class="dshbox_v2" id="qba_btn" style="display: none;">Question Bank</div>\n                <div class="dshbox_v2" id="sim_btn">Simulations</div>\n                <div class="dshbox_v2" id="cyb_btn" style="display:none">Cyberhunts</div>\n                <div id="adminonly" style="display:none;flex-direction:column;">\n                    <div class="dshbox_v2" id="adi_btn">Admin Functions</div>\n                    <div class="dshbox_v2" id="usc_btn">Users</div>\n                </div>\n            </div>\n            <hr style="width: 100%;">\n            <span style="font-size: small;">© 2021-23 Quarkz!</span>\n        </div>\n        <div\n            style="display: flex;flex-direction: row;flex-wrap: wrap;margin-left: 10px;align-items: flex-start;height:100%;margin-top: 15px;justify-content: space-evenly;overflow-y: scroll;">\n            <div id="db_exam_info" class = "db_class" style="max-height: 30vh;">\n                <span style="font-size: 25px;color:yellow">Exam Info</span>\n                <div id="db_exam_list"></div>\n            </div>\n            <div id="db_social_media" class = "db_class">\n                <span style="font-size: 25px;color:yellow">We\'re on Social Media</span>\n                <span style="font-size: 14px;color:grey;margin-left: 10px;">Follow us, & share with your friends. It motivates us to keep\n                    working hard for you to bring new features. </span>\n                <img style="width:50px;" alt="Youtube Logo" class="rpl"\n                    onclick="window.open(\'https://www.youtube.com/@quarkz./\', \'_blank\');"\n                    src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAIAAAABaCAMAAABHRa6wAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAACcFBMVEUAAAD/Ly//BQX/AAD/ExP/MDD/LS3/LCz/PDz/Z2f/X1//EhL/CAj/AAD/AAD/AAD/AAD/AAD/AAD/AAD/AAD/AAD/AAD/AAD/AAD/AAD/AAD/AAD/AAD/AAD/AAD/AAD/AAD/AAD/AAD/AAD/AAD/AAD/AAD/AAD/AAD/AAD/AAD/AAD/AAD/AAD/AAD/AAD/AAD/AAD/AAD/AAD/AAD/AAD/AAD/AAD/AAD/AAD/AAD/AAD/AAD/AAD/AAD/AAD/AAD/AAD/AAD/AAD/AAD/AAD/CAj/AAD/AAD/AAD/AAD/AAD/AAD/AAD/AAD/AAD/AAD/AAD/AAD/AAD/AAD/AAD/AAD/AAD/AAD/AAD/AAD/AAD/AAD/AAD/AAD/AAD/AAD/AAD/AAD/AAD/AAD/AAD/AAD/AAD/AAD/AAD/R0f/Q0P/Wlr/QED/Vlb/PT3/UlL/PDz/UFD/Ojr/Tk7/OTn/TEz/ODj/S0v/Nzf/Skr/Nzf/SUn/Njb/SEj/Njb/SEj/Njb/R0f/NTX/R0f/NTX/R0f/NTX/Rkb/NTX/NTX/AAD/AAD/AAD/CAj/Hh7/HBz/HBz/Gxv/Gxv/Ghr/FBT/FBT/FBT/FBT/FBT/FBT/FBT/FBT/FBT/FBT/FBT/FBT/FBT/FBT/FBT/FBT/FBT/FBT/FBT/FBT/FBT/FBT/FBT/FBT/FBT/FBT/HR3/AAD/AQH/BQX/wcH/EBD/////jY3/X1//7+//MzP/x8f/DQ3/mZn/Zmb/9vb/Ojr/0ND/EhL/oqL/dXX/+vr/QkL/1dX/GRn/qKj/fHz/SUn/3Nz/Hh7/sbH/paX/S0s8CEr+AAAAsHRSTlMAAAAAAAAAAAAAAAAABhMhKzdCUVlkbnqHjpidpqi3us7C1tnP3uLl7uzn18W2saV8ZVtQRjYBHDxaq8HT5vP98uivXkAiBidyrN3ksnkvCpenGaG5VfWCqhXb+kNxs8bp9ESQjLjN8OP5AQ4JIBYxJkE4VUhlVnJlgHSOgJiKoZOpnrKftKu9r8LA9/bYAQ4bJC88R1BYYnB6goqQlZykp7WzvL69xcrJzNrZxqmjGt/aNR4AAAABYktHRLUzDlpLAAAAB3RJTUUH5wEdCycyRsErbAAAAv5JREFUaN7dmudXE1EQxR8bu0KiKCSgggFi1KhRUexKVEQFxV6xYa/Yu2LBrkjvKE0CtmcZe+/df8nNCgfhgLi7z9xznE/58ub+srtvd97MZewP4SNJBl8/o6lzF/+u3QICzZag4O49eoaE9rKGhUfYbLbe9j5y2PvKPyPC+1kdoSH9BwwMDrKYnQGDBg+JHGoy+vkaJMmHqQtpWNTwEYGWkaNGjxk7juuP8dFWh8vinDBxUoyhRe3JsVOmCtBsNqbFxU9vnmJGwr/Uro+Zs5r+97O9I++JOU1cBZP35D0R2Vh/rnf1OXc21Pf3tj7n8b/rG72v3+AuGOYhAHj9kzgfos8X1Om3wuhzvrAWIBYFkFALsAgFsFhS9GNQ+pwbFYAlOIBEBcCMA1iqACzDASz31CqtV+AAlHeRAajPPZVBFBJgJXYT/NoGiUiAJBlgFRJgtQzgQgJYZYA1ahfdFgiwtg1ru07tojt374kjaMfar1e9iOi+MIANrIP6RSTHA0EAG9kmbQD08JEQgM1si0YAosdPBABsZcmaAYie6gfYxrbrACB6phdgB9upC4Cev9AHsIvt1gdA9PKVHoA9bK9eAKLXOgD2sf36AYjeaAY4wA6KAKC37zQCHGKHhQAQvf+gCeAISxEEQPRRC8BRdkwYANEn9bmOsxMCAYg+q82Vyk4KBaAvX9XlOsVOiwUg+qYq1xnxAETfVeQ6+x8CqL0F8IdQ7Db8oTZXKv5FlCIMQOOrGP4xgn+O4QUJvCSDF6Xwshx+MEnWASDkaAY/nMKP5/AGBbxFA29Swdt0+EYlvFULb1bD2/XwgQV8ZAMfWsHHdvjBJXx0Cx9ew8f3eAMD3MIBN7HgbTxwIxPeyoU3s+HtfHhDI97SqVwFrKm1jsJj63VaXI6w6HMiRM/bLzjikv7O1tsofCSp48W0S+kZmVnZObl5+QWFRcUll6+UlpVXVF6tcrura67JUVPtdlddr6woLyu9cbOkuKiwID8vNyc7KzMj/VZap5aMzT8BRpXwJFof0ooAAAAldEVYdGRhdGU6Y3JlYXRlADIwMjMtMDEtMjlUMTE6Mzk6NTArMDA6MDCGz66vAAAAJXRFWHRkYXRlOm1vZGlmeQAyMDIzLTAxLTI5VDExOjM5OjUwKzAwOjAw95IWEwAAACB0RVh0c29mdHdhcmUAaHR0cHM6Ly9pbWFnZW1hZ2ljay5vcme8zx2dAAAAGHRFWHRUaHVtYjo6RG9jdW1lbnQ6OlBhZ2VzADGn/7svAAAAF3RFWHRUaHVtYjo6SW1hZ2U6OkhlaWdodAA5MDwVcVIAAAAXdEVYdFRodW1iOjpJbWFnZTo6V2lkdGgAMTI40I0R3QAAABl0RVh0VGh1bWI6Ok1pbWV0eXBlAGltYWdlL3BuZz+yVk4AAAARdEVYdFRodW1iOjpTaXplADE1NDVC02RgawAAABZ0RVh0VGh1bWI6OlVSSQBmaWxlOi8vUE5HOqYqZyIAAAAASUVORK5CYII=">\n            </div>\n            <div id="db_study_resources" class = "db_class">\n                <span style="font-size: 25px;color:yellow">Additional Study Resources</span>\n                <div class="tlinks_min rpl" onclick="window.location.hash = \'/mainsformulas\'"><span\n                        style="font-size: 16px;">JEE Mains Formula Sheets</span></div>\n                <div class="tlinks_min rpl" onclick="window.location.hash = \'/downloads\'"><span\n                        style="font-size: 16px;">FREE PDF Downloads</span></div>\n            </div>\n        </div>',Qv='\n<iframe id="bgrep_frame"\n            src="https://docs.google.com/forms/d/e/1FAIpQLSeo2JZDaBApBiTeXmAnkVX60hSuJGHJkd9jsF9ePg0iM9ufjA/viewform?embedded=true"\n            frameborder="0" marginheight="0" marginwidth="0">Loading…</iframe>',$v='\n<span class="in_t">App Info</span>\n        <pre id="ren_appinf"></pre>',Zv='\n<span class="in_t">Schedule</span>\n        <iframe id="tmt_frame" width="100%" height="90%" frameborder="0" scrolling="no" onload = "showqLS(\'q\')"></iframe>',Yv='\n<span class="in_t">404</span>\n        <hr color="white" width="100%">\n        <span style="font-size: 3vh;">You don\'t have access to this page.</span>\n        <a class="tst_btn rpl" href="/#/dashboard">Go To Dashboard</a>',Xv='\n<div style="position: fixed;">\n            <embed id="nt_id" style="width: 95vw;height: 90vh;">\n            <div id = "nt_nocontrol">Quarkz!</div>\n        </div>',Jv='\n<div id="c-output"\n            style="color:yellow;overflow-y: scroll;display: flex;flex-direction: column;height: 80vh;width: 90vw;border: 3px greenyellow solid;padding-left: 6px;">\n\n        </div>\n        <div>\n            <input type="text" id="c-input" class="_in_aq" placeholder="Command">\n            <button class="tst_btn rpl" id="c-exec">Execute</button>\n        </div>',ty='\n<div class = "flex_type" style="flex-direction: row;flex-wrap: wrap;">\n            <div class = "db_class">\n                <span style="font-size: 25px;color:yellow">Release Notes</span>\n                <div id="rel_list" style="overflow-y: scroll;height:80vh; width: 100%; display: block;" class="flex_type"></div>\n            </div>\n            <div class = "db_class">\n                <span style="font-size: 25px;color:yellow">Updates</span>\n                <div id="updt_list" style="overflow-y: scroll;height:80vh; width: 100%; display: block;" class="flex_type"></div>\n            </div>\n        </div>\n\n\n',ey='\n<div class = "db_class">\n<span style="font-size: 25px;color:yellow">Upload Files</span>\n        <label for="file" style= "background-color: indigo;color: white;padding: 0.5rem;font-family: sans-serif;border-radius: 0.3rem;cursor: pointer;margin-top: 1rem;" class = "rpl">Choose File To Upload</label>\n        <input type="file" id="file" style="width: 50vw;height: 30px;margin: auto;" hidden>\n        <span id="file_progress"></span>\n        <span id="file_status"></span>\n        <input id="file_link" type="url" class = "_in_aq" style = "width:25vw;" placeholder = "Short URL"  disabled>\n        <input id="file_link_long" type="url" class = "_in_aq" style = "width:25vw;" placeholder = "Long URL" disabled>\n        <span style="font-size: 10px;">Note: File Names Will Be Modified to the following format:</span>\n        <span style="font-size: 10px;">{IP ADDRESS}-{DATE}-{ORIGNAL FILE NAME}</span>\n        <span style="font-size: 10px;">Max File Upload Size: 50mb</span>\n    </div>\n';function iy(t,e){var i="";i+="formulasheet"==e?'<span style="font-size: 5vh;color:yellow" id="fm_title">Mains Formula Sheet</span>':'<span style="font-size: 5vh;color:yellow" id="fm_title">Downloads</span>',i+='\n    <hr color="white" width="100%">\n    <div style="overflow-y: scroll;height:50vh;" class="flex_type">';for(var n=0;n<t.length;n++)t[n].type2==e&&(""==t[n].url?i+='<span class="tlinks-2 rpl " onclick = "window.location.hash = \''+t[n].hashurl+'\'"><span class="material-symbols-outlined">'+t[n].type+"</span>&nbsp;&nbsp;"+t[n].title+"</span>":i+='<span class="tlinks-2 rpl " onclick = "window.open(\''+t[n].url+"','_blank')\"><span class=\"material-symbols-outlined\">"+t[n].type+"</span>&nbsp;&nbsp;"+t[n].title+"</span>");return i+=' </div>\n    <span style="font-size: 8px;">All PDF\'s Marked As <span style="font-size: 8px;" class="material-symbols-outlined">quiet_time_active</span> Are Owned by their Respective Owners</span>'}let ny=[{hashurl:"/notes/PHYFORMULAS",title:"Physics Formula Sheet",url:"",type:"quiet_time_active",type2:"formulasheet"},{hashurl:"/notes/MATHFORMULAS",title:"Maths Formula Sheet",url:"",type:"quiet_time_active",type2:"formulasheet"},{hashurl:"/notes/PCHEMNOTES",title:"Physical Chemistry Formula Sheet",url:"",type:"quiet_time_active",type2:"formulasheet"},{hashurl:"/notes/OCHEMNOTES",title:"Organic Chemistry Sheet",url:"",type:"quiet_time_active",type2:"formulasheet"},{hashurl:"/notes/ICHEMNOTES",title:"Inorganic Chemistry Sheet",url:"",type:"quiet_time_active",type2:"formulasheet"},{hashurl:"",title:"Full Chemistry Modules",url:"https://drive.google.com/file/d/1PKwlLjqXESAewAOHFi866uUb72XjooQH/view",type:"quiet_time_active",type2:"downloads"},{hashurl:"",title:"Full Maths Modules",url:"https://drive.google.com/file/d/1_TLdj5e8SG8VFvKu-asEy7RAq4_T85YB/view",type:"quiet_time_active",type2:"downloads"},{hashurl:"",title:"Full Physics Modules",url:"https://drive.google.com/file/d/10NWV6viuY2eru-y1j9MSXmhbl7bZKyOD/view",type:"quiet_time_active",type2:"downloads"}];let ry='\n<span style="font-size: 5vh;color:yellow" id="fti_title">Test Name</span>\n        <hr color="white" width="100%">\n        <div id="fto_overview" style="display: flex;flex-direction: row;flex-wrap:wrap">\n            <div class="fto_box">\n                <div class="fto_box_title">TOTAL MARKS</div>\n                <div class="fto_box_content" id="fto_total">100/100</div>\n            </div>\n            <div class="fto_box">\n                <div class="fto_box_title">CORRECT</div>\n                <div class="fto_box_content"><span id="fto_correct">45</span><span class="fto_small">marks</span></div>\n            </div>\n            <div class="fto_box">\n                <div class="fto_box_title">INCORRECT</div>\n                <div class="fto_box_content"><span id="fto_incorrect">45</span><span class="fto_small">marks</span>\n                </div>\n            </div>\n            <div class="fto_box">\n                <div class="fto_box_title">UNANSWERED</div>\n                <div class="fto_box_content"><span id="fto_unanswered">45</span><span class="fto_small">marks</span>\n                </div>\n            </div>\n            <div class="fto_box">\n                <div class="fto_box_title">RANK</div>\n                <div class="fto_box_content" id="fto_rank">5</div>\n            </div>\n        </div>\n        <hr color="white" width="100%">\n        <div id="fto_overview" style="display: flex;flex-direction: row;flex-wrap:wrap">\n            <button class="tst_btn rpl" id="fto_detail"\n                onclick=\'window.location.hash = "#/testreport/" + window.location.hash.split("#/finished/")[1]\'>Detailed\n                View</button>\n        </div>\n        <div style="display:flex;flex-direction:row;flex-wrap:wrap;">\n            <div style="display:flex;flex-direction:column;flex-wrap:wrap;">\n                <span style="font-size: 3vh;">Section Wise Scores</span>\n                <div id="fto_percents" style="display: flex;flex-direction: column;"></div>\n                <div>Legend: <span style="color:green">Correct</span>&nbsp;<span\n                        style="color:red">Incorrect</span>&nbsp;<span style="color:orange">Unattempted</span></div>\n            </div>\n            <div style="margin-left:20px;display:flex;flex-direction:column;">\n                <span style="font-size: 3vh;">Leaderboard</span>\n                <div id="fto_leaderboard"></div>\n            </div>\n        </div>\n        <div style="display:flex;flex-direction:column;flex-wrap:wrap;">\n            <span style="font-size: 3vh;">Section Wise Time Spent</span>\n            <div id="fto_time" style="display: flex;flex-direction: column;"></div>\n            <div>Legend: <span style="color:green">Correct</span>&nbsp;<span\n                    style="color:red">Incorrect</span>&nbsp;<span style="color:orange">Unattempted</span></div>\n        </div>\n        <div style="display:flex;flex-direction:column;flex-wrap:wrap;">\n            <span style="font-size: 3vh;">Time Spent Per Question</span>\n            <div id="fto_draw" style="display: flex;flex-direction: column;"></div>\n        </div>';let sy='\n<span style="font-size: 5vh;color:yellow" id="fm_title">Forum</span>\n        <hr width="100%" color="white">\n        <div style="border:hotpink 3px solid;width:80%;">\n            <div id=\'pinned_msg\'\n                style="background-color: rgb(38, 44, 31);color:rgb(21, 209, 209);overflow-y: scroll;height:30px;">Pinned\n                Message:<span id=\'pinnedtxt\'>1</span></div>\n            <div id="forum_live" style="height:60vh;overflow-y: scroll;display: flex;flex-direction: column;">\n            </div>\n        </div>\n\n        <div>\n            <input type="text" id="fm_message" class="_in_aq" placeholder="Message">\n            <button class="tst_btn rpl" id="fm_send">Send</button>\n        </div>\n';let oy='\n<span class="in_t" class="">Functions</span>\n        <div class = "flex_type" style = "flex-direction: row;flex-wrap: wrap;">\n            <div id="fc_topics" class = "db_class">\n                <span style="font-size: 25px;color:yellow">Chapters/Topics</span>\n                <div class="dshbox_v2 rpl" onclick="window.location.hash = \'#/add/tpc\'">Add Topics</div>\n            </div>\n            <div id="fc_sims" class = "db_class">\n                <span style="font-size: 25px;color:yellow">Question Banks/Sims</span>\n                <div class="dshbox_v2 rpl" onclick="window.location.hash = \'#/add/simulation\'">Add Simulations</div>\n                <div class="dshbox_v2 rpl" onclick="window.location.hash = \'#/add/qubank\'">Add Question Bank</div>\n            </div>\n            <div id="fc_tests" class = "db_class">\n                <span style="font-size: 25px;color:yellow">Tests</span>\n                <div class="dshbox_v2 rpl" onclick="window.location.hash = \'#/add/tests\'">Add Test</div>\n                <div class="dshbox_v2 rpl" onclick="window.location.hash = \'#/update/tests\'">Update Test</div>\n            </div>\n            <div id="fc_batch" class = "db_class">\n                <span style="font-size: 25px;color:yellow">Batches</span>\n                <div class="dshbox_v2 rpl" onclick="window.location.hash = \'#/add/batch\'">Add New Batch</div>\n                <div class="dshbox_v2 rpl" onclick="window.location.hash = \'#/list/batch\'">Update Batches</div>\n                <div class="dshbox_v2 rpl" onclick="window.location.hash = \'#/update/batch\'">Update Batches</div>\n            </div>\n            <div id="fc_misc" class = "db_class">\n                <span style="font-size: 25px;color:yellow">Misc</span>\n                <div class="dshbox_v2 rpl" onclick="window.location.hash = \'#/edit_exams\'">Edit Exams</div>\n            </div>\n        </div>\n';function ay(t,e,i,n,r){var s=Math.floor(1e4*Math.random()),o='\n    <div id="msg_popup_'+s+'" class="overlay">\n    <div class="popup">\n        <center>\n            <h2 id="msg_popup_txt_'+s+'">Note</h2>\n        </center>\n        <a class="close_btn"\n            onclick="document.getElementById(\'msg_popup_'+s+'\').remove()">&times;</a>\n        <p id="msg_popup_content_'+s+'"></p>\n        <button class="tst_btn rpl" id="msg_action_'+s+'"></button>\n    </div>\n    </div>\n    ';if(1==r)dE("output").insertAdjacentHTML("beforeend",o);else if(3==r){o='\n    <div id="msg_popup_'+s+'" class="overlay">\n    <div class="popup">\n        <center>\n            <h2 id="msg_popup_txt_'+s+'">'+t+'</h2>\n        </center>\n        <a class="close_btn"\n            onclick="document.getElementById(\'msg_popup_'+s+'\').remove()">&times;</a>\n        <p id="msg_popup_content_'+s+'">'+e+'</p>\n        <button class="tst_btn rpl" id="msg_info_'+s+'" onclick = "window.open(\''+i+'\', \'_blank\');">Info</button>\n        <button class="tst_btn rpl" id="msg_syllabus_'+s+'" onclick = "window.open(\''+n+"', '_blank');\">Syllabus</button>\n    </div>\n    </div>\n    ";dE("quarkz_body").insertAdjacentHTML("beforeend",o)}else dE("quarkz_body").insertAdjacentHTML("beforeend",o);if(dE("msg_popup_"+s).style.visibility="visible",dE("msg_popup_"+s).style.opacity="1",3!=r)return dE("msg_action_"+s).style.display="none",document.getElementById("msg_popup_txt_"+s).innerText=t,document.getElementById("msg_popup_content_"+s).innerText=e,null==i?i=function(){}:dE("msg_action_"+s).style.display="block",null==n&&(n=""),dE("msg_action_"+s).onclick=i,dE("msg_action_"+s).innerText=n,"msg_popup_"+s}function hy(t,e){var i='\n  <div id="msg_popup_qp" class="overlay">\n    <div class="it_popup">\n        <center>\n            <h2 id="msg_popup_txt_qp">'+t+'</h2><a class="close_btn"\n            onclick="document.getElementById(\'msg_popup_qp\').remove()">&times;</a>\n        </center>\n        <div id = "container">\n        '+e+"\n        </div>\n    </div>\n    </div>\n  ";dE("output").insertAdjacentHTML("beforeend",i),dE("msg_popup_qp").style.visibility="visible",dE("msg_popup_qp").style.opacity="1"}function uy(){dE("output").insertAdjacentHTML("beforeend",'\n  <div id="msg_popup_report" class="overlay">\n    <div class="it_popup">\n        <center>\n            <h2 id="msg_popup_txt_report">Report Error</h2><a class="close_btn"\n            onclick="document.getElementById(\'msg_popup_report\').remove()">&times;</a>\n        </center>\n        <div>\n          <div>\n            <input type="checkbox" id="incorrect-answer-key" name="problem[]" value="incorrect-answer-key">\n            <label for="wrong-answer">Incorrect Answer Key</label>\n          </div>\n          <div>\n            <input type="checkbox" id="wrong-solution" name="problem[]" value="wrong-solution">\n            <label for="incomplete-answer">Wrong/Incomplete Solution</label>\n          </div>\n          <div>\n            <input type="checkbox" id="wrong-question" name="problem[]" value="wrong-question">\n            <label for="confusing-question">Wrong/Incomplete Question</label>\n          </div>\n          <div>\n            <input type="checkbox" id="wrong-explanation" name="problem[]" value="wrong-explanation">\n            <label for="confusing-explanation">Wrong Explanation</label>\n          </div>\n          <div>\n            <input type="checkbox" id="wrong-image" name="problem[]" value="wrong-image">\n            <label for="confusing-image">Wrong/Incomplete/No Image(s) or Video(s)</label>\n          </div>\n          <div>\n            <input type="checkbox" id="other-issue" name="problem[]" value="other-issue">\n            <label for="other-issue">Other Issue</label>\n          </div>\n          <textarea placeholder="(Optional)" style="height: 50px;resize: none;" id="extra_comment"></textarea>\n        </div>\n        <button class="tst_btn rpl" id = "popup_report">Report</button>\n    </div>\n    </div>\n  '),dE("msg_popup_report").style.visibility="visible",dE("msg_popup_report").style.opacity="1";new BroadcastChannel("Quarkz!").postMessage("QZCODE-REPORT")}let ly='\n<div id="lgn_bx">\n    <span class="in_t">Welcome to Quarkz</span>\n    <input type="text" id="lg_uname" class="text_bx_1" placeholder="Username">\n    <input type="password" id="lg_pass" class="text_bx_1" placeholder="Password">\n    <div>\n        <button class="tst_btn rpl" id="sgn_in">Sign In</button>\n        <button class="tst_btn rpl" id="reg_in">Register</button>\n    </div>\n    <span id="lgn_err" class="err_txt">ERROR:Wrong Username Or Password</span>\n    <span class="lgn_c_1"><a href="/#/about">About</a>&nbsp;&nbsp;<a href="/#/legal">Legal</a>&nbsp;&nbsp;<a\n            href="/#/bugreport">Report A Bug</a>\n    </span>\n    <span class="lgn_c_1">\n        <a href="/#/mainsformulas">Formula Sheets</a>&nbsp;&nbsp;\n        <a href="/#/downloads">Downloads</a>\n    </span>\n</div>\n';let cy='\n<span class=" in_t no-print">Export</span>\n        <hr color="white" width="100%" class="no-print">\n        <span class="no-print"><button class="tst_btn rpl no-print" onclick="print()">Print</button><button\n                class="tst_btn rpl no-print" id="shf_btn">Shuffle</button><button class="tst_btn rpl no-print"\n                id="tsinf_btn">Update Bank\n                Info</button><button class="tst_btn rpl no-print" id="tans_btn">Answers</button><button\n                class="tst_btn rpl no-print" id="tansexpl_btn">Explanation And Answers</button><button\n                class="tst_btn rpl no-print" id="tremove_btn">Remove\n                All</button></span>\n        <hr color="white" width="100%">\n        <span class="in_t_3" id="qb_title">ERROR</span>\n        <hr color="white" width="100%">\n        <div id="eqb_add" type="1">\n        </div>\n\n';let dy='\n<div id="prf_tab_t">\n            <div id="prf_tab_t_t">\n                <img style = "background-color:black;border:2px solid #06d85f;border-radius:30px;" id="prf_tab_t_t_img"></img>\n                <div id="prf_tab_t_hold">\n                    <span id="prf_name"></span>\n                    <span class="prf_det">\n                        <span id="prf_email"></span>&nbsp;•&nbsp;<span id="prf_gender"></span>\n                    </span>\n                    <span class="prf_det">\n                        <span id="prf_phone"></span>&nbsp;•&nbsp;<span id="prf_class"></span>\n                    </span>\n                    <span class="prf_det">\n                        <span id="prf_batch"></span>&nbsp;•&nbsp;<span id="prf_crton"></span>\n                    </span>\n                </div>\n            </div>\n        </div>\n';let fy='\n<button id="qbnk_vid_btn" class="tst_btn rpl">Start</button>\n        <button id="qbnk_vid_btn_e" class="tst_btn rpl" style="display: none;">Stop</button>\n        <span style="font-size: 5vh;color:yellow;font-family: Nunito;" id="tb_q_title">Topic Name</span>\n        <hr width="100%" color="white">\n        <div class="div-qbnk">Quarkz!</div>\n        <img alt="Quarkz Logo" src="assets/Quarkz-T.png"\n            style="position:absolute;height:100px;width: 100px;top:0;left:0;z-index: 1;">\n        <div id="qbnk_vid_q" style="display: flex;flex-direction: column;align-items: center;z-index: 2;">\n            <div class="div-qbnk1"><span>Pause The Video If You Need More Time.Each Question Will Be Shown For 10\n                    Seconds.</span><span id="qbnk_timer" style="font-size: 80px;color:rgb(0, 255, 255)">0</span></div>\n            <span style="width: 60vw;"><span id="tb_q_qno" style="color: coral;"></span>\n                <div id="tb_q_qtext" style="width:100%;height:max-content;min-height: 12vh;">Question</div>\n            </span>\n            <div id="tb_q_ans_hold">\n                <input type="answer" id="tb_q_answer" class="_in_aq" placeholder="Answer">\n                <div id="tb_q_mcq_con" class="flex_type">\n                </div>\n                <div id="tb_q_matrix">\n                    <table>\n                        <tr>\n                            <td><span class="tb_q_i1"></span><span class="tb_q_i2"></span></td>\n                        </tr>\n                        <tr>\n                            <td><span class="tb_q_i1"></span><span class="tb_q_i2"></span></td>\n                        </tr>\n                        <tr>\n                            <td><span class="tb_q_i1"></span><span class="tb_q_i2"></span></td>\n                        </tr>\n                        <tr>\n                            <td><span class="tb_q_i1"></span><span class="tb_q_i2"></span></td>\n                        </tr>\n                    </table>\n                </div>\n            </div>\n        </div>\n        <div id="qbnk_vid_ans" style="display: flex;flex-direction: column;align-items: center;">\n            <span style="font-size: 5vh;color:yellow;">Answer</span>\n            <div id="tb_q_hint" style="width:80%;height:max-content;min-height: 12vh;"></div>\n            <div id="tb_q_ans" style="height:max-content;min-height: 12vh;"></div>\n            <div id="tb_q_expl" style="width:80%;height:max-content;min-height: 12vh;"></div>\n        </div>\n        <div id="qbnk_vid_title"\n            style="display:flex;flex-direction: column;align-items: center;justify-content: center;height:60vh">\n            <span style="font-size: 15vh;color:yellow;font-family: Nunito;" id="qb_vid_ti"></span>\n        </div>\n        <div id="qbnk_vid_end" style="display:flex;flex-direction: column;align-items: center;justify-content: center;">\n            <span style="font-size: 5vh;color:yellow">Thanks For Watching</span>\n            <span style="font-size: 3vh;color:yellow">Subscribe To Quarkz! For More Such Videos</span>\n\n        </div>';let py='\n<span class="in_t">Register</span>\n        <div class = "db_class">\n        <span style="font-size: 25px;color:yellow">Personal Info</span>\n        <input type="text" id="rg_name" class="_in_reg" placeholder="Name">\n        <div style = "display:flex;flex-direction:row">\n        <label for="rg_dob">Date:&nbsp;&nbsp;</label>\n        <input name = "rg_dob" type="date" id="rg_dob" class="_in_reg">\n        </div>\n        <div style = "display:flex;flex-direction:row">\n        <label for="class">Class:&nbsp;&nbsp;</label>\n        <select name="class" id="rg_class">\n            <option value="6">6</option>\n            <option value="7">7</option>\n            <option value="8">8</option>\n            <option value="9">9</option>\n            <option value="10">10</option>\n            <option value="11">11</option>\n            <option value="12">12</option>\n        </select>\n        </div>\n        <div style = "display:flex;flex-direction:row">\n        <label for="gender">Gender:&nbsp;&nbsp;</label>\n        <select name="gender" id="rg_gender">\n            <option value="Male">Male</option>\n            <option value="Female">Female</option>\n        </select>\n        </div>\n        </div>\n        <div class = "db_class">\n        <span style="font-size: 25px;color:yellow">Account Info</span>\n        <input type="tel" id="rg_mbleno" class="_in_reg" placeholder="Mobile No">\n        <input type="text" id="rg_uname" class="_in_reg" placeholder="Email Address">\n        <input type="password" id="rg_pass" class="_in_reg" placeholder="Password">\n        <input type="password" id="rg_pass1" class="_in_reg" placeholder="Confirm Password">\n        </div>\n        <button class="tst_btn rpl" id="rg_in">Register</button>\n\n',my='\n<span class="in_t">Settings</span>\n        <hr color="white" width="100%">\n        <div class = "flex_type" style = "flex-direction: row;flex-wrap: wrap;">\n            <div id="st_accinfo" class = "db_class">\n                <span style="font-size: 25px;color:yellow">Account Info</span>\n                <button id="pass_rst_btn" class="tst_btn rpl">Reset/Change Password</button>\n            </div>\n            <div id="st_notif" class = "db_class">\n                <span style="font-size: 25px;color:yellow">Notifications</span>\n                <button id="notif_btn" class="tst_btn rpl" disabled>Enable Notifications</button>\n            </div>\n            <div id="st_rateapp" class = "db_class">\n                <span style="font-size: 25px;color:yellow">Rate Our App!</span>\n                <div id="stars">\n                <span class="star" data-value="1">&#9733;</span>\n                <span class="star" data-value="2">&#9733;</span> \n                <span class="star" data-value="3">&#9733;</span>\n                <span class="star" data-value="4">&#9733;</span>\n                <span class="star" data-value="5">&#9733;</span>\n                </div>\n                <textarea placeholder="This App was Very Useful!" style="height: 50px;resize: none;" id="rate_comment"></textarea>\n                <button id="sub_rat_btn" class="tst_btn rpl">Submit Rating</button>\n            </div>\n            <div id="st_prftype" class = "db_class">\n                <span style="font-size: 25px;color:yellow">Profile Picture Type</span>\n                <div style ="display:flex;flex-direction:row;flex-wrap:wrap;">\n                <img style = "border:2px solid #06d85f;border-radius:30px;width:100px;height:100px;" class = "prf_typ" id="prf_typ_1"></img>\n                <img style = "border:2px solid #06d85f;border-radius:30px;width:100px;height:100px;" class = "prf_typ" id="prf_typ_2"></img>\n                <img style = "border:2px solid #06d85f;border-radius:30px;width:100px;height:100px;" class = "prf_typ" id="prf_typ_3"></img>\n                </div>\n                <span style = "font-size:12px">Changing your Profile Picture only changes on this Browser. These Pictures are generated using Hashes/Initials of your Names.</span>\n            </div>\n        </div>';let gy='\n<span class="in_t" class="">Add/Edit Simulation</span>\n        <input type="text" id="aq_simname" class="_in_aq" placeholder="Simulation Name">\n        <input type="url" id="aq_simurl" class="_in_aq" placeholder="Simulation URL">\n        <input type="text" id="aq_simprov" class="_in_aq" placeholder="Simulation Provider">\n        <input type="text" id="aq_simlicense" class="_in_aq" placeholder="Simulation License">\n        <select name="type" id="aq_simsubj" class="_in_aq col-red">\n            <option value="physics">Physics</option>\n            <option value="chemistry">Chemistry</option>\n            <option value="maths">Maths</option>\n            <option value="biology">Biology</option>\n            <option value="computer">Computer</option>\n            <option value="statistics">Statistics</option>\n            <option value="unfiled">Unfiled</option>\n        </select>\n        <button class="tst_btn rpl" id="aq_sims_save">Save</button>\n\n',vy='\n<span class="in_t">Simulations</span>\n        <hr color="white" width="100%">\n        <div style="display: flex;flex-direction: row;flex-wrap: wrap;"><span class="in_t" id="sms_name">Sim\n                Name</span><span style="font-size: 2vh;" id="sms_prov">Sim Name</span><button class="tst_btn rpl" id="sms_edit" style="display: none;"\n                onclick=\'window.location.hash = "#/edit_sim/" + window.location.hash.split("#/sims/")[1]\'>Edit\n                Sim</button></div>\n        <div>\n            <iframe id="sim_frame" frameborder="0"\n                style="width:80vw;height:70vh;background-color: black;color:white;scroll-behavior: smooth;"></iframe>\n        </div>\n        ',yy='\n<span class="in_t">Simulations List</span>\n        <hr color="white" width="100%">\n        <div style="display: flex;flex-direction: row;flex-wrap: wrap;">\n            <button class="tst_btn rpl" id="psims">Physics</button>\n            <button class="tst_btn rpl" id="csims">Chemistry</button>\n            <button class="tst_btn rpl" id="msims">Maths</button>\n            <button class="tst_btn rpl" id="bsims">Biology</button>\n            <button class="tst_btn rpl" id="cosims">Computer</button>\n            <button class="tst_btn rpl" id="ssims">Statistics</button>\n            <button class="tst_btn rpl" id="usims">Unfiled</button>\n        </div>\n        <div id="sim_cont" style="overflow-y: scroll;height:50vh;" class="flex_type">\n        </div>';let by='\n<span class="in_t">Test Instructions</span>\n        <hr color="white" width="100%">\n        <div id = "ti_i" style="width:80vw;overflow-y: scroll;border:yellow 3px solid;display: flex;flex-direction: column;">\n            <span style="font-size:5vh;text-align: center;">Please Read The Instructions And Terms Carefully</span>\n            <span style="font-size:18px;color:yellow;">Test Information:</span>\n            <ul style="font-size: 14px;color:white;">\n                <li> Test Name:&nbsp;<span id = "i_name"></span></li>\n                <li> Starts From:&nbsp;<span id = "i_start"></span> </li>\n                <li> Ends At:&nbsp;<span id = "i_end"></span> </li>\n                <li> Time Allotted:&nbsp;<span id = "i_time"></span> </li>\n                <li> Syllabus:&nbsp;<span id = "i_syllabus"></span> </li>\n                <li> Total Marks:&nbsp;<span id = "i_total"></span> </li>\n                <li> No of Questions:&nbsp;<span id = "i_qno"></span> </li>\n            </ul>\n            <span style="font-size:18px;color:yellow;">General Instructions:</span>\n            <ol style="font-size: 14px;">\n                <li>The Exam Must Be Completed In 1 Sitting. You Will Be Able To Open This Test Window Only Once. </li>\n                <li>Read Every Question Carefully And Select Your Answer and Try To Answer As Many Questions As Possible\n                    In The Exam.</li>\n                <li>The Questions Palette displayed on the right side of screen will show the status of each question\n                    using one of the following symbols:</li>\n                <div>\n                    <div style="margin:9px"><span class="tts_notvisit">12</span>You have not visited the question yet.\n                    </div>\n                    <div style="margin:9px"><span class="tts_notanswer">21</span>You have not answered the question.\n                    </div>\n                    <div style="margin:9px"><span class="tts_answered">45</span>You have answered the question.</div>\n                    <div style="margin:9px"><span class="tts_review">30</span>You have NOT answered the question, but\n                        have marked the question for review.</div>\n                    <div style="margin:9px"><span class="tts_ansreview">37</span>The question(s) "Answered and Marked\n                        for Review" will be considered for evalution.</div>\n                </div>\n                <li>When the timer reaches zero, the examination will end by itself. You will not be required to end or\n                    submit your examination.</li>\n                <li>Make Sure To Have A Good Internet Connection. Loss in Internet Connectivity may prevent submission\n                    of answers. </li>\n                <li>DO NOT TRY TO Minimise The Full Screen Mode Of The Exam. You Will Recieive 1 Warning For Doing So\n                    After Which Your Test Will End</li>\n            </ol>\n            <hr style = "width:95%">\n            <span style="font-size:18px;color:yellow;">Navigating to a Question:</span>\n            <ol style="font-size:14px;">\n                <li>To view/answer a question, do the following: Click on the question number in the Question Palette at\n                    the right of your screen to go to that numbered question directly. Note that using this option does\n                    NOT save your answer to the current question.</li>\n            </ol>\n            <hr style = "width:95%">\n            <span style="font-size:18px;color:yellow;">Answering a Question:</span>\n            <ol style="font-size:14px;">\n                Procedure for answering a multiple choice type question:\n                <li>To select you answer, click on the button of one of the options.</li>\n                <li>To deselect your chosen answer, click on the button of the chosen option again or click on the Clear\n                    Response button</li>\n                <li>To change your chosen answer, click on the button of another option</li>\n                <li>To save your answer, you MUST click on the Save button.</li>\n                <li>To mark the question for review, click on the Mark for Review button.</li>\n                <li>To change your answer to a question that has already been answered, first select that question for\n                    answering and then follow the procedure for answering that type of question.</li>\n            </ol>\n            <hr style = "width:95%">\n            <span style="font-size:18px;color:yellow;">Navigating through sections:</span>\n            <ol style="font-size:14px;">\n                <li>All Questions are Visible in the Question Pallete along under the respective sections/subjects</li>\n            </ol>\n            <hr style = "width:95%">\n            <span style="font-size:18px;color:yellow;">Test Specific Instructions:</span>\n            <div id = "tsi" style="font-size:14px;">\n            </div>\n            <hr style = "width:95%">\n            <span style="font-size:18px;color:yellow;">Terms And Conditions:</span>\n            <span style="font-size:14px;">By Checking on "I Agree" you Agree to All Terms And Conditions:</span>\n            <ol style="font-size:14px;">\n                <li>I have read and understood all the instructions. </li>\n                <li>I agree that all computer hardware allotted to me are in proper working condition. </li>\n                <li>I declare that i am not in possession of / not wearing / not carrying any prohibited gadget like\n                    mobile phone,bluetooth devices etc. /any prohibited material with me into the Examination Hall.</li>\n                <li>I also agree that I will not tamper with any software/technologies/devices alloted to me while\n                    attempting\n                    this test.\n                </li>\n                <li>I agree that in case of not adhering to the instructions, I shall be liable to be debarred from this\n                    Test and/or to disciplinary action, which may include ban from future Test / Examinations</li>\n            </ol>\n            <div style = "font-size:25px;color:lime;"><input type="checkbox" id = "agree_in" name = "agree_in"><label for="agree_in">I Agree</label></div>\n            <span style="font-size:5vh;text-align: center;">👍 All The Best! 👍</span>\n            <button class="tst_btn rpl" id="tin_start" \n                onclick=\'window.location.hash = "#/attempt/" + window.location.hash.split("#/instructions/")[1]\' disabled>Start</button>\n        </div>\n';let wy='\n<span class="in_t">Tests</span>\n        <hr color="white" width="100%">\n        <div><button class="tst_btn rpl" id="ti_act">Active Tests</button><button class="tst_btn rpl"\n                id="ti_fin">Finished Tests</button><button class="tst_btn rpl" id="ti_upc">Upcoming Tests</button></div>\n        <div id="testlinks">\n        </div>',_y='\n<div style="border: grey 2px dashed;flex-direction: row;margin:10px;" class="flex_type disable-text-selection" onmousedown="return false" onselectstart="return false">\n            <div style="display: flex;flex-direction: column;width: 60vw;height:80vh;margin:10px;min-width: 300px;">\n                <div id="tt_extrabx" style="display: flex;flex-direction:row;height: 40px;margin:10px;">\n                    <span id="tt_timeleft">00:00:00</span>\n                    <span id="tt_marksaward"></span>\n                    <span id="tt_timespent" style="margin-left:5px;"></span>\n                    <span id="tt_testname" style="width: 100%;text-align: right;margin-left: 5px;">TEST\n                        NAME</span>\n                    <button id="tt_rep" class="tst_btn rpl">Report</button>\n                    <button id="tt_sub" class="tst_btn rpl">Submit</button>\n                </div>\n                <div id="tt_question">\n                    <div style="font-size: larger;">Question <span id="tt_qno">12</span></div>\n                    <hr>\n                    <div id="tt_qtitle">Who Is The President Of India?</div>\n                    <hr>\n                </div>\n                <div id="tt_footer" style="display:flex;">\n                    <button class="tst_btn rpl" id="tt_save">Save</button>\n                    <button class="tst_btn rpl" id="tt_clear">Clear</button>\n                    <button class="tst_btn rpl" id="tt_review">Mark For Review</button>\n                    <button class="tst_btn rpl" id="tt_ansreview">Save And Mark For Review</button>\n                </div>\n            </div>\n            <div>\n                <div id="tt_chgbx">\n                    <button class="tst_btn rpl" id="tt_qp">Q.Paper</button>\n                    <button class="tst_btn rpl" id="tt_instr">Instructions</button>\n                </div>\n                <div id="tt_infobx">\n                    <div style="margin:9px"><span class="tts_notvisit">12</span>Not Visited</div>\n                    <div style="margin:9px"><span class="tts_notanswer">21</span>Not Answered</div>\n                    <div style="margin:9px"><span class="tts_answered">45</span>Answered</div>\n                    <div style="margin:9px"><span class="tts_review">30</span>Review</div>\n                    <div style="margin:9px"><span class="tts_ansreview">37</span>Review And Answered</div>\n                </div>\n                <div id="tt_qnobx">\n                    <div>\n                        <div id="tw_Physics"><span>Physics</span>\n                            <div id="tw_Physics_c"></div>\n                        </div>\n                        <div id="tw_Chemistry"><span>Chemistry</span>\n                            <div id="tw_Chemistry_c"></div>\n                        </div>\n                        <div id="tw_Math"><span>Math</span>\n                            <div id="tw_Math_c"></div>\n                        </div>\n                        <div id="tw_Computer"><span>Computer</span>\n                            <div id="tw_Computer_c"></div>\n                        </div>\n                        <div id="tw_Biology"><span>Biology</span>\n                            <div id="tw_Biology_c"></div>\n                        </div>\n                        <div id="tw_Statistics"><span>Statistics</span>\n                            <div id="tw_Statistics_c"></div>\n                        </div>\n                        <div id="tw_Unfiled"><span>Unfiled</span>\n                            <div id="tw_Unfiled_c"></div>\n                        </div>\n                    </div>\n                </div>\n            </div>\n        </div>',My='\n<span class="in_t" id="te_title">The Test Has Ended</span>\n        <span style="font-size:3vh;" id ="te_msg">Your Results Will Be Released After<span id="te_endtime"></span></span>\n        <a class="tst_btn rpl" href="/#/dashboard">Go To Dashboard</a>\n        <hr color="white" width="100%">';let Ay='\n<span class="in_t">Terms And Conditions</span>\n        <span class="sp_txt">Copyright 2021-23 Quarkz By Mr Techtroid</span>\n        <span class="in_t_2">Last Updated: 04 April 2023(IST)</span>\n<div id="lgl_container">\n    <ol>\n        <h3>A. Acceptance of Terms and Conditions</h3>\n        <li>By using the Quarkz website, you acknowledge and agree to the terms and conditions set forth below. If you do not agree to these terms and conditions, you should not use the Quarkz website.</li>\n        <h3>B. Account Information And User Generated Content</h3>\n        <li>By creating an account on the Quarkz website, you agree to provide accurate and complete information about yourself as requested in the registration form. You also agree to keep your account information up-to-date and secure. </li>\n        <li>All user-generated content on the Quarkz website, including but not limited to quizzes, tests, assignments, notes, and forum posts, may be accessed by Quarkz admins or authorized moderators. When you request account deletion, no user-generated data will be deleted. Instead, the account will be unlinked from our authentication services. However, this data will continue to be accessible to ONLY Quarkz admins.\n        <h3>C. Account Information And User Generated Content</h3>\n        <li>Any content uploaded, published, submitted, or posted by you on the Quarkz platform, including without limitation, text, graphics, images, videos, and audio, will be owned by you, but we are also granted a worldwide, non-exclusive, royalty-free, sublicensable, and transferable license to use, reproduce, distribute, share, display, publish, retain, make available online, and/or electronically transmit such user-generated content as well as technical information collected. You represent and warrant that you have all necessary rights to grant us this license.</li>\n        <h3>D. Code of Conduct</h3>\n        <li>You agree to use the Quarkz website in a lawful and ethical manner. You agree not to engage in any activity that could damage, disable, overburden, or impair the website, or interfere with any other user\'s access to the website. You agree not to post or transmit any content that is obscene, defamatory, libelous, abusive, discriminatory, or otherwise offensive. You agree not to harass or bully other users on the website.</li>\n        <h3>E. Termination of Access</h3>\n        <li>We reserve the right to terminate access to the Quarkz website, or any part thereof, to any user at any time, without prior notice, for any reason, including without limitation, for a violation of these terms and conditions.</li>\n        <h3>F. Age Restrictions</h3>\n        <li>By creating an account on the Quarkz website, you represent and warrant that you are 13 years of age or older. If you are under 13 years of age, you must obtain permission from your guardians or parents to use the Quarkz website. We do not knowingly collect any personal information from users under 13 years of age. If we become aware that we have collected personal information from a user under 13 years of age, we will take steps to delete that information.</li>\n        <h3>G. Free Use Disclaimer</h3>\n        <li>The Quarkz website may contain copyrighted material that has not been specifically authorized by the copyright owner. Such material is made available for educational purposes under the "fair use" provision of the Copyright Act. Quarkz respects the intellectual property rights of others, and we ask that our users do the same.</li>\n        <li>Copyright Disclaimer under section 107 of the Copyright Act 1976, allowance is made for “fair use”\n            for purposes such as criticism, comment, news reporting, teaching, scholarship, education and\n            research. </li>\n        <h3>H. Licensing And Assets</h3>\n        <li>All codes, graphics, assets, files, and information located on the Quarkz website <span class="sp_txt">quarkz.netlify.app</span> or any of our storage services, such as Firebase, are part of Quarkz. Any usage, reproduction of any of the same without prior consent of owner Mr. Techtroid or Quarkz team is prohibited. </li>\n        <li>YouTube videos used on this website belong to their respective channel owners. Usage of questions and notes are from fair use under education, teaching, and research categories. Simulations used on this website belong to the respective providers.</li>\n        <li>If You Feel Any Content is violating your Copyright and want it to be removed from this site, contact us at the contact us page. We will make sure that we will remove the content in 24 Hours.</li>\n        <h3>I. User Conduct</h3>\n        <li>When using Quarkz, you agree to abide by all applicable laws and regulations, as well as our community guidelines. You also agree to respect the rights and dignity of others and not engage in any conduct that is discriminatory, harassing, or harmful in any way. Any violation of these rules may result in the termination of your account and may also lead to legal action.\n        <h3>J. Indemnification</h3>\n        <li>You agree to indemnify and hold Quarkz, its affiliates, licensors, and their respective directors, officers, agents, and employees, harmless from and against any and all claims, losses, liabilities, damages, costs, and expenses, including reasonable attorneys\' fees, arising out of or related to your use of our website, your violation of these Terms and Conditions, or any unauthorized use of your account.</li>\n        <h3>K. Disclaimer of Warranties</h3>\n        <li>Quarkz does not warrant that the site will be error-free, uninterrupted, or secure. You acknowledge and agree that your use of the site is at your own risk. Quarkz makes no representations or warranties of any kind, express or implied, regarding the accuracy, completeness, reliability, suitability, or availability of the site or the information, products, services, or related graphics contained on the site for any purpose. To the fullest extent permitted by law, Quarkz disclaims all warranties, including but not limited to warranties of title, non-infringement, merchantability, and fitness for a particular purpose.</li>\n        <h3>L. Limitation of Liability</h3>\n        <li>In no event shall Quarkz be liable for any direct, indirect, incidental, special, or consequential damages arising out of or in any way connected with your use of or inability to use the site, or for any information, products, services, or related graphics obtained through the site, even if Quarkz has been advised of the possibility of such damages. Some jurisdictions do not allow the exclusion or limitation of liability for incidental or consequential damages, so the above limitation may not apply to you.</li>\n        <h3>M. Governing Law and Jurisdiction</h3>\n        <li>These Terms and Conditions shall be governed by and construed in accordance with the laws of India, without giving effect to any principles of conflicts of law. You agree that any dispute arising from or relating to these Terms and Conditions or your use of the site shall be brought exclusively in the courts located in India, and you hereby consent to the personal jurisdiction and venue of such courts.</li>\n        <h3>N. Termination</h3>\n        <li>We may terminate your access to the site, without cause or notice, which may result in the forfeiture and destruction of all information associated with your account. All provisions of these Terms and Conditions that by their nature should survive termination shall survive termination, including, without limitation, ownership provisions, warranty disclaimers, indemnity, and limitations of liability.</li>\n        <h3>O. Entire Agreement</h3>\n        <li>These Terms and Conditions constitute the entire agreement between you and Quarkz and supersedes all prior or contemporaneous agreements, representations, warranties, and understandings, whether written or oral, relating to the site.</li>\n        <h3>P. Contact Us</h3>\n        <li>If you have any questions or comments about these Terms and Conditions or our website, please contact us through our "Contact Us" page.</li>\n    </ol>\n</div>';let ky='\n<span class="in_t" class="" id="fu_topic_title">Add/Edit Topic</span>\n        <div id="aq_basic" style="flex-direction: column;">\n            <input type="text" id="aq_tpcname" class="_in_aq" placeholder="Tests/Topic/Question Bank Name">\n            <select name="type" id="aq_tpclevel" class="_in_aq col-red">\n                <option value="jee">JEE</option>\n                <option value="neet">NEET</option>\n                <option value="foundation">Foundation</option>\n            </select>\n            <input type="text" id="aq_tpc_chapterid" class="_in_aq" placeholder="Chapter ID">\n            <select name="type" id="aq_tpc_subj" class="_in_aq col-red">\n                <option value="physics">Physics</option>\n                <option value="chemistry">Chemistry</option>\n                <option value="maths">Maths</option>\n                <option value="biology">Biology</option>\n                <option value="computer">Computer</option>\n                <option value="statistics">Statistics</option>\n                <option value="unfiled">Unfiled</option>\n            </select>\n        </div>\n        <div id="aq_test_extra" style="flex-direction: column;">\n            <input type="text" id="aq_tst_batches" class="_in_aq" placeholder="Batch ID">\n            <input type="datetime-local" id="aq_tst_stron" class="_in_aq">\n            <input type="datetime-local" id="aq_tst_endon" class="_in_aq">\n            <input type="text" id="aq_tst_syllabi" class="_in_aq" placeholder="Syllabus">\n            <input type="number" id="aq_tst_timealotted" class="_in_aq" placeholder="Time Alloted">\n            <div class="summernote" id="aq_add_test_instr">Additional Test Instructions</div>\n        </div>\n        <div id="lqadd" style="display: flex;flex-direction: row;margin:10px;height: 50vh;">\n            <div id="question_list"\n                style="border: 2px lime solid;width: 15vw;height:50vh;display: flex;flex-direction: column;align-items: center;text-align: center;font-size: 3vh;overflow-y: scroll;"\n                class="title-notes"></span>\n            </div>\n            <div\n                style="border: 2px lime solid;width:75vw;display: flex;flex-direction: column;overflow-y: scroll;height:50vh;">\n                <select name="type" id="aq_mode" class="_in_aq col-red">\n                    <option value="question">Question</option>\n                    <option value="lesson">Lesson</option>\n                    <option value="exam">Exam</option>\n                </select>\n                <div class="flex_type" id="aq_exams">\n                    <input type="text" id="aq_examname" class="_in_aq" placeholder="Exam Names">\n                    <input type="text" id="aq_examdate" class="_in_aq" placeholder="Exam Dates">\n                    <input type="text" id="aq_examinfo" class="_in_aq" placeholder="Exam Info Link">\n                    <input type="text" id="aq_examsyllabus" class="_in_aq" placeholder="Syllabus Link">\n                </div>\n                <div class="flex_type" id="aq_all" style="align-items: unset;" id="aq_uiad">\n                    <div class="summernote" id="aq_qtext">Question</div>\n                    <input type="text" id="aq_answer" class="_in_aq" placeholder="Answer">\n                    <input type="url" id="aq_yurl" class="_in_aq" placeholder="Youtube ID">\n                    <div class="summernote" id="aq_expl">Explanation</div>\n                    <textarea type="answer" id="aq_hint" class="_in_aq" style="resize: none;overflow-y: scroll;"\n                        placeholder="Hint"></textarea>\n                    <input type="number" id="aq_posmrks" class="_in_aq" placeholder="Marks For Correct">\n                    <input type="number" id="aq_negmrks" class="_in_aq" placeholder="Marks For Incorrect">\n                    <select name="type" id="aq_section" class="_in_aq col-red">\n                        <option value="Physics">Physics</option>\n                        <option value="Chemistry">Chemistry</option>\n                        <option value="Math">Math</option>\n                        <option value="Biology">Biology</option>\n                        <option value="Computer">Computer</option>\n                        <option value="Statistics">Statistics</option>\n                        <option value="Unfiled">Unfiled</option>\n                    </select>\n                </div>\n                <div id="aq_ans_hold">\n                    <select name="type" id="aq_type" class="_in_aq col-red">\n                        <option value="mcq">MCQ</option>\n                        <option value="mcq_multiple">MCQ Multiple</option>\n                        <option value="mcq_multiple_partial">MCQ Multiple(Partial)</option>\n                        <option value="matrix">Matrix</option>\n                        <option value="numerical">Numerical</option>\n                        <option value="explain">Explain</option>\n                        <option value="fill">Fill In The Blanks</option>\n                    </select>\n                    <div id="aq_mcq_con" class="flex_type">\n                        <div class="aq_mcq_p" onclick="changeColor(this)"><input class="aq_mcq"></div>\n                        <div class="aq_mcq_p" onclick="changeColor(this)"><input class="aq_mcq"></div>\n                        <div class="aq_mcq_p" onclick="changeColor(this)"><input class="aq_mcq"></div>\n                        <div class="aq_mcq_p" onclick="changeColor(this)"><input class="aq_mcq"></div>\n                    </div>\n                    <div id="aq_matrix">\n                        <table>\n                            <tr>\n                                <td><input class="aq_i1"><input class="aq_i2"></td>\n                            </tr>\n                            <tr>\n                                <td><input class="aq_i1"><input class="aq_i2"></td>\n                            </tr>\n                            <tr>\n                                <td><input class="aq_i1"><input class="aq_i2"></td>\n                            </tr>\n                            <tr>\n                                <td><input class="aq_i1"><input class="aq_i2"></td>\n                            </tr>\n                        </table>\n                    </div>\n                    <button class="tst_btn rpl" id="aq_ao">Add Option</button>\n                    <button class="tst_btn rpl" id="aq_ro">Remove Option</button>\n                </div>\n                <button class="tst_btn rpl" id="aq_re">Remove Entry</button>\n            </div>\n        </div>\n        <button class="tst_btn rpl" id="aq_tpc_save">Save/Update Topic</button>\n        <button class="tst_btn rpl" id="aq_qbc_save">Save/Update QBank</button>\n        <button class="tst_btn rpl" id="aq_tst_save">Save/Update Test</button>\n        <button class="tst_btn rpl" id="aq_exam_save">Save/Update Exams</button>\n        <button class="tst_btn rpl" id="aq_export">Export</button>\n\n',Ey='\n<span style="font-size: 3vh;color:lime" id="tp_title">Topic Name</span>\n<span style="font-size: 4vh;color:yellow" id="tp_lsno">Lesson Name</span>\n        <hr width="100%" color="white">\n        <div class="flex_type" style="flex-direction: row;flex-wrap: wrap;">\n            <button class="tst_btn rpl" id="tp_nxt">Next</button>\n            <button class="tst_btn rpl" id="tp_prv">Previous</button>\n            <button class="tst_btn rpl" id="tp_pnt" style="display: none;">Export</button>\n            <button class="tst_btn rpl" id="tp_edt" style="display: none;">Edit</button>\n            <button class="tst_btn rpl" id="tp_rep">Report</button>\n        </div>\n        <hr width="100%" color="white">\n        <div id="tp_lesson" style="width: 80%;">\n            <div id="tp_full_vid">\n                \x3c!-- <iframe id = "video" style = "width:80%; height: 450px; border-style: solid; ;border-width: 10px;" hidden = "True"  allow = "autoplay"></iframe> --\x3e\n                <div style="pointer-events: none;width:100%;">\n                    <div>\n                        <div id="player" style="width: 100%;"></div>\n                    </div>\n                    <div id="yt_progressBar" style="width:100%;">\n                        <div id="yt_progressBar_in"></div>\n                    </div>\n                </div>\n                <div id="toolbar"\n                    style="border:3px solid grey; border-radius: 10px 10px 10px 10px;padding-left: 5px;padding-right: 5px;">\n                    <span class="material-icons" id="tp_bw_btn" onclick="player.seekTo(player.getCurrentTime()-10)"\n                        title="-10 Seconds">fast_rewind</span>\n                    <span class="material-icons" id="tp_pl_btn" title="Play"\n                        onclick="player.playVideo()">play_arrow</span>\n                    <span class="material-icons" id="tb_pa_btn" title="Pause" onclick="player.pauseVideo()">pause</span>\n                    <span class="material-icons" onclick="player.stopVideo()" id="tb_st_btn" title="Stop">stop</span>\n                    <span class="material-icons" id="tb_fw_btn" onclick="player.seekTo(player.getCurrentTime()+10)"\n                        title="+10 Seconds">fast_forward</span>\n                    <span id="mute" class="material-icons" id="tb_um_btn" onclick="volumetype()"\n                        title="Mute/Unmute">volume_up</span>\n                    <span id="mute" class="material-icons" id="tb_um_btn" title="Mute/Unmute"\n                        onclick="fullscreen()">fit_screen</span>\n                    <span class="material-symbols-outlined" id="tb_wy_btn" onclick="window.open(player.getVideoUrl())"\n                        title="Watch On Youtube">youtube_activity</span>\n                    <input type="range" min="0" max="100" value="50" id="tb_vl_br" style="background-color: grey;"\n                        onchange="volumechange()" oninput="volumechange()">\n                </div>\n            </div>\n            <div>\n                <div id="tp_expl" style="height:max-content;min-height: 12vh;text-align: left;">Explanation</div>\n                <img id="tp_lsimg">\n            </div>\n        </div>\n\n        <div id="tp_question" style="width: 80%;align-items: center;display: flex;flex-direction: column;">\n            <div id="tp_qtext" style="width:80%;height:max-content;min-height: 12vh;">Question</div>\n            <div id="tp_ans_hold">\n                <input type="answer" id="tp_answer" class="_in_aq" placeholder="Answer">\n                <div id="tp_mcq_con" class="flex_type">\n                </div>\n                <div id="tp_matrix">\n                    <table>\n                        <tr>\n                            <td><span class="tp_i1"></span><span class="tp_i2"></span></td>\n                        </tr>\n                        <tr>\n                            <td><span class="tp_i1"></span><span class="tp_i2"></span></td>\n                        </tr>\n                        <tr>\n                            <td><span class="tp_i1"></span><span class="tp_i2"></span></td>\n                        </tr>\n                        <tr>\n                            <td><span class="tp_i1"></span><span class="tp_i2"></span></td>\n                        </tr>\n                    </table>\n                </div>\n            </div>\n\n            <div>\n                <button class="tst_btn rpl" id="tp_sbm">Submit</button>\n                <div id="tp_status"></div>\n            </div>\n            <div id="tp_hint" style="display: none;">Hint</div>\n            <div id="tp_e_answer" style="display: none;">Answer</div>\n            <div id="tp_a_expl" style="display: none;">Explanation</div>\n        </div>';let xy='\n<span class="in_t">Users</span>\n        <hr color="white" width="100%">\n        <div\n            style="border:orangered 3px solid;border-radius: 30px;display: flex;flex-direction: column;align-items: center;width:80%;">\n            <span style="font-size:3vh;color:yellow;width:80%;">Add Users</span><iframe\n                href="index.html#/register"></iframe>\n        </div>\n        <hr color="white" width="50%">\n        <input type="answer" id="us_user" class="_in_aq" placeholder="username">\n\n';let Sy='\n<div id="un_list" style="border:3px solid grey;width:25vw;height:90%"></div>\n        <div id="un_render" style="width:77vw;height:100%">\n            <div id="un_tools" style="width:100%;display: flex;flex-direction: row;flex-wrap: wrap;">\n                <select id="un_rendermode" class="_in_aq" style="width: 100px;color:red;"\n                    value="edit">\n                    <option value="edit">edit</option>\n                    <option value="preview">preview</option>\n                </select>\n                <select id="un_viewership" class="_in_aq" style="width: 100px;color:red;">\n                    <option value="private">private</option>\n                    <option value="public_view">public(view_only)</option>\n                    <option value="public">public</option>\n                </select>\n                <input id="un_title" type="text" class="_in_aq" style="width:20vw;" value="Notes Title">\n                <button id="un_save" class="rpl tst_btn" style="height: 30px;">Save</button>\n                <button id="un_print" class="rpl tst_btn" style="height: 30px;">Print</button>\n                <input id="un_colorpicker" type="color" name="favcolor" value="#ff0000"\n                    style="width:5vw;height:30px;background-color: transparent;border:none" onchange="notesUIHandler()">\n            </div>\n            <div id="un_edit" style="height:90%;width:100%">\n                <div class="summernote" id="un_editable" style="height:90%">Notes</div>\n            </div>\n            <div id="un_preview" style="height:90%;width:100%;overflow:scroll">\n            </div>\n            <iframe style="display: none;" id="un_print_iframe"></iframe>\n        </div>\n';async function Ty(){return await navigator.mediaDevices.getDisplayMedia({audio:!0,video:{mediaSource:"screen"}})}function Iy(t,e){let i=[];const n=new MediaRecorder(t);return n.ondataavailable=function(t){t.data.size>0&&i.push(t.data)},n.onstop=function(){qy(i),i=[]},n.start(200),n}function qy(t){const e=new Blob(t,{type:"video/webm"});let i=window.prompt("Enter file name"),n=document.createElement("a");n.href=URL.createObjectURL(e),n.download=`${i}.webm`,document.body.appendChild(n),n.click(),URL.revokeObjectURL(e),document.body.removeChild(n)}function Ry(t){return t}var Cy=1,Ny=2,Ly=3,Dy=4,Oy=1e-6;function By(t){return"translate("+t+",0)"}function Py(t){return"translate(0,"+t+")"}function Uy(t){return e=>+t(e)}function Fy(t,e){return e=Math.max(0,t.bandwidth()-2*e)/2,t.round()&&(e=Math.round(e)),i=>+t(i)+e}function jy(){return!this.__axis}function zy(t,e){var i=[],n=null,r=null,s=6,o=6,a=3,h="undefined"!=typeof window&&window.devicePixelRatio>1?0:.5,u=t===Cy||t===Dy?-1:1,l=t===Dy||t===Ny?"x":"y",c=t===Cy||t===Ly?By:Py;function d(d){var f=null==n?e.ticks?e.ticks.apply(e,i):e.domain():n,p=null==r?e.tickFormat?e.tickFormat.apply(e,i):Ry:r,m=Math.max(s,0)+a,g=e.range(),v=+g[0]+h,y=+g[g.length-1]+h,b=(e.bandwidth?Fy:Uy)(e.copy(),h),w=d.selection?d.selection():d,_=w.selectAll(".domain").data([null]),M=w.selectAll(".tick").data(f,e).order(),A=M.exit(),k=M.enter().append("g").attr("class","tick"),E=M.select("line"),x=M.select("text");_=_.merge(_.enter().insert("path",".tick").attr("class","domain").attr("stroke","currentColor")),M=M.merge(k),E=E.merge(k.append("line").attr("stroke","currentColor").attr(l+"2",u*s)),x=x.merge(k.append("text").attr("fill","currentColor").attr(l,u*m).attr("dy",t===Cy?"0em":t===Ly?"0.71em":"0.32em")),d!==w&&(_=_.transition(d),M=M.transition(d),E=E.transition(d),x=x.transition(d),A=A.transition(d).attr("opacity",Oy).attr("transform",(function(t){return isFinite(t=b(t))?c(t+h):this.getAttribute("transform")})),k.attr("opacity",Oy).attr("transform",(function(t){var e=this.parentNode.__axis;return c((e&&isFinite(e=e(t))?e:b(t))+h)}))),A.remove(),_.attr("d",t===Dy||t===Ny?o?"M"+u*o+","+v+"H"+h+"V"+y+"H"+u*o:"M"+h+","+v+"V"+y:o?"M"+v+","+u*o+"V"+h+"H"+y+"V"+u*o:"M"+v+","+h+"H"+y),M.attr("opacity",1).attr("transform",(function(t){return c(b(t)+h)})),E.attr(l+"2",u*s),x.attr(l,u*m).text(p),w.filter(jy).attr("fill","none").attr("font-size",10).attr("font-family","sans-serif").attr("text-anchor",t===Ny?"start":t===Dy?"end":"middle"),w.each((function(){this.__axis=b}))}return d.scale=function(t){return arguments.length?(e=t,d):e},d.ticks=function(){return i=Array.from(arguments),d},d.tickArguments=function(t){return arguments.length?(i=null==t?[]:Array.from(t),d):i.slice()},d.tickValues=function(t){return arguments.length?(n=null==t?null:Array.from(t),d):n&&n.slice()},d.tickFormat=function(t){return arguments.length?(r=t,d):r},d.tickSize=function(t){return arguments.length?(s=o=+t,d):s},d.tickSizeInner=function(t){return arguments.length?(s=+t,d):s},d.tickSizeOuter=function(t){return arguments.length?(o=+t,d):o},d.tickPadding=function(t){return arguments.length?(a=+t,d):a},d.offset=function(t){return arguments.length?(h=+t,d):h},d}var Vy={value:()=>{}};function Hy(){for(var t,e=0,i=arguments.length,n={};e<i;++e){if(!(t=arguments[e]+"")||t in n||/[\s.]/.test(t))throw new Error("illegal type: "+t);n[t]=[]}return new Ky(n)}function Ky(t){this._=t}function Gy(t,e){for(var i,n=0,r=t.length;n<r;++n)if((i=t[n]).name===e)return i.value}function Wy(t,e,i){for(var n=0,r=t.length;n<r;++n)if(t[n].name===e){t[n]=Vy,t=t.slice(0,n).concat(t.slice(n+1));break}return null!=i&&t.push({name:e,value:i}),t}Ky.prototype=Hy.prototype={constructor:Ky,on:function(t,e){var i,n,r=this._,s=(n=r,(t+"").trim().split(/^|\s+/).map((function(t){var e="",i=t.indexOf(".");if(i>=0&&(e=t.slice(i+1),t=t.slice(0,i)),t&&!n.hasOwnProperty(t))throw new Error("unknown type: "+t);return{type:t,name:e}}))),o=-1,a=s.length;if(!(arguments.length<2)){if(null!=e&&"function"!=typeof e)throw new Error("invalid callback: "+e);for(;++o<a;)if(i=(t=s[o]).type)r[i]=Wy(r[i],t.name,e);else if(null==e)for(i in r)r[i]=Wy(r[i],t.name,null);return this}for(;++o<a;)if((i=(t=s[o]).type)&&(i=Gy(r[i],t.name)))return i},copy:function(){var t={},e=this._;for(var i in e)t[i]=e[i].slice();return new Ky(t)},call:function(t,e){if((i=arguments.length-2)>0)for(var i,n,r=new Array(i),s=0;s<i;++s)r[s]=arguments[s+2];if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(s=0,i=(n=this._[t]).length;s<i;++s)n[s].value.apply(e,r)},apply:function(t,e,i){if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(var n=this._[t],r=0,s=n.length;r<s;++r)n[r].value.apply(e,i)}};var Qy=Hy;function $y(){}function Zy(t){return null==t?$y:function(){return this.querySelector(t)}}function Yy(){return[]}function Xy(t){return null==t?Yy:function(){return this.querySelectorAll(t)}}function Jy(t){return function(){return null==(e=t.apply(this,arguments))?[]:Array.isArray(e)?e:Array.from(e);var e}}function tb(t){return function(){return this.matches(t)}}function eb(t){return function(e){return e.matches(t)}}var ib=Array.prototype.find;function nb(){return this.firstElementChild}var rb=Array.prototype.filter;function sb(){return Array.from(this.children)}function ob(t){return new Array(t.length)}function ab(t,e){this.ownerDocument=t.ownerDocument,this.namespaceURI=t.namespaceURI,this._next=null,this._parent=t,this.__data__=e}function hb(t,e,i,n,r,s){for(var o,a=0,h=e.length,u=s.length;a<u;++a)(o=e[a])?(o.__data__=s[a],n[a]=o):i[a]=new ab(t,s[a]);for(;a<h;++a)(o=e[a])&&(r[a]=o)}function ub(t,e,i,n,r,s,o){var a,h,u,l=new Map,c=e.length,d=s.length,f=new Array(c);for(a=0;a<c;++a)(h=e[a])&&(f[a]=u=o.call(h,h.__data__,a,e)+"",l.has(u)?r[a]=h:l.set(u,h));for(a=0;a<d;++a)u=o.call(t,s[a],a,s)+"",(h=l.get(u))?(n[a]=h,h.__data__=s[a],l.delete(u)):i[a]=new ab(t,s[a]);for(a=0;a<c;++a)(h=e[a])&&l.get(f[a])===h&&(r[a]=h)}function lb(t){return t.__data__}function cb(t){return"object"==typeof t&&"length"in t?t:Array.from(t)}function db(t,e){return t<e?-1:t>e?1:t>=e?0:NaN}ab.prototype={constructor:ab,appendChild:function(t){return this._parent.insertBefore(t,this._next)},insertBefore:function(t,e){return this._parent.insertBefore(t,e)},querySelector:function(t){return this._parent.querySelector(t)},querySelectorAll:function(t){return this._parent.querySelectorAll(t)}};var fb="http://www.w3.org/1999/xhtml",pb={svg:"http://www.w3.org/2000/svg",xhtml:fb,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function mb(t){var e=t+="",i=e.indexOf(":");return i>=0&&"xmlns"!==(e=t.slice(0,i))&&(t=t.slice(i+1)),pb.hasOwnProperty(e)?{space:pb[e],local:t}:t}function gb(t){return function(){this.removeAttribute(t)}}function vb(t){return function(){this.removeAttributeNS(t.space,t.local)}}function yb(t,e){return function(){this.setAttribute(t,e)}}function bb(t,e){return function(){this.setAttributeNS(t.space,t.local,e)}}function wb(t,e){return function(){var i=e.apply(this,arguments);null==i?this.removeAttribute(t):this.setAttribute(t,i)}}function _b(t,e){return function(){var i=e.apply(this,arguments);null==i?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,i)}}function Mb(t){return t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView}function Ab(t){return function(){this.style.removeProperty(t)}}function kb(t,e,i){return function(){this.style.setProperty(t,e,i)}}function Eb(t,e,i){return function(){var n=e.apply(this,arguments);null==n?this.style.removeProperty(t):this.style.setProperty(t,n,i)}}function xb(t,e){return t.style.getPropertyValue(e)||Mb(t).getComputedStyle(t,null).getPropertyValue(e)}function Sb(t){return function(){delete this[t]}}function Tb(t,e){return function(){this[t]=e}}function Ib(t,e){return function(){var i=e.apply(this,arguments);null==i?delete this[t]:this[t]=i}}function qb(t){return t.trim().split(/^|\s+/)}function Rb(t){return t.classList||new Cb(t)}function Cb(t){this._node=t,this._names=qb(t.getAttribute("class")||"")}function Nb(t,e){for(var i=Rb(t),n=-1,r=e.length;++n<r;)i.add(e[n])}function Lb(t,e){for(var i=Rb(t),n=-1,r=e.length;++n<r;)i.remove(e[n])}function Db(t){return function(){Nb(this,t)}}function Ob(t){return function(){Lb(this,t)}}function Bb(t,e){return function(){(e.apply(this,arguments)?Nb:Lb)(this,t)}}function Pb(){this.textContent=""}function Ub(t){return function(){this.textContent=t}}function Fb(t){return function(){var e=t.apply(this,arguments);this.textContent=null==e?"":e}}function jb(){this.innerHTML=""}function zb(t){return function(){this.innerHTML=t}}function Vb(t){return function(){var e=t.apply(this,arguments);this.innerHTML=null==e?"":e}}function Hb(){this.nextSibling&&this.parentNode.appendChild(this)}function Kb(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function Gb(t){return function(){var e=this.ownerDocument,i=this.namespaceURI;return i===fb&&e.documentElement.namespaceURI===fb?e.createElement(t):e.createElementNS(i,t)}}function Wb(t){return function(){return this.ownerDocument.createElementNS(t.space,t.local)}}function Qb(t){var e=mb(t);return(e.local?Wb:Gb)(e)}function $b(){return null}function Zb(){var t=this.parentNode;t&&t.removeChild(this)}function Yb(){var t=this.cloneNode(!1),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function Xb(){var t=this.cloneNode(!0),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function Jb(t){return function(){var e=this.__on;if(e){for(var i,n=0,r=-1,s=e.length;n<s;++n)i=e[n],t.type&&i.type!==t.type||i.name!==t.name?e[++r]=i:this.removeEventListener(i.type,i.listener,i.options);++r?e.length=r:delete this.__on}}}function tw(t,e,i){return function(){var n,r=this.__on,s=function(t){return function(e){t.call(this,e,this.__data__)}}(e);if(r)for(var o=0,a=r.length;o<a;++o)if((n=r[o]).type===t.type&&n.name===t.name)return this.removeEventListener(n.type,n.listener,n.options),this.addEventListener(n.type,n.listener=s,n.options=i),void(n.value=e);this.addEventListener(t.type,s,i),n={type:t.type,name:t.name,value:e,listener:s,options:i},r?r.push(n):this.__on=[n]}}function ew(t,e,i){var n=Mb(t),r=n.CustomEvent;"function"==typeof r?r=new r(e,i):(r=n.document.createEvent("Event"),i?(r.initEvent(e,i.bubbles,i.cancelable),r.detail=i.detail):r.initEvent(e,!1,!1)),t.dispatchEvent(r)}function iw(t,e){return function(){return ew(this,t,e)}}function nw(t,e){return function(){return ew(this,t,e.apply(this,arguments))}}Cb.prototype={add:function(t){this._names.indexOf(t)<0&&(this._names.push(t),this._node.setAttribute("class",this._names.join(" ")))},remove:function(t){var e=this._names.indexOf(t);e>=0&&(this._names.splice(e,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(t){return this._names.indexOf(t)>=0}};var rw=[null];function sw(t,e){this._groups=t,this._parents=e}function ow(){return new sw([[document.documentElement]],rw)}sw.prototype=ow.prototype={constructor:sw,select:function(t){"function"!=typeof t&&(t=Zy(t));for(var e=this._groups,i=e.length,n=new Array(i),r=0;r<i;++r)for(var s,o,a=e[r],h=a.length,u=n[r]=new Array(h),l=0;l<h;++l)(s=a[l])&&(o=t.call(s,s.__data__,l,a))&&("__data__"in s&&(o.__data__=s.__data__),u[l]=o);return new sw(n,this._parents)},selectAll:function(t){t="function"==typeof t?Jy(t):Xy(t);for(var e=this._groups,i=e.length,n=[],r=[],s=0;s<i;++s)for(var o,a=e[s],h=a.length,u=0;u<h;++u)(o=a[u])&&(n.push(t.call(o,o.__data__,u,a)),r.push(o));return new sw(n,r)},selectChild:function(t){return this.select(null==t?nb:function(t){return function(){return ib.call(this.children,t)}}("function"==typeof t?t:eb(t)))},selectChildren:function(t){return this.selectAll(null==t?sb:function(t){return function(){return rb.call(this.children,t)}}("function"==typeof t?t:eb(t)))},filter:function(t){"function"!=typeof t&&(t=tb(t));for(var e=this._groups,i=e.length,n=new Array(i),r=0;r<i;++r)for(var s,o=e[r],a=o.length,h=n[r]=[],u=0;u<a;++u)(s=o[u])&&t.call(s,s.__data__,u,o)&&h.push(s);return new sw(n,this._parents)},data:function(t,e){if(!arguments.length)return Array.from(this,lb);var i,n=e?ub:hb,r=this._parents,s=this._groups;"function"!=typeof t&&(i=t,t=function(){return i});for(var o=s.length,a=new Array(o),h=new Array(o),u=new Array(o),l=0;l<o;++l){var c=r[l],d=s[l],f=d.length,p=cb(t.call(c,c&&c.__data__,l,r)),m=p.length,g=h[l]=new Array(m),v=a[l]=new Array(m);n(c,d,g,v,u[l]=new Array(f),p,e);for(var y,b,w=0,_=0;w<m;++w)if(y=g[w]){for(w>=_&&(_=w+1);!(b=v[_])&&++_<m;);y._next=b||null}}return(a=new sw(a,r))._enter=h,a._exit=u,a},enter:function(){return new sw(this._enter||this._groups.map(ob),this._parents)},exit:function(){return new sw(this._exit||this._groups.map(ob),this._parents)},join:function(t,e,i){var n=this.enter(),r=this,s=this.exit();return"function"==typeof t?(n=t(n))&&(n=n.selection()):n=n.append(t+""),null!=e&&(r=e(r))&&(r=r.selection()),null==i?s.remove():i(s),n&&r?n.merge(r).order():r},merge:function(t){for(var e=t.selection?t.selection():t,i=this._groups,n=e._groups,r=i.length,s=n.length,o=Math.min(r,s),a=new Array(r),h=0;h<o;++h)for(var u,l=i[h],c=n[h],d=l.length,f=a[h]=new Array(d),p=0;p<d;++p)(u=l[p]||c[p])&&(f[p]=u);for(;h<r;++h)a[h]=i[h];return new sw(a,this._parents)},selection:function(){return this},order:function(){for(var t=this._groups,e=-1,i=t.length;++e<i;)for(var n,r=t[e],s=r.length-1,o=r[s];--s>=0;)(n=r[s])&&(o&&4^n.compareDocumentPosition(o)&&o.parentNode.insertBefore(n,o),o=n);return this},sort:function(t){function e(e,i){return e&&i?t(e.__data__,i.__data__):!e-!i}t||(t=db);for(var i=this._groups,n=i.length,r=new Array(n),s=0;s<n;++s){for(var o,a=i[s],h=a.length,u=r[s]=new Array(h),l=0;l<h;++l)(o=a[l])&&(u[l]=o);u.sort(e)}return new sw(r,this._parents).order()},call:function(){var t=arguments[0];return arguments[0]=this,t.apply(null,arguments),this},nodes:function(){return Array.from(this)},node:function(){for(var t=this._groups,e=0,i=t.length;e<i;++e)for(var n=t[e],r=0,s=n.length;r<s;++r){var o=n[r];if(o)return o}return null},size:function(){let t=0;for(const e of this)++t;return t},empty:function(){return!this.node()},each:function(t){for(var e=this._groups,i=0,n=e.length;i<n;++i)for(var r,s=e[i],o=0,a=s.length;o<a;++o)(r=s[o])&&t.call(r,r.__data__,o,s);return this},attr:function(t,e){var i=mb(t);if(arguments.length<2){var n=this.node();return i.local?n.getAttributeNS(i.space,i.local):n.getAttribute(i)}return this.each((null==e?i.local?vb:gb:"function"==typeof e?i.local?_b:wb:i.local?bb:yb)(i,e))},style:function(t,e,i){return arguments.length>1?this.each((null==e?Ab:"function"==typeof e?Eb:kb)(t,e,null==i?"":i)):xb(this.node(),t)},property:function(t,e){return arguments.length>1?this.each((null==e?Sb:"function"==typeof e?Ib:Tb)(t,e)):this.node()[t]},classed:function(t,e){var i=qb(t+"");if(arguments.length<2){for(var n=Rb(this.node()),r=-1,s=i.length;++r<s;)if(!n.contains(i[r]))return!1;return!0}return this.each(("function"==typeof e?Bb:e?Db:Ob)(i,e))},text:function(t){return arguments.length?this.each(null==t?Pb:("function"==typeof t?Fb:Ub)(t)):this.node().textContent},html:function(t){return arguments.length?this.each(null==t?jb:("function"==typeof t?Vb:zb)(t)):this.node().innerHTML},raise:function(){return this.each(Hb)},lower:function(){return this.each(Kb)},append:function(t){var e="function"==typeof t?t:Qb(t);return this.select((function(){return this.appendChild(e.apply(this,arguments))}))},insert:function(t,e){var i="function"==typeof t?t:Qb(t),n=null==e?$b:"function"==typeof e?e:Zy(e);return this.select((function(){return this.insertBefore(i.apply(this,arguments),n.apply(this,arguments)||null)}))},remove:function(){return this.each(Zb)},clone:function(t){return this.select(t?Xb:Yb)},datum:function(t){return arguments.length?this.property("__data__",t):this.node().__data__},on:function(t,e,i){var n,r,s=function(t){return t.trim().split(/^|\s+/).map((function(t){var e="",i=t.indexOf(".");return i>=0&&(e=t.slice(i+1),t=t.slice(0,i)),{type:t,name:e}}))}(t+""),o=s.length;if(!(arguments.length<2)){for(a=e?tw:Jb,n=0;n<o;++n)this.each(a(s[n],e,i));return this}var a=this.node().__on;if(a)for(var h,u=0,l=a.length;u<l;++u)for(n=0,h=a[u];n<o;++n)if((r=s[n]).type===h.type&&r.name===h.name)return h.value},dispatch:function(t,e){return this.each(("function"==typeof e?nw:iw)(t,e))},[Symbol.iterator]:function*(){for(var t=this._groups,e=0,i=t.length;e<i;++e)for(var n,r=t[e],s=0,o=r.length;s<o;++s)(n=r[s])&&(yield n)}};var aw=ow;function hw(t,e,i){t.prototype=e.prototype=i,i.constructor=t}function uw(t,e){var i=Object.create(t.prototype);for(var n in e)i[n]=e[n];return i}function lw(){}var cw=.7,dw=1.4285714285714286,fw="\\s*([+-]?\\d+)\\s*",pw="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",mw="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",gw=/^#([0-9a-f]{3,8})$/,vw=new RegExp(`^rgb\\(${fw},${fw},${fw}\\)$`),yw=new RegExp(`^rgb\\(${mw},${mw},${mw}\\)$`),bw=new RegExp(`^rgba\\(${fw},${fw},${fw},${pw}\\)$`),ww=new RegExp(`^rgba\\(${mw},${mw},${mw},${pw}\\)$`),_w=new RegExp(`^hsl\\(${pw},${mw},${mw}\\)$`),Mw=new RegExp(`^hsla\\(${pw},${mw},${mw},${pw}\\)$`),Aw={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function kw(){return this.rgb().formatHex()}function Ew(){return this.rgb().formatRgb()}function xw(t){var e,i;return t=(t+"").trim().toLowerCase(),(e=gw.exec(t))?(i=e[1].length,e=parseInt(e[1],16),6===i?Sw(e):3===i?new qw(e>>8&15|e>>4&240,e>>4&15|240&e,(15&e)<<4|15&e,1):8===i?Tw(e>>24&255,e>>16&255,e>>8&255,(255&e)/255):4===i?Tw(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|240&e,((15&e)<<4|15&e)/255):null):(e=vw.exec(t))?new qw(e[1],e[2],e[3],1):(e=yw.exec(t))?new qw(255*e[1]/100,255*e[2]/100,255*e[3]/100,1):(e=bw.exec(t))?Tw(e[1],e[2],e[3],e[4]):(e=ww.exec(t))?Tw(255*e[1]/100,255*e[2]/100,255*e[3]/100,e[4]):(e=_w.exec(t))?Ow(e[1],e[2]/100,e[3]/100,1):(e=Mw.exec(t))?Ow(e[1],e[2]/100,e[3]/100,e[4]):Aw.hasOwnProperty(t)?Sw(Aw[t]):"transparent"===t?new qw(NaN,NaN,NaN,0):null}function Sw(t){return new qw(t>>16&255,t>>8&255,255&t,1)}function Tw(t,e,i,n){return n<=0&&(t=e=i=NaN),new qw(t,e,i,n)}function Iw(t,e,i,n){return 1===arguments.length?((r=t)instanceof lw||(r=xw(r)),r?new qw((r=r.rgb()).r,r.g,r.b,r.opacity):new qw):new qw(t,e,i,null==n?1:n);var r}function qw(t,e,i,n){this.r=+t,this.g=+e,this.b=+i,this.opacity=+n}function Rw(){return`#${Dw(this.r)}${Dw(this.g)}${Dw(this.b)}`}function Cw(){const t=Nw(this.opacity);return`${1===t?"rgb(":"rgba("}${Lw(this.r)}, ${Lw(this.g)}, ${Lw(this.b)}${1===t?")":`, ${t})`}`}function Nw(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function Lw(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function Dw(t){return((t=Lw(t))<16?"0":"")+t.toString(16)}function Ow(t,e,i,n){return n<=0?t=e=i=NaN:i<=0||i>=1?t=e=NaN:e<=0&&(t=NaN),new Pw(t,e,i,n)}function Bw(t){if(t instanceof Pw)return new Pw(t.h,t.s,t.l,t.opacity);if(t instanceof lw||(t=xw(t)),!t)return new Pw;if(t instanceof Pw)return t;var e=(t=t.rgb()).r/255,i=t.g/255,n=t.b/255,r=Math.min(e,i,n),s=Math.max(e,i,n),o=NaN,a=s-r,h=(s+r)/2;return a?(o=e===s?(i-n)/a+6*(i<n):i===s?(n-e)/a+2:(e-i)/a+4,a/=h<.5?s+r:2-s-r,o*=60):a=h>0&&h<1?0:o,new Pw(o,a,h,t.opacity)}function Pw(t,e,i,n){this.h=+t,this.s=+e,this.l=+i,this.opacity=+n}function Uw(t){return(t=(t||0)%360)<0?t+360:t}function Fw(t){return Math.max(0,Math.min(1,t||0))}function jw(t,e,i){return 255*(t<60?e+(i-e)*t/60:t<180?i:t<240?e+(i-e)*(240-t)/60:e)}function zw(t,e,i,n,r){var s=t*t,o=s*t;return((1-3*t+3*s-o)*e+(4-6*s+3*o)*i+(1+3*t+3*s-3*o)*n+o*r)/6}hw(lw,xw,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:kw,formatHex:kw,formatHex8:function(){return this.rgb().formatHex8()},formatHsl:function(){return Bw(this).formatHsl()},formatRgb:Ew,toString:Ew}),hw(qw,Iw,uw(lw,{brighter(t){return t=null==t?dw:Math.pow(dw,t),new qw(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=null==t?cw:Math.pow(cw,t),new qw(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new qw(Lw(this.r),Lw(this.g),Lw(this.b),Nw(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:Rw,formatHex:Rw,formatHex8:function(){return`#${Dw(this.r)}${Dw(this.g)}${Dw(this.b)}${Dw(255*(isNaN(this.opacity)?1:this.opacity))}`},formatRgb:Cw,toString:Cw})),hw(Pw,(function(t,e,i,n){return 1===arguments.length?Bw(t):new Pw(t,e,i,null==n?1:n)}),uw(lw,{brighter(t){return t=null==t?dw:Math.pow(dw,t),new Pw(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=null==t?cw:Math.pow(cw,t),new Pw(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+360*(this.h<0),e=isNaN(t)||isNaN(this.s)?0:this.s,i=this.l,n=i+(i<.5?i:1-i)*e,r=2*i-n;return new qw(jw(t>=240?t-240:t+120,r,n),jw(t,r,n),jw(t<120?t+240:t-120,r,n),this.opacity)},clamp(){return new Pw(Uw(this.h),Fw(this.s),Fw(this.l),Nw(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=Nw(this.opacity);return`${1===t?"hsl(":"hsla("}${Uw(this.h)}, ${100*Fw(this.s)}%, ${100*Fw(this.l)}%${1===t?")":`, ${t})`}`}}));var Vw=t=>()=>t;function Hw(t,e){return function(i){return t+i*e}}function Kw(t){return 1==(t=+t)?Gw:function(e,i){return i-e?function(t,e,i){return t=Math.pow(t,i),e=Math.pow(e,i)-t,i=1/i,function(n){return Math.pow(t+n*e,i)}}(e,i,t):Vw(isNaN(e)?i:e)}}function Gw(t,e){var i=e-t;return i?Hw(t,i):Vw(isNaN(t)?e:t)}var Ww=function t(e){var i=Kw(e);function n(t,e){var n=i((t=Iw(t)).r,(e=Iw(e)).r),r=i(t.g,e.g),s=i(t.b,e.b),o=Gw(t.opacity,e.opacity);return function(e){return t.r=n(e),t.g=r(e),t.b=s(e),t.opacity=o(e),t+""}}return n.gamma=t,n}(1);function Qw(t){return function(e){var i,n,r=e.length,s=new Array(r),o=new Array(r),a=new Array(r);for(i=0;i<r;++i)n=Iw(e[i]),s[i]=n.r||0,o[i]=n.g||0,a[i]=n.b||0;return s=t(s),o=t(o),a=t(a),n.opacity=1,function(t){return n.r=s(t),n.g=o(t),n.b=a(t),n+""}}}Qw((function(t){var e=t.length-1;return function(i){var n=i<=0?i=0:i>=1?(i=1,e-1):Math.floor(i*e),r=t[n],s=t[n+1],o=n>0?t[n-1]:2*r-s,a=n<e-1?t[n+2]:2*s-r;return zw((i-n/e)*e,o,r,s,a)}})),Qw((function(t){var e=t.length;return function(i){var n=Math.floor(((i%=1)<0?++i:i)*e),r=t[(n+e-1)%e],s=t[n%e],o=t[(n+1)%e],a=t[(n+2)%e];return zw((i-n/e)*e,r,s,o,a)}}));function $w(t,e){return t=+t,e=+e,function(i){return t*(1-i)+e*i}}var Zw=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Yw=new RegExp(Zw.source,"g");function Xw(t,e){var i,n,r,s=Zw.lastIndex=Yw.lastIndex=0,o=-1,a=[],h=[];for(t+="",e+="";(i=Zw.exec(t))&&(n=Yw.exec(e));)(r=n.index)>s&&(r=e.slice(s,r),a[o]?a[o]+=r:a[++o]=r),(i=i[0])===(n=n[0])?a[o]?a[o]+=n:a[++o]=n:(a[++o]=null,h.push({i:o,x:$w(i,n)})),s=Yw.lastIndex;return s<e.length&&(r=e.slice(s),a[o]?a[o]+=r:a[++o]=r),a.length<2?h[0]?function(t){return function(e){return t(e)+""}}(h[0].x):function(t){return function(){return t}}(e):(e=h.length,function(t){for(var i,n=0;n<e;++n)a[(i=h[n]).i]=i.x(t);return a.join("")})}var Jw,t_,e_=0,i_=0,n_=0,r_=1e3,s_=0,o_=0,a_=0,h_="object"==typeof performance&&performance.now?performance:Date,u_="object"==typeof window&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(t){setTimeout(t,17)};function l_(){return o_||(u_(c_),o_=h_.now()+a_)}function c_(){o_=0}function d_(){this._call=this._time=this._next=null}function f_(t,e,i){var n=new d_;return n.restart(t,e,i),n}function p_(){o_=(s_=h_.now())+a_,e_=i_=0;try{!function(){l_(),++e_;for(var t,e=Jw;e;)(t=o_-e._time)>=0&&e._call.call(void 0,t),e=e._next;--e_}()}finally{e_=0,function(){var t,e,i=Jw,n=1/0;for(;i;)i._call?(n>i._time&&(n=i._time),t=i,i=i._next):(e=i._next,i._next=null,i=t?t._next=e:Jw=e);t_=t,g_(n)}(),o_=0}}function m_(){var t=h_.now(),e=t-s_;e>r_&&(a_-=e,s_=t)}function g_(t){e_||(i_&&(i_=clearTimeout(i_)),t-o_>24?(t<1/0&&(i_=setTimeout(p_,t-h_.now()-a_)),n_&&(n_=clearInterval(n_))):(n_||(s_=h_.now(),n_=setInterval(m_,r_)),e_=1,u_(p_)))}function v_(t,e,i){var n=new d_;return e=null==e?0:+e,n.restart((i=>{n.stop(),t(i+e)}),e,i),n}d_.prototype=f_.prototype={constructor:d_,restart:function(t,e,i){if("function"!=typeof t)throw new TypeError("callback is not a function");i=(null==i?l_():+i)+(null==e?0:+e),this._next||t_===this||(t_?t_._next=this:Jw=this,t_=this),this._call=t,this._time=i,g_()},stop:function(){this._call&&(this._call=null,this._time=1/0,g_())}};var y_=Qy("start","end","cancel","interrupt"),b_=[],w_=0,__=1,M_=2,A_=3,k_=4,E_=5,x_=6;function S_(t,e,i,n,r,s){var o=t.__transition;if(o){if(i in o)return}else t.__transition={};!function(t,e,i){var n,r=t.__transition;function s(t){i.state=__,i.timer.restart(o,i.delay,i.time),i.delay<=t&&o(t-i.delay)}function o(s){var u,l,c,d;if(i.state!==__)return h();for(u in r)if((d=r[u]).name===i.name){if(d.state===A_)return v_(o);d.state===k_?(d.state=x_,d.timer.stop(),d.on.call("interrupt",t,t.__data__,d.index,d.group),delete r[u]):+u<e&&(d.state=x_,d.timer.stop(),d.on.call("cancel",t,t.__data__,d.index,d.group),delete r[u])}if(v_((function(){i.state===A_&&(i.state=k_,i.timer.restart(a,i.delay,i.time),a(s))})),i.state=M_,i.on.call("start",t,t.__data__,i.index,i.group),i.state===M_){for(i.state=A_,n=new Array(c=i.tween.length),u=0,l=-1;u<c;++u)(d=i.tween[u].value.call(t,t.__data__,i.index,i.group))&&(n[++l]=d);n.length=l+1}}function a(e){for(var r=e<i.duration?i.ease.call(null,e/i.duration):(i.timer.restart(h),i.state=E_,1),s=-1,o=n.length;++s<o;)n[s].call(t,r);i.state===E_&&(i.on.call("end",t,t.__data__,i.index,i.group),h())}function h(){for(var n in i.state=x_,i.timer.stop(),delete r[e],r)return;delete t.__transition}r[e]=i,i.timer=f_(s,0,i.time)}(t,i,{name:e,index:n,group:r,on:y_,tween:b_,time:s.time,delay:s.delay,duration:s.duration,ease:s.ease,timer:null,state:w_})}function T_(t,e){var i=q_(t,e);if(i.state>w_)throw new Error("too late; already scheduled");return i}function I_(t,e){var i=q_(t,e);if(i.state>A_)throw new Error("too late; already running");return i}function q_(t,e){var i=t.__transition;if(!i||!(i=i[e]))throw new Error("transition not found");return i}function R_(t,e){var i,n,r,s=t.__transition,o=!0;if(s){for(r in e=null==e?null:e+"",s)(i=s[r]).name===e?(n=i.state>M_&&i.state<E_,i.state=x_,i.timer.stop(),i.on.call(n?"interrupt":"cancel",t,t.__data__,i.index,i.group),delete s[r]):o=!1;o&&delete t.__transition}}var C_,N_=180/Math.PI,L_={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function D_(t,e,i,n,r,s){var o,a,h;return(o=Math.sqrt(t*t+e*e))&&(t/=o,e/=o),(h=t*i+e*n)&&(i-=t*h,n-=e*h),(a=Math.sqrt(i*i+n*n))&&(i/=a,n/=a,h/=a),t*n<e*i&&(t=-t,e=-e,h=-h,o=-o),{translateX:r,translateY:s,rotate:Math.atan2(e,t)*N_,skewX:Math.atan(h)*N_,scaleX:o,scaleY:a}}function O_(t,e,i,n){function r(t){return t.length?t.pop()+" ":""}return function(s,o){var a=[],h=[];return s=t(s),o=t(o),function(t,n,r,s,o,a){if(t!==r||n!==s){var h=o.push("translate(",null,e,null,i);a.push({i:h-4,x:$w(t,r)},{i:h-2,x:$w(n,s)})}else(r||s)&&o.push("translate("+r+e+s+i)}(s.translateX,s.translateY,o.translateX,o.translateY,a,h),function(t,e,i,s){t!==e?(t-e>180?e+=360:e-t>180&&(t+=360),s.push({i:i.push(r(i)+"rotate(",null,n)-2,x:$w(t,e)})):e&&i.push(r(i)+"rotate("+e+n)}(s.rotate,o.rotate,a,h),function(t,e,i,s){t!==e?s.push({i:i.push(r(i)+"skewX(",null,n)-2,x:$w(t,e)}):e&&i.push(r(i)+"skewX("+e+n)}(s.skewX,o.skewX,a,h),function(t,e,i,n,s,o){if(t!==i||e!==n){var a=s.push(r(s)+"scale(",null,",",null,")");o.push({i:a-4,x:$w(t,i)},{i:a-2,x:$w(e,n)})}else 1===i&&1===n||s.push(r(s)+"scale("+i+","+n+")")}(s.scaleX,s.scaleY,o.scaleX,o.scaleY,a,h),s=o=null,function(t){for(var e,i=-1,n=h.length;++i<n;)a[(e=h[i]).i]=e.x(t);return a.join("")}}}var B_=O_((function(t){const e=new("function"==typeof DOMMatrix?DOMMatrix:WebKitCSSMatrix)(t+"");return e.isIdentity?L_:D_(e.a,e.b,e.c,e.d,e.e,e.f)}),"px, ","px)","deg)"),P_=O_((function(t){return null==t?L_:(C_||(C_=document.createElementNS("http://www.w3.org/2000/svg","g")),C_.setAttribute("transform",t),(t=C_.transform.baseVal.consolidate())?D_((t=t.matrix).a,t.b,t.c,t.d,t.e,t.f):L_)}),", ",")",")");function U_(t,e){var i,n;return function(){var r=I_(this,t),s=r.tween;if(s!==i)for(var o=0,a=(n=i=s).length;o<a;++o)if(n[o].name===e){(n=n.slice()).splice(o,1);break}r.tween=n}}function F_(t,e,i){var n,r;if("function"!=typeof i)throw new Error;return function(){var s=I_(this,t),o=s.tween;if(o!==n){r=(n=o).slice();for(var a={name:e,value:i},h=0,u=r.length;h<u;++h)if(r[h].name===e){r[h]=a;break}h===u&&r.push(a)}s.tween=r}}function j_(t,e,i){var n=t._id;return t.each((function(){var t=I_(this,n);(t.value||(t.value={}))[e]=i.apply(this,arguments)})),function(t){return q_(t,n).value[e]}}function z_(t,e){var i;return("number"==typeof e?$w:e instanceof xw?Ww:(i=xw(e))?(e=i,Ww):Xw)(t,e)}function V_(t){return function(){this.removeAttribute(t)}}function H_(t){return function(){this.removeAttributeNS(t.space,t.local)}}function K_(t,e,i){var n,r,s=i+"";return function(){var o=this.getAttribute(t);return o===s?null:o===n?r:r=e(n=o,i)}}function G_(t,e,i){var n,r,s=i+"";return function(){var o=this.getAttributeNS(t.space,t.local);return o===s?null:o===n?r:r=e(n=o,i)}}function W_(t,e,i){var n,r,s;return function(){var o,a,h=i(this);if(null!=h)return(o=this.getAttribute(t))===(a=h+"")?null:o===n&&a===r?s:(r=a,s=e(n=o,h));this.removeAttribute(t)}}function Q_(t,e,i){var n,r,s;return function(){var o,a,h=i(this);if(null!=h)return(o=this.getAttributeNS(t.space,t.local))===(a=h+"")?null:o===n&&a===r?s:(r=a,s=e(n=o,h));this.removeAttributeNS(t.space,t.local)}}function $_(t,e){var i,n;function r(){var r=e.apply(this,arguments);return r!==n&&(i=(n=r)&&function(t,e){return function(i){this.setAttributeNS(t.space,t.local,e.call(this,i))}}(t,r)),i}return r._value=e,r}function Z_(t,e){var i,n;function r(){var r=e.apply(this,arguments);return r!==n&&(i=(n=r)&&function(t,e){return function(i){this.setAttribute(t,e.call(this,i))}}(t,r)),i}return r._value=e,r}function Y_(t,e){return function(){T_(this,t).delay=+e.apply(this,arguments)}}function X_(t,e){return e=+e,function(){T_(this,t).delay=e}}function J_(t,e){return function(){I_(this,t).duration=+e.apply(this,arguments)}}function tM(t,e){return e=+e,function(){I_(this,t).duration=e}}var eM=aw.prototype.constructor;function iM(t){return function(){this.style.removeProperty(t)}}var nM=0;function rM(t,e,i,n){this._groups=t,this._parents=e,this._name=i,this._id=n}function sM(){return++nM}var oM=aw.prototype;rM.prototype=function(t){return aw().transition(t)}.prototype={constructor:rM,select:function(t){var e=this._name,i=this._id;"function"!=typeof t&&(t=Zy(t));for(var n=this._groups,r=n.length,s=new Array(r),o=0;o<r;++o)for(var a,h,u=n[o],l=u.length,c=s[o]=new Array(l),d=0;d<l;++d)(a=u[d])&&(h=t.call(a,a.__data__,d,u))&&("__data__"in a&&(h.__data__=a.__data__),c[d]=h,S_(c[d],e,i,d,c,q_(a,i)));return new rM(s,this._parents,e,i)},selectAll:function(t){var e=this._name,i=this._id;"function"!=typeof t&&(t=Xy(t));for(var n=this._groups,r=n.length,s=[],o=[],a=0;a<r;++a)for(var h,u=n[a],l=u.length,c=0;c<l;++c)if(h=u[c]){for(var d,f=t.call(h,h.__data__,c,u),p=q_(h,i),m=0,g=f.length;m<g;++m)(d=f[m])&&S_(d,e,i,m,f,p);s.push(f),o.push(h)}return new rM(s,o,e,i)},selectChild:oM.selectChild,selectChildren:oM.selectChildren,filter:function(t){"function"!=typeof t&&(t=tb(t));for(var e=this._groups,i=e.length,n=new Array(i),r=0;r<i;++r)for(var s,o=e[r],a=o.length,h=n[r]=[],u=0;u<a;++u)(s=o[u])&&t.call(s,s.__data__,u,o)&&h.push(s);return new rM(n,this._parents,this._name,this._id)},merge:function(t){if(t._id!==this._id)throw new Error;for(var e=this._groups,i=t._groups,n=e.length,r=i.length,s=Math.min(n,r),o=new Array(n),a=0;a<s;++a)for(var h,u=e[a],l=i[a],c=u.length,d=o[a]=new Array(c),f=0;f<c;++f)(h=u[f]||l[f])&&(d[f]=h);for(;a<n;++a)o[a]=e[a];return new rM(o,this._parents,this._name,this._id)},selection:function(){return new eM(this._groups,this._parents)},transition:function(){for(var t=this._name,e=this._id,i=sM(),n=this._groups,r=n.length,s=0;s<r;++s)for(var o,a=n[s],h=a.length,u=0;u<h;++u)if(o=a[u]){var l=q_(o,e);S_(o,t,i,u,a,{time:l.time+l.delay+l.duration,delay:0,duration:l.duration,ease:l.ease})}return new rM(n,this._parents,t,i)},call:oM.call,nodes:oM.nodes,node:oM.node,size:oM.size,empty:oM.empty,each:oM.each,on:function(t,e){var i=this._id;return arguments.length<2?q_(this.node(),i).on.on(t):this.each(function(t,e,i){var n,r,s=function(t){return(t+"").trim().split(/^|\s+/).every((function(t){var e=t.indexOf(".");return e>=0&&(t=t.slice(0,e)),!t||"start"===t}))}(e)?T_:I_;return function(){var o=s(this,t),a=o.on;a!==n&&(r=(n=a).copy()).on(e,i),o.on=r}}(i,t,e))},attr:function(t,e){var i=mb(t),n="transform"===i?P_:z_;return this.attrTween(t,"function"==typeof e?(i.local?Q_:W_)(i,n,j_(this,"attr."+t,e)):null==e?(i.local?H_:V_)(i):(i.local?G_:K_)(i,n,e))},attrTween:function(t,e){var i="attr."+t;if(arguments.length<2)return(i=this.tween(i))&&i._value;if(null==e)return this.tween(i,null);if("function"!=typeof e)throw new Error;var n=mb(t);return this.tween(i,(n.local?$_:Z_)(n,e))},style:function(t,e,i){var n="transform"==(t+="")?B_:z_;return null==e?this.styleTween(t,function(t,e){var i,n,r;return function(){var s=xb(this,t),o=(this.style.removeProperty(t),xb(this,t));return s===o?null:s===i&&o===n?r:r=e(i=s,n=o)}}(t,n)).on("end.style."+t,iM(t)):"function"==typeof e?this.styleTween(t,function(t,e,i){var n,r,s;return function(){var o=xb(this,t),a=i(this),h=a+"";return null==a&&(this.style.removeProperty(t),h=a=xb(this,t)),o===h?null:o===n&&h===r?s:(r=h,s=e(n=o,a))}}(t,n,j_(this,"style."+t,e))).each(function(t,e){var i,n,r,s,o="style."+e,a="end."+o;return function(){var h=I_(this,t),u=h.on,l=null==h.value[o]?s||(s=iM(e)):void 0;u===i&&r===l||(n=(i=u).copy()).on(a,r=l),h.on=n}}(this._id,t)):this.styleTween(t,function(t,e,i){var n,r,s=i+"";return function(){var o=xb(this,t);return o===s?null:o===n?r:r=e(n=o,i)}}(t,n,e),i).on("end.style."+t,null)},styleTween:function(t,e,i){var n="style."+(t+="");if(arguments.length<2)return(n=this.tween(n))&&n._value;if(null==e)return this.tween(n,null);if("function"!=typeof e)throw new Error;return this.tween(n,function(t,e,i){var n,r;function s(){var s=e.apply(this,arguments);return s!==r&&(n=(r=s)&&function(t,e,i){return function(n){this.style.setProperty(t,e.call(this,n),i)}}(t,s,i)),n}return s._value=e,s}(t,e,null==i?"":i))},text:function(t){return this.tween("text","function"==typeof t?function(t){return function(){var e=t(this);this.textContent=null==e?"":e}}(j_(this,"text",t)):function(t){return function(){this.textContent=t}}(null==t?"":t+""))},textTween:function(t){var e="text";if(arguments.length<1)return(e=this.tween(e))&&e._value;if(null==t)return this.tween(e,null);if("function"!=typeof t)throw new Error;return this.tween(e,function(t){var e,i;function n(){var n=t.apply(this,arguments);return n!==i&&(e=(i=n)&&function(t){return function(e){this.textContent=t.call(this,e)}}(n)),e}return n._value=t,n}(t))},remove:function(){return this.on("end.remove",(t=this._id,function(){var e=this.parentNode;for(var i in this.__transition)if(+i!==t)return;e&&e.removeChild(this)}));var t},tween:function(t,e){var i=this._id;if(t+="",arguments.length<2){for(var n,r=q_(this.node(),i).tween,s=0,o=r.length;s<o;++s)if((n=r[s]).name===t)return n.value;return null}return this.each((null==e?U_:F_)(i,t,e))},delay:function(t){var e=this._id;return arguments.length?this.each(("function"==typeof t?Y_:X_)(e,t)):q_(this.node(),e).delay},duration:function(t){var e=this._id;return arguments.length?this.each(("function"==typeof t?J_:tM)(e,t)):q_(this.node(),e).duration},ease:function(t){var e=this._id;return arguments.length?this.each(function(t,e){if("function"!=typeof e)throw new Error;return function(){I_(this,t).ease=e}}(e,t)):q_(this.node(),e).ease},easeVarying:function(t){if("function"!=typeof t)throw new Error;return this.each(function(t,e){return function(){var i=e.apply(this,arguments);if("function"!=typeof i)throw new Error;I_(this,t).ease=i}}(this._id,t))},end:function(){var t,e,i=this,n=i._id,r=i.size();return new Promise((function(s,o){var a={value:o},h={value:function(){0==--r&&s()}};i.each((function(){var i=I_(this,n),r=i.on;r!==t&&((e=(t=r).copy())._.cancel.push(a),e._.interrupt.push(a),e._.end.push(h)),i.on=e})),0===r&&s()}))},[Symbol.iterator]:oM[Symbol.iterator]};var aM={time:null,delay:0,duration:250,ease:function(t){return((t*=2)<=1?t*t*t:(t-=2)*t*t+2)/2}};function hM(t,e){for(var i;!(i=t.__transition)||!(i=i[e]);)if(!(t=t.parentNode))throw new Error(`transition ${e} not found`);return i}aw.prototype.interrupt=function(t){return this.each((function(){R_(this,t)}))},aw.prototype.transition=function(t){var e,i;t instanceof rM?(e=t._id,t=t._name):(e=sM(),(i=aM).time=l_(),t=null==t?null:t+"");for(var n=this._groups,r=n.length,s=0;s<r;++s)for(var o,a=n[s],h=a.length,u=0;u<h;++u)(o=a[u])&&S_(o,t,e,u,a,i||hM(o,e));return new rM(n,this._parents,t,e)};const{abs:uM,max:lM,min:cM}=Math;function dM(t){return[+t[0],+t[1]]}function fM(t){return[dM(t[0]),dM(t[1])]}["w","e"].map(pM),["n","s"].map(pM),["n","w","e","s","nw","ne","sw","se"].map(pM);function pM(t){return{type:t}}Math.sqrt(50),Math.sqrt(10),Math.sqrt(2);function mM(t,e){return null==t||null==e?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function gM(t,e){return null==t||null==e?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function vM(t){let e,i,n;function r(t,n,r=0,s=t.length){if(r<s){if(0!==e(n,n))return s;do{const e=r+s>>>1;i(t[e],n)<0?r=e+1:s=e}while(r<s)}return r}return 2!==t.length?(e=mM,i=(e,i)=>mM(t(e),i),n=(e,i)=>t(e)-i):(e=t===mM||t===gM?t:yM,i=t,n=t),{left:r,center:function(t,e,i=0,s=t.length){const o=r(t,e,i,s-1);return o>i&&n(t[o-1],e)>-n(t[o],e)?o-1:o},right:function(t,n,r=0,s=t.length){if(r<s){if(0!==e(n,n))return s;do{const e=r+s>>>1;i(t[e],n)<=0?r=e+1:s=e}while(r<s)}return r}}}function yM(){return 0}const bM=vM(mM);bM.right,bM.left,vM((function(t){return null===t?NaN:+t})).center;function wM(t,e){if((i=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var i,n=t.slice(0,i);return[n.length>1?n[0]+n.slice(2):n,+t.slice(i+1)]}function _M(t){return(t=wM(Math.abs(t)))?t[1]:NaN}function MM(t){return function(e){return e.replace(/[0-9]/g,(function(e){return t[+e]}))}}var AM,kM=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function EM(t){if(!(e=kM.exec(t)))throw new Error("invalid format: "+t);var e;return new xM({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}function xM(t){this.fill=void 0===t.fill?" ":t.fill+"",this.align=void 0===t.align?">":t.align+"",this.sign=void 0===t.sign?"-":t.sign+"",this.symbol=void 0===t.symbol?"":t.symbol+"",this.zero=!!t.zero,this.width=void 0===t.width?void 0:+t.width,this.comma=!!t.comma,this.precision=void 0===t.precision?void 0:+t.precision,this.trim=!!t.trim,this.type=void 0===t.type?"":t.type+""}function SM(t){t:for(var e,i=t.length,n=1,r=-1;n<i;++n)switch(t[n]){case".":r=e=n;break;case"0":0===r&&(r=n),e=n;break;default:if(!+t[n])break t;r>0&&(r=0)}return r>0?t.slice(0,r)+t.slice(e+1):t}function TM(t,e){var i=wM(t,e);if(!i)return t+"";var n=i[0],r=i[1];return r<0?"0."+new Array(-r).join("0")+n:n.length>r+1?n.slice(0,r+1)+"."+n.slice(r+1):n+new Array(r-n.length+2).join("0")}EM.prototype=xM.prototype,xM.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(void 0===this.width?"":Math.max(1,0|this.width))+(this.comma?",":"")+(void 0===this.precision?"":"."+Math.max(0,0|this.precision))+(this.trim?"~":"")+this.type};var IM={"%":(t,e)=>(100*t).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:function(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)},e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>TM(100*t,e),r:TM,s:function(t,e){var i=wM(t,e);if(!i)return t+"";var n=i[0],r=i[1],s=r-(AM=3*Math.max(-8,Math.min(8,Math.floor(r/3))))+1,o=n.length;return s===o?n:s>o?n+new Array(s-o+1).join("0"):s>0?n.slice(0,s)+"."+n.slice(s):"0."+new Array(1-s).join("0")+wM(t,Math.max(0,e+s-1))[0]},X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function qM(t){return t}var RM,CM=Array.prototype.map,NM=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];function LM(t){var e,i,n=void 0===t.grouping||void 0===t.thousands?qM:(e=CM.call(t.grouping,Number),i=t.thousands+"",function(t,n){for(var r=t.length,s=[],o=0,a=e[0],h=0;r>0&&a>0&&(h+a+1>n&&(a=Math.max(1,n-h)),s.push(t.substring(r-=a,r+a)),!((h+=a+1)>n));)a=e[o=(o+1)%e.length];return s.reverse().join(i)}),r=void 0===t.currency?"":t.currency[0]+"",s=void 0===t.currency?"":t.currency[1]+"",o=void 0===t.decimal?".":t.decimal+"",a=void 0===t.numerals?qM:MM(CM.call(t.numerals,String)),h=void 0===t.percent?"%":t.percent+"",u=void 0===t.minus?"−":t.minus+"",l=void 0===t.nan?"NaN":t.nan+"";function c(t){var e=(t=EM(t)).fill,i=t.align,c=t.sign,d=t.symbol,f=t.zero,p=t.width,m=t.comma,g=t.precision,v=t.trim,y=t.type;"n"===y?(m=!0,y="g"):IM[y]||(void 0===g&&(g=12),v=!0,y="g"),(f||"0"===e&&"="===i)&&(f=!0,e="0",i="=");var b="$"===d?r:"#"===d&&/[boxX]/.test(y)?"0"+y.toLowerCase():"",w="$"===d?s:/[%p]/.test(y)?h:"",_=IM[y],M=/[defgprs%]/.test(y);function A(t){var r,s,h,d=b,A=w;if("c"===y)A=_(t)+A,t="";else{var k=(t=+t)<0||1/t<0;if(t=isNaN(t)?l:_(Math.abs(t),g),v&&(t=SM(t)),k&&0==+t&&"+"!==c&&(k=!1),d=(k?"("===c?c:u:"-"===c||"("===c?"":c)+d,A=("s"===y?NM[8+AM/3]:"")+A+(k&&"("===c?")":""),M)for(r=-1,s=t.length;++r<s;)if(48>(h=t.charCodeAt(r))||h>57){A=(46===h?o+t.slice(r+1):t.slice(r))+A,t=t.slice(0,r);break}}m&&!f&&(t=n(t,1/0));var E=d.length+t.length+A.length,x=E<p?new Array(p-E+1).join(e):"";switch(m&&f&&(t=n(x+t,x.length?p-A.length:1/0),x=""),i){case"<":t=d+t+A+x;break;case"=":t=d+x+t+A;break;case"^":t=x.slice(0,E=x.length>>1)+d+t+A+x.slice(E);break;default:t=x+d+t+A}return a(t)}return g=void 0===g?6:/[gprs]/.test(y)?Math.max(1,Math.min(21,g)):Math.max(0,Math.min(20,g)),A.toString=function(){return t+""},A}return{format:c,formatPrefix:function(t,e){var i=c(((t=EM(t)).type="f",t)),n=3*Math.max(-8,Math.min(8,Math.floor(_M(e)/3))),r=Math.pow(10,-n),s=NM[8+n/3];return function(t){return i(r*t)+s}}}}RM=LM({thousands:",",grouping:[3],currency:["$",""]}),RM.format,RM.formatPrefix;class DM extends Map{constructor(t,e=$85729e8e64a60b52$var$keyof){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:e}}),null!=t)for(const[e,i]of t)this.set(e,i)}get(t){return super.get($85729e8e64a60b52$var$intern_get(this,t))}has(t){return super.has($85729e8e64a60b52$var$intern_get(this,t))}set(t,e){return super.set($85729e8e64a60b52$var$intern_set(this,t),e)}delete(t){return super.delete($85729e8e64a60b52$var$intern_delete(this,t))}}class OM extends Set{constructor(t,e=$85729e8e64a60b52$var$keyof){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:e}}),null!=t)for(const e of t)this.add(e)}has(t){return super.has($85729e8e64a60b52$var$intern_get(this,t))}add(t){return super.add($85729e8e64a60b52$var$intern_set(this,t))}delete(t){return super.delete($85729e8e64a60b52$var$intern_delete(this,t))}}Symbol("implicit");var BM=1e-12;function PM(t){return((t=Math.exp(t))+1/t)/2}(function t(e,i,n){function r(t,r){var s,o,a=t[0],h=t[1],u=t[2],l=r[0],c=r[1],d=r[2],f=l-a,p=c-h,m=f*f+p*p;if(m<BM)o=Math.log(d/u)/e,s=function(t){return[a+t*f,h+t*p,u*Math.exp(e*t*o)]};else{var g=Math.sqrt(m),v=(d*d-u*u+n*m)/(2*u*i*g),y=(d*d-u*u-n*m)/(2*d*i*g),b=Math.log(Math.sqrt(v*v+1)-v),w=Math.log(Math.sqrt(y*y+1)-y);o=(w-b)/e,s=function(t){var n,r=t*o,s=PM(b),l=u/(i*g)*(s*(n=e*r+b,((n=Math.exp(2*n))-1)/(n+1))-function(t){return((t=Math.exp(t))-1/t)/2}(b));return[a+l*f,h+l*p,u*s/PM(e*r+b)]}}return s.duration=1e3*o*e/Math.SQRT2,s}return r.rho=function(e){var i=Math.max(.001,+e),n=i*i;return t(i,n,n*n)},r})(Math.SQRT2,2,4);function UM(t,e,i){this.k=t,this.x=e,this.y=i}UM.prototype={constructor:UM,scale:function(t){return 1===t?this:new UM(this.k*t,this.x,this.y)},translate:function(t,e){return 0===t&0===e?this:new UM(this.k,this.x+this.k*t,this.y+this.k*e)},apply:function(t){return[t[0]*this.k+this.x,t[1]*this.k+this.y]},applyX:function(t){return t*this.k+this.x},applyY:function(t){return t*this.k+this.y},invert:function(t){return[(t[0]-this.x)/this.k,(t[1]-this.y)/this.k]},invertX:function(t){return(t-this.x)/this.k},invertY:function(t){return(t-this.y)/this.k},rescaleX:function(t){return t.copy().domain(t.range().map(this.invertX,this).map(t.invert,t))},rescaleY:function(t){return t.copy().domain(t.range().map(this.invertY,this).map(t.invert,t))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};new UM(1,0,0);function FM(t){t=Number(t);var e=Math.floor(t/86400),i=Math.floor(t%86400/3600),n=Math.floor(t%3600/60),r=Math.floor(t%60);return(e>0?e+(1==e?" day, ":" days, "):"")+(i>0?i+(1==i?" hour, ":" hours, "):"")+(n>0?n+(1==n?" minute, ":" minutes, "):"")+(r>0?r+(1==r?" second":" seconds"):"")}function jM(t,e){let i=t.length;if(i!=e.length)return!1;t.sort(),e.sort();for(let n=0;n<i;n++)if(t[n]!=e[n])return!1;return!0}function zM(t,e){const i=Object.keys,n=typeof t;return t&&e&&"object"===n&&n===typeof e?i(t).length===i(e).length&&i(t).every((i=>zM(t[i],e[i]))):t===e}function VM(t){fetch(t).then((t=>{var e;for(var i of t.headers.entries())"date"===i[0]&&(e=new Date(i[1]).getTime());return e}))}function HM(t){t.requestFullscreen?t.requestFullscreen():t.mozRequestFullScreen?t.mozRequestFullScreen():t.webkitRequestFullscreen?t.webkitRequestFullscreen():t.msRequestFullscreen&&t.msRequestFullscreen()}UM.prototype;const KM=(t,e)=>t.map((t=>({...e.find((e=>e.qid===t.qid&&e)),...t})));function GM(t){return document.getElementById(t)}function WM(t,e,i){var n;return 0==i&&(n=t=>(e,i)=>e[t]>i[t]?1:-1),1==i&&(n=t=>(e,i)=>e[t]>i[t]?-1:1),t.sort(n(e))}function QM(t,e,i,n){var r;return 0==n?r=(t,e)=>(i,n)=>i[t]===n[t]?i[e]>n[e]?1:-1:i[t]>n[t]?1:-1:1==n&&(r=(t,e)=>(i,n)=>i[t]===n[t]?i[e]>n[e]?-1:1:i[t]>n[t]?-1:1),t.sort(r(e,i))}function $M(t,e,i,n,r,s){if(null==i||i==[])return{type:"unattempted",points:s};if("numerical"==t||"fill"==t){return e.some((t=>i.includes(t)))?{type:"correct",marks:n}:{type:"incorrect",marks:r}}if("mcq"==t||"mcq_multiple"==t){return jM(e,i)?{type:"correct",marks:n}:{type:"incorrect",marks:r}}if("mcq_multiple_partial"==t){if(i.length>e.length)return{type:"incorrect",marks:r};let t=0;if(i.every((t=>e.includes(t)))){switch(i.length){case 3:t=.75*n;break;case 2:t=.5*n;break;case 1:t=.25*n}return{type:"correct",marks:t}}return{type:"incorrect",marks:r}}}function ZM(t){let e=new Audio;1==t?e.src="data:audio/mp3;base64,//NAxAALQAZ2X0EYAJ49pNra2nJwOIHKB9NZ8QBj1O+GOAwffBAHw//B8H3//8Pn//gR3/5yv/8oGPPPefPDDDDDDb186YxYsYPRbsWEH1mpoRfuDcILXq9NdBAEgtOkocV0H8nIkBn/80LELh+CHuWVmVgAHrqhHIc3Iyug3/zBpGKDIxVPqV//lZnSJfRYhbs5rf//wsskcVPsaq09D+1L////z7DTZGcebwI3OGJSxv+GDhQHxRoYORiVIb/+8if/xxSEIExwirioyUO/QOL/80DEDBdROuwBmEgAwyzKLPPH4hQw7VbLsj4f4dVbI7QGKQmufTxLU3btuTxLySxenJdS7S6Xj8+TyVb8TKk0Btzx6ktSSe4YOSTa0VUpw+tCRe1lz9m6lGx7tKbalUllwO+mwOjYq//zQsQJFKEi8AGYSAAznHAlb3TT56hyYiMkHijTQeyCzkNwLUyd5vuTzuh0nJbO314VCu/xrc2Xz4l2uMjEoa8Y9CEsax46og1rqmuelLRNscP0t/7+lSq2H0OKWbKECbWZap1I2Rxh5v/zQMQSF+l67AGYSACadS5H+ixc8HA/MWVeQWkj5k9I2k6WpdPpam51vrWslT2adWp+72sjtfKxL341m5C8r1qZdDGnAgqgmlrbnjkKRJMYxwxSEMZf0Ma8d0IgI0IqmfhYJRB1KF3q//NCxA0U+P7wAZhIAGbrOP1NvZQxuhco3oeo+s5FayHnjlNpPrKeltPlq13Wq2/vSqHeQYOGrSQJsGDFpIMJMU5Y9CGvGLTYUsuxd4ymx3966fvVWmjCOrbUqLbdhEPs7lD21X+oXt4///NAxBUXmUbsAZhIAHcF13C4fw0VbL2iIOeN0j59fpvTcm+GJ9nvUt/ev5W+G3WViXr7WTxPhQYpCGMa9yxiUNY8apLReShNcKDRiUNZeujvVShl7lUKVVQJpaJZEDHWaVJ2MyBlEvj/80LEERc5PuwBmEgA9QOrJHnmqUaMB7jhZgzNpFzxWk09S1PJPTcn2Kdb27u9db71PwvKzNnUaxLnBwBHyVh4aosVY1rhq0IQTa2OqcPUpLH3f3KTbe5a0SVDQGBIEkZ0sW3uOTOsykX/80DEEBgRnuwBmEgADGn9uudNhxc8Oh+4lXlOaI7MIKVtybrPQzuS1qoXrOsp6tbaf3J/axPwvKyOzqNZfl9v/5sft+tSLIbPvHrSwSEEueoc0YpDU39O6+lLOOoVIUw6SDaG7KiLc//zQsQKFOEG8AGYSACici3A1NDlDEaGBrrajYuHpC5Zz+aQ2wWpWnVtOT6WJ4r5X0qdfTu7xLnBwwBpINCIyhBNrXrHUJTYpaUVk2Y1Txyl2tq+51f+hRgCeSEoSOSKbiw2HWZRt/3zef/zQMQSF3ky7AGYMAApIs/EHS8daBEgCniNE6OG0DopKEbGPSS8tTGOt8UxxHu1Zpe20tkJ90oJhFphg+PUJQHNjqloZa97lMMCVMgLsS5uhuruXVZ///XUAq3kDEKHAYzPHnb6s2d3//NCxA8YGSLoAZhIAB56GMPnG5RGEJEqDiSEngZsws9GqbWSOWw6oxijihfJfx2ME4yalO41P3s9dARmwTNg+sWNjRVSXigsLmx4uhlw5qSo9BgXQZeLpfrS/+r/VRURFf8UMz8tmyl+//NAxAoR4LbwAZgYACemJc/2chp6eUSKVhXEBA4AGCwxIdBaDBDCuM2aECQGhdBomYFAZIC6CB46seKgc01DGsOrFVlbKGN/RxilJkukBTKGEE3Sa1SvVFGcQJFIhAs3A8cEZ2ZgujH/80LEHRhxUugBmEgAEqjPIWefWbYTrGW18dqsmHNzUl4ZVNTSljdVKe7jru9+7Vx12DCQ0XLMMMJCxo2xzZuybFzKFUjGmh7DO77Wpo0723elCiHLCBrAlvXjfiBaz2we8kuj8IkktmT/80DEFxUA+uwBmDAAXiZpyQIBEhxpi0k8Ur1klNO7CltbTry8sUUe4w+TWABGbEb0jzgcZAQsgegXIv9/GUvZQMFP///0////6BGRwB07RC1DlQPCLsVd2dkc1TTMHTSxDCTsMORVdP/zQsQeEljy8AGYMACNG9RVxGGtimqdm36qedzCiwsNMmTM0ZFgMTYZSzNOiySYteroNb9NtX/9Sko3RLgr7ITRl2cILzcunuymTyqpSnQRFuiiegtMtZUUjpjSvYiHhlLsRIEiRx4cw//zQMQwEWDK8AGYMABmhrTZMVMuFJpWgcxtCoq1Fswz72GaC6WkFrFVi9Uof+TwzAz8vfCZVL4zCpcNHVFyslTr4PieYWdFVVa7pa3qJVUNqPnfjUFJhoRsNEggBiYPtNjGmVsC5gqK//NCxEUVgPbsAZhIACChgUSaV0pVQulQu3qo/Z/pCx2RjjGigkr8xV57bzQNA0UisVl0XnSBNGixGH6b5pRthc1NiSknJwnaa033t91XGsilYVIEj5p6TAFIhwWYlqRZimmixpqTC21I//NAxEsUmPbsAZhIAEPXWygW//0VFgLyLTL4FFyN/pG+lGzitFpFCJDLZEQFUKEFExBmpJQqQyZzVVGFUqoXla1dEuKWlDfWrtuthpeD57KorL8snuvf2VXV75bfP21ffPd6l1u6Bmn/80LEUxRBKuwBmDABI9HlguvYZLIMpf9s8HVrX+CJE4ifH/kpY71Yf9VhG+NbX/7Mloylfjn//pNKnuBWR8sJWCzWtZ+ZFUi04+r/1hLRGHhTX//UlaA26G5LNgPgGuWeJXEPKuET2+r/80DEXhKhFuABmEgAeV6g6V+z/DXLf/////+DSw0W+SnlqkxBTUUzLjEwMKqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqv/zQsRuCggF0l/AEACqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqg==":2==t&&(e.src="data:audio/mp3;base64,//NIZAAFvAE3L6CIAAg4BeABQBAAlj9tackkSXAfLvgm+J3tUGOXB9+CEoCAIf8Hw//sf/4IO6gwH///y4Pn//y8T+XP/wQBAEDn///6gxKAg4hf//8EAQBCo5/BMH3/g4CAYRbnMzpMlkcVicRiMQAP4avle0n2eEEd2Ig+yxg/FEknHuXzckR6qdqfJdSR//NIZCwPFYFvL8e0AYbIRoxthRAAkVJrdBjho63HkYqlymg7PzA0pyaJMGyULXMLIfMPnSSTQZalWUaUPmZi30hnUtSmUipSbJl+/1GlhzP9ZkdaqtaS132ROfsZv/9RiBAACAIEABgf/GeBHf8p8479P/6v/7f/l////k0aQZHhlbthc46MySSxxAjxJBO0//NIZBMKyPVrP+a0AQmp7oSp1GgBQhAbQXY1R0frRajUlSTNS6XS638yPgvK/6ReLxeNndFL//0VJJGRkXkv/+tElR6kqPoKyIKD47v/UDQNf/BUFTv/h0EP/uiFuwNCZEzLVD///tR/8fwuZo3/////9///tQQtJAzAEwl3HABSiiAV2ylyDGWOG3ap4Cv3//NIZBEKIY19PwHnK4kx6r46UBtq+SRTmm5sDPZ5Ehv//8/QxiEwyp7/6iOJbGN+r5jD4PwfiQQnv///3YVlS3/////3QwcAYDgmejf///9BwaDRpABBYAYAsP+YVDMSwnIFgRZQ9/////8PQQGb//qPHTM4FTEHFZoDUFS2LxwPIfsk5kkX0S60yCiDXRqS//NIZBYMAY9zLzWSsQgoor2uAIpG9f6kUW/Ul9JJFHA8qZW90O0ieTD+ILGp7/6kkkkmUk///+vSM0W//////qIuCOxwutumiy0WSWiyn6kknrSSMSZIqUBHQYCC0JECE0UQAoG4UKxlA4E9rf+qR/6P////8qd///UGPi3/qN0AQgMS2iZjAPm5X9g3iavO//NIRBAHZUVfLwFnJw+LGspeAdRK//9Lf6MeSdTm+p6I6CoqLf/92OnJX///6Epb/////+gGlFK5wuskj+siDQAhAYu2N7HA3k9gCwibf//2OY39mPPBstt0ICyMMDxKKhY//9nt///f6D5S//////+GYrbNxYMM5M///9UIVQBQC7dMb2OAkIwGozCHRHhO//NIZBEImVdfLwAyIwvyhsG+A05OvS9/61Ukyq6/f3LTerdByGIEq44zAYn/+pSLqUur6f//qPHTP//////FZGxq81LRiln/rA4UFtaugACburwcQWOpUT/96Nd00q9yDP//HjALf/89ivqf///6nCT7/////8FA9QHAA7bOboOB/RUYGppNc3AOEGU63dyI//NIZBcL4Y1XL0itaQiA5spcKAbGt7dnmYTcwpTW6TAxSLQzhECKByCEFyEBHgaCEEpv/+iVHSgfYv2MkUf//XWbMaCLP6/////+sEODUggpuPYolwxd///+Tx3qAFQAG2AGwD/kZ0ZtQz/mscRTn+aQoEgEf6nf//+tP//8GgBAA9tUd6MB/7HadicCnBzW//NIRBEHbUVhLzRHbw5p5sZeAcpO2N0dOvnCBjoy/M70b/+gYV//2CKGaZ3r///caDQCz//////qIokt+f/9YAqBo2ue9HANdaZQFwS+ZX/95iCyn/6BiGa3dos8jCQBM//+MEB6D////1Eg8Bw48N//+Cv7f+XATggs2GHzROkoXc8MRUeOaf//7rr+Y6DL//NIZBcIEUU2agHnJg7qimQAA9RMqi/VkFLohQEP/6K5NjiRVkdf//9h0FBR///+v/0PHAKsKhrtS5n4XAKf7GGWKzFcFAS2Pipn/+6Gnf6zVFhVt92OICRHKHX//yx8w9bP///3EEpO6af//yJTf+glBuc4l1f9KQAqQq6yIB/9EAtHlwUAIjp6///PVovL//NIZBUH6Yk6Kyhnho4qimQKA9RI/5O4LU4if8YEzuIAKf/86ejs1HX///NPB2Yk9H/////xwozf/Z///3JDQk/sVKrmcYYUwITrt//U2rf6FDiWYzf5MflBS3/92I1ZU3///8hFQUj7ub///R//MGYIR7Pt/7grAJh9w+J34EvErYGURcb5//9JYfHL9Knj//NIZBgIgUU0KgHqJgtKgmQAA85NVkPVvuhhpEaIws3/+s8fIWd2p///qyngvCJvKmmP//+z/+cA+SP8XY//JgL/CRGbXT1aGfDzT//6L/6mC+x/6GKYfYeFjf/rfSe7f///gqEzu9/////+BoYqAAmoG212t4CIEDcEkMAbfP//7FS5Y1PpjYw3/2LkqCYX//NIZCEHzYtdLwFnNQqqhmQAAs5NX//muNz2su///+oUHXfr///v/8gSJ/849e///TI/QjASHS5Iewm26//+xrKn9HLNf/o2UGf//df////UKiQ5zJ/////0EIvn/9zwtADuQ9yIAgAn46mv//s26frc8ZHz/+sthQZ//0VGNZ0an//+jDgsJdv//+3/yp5c//NIRDMGzUUuAKicAA2ihnT/TSgAI//9AaFNKBiAf/YegFBTSYFEQl///qif92MLCFv9dqCr//0Rxwszrff///AIWf3/////xgHd9bv+LaMBQGYNR6LRsJhsLhKAAtVXWsm4F0I4JCP2BzsSRTNPtNUkUfbWdSXo/KHQIhiaJuon/n/uXkVJLUr+j+w+O12R//NIREEJ4VtLf8a0AJAp6n5dkWgASWl/2/+tv///mD//zpWAEiNtiIJhoJhQeOAVM/diZwqhah2C4qwZ7DiKZp9TM7I+jziTrQL31vUx30Uf29e3q/u/6qvr/80v8Ndv9T/xMgIAAKKKLRqB7v+Iv57+s6V/+Iuo8R///0+7///iVqrzMyxoBCYBgEk4KSrf//NIRCwDsADnL+AIAAqgkWgBxhgA57VAICMKAiYBDDwKuBkNf////////BVQdEq3FkxBTUUzLjEwMKqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqq//NIZF8AAAGkAAAAAAAAA0gAAAAAqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqq"),e.play()}function YM(t){let e=document.getElementById("loading-spinner");e.style.display="s"==t?"block":"none"}function XM(){console;console={},console={log:function(t){},error:function(t){},warn:function(t){}};console}var JM;JM=new URL("js/"+r("4z4pD").resolve("cdl9a"),import.meta.url).toString(),"serviceWorker"in navigator&&navigator.serviceWorker.register(JM);St({apiKey:"AIzaSyDN8T7Pmw5e-LzmC3nAHEqI0Uk7FF7y6fc",authDomain:"quarkz.firebaseapp.com",projectId:"quarkz",storageBucket:"quarkz.appspot.com",messagingSenderId:"1050835442263",appId:"1:1050835442263:web:e7d05ca9373f2f6083a112",measurementId:"G-1Y3S45VWFH"});const tA=em(),eA=tr();
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var iA,nA;(iA=eA,nA=Ni,D(iA).setPersistence(nA)).then((()=>Si(eA,email,password))).catch((t=>{}));const rA=function(t=Tt(),e){const i=At(t=D(t),Pv).getImmediate({identifier:e}),n=f("storage");return n&&function(t,e,i,n={}){!function(t,e,i,n={}){t.host=`${e}:${i}`,t._protocol="http";const{mockUserToken:r}=n;r&&(t._overrideAuthToken="string"==typeof r?r:v(r,t.app.options.projectId))}(t,e,i,n)}
/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(i,...n),i}();function sA(t){let e="";const i=t.split(" ");for(let t=0;t<i.length;t++){const n=i[t];n.length>0&&(e+=n[0].toUpperCase())}return e}function oA(t,e,i){const n=r("7GYkA").createHash("sha256").update(t).digest("hex"),s=parseInt(n.slice(0,6),16);let o=sA(t);return"v1"==i?"https://ui-avatars.com/api/?background=random&size=100&bold=true&name="+sA(wk.name):"v2"==i?"Male"==e?"https://api.dicebear.com/5.x/avataaars/svg?top%5B%5D=dreads01,dreads02,eyepatch,frizzle,shortCurly,shortFlat,shortRound,shortWaved,sides,theCaesar,theCaesarAndSidePart,turban&seed="+o+s.toString():"https://api.dicebear.com/5.x/avataaars/svg?facialHairProbability=0&top%5B%5D=bigHair,bob,bun,curly,curvy,dreads,frida,fro,hijab,longButNotTooLong,miaWallace,shaggy,shaggyMullet,shavedSides,straightAndStrand,straight01,straight02&seed="+o+s.toString():"v3"==i?"https://api.dicebear.com/6.x/bottts/svg?seed="+o+s.toString():void 0}async function aA(){var t=GM("lg_uname").value,e=GM("lg_pass").value;Si(eA,t,e).then((e=>{e.user;Rk.email=t,lA("dashboard",1)})).catch((t=>{t.code,t.message;GM("lgn_err").style.display="block",GM("lg_pass").value=""}))}function hA(){Ii(tr()),Rk=[],lA("login",1),window.location.reload()}function uA(){var t=GM("rg_uname").value,e=GM("rg_pass").value,i=GM("rg_name").value,n=GM("rg_mbleno").value,r=GM("rg_class").value,s=GM("rg_gender").value;""!=t&&""!=e&&""!=i&&""!=n&&""!=r||alert("Details Cannot Be Empty"),e!=GM("rg_pass1").value||xi(eA,t,e).then((e=>{const o=e.user;!async function(){try{await og(jp(tA,"users",o.uid),{name:i,class:r,mblno:n,email:t,spoints:0,gen:s,batch:"guest",sgndon:fg(),roles:{user:!0}}).then((function(){window.location.hash="#/dashboard",window.location.reload()}))}catch(t){console.error("Error Adding New User",t)}}()})).catch((t=>{t.code,t.message}))}function lA(t,e){!function(t,e){1==e&&(window.location.hash="#/"+t);t,Sk=window.location.hash.split("#/")[1],(0==Ak||null==Ak||null==Ak)&&("login"==Sk||"register"==Sk||Sk.includes("notes")&&!Sk.includes("usernotes")||"legal"==Sk||"about"==Sk||"bugreport"==Sk||"appinfo"==Sk||"mainsformulas"==Sk||"downloads"==Sk||"uploads"==Sk||(Sk="error_page"));switch(Sk){case"profile":"profile",cA(dy,"",""),async function(){GM("prf_pphoto");var t=GM("prf_name"),e=GM("prf_phone"),i=GM("prf_email"),n=GM("prf_class"),r=(GM("prf_batch"),GM("prf_gender")),s=GM("prf_crton"),o=(GM("tmt_frame"),GM("spoints"));t.textContent=wk.name,e.textContent=wk.mblno,i.textContent=wk.email,n.textContent=wk.class,s.textContent=new Date(1e3*wk.sgndon.seconds).toDateString(),r.textContent=wk.gen,wk.batch,wk.course,o.textContent=wk.spoints,wk.usernotes=wk.usernotes,GM("prf_tab_t_t_img").src=oA(wk.name,wk.gen,localStorage.getItem("prf_type"))}();break;case"about":function i(){ik("legal",1)}"aboutus",cA(Vv,"text-align: center;overflow-y: scroll;",""),GM("lgl_btn").addEventListener("click",i);break;case"login":function n(){ik("register",1)}"login",cA(ly,"justify-content: center;",""),GM("sgn_in").addEventListener("click",aA),GM("reg_in").addEventListener("click",n);break;case"dashboard":"dashboard",cA(Wv,"display: flex;flex-direction: row;",""),function(){function t(){ik("simlist",1)}function e(){ik("cyberhunt",1)}function i(){ik("about",1)}function n(){ik("timetable",1)}function r(){ik("profile",1)}function s(){ik("functions",1)}function o(){ik("testinfo",1)}function a(){ik("users",1)}function h(){ik("tpclist",1)}function u(){ik("livequiz",1)}function l(){ik("forum",1)}function c(){ik("qblist",1)}function d(){ik("chplist",1)}GM("sim_btn").addEventListener("click",t),GM("lgt_btn").addEventListener("click",hA),GM("tmt_btn").addEventListener("click",n),GM("prf_btn").addEventListener("click",r),GM("abt_btn").addEventListener("click",i),GM("tmt_btn").addEventListener("click",n),GM("prf_btn").addEventListener("click",r),GM("abt_btn").addEventListener("click",i),GM("tpc_btn").addEventListener("click",h),GM("usc_btn").addEventListener("click",a),GM("lvq_btn").addEventListener("click",u),GM("frm_btn").addEventListener("click",l),GM("adi_btn").addEventListener("click",s),GM("qba_btn").addEventListener("click",c),GM("cyb_btn").addEventListener("click",e),GM("chp_btn").addEventListener("click",d),GM("tstinf_btn").addEventListener("click",o),GM("lgt_btn").addEventListener("click",hA);GM("dshd_uname").innerText=wk.email,GM("dshd_name").innerText=wk.name,GM("dshd_batch").innerText=wk.batchname,GM("prf_tab_img").src=oA(wk.name,wk.gen,localStorage.getItem("prf_type")),function(){for(let i=0;i<wk.examslist.examinfo.length;i++){var t=wk.examslist.examinfo[i],e="exam"+Math.floor(1e5*Math.random());GM("db_exam_list").insertAdjacentHTML("beforeend",'<div class = "tlinks_min rpl" id = '+e+" onclick = 'log(\""+t.name+'","'+t.date+'","'+t.info+'","'+t.syllabus+'",3)\'><span style="font-size: 16px;">'+t.name+"</span></div>"),GM(e).addEventListener("click",(function(){}))}}()}();break;case"timetable":"schedule",cA(Zv,"",""),YM("s"),GM("tmt_frame").src=wk.timetableurl;break;case"logout":hA();break;case"mainsformulas":"mainsformulas",cA(iy(ny,"formulasheet"),"","");break;case"downloads":"downloads",cA(iy(ny,"downloads"),"","");break;case"register":"register",cA(py,"",""),GM("rg_in").addEventListener("click",gk);break;case"testinfo":"testinfo",cA(wy,"height:max-content;",""),function(){function t(){sk("active")}function e(){sk("upcoming")}function i(){sk("finished")}GM("ti_act").addEventListener("click",t),GM("ti_upc").addEventListener("click",e),GM("ti_fin").addEventListener("click",i)}(),sk("active");break;case"legal":"legal",cA(Ay,"","");break;case"appinfo":"appinfo",cA($v,"",""),GM("ren_appinf").textContent=JSON.stringify(xk,void 0,2);break;case"forum":"forum",cA(sy,"","");GM("fm_send").addEventListener("click",EA);SA(),async function(){var t=jp(tA,"forum","pinned"),e=await ng(t);if(e.exists()){t=e.data();GM("pinnedtxt").innerText=t.message}}();break;case"bugreport":"bugreport",cA(Qv,"","");break;case"simlist":"simlist",cA(yy,"",""),function(){function t(){wA("physics")}function e(){wA("chemistry")}function i(){wA("maths")}function n(){wA("biology")}function r(){wA("computer")}function s(){wA("statistics")}function o(){wA("unfiled")}GM("psims").addEventListener("click",t),GM("csims").addEventListener("click",e),GM("msims").addEventListener("click",i),GM("bsims").addEventListener("click",n),GM("cosims").addEventListener("click",r),GM("ssims").addEventListener("click",s),GM("usims").addEventListener("click",o)}(),wA();break;case"testend":"test_end",cA(My,"","");break;case"add/lesson":"fu_lesson",newLesson();break;case"updates":"update",cA(ty,"height: max-content;",""),async function(){let t=await ng(jp(tA,"usernotes","releasenotes"));t.exists()&&(GM("rel_list").innerHTML=t.data().notes);let e=await ng(jp(tA,"usernotes","updates"));e.exists()&&(GM("updt_list").innerHTML=e.data().notes)}();break;case"add/tpc":"fu_topic",async function(){try{lA("edit_tpc/"+(await ug(Fp(tA,"topic"),{name:"",qllist:[],level:"jee",chid:"",chname:"",subject:""})).id,1)}catch{}}();break;case"add/qubank":"fu_topic",async function(){try{lA("edit_qubank/"+(await ug(Fp(tA,"qbank"),{name:"",qllist:[],level:"jee",chid:"",chname:"",subject:""})).id,1)}catch{}}();break;case"add/simulation":"fu_simulation",async function(){try{lA("edit_sim/"+(await ug(Fp(tA,"sims"),{name:"",license:"",provider:"",url:""})).id,1)}catch{}}();break;case"add/tests":"fu_topic",async function(){try{const t=await ug(Fp(tA,"tests"),{title:"",totalmarks:0,timeallotted:0,syllabus:"",strton:fg(),endon:fg(),questionnos:0,finished:[],batch:[]});await og(jp(tA,"tests",t.id,"questions","questions"),{questions:[]}),await og(jp(tA,"tests",t.id,"questions","answers"),{questions:[]}),await og(jp(tA,"tests",t.id,"responses","finished"),{finished:[],leaderboard:[]});lA("edit_tests/"+t.id,1)}catch{}}();break;case"add/batch":"fu_topic",async function(){try{const t=await ug(Fp(tA,"batch"),{name:"",timetable:"",crton:fg(),class:12,chlist:[],delon:fg()});await og(jp(tA,"batch",t.id,"info","tests"),{tests:[]}),await og(jp(tA,"batch",t.id,"info","updates"),{u:[]});lA("edit_batch/"+t.id,1)}catch{}}();break;case"uploads":"uploadEvents",cA(ey,"",""),document.getElementById("file").addEventListener("change",(async function(){var t=await(await fetch("https://ipapi.co/json/")).json(),e=document.getElementById("file").files[0];const i=t.ip+"-"+(new Date).getTime()+"-"+e.name,n=(e.type,t.ip,Uv(jv(rA,"uploads/"+t.ip.replaceAll(".","_")+"/"+i),e));n.on("state_changed",(t=>{const e=t.bytesTransferred/t.totalBytes*100;switch(document.getElementById("file_progress").innerText="Upload is "+e+"% done",t.state){case"paused":document.getElementById("file_status").innerText="Upload is paused";break;case"running":document.getElementById("file_status").innerText="Upload is running"}}),(t=>{document.getElementById("file_status").innerText="Upload abandoned",document.getElementById("file_progress").innerText=""}),(()=>{Fv(n.snapshot.ref).then((n=>{document.getElementById("file_status").innerText="Upload Complete. Copy The Link Below",document.getElementById("file_progress").innerText="",document.getElementById("file_link_long").value=n;let r=new XMLHttpRequest;r.open("POST","https://firebasedynamiclinks.googleapis.com/v1/shortLinks?key=AIzaSyBxyMo6yQ20stBIOsHUgToNgm4PmCKxTX4"),r.setRequestHeader("Accept","application/json"),r.setRequestHeader("Content-Type","application/json"),r.onload=()=>console.log(r.responseText),r.onreadystatechange=async function(){4===r.readyState&&(console.log(r.response),document.getElementById("file_link").value=JSON.parse(r.response).shortLink,await ug(Fp(tA,"quarkz","users","uploads"),{ipdetails:t,ip:t.ip,url:n,shorturl:JSON.parse(r.response).shortLink,name:i,size:e.size}))};let s=`{\n        "dynamicLinkInfo": {\n          "domainUriPrefix": "https://mttweb.page.link",\n          "link": "${n}",\n        }\n      }`;r.send(s)}))}))}));break;case"settings":"settings",cA(my,"height: max-content;",""),async function(){GM("pass_rst_btn").addEventListener("click",YA),GM("sub_rat_btn").addEventListener("click",(async function(){try{await ug(Fp(tA,"reviews"),{rating:window.user_rate_value,uid:wk.uuid,comments:document.getElementById("rate_comment").value,type:"rating"})}catch{}localStorage.setItem("rate_app","true"),ay("Thank You","Thank You for your Valuable Feedback."),GM("st_rateapp").style.display="none"})),GM("st_rateapp").style.display="flex","true"==localStorage.getItem("rate_app")&&(GM("st_rateapp").style.display="none");const t=document.querySelectorAll(".star");function e(){t.forEach((t=>{t.getAttribute("data-value")<=window.user_rate_value?t.classList.add("selected"):t.classList.remove("selected")}))}t.forEach((i=>{i.addEventListener("click",(t=>{window.user_rate_value=t.target.getAttribute("data-value"),e()})),i.addEventListener("mouseover",(e=>{const i=e.target.getAttribute("data-value");for(let e=0;e<i;e++)t[e].classList.add("hovered")})),i.addEventListener("mouseout",(()=>{t.forEach((t=>{t.classList.remove("hovered")}))}))})),GM("prf_typ_"+localStorage.getItem("prf_type").split("v")[1]).style.borderColor="red",GM("prf_typ_1").src=oA(wk.name,wk.gen,"v1"),GM("prf_typ_2").src=oA(wk.name,wk.gen,"v2"),GM("prf_typ_3").src=oA(wk.name,wk.gen,"v3"),GM("prf_typ_1").addEventListener("click",(function(){GM("prf_typ_1").style.borderColor="red",GM("prf_typ_2").style.borderColor="#06d85f",GM("prf_typ_3").style.borderColor="#06d85f",localStorage.setItem("prf_type","v1")})),GM("prf_typ_2").addEventListener("click",(function(){GM("prf_typ_1").style.borderColor="#06d85f",GM("prf_typ_2").style.borderColor="red",GM("prf_typ_3").style.borderColor="#06d85f",localStorage.setItem("prf_type","v2")})),GM("prf_typ_3").addEventListener("click",(function(){GM("prf_typ_1").style.borderColor="#06d85f",GM("prf_typ_2").style.borderColor="#06d85f",GM("prf_typ_3").style.borderColor="red",localStorage.setItem("prf_type","v3")}))}();break;case"chplist":"chapterlist",cA(Hv,"",""),function(){function t(){VA("physics")}function e(){VA("chemistry")}function i(){VA("maths")}function n(){VA("biology")}function r(){VA("computer")}function s(){VA("statistics")}function o(){VA("unfiled")}GM("pchb").addEventListener("click",t),GM("cchb").addEventListener("click",e),GM("mchb").addEventListener("click",i),GM("bchb").addEventListener("click",n),GM("cochb").addEventListener("click",r),GM("schb").addEventListener("click",s),GM("uchb").addEventListener("click",o)}(),VA();break;default:"error_page",cA(Yv,"","")}var r=1==Mk||1==_k;Sk.includes("instructions")&&("test_instructions",cA(by,"",""),async function(){let t=await ng(jp(tA,"tests",window.location.hash.split("#/instructions/")[1]));if(t.exists()){function e(t){var e=new Date(t);return e.setMinutes(e.getMinutes()-e.getTimezoneOffset()),e.toISOString().slice(0,16)}GM("i_name").innerHTML=t.data().title,GM("i_start").innerHTML=e(1e3*t.data().strton.seconds),GM("i_end").innerHTML=e(1e3*t.data().endon.seconds),GM("i_time").innerHTML=t.data().timeallotted/60+"&nbsp;Mins",GM("i_syllabus").innerHTML=t.data().syllabus,GM("i_total").innerHTML=t.data().totalmarks,GM("i_qno").innerHTML=t.data().questionnos,GM("tsi").innerHTML=t.data().instructions}else cA("This test either doesnt exist or you do not have access to this test.");GM("agree_in").addEventListener("change",(function(){1==GM("agree_in").checked?GM("tin_start").disabled=!1:GM("tin_start").disabled=!0}));let i=parseInt(Date.now()/1e3);t.data().strton.seconds>i&&(GM("agree_in").disabled=!0,GM("tin_start").disabled=!0,GM("tin_start").innerText="Test Has Not Started Yet.")}());Sk.includes("cyberhunt")&&("cyberhunt",cA(Gv,"",""),async function(){""==window.location.hash.split("/cyberhunt/")[1]||""==window.location.hash.split("/cyberhunt")[1]?(GM("cyb_code").style.display="flex",GM("cyb_viewer").style.display="none",GM("cyb_edit").style.display="none"):(GM("cyb_code").style.display="none",GM("cyb_viewer").style.display="flex",GM("cyb_edit").style.display="none")}());Sk.includes("notes")&&!Sk.includes("usernotes")&&("notes",cA(Xv,"",""),async function(){var t=window.location.hash.split("notes/")[1];Fv(jv(rA,"public/"+t+".pdf")).then((t=>{GM("nt_id").src="https://docs.google.com/gview?url="+encodeURI(t)+"&embedded=true"})).catch((t=>{switch(t.code){case"storage/object-not-found":GM("nt_id").src="https://docs.google.com/gview?url="+encodeURI("https://firebasestorage.googleapis.com/v0/b/quarkz.appspot.com/o/public%2F404.pdf?alt=media&token=8cc8f23a-6e24-41d6-984b-6d2cc9b89d11")+"&embedded=true";break;case"storage/unauthorized":ay("Unauthorised","You dont have necessary permissions to The file you requested.")}}))}());Sk.includes("sims")&&("simulations",cA(vy,"",""),async function(){YM("s");var t=window.location.hash.split("sims/")[1],e=jp(tA,"sims",t),i=await ng(e);if(!i.exists())throw lA("error_page",1),new Error;var n=i.data();GM("sms_name").innerText=n.name,GM("sms_prov").innerText=n.provider,GM("sim_frame").src=n.url,GM("sim_frame").onload=showqLS("a")}());Sk.includes("chapter")&&("chapter",cA(Kv,"",""),async function(){GM("chp_chaptername").innerHTML="",GM("chp_qbk_list").innerHTML="",GM("chp_tpc_list").innerHTML="";var t=jp(tA,"chapter",window.location.hash.split("#/chapter/")[1]),e=await ng(t);if(e.exists()){var i=e.data();GM("chp_chaptername").innerText=i.name;try{for(let t of i.qbanks)GM("chp_qbk_list").insertAdjacentHTML("beforeend",'<span class="tlinks_min rpl" style = "color:pink" id="chpqbk'+btoa(t.id)+'">'+t.title+"</span>"),GM("chpqbk"+btoa(t.id)).addEventListener("click",UA)}catch{}try{for(let t of i.topics)GM("chp_tpc_list").insertAdjacentHTML("beforeend",'<span class="tlinks_min rpl" style = "color:pink" id="chptpc'+btoa(t.id)+'">'+t.title+"</span>"),GM("chptpc"+btoa(t.id)).addEventListener("click",FA)}catch{}}}());Sk.includes("qbanks")&&("topic",cA(Ey,"height:max-content;",""),fA(),jA(2));Sk.includes("usernotes")&&("usernotes",cA(Sy,"flex-direction: row;",""),function(){GM("un_save").addEventListener("click",_A),GM("un_print").addEventListener("click",MA),GM("un_rendermode").addEventListener("change",mk),GM("un_viewership").addEventListener("change",mk);GM("un_print").addEventListener("click",(function(){GM("un_preview").style.display="none",GM("un_preview").innerHTML="<h1 style = 'text-align:center;margin:0px'>"+GM("un_title").value+"</h1>"+yk("un_editable"),window.idElementPrint(GM("un_preview"),wk.name)}))}(),async function(){try{mk()}catch{}if(window.location.hash.includes("usernotes/add")){var t=await ug(Fp(tA,"usernotes"),{title:"Notes Title",notes:"",uuid:wk.uuid,crton:fg(),type:"private",lastupdated:fg()});await ag(jp(tA,"users",wk.uuid),{usernotes:pg({color:"black",id:t.id,title:"Notes Title"})}),lA("usernotes/"+t.id,1)}else if(window.location.hash.includes("usernotes/delete"))await hg(jp(tA,"usernotes",window.location.hash.split("usernotes/delete/")[1]));else if("#/usernotes/"==window.location.hash)kA();else if(window.location.hash.includes("usernotes")){kA();t=jp(tA,"usernotes",window.location.hash.split("usernotes/")[1]);var e=await ng(t);if(e.exists()){t=e.data();GM("un_title").value=t.title,bk("un_editable",t.notes),GM("un_viewership").value=t.type,"public_view"==t.type&&wk.uuid!=t.uuid?(GM("un_rendermode").innerHTML='<option value="preview">preview</option>',GM("un_rendermode").value="preview",GM("un_save").style.display="none",GM("un_colorpicker").style.display="none",GM("un_viewership").style.display="none",GM("un_title").style.display="none"):(GM("un_rendermode").innerHTML='<option value="edit">edit</option><option value="preview">preview</option>',GM("un_rendermode").value="edit",GM("un_save").style.display="block",GM("un_colorpicker").style.display="block",GM("un_viewership").style.display="block",GM("un_title").style.display="block"),mk()}}}());if(Sk.includes("qbnk_vid")){function s(){GM("watermark").style.display="flex",HM(GM("qbnk_vid"))}"qbnk_vid",cA(fy,"height:90vh;position: relative;",""),GM("qbnk_vid_btn").style.display="block",GM("qbnk_vid_btn").addEventListener("click",RA),GM("qbnk_vid_btn_e").addEventListener("click",s)}Sk.includes("attempt")&&("testv1",cA(_y,"height:max-content;",""),function(){function t(){dk("tts_answered")}function e(){dk("tts_notanswer")}function i(){dk("tts_review")}function n(){dk("tts_ansreview")}function r(){ay("Warning","Are You Sure You Want To End The Test",fk,"Yes,Submit",1)}GM("tt_save").addEventListener("click",t),GM("tt_clear").addEventListener("click",e),GM("tt_review").addEventListener("click",i),GM("tt_ansreview").addEventListener("click",n),GM("tt_sub").addEventListener("click",r),GM("tt_rep").addEventListener("click",uy)}(),dA(),async function(){GM("tt_footer").style.display="flex",GM("tt_sub").style.display="block",GM("tt_timeleft").style.display="block",GM("tt_marksaward").style.display="none";var t=window.location.hash.split("#/attempt/")[1],e=jp(tA,"tests",t),i=await ng(e);if(i.exists()&&(Fk=i.data(),e=jp(tA,"tests",t,"responses","finished"),(i=await ng(e)).exists()))for(var n of i.data().finished)if(eA.currentUser.uid==n)return cA(My,"",""),GM("te_title").innerText="You Have Already Attempted This Test",GM("te_msg").innerText="Test Results will be released after Deadline.",0;try{e=jp(tA,"tests",t,"questions","questions"),(i=await ng(e)).exists()&&(zk=i.data())}catch{return cA(My,"",""),GM("te_title").innerText="The Test Hasnt Started Yet",GM("te_msg").innerText="",0}if(e=jp(tA,"tests",t,"responses",eA.currentUser.uid),(i=await ng(e)).exists()){var r=i.data().answers;for(var s in Kk=i.data().actions,r)Vk.push({qid:s,ans:r[s].ans,type:r[s].type,time:r[s].time})}else{for(var o={},a=0;a<zk.questions.length;a++)o[`${zk.questions[a].qid}`]={type:"tts_notvisit",answer:[]},Vk.push({qid:zk.questions[a].qid,type:"tts_notvisit",answer:[],timetaken:0});var h=new Date;await og(jp(tA,"tests",t,"responses",eA.currentUser.uid),{answers:o,strton:fg(),warning:[],actions:[{type:"start",time:h,value:"1"}],testversion:"1"}),Kk.push({type:"start",time:h,value:"1"})}window.location.hash.includes("/attempt/")&&(ak=setInterval((function(){var t=Fk.timeallotted-1;Fk.timeallotted-=1,GM("tt_timeleft").innerText=Math.floor(t%86400/3600)+":"+Math.floor(t%3600/60)+":"+Math.floor(t%60),jk+=1,GM("tt_timespent").innerText=Math.floor(jk%86400/3600)+":"+Math.floor(jk%3600/60)+":"+Math.floor(jk%60),0==t&&fk()}),1e3));window.onbeforeunload=function(t){t.preventDefault,fk()},window.onhashchange=function(t){lA(),fk()},GM("tt_testname").innerText=Fk.title,GM("dsh_btn").style.display="none";var u=GM("output");try{HM(u)}catch{}ck()}());Sk.includes("finished")&&("finishedtestinfo",cA(ry,"overflow-y: scroll;",""),async function(){var t=window.location.hash.split("#/finished/")[1],e=jp(tA,"tests",t),i=await ng(e);if(i.exists()){Fk=i.data();var n=0;if(GM("fti_title").innerText=Fk.title,e=jp(tA,"tests",t,"responses","finished"),(i=await ng(e)).exists())for(var r of i.data().finished)if(eA.currentUser.uid==r){n=1;break}if(0==n)return cA(My,"",""),GM("te_title").innerText="You Have NOT Attempted This Test",void(GM("te_msg").innerText="");try{try{uk(1)}catch{}try{e=jp(tA,"tests",t,"responses",eA.currentUser.uid);var s=(i=await ng(e)).data();if(i.exists()){function o(t,e,i,n,r){var s=r-(e-4*i);return"<div><span>"+t+"("+(e+i)+' Marks)</span><div style = "width:40vw;height:30px;display:flex;flex-direction:row;"><div style="width:'+e/r*40+'vw;background-color:green;height:30px;text-align:center;color:white">'+e+"/"+r+'</div><div style="width:'+Math.abs(4*i/r*40)+'vw;background-color:red;height:30px;text-align:center;color:white">'+i+"/"+r+'</div><div style="width:'+40*(1-(e-4*i)/r)+'vw;background-color:orange;height:30px;text-align:center;color:black">'+s+"/"+r+"</div></div></div>"}GM("fto_total").innerText=s.info.usermarks+"/"+s.info.total,GM("fto_correct").innerText=s.info.correct,GM("fto_incorrect").innerText=s.info.incorrect,GM("fto_unanswered").innerText=s.info.unattempted,Kk=s.actions,kk=s.info.mList,GM("fto_rank").innerText="0";var a=["Physics","Chemistry","Math","Biology","Statistics","Computer","Unfiled"];for(var h of(GM("fto_percents").innerHTML="",a)){var u=s.info.subjectmarks[h];zM(u,{correct:0,unattempted:0,incorrect:0,total:0})||GM("fto_percents").insertAdjacentHTML("beforeend",o(h,u.correct,u.incorrect,u.unattempted,u.total))}ok(1).then((function(){function t(t,e,i,n,r){var s=r-(e+i);return"<div><span>"+t+"("+FM(r)+')</span><div style = "width:80vw;height:30px;display:flex;flex-direction:row;"><div style="width:'+e/r*80+'vw;background-color:green;height:30px;text-align:center;color:white">'+FM(e)+'</div><div style="width:'+i/r*80+'vw;background-color:red;height:30px;text-align:center;color:white">'+FM(i)+'</div><div style="width:'+80*(1-(e+i)/r)+'vw;background-color:orange;height:30px;text-align:center;color:black">'+FM(s)+"</div></div></div>"}var e=["Physics","Chemistry","Math","Biology","Statistics","Computer","Unfiled"];for(var i of(GM("fto_time").innerHTML="",e)){var n=Ek.subject[i];zM(n,{correct:0,unattempted:0,incorrect:0,total:0})||GM("fto_time").insertAdjacentHTML("beforeend",t(i,n.correct,n.incorrect,n.unattempted,n.total))}}))}try{var l;e=jp(tA,"tests",t,"responses","finished"),(i=await ng(e)).exists()&&(l=i.data().leaderboard),GM("fto_leaderboard").innerHTML="",l=WM(l,"marks",1);for(var c=0;c<l.length;c++){var d=c+1;wk.uuid==l[c].uid&&(GM("fto_rank").innerText=d),GM("fto_leaderboard").insertAdjacentHTML("beforeend",'<div class = "tlinks" style = "flex-direction:row;width:25vw;justify-content:space-between;"><span class = "t_gre">&nbsp;'+d+'</span><span class = "t_name">'+l[c].name+'</span><span class = "t_gre">&nbsp;&nbsp;'+l[c].marks+"</span></div>")}}catch{}var f=[];for(c=0;c<kk.length;c++)null==Ek.questions[kk[c].qid]?f.push({qid:kk[c].qid,type:kk[c].type,time:0,no:c+1}):f.push({qid:kk[c].qid,type:kk[c].type,time:Ek.questions[kk[c].qid].time,no:c+1});!function(t,e){try{const n={top:20,right:20,bottom:50,left:50},r=800-n.left-n.right,s=400-n.top-n.bottom;GM(t).innerHTML="";const o=$60335d5fa2b61a3a$exports.select("#"+t).append("svg").attr("width",r+n.left+n.right).attr("height",s+n.top+n.bottom).append("g").attr("transform",`translate(${n.left}, ${n.top})`),a=$60335d5fa2b61a3a$exports.scaleOrdinal().domain(["correct","incorrect","unattempted"]).range(["#2ecc71","#e74c3c","#f39c12"]),h=$60335d5fa2b61a3a$exports.scaleLinear().domain([0,$60335d5fa2b61a3a$exports.max(e,(t=>t.time))]).range([5,30]),u=$60335d5fa2b61a3a$exports.scaleLinear().domain([1,e.length]).range([0,r]),l=$60335d5fa2b61a3a$exports.scaleLinear().domain([0,$60335d5fa2b61a3a$exports.max(e,(t=>t.time))]).range([s,0]);o.append("text").attr("class","axis-label").attr("text-anchor","middle").attr("x",r-120).attr("y",s+40).attr("color","white").text("Question Number"),o.append("text").attr("class","axis-label").attr("text-anchor","middle").attr("transform","rotate(-90)").attr("x",-innerHeight/2+40).attr("y",25-n.left).text("Time Taken(in s)").attr("color","white"),o.append("g").attr("transform",`translate(0, ${s})`).call(zy(Ly,u)),o.append("g").call(function(t){return zy(Dy,t)}(l)),o.selectAll("circle").data(e).enter().append("circle").attr("cx",((t,e)=>u(e+1))).attr("cy",(t=>l(t.time))).attr("r",(t=>h(t.time))).attr("fill",(t=>a(t.type))).append("text").text((function(t){return t.no}));var i=o.selectAll("g").data(e).enter().append("g").attr("transform",(function(t){return"translate("+u(t.time)+","+l(t.questionNumber)+")"}));i.append("circle").attr("r",(function(t){return sizeScale(t.time)})).attr("fill",(function(t){return"correct"==t.result?"green":"incorrect"==t.result?"red":"gray"})),i.append("text").text((function(t){return"Q"+t.no})).attr("x",(function(t){return sizeScale(t.time)+5})).attr("y",5)}catch{}}("fto_draw",f)}catch{return GM("te_title").innerText="ERROR",cA(My,"",""),GM("te_title").innerText="You may see this ERROR since you may NOT have Attempted This Test",GM("te_msg").innerText="",0}}catch{}}}());Sk.includes("testreport")&&("testv1",cA(_y,"height:max-content;",""),async function(){GM("tt_footer").style.display="none",GM("tt_sub").style.display="none",GM("tt_timeleft").style.display="none",GM("tt_marksaward").style.display="block";var t=window.location.hash.split("#/testreport/")[1],e=jp(tA,"tests",t),i=await ng(e);if(i.exists()){Fk=i.data();var n=0;if(GM("tt_testname").innerText=Fk.title,e=jp(tA,"tests",t,"responses","finished"),(i=await ng(e)).exists())for(var r of i.data().finished)if(eA.currentUser.uid==r){n=1;break}if(0==n)return cA(My,"",""),GM("te_title").innerText="You Have NOT Attempted This Test",void(GM("te_msg").innerText="");if(Date.now()/1e3<=Fk.endon.seconds&&0==Fk.noresult)cA(My,"",""),GM("te_title").innerText="Detailed Test Reports will be available after deadline",GM("te_msg").innerText="";else{try{if(e=jp(tA,"tests",t,"questions","questions"),(i=await ng(e)).exists()&&(zk=i.data()),e=jp(tA,"tests",t,"responses",eA.currentUser.uid),(i=await ng(e)).exists()){var s=i.data().answers;for(var o in Kk=i.data().actions,s)Vk.push({qid:o,ans:s[o].ans,type:s[o].type,time:s[o].time})}e=jp(tA,"tests",t,"questions","answers"),(i=await ng(e)).exists()&&(Gk=i.data())}catch{return GM("te_title").innerText="ERROR",cA(My,"",""),GM("te_title").innerText="You may see this ERROR since you may NOT have Attempted This Test",GM("te_msg").innerText="",0}ck()}}}(),dA());if(Sk.includes("printable/qbank")&&1==r){"printable",cA(cy,"height:max-content;",""),mA();GM("shf_btn").addEventListener("click",ZA);HA(1)}Sk.includes("ARIEL")&&1==r&&("Ariel",cA(Jv,"",""));if(Sk.includes("printable/tests")&&1==r){"printable",cA(cy,"height:max-content;",""),mA();GM("shf_btn").addEventListener("click",ZA);HA(3)}"functions"==Sk&&1==r&&("functions",cA(oy,"",""),NA());Sk.includes("users")&&1==r&&("users",cA(xy,"",""),userUpdate());Sk.includes("topic")&&("topic",cA(Ey,"height: max-content;",""),fA(),jA(1));Sk.includes("printable/topic")&&1==r&&("printable",cA(cy,"height:max-content;",""),HA(2));Sk.includes("edit_sim")&&1==r&&("fu_simulation",cA(gy,"","ovr-scroll"),GM("aq_sims_save").addEventListener("click",yA),async function(){try{let e=await ng(jp(tA,"sims",window.location.hash.split("edit_sim/")[1]));if(e.exists()){var t=e.data();GM("aq_simname").value=t.name,GM("aq_simprov").value=t.provider,GM("aq_simurl").value=t.url,GM("aq_simlicense").value=t.license,GM("aq_simsubj").value=t.subject}}catch{}}());Sk.includes("edit_lesson")&&1==r&&("fu_simulation",cA(gy,"","ovr-scroll"),prepareLesson());Sk.includes("edit_tpc")&&1==r&&("fu_topic",cA(ky,"","ovr-scroll"),GM("aq_tpc_save").addEventListener("click",(function(){PA(1)})),pA(),OA(1));Sk.includes("edit_test")&&1==r&&("fu_topic",cA(ky,"","ovr-scroll"),GM("aq_tst_save").addEventListener("click",(function(){PA(3)})),pA(),OA(3));Sk.includes("edit_qubank")&&1==r&&("fu_topic",cA(ky,"","ovr-scroll"),GM("aq_qbc_save").addEventListener("click",(function(){PA(2)})),pA(),OA(2));Sk.includes("edit_exams")&&1==r&&("fu_topic",cA(ky,"","ovr-scroll"),GM("aq_exam_save").addEventListener("click",(function(){PA(4)})),pA(),OA(4));r&&(window.location.hash.includes("dashboard")&&(GM("adminonly").style.display="flex"),(window.location.hash.includes("topic")||window.location.hash.includes("qbanks"))&&(GM("tp_pnt").style.display="block",GM("tp_edt").style.display="block"),window.location.hash.includes("sims")&&(GM("sms_edit").style.display="block"));vk(),Lk=[],"forum"==Sk?SA(1):(SA(2),TA=1,IA="afterbegin");zk=[],Vk=[],Fk=[],Hk=""}(t,e)}function cA(t,e,i){GM("output").style="",GM("output").classList.remove("ovr-scroll"),GM("output").innerHTML=t,null!=i&&""!=i&&GM("output").classList.add(i),GM("output").style=e}function dA(){GM("tt_qp").addEventListener("click",(function(){let t="",e=1;for(let i of zk.questions)t+='<div class = "qb_q"><div class = "qb_ttl">Q '+e+") "+i.title+'<div id = "qb_q_ty" class = "qb_q_ty qb_qt_ty" >('+i.type+')</div><div id = "qb_q_mrk" class = "qb_q_ty qb_qt_ty" >('+i.pm+"/"+i.nm+')</div></div></div><br><hr style="color:white"><br>',e++;hy("Question Paper",t)})),GM("tt_instr").addEventListener("click",(function(){function t(t){var e=new Date(t);return e.setMinutes(e.getMinutes()-e.getTimezoneOffset()),e.toISOString().slice(0,16)}hy("",by),GM("tsi").innerHTML=Fk.instructions,GM("i_name").innerHTML=Fk.title,GM("i_start").innerHTML=t(1e3*Fk.strton.seconds),GM("i_end").innerHTML=t(1e3*Fk.endon.seconds),GM("i_time").innerHTML=Fk.timeallotted/60+"&nbsp;Mins",GM("i_syllabus").innerHTML=Fk.syllabus,GM("i_total").innerHTML=Fk.totalmarks,GM("i_qno").innerHTML=Fk.questionnos,GM("agree_in").style.display="none",GM("tin_start").style.display="none",GM("ti_i").style.width="95%",GM("container").style.borderColor="transparent"})),GM("tt_rep").addEventListener("click",uy)}function fA(){GM("tp_nxt").addEventListener("click",(function(){GA(2)})),GM("tp_prv").addEventListener("click",(function(){GA(1)})),GM("tp_edt").addEventListener("click",ek),GM("tp_rep").addEventListener("click",uy),GM("tp_sbm").addEventListener("click",JA),GM("tp_pnt").addEventListener("click",tk)}function pA(){GM("aq_mode").addEventListener("change",NA),GM("aq_type").addEventListener("change",NA),GM("aq_ao").addEventListener("click",WA),GM("aq_ro").addEventListener("click",QA),GM("aq_re").addEventListener("click",BA),GM("aq_export").addEventListener("click",tk)}document.addEventListener("copy",(function(t){t.clipboardData.setData("text/plain","It is forbidden to copy content from Quarkz!"),t.preventDefault()}));GM("dsh_btn").addEventListener("click",(function(){ik("dashboard",1)}));function mA(){document.getElementById("tsinf_btn").addEventListener("change",updateUI),document.getElementById("tans_btn").addEventListener("click",(function(){for(var t=0;t<document.getElementsByClassName("q_ans_1").length;t++)document.getElementsByClassName("q_ans_1")[t].style.display="flex"})),document.getElementById("tansexpl_btn").addEventListener("click",(function(){for(var t=0;t<document.getElementsByClassName("q_ans_1").length;t++)document.getElementsByClassName("q_ans_1")[t].style.display="flex";for(t=0;t<document.getElementsByClassName("q_ans_expl").length;t++)document.getElementsByClassName("q_ans_expl")[t].style.display="flex"})),document.getElementById("tremove_btn").addEventListener("click",(function(){for(var t=0;t<document.getElementsByClassName("q_ans_1").length;t++)document.getElementsByClassName("q_ans_1")[t].style.display="none";for(t=0;t<document.getElementsByClassName("q_ans_expl").length;t++)document.getElementsByClassName("q_ans_expl")[t].style.display="none"}))}window.ifcls=function(){document.getElementById("tempIF_G").remove()},window.user_rate_value=0,null==localStorage.getItem("prf_type")&&localStorage.setItem("prf_type","v2");let gA,vA=[];async function yA(){try{await ag(jp(tA,"sims",window.location.hash.split("edit_sim/")[1]),{name:GM("aq_simname").value,license:GM("aq_simlicense").value,provider:GM("aq_simprov").value,url:GM("aq_simurl").value,subject:GM("aq_simsubj").value});var t=GM("aq_simsubj").value;"physics"==t&&await ag(jp(tA,"sims","sims"),{physics:pg(GM("aq_simname").value)}),"chemistry"==t&&await ag(jp(tA,"sims","sims"),{chemistry:pg(GM("aq_simname").value)}),"maths"==t&&await ag(jp(tA,"sims","sims"),{maths:pg(GM("aq_simname").value)}),"computer"==t&&await ag(jp(tA,"sims","sims"),{computer:pg(GM("aq_simname").value)}),"biology"==t&&await ag(jp(tA,"sims","sims"),{biology:pg(GM("aq_simname").value)}),"statistics"==t&&await ag(jp(tA,"sims","sims"),{statistics:pg(GM("aq_simname").value)}),"unfiled"==t&&await ag(jp(tA,"sims","sims"),{unfiled:pg(GM("aq_simname").value)}),function(){bk("aq_qtext",""),bk("aq_expl",""),GM("aq_answer").value="",GM("aq_yurl").value="",GM("aq_hint").value="";for(var t=0;t<document.getElementsByClassName("aq_mcq").length;t++)document.getElementsByClassName("aq_mcq")[t].value="";for(t=0;t<document.getElementsByClassName("aq_i1").length;t++)document.getElementsByClassName("aq_i1")[t].value="";for(t=0;t<document.getElementsByClassName("aq_i2").length;t++)document.getElementsByClassName("aq_i2")[t].value=""}()}catch(t){console.error("Error writing new message to Firebase Database",t)}}function bA(){!async function(t){var e;const i=Um(Fp(tA,"sims"),jm("name","==",t));(await sg(i)).forEach((t=>{e=t.id})),lA("sims/"+e,1)}(this.innerText)}async function wA(t){if(GM("sim_cont").innerHTML="",0==vA.length){var e=jp(tA,"sims","sims"),i=await ng(e);if(!i.exists())throw lA("error_page",1),new Error;var n=i.data();vA=n}if("physics"==t)try{for(let t of vA.physics)""!=t&&(GM("sim_cont").insertAdjacentHTML("beforeend",'<span class="tlinks rpl" style = "color:pink" id="sim'+btoa(t)+'">'+t+"</span>"),GM("sim"+btoa(t)).addEventListener("click",bA))}catch{}if("chemistry"==t)try{for(let t of vA.chemistry)""!=t&&(GM("sim_cont").insertAdjacentHTML("beforeend",'<span class="tlinks rpl" style = "color:crimson" id="sim'+btoa(t)+'">'+t+"</span>"),GM("sim"+btoa(t)).addEventListener("click",bA))}catch{}if("maths"==t)try{for(let t of vA.maths)""!=t&&(GM("sim_cont").insertAdjacentHTML("beforeend",'<span class="tlinks rpl" style = "color:turquoise" id="sim'+btoa(t)+'">'+t+"</span>"),GM("sim"+btoa(t)).addEventListener("click",bA))}catch{}if("biology"==t)try{for(let t of vA.biology)""!=t&&(GM("sim_cont").insertAdjacentHTML("beforeend",'<span class="tlinks rpl" style = "color:lime" id="sim'+btoa(t)+'">'+t+"</span>"),GM("sim"+btoa(t)).addEventListener("click",bA))}catch{}if("computer"==t)try{for(let t of vA.computer)""!=t&&(GM("sim_cont").insertAdjacentHTML("beforeend",'<span class="tlinks rpl" style = "color:violet" id="sim'+btoa(t)+'">'+t+"</span>"),GM("sim"+btoa(t)).addEventListener("click",bA))}catch{}if("statistics"==t)try{for(let t of vA.statistics)""!=t&&(GM("sim_cont").insertAdjacentHTML("beforeend",'<span class="tlinks rpl" style = "color:orange" id="sim'+btoa(t)+'">'+t+"</span>"),GM("sim"+btoa(t)).addEventListener("click",bA))}catch{}if("unfiled"==t)try{for(let t of vA.unfiled)""!=t&&(GM("sim_cont").insertAdjacentHTML("beforeend",'<span class="tlinks rpl" style = "color:white" id="sim'+btoa(t)+'">'+t+"</span>"),GM("sim"+btoa(t)).addEventListener("click",bA))}catch{}}async function _A(){await ag(jp(tA,"usernotes",window.location.hash.split("usernotes/")[1]),{title:GM("un_title").value,notes:yk("un_editable"),lastupdated:fg(),type:GM("un_viewership").value})}function MA(){}function AA(){window.location.hash="#/usernotes/"+this.id.split("uno")[1]}async function kA(){for(var t=0;t<wk.usernotes.length;t++)GM("un_list").insertAdjacentHTML("beforeend","<div class='t_notes' id='uno"+wk.usernotes[t].id+"' style='background-color: "+wk.usernotes[t].color+"'><span class='tntc2' id='"+wk.usernotes[t].id+"'>"+wk.usernotes[t].title+"</span></div>"),GM("uno"+wk.usernotes[t].id).addEventListener("click",AA)}async function EA(){var t=GM("fm_message").value;if(t.includes("/pinned")){t=t.split("/pinned")[1];try{await ag(jp(tA,"forum","pinned"),{message:t})}catch{alert("You Dont Have The Privilages For This Command")}var e=await VM("http://localhost:5500/time.html").then(async function(e){await ag(jp(tA,"forum","ppinned"),{ppinned:pg({message:t,user:wk.uuid,time:e})})}(e))}else""!=t&&null!=t?(await ug(Fp(tA,"forum"),{name:wk.name,message:t,userid:wk.uuid,sgndon:fg()}),GM("fm_message").value=""):alert("Message Cannot Be Empty")}let xA=function(){};async function SA(t){var e;1==t?(GM("forum_live").innerHTML="",gA=Um(Fp(em(),"forum"),Hm("sgndon","desc"),(Np("limit",e=10),Km._create("limit",e,"F"))),xA=lg(gA,(function(t){t.docChanges().forEach((function(t){if("removed"===t.type)GM("dM"+t.doc.id).remove();else if("added"==t.type){TA>=11&&(IA="beforeend");var e=t.doc.data();!function(t,e,i,n,r){var s=n.replace(/<[^>]+>/g,"");if("shh5oUIhRpdBkEKQ3GCZwoKE9u42"==r){var o="<div id = 'dM"+t+"'><span class = 'dmName'>"+i+"👑: </span><span class = 'dmText'>"+s+"</span><span class = 'dmtime'>"+e+"</span></div>";GM("forum_live").insertAdjacentHTML(IA,o)}else o="<div id = 'dM"+t+"'><span class = 'dmName'>"+i+": </span><span class = 'dmText'>"+s+"</span><span class = 'dmtime'>"+e+"</span></div>",GM("forum_live").insertAdjacentHTML(IA,o)}(t.doc.id,"",e.name,e.message,e.userid),TA+=1}}))}))):2==t&&(xA(),xA=function(){})}var TA=1,IA="afterbegin";let qA;async function RA(){GM("qbnk_vid_btn").style.display="none",GM("qbnk_vid_btn_e").style.display="none";try{let o=await ng(jp(tA,"qbank",window.location.hash.split("qbnk_vid/")[1]));if(o.exists()){var t=o.data();GM("tb_q_title").innerText=t.name,GM("qb_vid_ti").innerText=t.name,GM("qbnk_vid_q").style.display="none",GM("qbnk_vid_ans").style.display="none",GM("qbnk_vid_title").style.display="flex",GM("qbnk_vid_end").style.display="none",GM("watermark").style.display="none";let a=t.qllist,h=await Ty();HM(GM("qbnk_vid")),qA=Iy(h);var e,i=0,n=0,r=0,s=setInterval((function(){if(GM("qbnk_vid_q").style.display="none",GM("qbnk_vid_ans").style.display="none",GM("qbnk_vid_title").style.display="none",GM("qbnk_vid_end").style.display="none",0==n)GM("qbnk_vid_title").style.display="flex",n++;else if(r==a.length-1)GM("qbnk_vid_end").style.display="flex",setTimeout((function(){qA.stop(),GM("qbnk_vid_btn").style.display="block"}),5e3),clearInterval(s);else if(0==i||1==i){!function(t){function e(t){t.style.display="none"}function i(t){t.style.display="block"}function n(t){t.style.display="flex"}var r=GM("tb_q_mcq_con"),s=GM("tb_q_matrix"),o=GM("tb_q_answer");if(r.innerHTML="",GM("tb_q_qtext").innerHTML=t.title+"<span class = 'sp_txt'>("+t.type+")</span>","mcq"==t.type||"mcq_multiple"==t.type||"mcq_multiple_partial"==t.type){n(r),e(s),e(o);var a=t.op,h="";for(let t of a)h+='<div class="tb_q_mcq_p rpl">'+t+"</div>";GM("tb_q_mcq_con").insertAdjacentHTML("beforeend",h)}else if("matrix"==t.type){e(r),i(s),e(o);for(var u=t.op1,l=t.op2,c=u.length,d=0;d<c;d++)document.getElementsByClassName("tp_i1")[d].innerHTML=u[d];for(d=0;d<c;d++)document.getElementsByClassName("tp_i2")[d].innerHTML=l[d]}else"numerical"==t.type||"fill"==t.type?(e(r),e(s),i(o)):"taf"==t.type?(n(r),e(s),e(o),h='<div class="tp_mcq_p rpl">True</div><div class="tp_mcq_p rpl">False</div>',GM("tp_mcq_con").insertAdjacentHTML("beforeend",h)):(e(r),e(s),e(o));renderMathInElement(GM("tp_ans_hold")),renderMathInElement(GM("tp_qtext"))}(a[r]);var t=r+1;0==i&&(GM("qbnk_timer").innerText=10,e=setInterval((function(){GM("qbnk_timer").innerText=GM("qbnk_timer").innerText-1}),1e3)),GM("tb_q_qno").innerText="Question "+t+":",GM("qbnk_vid_q").style.display="flex",i++}else if(2==i){GM("qbnk_vid_ans").style.display="flex",clearInterval(e);for(var o="",h=0;h<a[r].answer.length;h++)o+='<div class="tb_q_mcq_p rpl" style = "background-color:green">'+a[r].answer[h]+"</div>";GM("tb_q_ans").innerHTML=o,GM("tb_q_hint").innerHTML=a[r].hint,GM("tb_q_expl").innerHTML=a[r].expl,i=0,r++}}),5e3)}}catch{}}function CA(){var t=GM("aq_answer").value.split(","),e=GM("aq_type").value,i=[],n=[],r=[];if("mcq"==e||"mcq_multiple"==e||"mcq_multiple_partial"==e)for(t=[],o=0;o<document.getElementsByClassName("aq_mcq_ans").length;o++){var s=document.getElementsByClassName("aq_mcq_ans")[o].value;t[o]=s}for(var o=0;o<document.getElementsByClassName("aq_mcq").length;o++)i.push(document.getElementsByClassName("aq_mcq")[o].value);for(o=0;o<document.getElementsByClassName("aq_i1").length;o++)n.push(document.getElementsByClassName("aq_i1")[o].value);for(o=0;o<document.getElementsByClassName("aq_i2").length;o++)r.push(document.getElementsByClassName("aq_i2")[o].value);if(Sk.includes("edit_test"))var a={qid:Nk,mode:GM("aq_mode").value,title:yk("aq_qtext"),y_url:GM("aq_yurl").value,hint:GM("aq_hint").value,expl:yk("aq_expl"),type:e,answer:t,op:i,op1:n,op2:r,section:GM("aq_section").value,pm:GM("aq_posmrks").value,nm:GM("aq_negmrks").value};else if(Sk.includes("edit_exams"))a={id:Nk,name:GM("aq_examname").value,date:GM("aq_examdate").value,info:GM("aq_examinfo").value,syllabus:GM("aq_examsyllabus").value,mode:"exams"};else a={id:Nk,mode:GM("aq_mode").value,title:yk("aq_qtext"),y_url:GM("aq_yurl").value,hint:GM("aq_hint").value,expl:yk("aq_expl"),type:e,answer:t,op:i,op1:n,op2:r,section:GM("aq_section").value,pm:GM("aq_posmrks").value,nm:GM("aq_negmrks").value};return a}async function NA(t){function e(t){t.style.display="none"}function i(t){t.style.display="block"}function n(t){t.style.display="flex"}var r=GM("aq_mode").value,s=GM("aq_ans_hold"),o=GM("aq_type"),a=GM("aq_answer"),h=GM("aq_yurl"),u=GM("aq_mcq_con"),l=GM("aq_matrix"),c=(GM("aq_upl"),GM("aq_all"));GM("aq_tpc"),GM("aq_qbk"),GM("aq_sims");"question"==r?(e(h),i(s),i(o),i(a),n(c)):"lesson"==r?(i(h),e(s),e(o),e(a),n(c)):"exams"==r&&(e(h),e(s),e(o),e(a),e(c)),"mcq"==o.value||"mcq_multiple"==o.value||"mcq_multiple_partial"==o.value?(n(u),e(l),e(a)):"matrix"==o.value?(i(l),e(u),e(a)):(e(l),e(u),i(a))}function LA(t){DA(this.innerText)}function DA(t){if("+"==t){let e=Lk.length;window.location.hash.includes("edit_exams")?Lk[e]={id:Date.now()+Math.random().toString(36).substr(2),name:"",date:"",info:"",syllabus:"",mode:"exams"}:Lk[e]={id:Date.now()+Math.random().toString(36).substr(2),mode:"",title:"",y_url:"",img:"",hint:"",expl:"",type:"mcq",answer:["1"],op:["1","2","3","4"],op1:[],op2:[],section:"Unfiled",pm:4,nm:-1},(window.location.hash.includes("edit_qubank")||window.location.hash.includes("edit_test"))&&(Lk[e].mode="question"),Sk.includes("edit_test")&&(Lk[e].qid=Lk[e].id),t=e}GM("question_list").innerHTML="";for(var e=1;e<Lk.length+1;e++)GM("question_list").insertAdjacentHTML("beforeend",'<span class = "t_no_qno" id = "t_no_qno_'+e+'">'+e+"</span>"),GM("t_no_qno_"+e).addEventListener("click",LA);GM("question_list").insertAdjacentHTML("beforeend",'<span class = "t_no_qno" id = "t_no_qno_add">+</span>'),GM("t_no_qno_add").addEventListener("click",LA),0!=t&&(Lk[Ck-1]=CA(),Ck=t);var i=Lk[Ck-1];if(window.location.href.includes("edit_exams"))return GM("aq_examname").value=i.name,GM("aq_examdate").value=i.date,GM("aq_examinfo").value=i.info,GM("aq_examsyllabus").value=i.syllabus,void NA();if(Nk=Sk.includes("edit_test")?i.qid:i.id,GM("aq_mode").value=i.mode,bk("aq_qtext",i.title),GM("aq_yurl").value=i.y_url,GM("aq_type").value=i.type,GM("aq_hint").value=i.hint,GM("aq_section").value=i.section,GM("aq_posmrks").value=i.pm,GM("aq_negmrks").value=i.nm,bk("aq_expl",i.expl),"mcq"==i.type||"mcq_multiple"==i.type||"mcq_multiple_partial"==i.type){GM("aq_mcq_con").innerHTML="";for(var n=0;n<i.op.length;n++){WA(),document.getElementsByClassName("aq_mcq")[n].value=i.op[n];for(var r=0;r<i.answer.length;r++)i.op[n]==i.answer[r]&&(document.getElementsByClassName("aq_mcq")[n].classList.add("aq_mcq_ans"),document.getElementsByClassName("aq_mcq_p")[n].style.borderColor="lime")}}else"numerical"!=i.type&&"explain"!=i.type&&"fill"!=i.type&&"taf"!=i.type||(GM("aq_answer").value=i.answer.toString());NA()}async function OA(t){var e,i;GM("aq_basic").style.display="flex",1==t?(e="topic",i=window.location.hash.split("edit_tpc/")[1],GM("fu_topic_title").innerText="Add/Edit Topic",GM("aq_mode").innerHTML='<option value="question">Question</option><option value="lesson">Lesson</option>',GM("aq_tpc_save").style.display="block",GM("aq_qbc_save").style.display="none",GM("aq_tst_save").style.display="none",GM("aq_test_extra").style.display="none",GM("aq_exam_save").style.display="none",GM("aq_exams").style.display="none",GM("aq_all").style.display="flex",GM("aq_ans_hold").style.display="flex"):2==t?(e="qbank",i=window.location.hash.split("edit_qubank/")[1],GM("fu_topic_title").innerText="Add/Edit QBank",GM("aq_mode").innerHTML='<option value="question">Question</option>',GM("aq_tpc_save").style.display="none",GM("aq_tst_save").style.display="none",GM("aq_test_extra").style.display="none",GM("aq_qbc_save").style.display="block",GM("aq_exam_save").style.display="none",GM("aq_exams").style.display="none",GM("aq_all").style.display="flex",GM("aq_ans_hold").style.display="flex"):3==t?(e="tests",i=window.location.hash.split("edit_tests/")[1],GM("fu_topic_title").innerText="Add/Edit Tests",GM("aq_mode").innerHTML='<option value="question">Question</option>',GM("aq_tpc_save").style.display="none",GM("aq_qbc_save").style.display="none",GM("aq_test_extra").style.display="flex",GM("aq_tst_save").style.display="block",GM("aq_exam_save").style.display="none",GM("aq_exams").style.display="none",GM("aq_all").style.display="flex",GM("aq_ans_hold").style.display="flex"):4==t&&(e="quarkz",i="exams",GM("fu_topic_title").innerText="Add/Edit Exams",GM("aq_mode").innerHTML='<option value="exam">Exam</option>',GM("aq_tpc_save").style.display="none",GM("aq_qbc_save").style.display="none",GM("aq_test_extra").style.display="none",GM("aq_exam_save").style.display="block",GM("aq_tst_save").style.display="none",GM("aq_exams").style.display="flex",GM("aq_all").style.display="none",GM("aq_ans_hold").style.display="none",GM("aq_basic").style.display="none");try{let s=await ng(jp(tA,e,i));if(s.exists())if(1==t||2==t){var n=s.data();GM("aq_tpcname").value=n.name,GM("aq_tpclevel").value=n.level,GM("aq_tpc_subj").value=n.subject,GM("aq_tpc_chapterid").value=n.chid,Lk=n.qllist,DA(0),DA(1)}else if(3==t){n=s.data();function r(t){var e=new Date(t);return e.setMinutes(e.getMinutes()-e.getTimezoneOffset()),e.toISOString().slice(0,16)}GM("aq_tpcname").value=n.title,GM("aq_tpclevel").value=n.level,GM("aq_tpc_subj").value=n.subject,GM("aq_tst_batches").value=n.batch.toString(),GM("aq_tst_stron").value=r(1e3*n.strton.seconds),GM("aq_tst_endon").value=r(1e3*n.endon.seconds),GM("aq_tst_timealotted").value=n.timeallotted,GM("aq_tst_syllabi").value=n.syllabus,bk("aq_add_test_instr",n.instructions);let o=await ng(jp(tA,"tests",i,"questions","questions")),a=await ng(jp(tA,"tests",i,"questions","answers")),h=[],u=[];if(o.exists())h=o.data().questions;if(a.exists())u=a.data().questions;Lk=KM(h,u),DA(0)}else if(4==t){n=s.data();Lk=n.examinfo,DA(0),DA(1)}}catch{}}function BA(){for(var t=0;t<Lk.length;t++)Lk[t].qid!=Nk&&Lk[t].id!=Nk||(Lk.splice(t,1),DA(0),null==(Nk=Lk[t-1].qid||Lk[t-1].id)&&(Nk=""))}async function PA(t){for(var e=0;e<Lk.length;e++)Lk[e].qid!=Nk&&Lk.id!=Nk||(Lk[e]=CA());var i,n;if(1==t?(i="topic",n=window.location.hash.split("edit_tpc/")[1]):2==t?(i="qbank",n=window.location.hash.split("edit_qubank/")[1]):3==t?(i="tests",n=window.location.hash.split("edit_tests/")[1]):4==t&&(i="quarkz",n="exams"),1==t||2==t)try{await ag(jp(tA,i,n),{name:GM("aq_tpcname").value,qllist:Lk,level:GM("aq_tpclevel").value,chid:GM("aq_tpc_chapterid").value,subject:GM("aq_tpc_subj").value})}catch{}else if(3==t){try{let t=0,h=0;for(e=0;e<Lk.length;e++){var r=Lk[e];h+=parseInt(r.pm),t+=1}var s=new Date(GM("aq_tst_stron").value),o=new Date(GM("aq_tst_endon").value),a=GM("aq_tst_batches").value.split(",");await ag(jp(tA,i,n),{title:GM("aq_tpcname").value,timeallotted:GM("aq_tst_timealotted").value,syllabus:GM("aq_tst_syllabi").value,instructions:yk("aq_add_test_instr"),strton:s,endon:o,batch:a,questionnos:t,totalmarks:h})}catch{}var h=[],u=[];for(e=0;e<Lk.length;e++){r=Lk[e];h.push({qid:r.qid,mode:r.mode,title:r.title,type:r.type,op:r.op,op1:r.op1,op2:r.op2,section:r.section,pm:r.pm,nm:r.nm}),u.push({qid:r.qid,hint:r.hint,expl:r.expl,answer:r.answer,section:r.section,pm:r.pm,nm:r.nm,type:r.type})}try{await ag(jp(tA,i,n,"questions","questions"),{questions:h})}catch(t){ay(t)}try{await ag(jp(tA,i,n,"questions","answers"),{questions:u})}catch{}}else if(4==t){await ag(jp(tA,i,n),{examinfo:Lk})}}function UA(){window.location.hash="#/qbanks/"+atob(this.id.split("chpqbk")[1])}function FA(){window.location.hash="#/topic/"+atob(this.id.split("chptpc")[1])}async function jA(t){var e="",i="";1==t?(e="topic",i="topic"):2==t?(i="qbanks",e="qbank"):e="topic";var n=i+"/",r=window.location.hash.split(n)[1],s=jp(tA,e,r),o=await ng(s);if(!o.exists())throw lA("error_page",1),new Error;var a=o.data();(Tk={}).title=a.name,Tk.qllist=a.qllist,GA(3)}function zA(){window.location.hash="#/chapter/"+atob(this.id.split("qb")[1])}function VA(t){GM("qb_cont_2").innerHTML="";for(var e=0;e<qk.length;e++){var i=qk[e];i.subject==t&&(GM("qb_cont_2").insertAdjacentHTML("beforeend",'<span class="tlinks rpl" style = "color:pink" id="qb'+btoa(i.id)+'">'+i.name+"</span>"),GM("qb"+btoa(i.id)).addEventListener("click",zA))}}async function HA(t){var e="";e=1==t?"qbank":2==t?"topic":3==t?"tests":"qbank";var i,n,r,s,o=window.location.hash.split("printable/"+e+"/")[1],a=GM("qb_title"),h=jp(tA,e,o),u=await ng(h);if(!u.exists())throw lA("error_page",1),new Error;i=(_=u.data()).qllist,a.innerText=_.name,GM("eqb_add").innerHTML="";for(let t of i)if("question"==t.mode){n=(_=t).title,r=_.type,null==(s=_.img)&&(s="");var l='<div class = "q_ans_expl" style = "font-weight:bold;color:green;font-size:10px;flex-direction:row;display:none;">Explaination:'+_.expl+"</div>",c="<div style = 'font-weight:bold;color:green;font-size:10px;flex-direction:row;display:none' class = 'q_ans_1'>Answer:",d='<div class = "qbtp_q"><div id = "'+t.id+'">'+n+'<div class = "qb_q_ty">('+r+")("+_.pm+"/"+_.nm+")</div></div>";if(GM("eqb_add").insertAdjacentHTML("beforeend",d),""!=s){var f='<div class = "qb_img"><img src = "'+s+'"></div>';GM(t.id).insertAdjacentHTML("beforeend",f)}var p="";if("mcq"==r||"mcq_multiple"==r||"mcq_multiple_partial"==r){var m=_.op;for(let t of m)p+="<div class = 'qb_mcq_opt'>"+t+"</div>";var g='<div class = "qb_mcq_exp" type = "a">'+p+"</div>";for(let t of _.answer)c+="<div class = 'qb_mcq_ans'>"+t+"</div>"}if("taf"==r&&(g='<ol class = "qb_mcq_exp" type = "a"><li>True</li><li>False</li></ol>'),"explain"!=r&&"numerical"!=r&&"fill"!=r||(g=""),"matrix"==r){for(var v=_.op1,y=_.op2,b=v.length,w=0;w<b;w++)p+="<tr><td>"+v[w]+"</td><td>"+y[w]+"</td>";g="<table>"+p+"</table>"}GM(t.id).insertAdjacentHTML("beforeend",g),GM(t.id).insertAdjacentHTML("beforeend",c+"</div>"),GM(t.id).insertAdjacentHTML("beforeend",l),renderMathInElement(GM("eqb_add"))}else if("lesson"==t.mode){var _,M;n=(_=t).title,r=_.type,s=_.img,M=""==_.y_url?"":"https://api.qrserver.com/v1/create-qr-code/?size=50x50&data=https://www.youtube.com/watch?v="+_.y_url;d='<div class = "les_q"><div id = "'+t.id+'"><div style = "display:flex;flex-direction:row;justify-content: space-between;"><div style = "font-size:18px;">'+n+'</div><img style = "float:right" src="'+M+'"></div><hr color="white" width="100%"></div>';GM("eqb_add").insertAdjacentHTML("beforeend",d);l='<div class = "les_expl" style = "">'+_.expl+'</div><hr color="white" width="100%">';GM(t.id).insertAdjacentHTML("beforeend",l),renderMathInElement(GM("eqb_add"))}GM("eqb_add").insertAdjacentHTML("beforeend","<br></br>")}async function KA(t){var e,i;GM("tp_question").style.display="none",GM("tp_lesson").style.display="block",""==t.y_url?GM("tp_full_vid").style.display="none":(GM("tp_full_vid").style.display="flex",e=t.y_url,i=.8*window.innerWidth||.8*document.documentElement.clientWidth||.8*document.body.clientWidth,null==player||"div"==GM("player").tagName?window.player=new YT.Player("player",{height:"500",width:i,origin:window.location.origin,videoId:e,playerVars:{playsinline:1,controls:0,modestbranding:1},events:{onReady:onPlayerReady,onStateChange:onPlayerStateChange}}):window.player.loadVideoById(e)),GM("tp_lsno").innerText=t.title,GM("tp_expl").innerHTML=t.expl,GM("report-tag").value=t.id}async function GA(t){var e;if(e=1==t?-1:1,(Ik<Tk.qllist.length-1&&2==t||1==t&&Ik>0)&&(Ik+=e),!(Ik>=Tk.qllist.length&&2==t)){3==t&&(Ik=0);var i=Tk.title;GM("tp_title").innerText=i;for(var n=Tk.qllist[Ik],r=0,s=0;s<Tk.qllist.length;s++)"question"==Tk.qllist[s].mode&&r++;"lesson"==n.mode?KA(n):"question"==n.mode&&async function(t,e){function i(t){t.style.display="none"}function n(t){t.style.display="block"}function r(t){t.style.display="flex"}i(GM("tp_hint")),i(GM("tp_a_expl")),i(GM("tp_e_answer")),i(GM("tp_status"));var s=GM("tp_mcq_con"),o=GM("tp_matrix"),a=GM("tp_answer");if(GM("tp_lsno").innerHTML="Question<span style = 'font-size:12px'>&nbsp;X of ("+e+")</span>",GM("tp_question").style.display="flex",GM("tp_lesson").style.display="none",GM("tp_question").setAttribute("dataid",t.id),GM("tp_question").setAttribute("qtype",t.type),GM("report-tag").value=t.id,s.innerHTML="",GM("tp_qtext").innerHTML=t.title,"mcq"==t.type||"mcq_multiple"==t.type||"mcq_multiple_partial"==t.type){r(s),i(o),i(a);var h=t.op,u="";for(let t of h)u+='<div class="tp_mcq_p rpl" onclick = "mcqchose(this)">'+t+"</div>";GM("tp_mcq_con").insertAdjacentHTML("beforeend",u)}else if("matrix"==t.type){i(s),n(o),i(a);for(var l=t.op1,c=t.op2,d=l.length,f=0;f<d;f++)document.getElementsByClassName("tp_i1")[f].innerText=l[f];for(f=0;f<d;f++)document.getElementsByClassName("tp_i2")[f].innerText=c[f]}else"numerical"==t.type||"fill"==t.type?(i(s),i(o),n(a)):"taf"==t.type?(r(s),i(o),i(a),u='<div class="tp_mcq_p rpl">True</div><div class="tp_mcq_p rpl">False</div>',GM("tp_mcq_con").insertAdjacentHTML("beforeend",u)):(i(s),i(o),i(a));renderMathInElement(GM("tp_ans_hold")),renderMathInElement(GM("tp_qtext"))}(n,r),vk()}}function WA(){GM("aq_mcq_con").insertAdjacentHTML("beforeend",'<div class="aq_mcq_p" onclick="changeColor(this)"><input class="aq_mcq"></div>')}function QA(){document.getElementsByClassName("aq_mcq_p")[document.getElementsByClassName("aq_mcq").length-1].remove()}function $A(){Ti(tr(),XA)}function ZA(){for(var t=GM("eqb_add"),e=t.children.length;e>=0;e--)t.appendChild(t.children[Math.random()*e|0])}function YA(){Ei(eA,wk.email).then((()=>{ay("Success","Password Reset Email sent.")})).catch((t=>{t.code;ay("Failure",t.message)}))}async function XA(t){var e;if(t){var i=jp(tA,"users",t.uid);if((s=await ng(i)).exists()){var n=s.data();(wk=n).uuid=t.uid,e=wk.batch,Ak=wk.roles.user,_k=wk.roles.editor,Mk=wk.roles.admin,GM("spoints").innerText=wk.spoints,null==n.usernotes&&(wk.usernotes=[])}1==n.deleted&&(ay("Warning","User Account Has Been Deleted"),hA());try{i=jp(tA,"batch",e);if((s=await ng(i)).exists()){n=s.data();if(wk.batchname=n.name,wk.timetable=n.timetable,async function(t,e){if(Ok!=[]){const e=Um(Fp(tA,"tests"),jm("batch","array-contains",t));(await sg(e)).forEach((t=>{var e=t.data();Ok.push({title:e.title,strton:e.strton.seconds,endon:e.endon.seconds,testid:t.id})}))}}(e,t.uid),wk.timetableurl="https://calendar.google.com/calendar/embed??height=600&wkst=2&bgcolor=%23ffffff&ctz=Asia%2FKolkata&showTitle=0&showCalendars=0&showTabs=0&showPrint=0&showDate=1&src="+n.timetable+"%40group.calendar.google.com&amp;ctz=Asia%2FKolkata",n.delon.seconds<=parseInt(Date.now()/1e3))throw ay("Warning","This Batch Has Been Deleted"),hA(),window.reload(),new Error("DENIED");for(var r=0;r<n.chlist.length;r++)qk.push({name:n.chlist[r].name,id:n.chlist[r].id,subject:n.chlist[r].subject})}}catch{}spoints.style.display="block",GM("dsh_btn").style.display="block",""!=window.location.hash&&null!=window.location.hash&&null!=window.location.hash||(window.location.hash="#/dashboard",Dk=1);var s;i=jp(tA,"quarkz","exams");if((s=await ng(i)).exists()){n=s.data();wk.examslist=n,n.ratemyapp&&localStorage.setItem("rate_app",!1),""!=n.warning&&ay("Notice",n.warning,(function(){window.location.hash="#/updates"}),"Release Notes")}lA(window.location.hash.split("#/")[1],1)}else spoints.textContent="",spoints.style.display="none",GM("dsh_btn").style.display="none",lA("login",1),1==Dk&&document.location.reload()}function JA(){for(var t,e,i,n,r=GM("tp_question").getAttribute("dataid"),s=GM("tp_question").getAttribute("qtype"),o=0;o<Tk.qllist.length;o++)if(Tk.qllist[o].id==r){e=Tk.qllist[o].answer,i=Tk.qllist[o].expl,n=Tk.qllist[o].hint;break}if("numerical"==s||"fill"==s){"correct"==$M(s,e,t=GM("tp_answer").value.split(","),4,-1,0).type?(GM("tp_status").innerText="Correct Answer",ZM(2),1):(GM("tp_status").innerText="Wrong Answer",ZM(1),0)}if("mcq"==s||"mcq_multiple"==s||"taf"==s||"mcq_multiple_partial"==s){t=[];for(var a=0;a<document.getElementsByClassName("tp_mcq_p").length;a++)document.getElementsByClassName("tp_mcq_p")[a].classList.contains("aq_mcq_ans")&&t.push(document.getElementsByClassName("tp_mcq_p")[a].innerText);"correct"==$M(s,e,t,4,-1,0).type?(GM("tp_status").innerText="Correct Answer",ZM(2),1):(GM("tp_status").innerText="Wrong Answer",ZM(1),0)}GM("tp_status").style.display="block",GM("tp_hint").style.display="block",GM("tp_a_expl").style.display="block",GM("tp_e_answer").style.display="block",GM("tp_a_expl").innerHTML=i,GM("tp_hint").innerHTML=n,GM("tp_e_answer").innerHTML="Answer:"+e}function tk(){window.location.hash.includes("topic")?ik("printable/topic/"+window.location.hash.split("topic/")[1],1):window.location.hash.includes("qbanks")&&ik("printable/qbank/"+window.location.hash.split("qbanks/")[1],1),window.location.hash.includes("edit_tpc/")?ik("printable/topic/"+window.location.hash.split("edit_tpc/")[1],1):window.location.hash.includes("edit_qubank/")&&ik("printable/qbank/"+window.location.hash.split("edit_qubank/")[1],1)}function ek(){window.location.hash.includes("topic")?ik("edit_tpc/"+window.location.hash.split("topic/")[1],1):window.location.hash.includes("qbanks")&&ik("edit_qubank/"+window.location.hash.split("qbanks/")[1],1)}function ik(t,e){window.location.hash="#/"+t,"dashboard"==t&&lA("dashboard",1)}function nk(){window.location.hash="#/instructions/"+this.id}function rk(){window.location.hash="#/finished/"+this.id}function sk(t){var e;Bk=[],Pk=[],Uk=[];for(var i=parseInt(Date.now()/1e3),n=0;n<Ok.length;n++)i>Ok[n].strton&&i<Ok[n].endon?Bk.push(Ok[n]):i<Ok[n].strton?Pk.push(Ok[n]):i>Ok[n].endon&&Uk.push(Ok[n]);for(var r of("active"==t?e=Bk:"upcoming"==t?e=Pk:"finished"==t&&(e=Uk),GM("testlinks").innerHTML="",e)){var s=new Date(1e3*r.strton),o=new Date(1e3*r.endon),a='<div class="tlinks" id = "'+r.testid+'"><span class = "t_title">'+r.title+'</span><span class = "t_stron">Starts At:'+s+'</span><span class ="t_endon">Ends At:'+o+"</div>";"finished"!=t?(GM("testlinks").insertAdjacentHTML("beforeend",a),GM(r.testid).addEventListener("click",nk)):"finished"==t&&(GM("testlinks").insertAdjacentHTML("beforeend",a),GM(r.testid).addEventListener("click",rk))}}async function ok(t){var e;if(1==t){var i=window.location.hash.split("/finished/")[1],n=jp(tA,"tests",i,"questions","questions"),r=await ng(n);r.exists()&&(e=r.data().questions)}else 2==t&&(e=[],e=zk);for(var s={},o=0;o<Kk.length;o++)Kk[o].time=Kk[o].time.seconds;var a,h,u=QM(Kk,"time","type",0),l="";for(o=0;o<u.length;o++)"b"==u[o].type?(a=u[o].time,l=u[o].value):"a"==u[o].type&&l==u[o].value&&(h=u[o].time,null==s[u[o].value]&&(s[u[o].value]={},s[u[o].value].time=0),s[u[o].value].time+=h-a,a=h,h=0);var c={Physics:{correct:0,unattempted:0,incorrect:0,total:0},Chemistry:{correct:0,unattempted:0,incorrect:0,total:0},Math:{correct:0,unattempted:0,incorrect:0,total:0},Biology:{correct:0,unattempted:0,incorrect:0,total:0},Computer:{correct:0,unattempted:0,incorrect:0,total:0},Statistics:{correct:0,unattempted:0,incorrect:0,total:0},Unfiled:{correct:0,unattempted:0,incorrect:0,total:0}},d=0,f=0,p=0;for(o=0;o<e.length;o++)for(var m=0;m<kk.length;m++)if(e[o].qid==kk[m].qid){var g=s[e[o].qid];null==s[e[o].qid]?(s[e[o].section]={},s[e[o].section].time=0):(c[e[o].section].total+=g.time,0==kk[o].marks?(c[e[o].section].unattempted+=g.time,p+=g.time):kk[o].marks==e[o].pm?(c[e[o].section].correct+=g.time,d+=g.time):(c[e[o].section].incorrect+=g.time,f+=g.time))}Ek={questions:s,subject:c,correct:d,incorrect:f,unattempted:p}}var ak;function hk(){lk(this.id,this.innerText)}async function uk(t){var e,i=[],n=[],r=[],s="",o="";window.location.hash.includes("/attempt/")?(s=window.location.hash.split("#/attempt/")[1],o=ay("Warning","Submitting Tests Answers: Please Do Not Close The Tab.")):window.location.hash.includes("/finished/")?s=window.location.hash.split("#/finished/")[1]:window.location.hash.includes("/testreport/")&&(s=window.location.hash.split("#/testreport/")[1]);var a=jp(tA,"tests",s,"responses",eA.currentUser.uid),h=await ng(a);if(h.exists()){var u=h.data().answers;for(var l in r=h.data().info,u)i.push({qid:l,ans:u[l].ans,type:u[l].type,time:u[l].time})}a=jp(tA,"tests",s,"questions","answers"),(h=await ng(a)).exists()&&(e=h.data().questions);for(var c=0,d=0,f=0,p={Physics:{correct:0,unattempted:0,incorrect:0,total:0},Chemistry:{correct:0,unattempted:0,incorrect:0,total:0},Math:{correct:0,unattempted:0,incorrect:0,total:0},Biology:{correct:0,unattempted:0,incorrect:0,total:0},Computer:{correct:0,unattempted:0,incorrect:0,total:0},Statistics:{correct:0,unattempted:0,incorrect:0,total:0},Unfiled:{correct:0,unattempted:0,incorrect:0,total:0}},m=0;m<e.length;m++)for(var g=0;g<i.length;g++)if(e[m].qid==i[g].qid){var v=i[g];null==v.ans&&(v.ans=[]);let t=$M(e[m].type,e[m].answer,v.ans,e[m].pm,e[m].nm,0);"unattempted"==t.type?(n.push({qid:e[m].qid,marks:0,type:"unattempted"}),c+=parseFloat(e[m].pm),p[e[m].section].unattempted+=parseFloat(e[m].pm),p[e[m].section].total+=parseFloat(e[m].pm)):"correct"==t.type?(n.push({qid:e[m].qid,marks:parseFloat(e[m].pm),type:"correct"}),d+=parseFloat(t.marks),p[e[m].section].correct+=parseFloat(t.marks),p[e[m].section].total+=parseFloat(e[m].pm)):(n.push({qid:e[m].qid,marks:parseFloat(e[m].nm),type:"incorrect"}),f+=parseFloat(e[m].nm),p[e[m].section].incorrect+=parseFloat(e[m].nm),p[e[m].section].total+=parseFloat(e[m].pm))}var y={correct:d,incorrect:f,unattempted:c,mList:n,total:p.Physics.total+p.Chemistry.total+p.Math.total+p.Biology.total+p.Computer.total+p.Statistics.total+p.Unfiled.total,usermarks:d+f,subjectmarks:p};1==t?zM(y,r)||(ay("NOTICE","Please Wait, Marks Are Being Updated"),await ag(jp(tA,"tests",s,"responses",eA.currentUser.uid),{info:y}),await ag(jp(tA,"tests",s,"responses","finished"),{leaderboard:pg({uid:wk.uuid,marks:y.usermarks,name:wk.name}),leaderboard:mg({uid:wk.uuid,marks:r.usermarks,name:wk.name})}),lA()):0==t&&(await ag(jp(tA,"tests",s,"responses",eA.currentUser.uid),{info:y}),await ag(jp(tA,"tests",s,"responses","finished"),{leaderboard:pg({uid:wk.uuid,marks:y.usermarks,name:wk.name})}),cA(My,"","")),document.getElementById(o).style.visibility="hidden",document.getElementById(o).style.opacity="0"}function lk(t,e){var i=new Date;jk=0,window.location.hash.includes("/attempt/")&&Hk!=t&&Kk.push({type:"a",time:i,value:Hk}),GM("tt_qno").innerText=e;try{GM(Hk).style.border=""}catch{}Hk=t,window.location.hash.includes("/attempt/")&&Kk.push({type:"b",time:i,value:Hk}),GM(Hk).style.border="purple 3px solid",GM("report-tag").value=Hk;for(let e of zk.questions)if(t==e.qid){GM("tt_qtitle").innerHTML="";var n='<div class = "qb_q" id = "Q'+e.qid+'"><div class = "qb_ttl">'+e.title+'<div id = "qb_q_ty" class = "qb_q_ty qb_qt_ty" >('+e.type+')</div><div id = "qb_q_mrk" class = "qb_q_ty qb_qt_ty" >('+e.pm+"/"+e.nm+")</div></div></div>";GM("tt_qtitle").insertAdjacentHTML("beforeend",n);var r,s="";if("mcq"==e.type){var o=e.op;for(let t of o)s+='<li><input type="radio" class = "q_ans" value = "'+t+'" name = "q_op">'+t+"</input></li>";var a='<ol class = "qb_mcq" type = "A">'+s+"</ol>"}if("mcq_multiple"==e.type||"mcq_multiple_partial"==e.type){o=e.op;for(let t of o)s+='<li><input type="checkbox" class = "q_ans" value = "'+t+'" name = "q_op">'+t+"</input></li>";a='<ol class = "qb_mcq" type = "A">'+s+"</ol>"}if("taf"==e.type&&(a='<ol class = "qb_mcq" type = "A"><li>True</li><li>False</li></ol>'),"explain"!=e.type&&"numerical"!=e.type||(a=""),"matrix"==e.type){for(var h=e.op1,u=e.op2,l=h.length,c=0;c<l;c++)s+="<tr><td>"+h[c]+"</td><td>"+u[c]+"</td>";a="<table>"+s+"</table>"}switch(GM("tt_qtitle").insertAdjacentHTML("beforeend",a),e.type){case"mcq":case"mcq_multiple":case"mcq_multiple_partial":r="";break;case"taf":r='<div id = "tt_mcq"><span><input type="radio" value="a" class = "q_ans" name = "q_op">True</span><span><input type="radio" value="b" class = "q_ans" name = "q_op">False</span></div> ';break;case"numerical":r='<div id = "tt_num"><input type = "number" class="q_ans"></div>';break;case"matrix":r='<div id = "tt_matrix"><div>A<span><input type="checkbox" value="a" id="q_ans_a" name = "q_op">1</span><span><input type="checkbox" value="b" id="q_ans_a" name = "q_op">2</span><span><input type="checkbox" value="c" id="q_ans_a" name = "q_op">3</span><span><input type="checkbox" value="d" id="q_ans_a" name = "q_op">4</span></div><div>B<span><input type="checkbox" value="a" id="q_ans_a" name = "q_op">1</span><span><input type="checkbox" value="b" id="q_ans_a" name = "q_op">2</span><span><input type="checkbox" value="c" id="q_ans_a" name = "q_op">3</span><span><input type="checkbox" value="d" id="q_ans_a" name = "q_op">4</span></div><div>C<span><input type="checkbox" value="a" id="q_ans_a" name = "q_op">1</span><span><input type="checkbox" value="b" id="q_ans_a" name = "q_op">2</span><span><input type="checkbox" value="c" id="q_ans_a" name = "q_op">3</span><span><input type="checkbox" value="d" id="q_ans_a" name = "q_op">4</span></div><div>D<span><input type="checkbox" value="a" id="q_ans_a" name = "q_op">1</span><span><input type="checkbox" value="b" id="q_ans_a" name = "q_op">2</span><span><input type="checkbox" value="c" id="q_ans_a" name = "q_op">3</span><span><input type="checkbox" value="d" id="q_ans_a" name = "q_op">4</span></div></div>';break;case"fill":r='<div id="tt_fill"><input type = "text" class = "q_ans"></div>'}if(GM("tt_qtitle").insertAdjacentHTML("beforeend",r),!window.location.hash.includes("attempt"))for(let e of Gk.questions)if(t==e.qid){e.answer,null!=Ek&&(null==Ek.questions[e.qid]?GM("tt_timespent").innerText="0 seconds":GM("tt_timespent").innerText=FM(Ek.questions[e.qid].time));var d='<div id="tg_answer">Answer: '+e.answer+'</div><div id="tg_expl">Explanation: '+e.expl+"</div>";GM("tt_qtitle").insertAdjacentHTML("beforeend",d)}renderMathInElement(GM("tt_qtitle"));for(let i of Vk)if(i.qid==t){for(c=0;c<document.getElementsByClassName("q_ans").length;c++){var f=document.getElementsByClassName("q_ans")[c];if("mcq"==e.type||"mcq_multiple"==e.type||"mcq_multiple_partial"==e.type){null==i.ans&&(i.ans=[]);for(let t of i.ans)if(f.value==t){f.checked=!0,1;break}}else f.value=i.ans,1}if(!window.location.hash.includes("attempt"))for(let e of Gk.questions)if(t==e.qid)for(let i of Vk)if(i.qid==t){let t=$M(e.type,e.answer,i.ans,e.pm,e.nm,0);"unattempted"==t.type?GM("tt_marksaward").innerHTML='<div style="color:orange">Unanswered(0)</div>':"correct"==t.type?GM("tt_marksaward").innerHTML='<div style="color:lime">Correct('+t.marks+")</div>":GM("tt_marksaward").innerHTML='<div style="color:red">Incorrect('+t.marks+")</div>"}}for(var p=0;p<Vk.length;p++)Vk[p].qid==Hk&&"tts_notvisit"==Vk[p].type&&window.location.hash.includes("attempt")&&(Vk[p].type="tts_notanswer",dk("tts_notanswer"),Vk[p].ans=[],GM(Hk).classList.remove("tts_notanswer","tts_notvisit","tts_answered","tts_review","tts_ansreview"),GM(Hk).classList.add("tts_notanswer"));break}}function ck(){var t=1;for(let t of["tw_Physics","tw_Chemistry","tw_Math","tw_Computer","tw_Statistics","tw_Biology","tw_Unfiled"])GM(t+"_c").innerHTML="",GM(t).style.display="none";for(let i of zk.questions){var e='<span class = "tts_notvisit" id = "'+i.qid+'">'+t+"</span>";t+=1,GM("tw_"+i.section+"_c").insertAdjacentHTML("beforeend",e),GM("tw_"+i.section).style.display="flex",GM(i.qid).addEventListener("click",hk)}if(window.location.hash.includes("attempt"))GM("tt_sub").style.display="block";else{for(let t of Vk){var i=t.qid;for(let e of Gk.questions)if(i==e.qid){e.answer;null==t.ans&&(t.ans=[]);let n=$M(e.type,e.answer,t.ans,e.pm,e.nm,0);"unattempted"==n.type?GM(i).classList.add("t_unat"):"correct"==n.type?GM(i).classList.add("t_crr"):GM(i).classList.add("t_incrr")}}ok(2)}for(let t of Vk)GM(t.qid).classList.replace("tts_notvisit",t.type);lk(zk.questions[0].qid,1)}async function dk(t){if(!window.location.hash.includes("attempt"))return ay("Error","Performing Test Operations in Test Reports Is Prohibited"),1;YM("s");var e="answers."+Hk,i=window.location.hash.split("#/attempt/")[1],n=GM("qb_q_ty").innerText.split("(")[1];if("tts_notanswer"==t){await ag(jp(tA,"tests",i,"responses",eA.currentUser.uid),{[`${e}`]:{ans:"",type:"tts_notanswer",time:fg()}});var r=0;for(let t of Vk){if(t.qid==Hk){for(var s=0;s<document.getElementsByClassName("q_ans").length;s++){var o=document.getElementsByClassName("q_ans")[s];if("mcq"==n||"mcq_multiple"==n||"mcq_multiple_partial"==n)for(var a=0;a<t.ans.length;a++){var h=t.ans[a];o.value==h&&(o.checked=!1)}else t.value=""}Vk.splice(r,1)}r+=1}}else{var u=[];for(s=0;s<document.getElementsByClassName("q_ans").length;s++){o=document.getElementsByClassName("q_ans")[s];"mcq)"==n||"mcq_multiple)"==n||"mcq_multiple_partial)"==n?1==o.checked&&u.push(o.value):u.push(o.value)}"tts_review"==t&&(u=""),await ag(jp(tA,"tests",i,"responses",eA.currentUser.uid),{[`${e}`]:{ans:u,type:t,time:fg()}});var l=0;for(let e of Vk)e.qid==Hk&&(e.ans=u,e.type=t,l=1);0==l&&Vk.push({qid:Hk,ans:u,type:t})}GM(Hk).classList.remove("tts_notanswer","tts_notvisit","tts_answered","tts_review","tts_ansreview"),GM(Hk).classList.add(t),YM("d")}async function fk(){if(!window.location.hash.includes("attempt"))return ay("Error","Performing Test Operations in Test Reports Is Prohibited"),1;var t=new Date;Kk.push({type:"a",time:t,value:Hk}),Kk.push({type:"end",time:t,value:"1"});var e=window.location.hash.split("#/attempt/")[1];window.onbeforeunload=function(){},window.onhashchange=lA,await ag(jp(tA,"tests",e,"responses",eA.currentUser.uid),{endon:fg(),actions:Kk,warning:[]}).then((function(){Vk=[]})),await ag(jp(tA,"tests",e,"responses","finished"),{finished:pg(eA.currentUser.uid)}).then(uk(0));var i=new Date(1e3*Fk.endon.seconds);GM("te_endtime").innerText=i,Ok=[],Bk=[],Pk=[],Uk=[],Fk=[],zk=[],Hk="",GM("dsh_btn").style.display="block",GM("tp_pnt").style.display="none",clearInterval(ak)}function pk(t){0==t&&ay("WARNING","You Are Currently Offline.")}function mk(){"preview"==GM("un_rendermode").value?(GM("un_preview").style.display="block",GM("un_preview").innerHTML="<h1 style = 'text-align:center'>"+GM("un_title").value+"</h1><br>"+yk("un_editable"),GM("un_edit").style.display="none"):"edit"==GM("un_rendermode").value&&(GM("un_edit").style.display="flex",GM("un_preview").style.display="none");try{GM("uno"+window.location.hash.split("usernotes/")[1]).style.backgroundColor=GM("un_colorpicker").value}catch{}}function gk(){let t=document.querySelector("#rg_mbleno").value,e=document.querySelector("#rg_uname").value,i=document.querySelector("#rg_pass").value,n=document.querySelector("#rg_pass1").value,r=document.querySelector("#rg_name").value,s=document.querySelector("#rg_dob").value,o=document.querySelector("#rg_class").value,a=document.querySelector("#rg_gender").value;if(t&&e&&i&&n&&r&&s&&o&&a){{const r=/^\+91\d{10}$/;if(!t.match(r))return void ay("Warning","Mobile number should be in the format +91XXXXXXXXXX");const s=/^[^\s@]+@[^\s@]+\.[^\s@]+$/;if(!e.match(s))return void ay("Warning","Please enter a valid email address");if(i.length<8)return void ay("Warning","Password should be at least 8 characters long");if(i!==n)return void ay("Warning","Passwords do not match")}ay("Note","By Clicking on 'Accept And Register' you agree that you accept all Terms And Conditions and Privacy Policy of Quarkz!",uA,"Accept And Register")}else ay("Warning","Please fill in all fields")}function vk(){try{window.player.stopVideo(),window.location.hash.includes("topic")||(window.player=void 0)}catch{}}function yk(t){return $("#"+t).summernote("code")}function bk(t,e){$("#"+t).summernote("code",e)}console.warn=function(){},window.log=ay,window.onbeforeunload=function(t){updatePoints()},window.addEventListener("online",(()=>pk(1))),window.addEventListener("offline",(()=>pk(0))),$(document).ready((function(){$(".summernote").summernote({toolbar:[["style",["style"]],["font",["bold","italic","underline","clear"]],["fontname",["fontname"]],["color",["color"]],["para",["ul","ol","paragraph"]],["height",["height"]],["table",["table"]],["insert",["link","picture","hr"]],["view",["fullscreen","codeview"]],["help",["help"]]]}),$("#aq_add_test_instr").summernote({toolbar:[["style",["style"]],["font",["bold","italic","underline","clear"]],["fontname",["fontname"]],["color",["color"]],["para",["ul","ol","paragraph"]],["height",["height"]],["table",["table"]],["insert",["link","picture","hr"]],["view",["fullscreen","codeview"]],["help",["help"]]]})}));var wk,_k,Mk,Ak,kk,Ek,xk={copyright:"Mr Techtroid 2021-23",vno:"v0.6.0",author:"Mr Techtroid","last-updated":"28/05/2023(IST)",serverstatus:"firebase-online"},Sk=window.location.hash.split("#/")[1],Tk={},Ik=0,qk=[],Rk=[],Ck=0,Nk="",Lk=[],Dk=0,Ok=[],Bk=[],Pk=[],Uk=[],Fk=[],jk=0,zk=[],Vk=[],Hk="",Kk=[],Gk=[];window.onhashchange=lA;const Wk=new BroadcastChannel("Quarkz!");let Qk=!0;Wk.postMessage("QZCODE-ASK"),setTimeout((()=>{Qk&&($A(),XM())}),200),Wk.onmessage=t=>{"QZCODE-ASK"===t.data&&Wk.postMessage("QZCODE-NOTFIRST"),"QZCODE-NOTFIRST"===t.data&&(Qk=!1,cA("Quarkz! is Open in Another Tab/Window! You can only use Quarkz! in one tab/window.","","")),"QZCODE-REPORT"==t.data&&async function(){GM("popup_report").addEventListener("click",(async function(){const t=document.querySelectorAll('input[name="problem[]"]:checked'),e=Array.from(t).map((t=>t.value));try{await ug(Fp(tA,"reports"),{id:document.getElementById("report-tag").value,uid:wk.uuid,hash:window.location.hash.split("#/")[1],issue:e.join(", "),comments:document.getElementById("extra_comment").value,type:"report"})}catch{}document.getElementById("msg_popup_report").remove()}))}()};
//# sourceMappingURL=index.2f6c9205.js.map
