function t(t,e,n,i){Object.defineProperty(t,e,{get:n,set:i,enumerable:!0,configurable:!0})}var e="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},n={},i={},r=e.parcelRequire43c0;null==r&&((r=function(t){if(t in n)return n[t].exports;if(t in i){var e=i[t];delete i[t];var r={id:t,exports:{}};return n[t]=r,e.call(r.exports,r,r.exports),r.exports}var s=new Error("Cannot find module '"+t+"'");throw s.code="MODULE_NOT_FOUND",s}).register=function(t,e){i[t]=e},e.parcelRequire43c0=r),r.register("7GYkA",(function(e,n){var i,s,o,a,h,u,l,c,d,f,p,m,g,v,y,b,w,_,M,k,A,E,x,S,T,I,R,C,q,N,L,D,O,B,P,U,F,j,z;t(e.exports,"randomBytes",(()=>i),(t=>i=t)),t(e.exports,"rng",(()=>s),(t=>s=t)),t(e.exports,"pseudoRandomBytes",(()=>o),(t=>o=t)),t(e.exports,"prng",(()=>a),(t=>a=t)),t(e.exports,"createHash",(()=>h),(t=>h=t)),t(e.exports,"Hash",(()=>u),(t=>u=t)),t(e.exports,"createHmac",(()=>l),(t=>l=t)),t(e.exports,"Hmac",(()=>c),(t=>c=t)),t(e.exports,"getHashes",(()=>d),(t=>d=t)),t(e.exports,"pbkdf2",(()=>f),(t=>f=t)),t(e.exports,"pbkdf2Sync",(()=>p),(t=>p=t)),t(e.exports,"Cipher",(()=>m),(t=>m=t)),t(e.exports,"createCipher",(()=>g),(t=>g=t)),t(e.exports,"Cipheriv",(()=>v),(t=>v=t)),t(e.exports,"createCipheriv",(()=>y),(t=>y=t)),t(e.exports,"Decipher",(()=>b),(t=>b=t)),t(e.exports,"createDecipher",(()=>w),(t=>w=t)),t(e.exports,"Decipheriv",(()=>_),(t=>_=t)),t(e.exports,"createDecipheriv",(()=>M),(t=>M=t)),t(e.exports,"getCiphers",(()=>k),(t=>k=t)),t(e.exports,"listCiphers",(()=>A),(t=>A=t)),t(e.exports,"DiffieHellmanGroup",(()=>E),(t=>E=t)),t(e.exports,"createDiffieHellmanGroup",(()=>x),(t=>x=t)),t(e.exports,"getDiffieHellman",(()=>S),(t=>S=t)),t(e.exports,"createDiffieHellman",(()=>T),(t=>T=t)),t(e.exports,"DiffieHellman",(()=>I),(t=>I=t)),t(e.exports,"createSign",(()=>R),(t=>R=t)),t(e.exports,"Sign",(()=>C),(t=>C=t)),t(e.exports,"createVerify",(()=>q),(t=>q=t)),t(e.exports,"Verify",(()=>N),(t=>N=t)),t(e.exports,"createECDH",(()=>L),(t=>L=t)),t(e.exports,"publicEncrypt",(()=>D),(t=>D=t)),t(e.exports,"privateEncrypt",(()=>O),(t=>O=t)),t(e.exports,"publicDecrypt",(()=>B),(t=>B=t)),t(e.exports,"privateDecrypt",(()=>P),(t=>P=t)),t(e.exports,"randomFill",(()=>U),(t=>U=t)),t(e.exports,"randomFillSync",(()=>F),(t=>F=t)),t(e.exports,"createCredentials",(()=>j),(t=>j=t)),t(e.exports,"constants",(()=>z),(t=>z=t)),i=s=o=a=r("bUSoq"),h=u=r("dHvdJ"),l=c=r("arZPn");var V=r("luisd"),H=Object.keys(V),K=["sha1","sha224","sha256","sha384","sha512","md5","rmd160"].concat(H);d=function(){return K};var W=r("ellmV");f=W.pbkdf2,p=W.pbkdf2Sync;var G=r("gfQS5");m=G.Cipher,g=G.createCipher,v=G.Cipheriv,y=G.createCipheriv,b=G.Decipher,w=G.createDecipher,_=G.Decipheriv,M=G.createDecipheriv,k=G.getCiphers,A=G.listCiphers;var $=r("9PCF9");E=$.DiffieHellmanGroup,x=$.createDiffieHellmanGroup,S=$.getDiffieHellman,T=$.createDiffieHellman,I=$.DiffieHellman;var Q=r("2qrhF");R=Q.createSign,C=Q.Sign,q=Q.createVerify,N=Q.Verify,L=r("3ZddE");var X=r("e76V8");D=X.publicEncrypt,O=X.privateEncrypt,B=X.publicDecrypt,P=X.privateDecrypt;var Z=r("30hQH");U=Z.randomFill,F=Z.randomFillSync,j=function(){throw new Error(["sorry, createCredentials is not implemented yet","we accept pull requests","https://github.com/crypto-browserify/crypto-browserify"].join("\n"))},z={DH_CHECK_P_NOT_SAFE_PRIME:2,DH_CHECK_P_NOT_PRIME:1,DH_UNABLE_TO_CHECK_GENERATOR:4,DH_NOT_SUITABLE_GENERATOR:8,NPN_ENABLED:1,ALPN_ENABLED:1,RSA_PKCS1_PADDING:1,RSA_SSLV23_PADDING:2,RSA_NO_PADDING:3,RSA_PKCS1_OAEP_PADDING:4,RSA_X931_PADDING:5,RSA_PKCS1_PSS_PADDING:6,POINT_CONVERSION_COMPRESSED:2,POINT_CONVERSION_UNCOMPRESSED:4,POINT_CONVERSION_HYBRID:6}})),r.register("bUSoq",(function(t,n){var i=r("ajwPf"),s=65536,o=4294967295;var a=r("4OiF0").Buffer,h=e.crypto||e.msCrypto;h&&h.getRandomValues?t.exports=function(t,e){if(t>o)throw new RangeError("requested too many random bytes");var n=a.allocUnsafe(t);if(t>0)if(t>s)for(var r=0;r<t;r+=s)h.getRandomValues(n.slice(r,r+s));else h.getRandomValues(n);return"function"==typeof e?i.nextTick((function(){e(null,n)})):n}:t.exports=function(){throw new Error("Secure random number generation is not supported by this browser.\nUse Chrome, Firefox or Internet Explorer 11")}})),r.register("ajwPf",(function(t,e){var n,i,r=t.exports={};function s(){throw new Error("setTimeout has not been defined")}function o(){throw new Error("clearTimeout has not been defined")}function a(t){if(n===setTimeout)return setTimeout(t,0);if((n===s||!n)&&setTimeout)return n=setTimeout,setTimeout(t,0);try{return n(t,0)}catch(e){try{return n.call(null,t,0)}catch(e){return n.call(this,t,0)}}}!function(){try{n="function"==typeof setTimeout?setTimeout:s}catch(t){n=s}try{i="function"==typeof clearTimeout?clearTimeout:o}catch(t){i=o}}();var h,u=[],l=!1,c=-1;function d(){l&&h&&(l=!1,h.length?u=h.concat(u):c=-1,u.length&&f())}function f(){if(!l){var t=a(d);l=!0;for(var e=u.length;e;){for(h=u,u=[];++c<e;)h&&h[c].run();c=-1,e=u.length}h=null,l=!1,function(t){if(i===clearTimeout)return clearTimeout(t);if((i===o||!i)&&clearTimeout)return i=clearTimeout,clearTimeout(t);try{return i(t)}catch(e){try{return i.call(null,t)}catch(e){return i.call(this,t)}}}(t)}}function p(t,e){this.fun=t,this.array=e}function m(){}r.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)e[n-1]=arguments[n];u.push(new p(t,e)),1!==u.length||l||a(f)},p.prototype.run=function(){this.fun.apply(null,this.array)},r.title="browser",r.browser=!0,r.env={},r.argv=[],r.version="",r.versions={},r.on=m,r.addListener=m,r.once=m,r.off=m,r.removeListener=m,r.removeAllListeners=m,r.emit=m,r.prependListener=m,r.prependOnceListener=m,r.listeners=function(t){return[]},r.binding=function(t){throw new Error("process.binding is not supported")},r.cwd=function(){return"/"},r.chdir=function(t){throw new Error("process.chdir is not supported")},r.umask=function(){return 0}})),r.register("4OiF0",(function(t,e){
/*! safe-buffer. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */
var n=r("8UsMN"),i=n.Buffer;function s(t,e){for(var n in t)e[n]=t[n]}function o(t,e,n){return i(t,e,n)}i.from&&i.alloc&&i.allocUnsafe&&i.allocUnsafeSlow?t.exports=n:(s(n,t.exports),t.exports.Buffer=o),o.prototype=Object.create(i.prototype),s(i,o),o.from=function(t,e,n){if("number"==typeof t)throw new TypeError("Argument must not be a number");return i(t,e,n)},o.alloc=function(t,e,n){if("number"!=typeof t)throw new TypeError("Argument must be a number");var r=i(t);return void 0!==e?"string"==typeof n?r.fill(e,n):r.fill(e):r.fill(0),r},o.allocUnsafe=function(t){if("number"!=typeof t)throw new TypeError("Argument must be a number");return i(t)},o.allocUnsafeSlow=function(t){if("number"!=typeof t)throw new TypeError("Argument must be a number");return n.SlowBuffer(t)}})),r.register("8UsMN",(function(e,n){
/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */var i,s,o,a;t(e.exports,"Buffer",(()=>i),(t=>i=t)),t(e.exports,"SlowBuffer",(()=>s),(t=>s=t)),t(e.exports,"INSPECT_MAX_BYTES",(()=>o),(t=>o=t)),t(e.exports,"kMaxLength",(()=>a),(t=>a=t));var h=r("7E04z"),u=r("7YtfP"),l="function"==typeof Symbol&&"function"==typeof Symbol.for?Symbol.for("nodejs.util.inspect.custom"):null;i=f,s=function(t){+t!=t&&(t=0);return f.alloc(+t)},o=50;var c=2147483647;function d(t){if(t>c)throw new RangeError('The value "'+t+'" is invalid for option "size"');var e=new Uint8Array(t);return Object.setPrototypeOf(e,f.prototype),e}function f(t,e,n){if("number"==typeof t){if("string"==typeof e)throw new TypeError('The "string" argument must be of type string. Received type number');return g(t)}return p(t,e,n)}function p(t,e,n){if("string"==typeof t)return function(t,e){"string"==typeof e&&""!==e||(e="utf8");if(!f.isEncoding(e))throw new TypeError("Unknown encoding: "+e);var n=0|w(t,e),i=d(n),r=i.write(t,e);r!==n&&(i=i.slice(0,r));return i}(t,e);if(ArrayBuffer.isView(t))return function(t){if(W(t,Uint8Array)){var e=new Uint8Array(t);return y(e.buffer,e.byteOffset,e.byteLength)}return v(t)}(t);if(null==t)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof t);if(W(t,ArrayBuffer)||t&&W(t.buffer,ArrayBuffer))return y(t,e,n);if("undefined"!=typeof SharedArrayBuffer&&(W(t,SharedArrayBuffer)||t&&W(t.buffer,SharedArrayBuffer)))return y(t,e,n);if("number"==typeof t)throw new TypeError('The "value" argument must not be of type number. Received type number');var i=t.valueOf&&t.valueOf();if(null!=i&&i!==t)return f.from(i,e,n);var r=function(t){if(f.isBuffer(t)){var e=0|b(t.length),n=d(e);return 0===n.length||t.copy(n,0,0,e),n}if(void 0!==t.length)return"number"!=typeof t.length||G(t.length)?d(0):v(t);if("Buffer"===t.type&&Array.isArray(t.data))return v(t.data)}(t);if(r)return r;if("undefined"!=typeof Symbol&&null!=Symbol.toPrimitive&&"function"==typeof t[Symbol.toPrimitive])return f.from(t[Symbol.toPrimitive]("string"),e,n);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof t)}function m(t){if("number"!=typeof t)throw new TypeError('"size" argument must be of type number');if(t<0)throw new RangeError('The value "'+t+'" is invalid for option "size"')}function g(t){return m(t),d(t<0?0:0|b(t))}function v(t){for(var e=t.length<0?0:0|b(t.length),n=d(e),i=0;i<e;i+=1)n[i]=255&t[i];return n}function y(t,e,n){if(e<0||t.byteLength<e)throw new RangeError('"offset" is outside of buffer bounds');if(t.byteLength<e+(n||0))throw new RangeError('"length" is outside of buffer bounds');var i;return i=void 0===e&&void 0===n?new Uint8Array(t):void 0===n?new Uint8Array(t,e):new Uint8Array(t,e,n),Object.setPrototypeOf(i,f.prototype),i}function b(t){if(t>=c)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+c.toString(16)+" bytes");return 0|t}function w(t,e){if(f.isBuffer(t))return t.length;if(ArrayBuffer.isView(t)||W(t,ArrayBuffer))return t.byteLength;if("string"!=typeof t)throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof t);var n=t.length,i=arguments.length>2&&!0===arguments[2];if(!i&&0===n)return 0;for(var r=!1;;)switch(e){case"ascii":case"latin1":case"binary":return n;case"utf8":case"utf-8":return V(t).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*n;case"hex":return n>>>1;case"base64":return H(t).length;default:if(r)return i?-1:V(t).length;e=(""+e).toLowerCase(),r=!0}}function _(t,e,n){var i=!1;if((void 0===e||e<0)&&(e=0),e>this.length)return"";if((void 0===n||n>this.length)&&(n=this.length),n<=0)return"";if((n>>>=0)<=(e>>>=0))return"";for(t||(t="utf8");;)switch(t){case"hex":return D(this,e,n);case"utf8":case"utf-8":return C(this,e,n);case"ascii":return N(this,e,n);case"latin1":case"binary":return L(this,e,n);case"base64":return R(this,e,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return O(this,e,n);default:if(i)throw new TypeError("Unknown encoding: "+t);t=(t+"").toLowerCase(),i=!0}}function M(t,e,n){var i=t[e];t[e]=t[n],t[n]=i}function k(t,e,n,i,r){if(0===t.length)return-1;if("string"==typeof n?(i=n,n=0):n>2147483647?n=2147483647:n<-2147483648&&(n=-2147483648),G(n=+n)&&(n=r?0:t.length-1),n<0&&(n=t.length+n),n>=t.length){if(r)return-1;n=t.length-1}else if(n<0){if(!r)return-1;n=0}if("string"==typeof e&&(e=f.from(e,i)),f.isBuffer(e))return 0===e.length?-1:A(t,e,n,i,r);if("number"==typeof e)return e&=255,"function"==typeof Uint8Array.prototype.indexOf?r?Uint8Array.prototype.indexOf.call(t,e,n):Uint8Array.prototype.lastIndexOf.call(t,e,n):A(t,[e],n,i,r);throw new TypeError("val must be string, number or Buffer")}function A(t,e,n,i,r){var s,o=1,a=t.length,h=e.length;if(void 0!==i&&("ucs2"===(i=String(i).toLowerCase())||"ucs-2"===i||"utf16le"===i||"utf-16le"===i)){if(t.length<2||e.length<2)return-1;o=2,a/=2,h/=2,n/=2}function u(t,e){return 1===o?t[e]:t.readUInt16BE(e*o)}if(r){var l=-1;for(s=n;s<a;s++)if(u(t,s)===u(e,-1===l?0:s-l)){if(-1===l&&(l=s),s-l+1===h)return l*o}else-1!==l&&(s-=s-l),l=-1}else for(n+h>a&&(n=a-h),s=n;s>=0;s--){for(var c=!0,d=0;d<h;d++)if(u(t,s+d)!==u(e,d)){c=!1;break}if(c)return s}return-1}function E(t,e,n,i){n=Number(n)||0;var r=t.length-n;i?(i=Number(i))>r&&(i=r):i=r;var s=e.length;i>s/2&&(i=s/2);for(var o=0;o<i;++o){var a=parseInt(e.substr(2*o,2),16);if(G(a))return o;t[n+o]=a}return o}function x(t,e,n,i){return K(V(e,t.length-n),t,n,i)}function S(t,e,n,i){return K(function(t){for(var e=[],n=0;n<t.length;++n)e.push(255&t.charCodeAt(n));return e}(e),t,n,i)}function T(t,e,n,i){return K(H(e),t,n,i)}function I(t,e,n,i){return K(function(t,e){for(var n,i,r,s=[],o=0;o<t.length&&!((e-=2)<0);++o)i=(n=t.charCodeAt(o))>>8,r=n%256,s.push(r),s.push(i);return s}(e,t.length-n),t,n,i)}function R(t,e,n){return 0===e&&n===t.length?h.fromByteArray(t):h.fromByteArray(t.slice(e,n))}function C(t,e,n){n=Math.min(t.length,n);for(var i=[],r=e;r<n;){var s,o,a,h,u=t[r],l=null,c=u>239?4:u>223?3:u>191?2:1;if(r+c<=n)switch(c){case 1:u<128&&(l=u);break;case 2:128==(192&(s=t[r+1]))&&(h=(31&u)<<6|63&s)>127&&(l=h);break;case 3:s=t[r+1],o=t[r+2],128==(192&s)&&128==(192&o)&&(h=(15&u)<<12|(63&s)<<6|63&o)>2047&&(h<55296||h>57343)&&(l=h);break;case 4:s=t[r+1],o=t[r+2],a=t[r+3],128==(192&s)&&128==(192&o)&&128==(192&a)&&(h=(15&u)<<18|(63&s)<<12|(63&o)<<6|63&a)>65535&&h<1114112&&(l=h)}null===l?(l=65533,c=1):l>65535&&(l-=65536,i.push(l>>>10&1023|55296),l=56320|1023&l),i.push(l),r+=c}return function(t){var e=t.length;if(e<=q)return String.fromCharCode.apply(String,t);var n="",i=0;for(;i<e;)n+=String.fromCharCode.apply(String,t.slice(i,i+=q));return n}(i)}a=c,f.TYPED_ARRAY_SUPPORT=function(){try{var t=new Uint8Array(1),e={foo:function(){return 42}};return Object.setPrototypeOf(e,Uint8Array.prototype),Object.setPrototypeOf(t,e),42===t.foo()}catch(t){return!1}}(),f.TYPED_ARRAY_SUPPORT||"undefined"==typeof console||"function"!=typeof console.error||console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(f.prototype,"parent",{enumerable:!0,get:function(){if(f.isBuffer(this))return this.buffer}}),Object.defineProperty(f.prototype,"offset",{enumerable:!0,get:function(){if(f.isBuffer(this))return this.byteOffset}}),f.poolSize=8192,f.from=function(t,e,n){return p(t,e,n)},Object.setPrototypeOf(f.prototype,Uint8Array.prototype),Object.setPrototypeOf(f,Uint8Array),f.alloc=function(t,e,n){return function(t,e,n){return m(t),t<=0?d(t):void 0!==e?"string"==typeof n?d(t).fill(e,n):d(t).fill(e):d(t)}(t,e,n)},f.allocUnsafe=function(t){return g(t)},f.allocUnsafeSlow=function(t){return g(t)},f.isBuffer=function(t){return null!=t&&!0===t._isBuffer&&t!==f.prototype},f.compare=function(t,e){if(W(t,Uint8Array)&&(t=f.from(t,t.offset,t.byteLength)),W(e,Uint8Array)&&(e=f.from(e,e.offset,e.byteLength)),!f.isBuffer(t)||!f.isBuffer(e))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(t===e)return 0;for(var n=t.length,i=e.length,r=0,s=Math.min(n,i);r<s;++r)if(t[r]!==e[r]){n=t[r],i=e[r];break}return n<i?-1:i<n?1:0},f.isEncoding=function(t){switch(String(t).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},f.concat=function(t,e){if(!Array.isArray(t))throw new TypeError('"list" argument must be an Array of Buffers');if(0===t.length)return f.alloc(0);var n;if(void 0===e)for(e=0,n=0;n<t.length;++n)e+=t[n].length;var i=f.allocUnsafe(e),r=0;for(n=0;n<t.length;++n){var s=t[n];if(W(s,Uint8Array))r+s.length>i.length?f.from(s).copy(i,r):Uint8Array.prototype.set.call(i,s,r);else{if(!f.isBuffer(s))throw new TypeError('"list" argument must be an Array of Buffers');s.copy(i,r)}r+=s.length}return i},f.byteLength=w,f.prototype._isBuffer=!0,f.prototype.swap16=function(){var t=this.length;if(t%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var e=0;e<t;e+=2)M(this,e,e+1);return this},f.prototype.swap32=function(){var t=this.length;if(t%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var e=0;e<t;e+=4)M(this,e,e+3),M(this,e+1,e+2);return this},f.prototype.swap64=function(){var t=this.length;if(t%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var e=0;e<t;e+=8)M(this,e,e+7),M(this,e+1,e+6),M(this,e+2,e+5),M(this,e+3,e+4);return this},f.prototype.toString=function(){var t=this.length;return 0===t?"":0===arguments.length?C(this,0,t):_.apply(this,arguments)},f.prototype.toLocaleString=f.prototype.toString,f.prototype.equals=function(t){if(!f.isBuffer(t))throw new TypeError("Argument must be a Buffer");return this===t||0===f.compare(this,t)},f.prototype.inspect=function(){var t="",e=o;return t=this.toString("hex",0,e).replace(/(.{2})/g,"$1 ").trim(),this.length>e&&(t+=" ... "),"<Buffer "+t+">"},l&&(f.prototype[l]=f.prototype.inspect),f.prototype.compare=function(t,e,n,i,r){if(W(t,Uint8Array)&&(t=f.from(t,t.offset,t.byteLength)),!f.isBuffer(t))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof t);if(void 0===e&&(e=0),void 0===n&&(n=t?t.length:0),void 0===i&&(i=0),void 0===r&&(r=this.length),e<0||n>t.length||i<0||r>this.length)throw new RangeError("out of range index");if(i>=r&&e>=n)return 0;if(i>=r)return-1;if(e>=n)return 1;if(this===t)return 0;for(var s=(r>>>=0)-(i>>>=0),o=(n>>>=0)-(e>>>=0),a=Math.min(s,o),h=this.slice(i,r),u=t.slice(e,n),l=0;l<a;++l)if(h[l]!==u[l]){s=h[l],o=u[l];break}return s<o?-1:o<s?1:0},f.prototype.includes=function(t,e,n){return-1!==this.indexOf(t,e,n)},f.prototype.indexOf=function(t,e,n){return k(this,t,e,n,!0)},f.prototype.lastIndexOf=function(t,e,n){return k(this,t,e,n,!1)},f.prototype.write=function(t,e,n,i){if(void 0===e)i="utf8",n=this.length,e=0;else if(void 0===n&&"string"==typeof e)i=e,n=this.length,e=0;else{if(!isFinite(e))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");e>>>=0,isFinite(n)?(n>>>=0,void 0===i&&(i="utf8")):(i=n,n=void 0)}var r=this.length-e;if((void 0===n||n>r)&&(n=r),t.length>0&&(n<0||e<0)||e>this.length)throw new RangeError("Attempt to write outside buffer bounds");i||(i="utf8");for(var s=!1;;)switch(i){case"hex":return E(this,t,e,n);case"utf8":case"utf-8":return x(this,t,e,n);case"ascii":case"latin1":case"binary":return S(this,t,e,n);case"base64":return T(this,t,e,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return I(this,t,e,n);default:if(s)throw new TypeError("Unknown encoding: "+i);i=(""+i).toLowerCase(),s=!0}},f.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var q=4096;function N(t,e,n){var i="";n=Math.min(t.length,n);for(var r=e;r<n;++r)i+=String.fromCharCode(127&t[r]);return i}function L(t,e,n){var i="";n=Math.min(t.length,n);for(var r=e;r<n;++r)i+=String.fromCharCode(t[r]);return i}function D(t,e,n){var i=t.length;(!e||e<0)&&(e=0),(!n||n<0||n>i)&&(n=i);for(var r="",s=e;s<n;++s)r+=$[t[s]];return r}function O(t,e,n){for(var i=t.slice(e,n),r="",s=0;s<i.length-1;s+=2)r+=String.fromCharCode(i[s]+256*i[s+1]);return r}function B(t,e,n){if(t%1!=0||t<0)throw new RangeError("offset is not uint");if(t+e>n)throw new RangeError("Trying to access beyond buffer length")}function P(t,e,n,i,r,s){if(!f.isBuffer(t))throw new TypeError('"buffer" argument must be a Buffer instance');if(e>r||e<s)throw new RangeError('"value" argument is out of bounds');if(n+i>t.length)throw new RangeError("Index out of range")}function U(t,e,n,i,r,s){if(n+i>t.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("Index out of range")}function F(t,e,n,i,r){return e=+e,n>>>=0,r||U(t,0,n,4),u.write(t,e,n,i,23,4),n+4}function j(t,e,n,i,r){return e=+e,n>>>=0,r||U(t,0,n,8),u.write(t,e,n,i,52,8),n+8}f.prototype.slice=function(t,e){var n=this.length;(t=~~t)<0?(t+=n)<0&&(t=0):t>n&&(t=n),(e=void 0===e?n:~~e)<0?(e+=n)<0&&(e=0):e>n&&(e=n),e<t&&(e=t);var i=this.subarray(t,e);return Object.setPrototypeOf(i,f.prototype),i},f.prototype.readUintLE=f.prototype.readUIntLE=function(t,e,n){t>>>=0,e>>>=0,n||B(t,e,this.length);for(var i=this[t],r=1,s=0;++s<e&&(r*=256);)i+=this[t+s]*r;return i},f.prototype.readUintBE=f.prototype.readUIntBE=function(t,e,n){t>>>=0,e>>>=0,n||B(t,e,this.length);for(var i=this[t+--e],r=1;e>0&&(r*=256);)i+=this[t+--e]*r;return i},f.prototype.readUint8=f.prototype.readUInt8=function(t,e){return t>>>=0,e||B(t,1,this.length),this[t]},f.prototype.readUint16LE=f.prototype.readUInt16LE=function(t,e){return t>>>=0,e||B(t,2,this.length),this[t]|this[t+1]<<8},f.prototype.readUint16BE=f.prototype.readUInt16BE=function(t,e){return t>>>=0,e||B(t,2,this.length),this[t]<<8|this[t+1]},f.prototype.readUint32LE=f.prototype.readUInt32LE=function(t,e){return t>>>=0,e||B(t,4,this.length),(this[t]|this[t+1]<<8|this[t+2]<<16)+16777216*this[t+3]},f.prototype.readUint32BE=f.prototype.readUInt32BE=function(t,e){return t>>>=0,e||B(t,4,this.length),16777216*this[t]+(this[t+1]<<16|this[t+2]<<8|this[t+3])},f.prototype.readIntLE=function(t,e,n){t>>>=0,e>>>=0,n||B(t,e,this.length);for(var i=this[t],r=1,s=0;++s<e&&(r*=256);)i+=this[t+s]*r;return i>=(r*=128)&&(i-=Math.pow(2,8*e)),i},f.prototype.readIntBE=function(t,e,n){t>>>=0,e>>>=0,n||B(t,e,this.length);for(var i=e,r=1,s=this[t+--i];i>0&&(r*=256);)s+=this[t+--i]*r;return s>=(r*=128)&&(s-=Math.pow(2,8*e)),s},f.prototype.readInt8=function(t,e){return t>>>=0,e||B(t,1,this.length),128&this[t]?-1*(255-this[t]+1):this[t]},f.prototype.readInt16LE=function(t,e){t>>>=0,e||B(t,2,this.length);var n=this[t]|this[t+1]<<8;return 32768&n?4294901760|n:n},f.prototype.readInt16BE=function(t,e){t>>>=0,e||B(t,2,this.length);var n=this[t+1]|this[t]<<8;return 32768&n?4294901760|n:n},f.prototype.readInt32LE=function(t,e){return t>>>=0,e||B(t,4,this.length),this[t]|this[t+1]<<8|this[t+2]<<16|this[t+3]<<24},f.prototype.readInt32BE=function(t,e){return t>>>=0,e||B(t,4,this.length),this[t]<<24|this[t+1]<<16|this[t+2]<<8|this[t+3]},f.prototype.readFloatLE=function(t,e){return t>>>=0,e||B(t,4,this.length),u.read(this,t,!0,23,4)},f.prototype.readFloatBE=function(t,e){return t>>>=0,e||B(t,4,this.length),u.read(this,t,!1,23,4)},f.prototype.readDoubleLE=function(t,e){return t>>>=0,e||B(t,8,this.length),u.read(this,t,!0,52,8)},f.prototype.readDoubleBE=function(t,e){return t>>>=0,e||B(t,8,this.length),u.read(this,t,!1,52,8)},f.prototype.writeUintLE=f.prototype.writeUIntLE=function(t,e,n,i){(t=+t,e>>>=0,n>>>=0,i)||P(this,t,e,n,Math.pow(2,8*n)-1,0);var r=1,s=0;for(this[e]=255&t;++s<n&&(r*=256);)this[e+s]=t/r&255;return e+n},f.prototype.writeUintBE=f.prototype.writeUIntBE=function(t,e,n,i){(t=+t,e>>>=0,n>>>=0,i)||P(this,t,e,n,Math.pow(2,8*n)-1,0);var r=n-1,s=1;for(this[e+r]=255&t;--r>=0&&(s*=256);)this[e+r]=t/s&255;return e+n},f.prototype.writeUint8=f.prototype.writeUInt8=function(t,e,n){return t=+t,e>>>=0,n||P(this,t,e,1,255,0),this[e]=255&t,e+1},f.prototype.writeUint16LE=f.prototype.writeUInt16LE=function(t,e,n){return t=+t,e>>>=0,n||P(this,t,e,2,65535,0),this[e]=255&t,this[e+1]=t>>>8,e+2},f.prototype.writeUint16BE=f.prototype.writeUInt16BE=function(t,e,n){return t=+t,e>>>=0,n||P(this,t,e,2,65535,0),this[e]=t>>>8,this[e+1]=255&t,e+2},f.prototype.writeUint32LE=f.prototype.writeUInt32LE=function(t,e,n){return t=+t,e>>>=0,n||P(this,t,e,4,4294967295,0),this[e+3]=t>>>24,this[e+2]=t>>>16,this[e+1]=t>>>8,this[e]=255&t,e+4},f.prototype.writeUint32BE=f.prototype.writeUInt32BE=function(t,e,n){return t=+t,e>>>=0,n||P(this,t,e,4,4294967295,0),this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t,e+4},f.prototype.writeIntLE=function(t,e,n,i){if(t=+t,e>>>=0,!i){var r=Math.pow(2,8*n-1);P(this,t,e,n,r-1,-r)}var s=0,o=1,a=0;for(this[e]=255&t;++s<n&&(o*=256);)t<0&&0===a&&0!==this[e+s-1]&&(a=1),this[e+s]=(t/o>>0)-a&255;return e+n},f.prototype.writeIntBE=function(t,e,n,i){if(t=+t,e>>>=0,!i){var r=Math.pow(2,8*n-1);P(this,t,e,n,r-1,-r)}var s=n-1,o=1,a=0;for(this[e+s]=255&t;--s>=0&&(o*=256);)t<0&&0===a&&0!==this[e+s+1]&&(a=1),this[e+s]=(t/o>>0)-a&255;return e+n},f.prototype.writeInt8=function(t,e,n){return t=+t,e>>>=0,n||P(this,t,e,1,127,-128),t<0&&(t=255+t+1),this[e]=255&t,e+1},f.prototype.writeInt16LE=function(t,e,n){return t=+t,e>>>=0,n||P(this,t,e,2,32767,-32768),this[e]=255&t,this[e+1]=t>>>8,e+2},f.prototype.writeInt16BE=function(t,e,n){return t=+t,e>>>=0,n||P(this,t,e,2,32767,-32768),this[e]=t>>>8,this[e+1]=255&t,e+2},f.prototype.writeInt32LE=function(t,e,n){return t=+t,e>>>=0,n||P(this,t,e,4,2147483647,-2147483648),this[e]=255&t,this[e+1]=t>>>8,this[e+2]=t>>>16,this[e+3]=t>>>24,e+4},f.prototype.writeInt32BE=function(t,e,n){return t=+t,e>>>=0,n||P(this,t,e,4,2147483647,-2147483648),t<0&&(t=4294967295+t+1),this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t,e+4},f.prototype.writeFloatLE=function(t,e,n){return F(this,t,e,!0,n)},f.prototype.writeFloatBE=function(t,e,n){return F(this,t,e,!1,n)},f.prototype.writeDoubleLE=function(t,e,n){return j(this,t,e,!0,n)},f.prototype.writeDoubleBE=function(t,e,n){return j(this,t,e,!1,n)},f.prototype.copy=function(t,e,n,i){if(!f.isBuffer(t))throw new TypeError("argument should be a Buffer");if(n||(n=0),i||0===i||(i=this.length),e>=t.length&&(e=t.length),e||(e=0),i>0&&i<n&&(i=n),i===n)return 0;if(0===t.length||0===this.length)return 0;if(e<0)throw new RangeError("targetStart out of bounds");if(n<0||n>=this.length)throw new RangeError("Index out of range");if(i<0)throw new RangeError("sourceEnd out of bounds");i>this.length&&(i=this.length),t.length-e<i-n&&(i=t.length-e+n);var r=i-n;return this===t&&"function"==typeof Uint8Array.prototype.copyWithin?this.copyWithin(e,n,i):Uint8Array.prototype.set.call(t,this.subarray(n,i),e),r},f.prototype.fill=function(t,e,n,i){if("string"==typeof t){if("string"==typeof e?(i=e,e=0,n=this.length):"string"==typeof n&&(i=n,n=this.length),void 0!==i&&"string"!=typeof i)throw new TypeError("encoding must be a string");if("string"==typeof i&&!f.isEncoding(i))throw new TypeError("Unknown encoding: "+i);if(1===t.length){var r=t.charCodeAt(0);("utf8"===i&&r<128||"latin1"===i)&&(t=r)}}else"number"==typeof t?t&=255:"boolean"==typeof t&&(t=Number(t));if(e<0||this.length<e||this.length<n)throw new RangeError("Out of range index");if(n<=e)return this;var s;if(e>>>=0,n=void 0===n?this.length:n>>>0,t||(t=0),"number"==typeof t)for(s=e;s<n;++s)this[s]=t;else{var o=f.isBuffer(t)?t:f.from(t,i),a=o.length;if(0===a)throw new TypeError('The value "'+t+'" is invalid for argument "value"');for(s=0;s<n-e;++s)this[s+e]=o[s%a]}return this};var z=/[^+/0-9A-Za-z-_]/g;function V(t,e){var n;e=e||1/0;for(var i=t.length,r=null,s=[],o=0;o<i;++o){if((n=t.charCodeAt(o))>55295&&n<57344){if(!r){if(n>56319){(e-=3)>-1&&s.push(239,191,189);continue}if(o+1===i){(e-=3)>-1&&s.push(239,191,189);continue}r=n;continue}if(n<56320){(e-=3)>-1&&s.push(239,191,189),r=n;continue}n=65536+(r-55296<<10|n-56320)}else r&&(e-=3)>-1&&s.push(239,191,189);if(r=null,n<128){if((e-=1)<0)break;s.push(n)}else if(n<2048){if((e-=2)<0)break;s.push(n>>6|192,63&n|128)}else if(n<65536){if((e-=3)<0)break;s.push(n>>12|224,n>>6&63|128,63&n|128)}else{if(!(n<1114112))throw new Error("Invalid code point");if((e-=4)<0)break;s.push(n>>18|240,n>>12&63|128,n>>6&63|128,63&n|128)}}return s}function H(t){return h.toByteArray(function(t){if((t=(t=t.split("=")[0]).trim().replace(z,"")).length<2)return"";for(;t.length%4!=0;)t+="=";return t}(t))}function K(t,e,n,i){for(var r=0;r<i&&!(r+n>=e.length||r>=t.length);++r)e[r+n]=t[r];return r}function W(t,e){return t instanceof e||null!=t&&null!=t.constructor&&null!=t.constructor.name&&t.constructor.name===e.name}function G(t){return t!=t}var $=function(){for(var t="0123456789abcdef",e=new Array(256),n=0;n<16;++n)for(var i=16*n,r=0;r<16;++r)e[i+r]=t[n]+t[r];return e}()})),r.register("7E04z",(function(e,n){var i,r;t(e.exports,"toByteArray",(()=>i),(t=>i=t)),t(e.exports,"fromByteArray",(()=>r),(t=>r=t)),i=function(t){var e,n,i=c(t),r=i[0],s=i[1],h=new a(function(t,e,n){return 3*(e+n)/4-n}(0,r,s)),u=0,l=s>0?r-4:r;for(n=0;n<l;n+=4)e=o[t.charCodeAt(n)]<<18|o[t.charCodeAt(n+1)]<<12|o[t.charCodeAt(n+2)]<<6|o[t.charCodeAt(n+3)],h[u++]=e>>16&255,h[u++]=e>>8&255,h[u++]=255&e;2===s&&(e=o[t.charCodeAt(n)]<<2|o[t.charCodeAt(n+1)]>>4,h[u++]=255&e);1===s&&(e=o[t.charCodeAt(n)]<<10|o[t.charCodeAt(n+1)]<<4|o[t.charCodeAt(n+2)]>>2,h[u++]=e>>8&255,h[u++]=255&e);return h},r=function(t){for(var e,n=t.length,i=n%3,r=[],o=16383,a=0,h=n-i;a<h;a+=o)r.push(d(t,a,a+o>h?h:a+o));1===i?(e=t[n-1],r.push(s[e>>2]+s[e<<4&63]+"==")):2===i&&(e=(t[n-2]<<8)+t[n-1],r.push(s[e>>10]+s[e>>4&63]+s[e<<2&63]+"="));return r.join("")};for(var s=[],o=[],a="undefined"!=typeof Uint8Array?Uint8Array:Array,h="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",u=0,l=h.length;u<l;++u)s[u]=h[u],o[h.charCodeAt(u)]=u;function c(t){var e=t.length;if(e%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var n=t.indexOf("=");return-1===n&&(n=e),[n,n===e?0:4-n%4]}function d(t,e,n){for(var i,r,o=[],a=e;a<n;a+=3)i=(t[a]<<16&16711680)+(t[a+1]<<8&65280)+(255&t[a+2]),o.push(s[(r=i)>>18&63]+s[r>>12&63]+s[r>>6&63]+s[63&r]);return o.join("")}o["-".charCodeAt(0)]=62,o["_".charCodeAt(0)]=63})),r.register("7YtfP",(function(e,n){
/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */var i,r;t(e.exports,"read",(()=>i),(t=>i=t)),t(e.exports,"write",(()=>r),(t=>r=t)),i=function(t,e,n,i,r){var s,o,a=8*r-i-1,h=(1<<a)-1,u=h>>1,l=-7,c=n?r-1:0,d=n?-1:1,f=t[e+c];for(c+=d,s=f&(1<<-l)-1,f>>=-l,l+=a;l>0;s=256*s+t[e+c],c+=d,l-=8);for(o=s&(1<<-l)-1,s>>=-l,l+=i;l>0;o=256*o+t[e+c],c+=d,l-=8);if(0===s)s=1-u;else{if(s===h)return o?NaN:1/0*(f?-1:1);o+=Math.pow(2,i),s-=u}return(f?-1:1)*o*Math.pow(2,s-i)},r=function(t,e,n,i,r,s){var o,a,h,u=8*s-r-1,l=(1<<u)-1,c=l>>1,d=23===r?Math.pow(2,-24)-Math.pow(2,-77):0,f=i?0:s-1,p=i?1:-1,m=e<0||0===e&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(a=isNaN(e)?1:0,o=l):(o=Math.floor(Math.log(e)/Math.LN2),e*(h=Math.pow(2,-o))<1&&(o--,h*=2),(e+=o+c>=1?d/h:d*Math.pow(2,1-c))*h>=2&&(o++,h/=2),o+c>=l?(a=0,o=l):o+c>=1?(a=(e*h-1)*Math.pow(2,r),o+=c):(a=e*Math.pow(2,c-1)*Math.pow(2,r),o=0));r>=8;t[n+f]=255&a,f+=p,a/=256,r-=8);for(o=o<<r|a,u+=r;u>0;t[n+f]=255&o,f+=p,o/=256,u-=8);t[n+f-p]|=128*m}})),r.register("dHvdJ",(function(t,e){var n=r("bniia"),i=r("eXAjQ"),s=r("1JYNO"),o=r("1eplY"),a=r("7fR9R");function h(t){a.call(this,"digest"),this._hash=t}n(h,a),h.prototype._update=function(t){this._hash.update(t)},h.prototype._final=function(){return this._hash.digest()},t.exports=function(t){return"md5"===(t=t.toLowerCase())?new i:"rmd160"===t||"ripemd160"===t?new s:new h(o(t))}})),r.register("bniia",(function(t,e){"function"==typeof Object.create?t.exports=function(t,e){e&&(t.super_=e,t.prototype=Object.create(e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}))}:t.exports=function(t,e){if(e){t.super_=e;var n=function(){};n.prototype=e.prototype,t.prototype=new n,t.prototype.constructor=t}}})),r.register("eXAjQ",(function(t,e){var n=r("bniia"),i=r("dGPsD"),s=r("4OiF0").Buffer,o=new Array(16);function a(){i.call(this,64),this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878}function h(t,e){return t<<e|t>>>32-e}function u(t,e,n,i,r,s,o){return h(t+(e&n|~e&i)+r+s|0,o)+e|0}function l(t,e,n,i,r,s,o){return h(t+(e&i|n&~i)+r+s|0,o)+e|0}function c(t,e,n,i,r,s,o){return h(t+(e^n^i)+r+s|0,o)+e|0}function d(t,e,n,i,r,s,o){return h(t+(n^(e|~i))+r+s|0,o)+e|0}n(a,i),a.prototype._update=function(){for(var t=o,e=0;e<16;++e)t[e]=this._block.readInt32LE(4*e);var n=this._a,i=this._b,r=this._c,s=this._d;n=u(n,i,r,s,t[0],3614090360,7),s=u(s,n,i,r,t[1],3905402710,12),r=u(r,s,n,i,t[2],606105819,17),i=u(i,r,s,n,t[3],3250441966,22),n=u(n,i,r,s,t[4],4118548399,7),s=u(s,n,i,r,t[5],1200080426,12),r=u(r,s,n,i,t[6],2821735955,17),i=u(i,r,s,n,t[7],4249261313,22),n=u(n,i,r,s,t[8],1770035416,7),s=u(s,n,i,r,t[9],2336552879,12),r=u(r,s,n,i,t[10],4294925233,17),i=u(i,r,s,n,t[11],2304563134,22),n=u(n,i,r,s,t[12],1804603682,7),s=u(s,n,i,r,t[13],4254626195,12),r=u(r,s,n,i,t[14],2792965006,17),n=l(n,i=u(i,r,s,n,t[15],1236535329,22),r,s,t[1],4129170786,5),s=l(s,n,i,r,t[6],3225465664,9),r=l(r,s,n,i,t[11],643717713,14),i=l(i,r,s,n,t[0],3921069994,20),n=l(n,i,r,s,t[5],3593408605,5),s=l(s,n,i,r,t[10],38016083,9),r=l(r,s,n,i,t[15],3634488961,14),i=l(i,r,s,n,t[4],3889429448,20),n=l(n,i,r,s,t[9],568446438,5),s=l(s,n,i,r,t[14],3275163606,9),r=l(r,s,n,i,t[3],4107603335,14),i=l(i,r,s,n,t[8],1163531501,20),n=l(n,i,r,s,t[13],2850285829,5),s=l(s,n,i,r,t[2],4243563512,9),r=l(r,s,n,i,t[7],1735328473,14),n=c(n,i=l(i,r,s,n,t[12],2368359562,20),r,s,t[5],4294588738,4),s=c(s,n,i,r,t[8],2272392833,11),r=c(r,s,n,i,t[11],1839030562,16),i=c(i,r,s,n,t[14],4259657740,23),n=c(n,i,r,s,t[1],2763975236,4),s=c(s,n,i,r,t[4],1272893353,11),r=c(r,s,n,i,t[7],4139469664,16),i=c(i,r,s,n,t[10],3200236656,23),n=c(n,i,r,s,t[13],681279174,4),s=c(s,n,i,r,t[0],3936430074,11),r=c(r,s,n,i,t[3],3572445317,16),i=c(i,r,s,n,t[6],76029189,23),n=c(n,i,r,s,t[9],3654602809,4),s=c(s,n,i,r,t[12],3873151461,11),r=c(r,s,n,i,t[15],530742520,16),n=d(n,i=c(i,r,s,n,t[2],3299628645,23),r,s,t[0],4096336452,6),s=d(s,n,i,r,t[7],1126891415,10),r=d(r,s,n,i,t[14],2878612391,15),i=d(i,r,s,n,t[5],4237533241,21),n=d(n,i,r,s,t[12],1700485571,6),s=d(s,n,i,r,t[3],2399980690,10),r=d(r,s,n,i,t[10],4293915773,15),i=d(i,r,s,n,t[1],2240044497,21),n=d(n,i,r,s,t[8],1873313359,6),s=d(s,n,i,r,t[15],4264355552,10),r=d(r,s,n,i,t[6],2734768916,15),i=d(i,r,s,n,t[13],1309151649,21),n=d(n,i,r,s,t[4],4149444226,6),s=d(s,n,i,r,t[11],3174756917,10),r=d(r,s,n,i,t[2],718787259,15),i=d(i,r,s,n,t[9],3951481745,21),this._a=this._a+n|0,this._b=this._b+i|0,this._c=this._c+r|0,this._d=this._d+s|0},a.prototype._digest=function(){this._block[this._blockOffset++]=128,this._blockOffset>56&&(this._block.fill(0,this._blockOffset,64),this._update(),this._blockOffset=0),this._block.fill(0,this._blockOffset,56),this._block.writeUInt32LE(this._length[0],56),this._block.writeUInt32LE(this._length[1],60),this._update();var t=s.allocUnsafe(16);return t.writeInt32LE(this._a,0),t.writeInt32LE(this._b,4),t.writeInt32LE(this._c,8),t.writeInt32LE(this._d,12),t},t.exports=a})),r.register("dGPsD",(function(t,e){var n=r("4OiF0").Buffer,i=r("95soA").Transform;function s(t){i.call(this),this._block=n.allocUnsafe(t),this._blockSize=t,this._blockOffset=0,this._length=[0,0,0,0],this._finalized=!1}r("bniia")(s,i),s.prototype._transform=function(t,e,n){var i=null;try{this.update(t,e)}catch(t){i=t}n(i)},s.prototype._flush=function(t){var e=null;try{this.push(this.digest())}catch(t){e=t}t(e)},s.prototype.update=function(t,e){if(function(t,e){if(!n.isBuffer(t)&&"string"!=typeof t)throw new TypeError(e+" must be a string or a buffer")}(t,"Data"),this._finalized)throw new Error("Digest already called");n.isBuffer(t)||(t=n.from(t,e));for(var i=this._block,r=0;this._blockOffset+t.length-r>=this._blockSize;){for(var s=this._blockOffset;s<this._blockSize;)i[s++]=t[r++];this._update(),this._blockOffset=0}for(;r<t.length;)i[this._blockOffset++]=t[r++];for(var o=0,a=8*t.length;a>0;++o)this._length[o]+=a,(a=this._length[o]/4294967296|0)>0&&(this._length[o]-=4294967296*a);return this},s.prototype._update=function(){throw new Error("_update is not implemented")},s.prototype.digest=function(t){if(this._finalized)throw new Error("Digest already called");this._finalized=!0;var e=this._digest();void 0!==t&&(e=e.toString(t)),this._block.fill(0),this._blockOffset=0;for(var n=0;n<4;++n)this._length[n]=0;return e},s.prototype._digest=function(){throw new Error("_digest is not implemented")},t.exports=s})),r.register("95soA",(function(t,e){(e=t.exports=r("kNz6F")).Stream=e,e.Readable=e,e.Writable=r("2Fm12"),e.Duplex=r("j8rHA"),e.Transform=r("8ICBy"),e.PassThrough=r("JwlC1"),e.finished=r("ft4HP"),e.pipeline=r("5bCTn")})),r.register("kNz6F",(function(t,n){var i,s=r("ajwPf");t.exports=x,x.ReadableState=E;r("fPnTa").EventEmitter;var o=function(t,e){return t.listeners(e).length},a=r("9WBzb"),h=r("8UsMN").Buffer,u=(void 0!==e?e:"undefined"!=typeof window?window:"undefined"!=typeof self?self:{}).Uint8Array||function(){};var l,c=r("66yC2");l=c&&c.debuglog?c.debuglog("stream"):function(){};var d,f,p,m=r("ixvJs"),g=r("gaKSA"),v=r("cQY7G").getHighWaterMark,y=r("iuexS").codes,b=y.ERR_INVALID_ARG_TYPE,w=y.ERR_STREAM_PUSH_AFTER_EOF,_=y.ERR_METHOD_NOT_IMPLEMENTED,M=y.ERR_STREAM_UNSHIFT_AFTER_END_EVENT;r("bniia")(x,a);var k=g.errorOrDestroy,A=["error","close","destroy","pause","resume"];function E(t,e,n){i=i||r("j8rHA"),t=t||{},"boolean"!=typeof n&&(n=e instanceof i),this.objectMode=!!t.objectMode,n&&(this.objectMode=this.objectMode||!!t.readableObjectMode),this.highWaterMark=v(this,t,"readableHighWaterMark",n),this.buffer=new m,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=!1!==t.emitClose,this.autoDestroy=!!t.autoDestroy,this.destroyed=!1,this.defaultEncoding=t.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,t.encoding&&(d||(d=r("eJDLo").StringDecoder),this.decoder=new d(t.encoding),this.encoding=t.encoding)}function x(t){if(i=i||r("j8rHA"),!(this instanceof x))return new x(t);var e=this instanceof i;this._readableState=new E(t,this,e),this.readable=!0,t&&("function"==typeof t.read&&(this._read=t.read),"function"==typeof t.destroy&&(this._destroy=t.destroy)),a.call(this)}function S(t,e,n,i,r){l("readableAddChunk",e);var s,o=t._readableState;if(null===e)o.reading=!1,function(t,e){if(l("onEofChunk"),e.ended)return;if(e.decoder){var n=e.decoder.end();n&&n.length&&(e.buffer.push(n),e.length+=e.objectMode?1:n.length)}e.ended=!0,e.sync?C(t):(e.needReadable=!1,e.emittedReadable||(e.emittedReadable=!0,q(t)))}(t,o);else if(r||(s=function(t,e){var n;i=e,h.isBuffer(i)||i instanceof u||"string"==typeof e||void 0===e||t.objectMode||(n=new b("chunk",["string","Buffer","Uint8Array"],e));var i;return n}(o,e)),s)k(t,s);else if(o.objectMode||e&&e.length>0)if("string"==typeof e||o.objectMode||Object.getPrototypeOf(e)===h.prototype||(e=function(t){return h.from(t)}(e)),i)o.endEmitted?k(t,new M):T(t,o,e,!0);else if(o.ended)k(t,new w);else{if(o.destroyed)return!1;o.reading=!1,o.decoder&&!n?(e=o.decoder.write(e),o.objectMode||0!==e.length?T(t,o,e,!1):N(t,o)):T(t,o,e,!1)}else i||(o.reading=!1,N(t,o));return!o.ended&&(o.length<o.highWaterMark||0===o.length)}function T(t,e,n,i){e.flowing&&0===e.length&&!e.sync?(e.awaitDrain=0,t.emit("data",n)):(e.length+=e.objectMode?1:n.length,i?e.buffer.unshift(n):e.buffer.push(n),e.needReadable&&C(t)),N(t,e)}Object.defineProperty(x.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._readableState&&this._readableState.destroyed},set:function(t){this._readableState&&(this._readableState.destroyed=t)}}),x.prototype.destroy=g.destroy,x.prototype._undestroy=g.undestroy,x.prototype._destroy=function(t,e){e(t)},x.prototype.push=function(t,e){var n,i=this._readableState;return i.objectMode?n=!0:"string"==typeof t&&((e=e||i.defaultEncoding)!==i.encoding&&(t=h.from(t,e),e=""),n=!0),S(this,t,e,!1,n)},x.prototype.unshift=function(t){return S(this,t,null,!0,!1)},x.prototype.isPaused=function(){return!1===this._readableState.flowing},x.prototype.setEncoding=function(t){d||(d=r("eJDLo").StringDecoder);var e=new d(t);this._readableState.decoder=e,this._readableState.encoding=this._readableState.decoder.encoding;for(var n=this._readableState.buffer.head,i="";null!==n;)i+=e.write(n.data),n=n.next;return this._readableState.buffer.clear(),""!==i&&this._readableState.buffer.push(i),this._readableState.length=i.length,this};var I=1073741824;function R(t,e){return t<=0||0===e.length&&e.ended?0:e.objectMode?1:t!=t?e.flowing&&e.length?e.buffer.head.data.length:e.length:(t>e.highWaterMark&&(e.highWaterMark=function(t){return t>=I?t=I:(t--,t|=t>>>1,t|=t>>>2,t|=t>>>4,t|=t>>>8,t|=t>>>16,t++),t}(t)),t<=e.length?t:e.ended?e.length:(e.needReadable=!0,0))}function C(t){var e=t._readableState;l("emitReadable",e.needReadable,e.emittedReadable),e.needReadable=!1,e.emittedReadable||(l("emitReadable",e.flowing),e.emittedReadable=!0,s.nextTick(q,t))}function q(t){var e=t._readableState;l("emitReadable_",e.destroyed,e.length,e.ended),e.destroyed||!e.length&&!e.ended||(t.emit("readable"),e.emittedReadable=!1),e.needReadable=!e.flowing&&!e.ended&&e.length<=e.highWaterMark,P(t)}function N(t,e){e.readingMore||(e.readingMore=!0,s.nextTick(L,t,e))}function L(t,e){for(;!e.reading&&!e.ended&&(e.length<e.highWaterMark||e.flowing&&0===e.length);){var n=e.length;if(l("maybeReadMore read 0"),t.read(0),n===e.length)break}e.readingMore=!1}function D(t){var e=t._readableState;e.readableListening=t.listenerCount("readable")>0,e.resumeScheduled&&!e.paused?e.flowing=!0:t.listenerCount("data")>0&&t.resume()}function O(t){l("readable nexttick read 0"),t.read(0)}function B(t,e){l("resume",e.reading),e.reading||t.read(0),e.resumeScheduled=!1,t.emit("resume"),P(t),e.flowing&&!e.reading&&t.read(0)}function P(t){var e=t._readableState;for(l("flow",e.flowing);e.flowing&&null!==t.read(););}function U(t,e){return 0===e.length?null:(e.objectMode?n=e.buffer.shift():!t||t>=e.length?(n=e.decoder?e.buffer.join(""):1===e.buffer.length?e.buffer.first():e.buffer.concat(e.length),e.buffer.clear()):n=e.buffer.consume(t,e.decoder),n);var n}function F(t){var e=t._readableState;l("endReadable",e.endEmitted),e.endEmitted||(e.ended=!0,s.nextTick(j,e,t))}function j(t,e){if(l("endReadableNT",t.endEmitted,t.length),!t.endEmitted&&0===t.length&&(t.endEmitted=!0,e.readable=!1,e.emit("end"),t.autoDestroy)){var n=e._writableState;(!n||n.autoDestroy&&n.finished)&&e.destroy()}}function z(t,e){for(var n=0,i=t.length;n<i;n++)if(t[n]===e)return n;return-1}x.prototype.read=function(t){l("read",t),t=parseInt(t,10);var e=this._readableState,n=t;if(0!==t&&(e.emittedReadable=!1),0===t&&e.needReadable&&((0!==e.highWaterMark?e.length>=e.highWaterMark:e.length>0)||e.ended))return l("read: emitReadable",e.length,e.ended),0===e.length&&e.ended?F(this):C(this),null;if(0===(t=R(t,e))&&e.ended)return 0===e.length&&F(this),null;var i,r=e.needReadable;return l("need readable",r),(0===e.length||e.length-t<e.highWaterMark)&&l("length less than watermark",r=!0),e.ended||e.reading?l("reading or ended",r=!1):r&&(l("do read"),e.reading=!0,e.sync=!0,0===e.length&&(e.needReadable=!0),this._read(e.highWaterMark),e.sync=!1,e.reading||(t=R(n,e))),null===(i=t>0?U(t,e):null)?(e.needReadable=e.length<=e.highWaterMark,t=0):(e.length-=t,e.awaitDrain=0),0===e.length&&(e.ended||(e.needReadable=!0),n!==t&&e.ended&&F(this)),null!==i&&this.emit("data",i),i},x.prototype._read=function(t){k(this,new _("_read()"))},x.prototype.pipe=function(t,e){var n=this,i=this._readableState;switch(i.pipesCount){case 0:i.pipes=t;break;case 1:i.pipes=[i.pipes,t];break;default:i.pipes.push(t)}i.pipesCount+=1,l("pipe count=%d opts=%j",i.pipesCount,e);var r=(!e||!1!==e.end)&&t!==s.stdout&&t!==s.stderr?h:g;function a(e,r){l("onunpipe"),e===n&&r&&!1===r.hasUnpiped&&(r.hasUnpiped=!0,l("cleanup"),t.removeListener("close",p),t.removeListener("finish",m),t.removeListener("drain",u),t.removeListener("error",f),t.removeListener("unpipe",a),n.removeListener("end",h),n.removeListener("end",g),n.removeListener("data",d),c=!0,!i.awaitDrain||t._writableState&&!t._writableState.needDrain||u())}function h(){l("onend"),t.end()}i.endEmitted?s.nextTick(r):n.once("end",r),t.on("unpipe",a);var u=function(t){return function(){var e=t._readableState;l("pipeOnDrain",e.awaitDrain),e.awaitDrain&&e.awaitDrain--,0===e.awaitDrain&&o(t,"data")&&(e.flowing=!0,P(t))}}(n);t.on("drain",u);var c=!1;function d(e){l("ondata");var r=t.write(e);l("dest.write",r),!1===r&&((1===i.pipesCount&&i.pipes===t||i.pipesCount>1&&-1!==z(i.pipes,t))&&!c&&(l("false write response, pause",i.awaitDrain),i.awaitDrain++),n.pause())}function f(e){l("onerror",e),g(),t.removeListener("error",f),0===o(t,"error")&&k(t,e)}function p(){t.removeListener("finish",m),g()}function m(){l("onfinish"),t.removeListener("close",p),g()}function g(){l("unpipe"),n.unpipe(t)}return n.on("data",d),function(t,e,n){if("function"==typeof t.prependListener)return t.prependListener(e,n);t._events&&t._events[e]?Array.isArray(t._events[e])?t._events[e].unshift(n):t._events[e]=[n,t._events[e]]:t.on(e,n)}(t,"error",f),t.once("close",p),t.once("finish",m),t.emit("pipe",n),i.flowing||(l("pipe resume"),n.resume()),t},x.prototype.unpipe=function(t){var e=this._readableState,n={hasUnpiped:!1};if(0===e.pipesCount)return this;if(1===e.pipesCount)return t&&t!==e.pipes||(t||(t=e.pipes),e.pipes=null,e.pipesCount=0,e.flowing=!1,t&&t.emit("unpipe",this,n)),this;if(!t){var i=e.pipes,r=e.pipesCount;e.pipes=null,e.pipesCount=0,e.flowing=!1;for(var s=0;s<r;s++)i[s].emit("unpipe",this,{hasUnpiped:!1});return this}var o=z(e.pipes,t);return-1===o||(e.pipes.splice(o,1),e.pipesCount-=1,1===e.pipesCount&&(e.pipes=e.pipes[0]),t.emit("unpipe",this,n)),this},x.prototype.on=function(t,e){var n=a.prototype.on.call(this,t,e),i=this._readableState;return"data"===t?(i.readableListening=this.listenerCount("readable")>0,!1!==i.flowing&&this.resume()):"readable"===t&&(i.endEmitted||i.readableListening||(i.readableListening=i.needReadable=!0,i.flowing=!1,i.emittedReadable=!1,l("on readable",i.length,i.reading),i.length?C(this):i.reading||s.nextTick(O,this))),n},x.prototype.addListener=x.prototype.on,x.prototype.removeListener=function(t,e){var n=a.prototype.removeListener.call(this,t,e);return"readable"===t&&s.nextTick(D,this),n},x.prototype.removeAllListeners=function(t){var e=a.prototype.removeAllListeners.apply(this,arguments);return"readable"!==t&&void 0!==t||s.nextTick(D,this),e},x.prototype.resume=function(){var t=this._readableState;return t.flowing||(l("resume"),t.flowing=!t.readableListening,function(t,e){e.resumeScheduled||(e.resumeScheduled=!0,s.nextTick(B,t,e))}(this,t)),t.paused=!1,this},x.prototype.pause=function(){return l("call pause flowing=%j",this._readableState.flowing),!1!==this._readableState.flowing&&(l("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this},x.prototype.wrap=function(t){var e=this,n=this._readableState,i=!1;for(var r in t.on("end",(function(){if(l("wrapped end"),n.decoder&&!n.ended){var t=n.decoder.end();t&&t.length&&e.push(t)}e.push(null)})),t.on("data",(function(r){(l("wrapped data"),n.decoder&&(r=n.decoder.write(r)),n.objectMode&&null==r)||(n.objectMode||r&&r.length)&&(e.push(r)||(i=!0,t.pause()))})),t)void 0===this[r]&&"function"==typeof t[r]&&(this[r]=function(e){return function(){return t[e].apply(t,arguments)}}(r));for(var s=0;s<A.length;s++)t.on(A[s],this.emit.bind(this,A[s]));return this._read=function(e){l("wrapped _read",e),i&&(i=!1,t.resume())},this},"function"==typeof Symbol&&(x.prototype[Symbol.asyncIterator]=function(){return void 0===f&&(f=r("4uB4B")),f(this)}),Object.defineProperty(x.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),Object.defineProperty(x.prototype,"readableBuffer",{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}}),Object.defineProperty(x.prototype,"readableFlowing",{enumerable:!1,get:function(){return this._readableState.flowing},set:function(t){this._readableState&&(this._readableState.flowing=t)}}),x._fromList=U,Object.defineProperty(x.prototype,"readableLength",{enumerable:!1,get:function(){return this._readableState.length}}),"function"==typeof Symbol&&(x.from=function(t,e){return void 0===p&&(p=r("1jT5T")),p(x,t,e)})})),r.register("fPnTa",(function(t,e){var n,i="object"==typeof Reflect?Reflect:null,r=i&&"function"==typeof i.apply?i.apply:function(t,e,n){return Function.prototype.apply.call(t,e,n)};n=i&&"function"==typeof i.ownKeys?i.ownKeys:Object.getOwnPropertySymbols?function(t){return Object.getOwnPropertyNames(t).concat(Object.getOwnPropertySymbols(t))}:function(t){return Object.getOwnPropertyNames(t)};var s=Number.isNaN||function(t){return t!=t};function o(){o.init.call(this)}t.exports=o,t.exports.once=function(t,e){return new Promise((function(n,i){function r(n){t.removeListener(e,s),i(n)}function s(){"function"==typeof t.removeListener&&t.removeListener("error",r),n([].slice.call(arguments))}g(t,e,s,{once:!0}),"error"!==e&&function(t,e,n){"function"==typeof t.on&&g(t,"error",e,n)}(t,r,{once:!0})}))},o.EventEmitter=o,o.prototype._events=void 0,o.prototype._eventsCount=0,o.prototype._maxListeners=void 0;var a=10;function h(t){if("function"!=typeof t)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof t)}function u(t){return void 0===t._maxListeners?o.defaultMaxListeners:t._maxListeners}function l(t,e,n,i){var r,s,o,a;if(h(n),void 0===(s=t._events)?(s=t._events=Object.create(null),t._eventsCount=0):(void 0!==s.newListener&&(t.emit("newListener",e,n.listener?n.listener:n),s=t._events),o=s[e]),void 0===o)o=s[e]=n,++t._eventsCount;else if("function"==typeof o?o=s[e]=i?[n,o]:[o,n]:i?o.unshift(n):o.push(n),(r=u(t))>0&&o.length>r&&!o.warned){o.warned=!0;var l=new Error("Possible EventEmitter memory leak detected. "+o.length+" "+String(e)+" listeners added. Use emitter.setMaxListeners() to increase limit");l.name="MaxListenersExceededWarning",l.emitter=t,l.type=e,l.count=o.length,a=l,console&&console.warn&&console.warn(a)}return t}function c(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,0===arguments.length?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function d(t,e,n){var i={fired:!1,wrapFn:void 0,target:t,type:e,listener:n},r=c.bind(i);return r.listener=n,i.wrapFn=r,r}function f(t,e,n){var i=t._events;if(void 0===i)return[];var r=i[e];return void 0===r?[]:"function"==typeof r?n?[r.listener||r]:[r]:n?function(t){for(var e=new Array(t.length),n=0;n<e.length;++n)e[n]=t[n].listener||t[n];return e}(r):m(r,r.length)}function p(t){var e=this._events;if(void 0!==e){var n=e[t];if("function"==typeof n)return 1;if(void 0!==n)return n.length}return 0}function m(t,e){for(var n=new Array(e),i=0;i<e;++i)n[i]=t[i];return n}function g(t,e,n,i){if("function"==typeof t.on)i.once?t.once(e,n):t.on(e,n);else{if("function"!=typeof t.addEventListener)throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof t);t.addEventListener(e,(function r(s){i.once&&t.removeEventListener(e,r),n(s)}))}}Object.defineProperty(o,"defaultMaxListeners",{enumerable:!0,get:function(){return a},set:function(t){if("number"!=typeof t||t<0||s(t))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+t+".");a=t}}),o.init=function(){void 0!==this._events&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},o.prototype.setMaxListeners=function(t){if("number"!=typeof t||t<0||s(t))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+t+".");return this._maxListeners=t,this},o.prototype.getMaxListeners=function(){return u(this)},o.prototype.emit=function(t){for(var e=[],n=1;n<arguments.length;n++)e.push(arguments[n]);var i="error"===t,s=this._events;if(void 0!==s)i=i&&void 0===s.error;else if(!i)return!1;if(i){var o;if(e.length>0&&(o=e[0]),o instanceof Error)throw o;var a=new Error("Unhandled error."+(o?" ("+o.message+")":""));throw a.context=o,a}var h=s[t];if(void 0===h)return!1;if("function"==typeof h)r(h,this,e);else{var u=h.length,l=m(h,u);for(n=0;n<u;++n)r(l[n],this,e)}return!0},o.prototype.addListener=function(t,e){return l(this,t,e,!1)},o.prototype.on=o.prototype.addListener,o.prototype.prependListener=function(t,e){return l(this,t,e,!0)},o.prototype.once=function(t,e){return h(e),this.on(t,d(this,t,e)),this},o.prototype.prependOnceListener=function(t,e){return h(e),this.prependListener(t,d(this,t,e)),this},o.prototype.removeListener=function(t,e){var n,i,r,s,o;if(h(e),void 0===(i=this._events))return this;if(void 0===(n=i[t]))return this;if(n===e||n.listener===e)0==--this._eventsCount?this._events=Object.create(null):(delete i[t],i.removeListener&&this.emit("removeListener",t,n.listener||e));else if("function"!=typeof n){for(r=-1,s=n.length-1;s>=0;s--)if(n[s]===e||n[s].listener===e){o=n[s].listener,r=s;break}if(r<0)return this;0===r?n.shift():function(t,e){for(;e+1<t.length;e++)t[e]=t[e+1];t.pop()}(n,r),1===n.length&&(i[t]=n[0]),void 0!==i.removeListener&&this.emit("removeListener",t,o||e)}return this},o.prototype.off=o.prototype.removeListener,o.prototype.removeAllListeners=function(t){var e,n,i;if(void 0===(n=this._events))return this;if(void 0===n.removeListener)return 0===arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==n[t]&&(0==--this._eventsCount?this._events=Object.create(null):delete n[t]),this;if(0===arguments.length){var r,s=Object.keys(n);for(i=0;i<s.length;++i)"removeListener"!==(r=s[i])&&this.removeAllListeners(r);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if("function"==typeof(e=n[t]))this.removeListener(t,e);else if(void 0!==e)for(i=e.length-1;i>=0;i--)this.removeListener(t,e[i]);return this},o.prototype.listeners=function(t){return f(this,t,!0)},o.prototype.rawListeners=function(t){return f(this,t,!1)},o.listenerCount=function(t,e){return"function"==typeof t.listenerCount?t.listenerCount(e):p.call(t,e)},o.prototype.listenerCount=p,o.prototype.eventNames=function(){return this._eventsCount>0?n(this._events):[]}})),r.register("9WBzb",(function(t,e){t.exports=r("fPnTa").EventEmitter})),r.register("66yC2",(function(t,e){})),r.register("ixvJs",(function(t,e){function n(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,i)}return n}function i(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?n(Object(i),!0).forEach((function(e){s(t,e,i[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):n(Object(i)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))}))}return t}function s(t,e,n){return(e=a(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function o(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,a(i.key),i)}}function a(t){var e=function(t,e){if("object"!=typeof t||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var i=n.call(t,e||"default");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==typeof e?e:String(e)}var h=r("8UsMN").Buffer,u=r("66yC2").inspect,l=u&&u.custom||"inspect";t.exports=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.head=null,this.tail=null,this.length=0}var e,n,r;return e=t,(n=[{key:"push",value:function(t){var e={data:t,next:null};this.length>0?this.tail.next=e:this.head=e,this.tail=e,++this.length}},{key:"unshift",value:function(t){var e={data:t,next:this.head};0===this.length&&(this.tail=e),this.head=e,++this.length}},{key:"shift",value:function(){if(0!==this.length){var t=this.head.data;return 1===this.length?this.head=this.tail=null:this.head=this.head.next,--this.length,t}}},{key:"clear",value:function(){this.head=this.tail=null,this.length=0}},{key:"join",value:function(t){if(0===this.length)return"";for(var e=this.head,n=""+e.data;e=e.next;)n+=t+e.data;return n}},{key:"concat",value:function(t){if(0===this.length)return h.alloc(0);for(var e,n,i,r=h.allocUnsafe(t>>>0),s=this.head,o=0;s;)e=s.data,n=r,i=o,h.prototype.copy.call(e,n,i),o+=s.data.length,s=s.next;return r}},{key:"consume",value:function(t,e){var n;return t<this.head.data.length?(n=this.head.data.slice(0,t),this.head.data=this.head.data.slice(t)):n=t===this.head.data.length?this.shift():e?this._getString(t):this._getBuffer(t),n}},{key:"first",value:function(){return this.head.data}},{key:"_getString",value:function(t){var e=this.head,n=1,i=e.data;for(t-=i.length;e=e.next;){var r=e.data,s=t>r.length?r.length:t;if(s===r.length?i+=r:i+=r.slice(0,t),0==(t-=s)){s===r.length?(++n,e.next?this.head=e.next:this.head=this.tail=null):(this.head=e,e.data=r.slice(s));break}++n}return this.length-=n,i}},{key:"_getBuffer",value:function(t){var e=h.allocUnsafe(t),n=this.head,i=1;for(n.data.copy(e),t-=n.data.length;n=n.next;){var r=n.data,s=t>r.length?r.length:t;if(r.copy(e,e.length-t,0,s),0==(t-=s)){s===r.length?(++i,n.next?this.head=n.next:this.head=this.tail=null):(this.head=n,n.data=r.slice(s));break}++i}return this.length-=i,e}},{key:l,value:function(t,e){return u(this,i(i({},e),{},{depth:0,customInspect:!1}))}}])&&o(e.prototype,n),r&&o(e,r),Object.defineProperty(e,"prototype",{writable:!1}),t}()})),r.register("gaKSA",(function(t,e){var n=r("ajwPf");function i(t,e){o(t,e),s(t)}function s(t){t._writableState&&!t._writableState.emitClose||t._readableState&&!t._readableState.emitClose||t.emit("close")}function o(t,e){t.emit("error",e)}t.exports={destroy:function(t,e){var r=this,a=this._readableState&&this._readableState.destroyed,h=this._writableState&&this._writableState.destroyed;return a||h?(e?e(t):t&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,n.nextTick(o,this,t)):n.nextTick(o,this,t)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(t||null,(function(t){!e&&t?r._writableState?r._writableState.errorEmitted?n.nextTick(s,r):(r._writableState.errorEmitted=!0,n.nextTick(i,r,t)):n.nextTick(i,r,t):e?(n.nextTick(s,r),e(t)):n.nextTick(s,r)})),this)},undestroy:function(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)},errorOrDestroy:function(t,e){var n=t._readableState,i=t._writableState;n&&n.autoDestroy||i&&i.autoDestroy?t.destroy(e):t.emit("error",e)}}})),r.register("cQY7G",(function(t,e){var n=r("iuexS").codes.ERR_INVALID_OPT_VALUE;t.exports={getHighWaterMark:function(t,e,i,r){var s=function(t,e,n){return null!=t.highWaterMark?t.highWaterMark:e?t[n]:null}(e,r,i);if(null!=s){if(!isFinite(s)||Math.floor(s)!==s||s<0)throw new n(r?i:"highWaterMark",s);return Math.floor(s)}return t.objectMode?16:16384}}})),r.register("iuexS",(function(e,n){var i;t(e.exports,"codes",(()=>i),(t=>i=t));var r={};function s(t,e,n){n||(n=Error);var i=function(t){var n,i;function r(n,i,r){return t.call(this,function(t,n,i){return"string"==typeof e?e:e(t,n,i)}(n,i,r))||this}return i=t,(n=r).prototype=Object.create(i.prototype),n.prototype.constructor=n,n.__proto__=i,r}(n);i.prototype.name=n.name,i.prototype.code=t,r[t]=i}function o(t,e){if(Array.isArray(t)){var n=t.length;return t=t.map((function(t){return String(t)})),n>2?"one of ".concat(e," ").concat(t.slice(0,n-1).join(", "),", or ")+t[n-1]:2===n?"one of ".concat(e," ").concat(t[0]," or ").concat(t[1]):"of ".concat(e," ").concat(t[0])}return"of ".concat(e," ").concat(String(t))}s("ERR_INVALID_OPT_VALUE",(function(t,e){return'The value "'+e+'" is invalid for option "'+t+'"'}),TypeError),s("ERR_INVALID_ARG_TYPE",(function(t,e,n){var i,r,s,a;if("string"==typeof e&&(r="not ",e.substr(!s||s<0?0:+s,r.length)===r)?(i="must not be",e=e.replace(/^not /,"")):i="must be",function(t,e,n){return(void 0===n||n>t.length)&&(n=t.length),t.substring(n-e.length,n)===e}(t," argument"))a="The ".concat(t," ").concat(i," ").concat(o(e,"type"));else{var h=function(t,e,n){return"number"!=typeof n&&(n=0),!(n+e.length>t.length)&&-1!==t.indexOf(e,n)}(t,".")?"property":"argument";a='The "'.concat(t,'" ').concat(h," ").concat(i," ").concat(o(e,"type"))}return a+=". Received type ".concat(typeof n)}),TypeError),s("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF"),s("ERR_METHOD_NOT_IMPLEMENTED",(function(t){return"The "+t+" method is not implemented"})),s("ERR_STREAM_PREMATURE_CLOSE","Premature close"),s("ERR_STREAM_DESTROYED",(function(t){return"Cannot call "+t+" after a stream was destroyed"})),s("ERR_MULTIPLE_CALLBACK","Callback called multiple times"),s("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable"),s("ERR_STREAM_WRITE_AFTER_END","write after end"),s("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),s("ERR_UNKNOWN_ENCODING",(function(t){return"Unknown encoding: "+t}),TypeError),s("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event"),i=r})),r.register("j8rHA",(function(t,e){var n=r("ajwPf"),i=Object.keys||function(t){var e=[];for(var n in t)e.push(n);return e};t.exports=l;var s=r("kNz6F"),o=r("2Fm12");r("bniia")(l,s);for(var a=i(o.prototype),h=0;h<a.length;h++){var u=a[h];l.prototype[u]||(l.prototype[u]=o.prototype[u])}function l(t){if(!(this instanceof l))return new l(t);s.call(this,t),o.call(this,t),this.allowHalfOpen=!0,t&&(!1===t.readable&&(this.readable=!1),!1===t.writable&&(this.writable=!1),!1===t.allowHalfOpen&&(this.allowHalfOpen=!1,this.once("end",c)))}function c(){this._writableState.ended||n.nextTick(d,this)}function d(t){t.end()}Object.defineProperty(l.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(l.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(l.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(l.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed&&this._writableState.destroyed)},set:function(t){void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed=t,this._writableState.destroyed=t)}})})),r.register("2Fm12",(function(t,n){var i,s=r("ajwPf");function o(t){var e=this;this.next=null,this.entry=null,this.finish=function(){!function(t,e,n){var i=t.entry;t.entry=null;for(;i;){var r=i.callback;e.pendingcb--,r(n),i=i.next}e.corkedRequestsFree.next=t}(e,t)}}t.exports=x,x.WritableState=E;var a={deprecate:r("f2W2v")},h=r("9WBzb"),u=r("8UsMN").Buffer,l=(void 0!==e?e:"undefined"!=typeof window?window:"undefined"!=typeof self?self:{}).Uint8Array||function(){};var c,d=r("gaKSA"),f=r("cQY7G").getHighWaterMark,p=r("iuexS").codes,m=p.ERR_INVALID_ARG_TYPE,g=p.ERR_METHOD_NOT_IMPLEMENTED,v=p.ERR_MULTIPLE_CALLBACK,y=p.ERR_STREAM_CANNOT_PIPE,b=p.ERR_STREAM_DESTROYED,w=p.ERR_STREAM_NULL_VALUES,_=p.ERR_STREAM_WRITE_AFTER_END,M=p.ERR_UNKNOWN_ENCODING,k=d.errorOrDestroy;function A(){}function E(t,e,n){i=i||r("j8rHA"),t=t||{},"boolean"!=typeof n&&(n=e instanceof i),this.objectMode=!!t.objectMode,n&&(this.objectMode=this.objectMode||!!t.writableObjectMode),this.highWaterMark=f(this,t,"writableHighWaterMark",n),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var a=!1===t.decodeStrings;this.decodeStrings=!a,this.defaultEncoding=t.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(t){!function(t,e){var n=t._writableState,i=n.sync,r=n.writecb;if("function"!=typeof r)throw new v;if(function(t){t.writing=!1,t.writecb=null,t.length-=t.writelen,t.writelen=0}(n),e)!function(t,e,n,i,r){--e.pendingcb,n?(s.nextTick(r,i),s.nextTick(q,t,e),t._writableState.errorEmitted=!0,k(t,i)):(r(i),t._writableState.errorEmitted=!0,k(t,i),q(t,e))}(t,n,i,e,r);else{var o=R(n)||t.destroyed;o||n.corked||n.bufferProcessing||!n.bufferedRequest||I(t,n),i?s.nextTick(T,t,n,o,r):T(t,n,o,r)}}(e,t)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=!1!==t.emitClose,this.autoDestroy=!!t.autoDestroy,this.bufferedRequestCount=0,this.corkedRequestsFree=new o(this)}function x(t){var e=this instanceof(i=i||r("j8rHA"));if(!e&&!c.call(x,this))return new x(t);this._writableState=new E(t,this,e),this.writable=!0,t&&("function"==typeof t.write&&(this._write=t.write),"function"==typeof t.writev&&(this._writev=t.writev),"function"==typeof t.destroy&&(this._destroy=t.destroy),"function"==typeof t.final&&(this._final=t.final)),h.call(this)}function S(t,e,n,i,r,s,o){e.writelen=i,e.writecb=o,e.writing=!0,e.sync=!0,e.destroyed?e.onwrite(new b("write")):n?t._writev(r,e.onwrite):t._write(r,s,e.onwrite),e.sync=!1}function T(t,e,n,i){n||function(t,e){0===e.length&&e.needDrain&&(e.needDrain=!1,t.emit("drain"))}(t,e),e.pendingcb--,i(),q(t,e)}function I(t,e){e.bufferProcessing=!0;var n=e.bufferedRequest;if(t._writev&&n&&n.next){var i=e.bufferedRequestCount,r=new Array(i),s=e.corkedRequestsFree;s.entry=n;for(var a=0,h=!0;n;)r[a]=n,n.isBuf||(h=!1),n=n.next,a+=1;r.allBuffers=h,S(t,e,!0,e.length,r,"",s.finish),e.pendingcb++,e.lastBufferedRequest=null,s.next?(e.corkedRequestsFree=s.next,s.next=null):e.corkedRequestsFree=new o(e),e.bufferedRequestCount=0}else{for(;n;){var u=n.chunk,l=n.encoding,c=n.callback;if(S(t,e,!1,e.objectMode?1:u.length,u,l,c),n=n.next,e.bufferedRequestCount--,e.writing)break}null===n&&(e.lastBufferedRequest=null)}e.bufferedRequest=n,e.bufferProcessing=!1}function R(t){return t.ending&&0===t.length&&null===t.bufferedRequest&&!t.finished&&!t.writing}function C(t,e){t._final((function(n){e.pendingcb--,n&&k(t,n),e.prefinished=!0,t.emit("prefinish"),q(t,e)}))}function q(t,e){var n=R(e);if(n&&(function(t,e){e.prefinished||e.finalCalled||("function"!=typeof t._final||e.destroyed?(e.prefinished=!0,t.emit("prefinish")):(e.pendingcb++,e.finalCalled=!0,s.nextTick(C,t,e)))}(t,e),0===e.pendingcb&&(e.finished=!0,t.emit("finish"),e.autoDestroy))){var i=t._readableState;(!i||i.autoDestroy&&i.endEmitted)&&t.destroy()}return n}r("bniia")(x,h),E.prototype.getBuffer=function(){for(var t=this.bufferedRequest,e=[];t;)e.push(t),t=t.next;return e},function(){try{Object.defineProperty(E.prototype,"buffer",{get:a.deprecate((function(){return this.getBuffer()}),"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch(t){}}(),"function"==typeof Symbol&&Symbol.hasInstance&&"function"==typeof Function.prototype[Symbol.hasInstance]?(c=Function.prototype[Symbol.hasInstance],Object.defineProperty(x,Symbol.hasInstance,{value:function(t){return!!c.call(this,t)||this===x&&(t&&t._writableState instanceof E)}})):c=function(t){return t instanceof this},x.prototype.pipe=function(){k(this,new y)},x.prototype.write=function(t,e,n){var i,r=this._writableState,o=!1,a=!r.objectMode&&(i=t,u.isBuffer(i)||i instanceof l);return a&&!u.isBuffer(t)&&(t=function(t){return u.from(t)}(t)),"function"==typeof e&&(n=e,e=null),a?e="buffer":e||(e=r.defaultEncoding),"function"!=typeof n&&(n=A),r.ending?function(t,e){var n=new _;k(t,n),s.nextTick(e,n)}(this,n):(a||function(t,e,n,i){var r;return null===n?r=new w:"string"==typeof n||e.objectMode||(r=new m("chunk",["string","Buffer"],n)),!r||(k(t,r),s.nextTick(i,r),!1)}(this,r,t,n))&&(r.pendingcb++,o=function(t,e,n,i,r,s){if(!n){var o=function(t,e,n){t.objectMode||!1===t.decodeStrings||"string"!=typeof e||(e=u.from(e,n));return e}(e,i,r);i!==o&&(n=!0,r="buffer",i=o)}var a=e.objectMode?1:i.length;e.length+=a;var h=e.length<e.highWaterMark;h||(e.needDrain=!0);if(e.writing||e.corked){var l=e.lastBufferedRequest;e.lastBufferedRequest={chunk:i,encoding:r,isBuf:n,callback:s,next:null},l?l.next=e.lastBufferedRequest:e.bufferedRequest=e.lastBufferedRequest,e.bufferedRequestCount+=1}else S(t,e,!1,a,i,r,s);return h}(this,r,a,t,e,n)),o},x.prototype.cork=function(){this._writableState.corked++},x.prototype.uncork=function(){var t=this._writableState;t.corked&&(t.corked--,t.writing||t.corked||t.bufferProcessing||!t.bufferedRequest||I(this,t))},x.prototype.setDefaultEncoding=function(t){if("string"==typeof t&&(t=t.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((t+"").toLowerCase())>-1))throw new M(t);return this._writableState.defaultEncoding=t,this},Object.defineProperty(x.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(x.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),x.prototype._write=function(t,e,n){n(new g("_write()"))},x.prototype._writev=null,x.prototype.end=function(t,e,n){var i=this._writableState;return"function"==typeof t?(n=t,t=null,e=null):"function"==typeof e&&(n=e,e=null),null!=t&&this.write(t,e),i.corked&&(i.corked=1,this.uncork()),i.ending||function(t,e,n){e.ending=!0,q(t,e),n&&(e.finished?s.nextTick(n):t.once("finish",n));e.ended=!0,t.writable=!1}(this,i,n),this},Object.defineProperty(x.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(x.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._writableState&&this._writableState.destroyed},set:function(t){this._writableState&&(this._writableState.destroyed=t)}}),x.prototype.destroy=d.destroy,x.prototype._undestroy=d.undestroy,x.prototype._destroy=function(t,e){e(t)}})),r.register("f2W2v",(function(t,n){function i(t){try{if(!e.localStorage)return!1}catch(t){return!1}var n=e.localStorage[t];return null!=n&&"true"===String(n).toLowerCase()}t.exports=function(t,e){if(i("noDeprecation"))return t;var n=!1;return function(){if(!n){if(i("throwDeprecation"))throw new Error(e);i("traceDeprecation")?console.trace(e):console.warn(e),n=!0}return t.apply(this,arguments)}}})),r.register("eJDLo",(function(e,n){var i;t(e.exports,"StringDecoder",(()=>i),(t=>i=t));var s=r("4OiF0").Buffer,o=s.isEncoding||function(t){switch((t=""+t)&&t.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function a(t){var e;switch(this.encoding=function(t){var e=function(t){if(!t)return"utf8";for(var e;;)switch(t){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return t;default:if(e)return;t=(""+t).toLowerCase(),e=!0}}(t);if("string"!=typeof e&&(s.isEncoding===o||!o(t)))throw new Error("Unknown encoding: "+t);return e||t}(t),this.encoding){case"utf16le":this.text=l,this.end=c,e=4;break;case"utf8":this.fillLast=u,e=4;break;case"base64":this.text=d,this.end=f,e=3;break;default:return this.write=p,void(this.end=m)}this.lastNeed=0,this.lastTotal=0,this.lastChar=s.allocUnsafe(e)}function h(t){return t<=127?0:t>>5==6?2:t>>4==14?3:t>>3==30?4:t>>6==2?-1:-2}function u(t){var e=this.lastTotal-this.lastNeed,n=function(t,e,n){if(128!=(192&e[0]))return t.lastNeed=0,"�";if(t.lastNeed>1&&e.length>1){if(128!=(192&e[1]))return t.lastNeed=1,"�";if(t.lastNeed>2&&e.length>2&&128!=(192&e[2]))return t.lastNeed=2,"�"}}(this,t);return void 0!==n?n:this.lastNeed<=t.length?(t.copy(this.lastChar,e,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal)):(t.copy(this.lastChar,e,0,t.length),void(this.lastNeed-=t.length))}function l(t,e){if((t.length-e)%2==0){var n=t.toString("utf16le",e);if(n){var i=n.charCodeAt(n.length-1);if(i>=55296&&i<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=t[t.length-2],this.lastChar[1]=t[t.length-1],n.slice(0,-1)}return n}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=t[t.length-1],t.toString("utf16le",e,t.length-1)}function c(t){var e=t&&t.length?this.write(t):"";if(this.lastNeed){var n=this.lastTotal-this.lastNeed;return e+this.lastChar.toString("utf16le",0,n)}return e}function d(t,e){var n=(t.length-e)%3;return 0===n?t.toString("base64",e):(this.lastNeed=3-n,this.lastTotal=3,1===n?this.lastChar[0]=t[t.length-1]:(this.lastChar[0]=t[t.length-2],this.lastChar[1]=t[t.length-1]),t.toString("base64",e,t.length-n))}function f(t){var e=t&&t.length?this.write(t):"";return this.lastNeed?e+this.lastChar.toString("base64",0,3-this.lastNeed):e}function p(t){return t.toString(this.encoding)}function m(t){return t&&t.length?this.write(t):""}i=a,a.prototype.write=function(t){if(0===t.length)return"";var e,n;if(this.lastNeed){if(void 0===(e=this.fillLast(t)))return"";n=this.lastNeed,this.lastNeed=0}else n=0;return n<t.length?e?e+this.text(t,n):this.text(t,n):e||""},a.prototype.end=function(t){var e=t&&t.length?this.write(t):"";return this.lastNeed?e+"�":e},a.prototype.text=function(t,e){var n=function(t,e,n){var i=e.length-1;if(i<n)return 0;var r=h(e[i]);if(r>=0)return r>0&&(t.lastNeed=r-1),r;if(--i<n||-2===r)return 0;if(r=h(e[i]),r>=0)return r>0&&(t.lastNeed=r-2),r;if(--i<n||-2===r)return 0;if(r=h(e[i]),r>=0)return r>0&&(2===r?r=0:t.lastNeed=r-3),r;return 0}(this,t,e);if(!this.lastNeed)return t.toString("utf8",e);this.lastTotal=n;var i=t.length-(n-this.lastNeed);return t.copy(this.lastChar,0,i),t.toString("utf8",e,i)},a.prototype.fillLast=function(t){if(this.lastNeed<=t.length)return t.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);t.copy(this.lastChar,this.lastTotal-this.lastNeed,0,t.length),this.lastNeed-=t.length}})),r.register("4uB4B",(function(t,e){var n,i=r("ajwPf");function s(t,e,n){return(e=function(t){var e=function(t,e){if("object"!=typeof t||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var i=n.call(t,e||"default");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==typeof e?e:String(e)}(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var o=r("ft4HP"),a=Symbol("lastResolve"),h=Symbol("lastReject"),u=Symbol("error"),l=Symbol("ended"),c=Symbol("lastPromise"),d=Symbol("handlePromise"),f=Symbol("stream");function p(t,e){return{value:t,done:e}}function m(t){var e=t[a];if(null!==e){var n=t[f].read();null!==n&&(t[c]=null,t[a]=null,t[h]=null,e(p(n,!1)))}}function g(t){i.nextTick(m,t)}var v=Object.getPrototypeOf((function(){})),y=Object.setPrototypeOf((s(n={get stream(){return this[f]},next:function(){var t=this,e=this[u];if(null!==e)return Promise.reject(e);if(this[l])return Promise.resolve(p(void 0,!0));if(this[f].destroyed)return new Promise((function(e,n){i.nextTick((function(){t[u]?n(t[u]):e(p(void 0,!0))}))}));var n,r=this[c];if(r)n=new Promise(function(t,e){return function(n,i){t.then((function(){e[l]?n(p(void 0,!0)):e[d](n,i)}),i)}}(r,this));else{var s=this[f].read();if(null!==s)return Promise.resolve(p(s,!1));n=new Promise(this[d])}return this[c]=n,n}},Symbol.asyncIterator,(function(){return this})),s(n,"return",(function(){var t=this;return new Promise((function(e,n){t[f].destroy(null,(function(t){t?n(t):e(p(void 0,!0))}))}))})),n),v);t.exports=function(t){var e,n=Object.create(y,(s(e={},f,{value:t,writable:!0}),s(e,a,{value:null,writable:!0}),s(e,h,{value:null,writable:!0}),s(e,u,{value:null,writable:!0}),s(e,l,{value:t._readableState.endEmitted,writable:!0}),s(e,d,{value:function(t,e){var i=n[f].read();i?(n[c]=null,n[a]=null,n[h]=null,t(p(i,!1))):(n[a]=t,n[h]=e)},writable:!0}),e));return n[c]=null,o(t,(function(t){if(t&&"ERR_STREAM_PREMATURE_CLOSE"!==t.code){var e=n[h];return null!==e&&(n[c]=null,n[a]=null,n[h]=null,e(t)),void(n[u]=t)}var i=n[a];null!==i&&(n[c]=null,n[a]=null,n[h]=null,i(p(void 0,!0))),n[l]=!0})),t.on("readable",g.bind(null,n)),n}})),r.register("ft4HP",(function(t,e){var n=r("iuexS").codes.ERR_STREAM_PREMATURE_CLOSE;function i(){}t.exports=function t(e,r,s){if("function"==typeof r)return t(e,null,r);r||(r={}),s=function(t){var e=!1;return function(){if(!e){e=!0;for(var n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];t.apply(this,i)}}}(s||i);var o=r.readable||!1!==r.readable&&e.readable,a=r.writable||!1!==r.writable&&e.writable,h=function(){e.writable||l()},u=e._writableState&&e._writableState.finished,l=function(){a=!1,u=!0,o||s.call(e)},c=e._readableState&&e._readableState.endEmitted,d=function(){o=!1,c=!0,a||s.call(e)},f=function(t){s.call(e,t)},p=function(){var t;return o&&!c?(e._readableState&&e._readableState.ended||(t=new n),s.call(e,t)):a&&!u?(e._writableState&&e._writableState.ended||(t=new n),s.call(e,t)):void 0},m=function(){e.req.on("finish",l)};return!function(t){return t.setHeader&&"function"==typeof t.abort}(e)?a&&!e._writableState&&(e.on("end",h),e.on("close",h)):(e.on("complete",l),e.on("abort",p),e.req?m():e.on("request",m)),e.on("end",d),e.on("finish",l),!1!==r.error&&e.on("error",f),e.on("close",p),function(){e.removeListener("complete",l),e.removeListener("abort",p),e.removeListener("request",m),e.req&&e.req.removeListener("finish",l),e.removeListener("end",h),e.removeListener("close",h),e.removeListener("finish",l),e.removeListener("end",d),e.removeListener("error",f),e.removeListener("close",p)}}})),r.register("1jT5T",(function(t,e){t.exports=function(){throw new Error("Readable.from is not available in the browser")}})),r.register("8ICBy",(function(t,e){t.exports=l;var n=r("iuexS").codes,i=n.ERR_METHOD_NOT_IMPLEMENTED,s=n.ERR_MULTIPLE_CALLBACK,o=n.ERR_TRANSFORM_ALREADY_TRANSFORMING,a=n.ERR_TRANSFORM_WITH_LENGTH_0,h=r("j8rHA");function u(t,e){var n=this._transformState;n.transforming=!1;var i=n.writecb;if(null===i)return this.emit("error",new s);n.writechunk=null,n.writecb=null,null!=e&&this.push(e),i(t);var r=this._readableState;r.reading=!1,(r.needReadable||r.length<r.highWaterMark)&&this._read(r.highWaterMark)}function l(t){if(!(this instanceof l))return new l(t);h.call(this,t),this._transformState={afterTransform:u.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,t&&("function"==typeof t.transform&&(this._transform=t.transform),"function"==typeof t.flush&&(this._flush=t.flush)),this.on("prefinish",c)}function c(){var t=this;"function"!=typeof this._flush||this._readableState.destroyed?d(this,null,null):this._flush((function(e,n){d(t,e,n)}))}function d(t,e,n){if(e)return t.emit("error",e);if(null!=n&&t.push(n),t._writableState.length)throw new a;if(t._transformState.transforming)throw new o;return t.push(null)}r("bniia")(l,h),l.prototype.push=function(t,e){return this._transformState.needTransform=!1,h.prototype.push.call(this,t,e)},l.prototype._transform=function(t,e,n){n(new i("_transform()"))},l.prototype._write=function(t,e,n){var i=this._transformState;if(i.writecb=n,i.writechunk=t,i.writeencoding=e,!i.transforming){var r=this._readableState;(i.needTransform||r.needReadable||r.length<r.highWaterMark)&&this._read(r.highWaterMark)}},l.prototype._read=function(t){var e=this._transformState;null===e.writechunk||e.transforming?e.needTransform=!0:(e.transforming=!0,this._transform(e.writechunk,e.writeencoding,e.afterTransform))},l.prototype._destroy=function(t,e){h.prototype._destroy.call(this,t,(function(t){e(t)}))}})),r.register("JwlC1",(function(t,e){t.exports=i;var n=r("8ICBy");function i(t){if(!(this instanceof i))return new i(t);n.call(this,t)}r("bniia")(i,n),i.prototype._transform=function(t,e,n){n(null,t)}})),r.register("5bCTn",(function(t,e){var n;var i=r("iuexS").codes,s=i.ERR_MISSING_ARGS,o=i.ERR_STREAM_DESTROYED;function a(t){if(t)throw t}function h(t){t()}function u(t,e){return t.pipe(e)}t.exports=function(){for(var t=arguments.length,e=new Array(t),i=0;i<t;i++)e[i]=arguments[i];var l,c=function(t){return t.length?"function"!=typeof t[t.length-1]?a:t.pop():a}(e);if(Array.isArray(e[0])&&(e=e[0]),e.length<2)throw new s("streams");var d=e.map((function(t,i){var s=i<e.length-1;return function(t,e,i,s){s=function(t){var e=!1;return function(){e||(e=!0,t.apply(void 0,arguments))}}(s);var a=!1;t.on("close",(function(){a=!0})),void 0===n&&(n=r("ft4HP")),n(t,{readable:e,writable:i},(function(t){if(t)return s(t);a=!0,s()}));var h=!1;return function(e){if(!a&&!h)return h=!0,function(t){return t.setHeader&&"function"==typeof t.abort}(t)?t.abort():"function"==typeof t.destroy?t.destroy():void s(e||new o("pipe"))}}(t,s,i>0,(function(t){l||(l=t),t&&d.forEach(h),s||(d.forEach(h),c(l))}))}));return e.reduce(u)}})),r.register("1JYNO",(function(t,e){var n=r("8UsMN").Buffer,i=r("bniia"),s=r("dGPsD"),o=new Array(16),a=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],h=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],u=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],l=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11],c=[0,1518500249,1859775393,2400959708,2840853838],d=[1352829926,1548603684,1836072691,2053994217,0];function f(){s.call(this,64),this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520}function p(t,e){return t<<e|t>>>32-e}function m(t,e,n,i,r,s,o,a){return p(t+(e^n^i)+s+o|0,a)+r|0}function g(t,e,n,i,r,s,o,a){return p(t+(e&n|~e&i)+s+o|0,a)+r|0}function v(t,e,n,i,r,s,o,a){return p(t+((e|~n)^i)+s+o|0,a)+r|0}function y(t,e,n,i,r,s,o,a){return p(t+(e&i|n&~i)+s+o|0,a)+r|0}function b(t,e,n,i,r,s,o,a){return p(t+(e^(n|~i))+s+o|0,a)+r|0}i(f,s),f.prototype._update=function(){for(var t=o,e=0;e<16;++e)t[e]=this._block.readInt32LE(4*e);for(var n=0|this._a,i=0|this._b,r=0|this._c,s=0|this._d,f=0|this._e,w=0|this._a,_=0|this._b,M=0|this._c,k=0|this._d,A=0|this._e,E=0;E<80;E+=1){var x,S;E<16?(x=m(n,i,r,s,f,t[a[E]],c[0],u[E]),S=b(w,_,M,k,A,t[h[E]],d[0],l[E])):E<32?(x=g(n,i,r,s,f,t[a[E]],c[1],u[E]),S=y(w,_,M,k,A,t[h[E]],d[1],l[E])):E<48?(x=v(n,i,r,s,f,t[a[E]],c[2],u[E]),S=v(w,_,M,k,A,t[h[E]],d[2],l[E])):E<64?(x=y(n,i,r,s,f,t[a[E]],c[3],u[E]),S=g(w,_,M,k,A,t[h[E]],d[3],l[E])):(x=b(n,i,r,s,f,t[a[E]],c[4],u[E]),S=m(w,_,M,k,A,t[h[E]],d[4],l[E])),n=f,f=s,s=p(r,10),r=i,i=x,w=A,A=k,k=p(M,10),M=_,_=S}var T=this._b+r+k|0;this._b=this._c+s+A|0,this._c=this._d+f+w|0,this._d=this._e+n+_|0,this._e=this._a+i+M|0,this._a=T},f.prototype._digest=function(){this._block[this._blockOffset++]=128,this._blockOffset>56&&(this._block.fill(0,this._blockOffset,64),this._update(),this._blockOffset=0),this._block.fill(0,this._blockOffset,56),this._block.writeUInt32LE(this._length[0],56),this._block.writeUInt32LE(this._length[1],60),this._update();var t=n.alloc?n.alloc(20):new n(20);return t.writeInt32LE(this._a,0),t.writeInt32LE(this._b,4),t.writeInt32LE(this._c,8),t.writeInt32LE(this._d,12),t.writeInt32LE(this._e,16),t},t.exports=f})),r.register("1eplY",(function(t,e){var n=t.exports=function(t){t=t.toLowerCase();var e=n[t];if(!e)throw new Error(t+" is not supported (we accept pull requests)");return new e};n.sha=r("fLSEz"),n.sha1=r("clQEv"),n.sha224=r("61gwW"),n.sha256=r("e1mvm"),n.sha384=r("fg4RU"),n.sha512=r("g9xkA")})),r.register("fLSEz",(function(t,e){var n=r("bniia"),i=r("d9hQa"),s=r("4OiF0").Buffer,o=[1518500249,1859775393,-1894007588,-899497514],a=new Array(80);function h(){this.init(),this._w=a,i.call(this,64,56)}function u(t){return t<<30|t>>>2}function l(t,e,n,i){return 0===t?e&n|~e&i:2===t?e&n|e&i|n&i:e^n^i}n(h,i),h.prototype.init=function(){return this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520,this},h.prototype._update=function(t){for(var e,n=this._w,i=0|this._a,r=0|this._b,s=0|this._c,a=0|this._d,h=0|this._e,c=0;c<16;++c)n[c]=t.readInt32BE(4*c);for(;c<80;++c)n[c]=n[c-3]^n[c-8]^n[c-14]^n[c-16];for(var d=0;d<80;++d){var f=~~(d/20),p=0|((e=i)<<5|e>>>27)+l(f,r,s,a)+h+n[d]+o[f];h=a,a=s,s=u(r),r=i,i=p}this._a=i+this._a|0,this._b=r+this._b|0,this._c=s+this._c|0,this._d=a+this._d|0,this._e=h+this._e|0},h.prototype._hash=function(){var t=s.allocUnsafe(20);return t.writeInt32BE(0|this._a,0),t.writeInt32BE(0|this._b,4),t.writeInt32BE(0|this._c,8),t.writeInt32BE(0|this._d,12),t.writeInt32BE(0|this._e,16),t},t.exports=h})),r.register("d9hQa",(function(t,e){var n=r("4OiF0").Buffer;function i(t,e){this._block=n.alloc(t),this._finalSize=e,this._blockSize=t,this._len=0}i.prototype.update=function(t,e){"string"==typeof t&&(e=e||"utf8",t=n.from(t,e));for(var i=this._block,r=this._blockSize,s=t.length,o=this._len,a=0;a<s;){for(var h=o%r,u=Math.min(s-a,r-h),l=0;l<u;l++)i[h+l]=t[a+l];a+=u,(o+=u)%r==0&&this._update(i)}return this._len+=s,this},i.prototype.digest=function(t){var e=this._len%this._blockSize;this._block[e]=128,this._block.fill(0,e+1),e>=this._finalSize&&(this._update(this._block),this._block.fill(0));var n=8*this._len;if(n<=4294967295)this._block.writeUInt32BE(n,this._blockSize-4);else{var i=(4294967295&n)>>>0,r=(n-i)/4294967296;this._block.writeUInt32BE(r,this._blockSize-8),this._block.writeUInt32BE(i,this._blockSize-4)}this._update(this._block);var s=this._hash();return t?s.toString(t):s},i.prototype._update=function(){throw new Error("_update must be implemented by subclass")},t.exports=i})),r.register("clQEv",(function(t,e){var n=r("bniia"),i=r("d9hQa"),s=r("4OiF0").Buffer,o=[1518500249,1859775393,-1894007588,-899497514],a=new Array(80);function h(){this.init(),this._w=a,i.call(this,64,56)}function u(t){return t<<5|t>>>27}function l(t){return t<<30|t>>>2}function c(t,e,n,i){return 0===t?e&n|~e&i:2===t?e&n|e&i|n&i:e^n^i}n(h,i),h.prototype.init=function(){return this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520,this},h.prototype._update=function(t){for(var e,n=this._w,i=0|this._a,r=0|this._b,s=0|this._c,a=0|this._d,h=0|this._e,d=0;d<16;++d)n[d]=t.readInt32BE(4*d);for(;d<80;++d)n[d]=(e=n[d-3]^n[d-8]^n[d-14]^n[d-16])<<1|e>>>31;for(var f=0;f<80;++f){var p=~~(f/20),m=u(i)+c(p,r,s,a)+h+n[f]+o[p]|0;h=a,a=s,s=l(r),r=i,i=m}this._a=i+this._a|0,this._b=r+this._b|0,this._c=s+this._c|0,this._d=a+this._d|0,this._e=h+this._e|0},h.prototype._hash=function(){var t=s.allocUnsafe(20);return t.writeInt32BE(0|this._a,0),t.writeInt32BE(0|this._b,4),t.writeInt32BE(0|this._c,8),t.writeInt32BE(0|this._d,12),t.writeInt32BE(0|this._e,16),t},t.exports=h})),r.register("61gwW",(function(t,e){var n=r("bniia"),i=r("e1mvm"),s=r("d9hQa"),o=r("4OiF0").Buffer,a=new Array(64);function h(){this.init(),this._w=a,s.call(this,64,56)}n(h,i),h.prototype.init=function(){return this._a=3238371032,this._b=914150663,this._c=812702999,this._d=4144912697,this._e=4290775857,this._f=1750603025,this._g=1694076839,this._h=3204075428,this},h.prototype._hash=function(){var t=o.allocUnsafe(28);return t.writeInt32BE(this._a,0),t.writeInt32BE(this._b,4),t.writeInt32BE(this._c,8),t.writeInt32BE(this._d,12),t.writeInt32BE(this._e,16),t.writeInt32BE(this._f,20),t.writeInt32BE(this._g,24),t},t.exports=h})),r.register("e1mvm",(function(t,e){var n=r("bniia"),i=r("d9hQa"),s=r("4OiF0").Buffer,o=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298],a=new Array(64);function h(){this.init(),this._w=a,i.call(this,64,56)}function u(t,e,n){return n^t&(e^n)}function l(t,e,n){return t&e|n&(t|e)}function c(t){return(t>>>2|t<<30)^(t>>>13|t<<19)^(t>>>22|t<<10)}function d(t){return(t>>>6|t<<26)^(t>>>11|t<<21)^(t>>>25|t<<7)}function f(t){return(t>>>7|t<<25)^(t>>>18|t<<14)^t>>>3}n(h,i),h.prototype.init=function(){return this._a=1779033703,this._b=3144134277,this._c=1013904242,this._d=2773480762,this._e=1359893119,this._f=2600822924,this._g=528734635,this._h=1541459225,this},h.prototype._update=function(t){for(var e,n=this._w,i=0|this._a,r=0|this._b,s=0|this._c,a=0|this._d,h=0|this._e,p=0|this._f,m=0|this._g,g=0|this._h,v=0;v<16;++v)n[v]=t.readInt32BE(4*v);for(;v<64;++v)n[v]=0|(((e=n[v-2])>>>17|e<<15)^(e>>>19|e<<13)^e>>>10)+n[v-7]+f(n[v-15])+n[v-16];for(var y=0;y<64;++y){var b=g+d(h)+u(h,p,m)+o[y]+n[y]|0,w=c(i)+l(i,r,s)|0;g=m,m=p,p=h,h=a+b|0,a=s,s=r,r=i,i=b+w|0}this._a=i+this._a|0,this._b=r+this._b|0,this._c=s+this._c|0,this._d=a+this._d|0,this._e=h+this._e|0,this._f=p+this._f|0,this._g=m+this._g|0,this._h=g+this._h|0},h.prototype._hash=function(){var t=s.allocUnsafe(32);return t.writeInt32BE(this._a,0),t.writeInt32BE(this._b,4),t.writeInt32BE(this._c,8),t.writeInt32BE(this._d,12),t.writeInt32BE(this._e,16),t.writeInt32BE(this._f,20),t.writeInt32BE(this._g,24),t.writeInt32BE(this._h,28),t},t.exports=h})),r.register("fg4RU",(function(t,e){var n=r("bniia"),i=r("g9xkA"),s=r("d9hQa"),o=r("4OiF0").Buffer,a=new Array(160);function h(){this.init(),this._w=a,s.call(this,128,112)}n(h,i),h.prototype.init=function(){return this._ah=3418070365,this._bh=1654270250,this._ch=2438529370,this._dh=355462360,this._eh=1731405415,this._fh=2394180231,this._gh=3675008525,this._hh=1203062813,this._al=3238371032,this._bl=914150663,this._cl=812702999,this._dl=4144912697,this._el=4290775857,this._fl=1750603025,this._gl=1694076839,this._hl=3204075428,this},h.prototype._hash=function(){var t=o.allocUnsafe(48);function e(e,n,i){t.writeInt32BE(e,i),t.writeInt32BE(n,i+4)}return e(this._ah,this._al,0),e(this._bh,this._bl,8),e(this._ch,this._cl,16),e(this._dh,this._dl,24),e(this._eh,this._el,32),e(this._fh,this._fl,40),t},t.exports=h})),r.register("g9xkA",(function(t,e){var n=r("bniia"),i=r("d9hQa"),s=r("4OiF0").Buffer,o=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591],a=new Array(160);function h(){this.init(),this._w=a,i.call(this,128,112)}function u(t,e,n){return n^t&(e^n)}function l(t,e,n){return t&e|n&(t|e)}function c(t,e){return(t>>>28|e<<4)^(e>>>2|t<<30)^(e>>>7|t<<25)}function d(t,e){return(t>>>14|e<<18)^(t>>>18|e<<14)^(e>>>9|t<<23)}function f(t,e){return(t>>>1|e<<31)^(t>>>8|e<<24)^t>>>7}function p(t,e){return(t>>>1|e<<31)^(t>>>8|e<<24)^(t>>>7|e<<25)}function m(t,e){return(t>>>19|e<<13)^(e>>>29|t<<3)^t>>>6}function g(t,e){return(t>>>19|e<<13)^(e>>>29|t<<3)^(t>>>6|e<<26)}function v(t,e){return t>>>0<e>>>0?1:0}n(h,i),h.prototype.init=function(){return this._ah=1779033703,this._bh=3144134277,this._ch=1013904242,this._dh=2773480762,this._eh=1359893119,this._fh=2600822924,this._gh=528734635,this._hh=1541459225,this._al=4089235720,this._bl=2227873595,this._cl=4271175723,this._dl=1595750129,this._el=2917565137,this._fl=725511199,this._gl=4215389547,this._hl=327033209,this},h.prototype._update=function(t){for(var e=this._w,n=0|this._ah,i=0|this._bh,r=0|this._ch,s=0|this._dh,a=0|this._eh,h=0|this._fh,y=0|this._gh,b=0|this._hh,w=0|this._al,_=0|this._bl,M=0|this._cl,k=0|this._dl,A=0|this._el,E=0|this._fl,x=0|this._gl,S=0|this._hl,T=0;T<32;T+=2)e[T]=t.readInt32BE(4*T),e[T+1]=t.readInt32BE(4*T+4);for(;T<160;T+=2){var I=e[T-30],R=e[T-30+1],C=f(I,R),q=p(R,I),N=m(I=e[T-4],R=e[T-4+1]),L=g(R,I),D=e[T-14],O=e[T-14+1],B=e[T-32],P=e[T-32+1],U=q+O|0,F=C+D+v(U,q)|0;F=(F=F+N+v(U=U+L|0,L)|0)+B+v(U=U+P|0,P)|0,e[T]=F,e[T+1]=U}for(var j=0;j<160;j+=2){F=e[j],U=e[j+1];var z=l(n,i,r),V=l(w,_,M),H=c(n,w),K=c(w,n),W=d(a,A),G=d(A,a),$=o[j],Q=o[j+1],X=u(a,h,y),Z=u(A,E,x),Y=S+G|0,J=b+W+v(Y,S)|0;J=(J=(J=J+X+v(Y=Y+Z|0,Z)|0)+$+v(Y=Y+Q|0,Q)|0)+F+v(Y=Y+U|0,U)|0;var tt=K+V|0,et=H+z+v(tt,K)|0;b=y,S=x,y=h,x=E,h=a,E=A,a=s+J+v(A=k+Y|0,k)|0,s=r,k=M,r=i,M=_,i=n,_=w,n=J+et+v(w=Y+tt|0,Y)|0}this._al=this._al+w|0,this._bl=this._bl+_|0,this._cl=this._cl+M|0,this._dl=this._dl+k|0,this._el=this._el+A|0,this._fl=this._fl+E|0,this._gl=this._gl+x|0,this._hl=this._hl+S|0,this._ah=this._ah+n+v(this._al,w)|0,this._bh=this._bh+i+v(this._bl,_)|0,this._ch=this._ch+r+v(this._cl,M)|0,this._dh=this._dh+s+v(this._dl,k)|0,this._eh=this._eh+a+v(this._el,A)|0,this._fh=this._fh+h+v(this._fl,E)|0,this._gh=this._gh+y+v(this._gl,x)|0,this._hh=this._hh+b+v(this._hl,S)|0},h.prototype._hash=function(){var t=s.allocUnsafe(64);function e(e,n,i){t.writeInt32BE(e,i),t.writeInt32BE(n,i+4)}return e(this._ah,this._al,0),e(this._bh,this._bl,8),e(this._ch,this._cl,16),e(this._dh,this._dl,24),e(this._eh,this._el,32),e(this._fh,this._fl,40),e(this._gh,this._gl,48),e(this._hh,this._hl,56),t},t.exports=h})),r.register("7fR9R",(function(t,e){var n=r("4OiF0").Buffer,i=r("9nTep").Transform,s=r("eJDLo").StringDecoder;function o(t){i.call(this),this.hashMode="string"==typeof t,this.hashMode?this[t]=this._finalOrDigest:this.final=this._finalOrDigest,this._final&&(this.__final=this._final,this._final=null),this._decoder=null,this._encoding=null}r("bniia")(o,i),o.prototype.update=function(t,e,i){"string"==typeof t&&(t=n.from(t,e));var r=this._update(t);return this.hashMode?this:(i&&(r=this._toString(r,i)),r)},o.prototype.setAutoPadding=function(){},o.prototype.getAuthTag=function(){throw new Error("trying to get auth tag in unsupported state")},o.prototype.setAuthTag=function(){throw new Error("trying to set auth tag in unsupported state")},o.prototype.setAAD=function(){throw new Error("trying to set aad in unsupported state")},o.prototype._transform=function(t,e,n){var i;try{this.hashMode?this._update(t):this.push(this._update(t))}catch(t){i=t}finally{n(i)}},o.prototype._flush=function(t){var e;try{this.push(this.__final())}catch(t){e=t}t(e)},o.prototype._finalOrDigest=function(t){var e=this.__final()||n.alloc(0);return t&&(e=this._toString(e,t,!0)),e},o.prototype._toString=function(t,e,n){if(this._decoder||(this._decoder=new s(e),this._encoding=e),this._encoding!==e)throw new Error("can't switch encodings");var i=this._decoder.write(t);return n&&(i+=this._decoder.end()),i},t.exports=o})),r.register("9nTep",(function(t,e){t.exports=i;var n=r("fPnTa").EventEmitter;function i(){n.call(this)}r("bniia")(i,n),i.Readable=r("kNz6F"),i.Writable=r("2Fm12"),i.Duplex=r("j8rHA"),i.Transform=r("8ICBy"),i.PassThrough=r("JwlC1"),i.finished=r("ft4HP"),i.pipeline=r("5bCTn"),i.Stream=i,i.prototype.pipe=function(t,e){var i=this;function r(e){t.writable&&!1===t.write(e)&&i.pause&&i.pause()}function s(){i.readable&&i.resume&&i.resume()}i.on("data",r),t.on("drain",s),t._isStdio||e&&!1===e.end||(i.on("end",a),i.on("close",h));var o=!1;function a(){o||(o=!0,t.end())}function h(){o||(o=!0,"function"==typeof t.destroy&&t.destroy())}function u(t){if(l(),0===n.listenerCount(this,"error"))throw t}function l(){i.removeListener("data",r),t.removeListener("drain",s),i.removeListener("end",a),i.removeListener("close",h),i.removeListener("error",u),t.removeListener("error",u),i.removeListener("end",l),i.removeListener("close",l),t.removeListener("close",l)}return i.on("error",u),t.on("error",u),i.on("end",l),i.on("close",l),t.on("close",l),t.emit("pipe",i),t}})),r.register("arZPn",(function(t,e){var n=r("bniia"),i=r("A050z"),s=r("7fR9R"),o=r("4OiF0").Buffer,a=r("1SGN9"),h=r("1JYNO"),u=r("1eplY"),l=o.alloc(128);function c(t,e){s.call(this,"digest"),"string"==typeof e&&(e=o.from(e));var n="sha512"===t||"sha384"===t?128:64;(this._alg=t,this._key=e,e.length>n)?e=("rmd160"===t?new h:u(t)).update(e).digest():e.length<n&&(e=o.concat([e,l],n));for(var i=this._ipad=o.allocUnsafe(n),r=this._opad=o.allocUnsafe(n),a=0;a<n;a++)i[a]=54^e[a],r[a]=92^e[a];this._hash="rmd160"===t?new h:u(t),this._hash.update(i)}n(c,s),c.prototype._update=function(t){this._hash.update(t)},c.prototype._final=function(){var t=this._hash.digest();return("rmd160"===this._alg?new h:u(this._alg)).update(this._opad).update(t).digest()},t.exports=function(t,e){return"rmd160"===(t=t.toLowerCase())||"ripemd160"===t?new c("rmd160",e):"md5"===t?new i(a,e):new c(t,e)}})),r.register("A050z",(function(t,e){var n=r("bniia"),i=r("4OiF0").Buffer,s=r("7fR9R"),o=i.alloc(128),a=64;function h(t,e){s.call(this,"digest"),"string"==typeof e&&(e=i.from(e)),this._alg=t,this._key=e,e.length>a?e=t(e):e.length<a&&(e=i.concat([e,o],a));for(var n=this._ipad=i.allocUnsafe(a),r=this._opad=i.allocUnsafe(a),h=0;h<a;h++)n[h]=54^e[h],r[h]=92^e[h];this._hash=[n]}n(h,s),h.prototype._update=function(t){this._hash.push(t)},h.prototype._final=function(){var t=this._alg(i.concat(this._hash));return this._alg(i.concat([this._opad,t]))},t.exports=h})),r.register("1SGN9",(function(t,e){var n=r("eXAjQ");t.exports=function(t){return(new n).update(t).digest()}})),r.register("luisd",(function(t,e){t.exports=r("6rTx5")})),r.register("6rTx5",(function(t,e){t.exports=JSON.parse('{"sha224WithRSAEncryption":{"sign":"rsa","hash":"sha224","id":"302d300d06096086480165030402040500041c"},"RSA-SHA224":{"sign":"ecdsa/rsa","hash":"sha224","id":"302d300d06096086480165030402040500041c"},"sha256WithRSAEncryption":{"sign":"rsa","hash":"sha256","id":"3031300d060960864801650304020105000420"},"RSA-SHA256":{"sign":"ecdsa/rsa","hash":"sha256","id":"3031300d060960864801650304020105000420"},"sha384WithRSAEncryption":{"sign":"rsa","hash":"sha384","id":"3041300d060960864801650304020205000430"},"RSA-SHA384":{"sign":"ecdsa/rsa","hash":"sha384","id":"3041300d060960864801650304020205000430"},"sha512WithRSAEncryption":{"sign":"rsa","hash":"sha512","id":"3051300d060960864801650304020305000440"},"RSA-SHA512":{"sign":"ecdsa/rsa","hash":"sha512","id":"3051300d060960864801650304020305000440"},"RSA-SHA1":{"sign":"rsa","hash":"sha1","id":"3021300906052b0e03021a05000414"},"ecdsa-with-SHA1":{"sign":"ecdsa","hash":"sha1","id":""},"sha256":{"sign":"ecdsa","hash":"sha256","id":""},"sha224":{"sign":"ecdsa","hash":"sha224","id":""},"sha384":{"sign":"ecdsa","hash":"sha384","id":""},"sha512":{"sign":"ecdsa","hash":"sha512","id":""},"DSA-SHA":{"sign":"dsa","hash":"sha1","id":""},"DSA-SHA1":{"sign":"dsa","hash":"sha1","id":""},"DSA":{"sign":"dsa","hash":"sha1","id":""},"DSA-WITH-SHA224":{"sign":"dsa","hash":"sha224","id":""},"DSA-SHA224":{"sign":"dsa","hash":"sha224","id":""},"DSA-WITH-SHA256":{"sign":"dsa","hash":"sha256","id":""},"DSA-SHA256":{"sign":"dsa","hash":"sha256","id":""},"DSA-WITH-SHA384":{"sign":"dsa","hash":"sha384","id":""},"DSA-SHA384":{"sign":"dsa","hash":"sha384","id":""},"DSA-WITH-SHA512":{"sign":"dsa","hash":"sha512","id":""},"DSA-SHA512":{"sign":"dsa","hash":"sha512","id":""},"DSA-RIPEMD160":{"sign":"dsa","hash":"rmd160","id":""},"ripemd160WithRSA":{"sign":"rsa","hash":"rmd160","id":"3021300906052b2403020105000414"},"RSA-RIPEMD160":{"sign":"rsa","hash":"rmd160","id":"3021300906052b2403020105000414"},"md5WithRSAEncryption":{"sign":"rsa","hash":"md5","id":"3020300c06082a864886f70d020505000410"},"RSA-MD5":{"sign":"rsa","hash":"md5","id":"3020300c06082a864886f70d020505000410"}}')})),r.register("ellmV",(function(e,n){var i,s;t(e.exports,"pbkdf2",(()=>i),(t=>i=t)),t(e.exports,"pbkdf2Sync",(()=>s),(t=>s=t)),i=r("eRp7M"),s=r("51RDi")})),r.register("eRp7M",(function(t,n){var i,s,o=r("4OiF0").Buffer,a=r("hKPt4"),h=r("2Vyyl"),u=r("51RDi"),l=r("f41UR"),c=e.crypto&&e.crypto.subtle,d={sha:"SHA-1","sha-1":"SHA-1",sha1:"SHA-1",sha256:"SHA-256","sha-256":"SHA-256",sha384:"SHA-384","sha-384":"SHA-384","sha-512":"SHA-512",sha512:"SHA-512"},f=[];function p(){return s||(s=e.process&&e.process.nextTick?e.process.nextTick:e.queueMicrotask?e.queueMicrotask:e.setImmediate?e.setImmediate:e.setTimeout)}function m(t,e,n,i,r){return c.importKey("raw",t,{name:"PBKDF2"},!1,["deriveBits"]).then((function(t){return c.deriveBits({name:"PBKDF2",salt:e,iterations:n,hash:{name:r}},t,i<<3)})).then((function(t){return o.from(t)}))}t.exports=function(t,n,r,s,g,v){"function"==typeof g&&(v=g,g=void 0);var y=d[(g=g||"sha1").toLowerCase()];if(y&&"function"==typeof e.Promise){if(a(r,s),t=l(t,h,"Password"),n=l(n,h,"Salt"),"function"!=typeof v)throw new Error("No callback provided to pbkdf2");!function(t,e){t.then((function(t){p()((function(){e(null,t)}))}),(function(t){p()((function(){e(t)}))}))}(function(t){if(e.process&&!e.process.browser)return Promise.resolve(!1);if(!c||!c.importKey||!c.deriveBits)return Promise.resolve(!1);if(void 0!==f[t])return f[t];var n=m(i=i||o.alloc(8),i,10,128,t).then((function(){return!0})).catch((function(){return!1}));return f[t]=n,n}(y).then((function(e){return e?m(t,n,r,s,y):u(t,n,r,s,g)})),v)}else p()((function(){var e;try{e=u(t,n,r,s,g)}catch(t){return v(t)}v(null,e)}))}})),r.register("hKPt4",(function(t,e){var n=Math.pow(2,30)-1;t.exports=function(t,e){if("number"!=typeof t)throw new TypeError("Iterations not a number");if(t<0)throw new TypeError("Bad iterations");if("number"!=typeof e)throw new TypeError("Key length not a number");if(e<0||e>n||e!=e)throw new TypeError("Bad key length")}})),r.register("2Vyyl",(function(t,n){var i,s=r("ajwPf");if(e.process&&e.process.browser)i="utf-8";else if(e.process&&e.process.version){i=parseInt(s.version.split(".")[0].slice(1),10)>=6?"utf-8":"binary"}else i="utf-8";t.exports=i})),r.register("51RDi",(function(t,e){var n=r("1SGN9"),i=r("1JYNO"),s=r("1eplY"),o=r("4OiF0").Buffer,a=r("hKPt4"),h=r("2Vyyl"),u=r("f41UR"),l=o.alloc(128),c={md5:16,sha1:20,sha224:28,sha256:32,sha384:48,sha512:64,rmd160:20,ripemd160:20};function d(t,e,r){var a=function(t){function e(e){return s(t).update(e).digest()}function r(t){return(new i).update(t).digest()}return"rmd160"===t||"ripemd160"===t?r:"md5"===t?n:e}(t),h="sha512"===t||"sha384"===t?128:64;e.length>h?e=a(e):e.length<h&&(e=o.concat([e,l],h));for(var u=o.allocUnsafe(h+c[t]),d=o.allocUnsafe(h+c[t]),f=0;f<h;f++)u[f]=54^e[f],d[f]=92^e[f];var p=o.allocUnsafe(h+r+4);u.copy(p,0,0,h),this.ipad1=p,this.ipad2=u,this.opad=d,this.alg=t,this.blocksize=h,this.hash=a,this.size=c[t]}d.prototype.run=function(t,e){return t.copy(e,this.blocksize),this.hash(e).copy(this.opad,this.blocksize),this.hash(this.opad)},t.exports=function(t,e,n,i,r){a(n,i);var s=new d(r=r||"sha1",t=u(t,h,"Password"),(e=u(e,h,"Salt")).length),l=o.allocUnsafe(i),f=o.allocUnsafe(e.length+4);e.copy(f,0,0,e.length);for(var p=0,m=c[r],g=Math.ceil(i/m),v=1;v<=g;v++){f.writeUInt32BE(v,e.length);for(var y=s.run(f,s.ipad1),b=y,w=1;w<n;w++){b=s.run(b,s.ipad2);for(var _=0;_<m;_++)y[_]^=b[_]}y.copy(l,p),p+=m}return l}})),r.register("f41UR",(function(t,e){var n=r("4OiF0").Buffer;t.exports=function(t,e,i){if(n.isBuffer(t))return t;if("string"==typeof t)return n.from(t,e);if(ArrayBuffer.isView(t))return n.from(t.buffer);throw new TypeError(i+" must be a string, a Buffer, a typed array or a DataView")}})),r.register("gfQS5",(function(e,n){var i,s,o,a,h,u,l,c,d,f;t(e.exports,"createCipher",(()=>i),(t=>i=t)),t(e.exports,"Cipher",(()=>s),(t=>s=t)),t(e.exports,"createCipheriv",(()=>o),(t=>o=t)),t(e.exports,"Cipheriv",(()=>a),(t=>a=t)),t(e.exports,"createDecipher",(()=>h),(t=>h=t)),t(e.exports,"Decipher",(()=>u),(t=>u=t)),t(e.exports,"createDecipheriv",(()=>l),(t=>l=t)),t(e.exports,"Decipheriv",(()=>c),(t=>c=t)),t(e.exports,"listCiphers",(()=>d),(t=>d=t)),t(e.exports,"getCiphers",(()=>f),(t=>f=t));var p=r("aGKUV"),m=r("2JnZq"),g=r("hATs4"),v=r("lGzCO"),y=r("cthQ7");function b(t,e,n){if(t=t.toLowerCase(),g[t])return m.createCipheriv(t,e,n);if(v[t])return new p({key:e,iv:n,mode:t});throw new TypeError("invalid suite type")}function w(t,e,n){if(t=t.toLowerCase(),g[t])return m.createDecipheriv(t,e,n);if(v[t])return new p({key:e,iv:n,mode:t,decrypt:!0});throw new TypeError("invalid suite type")}i=s=function(t,e){var n,i;if(t=t.toLowerCase(),g[t])n=g[t].key,i=g[t].iv;else{if(!v[t])throw new TypeError("invalid suite type");n=8*v[t].key,i=v[t].iv}var r=y(e,!1,n,i);return b(t,r.key,r.iv)},o=a=b,h=u=function(t,e){var n,i;if(t=t.toLowerCase(),g[t])n=g[t].key,i=g[t].iv;else{if(!v[t])throw new TypeError("invalid suite type");n=8*v[t].key,i=v[t].iv}var r=y(e,!1,n,i);return w(t,r.key,r.iv)},l=c=w,d=f=function(){return Object.keys(v).concat(m.getCiphers())}})),r.register("aGKUV",(function(t,e){var n=r("7fR9R"),i=r("3lt2x"),s=r("bniia"),o=r("4OiF0").Buffer,a={"des-ede3-cbc":i.CBC.instantiate(i.EDE),"des-ede3":i.EDE,"des-ede-cbc":i.CBC.instantiate(i.EDE),"des-ede":i.EDE,"des-cbc":i.CBC.instantiate(i.DES),"des-ecb":i.DES};function h(t){n.call(this);var e,i=t.mode.toLowerCase(),r=a[i];e=t.decrypt?"decrypt":"encrypt";var s=t.key;o.isBuffer(s)||(s=o.from(s)),"des-ede"!==i&&"des-ede-cbc"!==i||(s=o.concat([s,s.slice(0,8)]));var h=t.iv;o.isBuffer(h)||(h=o.from(h)),this._des=r.create({key:s,iv:h,type:e})}a.des=a["des-cbc"],a.des3=a["des-ede3-cbc"],t.exports=h,s(h,n),h.prototype._update=function(t){return o.from(this._des.update(t))},h.prototype._final=function(){return o.from(this._des.final())}})),r.register("3lt2x",(function(e,n){var i,s,o;t(e.exports,"DES",(()=>i),(t=>i=t)),t(e.exports,"CBC",(()=>s),(t=>s=t)),t(e.exports,"EDE",(()=>o),(t=>o=t)),r("iFbrB"),r("jzGYd"),i=r("gXbM9"),s=r("6Pi5A"),o=r("aUE1e")})),r.register("iFbrB",(function(e,n){var i,r,s,o,a,h,u,l,c,d,f;t(e.exports,"readUInt32BE",(()=>i),(t=>i=t)),t(e.exports,"writeUInt32BE",(()=>r),(t=>r=t)),t(e.exports,"ip",(()=>s),(t=>s=t)),t(e.exports,"rip",(()=>o),(t=>o=t)),t(e.exports,"pc1",(()=>a),(t=>a=t)),t(e.exports,"r28shl",(()=>h),(t=>h=t)),t(e.exports,"pc2",(()=>u),(t=>u=t)),t(e.exports,"expand",(()=>l),(t=>l=t)),t(e.exports,"substitute",(()=>c),(t=>c=t)),t(e.exports,"permute",(()=>d),(t=>d=t)),t(e.exports,"padSplit",(()=>f),(t=>f=t)),i=function(t,e){return(t[0+e]<<24|t[1+e]<<16|t[2+e]<<8|t[3+e])>>>0},r=function(t,e,n){t[0+n]=e>>>24,t[1+n]=e>>>16&255,t[2+n]=e>>>8&255,t[3+n]=255&e},s=function(t,e,n,i){for(var r=0,s=0,o=6;o>=0;o-=2){for(var a=0;a<=24;a+=8)r<<=1,r|=e>>>a+o&1;for(a=0;a<=24;a+=8)r<<=1,r|=t>>>a+o&1}for(o=6;o>=0;o-=2){for(a=1;a<=25;a+=8)s<<=1,s|=e>>>a+o&1;for(a=1;a<=25;a+=8)s<<=1,s|=t>>>a+o&1}n[i+0]=r>>>0,n[i+1]=s>>>0},o=function(t,e,n,i){for(var r=0,s=0,o=0;o<4;o++)for(var a=24;a>=0;a-=8)r<<=1,r|=e>>>a+o&1,r<<=1,r|=t>>>a+o&1;for(o=4;o<8;o++)for(a=24;a>=0;a-=8)s<<=1,s|=e>>>a+o&1,s<<=1,s|=t>>>a+o&1;n[i+0]=r>>>0,n[i+1]=s>>>0},a=function(t,e,n,i){for(var r=0,s=0,o=7;o>=5;o--){for(var a=0;a<=24;a+=8)r<<=1,r|=e>>a+o&1;for(a=0;a<=24;a+=8)r<<=1,r|=t>>a+o&1}for(a=0;a<=24;a+=8)r<<=1,r|=e>>a+o&1;for(o=1;o<=3;o++){for(a=0;a<=24;a+=8)s<<=1,s|=e>>a+o&1;for(a=0;a<=24;a+=8)s<<=1,s|=t>>a+o&1}for(a=0;a<=24;a+=8)s<<=1,s|=t>>a+o&1;n[i+0]=r>>>0,n[i+1]=s>>>0},h=function(t,e){return t<<e&268435455|t>>>28-e};var p=[14,11,17,4,27,23,25,0,13,22,7,18,5,9,16,24,2,20,12,21,1,8,15,26,15,4,25,19,9,1,26,16,5,11,23,8,12,7,17,0,22,3,10,14,6,20,27,24];u=function(t,e,n,i){for(var r=0,s=0,o=p.length>>>1,a=0;a<o;a++)r<<=1,r|=t>>>p[a]&1;for(a=o;a<p.length;a++)s<<=1,s|=e>>>p[a]&1;n[i+0]=r>>>0,n[i+1]=s>>>0},l=function(t,e,n){var i=0,r=0;i=(1&t)<<5|t>>>27;for(var s=23;s>=15;s-=4)i<<=6,i|=t>>>s&63;for(s=11;s>=3;s-=4)r|=t>>>s&63,r<<=6;r|=(31&t)<<1|t>>>31,e[n+0]=i>>>0,e[n+1]=r>>>0};var m=[14,0,4,15,13,7,1,4,2,14,15,2,11,13,8,1,3,10,10,6,6,12,12,11,5,9,9,5,0,3,7,8,4,15,1,12,14,8,8,2,13,4,6,9,2,1,11,7,15,5,12,11,9,3,7,14,3,10,10,0,5,6,0,13,15,3,1,13,8,4,14,7,6,15,11,2,3,8,4,14,9,12,7,0,2,1,13,10,12,6,0,9,5,11,10,5,0,13,14,8,7,10,11,1,10,3,4,15,13,4,1,2,5,11,8,6,12,7,6,12,9,0,3,5,2,14,15,9,10,13,0,7,9,0,14,9,6,3,3,4,15,6,5,10,1,2,13,8,12,5,7,14,11,12,4,11,2,15,8,1,13,1,6,10,4,13,9,0,8,6,15,9,3,8,0,7,11,4,1,15,2,14,12,3,5,11,10,5,14,2,7,12,7,13,13,8,14,11,3,5,0,6,6,15,9,0,10,3,1,4,2,7,8,2,5,12,11,1,12,10,4,14,15,9,10,3,6,15,9,0,0,6,12,10,11,1,7,13,13,8,15,9,1,4,3,5,14,11,5,12,2,7,8,2,4,14,2,14,12,11,4,2,1,12,7,4,10,7,11,13,6,1,8,5,5,0,3,15,15,10,13,3,0,9,14,8,9,6,4,11,2,8,1,12,11,7,10,1,13,14,7,2,8,13,15,6,9,15,12,0,5,9,6,10,3,4,0,5,14,3,12,10,1,15,10,4,15,2,9,7,2,12,6,9,8,5,0,6,13,1,3,13,4,14,14,0,7,11,5,3,11,8,9,4,14,3,15,2,5,12,2,9,8,5,12,15,3,10,7,11,0,14,4,1,10,7,1,6,13,0,11,8,6,13,4,13,11,0,2,11,14,7,15,4,0,9,8,1,13,10,3,14,12,3,9,5,7,12,5,2,10,15,6,8,1,6,1,6,4,11,11,13,13,8,12,1,3,4,7,10,14,7,10,9,15,5,6,0,8,15,0,14,5,2,9,3,2,12,13,1,2,15,8,13,4,8,6,10,15,3,11,7,1,4,10,12,9,5,3,6,14,11,5,0,0,14,12,9,7,2,7,2,11,1,4,14,1,7,9,4,12,10,14,8,2,13,0,15,6,12,10,9,13,0,15,3,3,5,5,6,8,11];c=function(t,e){for(var n=0,i=0;i<4;i++){n<<=4,n|=m[64*i+(t>>>18-6*i&63)]}for(i=0;i<4;i++){n<<=4,n|=m[256+64*i+(e>>>18-6*i&63)]}return n>>>0};var g=[16,25,12,11,3,20,4,15,31,17,9,6,27,14,1,22,30,24,8,18,0,5,29,23,13,19,2,26,10,21,28,7];d=function(t){for(var e=0,n=0;n<g.length;n++)e<<=1,e|=t>>>g[n]&1;return e>>>0},f=function(t,e,n){for(var i=t.toString(2);i.length<e;)i="0"+i;for(var r=[],s=0;s<e;s+=n)r.push(i.slice(s,s+n));return r.join(" ")}})),r.register("jzGYd",(function(t,e){var n=r("bNW2d");function i(t){this.options=t,this.type=this.options.type,this.blockSize=8,this._init(),this.buffer=new Array(this.blockSize),this.bufferOff=0}t.exports=i,i.prototype._init=function(){},i.prototype.update=function(t){return 0===t.length?[]:"decrypt"===this.type?this._updateDecrypt(t):this._updateEncrypt(t)},i.prototype._buffer=function(t,e){for(var n=Math.min(this.buffer.length-this.bufferOff,t.length-e),i=0;i<n;i++)this.buffer[this.bufferOff+i]=t[e+i];return this.bufferOff+=n,n},i.prototype._flushBuffer=function(t,e){return this._update(this.buffer,0,t,e),this.bufferOff=0,this.blockSize},i.prototype._updateEncrypt=function(t){var e=0,n=0,i=(this.bufferOff+t.length)/this.blockSize|0,r=new Array(i*this.blockSize);0!==this.bufferOff&&(e+=this._buffer(t,e),this.bufferOff===this.buffer.length&&(n+=this._flushBuffer(r,n)));for(var s=t.length-(t.length-e)%this.blockSize;e<s;e+=this.blockSize)this._update(t,e,r,n),n+=this.blockSize;for(;e<t.length;e++,this.bufferOff++)this.buffer[this.bufferOff]=t[e];return r},i.prototype._updateDecrypt=function(t){for(var e=0,n=0,i=Math.ceil((this.bufferOff+t.length)/this.blockSize)-1,r=new Array(i*this.blockSize);i>0;i--)e+=this._buffer(t,e),n+=this._flushBuffer(r,n);return e+=this._buffer(t,e),r},i.prototype.final=function(t){var e,n;return t&&(e=this.update(t)),n="encrypt"===this.type?this._finalEncrypt():this._finalDecrypt(),e?e.concat(n):n},i.prototype._pad=function(t,e){if(0===e)return!1;for(;e<t.length;)t[e++]=0;return!0},i.prototype._finalEncrypt=function(){if(!this._pad(this.buffer,this.bufferOff))return[];var t=new Array(this.blockSize);return this._update(this.buffer,0,t,0),t},i.prototype._unpad=function(t){return t},i.prototype._finalDecrypt=function(){n.equal(this.bufferOff,this.blockSize,"Not enough data to decrypt");var t=new Array(this.blockSize);return this._flushBuffer(t,0),this._unpad(t)}})),r.register("bNW2d",(function(t,e){function n(t,e){if(!t)throw new Error(e||"Assertion failed")}t.exports=n,n.equal=function(t,e,n){if(t!=e)throw new Error(n||"Assertion failed: "+t+" != "+e)}})),r.register("gXbM9",(function(t,e){var n=r("bNW2d"),i=r("bniia"),s=r("iFbrB"),o=r("jzGYd");function a(){this.tmp=new Array(2),this.keys=null}function h(t){o.call(this,t);var e=new a;this._desState=e,this.deriveKeys(e,t.key)}i(h,o),t.exports=h,h.create=function(t){return new h(t)};var u=[1,1,2,2,2,2,2,2,1,2,2,2,2,2,2,1];h.prototype.deriveKeys=function(t,e){t.keys=new Array(32),n.equal(e.length,this.blockSize,"Invalid key length");var i=s.readUInt32BE(e,0),r=s.readUInt32BE(e,4);s.pc1(i,r,t.tmp,0),i=t.tmp[0],r=t.tmp[1];for(var o=0;o<t.keys.length;o+=2){var a=u[o>>>1];i=s.r28shl(i,a),r=s.r28shl(r,a),s.pc2(i,r,t.keys,o)}},h.prototype._update=function(t,e,n,i){var r=this._desState,o=s.readUInt32BE(t,e),a=s.readUInt32BE(t,e+4);s.ip(o,a,r.tmp,0),o=r.tmp[0],a=r.tmp[1],"encrypt"===this.type?this._encrypt(r,o,a,r.tmp,0):this._decrypt(r,o,a,r.tmp,0),o=r.tmp[0],a=r.tmp[1],s.writeUInt32BE(n,o,i),s.writeUInt32BE(n,a,i+4)},h.prototype._pad=function(t,e){for(var n=t.length-e,i=e;i<t.length;i++)t[i]=n;return!0},h.prototype._unpad=function(t){for(var e=t[t.length-1],i=t.length-e;i<t.length;i++)n.equal(t[i],e);return t.slice(0,t.length-e)},h.prototype._encrypt=function(t,e,n,i,r){for(var o=e,a=n,h=0;h<t.keys.length;h+=2){var u=t.keys[h],l=t.keys[h+1];s.expand(a,t.tmp,0),u^=t.tmp[0],l^=t.tmp[1];var c=s.substitute(u,l),d=a;a=(o^s.permute(c))>>>0,o=d}s.rip(a,o,i,r)},h.prototype._decrypt=function(t,e,n,i,r){for(var o=n,a=e,h=t.keys.length-2;h>=0;h-=2){var u=t.keys[h],l=t.keys[h+1];s.expand(o,t.tmp,0),u^=t.tmp[0],l^=t.tmp[1];var c=s.substitute(u,l),d=o;o=(a^s.permute(c))>>>0,a=d}s.rip(o,a,i,r)}})),r.register("6Pi5A",(function(e,n){var i;t(e.exports,"instantiate",(()=>i),(t=>i=t));var s=r("bNW2d"),o=r("bniia"),a={};function h(t){s.equal(t.length,8,"Invalid IV length"),this.iv=new Array(8);for(var e=0;e<this.iv.length;e++)this.iv[e]=t[e]}i=function(t){function e(e){t.call(this,e),this._cbcInit()}o(e,t);for(var n=Object.keys(a),i=0;i<n.length;i++){var r=n[i];e.prototype[r]=a[r]}return e.create=function(t){return new e(t)},e},a._cbcInit=function(){var t=new h(this.options.iv);this._cbcState=t},a._update=function(t,e,n,i){var r=this._cbcState,s=this.constructor.super_.prototype,o=r.iv;if("encrypt"===this.type){for(var a=0;a<this.blockSize;a++)o[a]^=t[e+a];s._update.call(this,o,0,n,i);for(a=0;a<this.blockSize;a++)o[a]=n[i+a]}else{s._update.call(this,t,e,n,i);for(a=0;a<this.blockSize;a++)n[i+a]^=o[a];for(a=0;a<this.blockSize;a++)o[a]=t[e+a]}}})),r.register("aUE1e",(function(t,e){var n=r("bNW2d"),i=r("bniia"),s=r("jzGYd"),o=r("gXbM9");function a(t,e){n.equal(e.length,24,"Invalid key length");var i=e.slice(0,8),r=e.slice(8,16),s=e.slice(16,24);this.ciphers="encrypt"===t?[o.create({type:"encrypt",key:i}),o.create({type:"decrypt",key:r}),o.create({type:"encrypt",key:s})]:[o.create({type:"decrypt",key:s}),o.create({type:"encrypt",key:r}),o.create({type:"decrypt",key:i})]}function h(t){s.call(this,t);var e=new a(this.type,this.options.key);this._edeState=e}i(h,s),t.exports=h,h.create=function(t){return new h(t)},h.prototype._update=function(t,e,n,i){var r=this._edeState;r.ciphers[0]._update(t,e,n,i),r.ciphers[1]._update(n,i,n,i),r.ciphers[2]._update(n,i,n,i)},h.prototype._pad=o.prototype._pad,h.prototype._unpad=o.prototype._unpad})),r.register("2JnZq",(function(e,n){var i,s,o;t(e.exports,"createCipheriv",(()=>i),(t=>i=t)),t(e.exports,"createDecipheriv",(()=>s),(t=>s=t)),t(e.exports,"getCiphers",(()=>o),(t=>o=t));var a=r("6ILRy"),h=r("iccu4"),u=r("l3VQd");a.createCipher,i=a.createCipheriv,h.createDecipher,s=h.createDecipheriv,o=function(){return Object.keys(u)}})),r.register("6ILRy",(function(e,n){var i,s;t(e.exports,"createCipheriv",(()=>i),(t=>i=t)),t(e.exports,"createCipher",(()=>s),(t=>s=t));var o=r("hATs4"),a=r("1wbtR"),h=r("4OiF0").Buffer,u=r("jwQyu"),l=r("7fR9R"),c=r("1eFE8"),d=r("cthQ7");function f(t,e,n){l.call(this),this._cache=new m,this._cipher=new c.AES(e),this._prev=h.from(n),this._mode=t,this._autopadding=!0}r("bniia")(f,l),f.prototype._update=function(t){var e,n;this._cache.add(t);for(var i=[];e=this._cache.get();)n=this._mode.encrypt(this,e),i.push(n);return h.concat(i)};var p=h.alloc(16,16);function m(){this.cache=h.allocUnsafe(0)}function g(t,e,n){var i=o[t.toLowerCase()];if(!i)throw new TypeError("invalid suite type");if("string"==typeof e&&(e=h.from(e)),e.length!==i.key/8)throw new TypeError("invalid key length "+e.length);if("string"==typeof n&&(n=h.from(n)),"GCM"!==i.mode&&n.length!==i.iv)throw new TypeError("invalid iv length "+n.length);return"stream"===i.type?new u(i.module,e,n):"auth"===i.type?new a(i.module,e,n):new f(i.module,e,n)}f.prototype._final=function(){var t=this._cache.flush();if(this._autopadding)return t=this._mode.encrypt(this,t),this._cipher.scrub(),t;if(!t.equals(p))throw this._cipher.scrub(),new Error("data not multiple of block length")},f.prototype.setAutoPadding=function(t){return this._autopadding=!!t,this},m.prototype.add=function(t){this.cache=h.concat([this.cache,t])},m.prototype.get=function(){if(this.cache.length>15){var t=this.cache.slice(0,16);return this.cache=this.cache.slice(16),t}return null},m.prototype.flush=function(){for(var t=16-this.cache.length,e=h.allocUnsafe(t),n=-1;++n<t;)e.writeUInt8(t,n);return h.concat([this.cache,e])},i=g,s=function(t,e){var n=o[t.toLowerCase()];if(!n)throw new TypeError("invalid suite type");var i=d(e,!1,n.key,n.iv);return g(t,i.key,i.iv)}})),r.register("hATs4",(function(t,e){var n={ECB:r("6SVHN"),CBC:r("6Fpa7"),CFB:r("57fNo"),CFB8:r("1CnKI"),CFB1:r("bGJLd"),OFB:r("49PGC"),CTR:r("aTFc5"),GCM:r("aTFc5")},i=r("l3VQd");for(var s in i)i[s].module=n[i[s].mode];t.exports=i})),r.register("6SVHN",(function(e,n){var i,r;t(e.exports,"encrypt",(()=>i),(t=>i=t)),t(e.exports,"decrypt",(()=>r),(t=>r=t)),i=function(t,e){return t._cipher.encryptBlock(e)},r=function(t,e){return t._cipher.decryptBlock(e)}})),r.register("6Fpa7",(function(e,n){var i,s;t(e.exports,"encrypt",(()=>i),(t=>i=t)),t(e.exports,"decrypt",(()=>s),(t=>s=t));var o=r("1rhhe");i=function(t,e){var n=o(e,t._prev);return t._prev=t._cipher.encryptBlock(n),t._prev},s=function(t,e){var n=t._prev;t._prev=e;var i=t._cipher.decryptBlock(e);return o(i,n)}})),r.register("1rhhe",(function(t,e){var n=r("8UsMN").Buffer;t.exports=function(t,e){for(var i=Math.min(t.length,e.length),r=new n(i),s=0;s<i;++s)r[s]=t[s]^e[s];return r}})),r.register("57fNo",(function(e,n){var i;t(e.exports,"encrypt",(()=>i),(t=>i=t));var s=r("4OiF0").Buffer,o=r("1rhhe");function a(t,e,n){var i=e.length,r=o(e,t._cache);return t._cache=t._cache.slice(i),t._prev=s.concat([t._prev,n?e:r]),r}i=function(t,e,n){for(var i,r=s.allocUnsafe(0);e.length;){if(0===t._cache.length&&(t._cache=t._cipher.encryptBlock(t._prev),t._prev=s.allocUnsafe(0)),!(t._cache.length<=e.length)){r=s.concat([r,a(t,e,n)]);break}i=t._cache.length,r=s.concat([r,a(t,e.slice(0,i),n)]),e=e.slice(i)}return r}})),r.register("1CnKI",(function(e,n){var i;t(e.exports,"encrypt",(()=>i),(t=>i=t));var s=r("4OiF0").Buffer;function o(t,e,n){var i=t._cipher.encryptBlock(t._prev)[0]^e;return t._prev=s.concat([t._prev.slice(1),s.from([n?e:i])]),i}i=function(t,e,n){for(var i=e.length,r=s.allocUnsafe(i),a=-1;++a<i;)r[a]=o(t,e[a],n);return r}})),r.register("bGJLd",(function(e,n){var i;t(e.exports,"encrypt",(()=>i),(t=>i=t));var s=r("4OiF0").Buffer;function o(t,e,n){for(var i,r,s=-1,o=0;++s<8;)i=e&1<<7-s?128:0,o+=(128&(r=t._cipher.encryptBlock(t._prev)[0]^i))>>s%8,t._prev=a(t._prev,n?i:r);return o}function a(t,e){var n=t.length,i=-1,r=s.allocUnsafe(t.length);for(t=s.concat([t,s.from([e])]);++i<n;)r[i]=t[i]<<1|t[i+1]>>7;return r}i=function(t,e,n){for(var i=e.length,r=s.allocUnsafe(i),a=-1;++a<i;)r[a]=o(t,e[a],n);return r}})),r.register("49PGC",(function(e,n){var i;t(e.exports,"encrypt",(()=>i),(t=>i=t));var s=r("8UsMN").Buffer,o=r("1rhhe");function a(t){return t._prev=t._cipher.encryptBlock(t._prev),t._prev}i=function(t,e){for(;t._cache.length<e.length;)t._cache=s.concat([t._cache,a(t)]);var n=t._cache.slice(0,e.length);return t._cache=t._cache.slice(e.length),o(e,n)}})),r.register("aTFc5",(function(e,n){var i;t(e.exports,"encrypt",(()=>i),(t=>i=t));var s=r("1rhhe"),o=r("4OiF0").Buffer,a=r("1Uyl8");function h(t){var e=t._cipher.encryptBlockRaw(t._prev);return a(t._prev),e}i=function(t,e){var n=Math.ceil(e.length/16),i=t._cache.length;t._cache=o.concat([t._cache,o.allocUnsafe(16*n)]);for(var r=0;r<n;r++){var a=h(t),u=i+16*r;t._cache.writeUInt32BE(a[0],u+0),t._cache.writeUInt32BE(a[1],u+4),t._cache.writeUInt32BE(a[2],u+8),t._cache.writeUInt32BE(a[3],u+12)}var l=t._cache.slice(0,e.length);return t._cache=t._cache.slice(e.length),s(e,l)}})),r.register("1Uyl8",(function(t,e){t.exports=function(t){for(var e,n=t.length;n--;){if(255!==(e=t.readUInt8(n))){e++,t.writeUInt8(e,n);break}t.writeUInt8(0,n)}}})),r.register("l3VQd",(function(t,e){t.exports=JSON.parse('{"aes-128-ecb":{"cipher":"AES","key":128,"iv":0,"mode":"ECB","type":"block"},"aes-192-ecb":{"cipher":"AES","key":192,"iv":0,"mode":"ECB","type":"block"},"aes-256-ecb":{"cipher":"AES","key":256,"iv":0,"mode":"ECB","type":"block"},"aes-128-cbc":{"cipher":"AES","key":128,"iv":16,"mode":"CBC","type":"block"},"aes-192-cbc":{"cipher":"AES","key":192,"iv":16,"mode":"CBC","type":"block"},"aes-256-cbc":{"cipher":"AES","key":256,"iv":16,"mode":"CBC","type":"block"},"aes128":{"cipher":"AES","key":128,"iv":16,"mode":"CBC","type":"block"},"aes192":{"cipher":"AES","key":192,"iv":16,"mode":"CBC","type":"block"},"aes256":{"cipher":"AES","key":256,"iv":16,"mode":"CBC","type":"block"},"aes-128-cfb":{"cipher":"AES","key":128,"iv":16,"mode":"CFB","type":"stream"},"aes-192-cfb":{"cipher":"AES","key":192,"iv":16,"mode":"CFB","type":"stream"},"aes-256-cfb":{"cipher":"AES","key":256,"iv":16,"mode":"CFB","type":"stream"},"aes-128-cfb8":{"cipher":"AES","key":128,"iv":16,"mode":"CFB8","type":"stream"},"aes-192-cfb8":{"cipher":"AES","key":192,"iv":16,"mode":"CFB8","type":"stream"},"aes-256-cfb8":{"cipher":"AES","key":256,"iv":16,"mode":"CFB8","type":"stream"},"aes-128-cfb1":{"cipher":"AES","key":128,"iv":16,"mode":"CFB1","type":"stream"},"aes-192-cfb1":{"cipher":"AES","key":192,"iv":16,"mode":"CFB1","type":"stream"},"aes-256-cfb1":{"cipher":"AES","key":256,"iv":16,"mode":"CFB1","type":"stream"},"aes-128-ofb":{"cipher":"AES","key":128,"iv":16,"mode":"OFB","type":"stream"},"aes-192-ofb":{"cipher":"AES","key":192,"iv":16,"mode":"OFB","type":"stream"},"aes-256-ofb":{"cipher":"AES","key":256,"iv":16,"mode":"OFB","type":"stream"},"aes-128-ctr":{"cipher":"AES","key":128,"iv":16,"mode":"CTR","type":"stream"},"aes-192-ctr":{"cipher":"AES","key":192,"iv":16,"mode":"CTR","type":"stream"},"aes-256-ctr":{"cipher":"AES","key":256,"iv":16,"mode":"CTR","type":"stream"},"aes-128-gcm":{"cipher":"AES","key":128,"iv":12,"mode":"GCM","type":"auth"},"aes-192-gcm":{"cipher":"AES","key":192,"iv":12,"mode":"GCM","type":"auth"},"aes-256-gcm":{"cipher":"AES","key":256,"iv":12,"mode":"GCM","type":"auth"}}')})),r.register("1wbtR",(function(t,e){var n=r("1eFE8"),i=r("4OiF0").Buffer,s=r("7fR9R"),o=r("bniia"),a=r("jNvWi"),h=r("1rhhe"),u=r("1Uyl8");function l(t,e,r,o){s.call(this);var h=i.alloc(4,0);this._cipher=new n.AES(e);var l=this._cipher.encryptBlock(h);this._ghash=new a(l),r=function(t,e,n){if(12===e.length)return t._finID=i.concat([e,i.from([0,0,0,1])]),i.concat([e,i.from([0,0,0,2])]);var r=new a(n),s=e.length,o=s%16;r.update(e),o&&(o=16-o,r.update(i.alloc(o,0))),r.update(i.alloc(8,0));var h=8*s,l=i.alloc(8);l.writeUIntBE(h,0,8),r.update(l),t._finID=r.state;var c=i.from(t._finID);return u(c),c}(this,r,l),this._prev=i.from(r),this._cache=i.allocUnsafe(0),this._secCache=i.allocUnsafe(0),this._decrypt=o,this._alen=0,this._len=0,this._mode=t,this._authTag=null,this._called=!1}o(l,s),l.prototype._update=function(t){if(!this._called&&this._alen){var e=16-this._alen%16;e<16&&(e=i.alloc(e,0),this._ghash.update(e))}this._called=!0;var n=this._mode.encrypt(this,t);return this._decrypt?this._ghash.update(t):this._ghash.update(n),this._len+=t.length,n},l.prototype._final=function(){if(this._decrypt&&!this._authTag)throw new Error("Unsupported state or unable to authenticate data");var t=h(this._ghash.final(8*this._alen,8*this._len),this._cipher.encryptBlock(this._finID));if(this._decrypt&&function(t,e){var n=0;t.length!==e.length&&n++;for(var i=Math.min(t.length,e.length),r=0;r<i;++r)n+=t[r]^e[r];return n}(t,this._authTag))throw new Error("Unsupported state or unable to authenticate data");this._authTag=t,this._cipher.scrub()},l.prototype.getAuthTag=function(){if(this._decrypt||!i.isBuffer(this._authTag))throw new Error("Attempting to get auth tag in unsupported state");return this._authTag},l.prototype.setAuthTag=function(t){if(!this._decrypt)throw new Error("Attempting to set auth tag in unsupported state");this._authTag=t},l.prototype.setAAD=function(t){if(this._called)throw new Error("Attempting to set AAD in unsupported state");this._ghash.update(t),this._alen+=t.length},t.exports=l})),r.register("1eFE8",(function(e,n){var i;t(e.exports,"AES",(()=>i),(t=>i=t));var s=r("4OiF0").Buffer;function o(t){s.isBuffer(t)||(t=s.from(t));for(var e=t.length/4|0,n=new Array(e),i=0;i<e;i++)n[i]=t.readUInt32BE(4*i);return n}function a(t){for(;0<t.length;t++)t[0]=0}function h(t,e,n,i,r){for(var s,o,a,h,u=n[0],l=n[1],c=n[2],d=n[3],f=t[0]^e[0],p=t[1]^e[1],m=t[2]^e[2],g=t[3]^e[3],v=4,y=1;y<r;y++)s=u[f>>>24]^l[p>>>16&255]^c[m>>>8&255]^d[255&g]^e[v++],o=u[p>>>24]^l[m>>>16&255]^c[g>>>8&255]^d[255&f]^e[v++],a=u[m>>>24]^l[g>>>16&255]^c[f>>>8&255]^d[255&p]^e[v++],h=u[g>>>24]^l[f>>>16&255]^c[p>>>8&255]^d[255&m]^e[v++],f=s,p=o,m=a,g=h;return s=(i[f>>>24]<<24|i[p>>>16&255]<<16|i[m>>>8&255]<<8|i[255&g])^e[v++],o=(i[p>>>24]<<24|i[m>>>16&255]<<16|i[g>>>8&255]<<8|i[255&f])^e[v++],a=(i[m>>>24]<<24|i[g>>>16&255]<<16|i[f>>>8&255]<<8|i[255&p])^e[v++],h=(i[g>>>24]<<24|i[f>>>16&255]<<16|i[p>>>8&255]<<8|i[255&m])^e[v++],[s>>>=0,o>>>=0,a>>>=0,h>>>=0]}var u=[0,1,2,4,8,16,32,64,128,27,54],l=function(){for(var t=new Array(256),e=0;e<256;e++)t[e]=e<128?e<<1:e<<1^283;for(var n=[],i=[],r=[[],[],[],[]],s=[[],[],[],[]],o=0,a=0,h=0;h<256;++h){var u=a^a<<1^a<<2^a<<3^a<<4;u=u>>>8^255&u^99,n[o]=u,i[u]=o;var l=t[o],c=t[l],d=t[c],f=257*t[u]^16843008*u;r[0][o]=f<<24|f>>>8,r[1][o]=f<<16|f>>>16,r[2][o]=f<<8|f>>>24,r[3][o]=f,f=16843009*d^65537*c^257*l^16843008*o,s[0][u]=f<<24|f>>>8,s[1][u]=f<<16|f>>>16,s[2][u]=f<<8|f>>>24,s[3][u]=f,0===o?o=a=1:(o=l^t[t[t[d^l]]],a^=t[t[a]])}return{SBOX:n,INV_SBOX:i,SUB_MIX:r,INV_SUB_MIX:s}}();function c(t){this._key=o(t),this._reset()}c.blockSize=16,c.keySize=32,c.prototype.blockSize=c.blockSize,c.prototype.keySize=c.keySize,c.prototype._reset=function(){for(var t=this._key,e=t.length,n=e+6,i=4*(n+1),r=[],s=0;s<e;s++)r[s]=t[s];for(s=e;s<i;s++){var o=r[s-1];s%e==0?(o=o<<8|o>>>24,o=l.SBOX[o>>>24]<<24|l.SBOX[o>>>16&255]<<16|l.SBOX[o>>>8&255]<<8|l.SBOX[255&o],o^=u[s/e|0]<<24):e>6&&s%e==4&&(o=l.SBOX[o>>>24]<<24|l.SBOX[o>>>16&255]<<16|l.SBOX[o>>>8&255]<<8|l.SBOX[255&o]),r[s]=r[s-e]^o}for(var a=[],h=0;h<i;h++){var c=i-h,d=r[c-(h%4?0:4)];a[h]=h<4||c<=4?d:l.INV_SUB_MIX[0][l.SBOX[d>>>24]]^l.INV_SUB_MIX[1][l.SBOX[d>>>16&255]]^l.INV_SUB_MIX[2][l.SBOX[d>>>8&255]]^l.INV_SUB_MIX[3][l.SBOX[255&d]]}this._nRounds=n,this._keySchedule=r,this._invKeySchedule=a},c.prototype.encryptBlockRaw=function(t){return h(t=o(t),this._keySchedule,l.SUB_MIX,l.SBOX,this._nRounds)},c.prototype.encryptBlock=function(t){var e=this.encryptBlockRaw(t),n=s.allocUnsafe(16);return n.writeUInt32BE(e[0],0),n.writeUInt32BE(e[1],4),n.writeUInt32BE(e[2],8),n.writeUInt32BE(e[3],12),n},c.prototype.decryptBlock=function(t){var e=(t=o(t))[1];t[1]=t[3],t[3]=e;var n=h(t,this._invKeySchedule,l.INV_SUB_MIX,l.INV_SBOX,this._nRounds),i=s.allocUnsafe(16);return i.writeUInt32BE(n[0],0),i.writeUInt32BE(n[3],4),i.writeUInt32BE(n[2],8),i.writeUInt32BE(n[1],12),i},c.prototype.scrub=function(){a(this._keySchedule),a(this._invKeySchedule),a(this._key)},i=c})),r.register("jNvWi",(function(t,e){var n=r("4OiF0").Buffer,i=n.alloc(16,0);function s(t){var e=n.allocUnsafe(16);return e.writeUInt32BE(t[0]>>>0,0),e.writeUInt32BE(t[1]>>>0,4),e.writeUInt32BE(t[2]>>>0,8),e.writeUInt32BE(t[3]>>>0,12),e}function o(t){this.h=t,this.state=n.alloc(16,0),this.cache=n.allocUnsafe(0)}o.prototype.ghash=function(t){for(var e=-1;++e<t.length;)this.state[e]^=t[e];this._multiply()},o.prototype._multiply=function(){for(var t,e,n,i=[(t=this.h).readUInt32BE(0),t.readUInt32BE(4),t.readUInt32BE(8),t.readUInt32BE(12)],r=[0,0,0,0],o=-1;++o<128;){for(0!=(this.state[~~(o/8)]&1<<7-o%8)&&(r[0]^=i[0],r[1]^=i[1],r[2]^=i[2],r[3]^=i[3]),n=0!=(1&i[3]),e=3;e>0;e--)i[e]=i[e]>>>1|(1&i[e-1])<<31;i[0]=i[0]>>>1,n&&(i[0]=-520093696^i[0])}this.state=s(r)},o.prototype.update=function(t){var e;for(this.cache=n.concat([this.cache,t]);this.cache.length>=16;)e=this.cache.slice(0,16),this.cache=this.cache.slice(16),this.ghash(e)},o.prototype.final=function(t,e){return this.cache.length&&this.ghash(n.concat([this.cache,i],16)),this.ghash(s([0,t,0,e])),this.state},t.exports=o})),r.register("jwQyu",(function(t,e){var n=r("1eFE8"),i=r("4OiF0").Buffer,s=r("7fR9R");function o(t,e,r,o){s.call(this),this._cipher=new n.AES(e),this._prev=i.from(r),this._cache=i.allocUnsafe(0),this._secCache=i.allocUnsafe(0),this._decrypt=o,this._mode=t}r("bniia")(o,s),o.prototype._update=function(t){return this._mode.encrypt(this,t,this._decrypt)},o.prototype._final=function(){this._cipher.scrub()},t.exports=o})),r.register("cthQ7",(function(t,e){var n=r("4OiF0").Buffer,i=r("eXAjQ");t.exports=function(t,e,r,s){if(n.isBuffer(t)||(t=n.from(t,"binary")),e&&(n.isBuffer(e)||(e=n.from(e,"binary")),8!==e.length))throw new RangeError("salt should be Buffer with 8 byte length");for(var o=r/8,a=n.alloc(o),h=n.alloc(s||0),u=n.alloc(0);o>0||s>0;){var l=new i;l.update(u),l.update(t),e&&l.update(e),u=l.digest();var c=0;if(o>0){var d=a.length-o;c=Math.min(o,u.length),u.copy(a,d,0,c),o-=c}if(c<u.length&&s>0){var f=h.length-s,p=Math.min(s,u.length-c);u.copy(h,f,c,c+p),s-=p}}return u.fill(0),{key:a,iv:h}}})),r.register("iccu4",(function(e,n){var i,s;t(e.exports,"createDecipher",(()=>i),(t=>i=t)),t(e.exports,"createDecipheriv",(()=>s),(t=>s=t));var o=r("1wbtR"),a=r("4OiF0").Buffer,h=r("hATs4"),u=r("jwQyu"),l=r("7fR9R"),c=r("1eFE8"),d=r("cthQ7");function f(t,e,n){l.call(this),this._cache=new p,this._last=void 0,this._cipher=new c.AES(e),this._prev=a.from(n),this._mode=t,this._autopadding=!0}function p(){this.cache=a.allocUnsafe(0)}function m(t,e,n){var i=h[t.toLowerCase()];if(!i)throw new TypeError("invalid suite type");if("string"==typeof n&&(n=a.from(n)),"GCM"!==i.mode&&n.length!==i.iv)throw new TypeError("invalid iv length "+n.length);if("string"==typeof e&&(e=a.from(e)),e.length!==i.key/8)throw new TypeError("invalid key length "+e.length);return"stream"===i.type?new u(i.module,e,n,!0):"auth"===i.type?new o(i.module,e,n,!0):new f(i.module,e,n)}r("bniia")(f,l),f.prototype._update=function(t){var e,n;this._cache.add(t);for(var i=[];e=this._cache.get(this._autopadding);)n=this._mode.decrypt(this,e),i.push(n);return a.concat(i)},f.prototype._final=function(){var t=this._cache.flush();if(this._autopadding)return function(t){var e=t[15];if(e<1||e>16)throw new Error("unable to decrypt data");var n=-1;for(;++n<e;)if(t[n+(16-e)]!==e)throw new Error("unable to decrypt data");if(16===e)return;return t.slice(0,16-e)}(this._mode.decrypt(this,t));if(t)throw new Error("data not multiple of block length")},f.prototype.setAutoPadding=function(t){return this._autopadding=!!t,this},p.prototype.add=function(t){this.cache=a.concat([this.cache,t])},p.prototype.get=function(t){var e;if(t){if(this.cache.length>16)return e=this.cache.slice(0,16),this.cache=this.cache.slice(16),e}else if(this.cache.length>=16)return e=this.cache.slice(0,16),this.cache=this.cache.slice(16),e;return null},p.prototype.flush=function(){if(this.cache.length)return this.cache},i=function(t,e){var n=h[t.toLowerCase()];if(!n)throw new TypeError("invalid suite type");var i=d(e,!1,n.key,n.iv);return m(t,i.key,i.iv)},s=m})),r.register("lGzCO",(function(e,n){var i,r,s,o,a,h,u,l;t(e.exports,"des-ecb",(()=>i),(t=>i=t)),t(e.exports,"des-cbc",(()=>r),(t=>r=t)),t(e.exports,"des",(()=>s),(t=>s=t)),t(e.exports,"des-ede3-cbc",(()=>o),(t=>o=t)),t(e.exports,"des3",(()=>a),(t=>a=t)),t(e.exports,"des-ede3",(()=>h),(t=>h=t)),t(e.exports,"des-ede-cbc",(()=>u),(t=>u=t)),t(e.exports,"des-ede",(()=>l),(t=>l=t)),i={key:8,iv:0},r=s={key:8,iv:8},o=a={key:24,iv:8},h={key:24,iv:0},u={key:16,iv:8},l={key:16,iv:0}})),r.register("9PCF9",(function(e,n){var i,s,o,a,h;t(e.exports,"DiffieHellmanGroup",(()=>i),(t=>i=t)),t(e.exports,"createDiffieHellmanGroup",(()=>s),(t=>s=t)),t(e.exports,"getDiffieHellman",(()=>o),(t=>o=t)),t(e.exports,"createDiffieHellman",(()=>a),(t=>a=t)),t(e.exports,"DiffieHellman",(()=>h),(t=>h=t));var u=r("8UsMN").Buffer,l=r("fzqD1"),c=r("jBhBo"),d=r("8oJEU");var f={binary:!0,hex:!0,base64:!0};i=s=o=function(t){var e=new u(c[t].prime,"hex"),n=new u(c[t].gen,"hex");return new d(e,n)},a=h=function t(e,n,i,r){return u.isBuffer(n)||void 0===f[n]?t(e,"binary",n,i):(n=n||"binary",r=r||"binary",i=i||new u([2]),u.isBuffer(i)||(i=new u(i,r)),"number"==typeof e?new d(l(e,i),i,!0):(u.isBuffer(e)||(e=new u(e,n)),new d(e,i,!0)))}})),r.register("fzqD1",(function(t,e){var n=r("bUSoq");t.exports=v,v.simpleSieve=m,v.fermatTest=g;var i=r("edZn3"),s=new i(24),o=new(r("TFXOD")),a=new i(1),h=new i(2),u=new i(5),l=(new i(16),new i(8),new i(10)),c=new i(3),d=(new i(7),new i(11)),f=new i(4),p=(new i(12),null);function m(t){for(var e=function(){if(null!==p)return p;var t=[];t[0]=2;for(var e=1,n=3;n<1048576;n+=2){for(var i=Math.ceil(Math.sqrt(n)),r=0;r<e&&t[r]<=i&&n%t[r]!=0;r++);e!==r&&t[r]<=i||(t[e++]=n)}return p=t,t}(),n=0;n<e.length;n++)if(0===t.modn(e[n]))return 0===t.cmpn(e[n]);return!0}function g(t){var e=i.mont(t);return 0===h.toRed(e).redPow(t.subn(1)).fromRed().cmpn(1)}function v(t,e){if(t<16)return new i(2===e||5===e?[140,123]:[140,39]);var r,p;for(e=new i(e);;){for(r=new i(n(Math.ceil(t/8)));r.bitLength()>t;)r.ishrn(1);if(r.isEven()&&r.iadd(a),r.testn(1)||r.iadd(h),e.cmp(h)){if(!e.cmp(u))for(;r.mod(l).cmp(c);)r.iadd(f)}else for(;r.mod(s).cmp(d);)r.iadd(f);if(m(p=r.shrn(1))&&m(r)&&g(p)&&g(r)&&o.test(p)&&o.test(r))return r}}})),r.register("edZn3",(function(t,e){!function(t,e){function n(t,e){if(!t)throw new Error(e||"Assertion failed")}function i(t,e){t.super_=e;var n=function(){};n.prototype=e.prototype,t.prototype=new n,t.prototype.constructor=t}function s(t,e,n){if(s.isBN(t))return t;this.negative=0,this.words=null,this.length=0,this.red=null,null!==t&&("le"!==e&&"be"!==e||(n=e,e=10),this._init(t||0,e||10,n||"be"))}var o;"object"==typeof t?t.exports=s:e.BN=s,s.BN=s,s.wordSize=26;try{o="undefined"!=typeof window&&void 0!==window.Buffer?window.Buffer:r("66yC2").Buffer}catch(t){}function a(t,e){var n=t.charCodeAt(e);return n>=65&&n<=70?n-55:n>=97&&n<=102?n-87:n-48&15}function h(t,e,n){var i=a(t,n);return n-1>=e&&(i|=a(t,n-1)<<4),i}function u(t,e,n,i){for(var r=0,s=Math.min(t.length,n),o=e;o<s;o++){var a=t.charCodeAt(o)-48;r*=i,r+=a>=49?a-49+10:a>=17?a-17+10:a}return r}s.isBN=function(t){return t instanceof s||null!==t&&"object"==typeof t&&t.constructor.wordSize===s.wordSize&&Array.isArray(t.words)},s.max=function(t,e){return t.cmp(e)>0?t:e},s.min=function(t,e){return t.cmp(e)<0?t:e},s.prototype._init=function(t,e,i){if("number"==typeof t)return this._initNumber(t,e,i);if("object"==typeof t)return this._initArray(t,e,i);"hex"===e&&(e=16),n(e===(0|e)&&e>=2&&e<=36);var r=0;"-"===(t=t.toString().replace(/\s+/g,""))[0]&&(r++,this.negative=1),r<t.length&&(16===e?this._parseHex(t,r,i):(this._parseBase(t,e,r),"le"===i&&this._initArray(this.toArray(),e,i)))},s.prototype._initNumber=function(t,e,i){t<0&&(this.negative=1,t=-t),t<67108864?(this.words=[67108863&t],this.length=1):t<4503599627370496?(this.words=[67108863&t,t/67108864&67108863],this.length=2):(n(t<9007199254740992),this.words=[67108863&t,t/67108864&67108863,1],this.length=3),"le"===i&&this._initArray(this.toArray(),e,i)},s.prototype._initArray=function(t,e,i){if(n("number"==typeof t.length),t.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(t.length/3),this.words=new Array(this.length);for(var r=0;r<this.length;r++)this.words[r]=0;var s,o,a=0;if("be"===i)for(r=t.length-1,s=0;r>=0;r-=3)o=t[r]|t[r-1]<<8|t[r-2]<<16,this.words[s]|=o<<a&67108863,this.words[s+1]=o>>>26-a&67108863,(a+=24)>=26&&(a-=26,s++);else if("le"===i)for(r=0,s=0;r<t.length;r+=3)o=t[r]|t[r+1]<<8|t[r+2]<<16,this.words[s]|=o<<a&67108863,this.words[s+1]=o>>>26-a&67108863,(a+=24)>=26&&(a-=26,s++);return this.strip()},s.prototype._parseHex=function(t,e,n){this.length=Math.ceil((t.length-e)/6),this.words=new Array(this.length);for(var i=0;i<this.length;i++)this.words[i]=0;var r,s=0,o=0;if("be"===n)for(i=t.length-1;i>=e;i-=2)r=h(t,e,i)<<s,this.words[o]|=67108863&r,s>=18?(s-=18,o+=1,this.words[o]|=r>>>26):s+=8;else for(i=(t.length-e)%2==0?e+1:e;i<t.length;i+=2)r=h(t,e,i)<<s,this.words[o]|=67108863&r,s>=18?(s-=18,o+=1,this.words[o]|=r>>>26):s+=8;this.strip()},s.prototype._parseBase=function(t,e,n){this.words=[0],this.length=1;for(var i=0,r=1;r<=67108863;r*=e)i++;i--,r=r/e|0;for(var s=t.length-n,o=s%i,a=Math.min(s,s-o)+n,h=0,l=n;l<a;l+=i)h=u(t,l,l+i,e),this.imuln(r),this.words[0]+h<67108864?this.words[0]+=h:this._iaddn(h);if(0!==o){var c=1;for(h=u(t,l,t.length,e),l=0;l<o;l++)c*=e;this.imuln(c),this.words[0]+h<67108864?this.words[0]+=h:this._iaddn(h)}this.strip()},s.prototype.copy=function(t){t.words=new Array(this.length);for(var e=0;e<this.length;e++)t.words[e]=this.words[e];t.length=this.length,t.negative=this.negative,t.red=this.red},s.prototype.clone=function(){var t=new s(null);return this.copy(t),t},s.prototype._expand=function(t){for(;this.length<t;)this.words[this.length++]=0;return this},s.prototype.strip=function(){for(;this.length>1&&0===this.words[this.length-1];)this.length--;return this._normSign()},s.prototype._normSign=function(){return 1===this.length&&0===this.words[0]&&(this.negative=0),this},s.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var l=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],c=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],d=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];function f(t,e,n){n.negative=e.negative^t.negative;var i=t.length+e.length|0;n.length=i,i=i-1|0;var r=0|t.words[0],s=0|e.words[0],o=r*s,a=67108863&o,h=o/67108864|0;n.words[0]=a;for(var u=1;u<i;u++){for(var l=h>>>26,c=67108863&h,d=Math.min(u,e.length-1),f=Math.max(0,u-t.length+1);f<=d;f++){var p=u-f|0;l+=(o=(r=0|t.words[p])*(s=0|e.words[f])+c)/67108864|0,c=67108863&o}n.words[u]=0|c,h=0|l}return 0!==h?n.words[u]=0|h:n.length--,n.strip()}s.prototype.toString=function(t,e){var i;if(e=0|e||1,16===(t=t||10)||"hex"===t){i="";for(var r=0,s=0,o=0;o<this.length;o++){var a=this.words[o],h=(16777215&(a<<r|s)).toString(16);i=0!==(s=a>>>24-r&16777215)||o!==this.length-1?l[6-h.length]+h+i:h+i,(r+=2)>=26&&(r-=26,o--)}for(0!==s&&(i=s.toString(16)+i);i.length%e!=0;)i="0"+i;return 0!==this.negative&&(i="-"+i),i}if(t===(0|t)&&t>=2&&t<=36){var u=c[t],f=d[t];i="";var p=this.clone();for(p.negative=0;!p.isZero();){var m=p.modn(f).toString(t);i=(p=p.idivn(f)).isZero()?m+i:l[u-m.length]+m+i}for(this.isZero()&&(i="0"+i);i.length%e!=0;)i="0"+i;return 0!==this.negative&&(i="-"+i),i}n(!1,"Base should be between 2 and 36")},s.prototype.toNumber=function(){var t=this.words[0];return 2===this.length?t+=67108864*this.words[1]:3===this.length&&1===this.words[2]?t+=4503599627370496+67108864*this.words[1]:this.length>2&&n(!1,"Number can only safely store up to 53 bits"),0!==this.negative?-t:t},s.prototype.toJSON=function(){return this.toString(16)},s.prototype.toBuffer=function(t,e){return n(void 0!==o),this.toArrayLike(o,t,e)},s.prototype.toArray=function(t,e){return this.toArrayLike(Array,t,e)},s.prototype.toArrayLike=function(t,e,i){var r=this.byteLength(),s=i||Math.max(1,r);n(r<=s,"byte array longer than desired length"),n(s>0,"Requested array length <= 0"),this.strip();var o,a,h="le"===e,u=new t(s),l=this.clone();if(h){for(a=0;!l.isZero();a++)o=l.andln(255),l.iushrn(8),u[a]=o;for(;a<s;a++)u[a]=0}else{for(a=0;a<s-r;a++)u[a]=0;for(a=0;!l.isZero();a++)o=l.andln(255),l.iushrn(8),u[s-a-1]=o}return u},Math.clz32?s.prototype._countBits=function(t){return 32-Math.clz32(t)}:s.prototype._countBits=function(t){var e=t,n=0;return e>=4096&&(n+=13,e>>>=13),e>=64&&(n+=7,e>>>=7),e>=8&&(n+=4,e>>>=4),e>=2&&(n+=2,e>>>=2),n+e},s.prototype._zeroBits=function(t){if(0===t)return 26;var e=t,n=0;return 0==(8191&e)&&(n+=13,e>>>=13),0==(127&e)&&(n+=7,e>>>=7),0==(15&e)&&(n+=4,e>>>=4),0==(3&e)&&(n+=2,e>>>=2),0==(1&e)&&n++,n},s.prototype.bitLength=function(){var t=this.words[this.length-1],e=this._countBits(t);return 26*(this.length-1)+e},s.prototype.zeroBits=function(){if(this.isZero())return 0;for(var t=0,e=0;e<this.length;e++){var n=this._zeroBits(this.words[e]);if(t+=n,26!==n)break}return t},s.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},s.prototype.toTwos=function(t){return 0!==this.negative?this.abs().inotn(t).iaddn(1):this.clone()},s.prototype.fromTwos=function(t){return this.testn(t-1)?this.notn(t).iaddn(1).ineg():this.clone()},s.prototype.isNeg=function(){return 0!==this.negative},s.prototype.neg=function(){return this.clone().ineg()},s.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},s.prototype.iuor=function(t){for(;this.length<t.length;)this.words[this.length++]=0;for(var e=0;e<t.length;e++)this.words[e]=this.words[e]|t.words[e];return this.strip()},s.prototype.ior=function(t){return n(0==(this.negative|t.negative)),this.iuor(t)},s.prototype.or=function(t){return this.length>t.length?this.clone().ior(t):t.clone().ior(this)},s.prototype.uor=function(t){return this.length>t.length?this.clone().iuor(t):t.clone().iuor(this)},s.prototype.iuand=function(t){var e;e=this.length>t.length?t:this;for(var n=0;n<e.length;n++)this.words[n]=this.words[n]&t.words[n];return this.length=e.length,this.strip()},s.prototype.iand=function(t){return n(0==(this.negative|t.negative)),this.iuand(t)},s.prototype.and=function(t){return this.length>t.length?this.clone().iand(t):t.clone().iand(this)},s.prototype.uand=function(t){return this.length>t.length?this.clone().iuand(t):t.clone().iuand(this)},s.prototype.iuxor=function(t){var e,n;this.length>t.length?(e=this,n=t):(e=t,n=this);for(var i=0;i<n.length;i++)this.words[i]=e.words[i]^n.words[i];if(this!==e)for(;i<e.length;i++)this.words[i]=e.words[i];return this.length=e.length,this.strip()},s.prototype.ixor=function(t){return n(0==(this.negative|t.negative)),this.iuxor(t)},s.prototype.xor=function(t){return this.length>t.length?this.clone().ixor(t):t.clone().ixor(this)},s.prototype.uxor=function(t){return this.length>t.length?this.clone().iuxor(t):t.clone().iuxor(this)},s.prototype.inotn=function(t){n("number"==typeof t&&t>=0);var e=0|Math.ceil(t/26),i=t%26;this._expand(e),i>0&&e--;for(var r=0;r<e;r++)this.words[r]=67108863&~this.words[r];return i>0&&(this.words[r]=~this.words[r]&67108863>>26-i),this.strip()},s.prototype.notn=function(t){return this.clone().inotn(t)},s.prototype.setn=function(t,e){n("number"==typeof t&&t>=0);var i=t/26|0,r=t%26;return this._expand(i+1),this.words[i]=e?this.words[i]|1<<r:this.words[i]&~(1<<r),this.strip()},s.prototype.iadd=function(t){var e,n,i;if(0!==this.negative&&0===t.negative)return this.negative=0,e=this.isub(t),this.negative^=1,this._normSign();if(0===this.negative&&0!==t.negative)return t.negative=0,e=this.isub(t),t.negative=1,e._normSign();this.length>t.length?(n=this,i=t):(n=t,i=this);for(var r=0,s=0;s<i.length;s++)e=(0|n.words[s])+(0|i.words[s])+r,this.words[s]=67108863&e,r=e>>>26;for(;0!==r&&s<n.length;s++)e=(0|n.words[s])+r,this.words[s]=67108863&e,r=e>>>26;if(this.length=n.length,0!==r)this.words[this.length]=r,this.length++;else if(n!==this)for(;s<n.length;s++)this.words[s]=n.words[s];return this},s.prototype.add=function(t){var e;return 0!==t.negative&&0===this.negative?(t.negative=0,e=this.sub(t),t.negative^=1,e):0===t.negative&&0!==this.negative?(this.negative=0,e=t.sub(this),this.negative=1,e):this.length>t.length?this.clone().iadd(t):t.clone().iadd(this)},s.prototype.isub=function(t){if(0!==t.negative){t.negative=0;var e=this.iadd(t);return t.negative=1,e._normSign()}if(0!==this.negative)return this.negative=0,this.iadd(t),this.negative=1,this._normSign();var n,i,r=this.cmp(t);if(0===r)return this.negative=0,this.length=1,this.words[0]=0,this;r>0?(n=this,i=t):(n=t,i=this);for(var s=0,o=0;o<i.length;o++)s=(e=(0|n.words[o])-(0|i.words[o])+s)>>26,this.words[o]=67108863&e;for(;0!==s&&o<n.length;o++)s=(e=(0|n.words[o])+s)>>26,this.words[o]=67108863&e;if(0===s&&o<n.length&&n!==this)for(;o<n.length;o++)this.words[o]=n.words[o];return this.length=Math.max(this.length,o),n!==this&&(this.negative=1),this.strip()},s.prototype.sub=function(t){return this.clone().isub(t)};var p=function(t,e,n){var i,r,s,o=t.words,a=e.words,h=n.words,u=0,l=0|o[0],c=8191&l,d=l>>>13,f=0|o[1],p=8191&f,m=f>>>13,g=0|o[2],v=8191&g,y=g>>>13,b=0|o[3],w=8191&b,_=b>>>13,M=0|o[4],k=8191&M,A=M>>>13,E=0|o[5],x=8191&E,S=E>>>13,T=0|o[6],I=8191&T,R=T>>>13,C=0|o[7],q=8191&C,N=C>>>13,L=0|o[8],D=8191&L,O=L>>>13,B=0|o[9],P=8191&B,U=B>>>13,F=0|a[0],j=8191&F,z=F>>>13,V=0|a[1],H=8191&V,K=V>>>13,W=0|a[2],G=8191&W,$=W>>>13,Q=0|a[3],X=8191&Q,Z=Q>>>13,Y=0|a[4],J=8191&Y,tt=Y>>>13,et=0|a[5],nt=8191&et,it=et>>>13,rt=0|a[6],st=8191&rt,ot=rt>>>13,at=0|a[7],ht=8191&at,ut=at>>>13,lt=0|a[8],ct=8191&lt,dt=lt>>>13,ft=0|a[9],pt=8191&ft,mt=ft>>>13;n.negative=t.negative^e.negative,n.length=19;var gt=(u+(i=Math.imul(c,j))|0)+((8191&(r=(r=Math.imul(c,z))+Math.imul(d,j)|0))<<13)|0;u=((s=Math.imul(d,z))+(r>>>13)|0)+(gt>>>26)|0,gt&=67108863,i=Math.imul(p,j),r=(r=Math.imul(p,z))+Math.imul(m,j)|0,s=Math.imul(m,z);var vt=(u+(i=i+Math.imul(c,H)|0)|0)+((8191&(r=(r=r+Math.imul(c,K)|0)+Math.imul(d,H)|0))<<13)|0;u=((s=s+Math.imul(d,K)|0)+(r>>>13)|0)+(vt>>>26)|0,vt&=67108863,i=Math.imul(v,j),r=(r=Math.imul(v,z))+Math.imul(y,j)|0,s=Math.imul(y,z),i=i+Math.imul(p,H)|0,r=(r=r+Math.imul(p,K)|0)+Math.imul(m,H)|0,s=s+Math.imul(m,K)|0;var yt=(u+(i=i+Math.imul(c,G)|0)|0)+((8191&(r=(r=r+Math.imul(c,$)|0)+Math.imul(d,G)|0))<<13)|0;u=((s=s+Math.imul(d,$)|0)+(r>>>13)|0)+(yt>>>26)|0,yt&=67108863,i=Math.imul(w,j),r=(r=Math.imul(w,z))+Math.imul(_,j)|0,s=Math.imul(_,z),i=i+Math.imul(v,H)|0,r=(r=r+Math.imul(v,K)|0)+Math.imul(y,H)|0,s=s+Math.imul(y,K)|0,i=i+Math.imul(p,G)|0,r=(r=r+Math.imul(p,$)|0)+Math.imul(m,G)|0,s=s+Math.imul(m,$)|0;var bt=(u+(i=i+Math.imul(c,X)|0)|0)+((8191&(r=(r=r+Math.imul(c,Z)|0)+Math.imul(d,X)|0))<<13)|0;u=((s=s+Math.imul(d,Z)|0)+(r>>>13)|0)+(bt>>>26)|0,bt&=67108863,i=Math.imul(k,j),r=(r=Math.imul(k,z))+Math.imul(A,j)|0,s=Math.imul(A,z),i=i+Math.imul(w,H)|0,r=(r=r+Math.imul(w,K)|0)+Math.imul(_,H)|0,s=s+Math.imul(_,K)|0,i=i+Math.imul(v,G)|0,r=(r=r+Math.imul(v,$)|0)+Math.imul(y,G)|0,s=s+Math.imul(y,$)|0,i=i+Math.imul(p,X)|0,r=(r=r+Math.imul(p,Z)|0)+Math.imul(m,X)|0,s=s+Math.imul(m,Z)|0;var wt=(u+(i=i+Math.imul(c,J)|0)|0)+((8191&(r=(r=r+Math.imul(c,tt)|0)+Math.imul(d,J)|0))<<13)|0;u=((s=s+Math.imul(d,tt)|0)+(r>>>13)|0)+(wt>>>26)|0,wt&=67108863,i=Math.imul(x,j),r=(r=Math.imul(x,z))+Math.imul(S,j)|0,s=Math.imul(S,z),i=i+Math.imul(k,H)|0,r=(r=r+Math.imul(k,K)|0)+Math.imul(A,H)|0,s=s+Math.imul(A,K)|0,i=i+Math.imul(w,G)|0,r=(r=r+Math.imul(w,$)|0)+Math.imul(_,G)|0,s=s+Math.imul(_,$)|0,i=i+Math.imul(v,X)|0,r=(r=r+Math.imul(v,Z)|0)+Math.imul(y,X)|0,s=s+Math.imul(y,Z)|0,i=i+Math.imul(p,J)|0,r=(r=r+Math.imul(p,tt)|0)+Math.imul(m,J)|0,s=s+Math.imul(m,tt)|0;var _t=(u+(i=i+Math.imul(c,nt)|0)|0)+((8191&(r=(r=r+Math.imul(c,it)|0)+Math.imul(d,nt)|0))<<13)|0;u=((s=s+Math.imul(d,it)|0)+(r>>>13)|0)+(_t>>>26)|0,_t&=67108863,i=Math.imul(I,j),r=(r=Math.imul(I,z))+Math.imul(R,j)|0,s=Math.imul(R,z),i=i+Math.imul(x,H)|0,r=(r=r+Math.imul(x,K)|0)+Math.imul(S,H)|0,s=s+Math.imul(S,K)|0,i=i+Math.imul(k,G)|0,r=(r=r+Math.imul(k,$)|0)+Math.imul(A,G)|0,s=s+Math.imul(A,$)|0,i=i+Math.imul(w,X)|0,r=(r=r+Math.imul(w,Z)|0)+Math.imul(_,X)|0,s=s+Math.imul(_,Z)|0,i=i+Math.imul(v,J)|0,r=(r=r+Math.imul(v,tt)|0)+Math.imul(y,J)|0,s=s+Math.imul(y,tt)|0,i=i+Math.imul(p,nt)|0,r=(r=r+Math.imul(p,it)|0)+Math.imul(m,nt)|0,s=s+Math.imul(m,it)|0;var Mt=(u+(i=i+Math.imul(c,st)|0)|0)+((8191&(r=(r=r+Math.imul(c,ot)|0)+Math.imul(d,st)|0))<<13)|0;u=((s=s+Math.imul(d,ot)|0)+(r>>>13)|0)+(Mt>>>26)|0,Mt&=67108863,i=Math.imul(q,j),r=(r=Math.imul(q,z))+Math.imul(N,j)|0,s=Math.imul(N,z),i=i+Math.imul(I,H)|0,r=(r=r+Math.imul(I,K)|0)+Math.imul(R,H)|0,s=s+Math.imul(R,K)|0,i=i+Math.imul(x,G)|0,r=(r=r+Math.imul(x,$)|0)+Math.imul(S,G)|0,s=s+Math.imul(S,$)|0,i=i+Math.imul(k,X)|0,r=(r=r+Math.imul(k,Z)|0)+Math.imul(A,X)|0,s=s+Math.imul(A,Z)|0,i=i+Math.imul(w,J)|0,r=(r=r+Math.imul(w,tt)|0)+Math.imul(_,J)|0,s=s+Math.imul(_,tt)|0,i=i+Math.imul(v,nt)|0,r=(r=r+Math.imul(v,it)|0)+Math.imul(y,nt)|0,s=s+Math.imul(y,it)|0,i=i+Math.imul(p,st)|0,r=(r=r+Math.imul(p,ot)|0)+Math.imul(m,st)|0,s=s+Math.imul(m,ot)|0;var kt=(u+(i=i+Math.imul(c,ht)|0)|0)+((8191&(r=(r=r+Math.imul(c,ut)|0)+Math.imul(d,ht)|0))<<13)|0;u=((s=s+Math.imul(d,ut)|0)+(r>>>13)|0)+(kt>>>26)|0,kt&=67108863,i=Math.imul(D,j),r=(r=Math.imul(D,z))+Math.imul(O,j)|0,s=Math.imul(O,z),i=i+Math.imul(q,H)|0,r=(r=r+Math.imul(q,K)|0)+Math.imul(N,H)|0,s=s+Math.imul(N,K)|0,i=i+Math.imul(I,G)|0,r=(r=r+Math.imul(I,$)|0)+Math.imul(R,G)|0,s=s+Math.imul(R,$)|0,i=i+Math.imul(x,X)|0,r=(r=r+Math.imul(x,Z)|0)+Math.imul(S,X)|0,s=s+Math.imul(S,Z)|0,i=i+Math.imul(k,J)|0,r=(r=r+Math.imul(k,tt)|0)+Math.imul(A,J)|0,s=s+Math.imul(A,tt)|0,i=i+Math.imul(w,nt)|0,r=(r=r+Math.imul(w,it)|0)+Math.imul(_,nt)|0,s=s+Math.imul(_,it)|0,i=i+Math.imul(v,st)|0,r=(r=r+Math.imul(v,ot)|0)+Math.imul(y,st)|0,s=s+Math.imul(y,ot)|0,i=i+Math.imul(p,ht)|0,r=(r=r+Math.imul(p,ut)|0)+Math.imul(m,ht)|0,s=s+Math.imul(m,ut)|0;var At=(u+(i=i+Math.imul(c,ct)|0)|0)+((8191&(r=(r=r+Math.imul(c,dt)|0)+Math.imul(d,ct)|0))<<13)|0;u=((s=s+Math.imul(d,dt)|0)+(r>>>13)|0)+(At>>>26)|0,At&=67108863,i=Math.imul(P,j),r=(r=Math.imul(P,z))+Math.imul(U,j)|0,s=Math.imul(U,z),i=i+Math.imul(D,H)|0,r=(r=r+Math.imul(D,K)|0)+Math.imul(O,H)|0,s=s+Math.imul(O,K)|0,i=i+Math.imul(q,G)|0,r=(r=r+Math.imul(q,$)|0)+Math.imul(N,G)|0,s=s+Math.imul(N,$)|0,i=i+Math.imul(I,X)|0,r=(r=r+Math.imul(I,Z)|0)+Math.imul(R,X)|0,s=s+Math.imul(R,Z)|0,i=i+Math.imul(x,J)|0,r=(r=r+Math.imul(x,tt)|0)+Math.imul(S,J)|0,s=s+Math.imul(S,tt)|0,i=i+Math.imul(k,nt)|0,r=(r=r+Math.imul(k,it)|0)+Math.imul(A,nt)|0,s=s+Math.imul(A,it)|0,i=i+Math.imul(w,st)|0,r=(r=r+Math.imul(w,ot)|0)+Math.imul(_,st)|0,s=s+Math.imul(_,ot)|0,i=i+Math.imul(v,ht)|0,r=(r=r+Math.imul(v,ut)|0)+Math.imul(y,ht)|0,s=s+Math.imul(y,ut)|0,i=i+Math.imul(p,ct)|0,r=(r=r+Math.imul(p,dt)|0)+Math.imul(m,ct)|0,s=s+Math.imul(m,dt)|0;var Et=(u+(i=i+Math.imul(c,pt)|0)|0)+((8191&(r=(r=r+Math.imul(c,mt)|0)+Math.imul(d,pt)|0))<<13)|0;u=((s=s+Math.imul(d,mt)|0)+(r>>>13)|0)+(Et>>>26)|0,Et&=67108863,i=Math.imul(P,H),r=(r=Math.imul(P,K))+Math.imul(U,H)|0,s=Math.imul(U,K),i=i+Math.imul(D,G)|0,r=(r=r+Math.imul(D,$)|0)+Math.imul(O,G)|0,s=s+Math.imul(O,$)|0,i=i+Math.imul(q,X)|0,r=(r=r+Math.imul(q,Z)|0)+Math.imul(N,X)|0,s=s+Math.imul(N,Z)|0,i=i+Math.imul(I,J)|0,r=(r=r+Math.imul(I,tt)|0)+Math.imul(R,J)|0,s=s+Math.imul(R,tt)|0,i=i+Math.imul(x,nt)|0,r=(r=r+Math.imul(x,it)|0)+Math.imul(S,nt)|0,s=s+Math.imul(S,it)|0,i=i+Math.imul(k,st)|0,r=(r=r+Math.imul(k,ot)|0)+Math.imul(A,st)|0,s=s+Math.imul(A,ot)|0,i=i+Math.imul(w,ht)|0,r=(r=r+Math.imul(w,ut)|0)+Math.imul(_,ht)|0,s=s+Math.imul(_,ut)|0,i=i+Math.imul(v,ct)|0,r=(r=r+Math.imul(v,dt)|0)+Math.imul(y,ct)|0,s=s+Math.imul(y,dt)|0;var xt=(u+(i=i+Math.imul(p,pt)|0)|0)+((8191&(r=(r=r+Math.imul(p,mt)|0)+Math.imul(m,pt)|0))<<13)|0;u=((s=s+Math.imul(m,mt)|0)+(r>>>13)|0)+(xt>>>26)|0,xt&=67108863,i=Math.imul(P,G),r=(r=Math.imul(P,$))+Math.imul(U,G)|0,s=Math.imul(U,$),i=i+Math.imul(D,X)|0,r=(r=r+Math.imul(D,Z)|0)+Math.imul(O,X)|0,s=s+Math.imul(O,Z)|0,i=i+Math.imul(q,J)|0,r=(r=r+Math.imul(q,tt)|0)+Math.imul(N,J)|0,s=s+Math.imul(N,tt)|0,i=i+Math.imul(I,nt)|0,r=(r=r+Math.imul(I,it)|0)+Math.imul(R,nt)|0,s=s+Math.imul(R,it)|0,i=i+Math.imul(x,st)|0,r=(r=r+Math.imul(x,ot)|0)+Math.imul(S,st)|0,s=s+Math.imul(S,ot)|0,i=i+Math.imul(k,ht)|0,r=(r=r+Math.imul(k,ut)|0)+Math.imul(A,ht)|0,s=s+Math.imul(A,ut)|0,i=i+Math.imul(w,ct)|0,r=(r=r+Math.imul(w,dt)|0)+Math.imul(_,ct)|0,s=s+Math.imul(_,dt)|0;var St=(u+(i=i+Math.imul(v,pt)|0)|0)+((8191&(r=(r=r+Math.imul(v,mt)|0)+Math.imul(y,pt)|0))<<13)|0;u=((s=s+Math.imul(y,mt)|0)+(r>>>13)|0)+(St>>>26)|0,St&=67108863,i=Math.imul(P,X),r=(r=Math.imul(P,Z))+Math.imul(U,X)|0,s=Math.imul(U,Z),i=i+Math.imul(D,J)|0,r=(r=r+Math.imul(D,tt)|0)+Math.imul(O,J)|0,s=s+Math.imul(O,tt)|0,i=i+Math.imul(q,nt)|0,r=(r=r+Math.imul(q,it)|0)+Math.imul(N,nt)|0,s=s+Math.imul(N,it)|0,i=i+Math.imul(I,st)|0,r=(r=r+Math.imul(I,ot)|0)+Math.imul(R,st)|0,s=s+Math.imul(R,ot)|0,i=i+Math.imul(x,ht)|0,r=(r=r+Math.imul(x,ut)|0)+Math.imul(S,ht)|0,s=s+Math.imul(S,ut)|0,i=i+Math.imul(k,ct)|0,r=(r=r+Math.imul(k,dt)|0)+Math.imul(A,ct)|0,s=s+Math.imul(A,dt)|0;var Tt=(u+(i=i+Math.imul(w,pt)|0)|0)+((8191&(r=(r=r+Math.imul(w,mt)|0)+Math.imul(_,pt)|0))<<13)|0;u=((s=s+Math.imul(_,mt)|0)+(r>>>13)|0)+(Tt>>>26)|0,Tt&=67108863,i=Math.imul(P,J),r=(r=Math.imul(P,tt))+Math.imul(U,J)|0,s=Math.imul(U,tt),i=i+Math.imul(D,nt)|0,r=(r=r+Math.imul(D,it)|0)+Math.imul(O,nt)|0,s=s+Math.imul(O,it)|0,i=i+Math.imul(q,st)|0,r=(r=r+Math.imul(q,ot)|0)+Math.imul(N,st)|0,s=s+Math.imul(N,ot)|0,i=i+Math.imul(I,ht)|0,r=(r=r+Math.imul(I,ut)|0)+Math.imul(R,ht)|0,s=s+Math.imul(R,ut)|0,i=i+Math.imul(x,ct)|0,r=(r=r+Math.imul(x,dt)|0)+Math.imul(S,ct)|0,s=s+Math.imul(S,dt)|0;var It=(u+(i=i+Math.imul(k,pt)|0)|0)+((8191&(r=(r=r+Math.imul(k,mt)|0)+Math.imul(A,pt)|0))<<13)|0;u=((s=s+Math.imul(A,mt)|0)+(r>>>13)|0)+(It>>>26)|0,It&=67108863,i=Math.imul(P,nt),r=(r=Math.imul(P,it))+Math.imul(U,nt)|0,s=Math.imul(U,it),i=i+Math.imul(D,st)|0,r=(r=r+Math.imul(D,ot)|0)+Math.imul(O,st)|0,s=s+Math.imul(O,ot)|0,i=i+Math.imul(q,ht)|0,r=(r=r+Math.imul(q,ut)|0)+Math.imul(N,ht)|0,s=s+Math.imul(N,ut)|0,i=i+Math.imul(I,ct)|0,r=(r=r+Math.imul(I,dt)|0)+Math.imul(R,ct)|0,s=s+Math.imul(R,dt)|0;var Rt=(u+(i=i+Math.imul(x,pt)|0)|0)+((8191&(r=(r=r+Math.imul(x,mt)|0)+Math.imul(S,pt)|0))<<13)|0;u=((s=s+Math.imul(S,mt)|0)+(r>>>13)|0)+(Rt>>>26)|0,Rt&=67108863,i=Math.imul(P,st),r=(r=Math.imul(P,ot))+Math.imul(U,st)|0,s=Math.imul(U,ot),i=i+Math.imul(D,ht)|0,r=(r=r+Math.imul(D,ut)|0)+Math.imul(O,ht)|0,s=s+Math.imul(O,ut)|0,i=i+Math.imul(q,ct)|0,r=(r=r+Math.imul(q,dt)|0)+Math.imul(N,ct)|0,s=s+Math.imul(N,dt)|0;var Ct=(u+(i=i+Math.imul(I,pt)|0)|0)+((8191&(r=(r=r+Math.imul(I,mt)|0)+Math.imul(R,pt)|0))<<13)|0;u=((s=s+Math.imul(R,mt)|0)+(r>>>13)|0)+(Ct>>>26)|0,Ct&=67108863,i=Math.imul(P,ht),r=(r=Math.imul(P,ut))+Math.imul(U,ht)|0,s=Math.imul(U,ut),i=i+Math.imul(D,ct)|0,r=(r=r+Math.imul(D,dt)|0)+Math.imul(O,ct)|0,s=s+Math.imul(O,dt)|0;var qt=(u+(i=i+Math.imul(q,pt)|0)|0)+((8191&(r=(r=r+Math.imul(q,mt)|0)+Math.imul(N,pt)|0))<<13)|0;u=((s=s+Math.imul(N,mt)|0)+(r>>>13)|0)+(qt>>>26)|0,qt&=67108863,i=Math.imul(P,ct),r=(r=Math.imul(P,dt))+Math.imul(U,ct)|0,s=Math.imul(U,dt);var Nt=(u+(i=i+Math.imul(D,pt)|0)|0)+((8191&(r=(r=r+Math.imul(D,mt)|0)+Math.imul(O,pt)|0))<<13)|0;u=((s=s+Math.imul(O,mt)|0)+(r>>>13)|0)+(Nt>>>26)|0,Nt&=67108863;var Lt=(u+(i=Math.imul(P,pt))|0)+((8191&(r=(r=Math.imul(P,mt))+Math.imul(U,pt)|0))<<13)|0;return u=((s=Math.imul(U,mt))+(r>>>13)|0)+(Lt>>>26)|0,Lt&=67108863,h[0]=gt,h[1]=vt,h[2]=yt,h[3]=bt,h[4]=wt,h[5]=_t,h[6]=Mt,h[7]=kt,h[8]=At,h[9]=Et,h[10]=xt,h[11]=St,h[12]=Tt,h[13]=It,h[14]=Rt,h[15]=Ct,h[16]=qt,h[17]=Nt,h[18]=Lt,0!==u&&(h[19]=u,n.length++),n};function m(t,e,n){return(new g).mulp(t,e,n)}function g(t,e){this.x=t,this.y=e}Math.imul||(p=f),s.prototype.mulTo=function(t,e){var n,i=this.length+t.length;return n=10===this.length&&10===t.length?p(this,t,e):i<63?f(this,t,e):i<1024?function(t,e,n){n.negative=e.negative^t.negative,n.length=t.length+e.length;for(var i=0,r=0,s=0;s<n.length-1;s++){var o=r;r=0;for(var a=67108863&i,h=Math.min(s,e.length-1),u=Math.max(0,s-t.length+1);u<=h;u++){var l=s-u,c=(0|t.words[l])*(0|e.words[u]),d=67108863&c;a=67108863&(d=d+a|0),r+=(o=(o=o+(c/67108864|0)|0)+(d>>>26)|0)>>>26,o&=67108863}n.words[s]=a,i=o,o=r}return 0!==i?n.words[s]=i:n.length--,n.strip()}(this,t,e):m(this,t,e),n},g.prototype.makeRBT=function(t){for(var e=new Array(t),n=s.prototype._countBits(t)-1,i=0;i<t;i++)e[i]=this.revBin(i,n,t);return e},g.prototype.revBin=function(t,e,n){if(0===t||t===n-1)return t;for(var i=0,r=0;r<e;r++)i|=(1&t)<<e-r-1,t>>=1;return i},g.prototype.permute=function(t,e,n,i,r,s){for(var o=0;o<s;o++)i[o]=e[t[o]],r[o]=n[t[o]]},g.prototype.transform=function(t,e,n,i,r,s){this.permute(s,t,e,n,i,r);for(var o=1;o<r;o<<=1)for(var a=o<<1,h=Math.cos(2*Math.PI/a),u=Math.sin(2*Math.PI/a),l=0;l<r;l+=a)for(var c=h,d=u,f=0;f<o;f++){var p=n[l+f],m=i[l+f],g=n[l+f+o],v=i[l+f+o],y=c*g-d*v;v=c*v+d*g,g=y,n[l+f]=p+g,i[l+f]=m+v,n[l+f+o]=p-g,i[l+f+o]=m-v,f!==a&&(y=h*c-u*d,d=h*d+u*c,c=y)}},g.prototype.guessLen13b=function(t,e){var n=1|Math.max(e,t),i=1&n,r=0;for(n=n/2|0;n;n>>>=1)r++;return 1<<r+1+i},g.prototype.conjugate=function(t,e,n){if(!(n<=1))for(var i=0;i<n/2;i++){var r=t[i];t[i]=t[n-i-1],t[n-i-1]=r,r=e[i],e[i]=-e[n-i-1],e[n-i-1]=-r}},g.prototype.normalize13b=function(t,e){for(var n=0,i=0;i<e/2;i++){var r=8192*Math.round(t[2*i+1]/e)+Math.round(t[2*i]/e)+n;t[i]=67108863&r,n=r<67108864?0:r/67108864|0}return t},g.prototype.convert13b=function(t,e,i,r){for(var s=0,o=0;o<e;o++)s+=0|t[o],i[2*o]=8191&s,s>>>=13,i[2*o+1]=8191&s,s>>>=13;for(o=2*e;o<r;++o)i[o]=0;n(0===s),n(0==(-8192&s))},g.prototype.stub=function(t){for(var e=new Array(t),n=0;n<t;n++)e[n]=0;return e},g.prototype.mulp=function(t,e,n){var i=2*this.guessLen13b(t.length,e.length),r=this.makeRBT(i),s=this.stub(i),o=new Array(i),a=new Array(i),h=new Array(i),u=new Array(i),l=new Array(i),c=new Array(i),d=n.words;d.length=i,this.convert13b(t.words,t.length,o,i),this.convert13b(e.words,e.length,u,i),this.transform(o,s,a,h,i,r),this.transform(u,s,l,c,i,r);for(var f=0;f<i;f++){var p=a[f]*l[f]-h[f]*c[f];h[f]=a[f]*c[f]+h[f]*l[f],a[f]=p}return this.conjugate(a,h,i),this.transform(a,h,d,s,i,r),this.conjugate(d,s,i),this.normalize13b(d,i),n.negative=t.negative^e.negative,n.length=t.length+e.length,n.strip()},s.prototype.mul=function(t){var e=new s(null);return e.words=new Array(this.length+t.length),this.mulTo(t,e)},s.prototype.mulf=function(t){var e=new s(null);return e.words=new Array(this.length+t.length),m(this,t,e)},s.prototype.imul=function(t){return this.clone().mulTo(t,this)},s.prototype.imuln=function(t){n("number"==typeof t),n(t<67108864);for(var e=0,i=0;i<this.length;i++){var r=(0|this.words[i])*t,s=(67108863&r)+(67108863&e);e>>=26,e+=r/67108864|0,e+=s>>>26,this.words[i]=67108863&s}return 0!==e&&(this.words[i]=e,this.length++),this},s.prototype.muln=function(t){return this.clone().imuln(t)},s.prototype.sqr=function(){return this.mul(this)},s.prototype.isqr=function(){return this.imul(this.clone())},s.prototype.pow=function(t){var e=function(t){for(var e=new Array(t.bitLength()),n=0;n<e.length;n++){var i=n/26|0,r=n%26;e[n]=(t.words[i]&1<<r)>>>r}return e}(t);if(0===e.length)return new s(1);for(var n=this,i=0;i<e.length&&0===e[i];i++,n=n.sqr());if(++i<e.length)for(var r=n.sqr();i<e.length;i++,r=r.sqr())0!==e[i]&&(n=n.mul(r));return n},s.prototype.iushln=function(t){n("number"==typeof t&&t>=0);var e,i=t%26,r=(t-i)/26,s=67108863>>>26-i<<26-i;if(0!==i){var o=0;for(e=0;e<this.length;e++){var a=this.words[e]&s,h=(0|this.words[e])-a<<i;this.words[e]=h|o,o=a>>>26-i}o&&(this.words[e]=o,this.length++)}if(0!==r){for(e=this.length-1;e>=0;e--)this.words[e+r]=this.words[e];for(e=0;e<r;e++)this.words[e]=0;this.length+=r}return this.strip()},s.prototype.ishln=function(t){return n(0===this.negative),this.iushln(t)},s.prototype.iushrn=function(t,e,i){var r;n("number"==typeof t&&t>=0),r=e?(e-e%26)/26:0;var s=t%26,o=Math.min((t-s)/26,this.length),a=67108863^67108863>>>s<<s,h=i;if(r-=o,r=Math.max(0,r),h){for(var u=0;u<o;u++)h.words[u]=this.words[u];h.length=o}if(0===o);else if(this.length>o)for(this.length-=o,u=0;u<this.length;u++)this.words[u]=this.words[u+o];else this.words[0]=0,this.length=1;var l=0;for(u=this.length-1;u>=0&&(0!==l||u>=r);u--){var c=0|this.words[u];this.words[u]=l<<26-s|c>>>s,l=c&a}return h&&0!==l&&(h.words[h.length++]=l),0===this.length&&(this.words[0]=0,this.length=1),this.strip()},s.prototype.ishrn=function(t,e,i){return n(0===this.negative),this.iushrn(t,e,i)},s.prototype.shln=function(t){return this.clone().ishln(t)},s.prototype.ushln=function(t){return this.clone().iushln(t)},s.prototype.shrn=function(t){return this.clone().ishrn(t)},s.prototype.ushrn=function(t){return this.clone().iushrn(t)},s.prototype.testn=function(t){n("number"==typeof t&&t>=0);var e=t%26,i=(t-e)/26,r=1<<e;return!(this.length<=i)&&!!(this.words[i]&r)},s.prototype.imaskn=function(t){n("number"==typeof t&&t>=0);var e=t%26,i=(t-e)/26;if(n(0===this.negative,"imaskn works only with positive numbers"),this.length<=i)return this;if(0!==e&&i++,this.length=Math.min(i,this.length),0!==e){var r=67108863^67108863>>>e<<e;this.words[this.length-1]&=r}return this.strip()},s.prototype.maskn=function(t){return this.clone().imaskn(t)},s.prototype.iaddn=function(t){return n("number"==typeof t),n(t<67108864),t<0?this.isubn(-t):0!==this.negative?1===this.length&&(0|this.words[0])<t?(this.words[0]=t-(0|this.words[0]),this.negative=0,this):(this.negative=0,this.isubn(t),this.negative=1,this):this._iaddn(t)},s.prototype._iaddn=function(t){this.words[0]+=t;for(var e=0;e<this.length&&this.words[e]>=67108864;e++)this.words[e]-=67108864,e===this.length-1?this.words[e+1]=1:this.words[e+1]++;return this.length=Math.max(this.length,e+1),this},s.prototype.isubn=function(t){if(n("number"==typeof t),n(t<67108864),t<0)return this.iaddn(-t);if(0!==this.negative)return this.negative=0,this.iaddn(t),this.negative=1,this;if(this.words[0]-=t,1===this.length&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var e=0;e<this.length&&this.words[e]<0;e++)this.words[e]+=67108864,this.words[e+1]-=1;return this.strip()},s.prototype.addn=function(t){return this.clone().iaddn(t)},s.prototype.subn=function(t){return this.clone().isubn(t)},s.prototype.iabs=function(){return this.negative=0,this},s.prototype.abs=function(){return this.clone().iabs()},s.prototype._ishlnsubmul=function(t,e,i){var r,s,o=t.length+i;this._expand(o);var a=0;for(r=0;r<t.length;r++){s=(0|this.words[r+i])+a;var h=(0|t.words[r])*e;a=((s-=67108863&h)>>26)-(h/67108864|0),this.words[r+i]=67108863&s}for(;r<this.length-i;r++)a=(s=(0|this.words[r+i])+a)>>26,this.words[r+i]=67108863&s;if(0===a)return this.strip();for(n(-1===a),a=0,r=0;r<this.length;r++)a=(s=-(0|this.words[r])+a)>>26,this.words[r]=67108863&s;return this.negative=1,this.strip()},s.prototype._wordDiv=function(t,e){var n=(this.length,t.length),i=this.clone(),r=t,o=0|r.words[r.length-1];0!==(n=26-this._countBits(o))&&(r=r.ushln(n),i.iushln(n),o=0|r.words[r.length-1]);var a,h=i.length-r.length;if("mod"!==e){(a=new s(null)).length=h+1,a.words=new Array(a.length);for(var u=0;u<a.length;u++)a.words[u]=0}var l=i.clone()._ishlnsubmul(r,1,h);0===l.negative&&(i=l,a&&(a.words[h]=1));for(var c=h-1;c>=0;c--){var d=67108864*(0|i.words[r.length+c])+(0|i.words[r.length+c-1]);for(d=Math.min(d/o|0,67108863),i._ishlnsubmul(r,d,c);0!==i.negative;)d--,i.negative=0,i._ishlnsubmul(r,1,c),i.isZero()||(i.negative^=1);a&&(a.words[c]=d)}return a&&a.strip(),i.strip(),"div"!==e&&0!==n&&i.iushrn(n),{div:a||null,mod:i}},s.prototype.divmod=function(t,e,i){return n(!t.isZero()),this.isZero()?{div:new s(0),mod:new s(0)}:0!==this.negative&&0===t.negative?(a=this.neg().divmod(t,e),"mod"!==e&&(r=a.div.neg()),"div"!==e&&(o=a.mod.neg(),i&&0!==o.negative&&o.iadd(t)),{div:r,mod:o}):0===this.negative&&0!==t.negative?(a=this.divmod(t.neg(),e),"mod"!==e&&(r=a.div.neg()),{div:r,mod:a.mod}):0!=(this.negative&t.negative)?(a=this.neg().divmod(t.neg(),e),"div"!==e&&(o=a.mod.neg(),i&&0!==o.negative&&o.isub(t)),{div:a.div,mod:o}):t.length>this.length||this.cmp(t)<0?{div:new s(0),mod:this}:1===t.length?"div"===e?{div:this.divn(t.words[0]),mod:null}:"mod"===e?{div:null,mod:new s(this.modn(t.words[0]))}:{div:this.divn(t.words[0]),mod:new s(this.modn(t.words[0]))}:this._wordDiv(t,e);var r,o,a},s.prototype.div=function(t){return this.divmod(t,"div",!1).div},s.prototype.mod=function(t){return this.divmod(t,"mod",!1).mod},s.prototype.umod=function(t){return this.divmod(t,"mod",!0).mod},s.prototype.divRound=function(t){var e=this.divmod(t);if(e.mod.isZero())return e.div;var n=0!==e.div.negative?e.mod.isub(t):e.mod,i=t.ushrn(1),r=t.andln(1),s=n.cmp(i);return s<0||1===r&&0===s?e.div:0!==e.div.negative?e.div.isubn(1):e.div.iaddn(1)},s.prototype.modn=function(t){n(t<=67108863);for(var e=67108864%t,i=0,r=this.length-1;r>=0;r--)i=(e*i+(0|this.words[r]))%t;return i},s.prototype.idivn=function(t){n(t<=67108863);for(var e=0,i=this.length-1;i>=0;i--){var r=(0|this.words[i])+67108864*e;this.words[i]=r/t|0,e=r%t}return this.strip()},s.prototype.divn=function(t){return this.clone().idivn(t)},s.prototype.egcd=function(t){n(0===t.negative),n(!t.isZero());var e=this,i=t.clone();e=0!==e.negative?e.umod(t):e.clone();for(var r=new s(1),o=new s(0),a=new s(0),h=new s(1),u=0;e.isEven()&&i.isEven();)e.iushrn(1),i.iushrn(1),++u;for(var l=i.clone(),c=e.clone();!e.isZero();){for(var d=0,f=1;0==(e.words[0]&f)&&d<26;++d,f<<=1);if(d>0)for(e.iushrn(d);d-- >0;)(r.isOdd()||o.isOdd())&&(r.iadd(l),o.isub(c)),r.iushrn(1),o.iushrn(1);for(var p=0,m=1;0==(i.words[0]&m)&&p<26;++p,m<<=1);if(p>0)for(i.iushrn(p);p-- >0;)(a.isOdd()||h.isOdd())&&(a.iadd(l),h.isub(c)),a.iushrn(1),h.iushrn(1);e.cmp(i)>=0?(e.isub(i),r.isub(a),o.isub(h)):(i.isub(e),a.isub(r),h.isub(o))}return{a:a,b:h,gcd:i.iushln(u)}},s.prototype._invmp=function(t){n(0===t.negative),n(!t.isZero());var e=this,i=t.clone();e=0!==e.negative?e.umod(t):e.clone();for(var r,o=new s(1),a=new s(0),h=i.clone();e.cmpn(1)>0&&i.cmpn(1)>0;){for(var u=0,l=1;0==(e.words[0]&l)&&u<26;++u,l<<=1);if(u>0)for(e.iushrn(u);u-- >0;)o.isOdd()&&o.iadd(h),o.iushrn(1);for(var c=0,d=1;0==(i.words[0]&d)&&c<26;++c,d<<=1);if(c>0)for(i.iushrn(c);c-- >0;)a.isOdd()&&a.iadd(h),a.iushrn(1);e.cmp(i)>=0?(e.isub(i),o.isub(a)):(i.isub(e),a.isub(o))}return(r=0===e.cmpn(1)?o:a).cmpn(0)<0&&r.iadd(t),r},s.prototype.gcd=function(t){if(this.isZero())return t.abs();if(t.isZero())return this.abs();var e=this.clone(),n=t.clone();e.negative=0,n.negative=0;for(var i=0;e.isEven()&&n.isEven();i++)e.iushrn(1),n.iushrn(1);for(;;){for(;e.isEven();)e.iushrn(1);for(;n.isEven();)n.iushrn(1);var r=e.cmp(n);if(r<0){var s=e;e=n,n=s}else if(0===r||0===n.cmpn(1))break;e.isub(n)}return n.iushln(i)},s.prototype.invm=function(t){return this.egcd(t).a.umod(t)},s.prototype.isEven=function(){return 0==(1&this.words[0])},s.prototype.isOdd=function(){return 1==(1&this.words[0])},s.prototype.andln=function(t){return this.words[0]&t},s.prototype.bincn=function(t){n("number"==typeof t);var e=t%26,i=(t-e)/26,r=1<<e;if(this.length<=i)return this._expand(i+1),this.words[i]|=r,this;for(var s=r,o=i;0!==s&&o<this.length;o++){var a=0|this.words[o];s=(a+=s)>>>26,a&=67108863,this.words[o]=a}return 0!==s&&(this.words[o]=s,this.length++),this},s.prototype.isZero=function(){return 1===this.length&&0===this.words[0]},s.prototype.cmpn=function(t){var e,i=t<0;if(0!==this.negative&&!i)return-1;if(0===this.negative&&i)return 1;if(this.strip(),this.length>1)e=1;else{i&&(t=-t),n(t<=67108863,"Number is too big");var r=0|this.words[0];e=r===t?0:r<t?-1:1}return 0!==this.negative?0|-e:e},s.prototype.cmp=function(t){if(0!==this.negative&&0===t.negative)return-1;if(0===this.negative&&0!==t.negative)return 1;var e=this.ucmp(t);return 0!==this.negative?0|-e:e},s.prototype.ucmp=function(t){if(this.length>t.length)return 1;if(this.length<t.length)return-1;for(var e=0,n=this.length-1;n>=0;n--){var i=0|this.words[n],r=0|t.words[n];if(i!==r){i<r?e=-1:i>r&&(e=1);break}}return e},s.prototype.gtn=function(t){return 1===this.cmpn(t)},s.prototype.gt=function(t){return 1===this.cmp(t)},s.prototype.gten=function(t){return this.cmpn(t)>=0},s.prototype.gte=function(t){return this.cmp(t)>=0},s.prototype.ltn=function(t){return-1===this.cmpn(t)},s.prototype.lt=function(t){return-1===this.cmp(t)},s.prototype.lten=function(t){return this.cmpn(t)<=0},s.prototype.lte=function(t){return this.cmp(t)<=0},s.prototype.eqn=function(t){return 0===this.cmpn(t)},s.prototype.eq=function(t){return 0===this.cmp(t)},s.red=function(t){return new k(t)},s.prototype.toRed=function(t){return n(!this.red,"Already a number in reduction context"),n(0===this.negative,"red works only with positives"),t.convertTo(this)._forceRed(t)},s.prototype.fromRed=function(){return n(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},s.prototype._forceRed=function(t){return this.red=t,this},s.prototype.forceRed=function(t){return n(!this.red,"Already a number in reduction context"),this._forceRed(t)},s.prototype.redAdd=function(t){return n(this.red,"redAdd works only with red numbers"),this.red.add(this,t)},s.prototype.redIAdd=function(t){return n(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,t)},s.prototype.redSub=function(t){return n(this.red,"redSub works only with red numbers"),this.red.sub(this,t)},s.prototype.redISub=function(t){return n(this.red,"redISub works only with red numbers"),this.red.isub(this,t)},s.prototype.redShl=function(t){return n(this.red,"redShl works only with red numbers"),this.red.shl(this,t)},s.prototype.redMul=function(t){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,t),this.red.mul(this,t)},s.prototype.redIMul=function(t){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,t),this.red.imul(this,t)},s.prototype.redSqr=function(){return n(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},s.prototype.redISqr=function(){return n(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},s.prototype.redSqrt=function(){return n(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},s.prototype.redInvm=function(){return n(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},s.prototype.redNeg=function(){return n(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},s.prototype.redPow=function(t){return n(this.red&&!t.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,t)};var v={k256:null,p224:null,p192:null,p25519:null};function y(t,e){this.name=t,this.p=new s(e,16),this.n=this.p.bitLength(),this.k=new s(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}function b(){y.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}function w(){y.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}function _(){y.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}function M(){y.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}function k(t){if("string"==typeof t){var e=s._prime(t);this.m=e.p,this.prime=e}else n(t.gtn(1),"modulus must be greater than 1"),this.m=t,this.prime=null}function A(t){k.call(this,t),this.shift=this.m.bitLength(),this.shift%26!=0&&(this.shift+=26-this.shift%26),this.r=new s(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}y.prototype._tmp=function(){var t=new s(null);return t.words=new Array(Math.ceil(this.n/13)),t},y.prototype.ireduce=function(t){var e,n=t;do{this.split(n,this.tmp),e=(n=(n=this.imulK(n)).iadd(this.tmp)).bitLength()}while(e>this.n);var i=e<this.n?-1:n.ucmp(this.p);return 0===i?(n.words[0]=0,n.length=1):i>0?n.isub(this.p):void 0!==n.strip?n.strip():n._strip(),n},y.prototype.split=function(t,e){t.iushrn(this.n,0,e)},y.prototype.imulK=function(t){return t.imul(this.k)},i(b,y),b.prototype.split=function(t,e){for(var n=4194303,i=Math.min(t.length,9),r=0;r<i;r++)e.words[r]=t.words[r];if(e.length=i,t.length<=9)return t.words[0]=0,void(t.length=1);var s=t.words[9];for(e.words[e.length++]=s&n,r=10;r<t.length;r++){var o=0|t.words[r];t.words[r-10]=(o&n)<<4|s>>>22,s=o}s>>>=22,t.words[r-10]=s,0===s&&t.length>10?t.length-=10:t.length-=9},b.prototype.imulK=function(t){t.words[t.length]=0,t.words[t.length+1]=0,t.length+=2;for(var e=0,n=0;n<t.length;n++){var i=0|t.words[n];e+=977*i,t.words[n]=67108863&e,e=64*i+(e/67108864|0)}return 0===t.words[t.length-1]&&(t.length--,0===t.words[t.length-1]&&t.length--),t},i(w,y),i(_,y),i(M,y),M.prototype.imulK=function(t){for(var e=0,n=0;n<t.length;n++){var i=19*(0|t.words[n])+e,r=67108863&i;i>>>=26,t.words[n]=r,e=i}return 0!==e&&(t.words[t.length++]=e),t},s._prime=function(t){if(v[t])return v[t];var e;if("k256"===t)e=new b;else if("p224"===t)e=new w;else if("p192"===t)e=new _;else{if("p25519"!==t)throw new Error("Unknown prime "+t);e=new M}return v[t]=e,e},k.prototype._verify1=function(t){n(0===t.negative,"red works only with positives"),n(t.red,"red works only with red numbers")},k.prototype._verify2=function(t,e){n(0==(t.negative|e.negative),"red works only with positives"),n(t.red&&t.red===e.red,"red works only with red numbers")},k.prototype.imod=function(t){return this.prime?this.prime.ireduce(t)._forceRed(this):t.umod(this.m)._forceRed(this)},k.prototype.neg=function(t){return t.isZero()?t.clone():this.m.sub(t)._forceRed(this)},k.prototype.add=function(t,e){this._verify2(t,e);var n=t.add(e);return n.cmp(this.m)>=0&&n.isub(this.m),n._forceRed(this)},k.prototype.iadd=function(t,e){this._verify2(t,e);var n=t.iadd(e);return n.cmp(this.m)>=0&&n.isub(this.m),n},k.prototype.sub=function(t,e){this._verify2(t,e);var n=t.sub(e);return n.cmpn(0)<0&&n.iadd(this.m),n._forceRed(this)},k.prototype.isub=function(t,e){this._verify2(t,e);var n=t.isub(e);return n.cmpn(0)<0&&n.iadd(this.m),n},k.prototype.shl=function(t,e){return this._verify1(t),this.imod(t.ushln(e))},k.prototype.imul=function(t,e){return this._verify2(t,e),this.imod(t.imul(e))},k.prototype.mul=function(t,e){return this._verify2(t,e),this.imod(t.mul(e))},k.prototype.isqr=function(t){return this.imul(t,t.clone())},k.prototype.sqr=function(t){return this.mul(t,t)},k.prototype.sqrt=function(t){if(t.isZero())return t.clone();var e=this.m.andln(3);if(n(e%2==1),3===e){var i=this.m.add(new s(1)).iushrn(2);return this.pow(t,i)}for(var r=this.m.subn(1),o=0;!r.isZero()&&0===r.andln(1);)o++,r.iushrn(1);n(!r.isZero());var a=new s(1).toRed(this),h=a.redNeg(),u=this.m.subn(1).iushrn(1),l=this.m.bitLength();for(l=new s(2*l*l).toRed(this);0!==this.pow(l,u).cmp(h);)l.redIAdd(h);for(var c=this.pow(l,r),d=this.pow(t,r.addn(1).iushrn(1)),f=this.pow(t,r),p=o;0!==f.cmp(a);){for(var m=f,g=0;0!==m.cmp(a);g++)m=m.redSqr();n(g<p);var v=this.pow(c,new s(1).iushln(p-g-1));d=d.redMul(v),c=v.redSqr(),f=f.redMul(c),p=g}return d},k.prototype.invm=function(t){var e=t._invmp(this.m);return 0!==e.negative?(e.negative=0,this.imod(e).redNeg()):this.imod(e)},k.prototype.pow=function(t,e){if(e.isZero())return new s(1).toRed(this);if(0===e.cmpn(1))return t.clone();var n=new Array(16);n[0]=new s(1).toRed(this),n[1]=t;for(var i=2;i<n.length;i++)n[i]=this.mul(n[i-1],t);var r=n[0],o=0,a=0,h=e.bitLength()%26;for(0===h&&(h=26),i=e.length-1;i>=0;i--){for(var u=e.words[i],l=h-1;l>=0;l--){var c=u>>l&1;r!==n[0]&&(r=this.sqr(r)),0!==c||0!==o?(o<<=1,o|=c,(4===++a||0===i&&0===l)&&(r=this.mul(r,n[o]),a=0,o=0)):a=0}h=26}return r},k.prototype.convertTo=function(t){var e=t.umod(this.m);return e===t?e.clone():e},k.prototype.convertFrom=function(t){var e=t.clone();return e.red=null,e},s.mont=function(t){return new A(t)},i(A,k),A.prototype.convertTo=function(t){return this.imod(t.ushln(this.shift))},A.prototype.convertFrom=function(t){var e=this.imod(t.mul(this.rinv));return e.red=null,e},A.prototype.imul=function(t,e){if(t.isZero()||e.isZero())return t.words[0]=0,t.length=1,t;var n=t.imul(e),i=n.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),r=n.isub(i).iushrn(this.shift),s=r;return r.cmp(this.m)>=0?s=r.isub(this.m):r.cmpn(0)<0&&(s=r.iadd(this.m)),s._forceRed(this)},A.prototype.mul=function(t,e){if(t.isZero()||e.isZero())return new s(0)._forceRed(this);var n=t.mul(e),i=n.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),r=n.isub(i).iushrn(this.shift),o=r;return r.cmp(this.m)>=0?o=r.isub(this.m):r.cmpn(0)<0&&(o=r.iadd(this.m)),o._forceRed(this)},A.prototype.invm=function(t){return this.imod(t._invmp(this.m).mul(this.r2))._forceRed(this)}}(t,this)})),r.register("TFXOD",(function(t,e){var n=r("2IoDw"),i=r("9m54X");function s(t){this.rand=t||new i.Rand}t.exports=s,s.create=function(t){return new s(t)},s.prototype._randbelow=function(t){var e=t.bitLength(),i=Math.ceil(e/8);do{var r=new n(this.rand.generate(i))}while(r.cmp(t)>=0);return r},s.prototype._randrange=function(t,e){var n=e.sub(t);return t.add(this._randbelow(n))},s.prototype.test=function(t,e,i){var r=t.bitLength(),s=n.mont(t),o=new n(1).toRed(s);e||(e=Math.max(1,r/48|0));for(var a=t.subn(1),h=0;!a.testn(h);h++);for(var u=t.shrn(h),l=a.toRed(s);e>0;e--){var c=this._randrange(new n(2),a);i&&i(c);var d=c.toRed(s).redPow(u);if(0!==d.cmp(o)&&0!==d.cmp(l)){for(var f=1;f<h;f++){if(0===(d=d.redSqr()).cmp(o))return!1;if(0===d.cmp(l))break}if(f===h)return!1}}return!0},s.prototype.getDivisor=function(t,e){var i=t.bitLength(),r=n.mont(t),s=new n(1).toRed(r);e||(e=Math.max(1,i/48|0));for(var o=t.subn(1),a=0;!o.testn(a);a++);for(var h=t.shrn(a),u=o.toRed(r);e>0;e--){var l=this._randrange(new n(2),o),c=t.gcd(l);if(0!==c.cmpn(1))return c;var d=l.toRed(r).redPow(h);if(0!==d.cmp(s)&&0!==d.cmp(u)){for(var f=1;f<a;f++){if(0===(d=d.redSqr()).cmp(s))return d.fromRed().subn(1).gcd(t);if(0===d.cmp(u))break}if(f===a)return(d=d.redSqr()).fromRed().subn(1).gcd(t)}}return!1}})),r.register("2IoDw",(function(t,e){!function(t,e){function n(t,e){if(!t)throw new Error(e||"Assertion failed")}function i(t,e){t.super_=e;var n=function(){};n.prototype=e.prototype,t.prototype=new n,t.prototype.constructor=t}function s(t,e,n){if(s.isBN(t))return t;this.negative=0,this.words=null,this.length=0,this.red=null,null!==t&&("le"!==e&&"be"!==e||(n=e,e=10),this._init(t||0,e||10,n||"be"))}var o;"object"==typeof t?t.exports=s:e.BN=s,s.BN=s,s.wordSize=26;try{o="undefined"!=typeof window&&void 0!==window.Buffer?window.Buffer:r("66yC2").Buffer}catch(t){}function a(t,e){var n=t.charCodeAt(e);return n>=65&&n<=70?n-55:n>=97&&n<=102?n-87:n-48&15}function h(t,e,n){var i=a(t,n);return n-1>=e&&(i|=a(t,n-1)<<4),i}function u(t,e,n,i){for(var r=0,s=Math.min(t.length,n),o=e;o<s;o++){var a=t.charCodeAt(o)-48;r*=i,r+=a>=49?a-49+10:a>=17?a-17+10:a}return r}s.isBN=function(t){return t instanceof s||null!==t&&"object"==typeof t&&t.constructor.wordSize===s.wordSize&&Array.isArray(t.words)},s.max=function(t,e){return t.cmp(e)>0?t:e},s.min=function(t,e){return t.cmp(e)<0?t:e},s.prototype._init=function(t,e,i){if("number"==typeof t)return this._initNumber(t,e,i);if("object"==typeof t)return this._initArray(t,e,i);"hex"===e&&(e=16),n(e===(0|e)&&e>=2&&e<=36);var r=0;"-"===(t=t.toString().replace(/\s+/g,""))[0]&&(r++,this.negative=1),r<t.length&&(16===e?this._parseHex(t,r,i):(this._parseBase(t,e,r),"le"===i&&this._initArray(this.toArray(),e,i)))},s.prototype._initNumber=function(t,e,i){t<0&&(this.negative=1,t=-t),t<67108864?(this.words=[67108863&t],this.length=1):t<4503599627370496?(this.words=[67108863&t,t/67108864&67108863],this.length=2):(n(t<9007199254740992),this.words=[67108863&t,t/67108864&67108863,1],this.length=3),"le"===i&&this._initArray(this.toArray(),e,i)},s.prototype._initArray=function(t,e,i){if(n("number"==typeof t.length),t.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(t.length/3),this.words=new Array(this.length);for(var r=0;r<this.length;r++)this.words[r]=0;var s,o,a=0;if("be"===i)for(r=t.length-1,s=0;r>=0;r-=3)o=t[r]|t[r-1]<<8|t[r-2]<<16,this.words[s]|=o<<a&67108863,this.words[s+1]=o>>>26-a&67108863,(a+=24)>=26&&(a-=26,s++);else if("le"===i)for(r=0,s=0;r<t.length;r+=3)o=t[r]|t[r+1]<<8|t[r+2]<<16,this.words[s]|=o<<a&67108863,this.words[s+1]=o>>>26-a&67108863,(a+=24)>=26&&(a-=26,s++);return this.strip()},s.prototype._parseHex=function(t,e,n){this.length=Math.ceil((t.length-e)/6),this.words=new Array(this.length);for(var i=0;i<this.length;i++)this.words[i]=0;var r,s=0,o=0;if("be"===n)for(i=t.length-1;i>=e;i-=2)r=h(t,e,i)<<s,this.words[o]|=67108863&r,s>=18?(s-=18,o+=1,this.words[o]|=r>>>26):s+=8;else for(i=(t.length-e)%2==0?e+1:e;i<t.length;i+=2)r=h(t,e,i)<<s,this.words[o]|=67108863&r,s>=18?(s-=18,o+=1,this.words[o]|=r>>>26):s+=8;this.strip()},s.prototype._parseBase=function(t,e,n){this.words=[0],this.length=1;for(var i=0,r=1;r<=67108863;r*=e)i++;i--,r=r/e|0;for(var s=t.length-n,o=s%i,a=Math.min(s,s-o)+n,h=0,l=n;l<a;l+=i)h=u(t,l,l+i,e),this.imuln(r),this.words[0]+h<67108864?this.words[0]+=h:this._iaddn(h);if(0!==o){var c=1;for(h=u(t,l,t.length,e),l=0;l<o;l++)c*=e;this.imuln(c),this.words[0]+h<67108864?this.words[0]+=h:this._iaddn(h)}this.strip()},s.prototype.copy=function(t){t.words=new Array(this.length);for(var e=0;e<this.length;e++)t.words[e]=this.words[e];t.length=this.length,t.negative=this.negative,t.red=this.red},s.prototype.clone=function(){var t=new s(null);return this.copy(t),t},s.prototype._expand=function(t){for(;this.length<t;)this.words[this.length++]=0;return this},s.prototype.strip=function(){for(;this.length>1&&0===this.words[this.length-1];)this.length--;return this._normSign()},s.prototype._normSign=function(){return 1===this.length&&0===this.words[0]&&(this.negative=0),this},s.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var l=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],c=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],d=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];function f(t,e,n){n.negative=e.negative^t.negative;var i=t.length+e.length|0;n.length=i,i=i-1|0;var r=0|t.words[0],s=0|e.words[0],o=r*s,a=67108863&o,h=o/67108864|0;n.words[0]=a;for(var u=1;u<i;u++){for(var l=h>>>26,c=67108863&h,d=Math.min(u,e.length-1),f=Math.max(0,u-t.length+1);f<=d;f++){var p=u-f|0;l+=(o=(r=0|t.words[p])*(s=0|e.words[f])+c)/67108864|0,c=67108863&o}n.words[u]=0|c,h=0|l}return 0!==h?n.words[u]=0|h:n.length--,n.strip()}s.prototype.toString=function(t,e){var i;if(e=0|e||1,16===(t=t||10)||"hex"===t){i="";for(var r=0,s=0,o=0;o<this.length;o++){var a=this.words[o],h=(16777215&(a<<r|s)).toString(16);i=0!==(s=a>>>24-r&16777215)||o!==this.length-1?l[6-h.length]+h+i:h+i,(r+=2)>=26&&(r-=26,o--)}for(0!==s&&(i=s.toString(16)+i);i.length%e!=0;)i="0"+i;return 0!==this.negative&&(i="-"+i),i}if(t===(0|t)&&t>=2&&t<=36){var u=c[t],f=d[t];i="";var p=this.clone();for(p.negative=0;!p.isZero();){var m=p.modn(f).toString(t);i=(p=p.idivn(f)).isZero()?m+i:l[u-m.length]+m+i}for(this.isZero()&&(i="0"+i);i.length%e!=0;)i="0"+i;return 0!==this.negative&&(i="-"+i),i}n(!1,"Base should be between 2 and 36")},s.prototype.toNumber=function(){var t=this.words[0];return 2===this.length?t+=67108864*this.words[1]:3===this.length&&1===this.words[2]?t+=4503599627370496+67108864*this.words[1]:this.length>2&&n(!1,"Number can only safely store up to 53 bits"),0!==this.negative?-t:t},s.prototype.toJSON=function(){return this.toString(16)},s.prototype.toBuffer=function(t,e){return n(void 0!==o),this.toArrayLike(o,t,e)},s.prototype.toArray=function(t,e){return this.toArrayLike(Array,t,e)},s.prototype.toArrayLike=function(t,e,i){var r=this.byteLength(),s=i||Math.max(1,r);n(r<=s,"byte array longer than desired length"),n(s>0,"Requested array length <= 0"),this.strip();var o,a,h="le"===e,u=new t(s),l=this.clone();if(h){for(a=0;!l.isZero();a++)o=l.andln(255),l.iushrn(8),u[a]=o;for(;a<s;a++)u[a]=0}else{for(a=0;a<s-r;a++)u[a]=0;for(a=0;!l.isZero();a++)o=l.andln(255),l.iushrn(8),u[s-a-1]=o}return u},Math.clz32?s.prototype._countBits=function(t){return 32-Math.clz32(t)}:s.prototype._countBits=function(t){var e=t,n=0;return e>=4096&&(n+=13,e>>>=13),e>=64&&(n+=7,e>>>=7),e>=8&&(n+=4,e>>>=4),e>=2&&(n+=2,e>>>=2),n+e},s.prototype._zeroBits=function(t){if(0===t)return 26;var e=t,n=0;return 0==(8191&e)&&(n+=13,e>>>=13),0==(127&e)&&(n+=7,e>>>=7),0==(15&e)&&(n+=4,e>>>=4),0==(3&e)&&(n+=2,e>>>=2),0==(1&e)&&n++,n},s.prototype.bitLength=function(){var t=this.words[this.length-1],e=this._countBits(t);return 26*(this.length-1)+e},s.prototype.zeroBits=function(){if(this.isZero())return 0;for(var t=0,e=0;e<this.length;e++){var n=this._zeroBits(this.words[e]);if(t+=n,26!==n)break}return t},s.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},s.prototype.toTwos=function(t){return 0!==this.negative?this.abs().inotn(t).iaddn(1):this.clone()},s.prototype.fromTwos=function(t){return this.testn(t-1)?this.notn(t).iaddn(1).ineg():this.clone()},s.prototype.isNeg=function(){return 0!==this.negative},s.prototype.neg=function(){return this.clone().ineg()},s.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},s.prototype.iuor=function(t){for(;this.length<t.length;)this.words[this.length++]=0;for(var e=0;e<t.length;e++)this.words[e]=this.words[e]|t.words[e];return this.strip()},s.prototype.ior=function(t){return n(0==(this.negative|t.negative)),this.iuor(t)},s.prototype.or=function(t){return this.length>t.length?this.clone().ior(t):t.clone().ior(this)},s.prototype.uor=function(t){return this.length>t.length?this.clone().iuor(t):t.clone().iuor(this)},s.prototype.iuand=function(t){var e;e=this.length>t.length?t:this;for(var n=0;n<e.length;n++)this.words[n]=this.words[n]&t.words[n];return this.length=e.length,this.strip()},s.prototype.iand=function(t){return n(0==(this.negative|t.negative)),this.iuand(t)},s.prototype.and=function(t){return this.length>t.length?this.clone().iand(t):t.clone().iand(this)},s.prototype.uand=function(t){return this.length>t.length?this.clone().iuand(t):t.clone().iuand(this)},s.prototype.iuxor=function(t){var e,n;this.length>t.length?(e=this,n=t):(e=t,n=this);for(var i=0;i<n.length;i++)this.words[i]=e.words[i]^n.words[i];if(this!==e)for(;i<e.length;i++)this.words[i]=e.words[i];return this.length=e.length,this.strip()},s.prototype.ixor=function(t){return n(0==(this.negative|t.negative)),this.iuxor(t)},s.prototype.xor=function(t){return this.length>t.length?this.clone().ixor(t):t.clone().ixor(this)},s.prototype.uxor=function(t){return this.length>t.length?this.clone().iuxor(t):t.clone().iuxor(this)},s.prototype.inotn=function(t){n("number"==typeof t&&t>=0);var e=0|Math.ceil(t/26),i=t%26;this._expand(e),i>0&&e--;for(var r=0;r<e;r++)this.words[r]=67108863&~this.words[r];return i>0&&(this.words[r]=~this.words[r]&67108863>>26-i),this.strip()},s.prototype.notn=function(t){return this.clone().inotn(t)},s.prototype.setn=function(t,e){n("number"==typeof t&&t>=0);var i=t/26|0,r=t%26;return this._expand(i+1),this.words[i]=e?this.words[i]|1<<r:this.words[i]&~(1<<r),this.strip()},s.prototype.iadd=function(t){var e,n,i;if(0!==this.negative&&0===t.negative)return this.negative=0,e=this.isub(t),this.negative^=1,this._normSign();if(0===this.negative&&0!==t.negative)return t.negative=0,e=this.isub(t),t.negative=1,e._normSign();this.length>t.length?(n=this,i=t):(n=t,i=this);for(var r=0,s=0;s<i.length;s++)e=(0|n.words[s])+(0|i.words[s])+r,this.words[s]=67108863&e,r=e>>>26;for(;0!==r&&s<n.length;s++)e=(0|n.words[s])+r,this.words[s]=67108863&e,r=e>>>26;if(this.length=n.length,0!==r)this.words[this.length]=r,this.length++;else if(n!==this)for(;s<n.length;s++)this.words[s]=n.words[s];return this},s.prototype.add=function(t){var e;return 0!==t.negative&&0===this.negative?(t.negative=0,e=this.sub(t),t.negative^=1,e):0===t.negative&&0!==this.negative?(this.negative=0,e=t.sub(this),this.negative=1,e):this.length>t.length?this.clone().iadd(t):t.clone().iadd(this)},s.prototype.isub=function(t){if(0!==t.negative){t.negative=0;var e=this.iadd(t);return t.negative=1,e._normSign()}if(0!==this.negative)return this.negative=0,this.iadd(t),this.negative=1,this._normSign();var n,i,r=this.cmp(t);if(0===r)return this.negative=0,this.length=1,this.words[0]=0,this;r>0?(n=this,i=t):(n=t,i=this);for(var s=0,o=0;o<i.length;o++)s=(e=(0|n.words[o])-(0|i.words[o])+s)>>26,this.words[o]=67108863&e;for(;0!==s&&o<n.length;o++)s=(e=(0|n.words[o])+s)>>26,this.words[o]=67108863&e;if(0===s&&o<n.length&&n!==this)for(;o<n.length;o++)this.words[o]=n.words[o];return this.length=Math.max(this.length,o),n!==this&&(this.negative=1),this.strip()},s.prototype.sub=function(t){return this.clone().isub(t)};var p=function(t,e,n){var i,r,s,o=t.words,a=e.words,h=n.words,u=0,l=0|o[0],c=8191&l,d=l>>>13,f=0|o[1],p=8191&f,m=f>>>13,g=0|o[2],v=8191&g,y=g>>>13,b=0|o[3],w=8191&b,_=b>>>13,M=0|o[4],k=8191&M,A=M>>>13,E=0|o[5],x=8191&E,S=E>>>13,T=0|o[6],I=8191&T,R=T>>>13,C=0|o[7],q=8191&C,N=C>>>13,L=0|o[8],D=8191&L,O=L>>>13,B=0|o[9],P=8191&B,U=B>>>13,F=0|a[0],j=8191&F,z=F>>>13,V=0|a[1],H=8191&V,K=V>>>13,W=0|a[2],G=8191&W,$=W>>>13,Q=0|a[3],X=8191&Q,Z=Q>>>13,Y=0|a[4],J=8191&Y,tt=Y>>>13,et=0|a[5],nt=8191&et,it=et>>>13,rt=0|a[6],st=8191&rt,ot=rt>>>13,at=0|a[7],ht=8191&at,ut=at>>>13,lt=0|a[8],ct=8191&lt,dt=lt>>>13,ft=0|a[9],pt=8191&ft,mt=ft>>>13;n.negative=t.negative^e.negative,n.length=19;var gt=(u+(i=Math.imul(c,j))|0)+((8191&(r=(r=Math.imul(c,z))+Math.imul(d,j)|0))<<13)|0;u=((s=Math.imul(d,z))+(r>>>13)|0)+(gt>>>26)|0,gt&=67108863,i=Math.imul(p,j),r=(r=Math.imul(p,z))+Math.imul(m,j)|0,s=Math.imul(m,z);var vt=(u+(i=i+Math.imul(c,H)|0)|0)+((8191&(r=(r=r+Math.imul(c,K)|0)+Math.imul(d,H)|0))<<13)|0;u=((s=s+Math.imul(d,K)|0)+(r>>>13)|0)+(vt>>>26)|0,vt&=67108863,i=Math.imul(v,j),r=(r=Math.imul(v,z))+Math.imul(y,j)|0,s=Math.imul(y,z),i=i+Math.imul(p,H)|0,r=(r=r+Math.imul(p,K)|0)+Math.imul(m,H)|0,s=s+Math.imul(m,K)|0;var yt=(u+(i=i+Math.imul(c,G)|0)|0)+((8191&(r=(r=r+Math.imul(c,$)|0)+Math.imul(d,G)|0))<<13)|0;u=((s=s+Math.imul(d,$)|0)+(r>>>13)|0)+(yt>>>26)|0,yt&=67108863,i=Math.imul(w,j),r=(r=Math.imul(w,z))+Math.imul(_,j)|0,s=Math.imul(_,z),i=i+Math.imul(v,H)|0,r=(r=r+Math.imul(v,K)|0)+Math.imul(y,H)|0,s=s+Math.imul(y,K)|0,i=i+Math.imul(p,G)|0,r=(r=r+Math.imul(p,$)|0)+Math.imul(m,G)|0,s=s+Math.imul(m,$)|0;var bt=(u+(i=i+Math.imul(c,X)|0)|0)+((8191&(r=(r=r+Math.imul(c,Z)|0)+Math.imul(d,X)|0))<<13)|0;u=((s=s+Math.imul(d,Z)|0)+(r>>>13)|0)+(bt>>>26)|0,bt&=67108863,i=Math.imul(k,j),r=(r=Math.imul(k,z))+Math.imul(A,j)|0,s=Math.imul(A,z),i=i+Math.imul(w,H)|0,r=(r=r+Math.imul(w,K)|0)+Math.imul(_,H)|0,s=s+Math.imul(_,K)|0,i=i+Math.imul(v,G)|0,r=(r=r+Math.imul(v,$)|0)+Math.imul(y,G)|0,s=s+Math.imul(y,$)|0,i=i+Math.imul(p,X)|0,r=(r=r+Math.imul(p,Z)|0)+Math.imul(m,X)|0,s=s+Math.imul(m,Z)|0;var wt=(u+(i=i+Math.imul(c,J)|0)|0)+((8191&(r=(r=r+Math.imul(c,tt)|0)+Math.imul(d,J)|0))<<13)|0;u=((s=s+Math.imul(d,tt)|0)+(r>>>13)|0)+(wt>>>26)|0,wt&=67108863,i=Math.imul(x,j),r=(r=Math.imul(x,z))+Math.imul(S,j)|0,s=Math.imul(S,z),i=i+Math.imul(k,H)|0,r=(r=r+Math.imul(k,K)|0)+Math.imul(A,H)|0,s=s+Math.imul(A,K)|0,i=i+Math.imul(w,G)|0,r=(r=r+Math.imul(w,$)|0)+Math.imul(_,G)|0,s=s+Math.imul(_,$)|0,i=i+Math.imul(v,X)|0,r=(r=r+Math.imul(v,Z)|0)+Math.imul(y,X)|0,s=s+Math.imul(y,Z)|0,i=i+Math.imul(p,J)|0,r=(r=r+Math.imul(p,tt)|0)+Math.imul(m,J)|0,s=s+Math.imul(m,tt)|0;var _t=(u+(i=i+Math.imul(c,nt)|0)|0)+((8191&(r=(r=r+Math.imul(c,it)|0)+Math.imul(d,nt)|0))<<13)|0;u=((s=s+Math.imul(d,it)|0)+(r>>>13)|0)+(_t>>>26)|0,_t&=67108863,i=Math.imul(I,j),r=(r=Math.imul(I,z))+Math.imul(R,j)|0,s=Math.imul(R,z),i=i+Math.imul(x,H)|0,r=(r=r+Math.imul(x,K)|0)+Math.imul(S,H)|0,s=s+Math.imul(S,K)|0,i=i+Math.imul(k,G)|0,r=(r=r+Math.imul(k,$)|0)+Math.imul(A,G)|0,s=s+Math.imul(A,$)|0,i=i+Math.imul(w,X)|0,r=(r=r+Math.imul(w,Z)|0)+Math.imul(_,X)|0,s=s+Math.imul(_,Z)|0,i=i+Math.imul(v,J)|0,r=(r=r+Math.imul(v,tt)|0)+Math.imul(y,J)|0,s=s+Math.imul(y,tt)|0,i=i+Math.imul(p,nt)|0,r=(r=r+Math.imul(p,it)|0)+Math.imul(m,nt)|0,s=s+Math.imul(m,it)|0;var Mt=(u+(i=i+Math.imul(c,st)|0)|0)+((8191&(r=(r=r+Math.imul(c,ot)|0)+Math.imul(d,st)|0))<<13)|0;u=((s=s+Math.imul(d,ot)|0)+(r>>>13)|0)+(Mt>>>26)|0,Mt&=67108863,i=Math.imul(q,j),r=(r=Math.imul(q,z))+Math.imul(N,j)|0,s=Math.imul(N,z),i=i+Math.imul(I,H)|0,r=(r=r+Math.imul(I,K)|0)+Math.imul(R,H)|0,s=s+Math.imul(R,K)|0,i=i+Math.imul(x,G)|0,r=(r=r+Math.imul(x,$)|0)+Math.imul(S,G)|0,s=s+Math.imul(S,$)|0,i=i+Math.imul(k,X)|0,r=(r=r+Math.imul(k,Z)|0)+Math.imul(A,X)|0,s=s+Math.imul(A,Z)|0,i=i+Math.imul(w,J)|0,r=(r=r+Math.imul(w,tt)|0)+Math.imul(_,J)|0,s=s+Math.imul(_,tt)|0,i=i+Math.imul(v,nt)|0,r=(r=r+Math.imul(v,it)|0)+Math.imul(y,nt)|0,s=s+Math.imul(y,it)|0,i=i+Math.imul(p,st)|0,r=(r=r+Math.imul(p,ot)|0)+Math.imul(m,st)|0,s=s+Math.imul(m,ot)|0;var kt=(u+(i=i+Math.imul(c,ht)|0)|0)+((8191&(r=(r=r+Math.imul(c,ut)|0)+Math.imul(d,ht)|0))<<13)|0;u=((s=s+Math.imul(d,ut)|0)+(r>>>13)|0)+(kt>>>26)|0,kt&=67108863,i=Math.imul(D,j),r=(r=Math.imul(D,z))+Math.imul(O,j)|0,s=Math.imul(O,z),i=i+Math.imul(q,H)|0,r=(r=r+Math.imul(q,K)|0)+Math.imul(N,H)|0,s=s+Math.imul(N,K)|0,i=i+Math.imul(I,G)|0,r=(r=r+Math.imul(I,$)|0)+Math.imul(R,G)|0,s=s+Math.imul(R,$)|0,i=i+Math.imul(x,X)|0,r=(r=r+Math.imul(x,Z)|0)+Math.imul(S,X)|0,s=s+Math.imul(S,Z)|0,i=i+Math.imul(k,J)|0,r=(r=r+Math.imul(k,tt)|0)+Math.imul(A,J)|0,s=s+Math.imul(A,tt)|0,i=i+Math.imul(w,nt)|0,r=(r=r+Math.imul(w,it)|0)+Math.imul(_,nt)|0,s=s+Math.imul(_,it)|0,i=i+Math.imul(v,st)|0,r=(r=r+Math.imul(v,ot)|0)+Math.imul(y,st)|0,s=s+Math.imul(y,ot)|0,i=i+Math.imul(p,ht)|0,r=(r=r+Math.imul(p,ut)|0)+Math.imul(m,ht)|0,s=s+Math.imul(m,ut)|0;var At=(u+(i=i+Math.imul(c,ct)|0)|0)+((8191&(r=(r=r+Math.imul(c,dt)|0)+Math.imul(d,ct)|0))<<13)|0;u=((s=s+Math.imul(d,dt)|0)+(r>>>13)|0)+(At>>>26)|0,At&=67108863,i=Math.imul(P,j),r=(r=Math.imul(P,z))+Math.imul(U,j)|0,s=Math.imul(U,z),i=i+Math.imul(D,H)|0,r=(r=r+Math.imul(D,K)|0)+Math.imul(O,H)|0,s=s+Math.imul(O,K)|0,i=i+Math.imul(q,G)|0,r=(r=r+Math.imul(q,$)|0)+Math.imul(N,G)|0,s=s+Math.imul(N,$)|0,i=i+Math.imul(I,X)|0,r=(r=r+Math.imul(I,Z)|0)+Math.imul(R,X)|0,s=s+Math.imul(R,Z)|0,i=i+Math.imul(x,J)|0,r=(r=r+Math.imul(x,tt)|0)+Math.imul(S,J)|0,s=s+Math.imul(S,tt)|0,i=i+Math.imul(k,nt)|0,r=(r=r+Math.imul(k,it)|0)+Math.imul(A,nt)|0,s=s+Math.imul(A,it)|0,i=i+Math.imul(w,st)|0,r=(r=r+Math.imul(w,ot)|0)+Math.imul(_,st)|0,s=s+Math.imul(_,ot)|0,i=i+Math.imul(v,ht)|0,r=(r=r+Math.imul(v,ut)|0)+Math.imul(y,ht)|0,s=s+Math.imul(y,ut)|0,i=i+Math.imul(p,ct)|0,r=(r=r+Math.imul(p,dt)|0)+Math.imul(m,ct)|0,s=s+Math.imul(m,dt)|0;var Et=(u+(i=i+Math.imul(c,pt)|0)|0)+((8191&(r=(r=r+Math.imul(c,mt)|0)+Math.imul(d,pt)|0))<<13)|0;u=((s=s+Math.imul(d,mt)|0)+(r>>>13)|0)+(Et>>>26)|0,Et&=67108863,i=Math.imul(P,H),r=(r=Math.imul(P,K))+Math.imul(U,H)|0,s=Math.imul(U,K),i=i+Math.imul(D,G)|0,r=(r=r+Math.imul(D,$)|0)+Math.imul(O,G)|0,s=s+Math.imul(O,$)|0,i=i+Math.imul(q,X)|0,r=(r=r+Math.imul(q,Z)|0)+Math.imul(N,X)|0,s=s+Math.imul(N,Z)|0,i=i+Math.imul(I,J)|0,r=(r=r+Math.imul(I,tt)|0)+Math.imul(R,J)|0,s=s+Math.imul(R,tt)|0,i=i+Math.imul(x,nt)|0,r=(r=r+Math.imul(x,it)|0)+Math.imul(S,nt)|0,s=s+Math.imul(S,it)|0,i=i+Math.imul(k,st)|0,r=(r=r+Math.imul(k,ot)|0)+Math.imul(A,st)|0,s=s+Math.imul(A,ot)|0,i=i+Math.imul(w,ht)|0,r=(r=r+Math.imul(w,ut)|0)+Math.imul(_,ht)|0,s=s+Math.imul(_,ut)|0,i=i+Math.imul(v,ct)|0,r=(r=r+Math.imul(v,dt)|0)+Math.imul(y,ct)|0,s=s+Math.imul(y,dt)|0;var xt=(u+(i=i+Math.imul(p,pt)|0)|0)+((8191&(r=(r=r+Math.imul(p,mt)|0)+Math.imul(m,pt)|0))<<13)|0;u=((s=s+Math.imul(m,mt)|0)+(r>>>13)|0)+(xt>>>26)|0,xt&=67108863,i=Math.imul(P,G),r=(r=Math.imul(P,$))+Math.imul(U,G)|0,s=Math.imul(U,$),i=i+Math.imul(D,X)|0,r=(r=r+Math.imul(D,Z)|0)+Math.imul(O,X)|0,s=s+Math.imul(O,Z)|0,i=i+Math.imul(q,J)|0,r=(r=r+Math.imul(q,tt)|0)+Math.imul(N,J)|0,s=s+Math.imul(N,tt)|0,i=i+Math.imul(I,nt)|0,r=(r=r+Math.imul(I,it)|0)+Math.imul(R,nt)|0,s=s+Math.imul(R,it)|0,i=i+Math.imul(x,st)|0,r=(r=r+Math.imul(x,ot)|0)+Math.imul(S,st)|0,s=s+Math.imul(S,ot)|0,i=i+Math.imul(k,ht)|0,r=(r=r+Math.imul(k,ut)|0)+Math.imul(A,ht)|0,s=s+Math.imul(A,ut)|0,i=i+Math.imul(w,ct)|0,r=(r=r+Math.imul(w,dt)|0)+Math.imul(_,ct)|0,s=s+Math.imul(_,dt)|0;var St=(u+(i=i+Math.imul(v,pt)|0)|0)+((8191&(r=(r=r+Math.imul(v,mt)|0)+Math.imul(y,pt)|0))<<13)|0;u=((s=s+Math.imul(y,mt)|0)+(r>>>13)|0)+(St>>>26)|0,St&=67108863,i=Math.imul(P,X),r=(r=Math.imul(P,Z))+Math.imul(U,X)|0,s=Math.imul(U,Z),i=i+Math.imul(D,J)|0,r=(r=r+Math.imul(D,tt)|0)+Math.imul(O,J)|0,s=s+Math.imul(O,tt)|0,i=i+Math.imul(q,nt)|0,r=(r=r+Math.imul(q,it)|0)+Math.imul(N,nt)|0,s=s+Math.imul(N,it)|0,i=i+Math.imul(I,st)|0,r=(r=r+Math.imul(I,ot)|0)+Math.imul(R,st)|0,s=s+Math.imul(R,ot)|0,i=i+Math.imul(x,ht)|0,r=(r=r+Math.imul(x,ut)|0)+Math.imul(S,ht)|0,s=s+Math.imul(S,ut)|0,i=i+Math.imul(k,ct)|0,r=(r=r+Math.imul(k,dt)|0)+Math.imul(A,ct)|0,s=s+Math.imul(A,dt)|0;var Tt=(u+(i=i+Math.imul(w,pt)|0)|0)+((8191&(r=(r=r+Math.imul(w,mt)|0)+Math.imul(_,pt)|0))<<13)|0;u=((s=s+Math.imul(_,mt)|0)+(r>>>13)|0)+(Tt>>>26)|0,Tt&=67108863,i=Math.imul(P,J),r=(r=Math.imul(P,tt))+Math.imul(U,J)|0,s=Math.imul(U,tt),i=i+Math.imul(D,nt)|0,r=(r=r+Math.imul(D,it)|0)+Math.imul(O,nt)|0,s=s+Math.imul(O,it)|0,i=i+Math.imul(q,st)|0,r=(r=r+Math.imul(q,ot)|0)+Math.imul(N,st)|0,s=s+Math.imul(N,ot)|0,i=i+Math.imul(I,ht)|0,r=(r=r+Math.imul(I,ut)|0)+Math.imul(R,ht)|0,s=s+Math.imul(R,ut)|0,i=i+Math.imul(x,ct)|0,r=(r=r+Math.imul(x,dt)|0)+Math.imul(S,ct)|0,s=s+Math.imul(S,dt)|0;var It=(u+(i=i+Math.imul(k,pt)|0)|0)+((8191&(r=(r=r+Math.imul(k,mt)|0)+Math.imul(A,pt)|0))<<13)|0;u=((s=s+Math.imul(A,mt)|0)+(r>>>13)|0)+(It>>>26)|0,It&=67108863,i=Math.imul(P,nt),r=(r=Math.imul(P,it))+Math.imul(U,nt)|0,s=Math.imul(U,it),i=i+Math.imul(D,st)|0,r=(r=r+Math.imul(D,ot)|0)+Math.imul(O,st)|0,s=s+Math.imul(O,ot)|0,i=i+Math.imul(q,ht)|0,r=(r=r+Math.imul(q,ut)|0)+Math.imul(N,ht)|0,s=s+Math.imul(N,ut)|0,i=i+Math.imul(I,ct)|0,r=(r=r+Math.imul(I,dt)|0)+Math.imul(R,ct)|0,s=s+Math.imul(R,dt)|0;var Rt=(u+(i=i+Math.imul(x,pt)|0)|0)+((8191&(r=(r=r+Math.imul(x,mt)|0)+Math.imul(S,pt)|0))<<13)|0;u=((s=s+Math.imul(S,mt)|0)+(r>>>13)|0)+(Rt>>>26)|0,Rt&=67108863,i=Math.imul(P,st),r=(r=Math.imul(P,ot))+Math.imul(U,st)|0,s=Math.imul(U,ot),i=i+Math.imul(D,ht)|0,r=(r=r+Math.imul(D,ut)|0)+Math.imul(O,ht)|0,s=s+Math.imul(O,ut)|0,i=i+Math.imul(q,ct)|0,r=(r=r+Math.imul(q,dt)|0)+Math.imul(N,ct)|0,s=s+Math.imul(N,dt)|0;var Ct=(u+(i=i+Math.imul(I,pt)|0)|0)+((8191&(r=(r=r+Math.imul(I,mt)|0)+Math.imul(R,pt)|0))<<13)|0;u=((s=s+Math.imul(R,mt)|0)+(r>>>13)|0)+(Ct>>>26)|0,Ct&=67108863,i=Math.imul(P,ht),r=(r=Math.imul(P,ut))+Math.imul(U,ht)|0,s=Math.imul(U,ut),i=i+Math.imul(D,ct)|0,r=(r=r+Math.imul(D,dt)|0)+Math.imul(O,ct)|0,s=s+Math.imul(O,dt)|0;var qt=(u+(i=i+Math.imul(q,pt)|0)|0)+((8191&(r=(r=r+Math.imul(q,mt)|0)+Math.imul(N,pt)|0))<<13)|0;u=((s=s+Math.imul(N,mt)|0)+(r>>>13)|0)+(qt>>>26)|0,qt&=67108863,i=Math.imul(P,ct),r=(r=Math.imul(P,dt))+Math.imul(U,ct)|0,s=Math.imul(U,dt);var Nt=(u+(i=i+Math.imul(D,pt)|0)|0)+((8191&(r=(r=r+Math.imul(D,mt)|0)+Math.imul(O,pt)|0))<<13)|0;u=((s=s+Math.imul(O,mt)|0)+(r>>>13)|0)+(Nt>>>26)|0,Nt&=67108863;var Lt=(u+(i=Math.imul(P,pt))|0)+((8191&(r=(r=Math.imul(P,mt))+Math.imul(U,pt)|0))<<13)|0;return u=((s=Math.imul(U,mt))+(r>>>13)|0)+(Lt>>>26)|0,Lt&=67108863,h[0]=gt,h[1]=vt,h[2]=yt,h[3]=bt,h[4]=wt,h[5]=_t,h[6]=Mt,h[7]=kt,h[8]=At,h[9]=Et,h[10]=xt,h[11]=St,h[12]=Tt,h[13]=It,h[14]=Rt,h[15]=Ct,h[16]=qt,h[17]=Nt,h[18]=Lt,0!==u&&(h[19]=u,n.length++),n};function m(t,e,n){return(new g).mulp(t,e,n)}function g(t,e){this.x=t,this.y=e}Math.imul||(p=f),s.prototype.mulTo=function(t,e){var n,i=this.length+t.length;return n=10===this.length&&10===t.length?p(this,t,e):i<63?f(this,t,e):i<1024?function(t,e,n){n.negative=e.negative^t.negative,n.length=t.length+e.length;for(var i=0,r=0,s=0;s<n.length-1;s++){var o=r;r=0;for(var a=67108863&i,h=Math.min(s,e.length-1),u=Math.max(0,s-t.length+1);u<=h;u++){var l=s-u,c=(0|t.words[l])*(0|e.words[u]),d=67108863&c;a=67108863&(d=d+a|0),r+=(o=(o=o+(c/67108864|0)|0)+(d>>>26)|0)>>>26,o&=67108863}n.words[s]=a,i=o,o=r}return 0!==i?n.words[s]=i:n.length--,n.strip()}(this,t,e):m(this,t,e),n},g.prototype.makeRBT=function(t){for(var e=new Array(t),n=s.prototype._countBits(t)-1,i=0;i<t;i++)e[i]=this.revBin(i,n,t);return e},g.prototype.revBin=function(t,e,n){if(0===t||t===n-1)return t;for(var i=0,r=0;r<e;r++)i|=(1&t)<<e-r-1,t>>=1;return i},g.prototype.permute=function(t,e,n,i,r,s){for(var o=0;o<s;o++)i[o]=e[t[o]],r[o]=n[t[o]]},g.prototype.transform=function(t,e,n,i,r,s){this.permute(s,t,e,n,i,r);for(var o=1;o<r;o<<=1)for(var a=o<<1,h=Math.cos(2*Math.PI/a),u=Math.sin(2*Math.PI/a),l=0;l<r;l+=a)for(var c=h,d=u,f=0;f<o;f++){var p=n[l+f],m=i[l+f],g=n[l+f+o],v=i[l+f+o],y=c*g-d*v;v=c*v+d*g,g=y,n[l+f]=p+g,i[l+f]=m+v,n[l+f+o]=p-g,i[l+f+o]=m-v,f!==a&&(y=h*c-u*d,d=h*d+u*c,c=y)}},g.prototype.guessLen13b=function(t,e){var n=1|Math.max(e,t),i=1&n,r=0;for(n=n/2|0;n;n>>>=1)r++;return 1<<r+1+i},g.prototype.conjugate=function(t,e,n){if(!(n<=1))for(var i=0;i<n/2;i++){var r=t[i];t[i]=t[n-i-1],t[n-i-1]=r,r=e[i],e[i]=-e[n-i-1],e[n-i-1]=-r}},g.prototype.normalize13b=function(t,e){for(var n=0,i=0;i<e/2;i++){var r=8192*Math.round(t[2*i+1]/e)+Math.round(t[2*i]/e)+n;t[i]=67108863&r,n=r<67108864?0:r/67108864|0}return t},g.prototype.convert13b=function(t,e,i,r){for(var s=0,o=0;o<e;o++)s+=0|t[o],i[2*o]=8191&s,s>>>=13,i[2*o+1]=8191&s,s>>>=13;for(o=2*e;o<r;++o)i[o]=0;n(0===s),n(0==(-8192&s))},g.prototype.stub=function(t){for(var e=new Array(t),n=0;n<t;n++)e[n]=0;return e},g.prototype.mulp=function(t,e,n){var i=2*this.guessLen13b(t.length,e.length),r=this.makeRBT(i),s=this.stub(i),o=new Array(i),a=new Array(i),h=new Array(i),u=new Array(i),l=new Array(i),c=new Array(i),d=n.words;d.length=i,this.convert13b(t.words,t.length,o,i),this.convert13b(e.words,e.length,u,i),this.transform(o,s,a,h,i,r),this.transform(u,s,l,c,i,r);for(var f=0;f<i;f++){var p=a[f]*l[f]-h[f]*c[f];h[f]=a[f]*c[f]+h[f]*l[f],a[f]=p}return this.conjugate(a,h,i),this.transform(a,h,d,s,i,r),this.conjugate(d,s,i),this.normalize13b(d,i),n.negative=t.negative^e.negative,n.length=t.length+e.length,n.strip()},s.prototype.mul=function(t){var e=new s(null);return e.words=new Array(this.length+t.length),this.mulTo(t,e)},s.prototype.mulf=function(t){var e=new s(null);return e.words=new Array(this.length+t.length),m(this,t,e)},s.prototype.imul=function(t){return this.clone().mulTo(t,this)},s.prototype.imuln=function(t){n("number"==typeof t),n(t<67108864);for(var e=0,i=0;i<this.length;i++){var r=(0|this.words[i])*t,s=(67108863&r)+(67108863&e);e>>=26,e+=r/67108864|0,e+=s>>>26,this.words[i]=67108863&s}return 0!==e&&(this.words[i]=e,this.length++),this},s.prototype.muln=function(t){return this.clone().imuln(t)},s.prototype.sqr=function(){return this.mul(this)},s.prototype.isqr=function(){return this.imul(this.clone())},s.prototype.pow=function(t){var e=function(t){for(var e=new Array(t.bitLength()),n=0;n<e.length;n++){var i=n/26|0,r=n%26;e[n]=(t.words[i]&1<<r)>>>r}return e}(t);if(0===e.length)return new s(1);for(var n=this,i=0;i<e.length&&0===e[i];i++,n=n.sqr());if(++i<e.length)for(var r=n.sqr();i<e.length;i++,r=r.sqr())0!==e[i]&&(n=n.mul(r));return n},s.prototype.iushln=function(t){n("number"==typeof t&&t>=0);var e,i=t%26,r=(t-i)/26,s=67108863>>>26-i<<26-i;if(0!==i){var o=0;for(e=0;e<this.length;e++){var a=this.words[e]&s,h=(0|this.words[e])-a<<i;this.words[e]=h|o,o=a>>>26-i}o&&(this.words[e]=o,this.length++)}if(0!==r){for(e=this.length-1;e>=0;e--)this.words[e+r]=this.words[e];for(e=0;e<r;e++)this.words[e]=0;this.length+=r}return this.strip()},s.prototype.ishln=function(t){return n(0===this.negative),this.iushln(t)},s.prototype.iushrn=function(t,e,i){var r;n("number"==typeof t&&t>=0),r=e?(e-e%26)/26:0;var s=t%26,o=Math.min((t-s)/26,this.length),a=67108863^67108863>>>s<<s,h=i;if(r-=o,r=Math.max(0,r),h){for(var u=0;u<o;u++)h.words[u]=this.words[u];h.length=o}if(0===o);else if(this.length>o)for(this.length-=o,u=0;u<this.length;u++)this.words[u]=this.words[u+o];else this.words[0]=0,this.length=1;var l=0;for(u=this.length-1;u>=0&&(0!==l||u>=r);u--){var c=0|this.words[u];this.words[u]=l<<26-s|c>>>s,l=c&a}return h&&0!==l&&(h.words[h.length++]=l),0===this.length&&(this.words[0]=0,this.length=1),this.strip()},s.prototype.ishrn=function(t,e,i){return n(0===this.negative),this.iushrn(t,e,i)},s.prototype.shln=function(t){return this.clone().ishln(t)},s.prototype.ushln=function(t){return this.clone().iushln(t)},s.prototype.shrn=function(t){return this.clone().ishrn(t)},s.prototype.ushrn=function(t){return this.clone().iushrn(t)},s.prototype.testn=function(t){n("number"==typeof t&&t>=0);var e=t%26,i=(t-e)/26,r=1<<e;return!(this.length<=i)&&!!(this.words[i]&r)},s.prototype.imaskn=function(t){n("number"==typeof t&&t>=0);var e=t%26,i=(t-e)/26;if(n(0===this.negative,"imaskn works only with positive numbers"),this.length<=i)return this;if(0!==e&&i++,this.length=Math.min(i,this.length),0!==e){var r=67108863^67108863>>>e<<e;this.words[this.length-1]&=r}return this.strip()},s.prototype.maskn=function(t){return this.clone().imaskn(t)},s.prototype.iaddn=function(t){return n("number"==typeof t),n(t<67108864),t<0?this.isubn(-t):0!==this.negative?1===this.length&&(0|this.words[0])<t?(this.words[0]=t-(0|this.words[0]),this.negative=0,this):(this.negative=0,this.isubn(t),this.negative=1,this):this._iaddn(t)},s.prototype._iaddn=function(t){this.words[0]+=t;for(var e=0;e<this.length&&this.words[e]>=67108864;e++)this.words[e]-=67108864,e===this.length-1?this.words[e+1]=1:this.words[e+1]++;return this.length=Math.max(this.length,e+1),this},s.prototype.isubn=function(t){if(n("number"==typeof t),n(t<67108864),t<0)return this.iaddn(-t);if(0!==this.negative)return this.negative=0,this.iaddn(t),this.negative=1,this;if(this.words[0]-=t,1===this.length&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var e=0;e<this.length&&this.words[e]<0;e++)this.words[e]+=67108864,this.words[e+1]-=1;return this.strip()},s.prototype.addn=function(t){return this.clone().iaddn(t)},s.prototype.subn=function(t){return this.clone().isubn(t)},s.prototype.iabs=function(){return this.negative=0,this},s.prototype.abs=function(){return this.clone().iabs()},s.prototype._ishlnsubmul=function(t,e,i){var r,s,o=t.length+i;this._expand(o);var a=0;for(r=0;r<t.length;r++){s=(0|this.words[r+i])+a;var h=(0|t.words[r])*e;a=((s-=67108863&h)>>26)-(h/67108864|0),this.words[r+i]=67108863&s}for(;r<this.length-i;r++)a=(s=(0|this.words[r+i])+a)>>26,this.words[r+i]=67108863&s;if(0===a)return this.strip();for(n(-1===a),a=0,r=0;r<this.length;r++)a=(s=-(0|this.words[r])+a)>>26,this.words[r]=67108863&s;return this.negative=1,this.strip()},s.prototype._wordDiv=function(t,e){var n=(this.length,t.length),i=this.clone(),r=t,o=0|r.words[r.length-1];0!==(n=26-this._countBits(o))&&(r=r.ushln(n),i.iushln(n),o=0|r.words[r.length-1]);var a,h=i.length-r.length;if("mod"!==e){(a=new s(null)).length=h+1,a.words=new Array(a.length);for(var u=0;u<a.length;u++)a.words[u]=0}var l=i.clone()._ishlnsubmul(r,1,h);0===l.negative&&(i=l,a&&(a.words[h]=1));for(var c=h-1;c>=0;c--){var d=67108864*(0|i.words[r.length+c])+(0|i.words[r.length+c-1]);for(d=Math.min(d/o|0,67108863),i._ishlnsubmul(r,d,c);0!==i.negative;)d--,i.negative=0,i._ishlnsubmul(r,1,c),i.isZero()||(i.negative^=1);a&&(a.words[c]=d)}return a&&a.strip(),i.strip(),"div"!==e&&0!==n&&i.iushrn(n),{div:a||null,mod:i}},s.prototype.divmod=function(t,e,i){return n(!t.isZero()),this.isZero()?{div:new s(0),mod:new s(0)}:0!==this.negative&&0===t.negative?(a=this.neg().divmod(t,e),"mod"!==e&&(r=a.div.neg()),"div"!==e&&(o=a.mod.neg(),i&&0!==o.negative&&o.iadd(t)),{div:r,mod:o}):0===this.negative&&0!==t.negative?(a=this.divmod(t.neg(),e),"mod"!==e&&(r=a.div.neg()),{div:r,mod:a.mod}):0!=(this.negative&t.negative)?(a=this.neg().divmod(t.neg(),e),"div"!==e&&(o=a.mod.neg(),i&&0!==o.negative&&o.isub(t)),{div:a.div,mod:o}):t.length>this.length||this.cmp(t)<0?{div:new s(0),mod:this}:1===t.length?"div"===e?{div:this.divn(t.words[0]),mod:null}:"mod"===e?{div:null,mod:new s(this.modn(t.words[0]))}:{div:this.divn(t.words[0]),mod:new s(this.modn(t.words[0]))}:this._wordDiv(t,e);var r,o,a},s.prototype.div=function(t){return this.divmod(t,"div",!1).div},s.prototype.mod=function(t){return this.divmod(t,"mod",!1).mod},s.prototype.umod=function(t){return this.divmod(t,"mod",!0).mod},s.prototype.divRound=function(t){var e=this.divmod(t);if(e.mod.isZero())return e.div;var n=0!==e.div.negative?e.mod.isub(t):e.mod,i=t.ushrn(1),r=t.andln(1),s=n.cmp(i);return s<0||1===r&&0===s?e.div:0!==e.div.negative?e.div.isubn(1):e.div.iaddn(1)},s.prototype.modn=function(t){n(t<=67108863);for(var e=67108864%t,i=0,r=this.length-1;r>=0;r--)i=(e*i+(0|this.words[r]))%t;return i},s.prototype.idivn=function(t){n(t<=67108863);for(var e=0,i=this.length-1;i>=0;i--){var r=(0|this.words[i])+67108864*e;this.words[i]=r/t|0,e=r%t}return this.strip()},s.prototype.divn=function(t){return this.clone().idivn(t)},s.prototype.egcd=function(t){n(0===t.negative),n(!t.isZero());var e=this,i=t.clone();e=0!==e.negative?e.umod(t):e.clone();for(var r=new s(1),o=new s(0),a=new s(0),h=new s(1),u=0;e.isEven()&&i.isEven();)e.iushrn(1),i.iushrn(1),++u;for(var l=i.clone(),c=e.clone();!e.isZero();){for(var d=0,f=1;0==(e.words[0]&f)&&d<26;++d,f<<=1);if(d>0)for(e.iushrn(d);d-- >0;)(r.isOdd()||o.isOdd())&&(r.iadd(l),o.isub(c)),r.iushrn(1),o.iushrn(1);for(var p=0,m=1;0==(i.words[0]&m)&&p<26;++p,m<<=1);if(p>0)for(i.iushrn(p);p-- >0;)(a.isOdd()||h.isOdd())&&(a.iadd(l),h.isub(c)),a.iushrn(1),h.iushrn(1);e.cmp(i)>=0?(e.isub(i),r.isub(a),o.isub(h)):(i.isub(e),a.isub(r),h.isub(o))}return{a:a,b:h,gcd:i.iushln(u)}},s.prototype._invmp=function(t){n(0===t.negative),n(!t.isZero());var e=this,i=t.clone();e=0!==e.negative?e.umod(t):e.clone();for(var r,o=new s(1),a=new s(0),h=i.clone();e.cmpn(1)>0&&i.cmpn(1)>0;){for(var u=0,l=1;0==(e.words[0]&l)&&u<26;++u,l<<=1);if(u>0)for(e.iushrn(u);u-- >0;)o.isOdd()&&o.iadd(h),o.iushrn(1);for(var c=0,d=1;0==(i.words[0]&d)&&c<26;++c,d<<=1);if(c>0)for(i.iushrn(c);c-- >0;)a.isOdd()&&a.iadd(h),a.iushrn(1);e.cmp(i)>=0?(e.isub(i),o.isub(a)):(i.isub(e),a.isub(o))}return(r=0===e.cmpn(1)?o:a).cmpn(0)<0&&r.iadd(t),r},s.prototype.gcd=function(t){if(this.isZero())return t.abs();if(t.isZero())return this.abs();var e=this.clone(),n=t.clone();e.negative=0,n.negative=0;for(var i=0;e.isEven()&&n.isEven();i++)e.iushrn(1),n.iushrn(1);for(;;){for(;e.isEven();)e.iushrn(1);for(;n.isEven();)n.iushrn(1);var r=e.cmp(n);if(r<0){var s=e;e=n,n=s}else if(0===r||0===n.cmpn(1))break;e.isub(n)}return n.iushln(i)},s.prototype.invm=function(t){return this.egcd(t).a.umod(t)},s.prototype.isEven=function(){return 0==(1&this.words[0])},s.prototype.isOdd=function(){return 1==(1&this.words[0])},s.prototype.andln=function(t){return this.words[0]&t},s.prototype.bincn=function(t){n("number"==typeof t);var e=t%26,i=(t-e)/26,r=1<<e;if(this.length<=i)return this._expand(i+1),this.words[i]|=r,this;for(var s=r,o=i;0!==s&&o<this.length;o++){var a=0|this.words[o];s=(a+=s)>>>26,a&=67108863,this.words[o]=a}return 0!==s&&(this.words[o]=s,this.length++),this},s.prototype.isZero=function(){return 1===this.length&&0===this.words[0]},s.prototype.cmpn=function(t){var e,i=t<0;if(0!==this.negative&&!i)return-1;if(0===this.negative&&i)return 1;if(this.strip(),this.length>1)e=1;else{i&&(t=-t),n(t<=67108863,"Number is too big");var r=0|this.words[0];e=r===t?0:r<t?-1:1}return 0!==this.negative?0|-e:e},s.prototype.cmp=function(t){if(0!==this.negative&&0===t.negative)return-1;if(0===this.negative&&0!==t.negative)return 1;var e=this.ucmp(t);return 0!==this.negative?0|-e:e},s.prototype.ucmp=function(t){if(this.length>t.length)return 1;if(this.length<t.length)return-1;for(var e=0,n=this.length-1;n>=0;n--){var i=0|this.words[n],r=0|t.words[n];if(i!==r){i<r?e=-1:i>r&&(e=1);break}}return e},s.prototype.gtn=function(t){return 1===this.cmpn(t)},s.prototype.gt=function(t){return 1===this.cmp(t)},s.prototype.gten=function(t){return this.cmpn(t)>=0},s.prototype.gte=function(t){return this.cmp(t)>=0},s.prototype.ltn=function(t){return-1===this.cmpn(t)},s.prototype.lt=function(t){return-1===this.cmp(t)},s.prototype.lten=function(t){return this.cmpn(t)<=0},s.prototype.lte=function(t){return this.cmp(t)<=0},s.prototype.eqn=function(t){return 0===this.cmpn(t)},s.prototype.eq=function(t){return 0===this.cmp(t)},s.red=function(t){return new k(t)},s.prototype.toRed=function(t){return n(!this.red,"Already a number in reduction context"),n(0===this.negative,"red works only with positives"),t.convertTo(this)._forceRed(t)},s.prototype.fromRed=function(){return n(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},s.prototype._forceRed=function(t){return this.red=t,this},s.prototype.forceRed=function(t){return n(!this.red,"Already a number in reduction context"),this._forceRed(t)},s.prototype.redAdd=function(t){return n(this.red,"redAdd works only with red numbers"),this.red.add(this,t)},s.prototype.redIAdd=function(t){return n(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,t)},s.prototype.redSub=function(t){return n(this.red,"redSub works only with red numbers"),this.red.sub(this,t)},s.prototype.redISub=function(t){return n(this.red,"redISub works only with red numbers"),this.red.isub(this,t)},s.prototype.redShl=function(t){return n(this.red,"redShl works only with red numbers"),this.red.shl(this,t)},s.prototype.redMul=function(t){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,t),this.red.mul(this,t)},s.prototype.redIMul=function(t){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,t),this.red.imul(this,t)},s.prototype.redSqr=function(){return n(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},s.prototype.redISqr=function(){return n(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},s.prototype.redSqrt=function(){return n(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},s.prototype.redInvm=function(){return n(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},s.prototype.redNeg=function(){return n(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},s.prototype.redPow=function(t){return n(this.red&&!t.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,t)};var v={k256:null,p224:null,p192:null,p25519:null};function y(t,e){this.name=t,this.p=new s(e,16),this.n=this.p.bitLength(),this.k=new s(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}function b(){y.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}function w(){y.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}function _(){y.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}function M(){y.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}function k(t){if("string"==typeof t){var e=s._prime(t);this.m=e.p,this.prime=e}else n(t.gtn(1),"modulus must be greater than 1"),this.m=t,this.prime=null}function A(t){k.call(this,t),this.shift=this.m.bitLength(),this.shift%26!=0&&(this.shift+=26-this.shift%26),this.r=new s(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}y.prototype._tmp=function(){var t=new s(null);return t.words=new Array(Math.ceil(this.n/13)),t},y.prototype.ireduce=function(t){var e,n=t;do{this.split(n,this.tmp),e=(n=(n=this.imulK(n)).iadd(this.tmp)).bitLength()}while(e>this.n);var i=e<this.n?-1:n.ucmp(this.p);return 0===i?(n.words[0]=0,n.length=1):i>0?n.isub(this.p):void 0!==n.strip?n.strip():n._strip(),n},y.prototype.split=function(t,e){t.iushrn(this.n,0,e)},y.prototype.imulK=function(t){return t.imul(this.k)},i(b,y),b.prototype.split=function(t,e){for(var n=4194303,i=Math.min(t.length,9),r=0;r<i;r++)e.words[r]=t.words[r];if(e.length=i,t.length<=9)return t.words[0]=0,void(t.length=1);var s=t.words[9];for(e.words[e.length++]=s&n,r=10;r<t.length;r++){var o=0|t.words[r];t.words[r-10]=(o&n)<<4|s>>>22,s=o}s>>>=22,t.words[r-10]=s,0===s&&t.length>10?t.length-=10:t.length-=9},b.prototype.imulK=function(t){t.words[t.length]=0,t.words[t.length+1]=0,t.length+=2;for(var e=0,n=0;n<t.length;n++){var i=0|t.words[n];e+=977*i,t.words[n]=67108863&e,e=64*i+(e/67108864|0)}return 0===t.words[t.length-1]&&(t.length--,0===t.words[t.length-1]&&t.length--),t},i(w,y),i(_,y),i(M,y),M.prototype.imulK=function(t){for(var e=0,n=0;n<t.length;n++){var i=19*(0|t.words[n])+e,r=67108863&i;i>>>=26,t.words[n]=r,e=i}return 0!==e&&(t.words[t.length++]=e),t},s._prime=function(t){if(v[t])return v[t];var e;if("k256"===t)e=new b;else if("p224"===t)e=new w;else if("p192"===t)e=new _;else{if("p25519"!==t)throw new Error("Unknown prime "+t);e=new M}return v[t]=e,e},k.prototype._verify1=function(t){n(0===t.negative,"red works only with positives"),n(t.red,"red works only with red numbers")},k.prototype._verify2=function(t,e){n(0==(t.negative|e.negative),"red works only with positives"),n(t.red&&t.red===e.red,"red works only with red numbers")},k.prototype.imod=function(t){return this.prime?this.prime.ireduce(t)._forceRed(this):t.umod(this.m)._forceRed(this)},k.prototype.neg=function(t){return t.isZero()?t.clone():this.m.sub(t)._forceRed(this)},k.prototype.add=function(t,e){this._verify2(t,e);var n=t.add(e);return n.cmp(this.m)>=0&&n.isub(this.m),n._forceRed(this)},k.prototype.iadd=function(t,e){this._verify2(t,e);var n=t.iadd(e);return n.cmp(this.m)>=0&&n.isub(this.m),n},k.prototype.sub=function(t,e){this._verify2(t,e);var n=t.sub(e);return n.cmpn(0)<0&&n.iadd(this.m),n._forceRed(this)},k.prototype.isub=function(t,e){this._verify2(t,e);var n=t.isub(e);return n.cmpn(0)<0&&n.iadd(this.m),n},k.prototype.shl=function(t,e){return this._verify1(t),this.imod(t.ushln(e))},k.prototype.imul=function(t,e){return this._verify2(t,e),this.imod(t.imul(e))},k.prototype.mul=function(t,e){return this._verify2(t,e),this.imod(t.mul(e))},k.prototype.isqr=function(t){return this.imul(t,t.clone())},k.prototype.sqr=function(t){return this.mul(t,t)},k.prototype.sqrt=function(t){if(t.isZero())return t.clone();var e=this.m.andln(3);if(n(e%2==1),3===e){var i=this.m.add(new s(1)).iushrn(2);return this.pow(t,i)}for(var r=this.m.subn(1),o=0;!r.isZero()&&0===r.andln(1);)o++,r.iushrn(1);n(!r.isZero());var a=new s(1).toRed(this),h=a.redNeg(),u=this.m.subn(1).iushrn(1),l=this.m.bitLength();for(l=new s(2*l*l).toRed(this);0!==this.pow(l,u).cmp(h);)l.redIAdd(h);for(var c=this.pow(l,r),d=this.pow(t,r.addn(1).iushrn(1)),f=this.pow(t,r),p=o;0!==f.cmp(a);){for(var m=f,g=0;0!==m.cmp(a);g++)m=m.redSqr();n(g<p);var v=this.pow(c,new s(1).iushln(p-g-1));d=d.redMul(v),c=v.redSqr(),f=f.redMul(c),p=g}return d},k.prototype.invm=function(t){var e=t._invmp(this.m);return 0!==e.negative?(e.negative=0,this.imod(e).redNeg()):this.imod(e)},k.prototype.pow=function(t,e){if(e.isZero())return new s(1).toRed(this);if(0===e.cmpn(1))return t.clone();var n=new Array(16);n[0]=new s(1).toRed(this),n[1]=t;for(var i=2;i<n.length;i++)n[i]=this.mul(n[i-1],t);var r=n[0],o=0,a=0,h=e.bitLength()%26;for(0===h&&(h=26),i=e.length-1;i>=0;i--){for(var u=e.words[i],l=h-1;l>=0;l--){var c=u>>l&1;r!==n[0]&&(r=this.sqr(r)),0!==c||0!==o?(o<<=1,o|=c,(4===++a||0===i&&0===l)&&(r=this.mul(r,n[o]),a=0,o=0)):a=0}h=26}return r},k.prototype.convertTo=function(t){var e=t.umod(this.m);return e===t?e.clone():e},k.prototype.convertFrom=function(t){var e=t.clone();return e.red=null,e},s.mont=function(t){return new A(t)},i(A,k),A.prototype.convertTo=function(t){return this.imod(t.ushln(this.shift))},A.prototype.convertFrom=function(t){var e=this.imod(t.mul(this.rinv));return e.red=null,e},A.prototype.imul=function(t,e){if(t.isZero()||e.isZero())return t.words[0]=0,t.length=1,t;var n=t.imul(e),i=n.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),r=n.isub(i).iushrn(this.shift),s=r;return r.cmp(this.m)>=0?s=r.isub(this.m):r.cmpn(0)<0&&(s=r.iadd(this.m)),s._forceRed(this)},A.prototype.mul=function(t,e){if(t.isZero()||e.isZero())return new s(0)._forceRed(this);var n=t.mul(e),i=n.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),r=n.isub(i).iushrn(this.shift),o=r;return r.cmp(this.m)>=0?o=r.isub(this.m):r.cmpn(0)<0&&(o=r.iadd(this.m)),o._forceRed(this)},A.prototype.invm=function(t){return this.imod(t._invmp(this.m).mul(this.r2))._forceRed(this)}}(t,this)})),r.register("9m54X",(function(t,e){var n;function i(t){this.rand=t}if(t.exports=function(t){return n||(n=new i(null)),n.generate(t)},t.exports.Rand=i,i.prototype.generate=function(t){return this._rand(t)},i.prototype._rand=function(t){if(this.rand.getBytes)return this.rand.getBytes(t);for(var e=new Uint8Array(t),n=0;n<e.length;n++)e[n]=this.rand.getByte();return e},"object"==typeof self)self.crypto&&self.crypto.getRandomValues?i.prototype._rand=function(t){var e=new Uint8Array(t);return self.crypto.getRandomValues(e),e}:self.msCrypto&&self.msCrypto.getRandomValues?i.prototype._rand=function(t){var e=new Uint8Array(t);return self.msCrypto.getRandomValues(e),e}:"object"==typeof window&&(i.prototype._rand=function(){throw new Error("Not implemented yet")});else try{var s=r("66yC2");if("function"!=typeof s.randomBytes)throw new Error("Not supported");i.prototype._rand=function(t){return s.randomBytes(t)}}catch(t){}})),r.register("jBhBo",(function(t,e){t.exports=JSON.parse('{"modp1":{"gen":"02","prime":"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a63a3620ffffffffffffffff"},"modp2":{"gen":"02","prime":"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece65381ffffffffffffffff"},"modp5":{"gen":"02","prime":"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca237327ffffffffffffffff"},"modp14":{"gen":"02","prime":"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aacaa68ffffffffffffffff"},"modp15":{"gen":"02","prime":"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a93ad2caffffffffffffffff"},"modp16":{"gen":"02","prime":"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a92108011a723c12a787e6d788719a10bdba5b2699c327186af4e23c1a946834b6150bda2583e9ca2ad44ce8dbbbc2db04de8ef92e8efc141fbecaa6287c59474e6bc05d99b2964fa090c3a2233ba186515be7ed1f612970cee2d7afb81bdd762170481cd0069127d5b05aa993b4ea988d8fddc186ffb7dc90a6c08f4df435c934063199ffffffffffffffff"},"modp17":{"gen":"02","prime":"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a92108011a723c12a787e6d788719a10bdba5b2699c327186af4e23c1a946834b6150bda2583e9ca2ad44ce8dbbbc2db04de8ef92e8efc141fbecaa6287c59474e6bc05d99b2964fa090c3a2233ba186515be7ed1f612970cee2d7afb81bdd762170481cd0069127d5b05aa993b4ea988d8fddc186ffb7dc90a6c08f4df435c93402849236c3fab4d27c7026c1d4dcb2602646dec9751e763dba37bdf8ff9406ad9e530ee5db382f413001aeb06a53ed9027d831179727b0865a8918da3edbebcf9b14ed44ce6cbaced4bb1bdb7f1447e6cc254b332051512bd7af426fb8f401378cd2bf5983ca01c64b92ecf032ea15d1721d03f482d7ce6e74fef6d55e702f46980c82b5a84031900b1c9e59e7c97fbec7e8f323a97a7e36cc88be0f1d45b7ff585ac54bd407b22b4154aacc8f6d7ebf48e1d814cc5ed20f8037e0a79715eef29be32806a1d58bb7c5da76f550aa3d8a1fbff0eb19ccb1a313d55cda56c9ec2ef29632387fe8d76e3c0468043e8f663f4860ee12bf2d5b0b7474d6e694f91e6dcc4024ffffffffffffffff"},"modp18":{"gen":"02","prime":"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a92108011a723c12a787e6d788719a10bdba5b2699c327186af4e23c1a946834b6150bda2583e9ca2ad44ce8dbbbc2db04de8ef92e8efc141fbecaa6287c59474e6bc05d99b2964fa090c3a2233ba186515be7ed1f612970cee2d7afb81bdd762170481cd0069127d5b05aa993b4ea988d8fddc186ffb7dc90a6c08f4df435c93402849236c3fab4d27c7026c1d4dcb2602646dec9751e763dba37bdf8ff9406ad9e530ee5db382f413001aeb06a53ed9027d831179727b0865a8918da3edbebcf9b14ed44ce6cbaced4bb1bdb7f1447e6cc254b332051512bd7af426fb8f401378cd2bf5983ca01c64b92ecf032ea15d1721d03f482d7ce6e74fef6d55e702f46980c82b5a84031900b1c9e59e7c97fbec7e8f323a97a7e36cc88be0f1d45b7ff585ac54bd407b22b4154aacc8f6d7ebf48e1d814cc5ed20f8037e0a79715eef29be32806a1d58bb7c5da76f550aa3d8a1fbff0eb19ccb1a313d55cda56c9ec2ef29632387fe8d76e3c0468043e8f663f4860ee12bf2d5b0b7474d6e694f91e6dbe115974a3926f12fee5e438777cb6a932df8cd8bec4d073b931ba3bc832b68d9dd300741fa7bf8afc47ed2576f6936ba424663aab639c5ae4f5683423b4742bf1c978238f16cbe39d652de3fdb8befc848ad922222e04a4037c0713eb57a81a23f0c73473fc646cea306b4bcbc8862f8385ddfa9d4b7fa2c087e879683303ed5bdd3a062b3cf5b3a278a66d2a13f83f44f82ddf310ee074ab6a364597e899a0255dc164f31cc50846851df9ab48195ded7ea1b1d510bd7ee74d73faf36bc31ecfa268359046f4eb879f924009438b481c6cd7889a002ed5ee382bc9190da6fc026e479558e4475677e9aa9e3050e2765694dfc81f56e880b96e7160c980dd98edd3dfffffffffffffffff"}}')})),r.register("8oJEU",(function(t,e){var n=r("8UsMN").Buffer,i=r("edZn3"),s=new(r("TFXOD")),o=new i(24),a=new i(11),h=new i(10),u=new i(3),l=new i(7),c=r("fzqD1"),d=r("bUSoq");function f(t,e){return e=e||"utf8",n.isBuffer(t)||(t=new n(t,e)),this._pub=new i(t),this}function p(t,e){return e=e||"utf8",n.isBuffer(t)||(t=new n(t,e)),this._priv=new i(t),this}t.exports=g;var m={};function g(t,e,n){this.setGenerator(e),this.__prime=new i(t),this._prime=i.mont(this.__prime),this._primeLen=t.length,this._pub=void 0,this._priv=void 0,this._primeCode=void 0,n?(this.setPublicKey=f,this.setPrivateKey=p):this._primeCode=8}function v(t,e){var i=new n(t.toArray());return e?i.toString(e):i}Object.defineProperty(g.prototype,"verifyError",{enumerable:!0,get:function(){return"number"!=typeof this._primeCode&&(this._primeCode=function(t,e){var n=e.toString("hex"),i=[n,t.toString(16)].join("_");if(i in m)return m[i];var r,d=0;if(t.isEven()||!c.simpleSieve||!c.fermatTest(t)||!s.test(t))return d+=1,d+="02"===n||"05"===n?8:4,m[i]=d,d;switch(s.test(t.shrn(1))||(d+=2),n){case"02":t.mod(o).cmp(a)&&(d+=8);break;case"05":(r=t.mod(h)).cmp(u)&&r.cmp(l)&&(d+=8);break;default:d+=4}return m[i]=d,d}(this.__prime,this.__gen)),this._primeCode}}),g.prototype.generateKeys=function(){return this._priv||(this._priv=new i(d(this._primeLen))),this._pub=this._gen.toRed(this._prime).redPow(this._priv).fromRed(),this.getPublicKey()},g.prototype.computeSecret=function(t){var e=(t=(t=new i(t)).toRed(this._prime)).redPow(this._priv).fromRed(),r=new n(e.toArray()),s=this.getPrime();if(r.length<s.length){var o=new n(s.length-r.length);o.fill(0),r=n.concat([o,r])}return r},g.prototype.getPublicKey=function(t){return v(this._pub,t)},g.prototype.getPrivateKey=function(t){return v(this._priv,t)},g.prototype.getPrime=function(t){return v(this.__prime,t)},g.prototype.getGenerator=function(t){return v(this._gen,t)},g.prototype.setGenerator=function(t,e){return e=e||"utf8",n.isBuffer(t)||(t=new n(t,e)),this.__gen=t,this._gen=new i(t),this}})),r.register("2qrhF",(function(t,e){var n=r("4OiF0").Buffer,i=r("dHvdJ"),s=r("95soA"),o=r("bniia"),a=r("5lPkG"),h=r("9J4Jv"),u=r("6rTx5");function l(t){s.Writable.call(this);var e=u[t];if(!e)throw new Error("Unknown message digest");this._hashType=e.hash,this._hash=i(e.hash),this._tag=e.id,this._signType=e.sign}function c(t){s.Writable.call(this);var e=u[t];if(!e)throw new Error("Unknown message digest");this._hash=i(e.hash),this._tag=e.id,this._signType=e.sign}function d(t){return new l(t)}function f(t){return new c(t)}Object.keys(u).forEach((function(t){u[t].id=n.from(u[t].id,"hex"),u[t.toLowerCase()]=u[t]})),o(l,s.Writable),l.prototype._write=function(t,e,n){this._hash.update(t),n()},l.prototype.update=function(t,e){return"string"==typeof t&&(t=n.from(t,e)),this._hash.update(t),this},l.prototype.sign=function(t,e){this.end();var n=this._hash.digest(),i=a(n,t,this._hashType,this._signType,this._tag);return e?i.toString(e):i},o(c,s.Writable),c.prototype._write=function(t,e,n){this._hash.update(t),n()},c.prototype.update=function(t,e){return"string"==typeof t&&(t=n.from(t,e)),this._hash.update(t),this},c.prototype.verify=function(t,e,i){"string"==typeof e&&(e=n.from(e,i)),this.end();var r=this._hash.digest();return h(e,r,t,this._signType,this._tag)},t.exports={Sign:d,Verify:f,createSign:d,createVerify:f}})),r.register("5lPkG",(function(t,e){var n=r("4OiF0").Buffer,i=r("arZPn"),s=r("aHKJP"),o=r("ikIB9").ec,a=r("7ww61"),h=r("eOlL6"),u=r("6YO51");function l(t,e,r,s){if((t=n.from(t.toArray())).length<e.byteLength()){var o=n.alloc(e.byteLength()-t.length);t=n.concat([o,t])}var a=r.length,h=function(t,e){t=c(t,e),t=t.mod(e);var i=n.from(t.toArray());if(i.length<e.byteLength()){var r=n.alloc(e.byteLength()-i.length);i=n.concat([r,i])}return i}(r,e),u=n.alloc(a);u.fill(1);var l=n.alloc(a);return l=i(s,l).update(u).update(n.from([0])).update(t).update(h).digest(),u=i(s,l).update(u).digest(),{k:l=i(s,l).update(u).update(n.from([1])).update(t).update(h).digest(),v:u=i(s,l).update(u).digest()}}function c(t,e){var n=new a(t),i=(t.length<<3)-e.bitLength();return i>0&&n.ishrn(i),n}function d(t,e,r){var s,o;do{for(s=n.alloc(0);8*s.length<t.bitLength();)e.v=i(r,e.k).update(e.v).digest(),s=n.concat([s,e.v]);o=c(s,t),e.k=i(r,e.k).update(e.v).update(n.from([0])).digest(),e.v=i(r,e.k).update(e.v).digest()}while(-1!==o.cmp(t));return o}function f(t,e,n,i){return t.toRed(a.mont(n)).redPow(e).fromRed().mod(i)}t.exports=function(t,e,i,r,p){var m=h(e);if(m.curve){if("ecdsa"!==r&&"ecdsa/rsa"!==r)throw new Error("wrong private key type");return function(t,e){var i=u[e.curve.join(".")];if(!i)throw new Error("unknown curve "+e.curve.join("."));var r=new o(i).keyFromPrivate(e.privateKey),s=r.sign(t);return n.from(s.toDER())}(t,m)}if("dsa"===m.type){if("dsa"!==r)throw new Error("wrong private key type");return function(t,e,i){var r,s=e.params.priv_key,o=e.params.p,h=e.params.q,u=e.params.g,p=new a(0),m=c(t,h).mod(h),g=!1,v=l(s,h,t,i);for(;!1===g;)p=f(u,r=d(h,v,i),o,h),0===(g=r.invm(h).imul(m.add(s.mul(p))).mod(h)).cmpn(0)&&(g=!1,p=new a(0));return function(t,e){t=t.toArray(),e=e.toArray(),128&t[0]&&(t=[0].concat(t));128&e[0]&&(e=[0].concat(e));var i=t.length+e.length+4,r=[48,i,2,t.length];return r=r.concat(t,[2,e.length],e),n.from(r)}(p,g)}(t,m,i)}if("rsa"!==r&&"ecdsa/rsa"!==r)throw new Error("wrong private key type");t=n.concat([p,t]);for(var g=m.modulus.byteLength(),v=[0,1];t.length+v.length+1<g;)v.push(255);v.push(0);for(var y=-1;++y<t.length;)v.push(t[y]);return s(v,m)},t.exports.getKey=l,t.exports.makeKey=d})),r.register("aHKJP",(function(t,e){var n=r("8UsMN").Buffer,i=r("7ww61"),s=r("bUSoq");function o(t){var e,n=t.modulus.byteLength();do{e=new i(s(n))}while(e.cmp(t.modulus)>=0||!e.umod(t.prime1)||!e.umod(t.prime2));return e}function a(t,e){var r=function(t){var e=o(t);return{blinder:e.toRed(i.mont(t.modulus)).redPow(new i(t.publicExponent)).fromRed(),unblinder:e.invm(t.modulus)}}(e),s=e.modulus.byteLength(),a=new i(t).mul(r.blinder).umod(e.modulus),h=a.toRed(i.mont(e.prime1)),u=a.toRed(i.mont(e.prime2)),l=e.coefficient,c=e.prime1,d=e.prime2,f=h.redPow(e.exponent1).fromRed(),p=u.redPow(e.exponent2).fromRed(),m=f.isub(p).imul(l).umod(c).imul(d);return p.iadd(m).imul(r.unblinder).umod(e.modulus).toArrayLike(n,"be",s)}a.getr=o,t.exports=a})),r.register("7ww61",(function(t,e){!function(t,e){function n(t,e){if(!t)throw new Error(e||"Assertion failed")}function i(t,e){t.super_=e;var n=function(){};n.prototype=e.prototype,t.prototype=new n,t.prototype.constructor=t}function s(t,e,n){if(s.isBN(t))return t;this.negative=0,this.words=null,this.length=0,this.red=null,null!==t&&("le"!==e&&"be"!==e||(n=e,e=10),this._init(t||0,e||10,n||"be"))}var o;"object"==typeof t?t.exports=s:e.BN=s,s.BN=s,s.wordSize=26;try{o="undefined"!=typeof window&&void 0!==window.Buffer?window.Buffer:r("66yC2").Buffer}catch(t){}function a(t,e){var i=t.charCodeAt(e);return i>=48&&i<=57?i-48:i>=65&&i<=70?i-55:i>=97&&i<=102?i-87:void n(!1,"Invalid character in "+t)}function h(t,e,n){var i=a(t,n);return n-1>=e&&(i|=a(t,n-1)<<4),i}function u(t,e,i,r){for(var s=0,o=0,a=Math.min(t.length,i),h=e;h<a;h++){var u=t.charCodeAt(h)-48;s*=r,o=u>=49?u-49+10:u>=17?u-17+10:u,n(u>=0&&o<r,"Invalid character"),s+=o}return s}function l(t,e){t.words=e.words,t.length=e.length,t.negative=e.negative,t.red=e.red}if(s.isBN=function(t){return t instanceof s||null!==t&&"object"==typeof t&&t.constructor.wordSize===s.wordSize&&Array.isArray(t.words)},s.max=function(t,e){return t.cmp(e)>0?t:e},s.min=function(t,e){return t.cmp(e)<0?t:e},s.prototype._init=function(t,e,i){if("number"==typeof t)return this._initNumber(t,e,i);if("object"==typeof t)return this._initArray(t,e,i);"hex"===e&&(e=16),n(e===(0|e)&&e>=2&&e<=36);var r=0;"-"===(t=t.toString().replace(/\s+/g,""))[0]&&(r++,this.negative=1),r<t.length&&(16===e?this._parseHex(t,r,i):(this._parseBase(t,e,r),"le"===i&&this._initArray(this.toArray(),e,i)))},s.prototype._initNumber=function(t,e,i){t<0&&(this.negative=1,t=-t),t<67108864?(this.words=[67108863&t],this.length=1):t<4503599627370496?(this.words=[67108863&t,t/67108864&67108863],this.length=2):(n(t<9007199254740992),this.words=[67108863&t,t/67108864&67108863,1],this.length=3),"le"===i&&this._initArray(this.toArray(),e,i)},s.prototype._initArray=function(t,e,i){if(n("number"==typeof t.length),t.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(t.length/3),this.words=new Array(this.length);for(var r=0;r<this.length;r++)this.words[r]=0;var s,o,a=0;if("be"===i)for(r=t.length-1,s=0;r>=0;r-=3)o=t[r]|t[r-1]<<8|t[r-2]<<16,this.words[s]|=o<<a&67108863,this.words[s+1]=o>>>26-a&67108863,(a+=24)>=26&&(a-=26,s++);else if("le"===i)for(r=0,s=0;r<t.length;r+=3)o=t[r]|t[r+1]<<8|t[r+2]<<16,this.words[s]|=o<<a&67108863,this.words[s+1]=o>>>26-a&67108863,(a+=24)>=26&&(a-=26,s++);return this._strip()},s.prototype._parseHex=function(t,e,n){this.length=Math.ceil((t.length-e)/6),this.words=new Array(this.length);for(var i=0;i<this.length;i++)this.words[i]=0;var r,s=0,o=0;if("be"===n)for(i=t.length-1;i>=e;i-=2)r=h(t,e,i)<<s,this.words[o]|=67108863&r,s>=18?(s-=18,o+=1,this.words[o]|=r>>>26):s+=8;else for(i=(t.length-e)%2==0?e+1:e;i<t.length;i+=2)r=h(t,e,i)<<s,this.words[o]|=67108863&r,s>=18?(s-=18,o+=1,this.words[o]|=r>>>26):s+=8;this._strip()},s.prototype._parseBase=function(t,e,n){this.words=[0],this.length=1;for(var i=0,r=1;r<=67108863;r*=e)i++;i--,r=r/e|0;for(var s=t.length-n,o=s%i,a=Math.min(s,s-o)+n,h=0,l=n;l<a;l+=i)h=u(t,l,l+i,e),this.imuln(r),this.words[0]+h<67108864?this.words[0]+=h:this._iaddn(h);if(0!==o){var c=1;for(h=u(t,l,t.length,e),l=0;l<o;l++)c*=e;this.imuln(c),this.words[0]+h<67108864?this.words[0]+=h:this._iaddn(h)}this._strip()},s.prototype.copy=function(t){t.words=new Array(this.length);for(var e=0;e<this.length;e++)t.words[e]=this.words[e];t.length=this.length,t.negative=this.negative,t.red=this.red},s.prototype._move=function(t){l(t,this)},s.prototype.clone=function(){var t=new s(null);return this.copy(t),t},s.prototype._expand=function(t){for(;this.length<t;)this.words[this.length++]=0;return this},s.prototype._strip=function(){for(;this.length>1&&0===this.words[this.length-1];)this.length--;return this._normSign()},s.prototype._normSign=function(){return 1===this.length&&0===this.words[0]&&(this.negative=0),this},"undefined"!=typeof Symbol&&"function"==typeof Symbol.for)try{s.prototype[Symbol.for("nodejs.util.inspect.custom")]=c}catch(t){s.prototype.inspect=c}else s.prototype.inspect=c;function c(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"}var d=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],f=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],p=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];s.prototype.toString=function(t,e){var i;if(e=0|e||1,16===(t=t||10)||"hex"===t){i="";for(var r=0,s=0,o=0;o<this.length;o++){var a=this.words[o],h=(16777215&(a<<r|s)).toString(16);s=a>>>24-r&16777215,(r+=2)>=26&&(r-=26,o--),i=0!==s||o!==this.length-1?d[6-h.length]+h+i:h+i}for(0!==s&&(i=s.toString(16)+i);i.length%e!=0;)i="0"+i;return 0!==this.negative&&(i="-"+i),i}if(t===(0|t)&&t>=2&&t<=36){var u=f[t],l=p[t];i="";var c=this.clone();for(c.negative=0;!c.isZero();){var m=c.modrn(l).toString(t);i=(c=c.idivn(l)).isZero()?m+i:d[u-m.length]+m+i}for(this.isZero()&&(i="0"+i);i.length%e!=0;)i="0"+i;return 0!==this.negative&&(i="-"+i),i}n(!1,"Base should be between 2 and 36")},s.prototype.toNumber=function(){var t=this.words[0];return 2===this.length?t+=67108864*this.words[1]:3===this.length&&1===this.words[2]?t+=4503599627370496+67108864*this.words[1]:this.length>2&&n(!1,"Number can only safely store up to 53 bits"),0!==this.negative?-t:t},s.prototype.toJSON=function(){return this.toString(16,2)},o&&(s.prototype.toBuffer=function(t,e){return this.toArrayLike(o,t,e)}),s.prototype.toArray=function(t,e){return this.toArrayLike(Array,t,e)};function m(t,e,n){n.negative=e.negative^t.negative;var i=t.length+e.length|0;n.length=i,i=i-1|0;var r=0|t.words[0],s=0|e.words[0],o=r*s,a=67108863&o,h=o/67108864|0;n.words[0]=a;for(var u=1;u<i;u++){for(var l=h>>>26,c=67108863&h,d=Math.min(u,e.length-1),f=Math.max(0,u-t.length+1);f<=d;f++){var p=u-f|0;l+=(o=(r=0|t.words[p])*(s=0|e.words[f])+c)/67108864|0,c=67108863&o}n.words[u]=0|c,h=0|l}return 0!==h?n.words[u]=0|h:n.length--,n._strip()}s.prototype.toArrayLike=function(t,e,i){this._strip();var r=this.byteLength(),s=i||Math.max(1,r);n(r<=s,"byte array longer than desired length"),n(s>0,"Requested array length <= 0");var o=function(t,e){return t.allocUnsafe?t.allocUnsafe(e):new t(e)}(t,s);return this["_toArrayLike"+("le"===e?"LE":"BE")](o,r),o},s.prototype._toArrayLikeLE=function(t,e){for(var n=0,i=0,r=0,s=0;r<this.length;r++){var o=this.words[r]<<s|i;t[n++]=255&o,n<t.length&&(t[n++]=o>>8&255),n<t.length&&(t[n++]=o>>16&255),6===s?(n<t.length&&(t[n++]=o>>24&255),i=0,s=0):(i=o>>>24,s+=2)}if(n<t.length)for(t[n++]=i;n<t.length;)t[n++]=0},s.prototype._toArrayLikeBE=function(t,e){for(var n=t.length-1,i=0,r=0,s=0;r<this.length;r++){var o=this.words[r]<<s|i;t[n--]=255&o,n>=0&&(t[n--]=o>>8&255),n>=0&&(t[n--]=o>>16&255),6===s?(n>=0&&(t[n--]=o>>24&255),i=0,s=0):(i=o>>>24,s+=2)}if(n>=0)for(t[n--]=i;n>=0;)t[n--]=0},Math.clz32?s.prototype._countBits=function(t){return 32-Math.clz32(t)}:s.prototype._countBits=function(t){var e=t,n=0;return e>=4096&&(n+=13,e>>>=13),e>=64&&(n+=7,e>>>=7),e>=8&&(n+=4,e>>>=4),e>=2&&(n+=2,e>>>=2),n+e},s.prototype._zeroBits=function(t){if(0===t)return 26;var e=t,n=0;return 0==(8191&e)&&(n+=13,e>>>=13),0==(127&e)&&(n+=7,e>>>=7),0==(15&e)&&(n+=4,e>>>=4),0==(3&e)&&(n+=2,e>>>=2),0==(1&e)&&n++,n},s.prototype.bitLength=function(){var t=this.words[this.length-1],e=this._countBits(t);return 26*(this.length-1)+e},s.prototype.zeroBits=function(){if(this.isZero())return 0;for(var t=0,e=0;e<this.length;e++){var n=this._zeroBits(this.words[e]);if(t+=n,26!==n)break}return t},s.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},s.prototype.toTwos=function(t){return 0!==this.negative?this.abs().inotn(t).iaddn(1):this.clone()},s.prototype.fromTwos=function(t){return this.testn(t-1)?this.notn(t).iaddn(1).ineg():this.clone()},s.prototype.isNeg=function(){return 0!==this.negative},s.prototype.neg=function(){return this.clone().ineg()},s.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},s.prototype.iuor=function(t){for(;this.length<t.length;)this.words[this.length++]=0;for(var e=0;e<t.length;e++)this.words[e]=this.words[e]|t.words[e];return this._strip()},s.prototype.ior=function(t){return n(0==(this.negative|t.negative)),this.iuor(t)},s.prototype.or=function(t){return this.length>t.length?this.clone().ior(t):t.clone().ior(this)},s.prototype.uor=function(t){return this.length>t.length?this.clone().iuor(t):t.clone().iuor(this)},s.prototype.iuand=function(t){var e;e=this.length>t.length?t:this;for(var n=0;n<e.length;n++)this.words[n]=this.words[n]&t.words[n];return this.length=e.length,this._strip()},s.prototype.iand=function(t){return n(0==(this.negative|t.negative)),this.iuand(t)},s.prototype.and=function(t){return this.length>t.length?this.clone().iand(t):t.clone().iand(this)},s.prototype.uand=function(t){return this.length>t.length?this.clone().iuand(t):t.clone().iuand(this)},s.prototype.iuxor=function(t){var e,n;this.length>t.length?(e=this,n=t):(e=t,n=this);for(var i=0;i<n.length;i++)this.words[i]=e.words[i]^n.words[i];if(this!==e)for(;i<e.length;i++)this.words[i]=e.words[i];return this.length=e.length,this._strip()},s.prototype.ixor=function(t){return n(0==(this.negative|t.negative)),this.iuxor(t)},s.prototype.xor=function(t){return this.length>t.length?this.clone().ixor(t):t.clone().ixor(this)},s.prototype.uxor=function(t){return this.length>t.length?this.clone().iuxor(t):t.clone().iuxor(this)},s.prototype.inotn=function(t){n("number"==typeof t&&t>=0);var e=0|Math.ceil(t/26),i=t%26;this._expand(e),i>0&&e--;for(var r=0;r<e;r++)this.words[r]=67108863&~this.words[r];return i>0&&(this.words[r]=~this.words[r]&67108863>>26-i),this._strip()},s.prototype.notn=function(t){return this.clone().inotn(t)},s.prototype.setn=function(t,e){n("number"==typeof t&&t>=0);var i=t/26|0,r=t%26;return this._expand(i+1),this.words[i]=e?this.words[i]|1<<r:this.words[i]&~(1<<r),this._strip()},s.prototype.iadd=function(t){var e,n,i;if(0!==this.negative&&0===t.negative)return this.negative=0,e=this.isub(t),this.negative^=1,this._normSign();if(0===this.negative&&0!==t.negative)return t.negative=0,e=this.isub(t),t.negative=1,e._normSign();this.length>t.length?(n=this,i=t):(n=t,i=this);for(var r=0,s=0;s<i.length;s++)e=(0|n.words[s])+(0|i.words[s])+r,this.words[s]=67108863&e,r=e>>>26;for(;0!==r&&s<n.length;s++)e=(0|n.words[s])+r,this.words[s]=67108863&e,r=e>>>26;if(this.length=n.length,0!==r)this.words[this.length]=r,this.length++;else if(n!==this)for(;s<n.length;s++)this.words[s]=n.words[s];return this},s.prototype.add=function(t){var e;return 0!==t.negative&&0===this.negative?(t.negative=0,e=this.sub(t),t.negative^=1,e):0===t.negative&&0!==this.negative?(this.negative=0,e=t.sub(this),this.negative=1,e):this.length>t.length?this.clone().iadd(t):t.clone().iadd(this)},s.prototype.isub=function(t){if(0!==t.negative){t.negative=0;var e=this.iadd(t);return t.negative=1,e._normSign()}if(0!==this.negative)return this.negative=0,this.iadd(t),this.negative=1,this._normSign();var n,i,r=this.cmp(t);if(0===r)return this.negative=0,this.length=1,this.words[0]=0,this;r>0?(n=this,i=t):(n=t,i=this);for(var s=0,o=0;o<i.length;o++)s=(e=(0|n.words[o])-(0|i.words[o])+s)>>26,this.words[o]=67108863&e;for(;0!==s&&o<n.length;o++)s=(e=(0|n.words[o])+s)>>26,this.words[o]=67108863&e;if(0===s&&o<n.length&&n!==this)for(;o<n.length;o++)this.words[o]=n.words[o];return this.length=Math.max(this.length,o),n!==this&&(this.negative=1),this._strip()},s.prototype.sub=function(t){return this.clone().isub(t)};var g=function(t,e,n){var i,r,s,o=t.words,a=e.words,h=n.words,u=0,l=0|o[0],c=8191&l,d=l>>>13,f=0|o[1],p=8191&f,m=f>>>13,g=0|o[2],v=8191&g,y=g>>>13,b=0|o[3],w=8191&b,_=b>>>13,M=0|o[4],k=8191&M,A=M>>>13,E=0|o[5],x=8191&E,S=E>>>13,T=0|o[6],I=8191&T,R=T>>>13,C=0|o[7],q=8191&C,N=C>>>13,L=0|o[8],D=8191&L,O=L>>>13,B=0|o[9],P=8191&B,U=B>>>13,F=0|a[0],j=8191&F,z=F>>>13,V=0|a[1],H=8191&V,K=V>>>13,W=0|a[2],G=8191&W,$=W>>>13,Q=0|a[3],X=8191&Q,Z=Q>>>13,Y=0|a[4],J=8191&Y,tt=Y>>>13,et=0|a[5],nt=8191&et,it=et>>>13,rt=0|a[6],st=8191&rt,ot=rt>>>13,at=0|a[7],ht=8191&at,ut=at>>>13,lt=0|a[8],ct=8191&lt,dt=lt>>>13,ft=0|a[9],pt=8191&ft,mt=ft>>>13;n.negative=t.negative^e.negative,n.length=19;var gt=(u+(i=Math.imul(c,j))|0)+((8191&(r=(r=Math.imul(c,z))+Math.imul(d,j)|0))<<13)|0;u=((s=Math.imul(d,z))+(r>>>13)|0)+(gt>>>26)|0,gt&=67108863,i=Math.imul(p,j),r=(r=Math.imul(p,z))+Math.imul(m,j)|0,s=Math.imul(m,z);var vt=(u+(i=i+Math.imul(c,H)|0)|0)+((8191&(r=(r=r+Math.imul(c,K)|0)+Math.imul(d,H)|0))<<13)|0;u=((s=s+Math.imul(d,K)|0)+(r>>>13)|0)+(vt>>>26)|0,vt&=67108863,i=Math.imul(v,j),r=(r=Math.imul(v,z))+Math.imul(y,j)|0,s=Math.imul(y,z),i=i+Math.imul(p,H)|0,r=(r=r+Math.imul(p,K)|0)+Math.imul(m,H)|0,s=s+Math.imul(m,K)|0;var yt=(u+(i=i+Math.imul(c,G)|0)|0)+((8191&(r=(r=r+Math.imul(c,$)|0)+Math.imul(d,G)|0))<<13)|0;u=((s=s+Math.imul(d,$)|0)+(r>>>13)|0)+(yt>>>26)|0,yt&=67108863,i=Math.imul(w,j),r=(r=Math.imul(w,z))+Math.imul(_,j)|0,s=Math.imul(_,z),i=i+Math.imul(v,H)|0,r=(r=r+Math.imul(v,K)|0)+Math.imul(y,H)|0,s=s+Math.imul(y,K)|0,i=i+Math.imul(p,G)|0,r=(r=r+Math.imul(p,$)|0)+Math.imul(m,G)|0,s=s+Math.imul(m,$)|0;var bt=(u+(i=i+Math.imul(c,X)|0)|0)+((8191&(r=(r=r+Math.imul(c,Z)|0)+Math.imul(d,X)|0))<<13)|0;u=((s=s+Math.imul(d,Z)|0)+(r>>>13)|0)+(bt>>>26)|0,bt&=67108863,i=Math.imul(k,j),r=(r=Math.imul(k,z))+Math.imul(A,j)|0,s=Math.imul(A,z),i=i+Math.imul(w,H)|0,r=(r=r+Math.imul(w,K)|0)+Math.imul(_,H)|0,s=s+Math.imul(_,K)|0,i=i+Math.imul(v,G)|0,r=(r=r+Math.imul(v,$)|0)+Math.imul(y,G)|0,s=s+Math.imul(y,$)|0,i=i+Math.imul(p,X)|0,r=(r=r+Math.imul(p,Z)|0)+Math.imul(m,X)|0,s=s+Math.imul(m,Z)|0;var wt=(u+(i=i+Math.imul(c,J)|0)|0)+((8191&(r=(r=r+Math.imul(c,tt)|0)+Math.imul(d,J)|0))<<13)|0;u=((s=s+Math.imul(d,tt)|0)+(r>>>13)|0)+(wt>>>26)|0,wt&=67108863,i=Math.imul(x,j),r=(r=Math.imul(x,z))+Math.imul(S,j)|0,s=Math.imul(S,z),i=i+Math.imul(k,H)|0,r=(r=r+Math.imul(k,K)|0)+Math.imul(A,H)|0,s=s+Math.imul(A,K)|0,i=i+Math.imul(w,G)|0,r=(r=r+Math.imul(w,$)|0)+Math.imul(_,G)|0,s=s+Math.imul(_,$)|0,i=i+Math.imul(v,X)|0,r=(r=r+Math.imul(v,Z)|0)+Math.imul(y,X)|0,s=s+Math.imul(y,Z)|0,i=i+Math.imul(p,J)|0,r=(r=r+Math.imul(p,tt)|0)+Math.imul(m,J)|0,s=s+Math.imul(m,tt)|0;var _t=(u+(i=i+Math.imul(c,nt)|0)|0)+((8191&(r=(r=r+Math.imul(c,it)|0)+Math.imul(d,nt)|0))<<13)|0;u=((s=s+Math.imul(d,it)|0)+(r>>>13)|0)+(_t>>>26)|0,_t&=67108863,i=Math.imul(I,j),r=(r=Math.imul(I,z))+Math.imul(R,j)|0,s=Math.imul(R,z),i=i+Math.imul(x,H)|0,r=(r=r+Math.imul(x,K)|0)+Math.imul(S,H)|0,s=s+Math.imul(S,K)|0,i=i+Math.imul(k,G)|0,r=(r=r+Math.imul(k,$)|0)+Math.imul(A,G)|0,s=s+Math.imul(A,$)|0,i=i+Math.imul(w,X)|0,r=(r=r+Math.imul(w,Z)|0)+Math.imul(_,X)|0,s=s+Math.imul(_,Z)|0,i=i+Math.imul(v,J)|0,r=(r=r+Math.imul(v,tt)|0)+Math.imul(y,J)|0,s=s+Math.imul(y,tt)|0,i=i+Math.imul(p,nt)|0,r=(r=r+Math.imul(p,it)|0)+Math.imul(m,nt)|0,s=s+Math.imul(m,it)|0;var Mt=(u+(i=i+Math.imul(c,st)|0)|0)+((8191&(r=(r=r+Math.imul(c,ot)|0)+Math.imul(d,st)|0))<<13)|0;u=((s=s+Math.imul(d,ot)|0)+(r>>>13)|0)+(Mt>>>26)|0,Mt&=67108863,i=Math.imul(q,j),r=(r=Math.imul(q,z))+Math.imul(N,j)|0,s=Math.imul(N,z),i=i+Math.imul(I,H)|0,r=(r=r+Math.imul(I,K)|0)+Math.imul(R,H)|0,s=s+Math.imul(R,K)|0,i=i+Math.imul(x,G)|0,r=(r=r+Math.imul(x,$)|0)+Math.imul(S,G)|0,s=s+Math.imul(S,$)|0,i=i+Math.imul(k,X)|0,r=(r=r+Math.imul(k,Z)|0)+Math.imul(A,X)|0,s=s+Math.imul(A,Z)|0,i=i+Math.imul(w,J)|0,r=(r=r+Math.imul(w,tt)|0)+Math.imul(_,J)|0,s=s+Math.imul(_,tt)|0,i=i+Math.imul(v,nt)|0,r=(r=r+Math.imul(v,it)|0)+Math.imul(y,nt)|0,s=s+Math.imul(y,it)|0,i=i+Math.imul(p,st)|0,r=(r=r+Math.imul(p,ot)|0)+Math.imul(m,st)|0,s=s+Math.imul(m,ot)|0;var kt=(u+(i=i+Math.imul(c,ht)|0)|0)+((8191&(r=(r=r+Math.imul(c,ut)|0)+Math.imul(d,ht)|0))<<13)|0;u=((s=s+Math.imul(d,ut)|0)+(r>>>13)|0)+(kt>>>26)|0,kt&=67108863,i=Math.imul(D,j),r=(r=Math.imul(D,z))+Math.imul(O,j)|0,s=Math.imul(O,z),i=i+Math.imul(q,H)|0,r=(r=r+Math.imul(q,K)|0)+Math.imul(N,H)|0,s=s+Math.imul(N,K)|0,i=i+Math.imul(I,G)|0,r=(r=r+Math.imul(I,$)|0)+Math.imul(R,G)|0,s=s+Math.imul(R,$)|0,i=i+Math.imul(x,X)|0,r=(r=r+Math.imul(x,Z)|0)+Math.imul(S,X)|0,s=s+Math.imul(S,Z)|0,i=i+Math.imul(k,J)|0,r=(r=r+Math.imul(k,tt)|0)+Math.imul(A,J)|0,s=s+Math.imul(A,tt)|0,i=i+Math.imul(w,nt)|0,r=(r=r+Math.imul(w,it)|0)+Math.imul(_,nt)|0,s=s+Math.imul(_,it)|0,i=i+Math.imul(v,st)|0,r=(r=r+Math.imul(v,ot)|0)+Math.imul(y,st)|0,s=s+Math.imul(y,ot)|0,i=i+Math.imul(p,ht)|0,r=(r=r+Math.imul(p,ut)|0)+Math.imul(m,ht)|0,s=s+Math.imul(m,ut)|0;var At=(u+(i=i+Math.imul(c,ct)|0)|0)+((8191&(r=(r=r+Math.imul(c,dt)|0)+Math.imul(d,ct)|0))<<13)|0;u=((s=s+Math.imul(d,dt)|0)+(r>>>13)|0)+(At>>>26)|0,At&=67108863,i=Math.imul(P,j),r=(r=Math.imul(P,z))+Math.imul(U,j)|0,s=Math.imul(U,z),i=i+Math.imul(D,H)|0,r=(r=r+Math.imul(D,K)|0)+Math.imul(O,H)|0,s=s+Math.imul(O,K)|0,i=i+Math.imul(q,G)|0,r=(r=r+Math.imul(q,$)|0)+Math.imul(N,G)|0,s=s+Math.imul(N,$)|0,i=i+Math.imul(I,X)|0,r=(r=r+Math.imul(I,Z)|0)+Math.imul(R,X)|0,s=s+Math.imul(R,Z)|0,i=i+Math.imul(x,J)|0,r=(r=r+Math.imul(x,tt)|0)+Math.imul(S,J)|0,s=s+Math.imul(S,tt)|0,i=i+Math.imul(k,nt)|0,r=(r=r+Math.imul(k,it)|0)+Math.imul(A,nt)|0,s=s+Math.imul(A,it)|0,i=i+Math.imul(w,st)|0,r=(r=r+Math.imul(w,ot)|0)+Math.imul(_,st)|0,s=s+Math.imul(_,ot)|0,i=i+Math.imul(v,ht)|0,r=(r=r+Math.imul(v,ut)|0)+Math.imul(y,ht)|0,s=s+Math.imul(y,ut)|0,i=i+Math.imul(p,ct)|0,r=(r=r+Math.imul(p,dt)|0)+Math.imul(m,ct)|0,s=s+Math.imul(m,dt)|0;var Et=(u+(i=i+Math.imul(c,pt)|0)|0)+((8191&(r=(r=r+Math.imul(c,mt)|0)+Math.imul(d,pt)|0))<<13)|0;u=((s=s+Math.imul(d,mt)|0)+(r>>>13)|0)+(Et>>>26)|0,Et&=67108863,i=Math.imul(P,H),r=(r=Math.imul(P,K))+Math.imul(U,H)|0,s=Math.imul(U,K),i=i+Math.imul(D,G)|0,r=(r=r+Math.imul(D,$)|0)+Math.imul(O,G)|0,s=s+Math.imul(O,$)|0,i=i+Math.imul(q,X)|0,r=(r=r+Math.imul(q,Z)|0)+Math.imul(N,X)|0,s=s+Math.imul(N,Z)|0,i=i+Math.imul(I,J)|0,r=(r=r+Math.imul(I,tt)|0)+Math.imul(R,J)|0,s=s+Math.imul(R,tt)|0,i=i+Math.imul(x,nt)|0,r=(r=r+Math.imul(x,it)|0)+Math.imul(S,nt)|0,s=s+Math.imul(S,it)|0,i=i+Math.imul(k,st)|0,r=(r=r+Math.imul(k,ot)|0)+Math.imul(A,st)|0,s=s+Math.imul(A,ot)|0,i=i+Math.imul(w,ht)|0,r=(r=r+Math.imul(w,ut)|0)+Math.imul(_,ht)|0,s=s+Math.imul(_,ut)|0,i=i+Math.imul(v,ct)|0,r=(r=r+Math.imul(v,dt)|0)+Math.imul(y,ct)|0,s=s+Math.imul(y,dt)|0;var xt=(u+(i=i+Math.imul(p,pt)|0)|0)+((8191&(r=(r=r+Math.imul(p,mt)|0)+Math.imul(m,pt)|0))<<13)|0;u=((s=s+Math.imul(m,mt)|0)+(r>>>13)|0)+(xt>>>26)|0,xt&=67108863,i=Math.imul(P,G),r=(r=Math.imul(P,$))+Math.imul(U,G)|0,s=Math.imul(U,$),i=i+Math.imul(D,X)|0,r=(r=r+Math.imul(D,Z)|0)+Math.imul(O,X)|0,s=s+Math.imul(O,Z)|0,i=i+Math.imul(q,J)|0,r=(r=r+Math.imul(q,tt)|0)+Math.imul(N,J)|0,s=s+Math.imul(N,tt)|0,i=i+Math.imul(I,nt)|0,r=(r=r+Math.imul(I,it)|0)+Math.imul(R,nt)|0,s=s+Math.imul(R,it)|0,i=i+Math.imul(x,st)|0,r=(r=r+Math.imul(x,ot)|0)+Math.imul(S,st)|0,s=s+Math.imul(S,ot)|0,i=i+Math.imul(k,ht)|0,r=(r=r+Math.imul(k,ut)|0)+Math.imul(A,ht)|0,s=s+Math.imul(A,ut)|0,i=i+Math.imul(w,ct)|0,r=(r=r+Math.imul(w,dt)|0)+Math.imul(_,ct)|0,s=s+Math.imul(_,dt)|0;var St=(u+(i=i+Math.imul(v,pt)|0)|0)+((8191&(r=(r=r+Math.imul(v,mt)|0)+Math.imul(y,pt)|0))<<13)|0;u=((s=s+Math.imul(y,mt)|0)+(r>>>13)|0)+(St>>>26)|0,St&=67108863,i=Math.imul(P,X),r=(r=Math.imul(P,Z))+Math.imul(U,X)|0,s=Math.imul(U,Z),i=i+Math.imul(D,J)|0,r=(r=r+Math.imul(D,tt)|0)+Math.imul(O,J)|0,s=s+Math.imul(O,tt)|0,i=i+Math.imul(q,nt)|0,r=(r=r+Math.imul(q,it)|0)+Math.imul(N,nt)|0,s=s+Math.imul(N,it)|0,i=i+Math.imul(I,st)|0,r=(r=r+Math.imul(I,ot)|0)+Math.imul(R,st)|0,s=s+Math.imul(R,ot)|0,i=i+Math.imul(x,ht)|0,r=(r=r+Math.imul(x,ut)|0)+Math.imul(S,ht)|0,s=s+Math.imul(S,ut)|0,i=i+Math.imul(k,ct)|0,r=(r=r+Math.imul(k,dt)|0)+Math.imul(A,ct)|0,s=s+Math.imul(A,dt)|0;var Tt=(u+(i=i+Math.imul(w,pt)|0)|0)+((8191&(r=(r=r+Math.imul(w,mt)|0)+Math.imul(_,pt)|0))<<13)|0;u=((s=s+Math.imul(_,mt)|0)+(r>>>13)|0)+(Tt>>>26)|0,Tt&=67108863,i=Math.imul(P,J),r=(r=Math.imul(P,tt))+Math.imul(U,J)|0,s=Math.imul(U,tt),i=i+Math.imul(D,nt)|0,r=(r=r+Math.imul(D,it)|0)+Math.imul(O,nt)|0,s=s+Math.imul(O,it)|0,i=i+Math.imul(q,st)|0,r=(r=r+Math.imul(q,ot)|0)+Math.imul(N,st)|0,s=s+Math.imul(N,ot)|0,i=i+Math.imul(I,ht)|0,r=(r=r+Math.imul(I,ut)|0)+Math.imul(R,ht)|0,s=s+Math.imul(R,ut)|0,i=i+Math.imul(x,ct)|0,r=(r=r+Math.imul(x,dt)|0)+Math.imul(S,ct)|0,s=s+Math.imul(S,dt)|0;var It=(u+(i=i+Math.imul(k,pt)|0)|0)+((8191&(r=(r=r+Math.imul(k,mt)|0)+Math.imul(A,pt)|0))<<13)|0;u=((s=s+Math.imul(A,mt)|0)+(r>>>13)|0)+(It>>>26)|0,It&=67108863,i=Math.imul(P,nt),r=(r=Math.imul(P,it))+Math.imul(U,nt)|0,s=Math.imul(U,it),i=i+Math.imul(D,st)|0,r=(r=r+Math.imul(D,ot)|0)+Math.imul(O,st)|0,s=s+Math.imul(O,ot)|0,i=i+Math.imul(q,ht)|0,r=(r=r+Math.imul(q,ut)|0)+Math.imul(N,ht)|0,s=s+Math.imul(N,ut)|0,i=i+Math.imul(I,ct)|0,r=(r=r+Math.imul(I,dt)|0)+Math.imul(R,ct)|0,s=s+Math.imul(R,dt)|0;var Rt=(u+(i=i+Math.imul(x,pt)|0)|0)+((8191&(r=(r=r+Math.imul(x,mt)|0)+Math.imul(S,pt)|0))<<13)|0;u=((s=s+Math.imul(S,mt)|0)+(r>>>13)|0)+(Rt>>>26)|0,Rt&=67108863,i=Math.imul(P,st),r=(r=Math.imul(P,ot))+Math.imul(U,st)|0,s=Math.imul(U,ot),i=i+Math.imul(D,ht)|0,r=(r=r+Math.imul(D,ut)|0)+Math.imul(O,ht)|0,s=s+Math.imul(O,ut)|0,i=i+Math.imul(q,ct)|0,r=(r=r+Math.imul(q,dt)|0)+Math.imul(N,ct)|0,s=s+Math.imul(N,dt)|0;var Ct=(u+(i=i+Math.imul(I,pt)|0)|0)+((8191&(r=(r=r+Math.imul(I,mt)|0)+Math.imul(R,pt)|0))<<13)|0;u=((s=s+Math.imul(R,mt)|0)+(r>>>13)|0)+(Ct>>>26)|0,Ct&=67108863,i=Math.imul(P,ht),r=(r=Math.imul(P,ut))+Math.imul(U,ht)|0,s=Math.imul(U,ut),i=i+Math.imul(D,ct)|0,r=(r=r+Math.imul(D,dt)|0)+Math.imul(O,ct)|0,s=s+Math.imul(O,dt)|0;var qt=(u+(i=i+Math.imul(q,pt)|0)|0)+((8191&(r=(r=r+Math.imul(q,mt)|0)+Math.imul(N,pt)|0))<<13)|0;u=((s=s+Math.imul(N,mt)|0)+(r>>>13)|0)+(qt>>>26)|0,qt&=67108863,i=Math.imul(P,ct),r=(r=Math.imul(P,dt))+Math.imul(U,ct)|0,s=Math.imul(U,dt);var Nt=(u+(i=i+Math.imul(D,pt)|0)|0)+((8191&(r=(r=r+Math.imul(D,mt)|0)+Math.imul(O,pt)|0))<<13)|0;u=((s=s+Math.imul(O,mt)|0)+(r>>>13)|0)+(Nt>>>26)|0,Nt&=67108863;var Lt=(u+(i=Math.imul(P,pt))|0)+((8191&(r=(r=Math.imul(P,mt))+Math.imul(U,pt)|0))<<13)|0;return u=((s=Math.imul(U,mt))+(r>>>13)|0)+(Lt>>>26)|0,Lt&=67108863,h[0]=gt,h[1]=vt,h[2]=yt,h[3]=bt,h[4]=wt,h[5]=_t,h[6]=Mt,h[7]=kt,h[8]=At,h[9]=Et,h[10]=xt,h[11]=St,h[12]=Tt,h[13]=It,h[14]=Rt,h[15]=Ct,h[16]=qt,h[17]=Nt,h[18]=Lt,0!==u&&(h[19]=u,n.length++),n};function v(t,e,n){n.negative=e.negative^t.negative,n.length=t.length+e.length;for(var i=0,r=0,s=0;s<n.length-1;s++){var o=r;r=0;for(var a=67108863&i,h=Math.min(s,e.length-1),u=Math.max(0,s-t.length+1);u<=h;u++){var l=s-u,c=(0|t.words[l])*(0|e.words[u]),d=67108863&c;a=67108863&(d=d+a|0),r+=(o=(o=o+(c/67108864|0)|0)+(d>>>26)|0)>>>26,o&=67108863}n.words[s]=a,i=o,o=r}return 0!==i?n.words[s]=i:n.length--,n._strip()}function y(t,e,n){return v(t,e,n)}function b(t,e){this.x=t,this.y=e}Math.imul||(g=m),s.prototype.mulTo=function(t,e){var n=this.length+t.length;return 10===this.length&&10===t.length?g(this,t,e):n<63?m(this,t,e):n<1024?v(this,t,e):y(this,t,e)},b.prototype.makeRBT=function(t){for(var e=new Array(t),n=s.prototype._countBits(t)-1,i=0;i<t;i++)e[i]=this.revBin(i,n,t);return e},b.prototype.revBin=function(t,e,n){if(0===t||t===n-1)return t;for(var i=0,r=0;r<e;r++)i|=(1&t)<<e-r-1,t>>=1;return i},b.prototype.permute=function(t,e,n,i,r,s){for(var o=0;o<s;o++)i[o]=e[t[o]],r[o]=n[t[o]]},b.prototype.transform=function(t,e,n,i,r,s){this.permute(s,t,e,n,i,r);for(var o=1;o<r;o<<=1)for(var a=o<<1,h=Math.cos(2*Math.PI/a),u=Math.sin(2*Math.PI/a),l=0;l<r;l+=a)for(var c=h,d=u,f=0;f<o;f++){var p=n[l+f],m=i[l+f],g=n[l+f+o],v=i[l+f+o],y=c*g-d*v;v=c*v+d*g,g=y,n[l+f]=p+g,i[l+f]=m+v,n[l+f+o]=p-g,i[l+f+o]=m-v,f!==a&&(y=h*c-u*d,d=h*d+u*c,c=y)}},b.prototype.guessLen13b=function(t,e){var n=1|Math.max(e,t),i=1&n,r=0;for(n=n/2|0;n;n>>>=1)r++;return 1<<r+1+i},b.prototype.conjugate=function(t,e,n){if(!(n<=1))for(var i=0;i<n/2;i++){var r=t[i];t[i]=t[n-i-1],t[n-i-1]=r,r=e[i],e[i]=-e[n-i-1],e[n-i-1]=-r}},b.prototype.normalize13b=function(t,e){for(var n=0,i=0;i<e/2;i++){var r=8192*Math.round(t[2*i+1]/e)+Math.round(t[2*i]/e)+n;t[i]=67108863&r,n=r<67108864?0:r/67108864|0}return t},b.prototype.convert13b=function(t,e,i,r){for(var s=0,o=0;o<e;o++)s+=0|t[o],i[2*o]=8191&s,s>>>=13,i[2*o+1]=8191&s,s>>>=13;for(o=2*e;o<r;++o)i[o]=0;n(0===s),n(0==(-8192&s))},b.prototype.stub=function(t){for(var e=new Array(t),n=0;n<t;n++)e[n]=0;return e},b.prototype.mulp=function(t,e,n){var i=2*this.guessLen13b(t.length,e.length),r=this.makeRBT(i),s=this.stub(i),o=new Array(i),a=new Array(i),h=new Array(i),u=new Array(i),l=new Array(i),c=new Array(i),d=n.words;d.length=i,this.convert13b(t.words,t.length,o,i),this.convert13b(e.words,e.length,u,i),this.transform(o,s,a,h,i,r),this.transform(u,s,l,c,i,r);for(var f=0;f<i;f++){var p=a[f]*l[f]-h[f]*c[f];h[f]=a[f]*c[f]+h[f]*l[f],a[f]=p}return this.conjugate(a,h,i),this.transform(a,h,d,s,i,r),this.conjugate(d,s,i),this.normalize13b(d,i),n.negative=t.negative^e.negative,n.length=t.length+e.length,n._strip()},s.prototype.mul=function(t){var e=new s(null);return e.words=new Array(this.length+t.length),this.mulTo(t,e)},s.prototype.mulf=function(t){var e=new s(null);return e.words=new Array(this.length+t.length),y(this,t,e)},s.prototype.imul=function(t){return this.clone().mulTo(t,this)},s.prototype.imuln=function(t){var e=t<0;e&&(t=-t),n("number"==typeof t),n(t<67108864);for(var i=0,r=0;r<this.length;r++){var s=(0|this.words[r])*t,o=(67108863&s)+(67108863&i);i>>=26,i+=s/67108864|0,i+=o>>>26,this.words[r]=67108863&o}return 0!==i&&(this.words[r]=i,this.length++),e?this.ineg():this},s.prototype.muln=function(t){return this.clone().imuln(t)},s.prototype.sqr=function(){return this.mul(this)},s.prototype.isqr=function(){return this.imul(this.clone())},s.prototype.pow=function(t){var e=function(t){for(var e=new Array(t.bitLength()),n=0;n<e.length;n++){var i=n/26|0,r=n%26;e[n]=t.words[i]>>>r&1}return e}(t);if(0===e.length)return new s(1);for(var n=this,i=0;i<e.length&&0===e[i];i++,n=n.sqr());if(++i<e.length)for(var r=n.sqr();i<e.length;i++,r=r.sqr())0!==e[i]&&(n=n.mul(r));return n},s.prototype.iushln=function(t){n("number"==typeof t&&t>=0);var e,i=t%26,r=(t-i)/26,s=67108863>>>26-i<<26-i;if(0!==i){var o=0;for(e=0;e<this.length;e++){var a=this.words[e]&s,h=(0|this.words[e])-a<<i;this.words[e]=h|o,o=a>>>26-i}o&&(this.words[e]=o,this.length++)}if(0!==r){for(e=this.length-1;e>=0;e--)this.words[e+r]=this.words[e];for(e=0;e<r;e++)this.words[e]=0;this.length+=r}return this._strip()},s.prototype.ishln=function(t){return n(0===this.negative),this.iushln(t)},s.prototype.iushrn=function(t,e,i){var r;n("number"==typeof t&&t>=0),r=e?(e-e%26)/26:0;var s=t%26,o=Math.min((t-s)/26,this.length),a=67108863^67108863>>>s<<s,h=i;if(r-=o,r=Math.max(0,r),h){for(var u=0;u<o;u++)h.words[u]=this.words[u];h.length=o}if(0===o);else if(this.length>o)for(this.length-=o,u=0;u<this.length;u++)this.words[u]=this.words[u+o];else this.words[0]=0,this.length=1;var l=0;for(u=this.length-1;u>=0&&(0!==l||u>=r);u--){var c=0|this.words[u];this.words[u]=l<<26-s|c>>>s,l=c&a}return h&&0!==l&&(h.words[h.length++]=l),0===this.length&&(this.words[0]=0,this.length=1),this._strip()},s.prototype.ishrn=function(t,e,i){return n(0===this.negative),this.iushrn(t,e,i)},s.prototype.shln=function(t){return this.clone().ishln(t)},s.prototype.ushln=function(t){return this.clone().iushln(t)},s.prototype.shrn=function(t){return this.clone().ishrn(t)},s.prototype.ushrn=function(t){return this.clone().iushrn(t)},s.prototype.testn=function(t){n("number"==typeof t&&t>=0);var e=t%26,i=(t-e)/26,r=1<<e;return!(this.length<=i)&&!!(this.words[i]&r)},s.prototype.imaskn=function(t){n("number"==typeof t&&t>=0);var e=t%26,i=(t-e)/26;if(n(0===this.negative,"imaskn works only with positive numbers"),this.length<=i)return this;if(0!==e&&i++,this.length=Math.min(i,this.length),0!==e){var r=67108863^67108863>>>e<<e;this.words[this.length-1]&=r}return this._strip()},s.prototype.maskn=function(t){return this.clone().imaskn(t)},s.prototype.iaddn=function(t){return n("number"==typeof t),n(t<67108864),t<0?this.isubn(-t):0!==this.negative?1===this.length&&(0|this.words[0])<=t?(this.words[0]=t-(0|this.words[0]),this.negative=0,this):(this.negative=0,this.isubn(t),this.negative=1,this):this._iaddn(t)},s.prototype._iaddn=function(t){this.words[0]+=t;for(var e=0;e<this.length&&this.words[e]>=67108864;e++)this.words[e]-=67108864,e===this.length-1?this.words[e+1]=1:this.words[e+1]++;return this.length=Math.max(this.length,e+1),this},s.prototype.isubn=function(t){if(n("number"==typeof t),n(t<67108864),t<0)return this.iaddn(-t);if(0!==this.negative)return this.negative=0,this.iaddn(t),this.negative=1,this;if(this.words[0]-=t,1===this.length&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var e=0;e<this.length&&this.words[e]<0;e++)this.words[e]+=67108864,this.words[e+1]-=1;return this._strip()},s.prototype.addn=function(t){return this.clone().iaddn(t)},s.prototype.subn=function(t){return this.clone().isubn(t)},s.prototype.iabs=function(){return this.negative=0,this},s.prototype.abs=function(){return this.clone().iabs()},s.prototype._ishlnsubmul=function(t,e,i){var r,s,o=t.length+i;this._expand(o);var a=0;for(r=0;r<t.length;r++){s=(0|this.words[r+i])+a;var h=(0|t.words[r])*e;a=((s-=67108863&h)>>26)-(h/67108864|0),this.words[r+i]=67108863&s}for(;r<this.length-i;r++)a=(s=(0|this.words[r+i])+a)>>26,this.words[r+i]=67108863&s;if(0===a)return this._strip();for(n(-1===a),a=0,r=0;r<this.length;r++)a=(s=-(0|this.words[r])+a)>>26,this.words[r]=67108863&s;return this.negative=1,this._strip()},s.prototype._wordDiv=function(t,e){var n=(this.length,t.length),i=this.clone(),r=t,o=0|r.words[r.length-1];0!==(n=26-this._countBits(o))&&(r=r.ushln(n),i.iushln(n),o=0|r.words[r.length-1]);var a,h=i.length-r.length;if("mod"!==e){(a=new s(null)).length=h+1,a.words=new Array(a.length);for(var u=0;u<a.length;u++)a.words[u]=0}var l=i.clone()._ishlnsubmul(r,1,h);0===l.negative&&(i=l,a&&(a.words[h]=1));for(var c=h-1;c>=0;c--){var d=67108864*(0|i.words[r.length+c])+(0|i.words[r.length+c-1]);for(d=Math.min(d/o|0,67108863),i._ishlnsubmul(r,d,c);0!==i.negative;)d--,i.negative=0,i._ishlnsubmul(r,1,c),i.isZero()||(i.negative^=1);a&&(a.words[c]=d)}return a&&a._strip(),i._strip(),"div"!==e&&0!==n&&i.iushrn(n),{div:a||null,mod:i}},s.prototype.divmod=function(t,e,i){return n(!t.isZero()),this.isZero()?{div:new s(0),mod:new s(0)}:0!==this.negative&&0===t.negative?(a=this.neg().divmod(t,e),"mod"!==e&&(r=a.div.neg()),"div"!==e&&(o=a.mod.neg(),i&&0!==o.negative&&o.iadd(t)),{div:r,mod:o}):0===this.negative&&0!==t.negative?(a=this.divmod(t.neg(),e),"mod"!==e&&(r=a.div.neg()),{div:r,mod:a.mod}):0!=(this.negative&t.negative)?(a=this.neg().divmod(t.neg(),e),"div"!==e&&(o=a.mod.neg(),i&&0!==o.negative&&o.isub(t)),{div:a.div,mod:o}):t.length>this.length||this.cmp(t)<0?{div:new s(0),mod:this}:1===t.length?"div"===e?{div:this.divn(t.words[0]),mod:null}:"mod"===e?{div:null,mod:new s(this.modrn(t.words[0]))}:{div:this.divn(t.words[0]),mod:new s(this.modrn(t.words[0]))}:this._wordDiv(t,e);var r,o,a},s.prototype.div=function(t){return this.divmod(t,"div",!1).div},s.prototype.mod=function(t){return this.divmod(t,"mod",!1).mod},s.prototype.umod=function(t){return this.divmod(t,"mod",!0).mod},s.prototype.divRound=function(t){var e=this.divmod(t);if(e.mod.isZero())return e.div;var n=0!==e.div.negative?e.mod.isub(t):e.mod,i=t.ushrn(1),r=t.andln(1),s=n.cmp(i);return s<0||1===r&&0===s?e.div:0!==e.div.negative?e.div.isubn(1):e.div.iaddn(1)},s.prototype.modrn=function(t){var e=t<0;e&&(t=-t),n(t<=67108863);for(var i=67108864%t,r=0,s=this.length-1;s>=0;s--)r=(i*r+(0|this.words[s]))%t;return e?-r:r},s.prototype.modn=function(t){return this.modrn(t)},s.prototype.idivn=function(t){var e=t<0;e&&(t=-t),n(t<=67108863);for(var i=0,r=this.length-1;r>=0;r--){var s=(0|this.words[r])+67108864*i;this.words[r]=s/t|0,i=s%t}return this._strip(),e?this.ineg():this},s.prototype.divn=function(t){return this.clone().idivn(t)},s.prototype.egcd=function(t){n(0===t.negative),n(!t.isZero());var e=this,i=t.clone();e=0!==e.negative?e.umod(t):e.clone();for(var r=new s(1),o=new s(0),a=new s(0),h=new s(1),u=0;e.isEven()&&i.isEven();)e.iushrn(1),i.iushrn(1),++u;for(var l=i.clone(),c=e.clone();!e.isZero();){for(var d=0,f=1;0==(e.words[0]&f)&&d<26;++d,f<<=1);if(d>0)for(e.iushrn(d);d-- >0;)(r.isOdd()||o.isOdd())&&(r.iadd(l),o.isub(c)),r.iushrn(1),o.iushrn(1);for(var p=0,m=1;0==(i.words[0]&m)&&p<26;++p,m<<=1);if(p>0)for(i.iushrn(p);p-- >0;)(a.isOdd()||h.isOdd())&&(a.iadd(l),h.isub(c)),a.iushrn(1),h.iushrn(1);e.cmp(i)>=0?(e.isub(i),r.isub(a),o.isub(h)):(i.isub(e),a.isub(r),h.isub(o))}return{a:a,b:h,gcd:i.iushln(u)}},s.prototype._invmp=function(t){n(0===t.negative),n(!t.isZero());var e=this,i=t.clone();e=0!==e.negative?e.umod(t):e.clone();for(var r,o=new s(1),a=new s(0),h=i.clone();e.cmpn(1)>0&&i.cmpn(1)>0;){for(var u=0,l=1;0==(e.words[0]&l)&&u<26;++u,l<<=1);if(u>0)for(e.iushrn(u);u-- >0;)o.isOdd()&&o.iadd(h),o.iushrn(1);for(var c=0,d=1;0==(i.words[0]&d)&&c<26;++c,d<<=1);if(c>0)for(i.iushrn(c);c-- >0;)a.isOdd()&&a.iadd(h),a.iushrn(1);e.cmp(i)>=0?(e.isub(i),o.isub(a)):(i.isub(e),a.isub(o))}return(r=0===e.cmpn(1)?o:a).cmpn(0)<0&&r.iadd(t),r},s.prototype.gcd=function(t){if(this.isZero())return t.abs();if(t.isZero())return this.abs();var e=this.clone(),n=t.clone();e.negative=0,n.negative=0;for(var i=0;e.isEven()&&n.isEven();i++)e.iushrn(1),n.iushrn(1);for(;;){for(;e.isEven();)e.iushrn(1);for(;n.isEven();)n.iushrn(1);var r=e.cmp(n);if(r<0){var s=e;e=n,n=s}else if(0===r||0===n.cmpn(1))break;e.isub(n)}return n.iushln(i)},s.prototype.invm=function(t){return this.egcd(t).a.umod(t)},s.prototype.isEven=function(){return 0==(1&this.words[0])},s.prototype.isOdd=function(){return 1==(1&this.words[0])},s.prototype.andln=function(t){return this.words[0]&t},s.prototype.bincn=function(t){n("number"==typeof t);var e=t%26,i=(t-e)/26,r=1<<e;if(this.length<=i)return this._expand(i+1),this.words[i]|=r,this;for(var s=r,o=i;0!==s&&o<this.length;o++){var a=0|this.words[o];s=(a+=s)>>>26,a&=67108863,this.words[o]=a}return 0!==s&&(this.words[o]=s,this.length++),this},s.prototype.isZero=function(){return 1===this.length&&0===this.words[0]},s.prototype.cmpn=function(t){var e,i=t<0;if(0!==this.negative&&!i)return-1;if(0===this.negative&&i)return 1;if(this._strip(),this.length>1)e=1;else{i&&(t=-t),n(t<=67108863,"Number is too big");var r=0|this.words[0];e=r===t?0:r<t?-1:1}return 0!==this.negative?0|-e:e},s.prototype.cmp=function(t){if(0!==this.negative&&0===t.negative)return-1;if(0===this.negative&&0!==t.negative)return 1;var e=this.ucmp(t);return 0!==this.negative?0|-e:e},s.prototype.ucmp=function(t){if(this.length>t.length)return 1;if(this.length<t.length)return-1;for(var e=0,n=this.length-1;n>=0;n--){var i=0|this.words[n],r=0|t.words[n];if(i!==r){i<r?e=-1:i>r&&(e=1);break}}return e},s.prototype.gtn=function(t){return 1===this.cmpn(t)},s.prototype.gt=function(t){return 1===this.cmp(t)},s.prototype.gten=function(t){return this.cmpn(t)>=0},s.prototype.gte=function(t){return this.cmp(t)>=0},s.prototype.ltn=function(t){return-1===this.cmpn(t)},s.prototype.lt=function(t){return-1===this.cmp(t)},s.prototype.lten=function(t){return this.cmpn(t)<=0},s.prototype.lte=function(t){return this.cmp(t)<=0},s.prototype.eqn=function(t){return 0===this.cmpn(t)},s.prototype.eq=function(t){return 0===this.cmp(t)},s.red=function(t){return new x(t)},s.prototype.toRed=function(t){return n(!this.red,"Already a number in reduction context"),n(0===this.negative,"red works only with positives"),t.convertTo(this)._forceRed(t)},s.prototype.fromRed=function(){return n(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},s.prototype._forceRed=function(t){return this.red=t,this},s.prototype.forceRed=function(t){return n(!this.red,"Already a number in reduction context"),this._forceRed(t)},s.prototype.redAdd=function(t){return n(this.red,"redAdd works only with red numbers"),this.red.add(this,t)},s.prototype.redIAdd=function(t){return n(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,t)},s.prototype.redSub=function(t){return n(this.red,"redSub works only with red numbers"),this.red.sub(this,t)},s.prototype.redISub=function(t){return n(this.red,"redISub works only with red numbers"),this.red.isub(this,t)},s.prototype.redShl=function(t){return n(this.red,"redShl works only with red numbers"),this.red.shl(this,t)},s.prototype.redMul=function(t){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,t),this.red.mul(this,t)},s.prototype.redIMul=function(t){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,t),this.red.imul(this,t)},s.prototype.redSqr=function(){return n(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},s.prototype.redISqr=function(){return n(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},s.prototype.redSqrt=function(){return n(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},s.prototype.redInvm=function(){return n(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},s.prototype.redNeg=function(){return n(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},s.prototype.redPow=function(t){return n(this.red&&!t.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,t)};var w={k256:null,p224:null,p192:null,p25519:null};function _(t,e){this.name=t,this.p=new s(e,16),this.n=this.p.bitLength(),this.k=new s(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}function M(){_.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}function k(){_.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}function A(){_.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}function E(){_.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}function x(t){if("string"==typeof t){var e=s._prime(t);this.m=e.p,this.prime=e}else n(t.gtn(1),"modulus must be greater than 1"),this.m=t,this.prime=null}function S(t){x.call(this,t),this.shift=this.m.bitLength(),this.shift%26!=0&&(this.shift+=26-this.shift%26),this.r=new s(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}_.prototype._tmp=function(){var t=new s(null);return t.words=new Array(Math.ceil(this.n/13)),t},_.prototype.ireduce=function(t){var e,n=t;do{this.split(n,this.tmp),e=(n=(n=this.imulK(n)).iadd(this.tmp)).bitLength()}while(e>this.n);var i=e<this.n?-1:n.ucmp(this.p);return 0===i?(n.words[0]=0,n.length=1):i>0?n.isub(this.p):void 0!==n.strip?n.strip():n._strip(),n},_.prototype.split=function(t,e){t.iushrn(this.n,0,e)},_.prototype.imulK=function(t){return t.imul(this.k)},i(M,_),M.prototype.split=function(t,e){for(var n=4194303,i=Math.min(t.length,9),r=0;r<i;r++)e.words[r]=t.words[r];if(e.length=i,t.length<=9)return t.words[0]=0,void(t.length=1);var s=t.words[9];for(e.words[e.length++]=s&n,r=10;r<t.length;r++){var o=0|t.words[r];t.words[r-10]=(o&n)<<4|s>>>22,s=o}s>>>=22,t.words[r-10]=s,0===s&&t.length>10?t.length-=10:t.length-=9},M.prototype.imulK=function(t){t.words[t.length]=0,t.words[t.length+1]=0,t.length+=2;for(var e=0,n=0;n<t.length;n++){var i=0|t.words[n];e+=977*i,t.words[n]=67108863&e,e=64*i+(e/67108864|0)}return 0===t.words[t.length-1]&&(t.length--,0===t.words[t.length-1]&&t.length--),t},i(k,_),i(A,_),i(E,_),E.prototype.imulK=function(t){for(var e=0,n=0;n<t.length;n++){var i=19*(0|t.words[n])+e,r=67108863&i;i>>>=26,t.words[n]=r,e=i}return 0!==e&&(t.words[t.length++]=e),t},s._prime=function(t){if(w[t])return w[t];var e;if("k256"===t)e=new M;else if("p224"===t)e=new k;else if("p192"===t)e=new A;else{if("p25519"!==t)throw new Error("Unknown prime "+t);e=new E}return w[t]=e,e},x.prototype._verify1=function(t){n(0===t.negative,"red works only with positives"),n(t.red,"red works only with red numbers")},x.prototype._verify2=function(t,e){n(0==(t.negative|e.negative),"red works only with positives"),n(t.red&&t.red===e.red,"red works only with red numbers")},x.prototype.imod=function(t){return this.prime?this.prime.ireduce(t)._forceRed(this):(l(t,t.umod(this.m)._forceRed(this)),t)},x.prototype.neg=function(t){return t.isZero()?t.clone():this.m.sub(t)._forceRed(this)},x.prototype.add=function(t,e){this._verify2(t,e);var n=t.add(e);return n.cmp(this.m)>=0&&n.isub(this.m),n._forceRed(this)},x.prototype.iadd=function(t,e){this._verify2(t,e);var n=t.iadd(e);return n.cmp(this.m)>=0&&n.isub(this.m),n},x.prototype.sub=function(t,e){this._verify2(t,e);var n=t.sub(e);return n.cmpn(0)<0&&n.iadd(this.m),n._forceRed(this)},x.prototype.isub=function(t,e){this._verify2(t,e);var n=t.isub(e);return n.cmpn(0)<0&&n.iadd(this.m),n},x.prototype.shl=function(t,e){return this._verify1(t),this.imod(t.ushln(e))},x.prototype.imul=function(t,e){return this._verify2(t,e),this.imod(t.imul(e))},x.prototype.mul=function(t,e){return this._verify2(t,e),this.imod(t.mul(e))},x.prototype.isqr=function(t){return this.imul(t,t.clone())},x.prototype.sqr=function(t){return this.mul(t,t)},x.prototype.sqrt=function(t){if(t.isZero())return t.clone();var e=this.m.andln(3);if(n(e%2==1),3===e){var i=this.m.add(new s(1)).iushrn(2);return this.pow(t,i)}for(var r=this.m.subn(1),o=0;!r.isZero()&&0===r.andln(1);)o++,r.iushrn(1);n(!r.isZero());var a=new s(1).toRed(this),h=a.redNeg(),u=this.m.subn(1).iushrn(1),l=this.m.bitLength();for(l=new s(2*l*l).toRed(this);0!==this.pow(l,u).cmp(h);)l.redIAdd(h);for(var c=this.pow(l,r),d=this.pow(t,r.addn(1).iushrn(1)),f=this.pow(t,r),p=o;0!==f.cmp(a);){for(var m=f,g=0;0!==m.cmp(a);g++)m=m.redSqr();n(g<p);var v=this.pow(c,new s(1).iushln(p-g-1));d=d.redMul(v),c=v.redSqr(),f=f.redMul(c),p=g}return d},x.prototype.invm=function(t){var e=t._invmp(this.m);return 0!==e.negative?(e.negative=0,this.imod(e).redNeg()):this.imod(e)},x.prototype.pow=function(t,e){if(e.isZero())return new s(1).toRed(this);if(0===e.cmpn(1))return t.clone();var n=new Array(16);n[0]=new s(1).toRed(this),n[1]=t;for(var i=2;i<n.length;i++)n[i]=this.mul(n[i-1],t);var r=n[0],o=0,a=0,h=e.bitLength()%26;for(0===h&&(h=26),i=e.length-1;i>=0;i--){for(var u=e.words[i],l=h-1;l>=0;l--){var c=u>>l&1;r!==n[0]&&(r=this.sqr(r)),0!==c||0!==o?(o<<=1,o|=c,(4===++a||0===i&&0===l)&&(r=this.mul(r,n[o]),a=0,o=0)):a=0}h=26}return r},x.prototype.convertTo=function(t){var e=t.umod(this.m);return e===t?e.clone():e},x.prototype.convertFrom=function(t){var e=t.clone();return e.red=null,e},s.mont=function(t){return new S(t)},i(S,x),S.prototype.convertTo=function(t){return this.imod(t.ushln(this.shift))},S.prototype.convertFrom=function(t){var e=this.imod(t.mul(this.rinv));return e.red=null,e},S.prototype.imul=function(t,e){if(t.isZero()||e.isZero())return t.words[0]=0,t.length=1,t;var n=t.imul(e),i=n.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),r=n.isub(i).iushrn(this.shift),s=r;return r.cmp(this.m)>=0?s=r.isub(this.m):r.cmpn(0)<0&&(s=r.iadd(this.m)),s._forceRed(this)},S.prototype.mul=function(t,e){if(t.isZero()||e.isZero())return new s(0)._forceRed(this);var n=t.mul(e),i=n.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),r=n.isub(i).iushrn(this.shift),o=r;return r.cmp(this.m)>=0?o=r.isub(this.m):r.cmpn(0)<0&&(o=r.iadd(this.m)),o._forceRed(this)},S.prototype.invm=function(t){return this.imod(t._invmp(this.m).mul(this.r2))._forceRed(this)}}(t,this)})),r.register("ikIB9",(function(t,e){var n=t.exports;n.version=r("5JwsX").version,n.utils=r("fpVz9"),n.rand=r("9m54X"),n.curve=r("9N9oN"),n.curves=r("ch9s3"),n.ec=r("2XALJ"),n.eddsa=r("aNhbj")})),r.register("5JwsX",(function(t,e){t.exports=JSON.parse('{"name":"elliptic","version":"6.5.4","description":"EC cryptography","main":"lib/elliptic.js","files":["lib"],"scripts":{"lint":"eslint lib test","lint:fix":"npm run lint -- --fix","unit":"istanbul test _mocha --reporter=spec test/index.js","test":"npm run lint && npm run unit","version":"grunt dist && git add dist/"},"repository":{"type":"git","url":"git@github.com:indutny/elliptic"},"keywords":["EC","Elliptic","curve","Cryptography"],"author":"Fedor Indutny <fedor@indutny.com>","license":"MIT","bugs":{"url":"https://github.com/indutny/elliptic/issues"},"homepage":"https://github.com/indutny/elliptic","devDependencies":{"brfs":"^2.0.2","coveralls":"^3.1.0","eslint":"^7.6.0","grunt":"^1.2.1","grunt-browserify":"^5.3.0","grunt-cli":"^1.3.2","grunt-contrib-connect":"^3.0.0","grunt-contrib-copy":"^1.0.0","grunt-contrib-uglify":"^5.0.0","grunt-mocha-istanbul":"^5.0.2","grunt-saucelabs":"^9.0.1","istanbul":"^0.4.5","mocha":"^8.0.1"},"dependencies":{"bn.js":"^4.11.9","brorand":"^1.1.0","hash.js":"^1.0.0","hmac-drbg":"^1.0.1","inherits":"^2.0.4","minimalistic-assert":"^1.0.1","minimalistic-crypto-utils":"^1.0.1"}}')})),r.register("fpVz9",(function(t,e){var n=t.exports,i=r("7ceHy"),s=r("bNW2d"),o=r("am8t0");n.assert=s,n.toArray=o.toArray,n.zero2=o.zero2,n.toHex=o.toHex,n.encode=o.encode,n.getNAF=function(t,e,n){var i=new Array(Math.max(t.bitLength(),n)+1);i.fill(0);for(var r=1<<e+1,s=t.clone(),o=0;o<i.length;o++){var a,h=s.andln(r-1);s.isOdd()?(a=h>(r>>1)-1?(r>>1)-h:h,s.isubn(a)):a=0,i[o]=a,s.iushrn(1)}return i},n.getJSF=function(t,e){var n=[[],[]];t=t.clone(),e=e.clone();for(var i,r=0,s=0;t.cmpn(-r)>0||e.cmpn(-s)>0;){var o,a,h=t.andln(3)+r&3,u=e.andln(3)+s&3;3===h&&(h=-1),3===u&&(u=-1),o=0==(1&h)?0:3!==(i=t.andln(7)+r&7)&&5!==i||2!==u?h:-h,n[0].push(o),a=0==(1&u)?0:3!==(i=e.andln(7)+s&7)&&5!==i||2!==h?u:-u,n[1].push(a),2*r===o+1&&(r=1-r),2*s===a+1&&(s=1-s),t.iushrn(1),e.iushrn(1)}return n},n.cachedProperty=function(t,e,n){var i="_"+e;t.prototype[e]=function(){return void 0!==this[i]?this[i]:this[i]=n.call(this)}},n.parseBytes=function(t){return"string"==typeof t?n.toArray(t,"hex"):t},n.intFromLE=function(t){return new i(t,"hex","le")}})),r.register("7ceHy",(function(t,e){!function(t,e){function n(t,e){if(!t)throw new Error(e||"Assertion failed")}function i(t,e){t.super_=e;var n=function(){};n.prototype=e.prototype,t.prototype=new n,t.prototype.constructor=t}function s(t,e,n){if(s.isBN(t))return t;this.negative=0,this.words=null,this.length=0,this.red=null,null!==t&&("le"!==e&&"be"!==e||(n=e,e=10),this._init(t||0,e||10,n||"be"))}var o;"object"==typeof t?t.exports=s:e.BN=s,s.BN=s,s.wordSize=26;try{o="undefined"!=typeof window&&void 0!==window.Buffer?window.Buffer:r("66yC2").Buffer}catch(t){}function a(t,e){var n=t.charCodeAt(e);return n>=65&&n<=70?n-55:n>=97&&n<=102?n-87:n-48&15}function h(t,e,n){var i=a(t,n);return n-1>=e&&(i|=a(t,n-1)<<4),i}function u(t,e,n,i){for(var r=0,s=Math.min(t.length,n),o=e;o<s;o++){var a=t.charCodeAt(o)-48;r*=i,r+=a>=49?a-49+10:a>=17?a-17+10:a}return r}s.isBN=function(t){return t instanceof s||null!==t&&"object"==typeof t&&t.constructor.wordSize===s.wordSize&&Array.isArray(t.words)},s.max=function(t,e){return t.cmp(e)>0?t:e},s.min=function(t,e){return t.cmp(e)<0?t:e},s.prototype._init=function(t,e,i){if("number"==typeof t)return this._initNumber(t,e,i);if("object"==typeof t)return this._initArray(t,e,i);"hex"===e&&(e=16),n(e===(0|e)&&e>=2&&e<=36);var r=0;"-"===(t=t.toString().replace(/\s+/g,""))[0]&&(r++,this.negative=1),r<t.length&&(16===e?this._parseHex(t,r,i):(this._parseBase(t,e,r),"le"===i&&this._initArray(this.toArray(),e,i)))},s.prototype._initNumber=function(t,e,i){t<0&&(this.negative=1,t=-t),t<67108864?(this.words=[67108863&t],this.length=1):t<4503599627370496?(this.words=[67108863&t,t/67108864&67108863],this.length=2):(n(t<9007199254740992),this.words=[67108863&t,t/67108864&67108863,1],this.length=3),"le"===i&&this._initArray(this.toArray(),e,i)},s.prototype._initArray=function(t,e,i){if(n("number"==typeof t.length),t.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(t.length/3),this.words=new Array(this.length);for(var r=0;r<this.length;r++)this.words[r]=0;var s,o,a=0;if("be"===i)for(r=t.length-1,s=0;r>=0;r-=3)o=t[r]|t[r-1]<<8|t[r-2]<<16,this.words[s]|=o<<a&67108863,this.words[s+1]=o>>>26-a&67108863,(a+=24)>=26&&(a-=26,s++);else if("le"===i)for(r=0,s=0;r<t.length;r+=3)o=t[r]|t[r+1]<<8|t[r+2]<<16,this.words[s]|=o<<a&67108863,this.words[s+1]=o>>>26-a&67108863,(a+=24)>=26&&(a-=26,s++);return this.strip()},s.prototype._parseHex=function(t,e,n){this.length=Math.ceil((t.length-e)/6),this.words=new Array(this.length);for(var i=0;i<this.length;i++)this.words[i]=0;var r,s=0,o=0;if("be"===n)for(i=t.length-1;i>=e;i-=2)r=h(t,e,i)<<s,this.words[o]|=67108863&r,s>=18?(s-=18,o+=1,this.words[o]|=r>>>26):s+=8;else for(i=(t.length-e)%2==0?e+1:e;i<t.length;i+=2)r=h(t,e,i)<<s,this.words[o]|=67108863&r,s>=18?(s-=18,o+=1,this.words[o]|=r>>>26):s+=8;this.strip()},s.prototype._parseBase=function(t,e,n){this.words=[0],this.length=1;for(var i=0,r=1;r<=67108863;r*=e)i++;i--,r=r/e|0;for(var s=t.length-n,o=s%i,a=Math.min(s,s-o)+n,h=0,l=n;l<a;l+=i)h=u(t,l,l+i,e),this.imuln(r),this.words[0]+h<67108864?this.words[0]+=h:this._iaddn(h);if(0!==o){var c=1;for(h=u(t,l,t.length,e),l=0;l<o;l++)c*=e;this.imuln(c),this.words[0]+h<67108864?this.words[0]+=h:this._iaddn(h)}this.strip()},s.prototype.copy=function(t){t.words=new Array(this.length);for(var e=0;e<this.length;e++)t.words[e]=this.words[e];t.length=this.length,t.negative=this.negative,t.red=this.red},s.prototype.clone=function(){var t=new s(null);return this.copy(t),t},s.prototype._expand=function(t){for(;this.length<t;)this.words[this.length++]=0;return this},s.prototype.strip=function(){for(;this.length>1&&0===this.words[this.length-1];)this.length--;return this._normSign()},s.prototype._normSign=function(){return 1===this.length&&0===this.words[0]&&(this.negative=0),this},s.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var l=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],c=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],d=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];function f(t,e,n){n.negative=e.negative^t.negative;var i=t.length+e.length|0;n.length=i,i=i-1|0;var r=0|t.words[0],s=0|e.words[0],o=r*s,a=67108863&o,h=o/67108864|0;n.words[0]=a;for(var u=1;u<i;u++){for(var l=h>>>26,c=67108863&h,d=Math.min(u,e.length-1),f=Math.max(0,u-t.length+1);f<=d;f++){var p=u-f|0;l+=(o=(r=0|t.words[p])*(s=0|e.words[f])+c)/67108864|0,c=67108863&o}n.words[u]=0|c,h=0|l}return 0!==h?n.words[u]=0|h:n.length--,n.strip()}s.prototype.toString=function(t,e){var i;if(e=0|e||1,16===(t=t||10)||"hex"===t){i="";for(var r=0,s=0,o=0;o<this.length;o++){var a=this.words[o],h=(16777215&(a<<r|s)).toString(16);i=0!==(s=a>>>24-r&16777215)||o!==this.length-1?l[6-h.length]+h+i:h+i,(r+=2)>=26&&(r-=26,o--)}for(0!==s&&(i=s.toString(16)+i);i.length%e!=0;)i="0"+i;return 0!==this.negative&&(i="-"+i),i}if(t===(0|t)&&t>=2&&t<=36){var u=c[t],f=d[t];i="";var p=this.clone();for(p.negative=0;!p.isZero();){var m=p.modn(f).toString(t);i=(p=p.idivn(f)).isZero()?m+i:l[u-m.length]+m+i}for(this.isZero()&&(i="0"+i);i.length%e!=0;)i="0"+i;return 0!==this.negative&&(i="-"+i),i}n(!1,"Base should be between 2 and 36")},s.prototype.toNumber=function(){var t=this.words[0];return 2===this.length?t+=67108864*this.words[1]:3===this.length&&1===this.words[2]?t+=4503599627370496+67108864*this.words[1]:this.length>2&&n(!1,"Number can only safely store up to 53 bits"),0!==this.negative?-t:t},s.prototype.toJSON=function(){return this.toString(16)},s.prototype.toBuffer=function(t,e){return n(void 0!==o),this.toArrayLike(o,t,e)},s.prototype.toArray=function(t,e){return this.toArrayLike(Array,t,e)},s.prototype.toArrayLike=function(t,e,i){var r=this.byteLength(),s=i||Math.max(1,r);n(r<=s,"byte array longer than desired length"),n(s>0,"Requested array length <= 0"),this.strip();var o,a,h="le"===e,u=new t(s),l=this.clone();if(h){for(a=0;!l.isZero();a++)o=l.andln(255),l.iushrn(8),u[a]=o;for(;a<s;a++)u[a]=0}else{for(a=0;a<s-r;a++)u[a]=0;for(a=0;!l.isZero();a++)o=l.andln(255),l.iushrn(8),u[s-a-1]=o}return u},Math.clz32?s.prototype._countBits=function(t){return 32-Math.clz32(t)}:s.prototype._countBits=function(t){var e=t,n=0;return e>=4096&&(n+=13,e>>>=13),e>=64&&(n+=7,e>>>=7),e>=8&&(n+=4,e>>>=4),e>=2&&(n+=2,e>>>=2),n+e},s.prototype._zeroBits=function(t){if(0===t)return 26;var e=t,n=0;return 0==(8191&e)&&(n+=13,e>>>=13),0==(127&e)&&(n+=7,e>>>=7),0==(15&e)&&(n+=4,e>>>=4),0==(3&e)&&(n+=2,e>>>=2),0==(1&e)&&n++,n},s.prototype.bitLength=function(){var t=this.words[this.length-1],e=this._countBits(t);return 26*(this.length-1)+e},s.prototype.zeroBits=function(){if(this.isZero())return 0;for(var t=0,e=0;e<this.length;e++){var n=this._zeroBits(this.words[e]);if(t+=n,26!==n)break}return t},s.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},s.prototype.toTwos=function(t){return 0!==this.negative?this.abs().inotn(t).iaddn(1):this.clone()},s.prototype.fromTwos=function(t){return this.testn(t-1)?this.notn(t).iaddn(1).ineg():this.clone()},s.prototype.isNeg=function(){return 0!==this.negative},s.prototype.neg=function(){return this.clone().ineg()},s.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},s.prototype.iuor=function(t){for(;this.length<t.length;)this.words[this.length++]=0;for(var e=0;e<t.length;e++)this.words[e]=this.words[e]|t.words[e];return this.strip()},s.prototype.ior=function(t){return n(0==(this.negative|t.negative)),this.iuor(t)},s.prototype.or=function(t){return this.length>t.length?this.clone().ior(t):t.clone().ior(this)},s.prototype.uor=function(t){return this.length>t.length?this.clone().iuor(t):t.clone().iuor(this)},s.prototype.iuand=function(t){var e;e=this.length>t.length?t:this;for(var n=0;n<e.length;n++)this.words[n]=this.words[n]&t.words[n];return this.length=e.length,this.strip()},s.prototype.iand=function(t){return n(0==(this.negative|t.negative)),this.iuand(t)},s.prototype.and=function(t){return this.length>t.length?this.clone().iand(t):t.clone().iand(this)},s.prototype.uand=function(t){return this.length>t.length?this.clone().iuand(t):t.clone().iuand(this)},s.prototype.iuxor=function(t){var e,n;this.length>t.length?(e=this,n=t):(e=t,n=this);for(var i=0;i<n.length;i++)this.words[i]=e.words[i]^n.words[i];if(this!==e)for(;i<e.length;i++)this.words[i]=e.words[i];return this.length=e.length,this.strip()},s.prototype.ixor=function(t){return n(0==(this.negative|t.negative)),this.iuxor(t)},s.prototype.xor=function(t){return this.length>t.length?this.clone().ixor(t):t.clone().ixor(this)},s.prototype.uxor=function(t){return this.length>t.length?this.clone().iuxor(t):t.clone().iuxor(this)},s.prototype.inotn=function(t){n("number"==typeof t&&t>=0);var e=0|Math.ceil(t/26),i=t%26;this._expand(e),i>0&&e--;for(var r=0;r<e;r++)this.words[r]=67108863&~this.words[r];return i>0&&(this.words[r]=~this.words[r]&67108863>>26-i),this.strip()},s.prototype.notn=function(t){return this.clone().inotn(t)},s.prototype.setn=function(t,e){n("number"==typeof t&&t>=0);var i=t/26|0,r=t%26;return this._expand(i+1),this.words[i]=e?this.words[i]|1<<r:this.words[i]&~(1<<r),this.strip()},s.prototype.iadd=function(t){var e,n,i;if(0!==this.negative&&0===t.negative)return this.negative=0,e=this.isub(t),this.negative^=1,this._normSign();if(0===this.negative&&0!==t.negative)return t.negative=0,e=this.isub(t),t.negative=1,e._normSign();this.length>t.length?(n=this,i=t):(n=t,i=this);for(var r=0,s=0;s<i.length;s++)e=(0|n.words[s])+(0|i.words[s])+r,this.words[s]=67108863&e,r=e>>>26;for(;0!==r&&s<n.length;s++)e=(0|n.words[s])+r,this.words[s]=67108863&e,r=e>>>26;if(this.length=n.length,0!==r)this.words[this.length]=r,this.length++;else if(n!==this)for(;s<n.length;s++)this.words[s]=n.words[s];return this},s.prototype.add=function(t){var e;return 0!==t.negative&&0===this.negative?(t.negative=0,e=this.sub(t),t.negative^=1,e):0===t.negative&&0!==this.negative?(this.negative=0,e=t.sub(this),this.negative=1,e):this.length>t.length?this.clone().iadd(t):t.clone().iadd(this)},s.prototype.isub=function(t){if(0!==t.negative){t.negative=0;var e=this.iadd(t);return t.negative=1,e._normSign()}if(0!==this.negative)return this.negative=0,this.iadd(t),this.negative=1,this._normSign();var n,i,r=this.cmp(t);if(0===r)return this.negative=0,this.length=1,this.words[0]=0,this;r>0?(n=this,i=t):(n=t,i=this);for(var s=0,o=0;o<i.length;o++)s=(e=(0|n.words[o])-(0|i.words[o])+s)>>26,this.words[o]=67108863&e;for(;0!==s&&o<n.length;o++)s=(e=(0|n.words[o])+s)>>26,this.words[o]=67108863&e;if(0===s&&o<n.length&&n!==this)for(;o<n.length;o++)this.words[o]=n.words[o];return this.length=Math.max(this.length,o),n!==this&&(this.negative=1),this.strip()},s.prototype.sub=function(t){return this.clone().isub(t)};var p=function(t,e,n){var i,r,s,o=t.words,a=e.words,h=n.words,u=0,l=0|o[0],c=8191&l,d=l>>>13,f=0|o[1],p=8191&f,m=f>>>13,g=0|o[2],v=8191&g,y=g>>>13,b=0|o[3],w=8191&b,_=b>>>13,M=0|o[4],k=8191&M,A=M>>>13,E=0|o[5],x=8191&E,S=E>>>13,T=0|o[6],I=8191&T,R=T>>>13,C=0|o[7],q=8191&C,N=C>>>13,L=0|o[8],D=8191&L,O=L>>>13,B=0|o[9],P=8191&B,U=B>>>13,F=0|a[0],j=8191&F,z=F>>>13,V=0|a[1],H=8191&V,K=V>>>13,W=0|a[2],G=8191&W,$=W>>>13,Q=0|a[3],X=8191&Q,Z=Q>>>13,Y=0|a[4],J=8191&Y,tt=Y>>>13,et=0|a[5],nt=8191&et,it=et>>>13,rt=0|a[6],st=8191&rt,ot=rt>>>13,at=0|a[7],ht=8191&at,ut=at>>>13,lt=0|a[8],ct=8191&lt,dt=lt>>>13,ft=0|a[9],pt=8191&ft,mt=ft>>>13;n.negative=t.negative^e.negative,n.length=19;var gt=(u+(i=Math.imul(c,j))|0)+((8191&(r=(r=Math.imul(c,z))+Math.imul(d,j)|0))<<13)|0;u=((s=Math.imul(d,z))+(r>>>13)|0)+(gt>>>26)|0,gt&=67108863,i=Math.imul(p,j),r=(r=Math.imul(p,z))+Math.imul(m,j)|0,s=Math.imul(m,z);var vt=(u+(i=i+Math.imul(c,H)|0)|0)+((8191&(r=(r=r+Math.imul(c,K)|0)+Math.imul(d,H)|0))<<13)|0;u=((s=s+Math.imul(d,K)|0)+(r>>>13)|0)+(vt>>>26)|0,vt&=67108863,i=Math.imul(v,j),r=(r=Math.imul(v,z))+Math.imul(y,j)|0,s=Math.imul(y,z),i=i+Math.imul(p,H)|0,r=(r=r+Math.imul(p,K)|0)+Math.imul(m,H)|0,s=s+Math.imul(m,K)|0;var yt=(u+(i=i+Math.imul(c,G)|0)|0)+((8191&(r=(r=r+Math.imul(c,$)|0)+Math.imul(d,G)|0))<<13)|0;u=((s=s+Math.imul(d,$)|0)+(r>>>13)|0)+(yt>>>26)|0,yt&=67108863,i=Math.imul(w,j),r=(r=Math.imul(w,z))+Math.imul(_,j)|0,s=Math.imul(_,z),i=i+Math.imul(v,H)|0,r=(r=r+Math.imul(v,K)|0)+Math.imul(y,H)|0,s=s+Math.imul(y,K)|0,i=i+Math.imul(p,G)|0,r=(r=r+Math.imul(p,$)|0)+Math.imul(m,G)|0,s=s+Math.imul(m,$)|0;var bt=(u+(i=i+Math.imul(c,X)|0)|0)+((8191&(r=(r=r+Math.imul(c,Z)|0)+Math.imul(d,X)|0))<<13)|0;u=((s=s+Math.imul(d,Z)|0)+(r>>>13)|0)+(bt>>>26)|0,bt&=67108863,i=Math.imul(k,j),r=(r=Math.imul(k,z))+Math.imul(A,j)|0,s=Math.imul(A,z),i=i+Math.imul(w,H)|0,r=(r=r+Math.imul(w,K)|0)+Math.imul(_,H)|0,s=s+Math.imul(_,K)|0,i=i+Math.imul(v,G)|0,r=(r=r+Math.imul(v,$)|0)+Math.imul(y,G)|0,s=s+Math.imul(y,$)|0,i=i+Math.imul(p,X)|0,r=(r=r+Math.imul(p,Z)|0)+Math.imul(m,X)|0,s=s+Math.imul(m,Z)|0;var wt=(u+(i=i+Math.imul(c,J)|0)|0)+((8191&(r=(r=r+Math.imul(c,tt)|0)+Math.imul(d,J)|0))<<13)|0;u=((s=s+Math.imul(d,tt)|0)+(r>>>13)|0)+(wt>>>26)|0,wt&=67108863,i=Math.imul(x,j),r=(r=Math.imul(x,z))+Math.imul(S,j)|0,s=Math.imul(S,z),i=i+Math.imul(k,H)|0,r=(r=r+Math.imul(k,K)|0)+Math.imul(A,H)|0,s=s+Math.imul(A,K)|0,i=i+Math.imul(w,G)|0,r=(r=r+Math.imul(w,$)|0)+Math.imul(_,G)|0,s=s+Math.imul(_,$)|0,i=i+Math.imul(v,X)|0,r=(r=r+Math.imul(v,Z)|0)+Math.imul(y,X)|0,s=s+Math.imul(y,Z)|0,i=i+Math.imul(p,J)|0,r=(r=r+Math.imul(p,tt)|0)+Math.imul(m,J)|0,s=s+Math.imul(m,tt)|0;var _t=(u+(i=i+Math.imul(c,nt)|0)|0)+((8191&(r=(r=r+Math.imul(c,it)|0)+Math.imul(d,nt)|0))<<13)|0;u=((s=s+Math.imul(d,it)|0)+(r>>>13)|0)+(_t>>>26)|0,_t&=67108863,i=Math.imul(I,j),r=(r=Math.imul(I,z))+Math.imul(R,j)|0,s=Math.imul(R,z),i=i+Math.imul(x,H)|0,r=(r=r+Math.imul(x,K)|0)+Math.imul(S,H)|0,s=s+Math.imul(S,K)|0,i=i+Math.imul(k,G)|0,r=(r=r+Math.imul(k,$)|0)+Math.imul(A,G)|0,s=s+Math.imul(A,$)|0,i=i+Math.imul(w,X)|0,r=(r=r+Math.imul(w,Z)|0)+Math.imul(_,X)|0,s=s+Math.imul(_,Z)|0,i=i+Math.imul(v,J)|0,r=(r=r+Math.imul(v,tt)|0)+Math.imul(y,J)|0,s=s+Math.imul(y,tt)|0,i=i+Math.imul(p,nt)|0,r=(r=r+Math.imul(p,it)|0)+Math.imul(m,nt)|0,s=s+Math.imul(m,it)|0;var Mt=(u+(i=i+Math.imul(c,st)|0)|0)+((8191&(r=(r=r+Math.imul(c,ot)|0)+Math.imul(d,st)|0))<<13)|0;u=((s=s+Math.imul(d,ot)|0)+(r>>>13)|0)+(Mt>>>26)|0,Mt&=67108863,i=Math.imul(q,j),r=(r=Math.imul(q,z))+Math.imul(N,j)|0,s=Math.imul(N,z),i=i+Math.imul(I,H)|0,r=(r=r+Math.imul(I,K)|0)+Math.imul(R,H)|0,s=s+Math.imul(R,K)|0,i=i+Math.imul(x,G)|0,r=(r=r+Math.imul(x,$)|0)+Math.imul(S,G)|0,s=s+Math.imul(S,$)|0,i=i+Math.imul(k,X)|0,r=(r=r+Math.imul(k,Z)|0)+Math.imul(A,X)|0,s=s+Math.imul(A,Z)|0,i=i+Math.imul(w,J)|0,r=(r=r+Math.imul(w,tt)|0)+Math.imul(_,J)|0,s=s+Math.imul(_,tt)|0,i=i+Math.imul(v,nt)|0,r=(r=r+Math.imul(v,it)|0)+Math.imul(y,nt)|0,s=s+Math.imul(y,it)|0,i=i+Math.imul(p,st)|0,r=(r=r+Math.imul(p,ot)|0)+Math.imul(m,st)|0,s=s+Math.imul(m,ot)|0;var kt=(u+(i=i+Math.imul(c,ht)|0)|0)+((8191&(r=(r=r+Math.imul(c,ut)|0)+Math.imul(d,ht)|0))<<13)|0;u=((s=s+Math.imul(d,ut)|0)+(r>>>13)|0)+(kt>>>26)|0,kt&=67108863,i=Math.imul(D,j),r=(r=Math.imul(D,z))+Math.imul(O,j)|0,s=Math.imul(O,z),i=i+Math.imul(q,H)|0,r=(r=r+Math.imul(q,K)|0)+Math.imul(N,H)|0,s=s+Math.imul(N,K)|0,i=i+Math.imul(I,G)|0,r=(r=r+Math.imul(I,$)|0)+Math.imul(R,G)|0,s=s+Math.imul(R,$)|0,i=i+Math.imul(x,X)|0,r=(r=r+Math.imul(x,Z)|0)+Math.imul(S,X)|0,s=s+Math.imul(S,Z)|0,i=i+Math.imul(k,J)|0,r=(r=r+Math.imul(k,tt)|0)+Math.imul(A,J)|0,s=s+Math.imul(A,tt)|0,i=i+Math.imul(w,nt)|0,r=(r=r+Math.imul(w,it)|0)+Math.imul(_,nt)|0,s=s+Math.imul(_,it)|0,i=i+Math.imul(v,st)|0,r=(r=r+Math.imul(v,ot)|0)+Math.imul(y,st)|0,s=s+Math.imul(y,ot)|0,i=i+Math.imul(p,ht)|0,r=(r=r+Math.imul(p,ut)|0)+Math.imul(m,ht)|0,s=s+Math.imul(m,ut)|0;var At=(u+(i=i+Math.imul(c,ct)|0)|0)+((8191&(r=(r=r+Math.imul(c,dt)|0)+Math.imul(d,ct)|0))<<13)|0;u=((s=s+Math.imul(d,dt)|0)+(r>>>13)|0)+(At>>>26)|0,At&=67108863,i=Math.imul(P,j),r=(r=Math.imul(P,z))+Math.imul(U,j)|0,s=Math.imul(U,z),i=i+Math.imul(D,H)|0,r=(r=r+Math.imul(D,K)|0)+Math.imul(O,H)|0,s=s+Math.imul(O,K)|0,i=i+Math.imul(q,G)|0,r=(r=r+Math.imul(q,$)|0)+Math.imul(N,G)|0,s=s+Math.imul(N,$)|0,i=i+Math.imul(I,X)|0,r=(r=r+Math.imul(I,Z)|0)+Math.imul(R,X)|0,s=s+Math.imul(R,Z)|0,i=i+Math.imul(x,J)|0,r=(r=r+Math.imul(x,tt)|0)+Math.imul(S,J)|0,s=s+Math.imul(S,tt)|0,i=i+Math.imul(k,nt)|0,r=(r=r+Math.imul(k,it)|0)+Math.imul(A,nt)|0,s=s+Math.imul(A,it)|0,i=i+Math.imul(w,st)|0,r=(r=r+Math.imul(w,ot)|0)+Math.imul(_,st)|0,s=s+Math.imul(_,ot)|0,i=i+Math.imul(v,ht)|0,r=(r=r+Math.imul(v,ut)|0)+Math.imul(y,ht)|0,s=s+Math.imul(y,ut)|0,i=i+Math.imul(p,ct)|0,r=(r=r+Math.imul(p,dt)|0)+Math.imul(m,ct)|0,s=s+Math.imul(m,dt)|0;var Et=(u+(i=i+Math.imul(c,pt)|0)|0)+((8191&(r=(r=r+Math.imul(c,mt)|0)+Math.imul(d,pt)|0))<<13)|0;u=((s=s+Math.imul(d,mt)|0)+(r>>>13)|0)+(Et>>>26)|0,Et&=67108863,i=Math.imul(P,H),r=(r=Math.imul(P,K))+Math.imul(U,H)|0,s=Math.imul(U,K),i=i+Math.imul(D,G)|0,r=(r=r+Math.imul(D,$)|0)+Math.imul(O,G)|0,s=s+Math.imul(O,$)|0,i=i+Math.imul(q,X)|0,r=(r=r+Math.imul(q,Z)|0)+Math.imul(N,X)|0,s=s+Math.imul(N,Z)|0,i=i+Math.imul(I,J)|0,r=(r=r+Math.imul(I,tt)|0)+Math.imul(R,J)|0,s=s+Math.imul(R,tt)|0,i=i+Math.imul(x,nt)|0,r=(r=r+Math.imul(x,it)|0)+Math.imul(S,nt)|0,s=s+Math.imul(S,it)|0,i=i+Math.imul(k,st)|0,r=(r=r+Math.imul(k,ot)|0)+Math.imul(A,st)|0,s=s+Math.imul(A,ot)|0,i=i+Math.imul(w,ht)|0,r=(r=r+Math.imul(w,ut)|0)+Math.imul(_,ht)|0,s=s+Math.imul(_,ut)|0,i=i+Math.imul(v,ct)|0,r=(r=r+Math.imul(v,dt)|0)+Math.imul(y,ct)|0,s=s+Math.imul(y,dt)|0;var xt=(u+(i=i+Math.imul(p,pt)|0)|0)+((8191&(r=(r=r+Math.imul(p,mt)|0)+Math.imul(m,pt)|0))<<13)|0;u=((s=s+Math.imul(m,mt)|0)+(r>>>13)|0)+(xt>>>26)|0,xt&=67108863,i=Math.imul(P,G),r=(r=Math.imul(P,$))+Math.imul(U,G)|0,s=Math.imul(U,$),i=i+Math.imul(D,X)|0,r=(r=r+Math.imul(D,Z)|0)+Math.imul(O,X)|0,s=s+Math.imul(O,Z)|0,i=i+Math.imul(q,J)|0,r=(r=r+Math.imul(q,tt)|0)+Math.imul(N,J)|0,s=s+Math.imul(N,tt)|0,i=i+Math.imul(I,nt)|0,r=(r=r+Math.imul(I,it)|0)+Math.imul(R,nt)|0,s=s+Math.imul(R,it)|0,i=i+Math.imul(x,st)|0,r=(r=r+Math.imul(x,ot)|0)+Math.imul(S,st)|0,s=s+Math.imul(S,ot)|0,i=i+Math.imul(k,ht)|0,r=(r=r+Math.imul(k,ut)|0)+Math.imul(A,ht)|0,s=s+Math.imul(A,ut)|0,i=i+Math.imul(w,ct)|0,r=(r=r+Math.imul(w,dt)|0)+Math.imul(_,ct)|0,s=s+Math.imul(_,dt)|0;var St=(u+(i=i+Math.imul(v,pt)|0)|0)+((8191&(r=(r=r+Math.imul(v,mt)|0)+Math.imul(y,pt)|0))<<13)|0;u=((s=s+Math.imul(y,mt)|0)+(r>>>13)|0)+(St>>>26)|0,St&=67108863,i=Math.imul(P,X),r=(r=Math.imul(P,Z))+Math.imul(U,X)|0,s=Math.imul(U,Z),i=i+Math.imul(D,J)|0,r=(r=r+Math.imul(D,tt)|0)+Math.imul(O,J)|0,s=s+Math.imul(O,tt)|0,i=i+Math.imul(q,nt)|0,r=(r=r+Math.imul(q,it)|0)+Math.imul(N,nt)|0,s=s+Math.imul(N,it)|0,i=i+Math.imul(I,st)|0,r=(r=r+Math.imul(I,ot)|0)+Math.imul(R,st)|0,s=s+Math.imul(R,ot)|0,i=i+Math.imul(x,ht)|0,r=(r=r+Math.imul(x,ut)|0)+Math.imul(S,ht)|0,s=s+Math.imul(S,ut)|0,i=i+Math.imul(k,ct)|0,r=(r=r+Math.imul(k,dt)|0)+Math.imul(A,ct)|0,s=s+Math.imul(A,dt)|0;var Tt=(u+(i=i+Math.imul(w,pt)|0)|0)+((8191&(r=(r=r+Math.imul(w,mt)|0)+Math.imul(_,pt)|0))<<13)|0;u=((s=s+Math.imul(_,mt)|0)+(r>>>13)|0)+(Tt>>>26)|0,Tt&=67108863,i=Math.imul(P,J),r=(r=Math.imul(P,tt))+Math.imul(U,J)|0,s=Math.imul(U,tt),i=i+Math.imul(D,nt)|0,r=(r=r+Math.imul(D,it)|0)+Math.imul(O,nt)|0,s=s+Math.imul(O,it)|0,i=i+Math.imul(q,st)|0,r=(r=r+Math.imul(q,ot)|0)+Math.imul(N,st)|0,s=s+Math.imul(N,ot)|0,i=i+Math.imul(I,ht)|0,r=(r=r+Math.imul(I,ut)|0)+Math.imul(R,ht)|0,s=s+Math.imul(R,ut)|0,i=i+Math.imul(x,ct)|0,r=(r=r+Math.imul(x,dt)|0)+Math.imul(S,ct)|0,s=s+Math.imul(S,dt)|0;var It=(u+(i=i+Math.imul(k,pt)|0)|0)+((8191&(r=(r=r+Math.imul(k,mt)|0)+Math.imul(A,pt)|0))<<13)|0;u=((s=s+Math.imul(A,mt)|0)+(r>>>13)|0)+(It>>>26)|0,It&=67108863,i=Math.imul(P,nt),r=(r=Math.imul(P,it))+Math.imul(U,nt)|0,s=Math.imul(U,it),i=i+Math.imul(D,st)|0,r=(r=r+Math.imul(D,ot)|0)+Math.imul(O,st)|0,s=s+Math.imul(O,ot)|0,i=i+Math.imul(q,ht)|0,r=(r=r+Math.imul(q,ut)|0)+Math.imul(N,ht)|0,s=s+Math.imul(N,ut)|0,i=i+Math.imul(I,ct)|0,r=(r=r+Math.imul(I,dt)|0)+Math.imul(R,ct)|0,s=s+Math.imul(R,dt)|0;var Rt=(u+(i=i+Math.imul(x,pt)|0)|0)+((8191&(r=(r=r+Math.imul(x,mt)|0)+Math.imul(S,pt)|0))<<13)|0;u=((s=s+Math.imul(S,mt)|0)+(r>>>13)|0)+(Rt>>>26)|0,Rt&=67108863,i=Math.imul(P,st),r=(r=Math.imul(P,ot))+Math.imul(U,st)|0,s=Math.imul(U,ot),i=i+Math.imul(D,ht)|0,r=(r=r+Math.imul(D,ut)|0)+Math.imul(O,ht)|0,s=s+Math.imul(O,ut)|0,i=i+Math.imul(q,ct)|0,r=(r=r+Math.imul(q,dt)|0)+Math.imul(N,ct)|0,s=s+Math.imul(N,dt)|0;var Ct=(u+(i=i+Math.imul(I,pt)|0)|0)+((8191&(r=(r=r+Math.imul(I,mt)|0)+Math.imul(R,pt)|0))<<13)|0;u=((s=s+Math.imul(R,mt)|0)+(r>>>13)|0)+(Ct>>>26)|0,Ct&=67108863,i=Math.imul(P,ht),r=(r=Math.imul(P,ut))+Math.imul(U,ht)|0,s=Math.imul(U,ut),i=i+Math.imul(D,ct)|0,r=(r=r+Math.imul(D,dt)|0)+Math.imul(O,ct)|0,s=s+Math.imul(O,dt)|0;var qt=(u+(i=i+Math.imul(q,pt)|0)|0)+((8191&(r=(r=r+Math.imul(q,mt)|0)+Math.imul(N,pt)|0))<<13)|0;u=((s=s+Math.imul(N,mt)|0)+(r>>>13)|0)+(qt>>>26)|0,qt&=67108863,i=Math.imul(P,ct),r=(r=Math.imul(P,dt))+Math.imul(U,ct)|0,s=Math.imul(U,dt);var Nt=(u+(i=i+Math.imul(D,pt)|0)|0)+((8191&(r=(r=r+Math.imul(D,mt)|0)+Math.imul(O,pt)|0))<<13)|0;u=((s=s+Math.imul(O,mt)|0)+(r>>>13)|0)+(Nt>>>26)|0,Nt&=67108863;var Lt=(u+(i=Math.imul(P,pt))|0)+((8191&(r=(r=Math.imul(P,mt))+Math.imul(U,pt)|0))<<13)|0;return u=((s=Math.imul(U,mt))+(r>>>13)|0)+(Lt>>>26)|0,Lt&=67108863,h[0]=gt,h[1]=vt,h[2]=yt,h[3]=bt,h[4]=wt,h[5]=_t,h[6]=Mt,h[7]=kt,h[8]=At,h[9]=Et,h[10]=xt,h[11]=St,h[12]=Tt,h[13]=It,h[14]=Rt,h[15]=Ct,h[16]=qt,h[17]=Nt,h[18]=Lt,0!==u&&(h[19]=u,n.length++),n};function m(t,e,n){return(new g).mulp(t,e,n)}function g(t,e){this.x=t,this.y=e}Math.imul||(p=f),s.prototype.mulTo=function(t,e){var n,i=this.length+t.length;return n=10===this.length&&10===t.length?p(this,t,e):i<63?f(this,t,e):i<1024?function(t,e,n){n.negative=e.negative^t.negative,n.length=t.length+e.length;for(var i=0,r=0,s=0;s<n.length-1;s++){var o=r;r=0;for(var a=67108863&i,h=Math.min(s,e.length-1),u=Math.max(0,s-t.length+1);u<=h;u++){var l=s-u,c=(0|t.words[l])*(0|e.words[u]),d=67108863&c;a=67108863&(d=d+a|0),r+=(o=(o=o+(c/67108864|0)|0)+(d>>>26)|0)>>>26,o&=67108863}n.words[s]=a,i=o,o=r}return 0!==i?n.words[s]=i:n.length--,n.strip()}(this,t,e):m(this,t,e),n},g.prototype.makeRBT=function(t){for(var e=new Array(t),n=s.prototype._countBits(t)-1,i=0;i<t;i++)e[i]=this.revBin(i,n,t);return e},g.prototype.revBin=function(t,e,n){if(0===t||t===n-1)return t;for(var i=0,r=0;r<e;r++)i|=(1&t)<<e-r-1,t>>=1;return i},g.prototype.permute=function(t,e,n,i,r,s){for(var o=0;o<s;o++)i[o]=e[t[o]],r[o]=n[t[o]]},g.prototype.transform=function(t,e,n,i,r,s){this.permute(s,t,e,n,i,r);for(var o=1;o<r;o<<=1)for(var a=o<<1,h=Math.cos(2*Math.PI/a),u=Math.sin(2*Math.PI/a),l=0;l<r;l+=a)for(var c=h,d=u,f=0;f<o;f++){var p=n[l+f],m=i[l+f],g=n[l+f+o],v=i[l+f+o],y=c*g-d*v;v=c*v+d*g,g=y,n[l+f]=p+g,i[l+f]=m+v,n[l+f+o]=p-g,i[l+f+o]=m-v,f!==a&&(y=h*c-u*d,d=h*d+u*c,c=y)}},g.prototype.guessLen13b=function(t,e){var n=1|Math.max(e,t),i=1&n,r=0;for(n=n/2|0;n;n>>>=1)r++;return 1<<r+1+i},g.prototype.conjugate=function(t,e,n){if(!(n<=1))for(var i=0;i<n/2;i++){var r=t[i];t[i]=t[n-i-1],t[n-i-1]=r,r=e[i],e[i]=-e[n-i-1],e[n-i-1]=-r}},g.prototype.normalize13b=function(t,e){for(var n=0,i=0;i<e/2;i++){var r=8192*Math.round(t[2*i+1]/e)+Math.round(t[2*i]/e)+n;t[i]=67108863&r,n=r<67108864?0:r/67108864|0}return t},g.prototype.convert13b=function(t,e,i,r){for(var s=0,o=0;o<e;o++)s+=0|t[o],i[2*o]=8191&s,s>>>=13,i[2*o+1]=8191&s,s>>>=13;for(o=2*e;o<r;++o)i[o]=0;n(0===s),n(0==(-8192&s))},g.prototype.stub=function(t){for(var e=new Array(t),n=0;n<t;n++)e[n]=0;return e},g.prototype.mulp=function(t,e,n){var i=2*this.guessLen13b(t.length,e.length),r=this.makeRBT(i),s=this.stub(i),o=new Array(i),a=new Array(i),h=new Array(i),u=new Array(i),l=new Array(i),c=new Array(i),d=n.words;d.length=i,this.convert13b(t.words,t.length,o,i),this.convert13b(e.words,e.length,u,i),this.transform(o,s,a,h,i,r),this.transform(u,s,l,c,i,r);for(var f=0;f<i;f++){var p=a[f]*l[f]-h[f]*c[f];h[f]=a[f]*c[f]+h[f]*l[f],a[f]=p}return this.conjugate(a,h,i),this.transform(a,h,d,s,i,r),this.conjugate(d,s,i),this.normalize13b(d,i),n.negative=t.negative^e.negative,n.length=t.length+e.length,n.strip()},s.prototype.mul=function(t){var e=new s(null);return e.words=new Array(this.length+t.length),this.mulTo(t,e)},s.prototype.mulf=function(t){var e=new s(null);return e.words=new Array(this.length+t.length),m(this,t,e)},s.prototype.imul=function(t){return this.clone().mulTo(t,this)},s.prototype.imuln=function(t){n("number"==typeof t),n(t<67108864);for(var e=0,i=0;i<this.length;i++){var r=(0|this.words[i])*t,s=(67108863&r)+(67108863&e);e>>=26,e+=r/67108864|0,e+=s>>>26,this.words[i]=67108863&s}return 0!==e&&(this.words[i]=e,this.length++),this},s.prototype.muln=function(t){return this.clone().imuln(t)},s.prototype.sqr=function(){return this.mul(this)},s.prototype.isqr=function(){return this.imul(this.clone())},s.prototype.pow=function(t){var e=function(t){for(var e=new Array(t.bitLength()),n=0;n<e.length;n++){var i=n/26|0,r=n%26;e[n]=(t.words[i]&1<<r)>>>r}return e}(t);if(0===e.length)return new s(1);for(var n=this,i=0;i<e.length&&0===e[i];i++,n=n.sqr());if(++i<e.length)for(var r=n.sqr();i<e.length;i++,r=r.sqr())0!==e[i]&&(n=n.mul(r));return n},s.prototype.iushln=function(t){n("number"==typeof t&&t>=0);var e,i=t%26,r=(t-i)/26,s=67108863>>>26-i<<26-i;if(0!==i){var o=0;for(e=0;e<this.length;e++){var a=this.words[e]&s,h=(0|this.words[e])-a<<i;this.words[e]=h|o,o=a>>>26-i}o&&(this.words[e]=o,this.length++)}if(0!==r){for(e=this.length-1;e>=0;e--)this.words[e+r]=this.words[e];for(e=0;e<r;e++)this.words[e]=0;this.length+=r}return this.strip()},s.prototype.ishln=function(t){return n(0===this.negative),this.iushln(t)},s.prototype.iushrn=function(t,e,i){var r;n("number"==typeof t&&t>=0),r=e?(e-e%26)/26:0;var s=t%26,o=Math.min((t-s)/26,this.length),a=67108863^67108863>>>s<<s,h=i;if(r-=o,r=Math.max(0,r),h){for(var u=0;u<o;u++)h.words[u]=this.words[u];h.length=o}if(0===o);else if(this.length>o)for(this.length-=o,u=0;u<this.length;u++)this.words[u]=this.words[u+o];else this.words[0]=0,this.length=1;var l=0;for(u=this.length-1;u>=0&&(0!==l||u>=r);u--){var c=0|this.words[u];this.words[u]=l<<26-s|c>>>s,l=c&a}return h&&0!==l&&(h.words[h.length++]=l),0===this.length&&(this.words[0]=0,this.length=1),this.strip()},s.prototype.ishrn=function(t,e,i){return n(0===this.negative),this.iushrn(t,e,i)},s.prototype.shln=function(t){return this.clone().ishln(t)},s.prototype.ushln=function(t){return this.clone().iushln(t)},s.prototype.shrn=function(t){return this.clone().ishrn(t)},s.prototype.ushrn=function(t){return this.clone().iushrn(t)},s.prototype.testn=function(t){n("number"==typeof t&&t>=0);var e=t%26,i=(t-e)/26,r=1<<e;return!(this.length<=i)&&!!(this.words[i]&r)},s.prototype.imaskn=function(t){n("number"==typeof t&&t>=0);var e=t%26,i=(t-e)/26;if(n(0===this.negative,"imaskn works only with positive numbers"),this.length<=i)return this;if(0!==e&&i++,this.length=Math.min(i,this.length),0!==e){var r=67108863^67108863>>>e<<e;this.words[this.length-1]&=r}return this.strip()},s.prototype.maskn=function(t){return this.clone().imaskn(t)},s.prototype.iaddn=function(t){return n("number"==typeof t),n(t<67108864),t<0?this.isubn(-t):0!==this.negative?1===this.length&&(0|this.words[0])<t?(this.words[0]=t-(0|this.words[0]),this.negative=0,this):(this.negative=0,this.isubn(t),this.negative=1,this):this._iaddn(t)},s.prototype._iaddn=function(t){this.words[0]+=t;for(var e=0;e<this.length&&this.words[e]>=67108864;e++)this.words[e]-=67108864,e===this.length-1?this.words[e+1]=1:this.words[e+1]++;return this.length=Math.max(this.length,e+1),this},s.prototype.isubn=function(t){if(n("number"==typeof t),n(t<67108864),t<0)return this.iaddn(-t);if(0!==this.negative)return this.negative=0,this.iaddn(t),this.negative=1,this;if(this.words[0]-=t,1===this.length&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var e=0;e<this.length&&this.words[e]<0;e++)this.words[e]+=67108864,this.words[e+1]-=1;return this.strip()},s.prototype.addn=function(t){return this.clone().iaddn(t)},s.prototype.subn=function(t){return this.clone().isubn(t)},s.prototype.iabs=function(){return this.negative=0,this},s.prototype.abs=function(){return this.clone().iabs()},s.prototype._ishlnsubmul=function(t,e,i){var r,s,o=t.length+i;this._expand(o);var a=0;for(r=0;r<t.length;r++){s=(0|this.words[r+i])+a;var h=(0|t.words[r])*e;a=((s-=67108863&h)>>26)-(h/67108864|0),this.words[r+i]=67108863&s}for(;r<this.length-i;r++)a=(s=(0|this.words[r+i])+a)>>26,this.words[r+i]=67108863&s;if(0===a)return this.strip();for(n(-1===a),a=0,r=0;r<this.length;r++)a=(s=-(0|this.words[r])+a)>>26,this.words[r]=67108863&s;return this.negative=1,this.strip()},s.prototype._wordDiv=function(t,e){var n=(this.length,t.length),i=this.clone(),r=t,o=0|r.words[r.length-1];0!==(n=26-this._countBits(o))&&(r=r.ushln(n),i.iushln(n),o=0|r.words[r.length-1]);var a,h=i.length-r.length;if("mod"!==e){(a=new s(null)).length=h+1,a.words=new Array(a.length);for(var u=0;u<a.length;u++)a.words[u]=0}var l=i.clone()._ishlnsubmul(r,1,h);0===l.negative&&(i=l,a&&(a.words[h]=1));for(var c=h-1;c>=0;c--){var d=67108864*(0|i.words[r.length+c])+(0|i.words[r.length+c-1]);for(d=Math.min(d/o|0,67108863),i._ishlnsubmul(r,d,c);0!==i.negative;)d--,i.negative=0,i._ishlnsubmul(r,1,c),i.isZero()||(i.negative^=1);a&&(a.words[c]=d)}return a&&a.strip(),i.strip(),"div"!==e&&0!==n&&i.iushrn(n),{div:a||null,mod:i}},s.prototype.divmod=function(t,e,i){return n(!t.isZero()),this.isZero()?{div:new s(0),mod:new s(0)}:0!==this.negative&&0===t.negative?(a=this.neg().divmod(t,e),"mod"!==e&&(r=a.div.neg()),"div"!==e&&(o=a.mod.neg(),i&&0!==o.negative&&o.iadd(t)),{div:r,mod:o}):0===this.negative&&0!==t.negative?(a=this.divmod(t.neg(),e),"mod"!==e&&(r=a.div.neg()),{div:r,mod:a.mod}):0!=(this.negative&t.negative)?(a=this.neg().divmod(t.neg(),e),"div"!==e&&(o=a.mod.neg(),i&&0!==o.negative&&o.isub(t)),{div:a.div,mod:o}):t.length>this.length||this.cmp(t)<0?{div:new s(0),mod:this}:1===t.length?"div"===e?{div:this.divn(t.words[0]),mod:null}:"mod"===e?{div:null,mod:new s(this.modn(t.words[0]))}:{div:this.divn(t.words[0]),mod:new s(this.modn(t.words[0]))}:this._wordDiv(t,e);var r,o,a},s.prototype.div=function(t){return this.divmod(t,"div",!1).div},s.prototype.mod=function(t){return this.divmod(t,"mod",!1).mod},s.prototype.umod=function(t){return this.divmod(t,"mod",!0).mod},s.prototype.divRound=function(t){var e=this.divmod(t);if(e.mod.isZero())return e.div;var n=0!==e.div.negative?e.mod.isub(t):e.mod,i=t.ushrn(1),r=t.andln(1),s=n.cmp(i);return s<0||1===r&&0===s?e.div:0!==e.div.negative?e.div.isubn(1):e.div.iaddn(1)},s.prototype.modn=function(t){n(t<=67108863);for(var e=67108864%t,i=0,r=this.length-1;r>=0;r--)i=(e*i+(0|this.words[r]))%t;return i},s.prototype.idivn=function(t){n(t<=67108863);for(var e=0,i=this.length-1;i>=0;i--){var r=(0|this.words[i])+67108864*e;this.words[i]=r/t|0,e=r%t}return this.strip()},s.prototype.divn=function(t){return this.clone().idivn(t)},s.prototype.egcd=function(t){n(0===t.negative),n(!t.isZero());var e=this,i=t.clone();e=0!==e.negative?e.umod(t):e.clone();for(var r=new s(1),o=new s(0),a=new s(0),h=new s(1),u=0;e.isEven()&&i.isEven();)e.iushrn(1),i.iushrn(1),++u;for(var l=i.clone(),c=e.clone();!e.isZero();){for(var d=0,f=1;0==(e.words[0]&f)&&d<26;++d,f<<=1);if(d>0)for(e.iushrn(d);d-- >0;)(r.isOdd()||o.isOdd())&&(r.iadd(l),o.isub(c)),r.iushrn(1),o.iushrn(1);for(var p=0,m=1;0==(i.words[0]&m)&&p<26;++p,m<<=1);if(p>0)for(i.iushrn(p);p-- >0;)(a.isOdd()||h.isOdd())&&(a.iadd(l),h.isub(c)),a.iushrn(1),h.iushrn(1);e.cmp(i)>=0?(e.isub(i),r.isub(a),o.isub(h)):(i.isub(e),a.isub(r),h.isub(o))}return{a:a,b:h,gcd:i.iushln(u)}},s.prototype._invmp=function(t){n(0===t.negative),n(!t.isZero());var e=this,i=t.clone();e=0!==e.negative?e.umod(t):e.clone();for(var r,o=new s(1),a=new s(0),h=i.clone();e.cmpn(1)>0&&i.cmpn(1)>0;){for(var u=0,l=1;0==(e.words[0]&l)&&u<26;++u,l<<=1);if(u>0)for(e.iushrn(u);u-- >0;)o.isOdd()&&o.iadd(h),o.iushrn(1);for(var c=0,d=1;0==(i.words[0]&d)&&c<26;++c,d<<=1);if(c>0)for(i.iushrn(c);c-- >0;)a.isOdd()&&a.iadd(h),a.iushrn(1);e.cmp(i)>=0?(e.isub(i),o.isub(a)):(i.isub(e),a.isub(o))}return(r=0===e.cmpn(1)?o:a).cmpn(0)<0&&r.iadd(t),r},s.prototype.gcd=function(t){if(this.isZero())return t.abs();if(t.isZero())return this.abs();var e=this.clone(),n=t.clone();e.negative=0,n.negative=0;for(var i=0;e.isEven()&&n.isEven();i++)e.iushrn(1),n.iushrn(1);for(;;){for(;e.isEven();)e.iushrn(1);for(;n.isEven();)n.iushrn(1);var r=e.cmp(n);if(r<0){var s=e;e=n,n=s}else if(0===r||0===n.cmpn(1))break;e.isub(n)}return n.iushln(i)},s.prototype.invm=function(t){return this.egcd(t).a.umod(t)},s.prototype.isEven=function(){return 0==(1&this.words[0])},s.prototype.isOdd=function(){return 1==(1&this.words[0])},s.prototype.andln=function(t){return this.words[0]&t},s.prototype.bincn=function(t){n("number"==typeof t);var e=t%26,i=(t-e)/26,r=1<<e;if(this.length<=i)return this._expand(i+1),this.words[i]|=r,this;for(var s=r,o=i;0!==s&&o<this.length;o++){var a=0|this.words[o];s=(a+=s)>>>26,a&=67108863,this.words[o]=a}return 0!==s&&(this.words[o]=s,this.length++),this},s.prototype.isZero=function(){return 1===this.length&&0===this.words[0]},s.prototype.cmpn=function(t){var e,i=t<0;if(0!==this.negative&&!i)return-1;if(0===this.negative&&i)return 1;if(this.strip(),this.length>1)e=1;else{i&&(t=-t),n(t<=67108863,"Number is too big");var r=0|this.words[0];e=r===t?0:r<t?-1:1}return 0!==this.negative?0|-e:e},s.prototype.cmp=function(t){if(0!==this.negative&&0===t.negative)return-1;if(0===this.negative&&0!==t.negative)return 1;var e=this.ucmp(t);return 0!==this.negative?0|-e:e},s.prototype.ucmp=function(t){if(this.length>t.length)return 1;if(this.length<t.length)return-1;for(var e=0,n=this.length-1;n>=0;n--){var i=0|this.words[n],r=0|t.words[n];if(i!==r){i<r?e=-1:i>r&&(e=1);break}}return e},s.prototype.gtn=function(t){return 1===this.cmpn(t)},s.prototype.gt=function(t){return 1===this.cmp(t)},s.prototype.gten=function(t){return this.cmpn(t)>=0},s.prototype.gte=function(t){return this.cmp(t)>=0},s.prototype.ltn=function(t){return-1===this.cmpn(t)},s.prototype.lt=function(t){return-1===this.cmp(t)},s.prototype.lten=function(t){return this.cmpn(t)<=0},s.prototype.lte=function(t){return this.cmp(t)<=0},s.prototype.eqn=function(t){return 0===this.cmpn(t)},s.prototype.eq=function(t){return 0===this.cmp(t)},s.red=function(t){return new k(t)},s.prototype.toRed=function(t){return n(!this.red,"Already a number in reduction context"),n(0===this.negative,"red works only with positives"),t.convertTo(this)._forceRed(t)},s.prototype.fromRed=function(){return n(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},s.prototype._forceRed=function(t){return this.red=t,this},s.prototype.forceRed=function(t){return n(!this.red,"Already a number in reduction context"),this._forceRed(t)},s.prototype.redAdd=function(t){return n(this.red,"redAdd works only with red numbers"),this.red.add(this,t)},s.prototype.redIAdd=function(t){return n(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,t)},s.prototype.redSub=function(t){return n(this.red,"redSub works only with red numbers"),this.red.sub(this,t)},s.prototype.redISub=function(t){return n(this.red,"redISub works only with red numbers"),this.red.isub(this,t)},s.prototype.redShl=function(t){return n(this.red,"redShl works only with red numbers"),this.red.shl(this,t)},s.prototype.redMul=function(t){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,t),this.red.mul(this,t)},s.prototype.redIMul=function(t){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,t),this.red.imul(this,t)},s.prototype.redSqr=function(){return n(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},s.prototype.redISqr=function(){return n(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},s.prototype.redSqrt=function(){return n(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},s.prototype.redInvm=function(){return n(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},s.prototype.redNeg=function(){return n(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},s.prototype.redPow=function(t){return n(this.red&&!t.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,t)};var v={k256:null,p224:null,p192:null,p25519:null};function y(t,e){this.name=t,this.p=new s(e,16),this.n=this.p.bitLength(),this.k=new s(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}function b(){y.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}function w(){y.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}function _(){y.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}function M(){y.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}function k(t){if("string"==typeof t){var e=s._prime(t);this.m=e.p,this.prime=e}else n(t.gtn(1),"modulus must be greater than 1"),this.m=t,this.prime=null}function A(t){k.call(this,t),this.shift=this.m.bitLength(),this.shift%26!=0&&(this.shift+=26-this.shift%26),this.r=new s(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}y.prototype._tmp=function(){var t=new s(null);return t.words=new Array(Math.ceil(this.n/13)),t},y.prototype.ireduce=function(t){var e,n=t;do{this.split(n,this.tmp),e=(n=(n=this.imulK(n)).iadd(this.tmp)).bitLength()}while(e>this.n);var i=e<this.n?-1:n.ucmp(this.p);return 0===i?(n.words[0]=0,n.length=1):i>0?n.isub(this.p):void 0!==n.strip?n.strip():n._strip(),n},y.prototype.split=function(t,e){t.iushrn(this.n,0,e)},y.prototype.imulK=function(t){return t.imul(this.k)},i(b,y),b.prototype.split=function(t,e){for(var n=4194303,i=Math.min(t.length,9),r=0;r<i;r++)e.words[r]=t.words[r];if(e.length=i,t.length<=9)return t.words[0]=0,void(t.length=1);var s=t.words[9];for(e.words[e.length++]=s&n,r=10;r<t.length;r++){var o=0|t.words[r];t.words[r-10]=(o&n)<<4|s>>>22,s=o}s>>>=22,t.words[r-10]=s,0===s&&t.length>10?t.length-=10:t.length-=9},b.prototype.imulK=function(t){t.words[t.length]=0,t.words[t.length+1]=0,t.length+=2;for(var e=0,n=0;n<t.length;n++){var i=0|t.words[n];e+=977*i,t.words[n]=67108863&e,e=64*i+(e/67108864|0)}return 0===t.words[t.length-1]&&(t.length--,0===t.words[t.length-1]&&t.length--),t},i(w,y),i(_,y),i(M,y),M.prototype.imulK=function(t){for(var e=0,n=0;n<t.length;n++){var i=19*(0|t.words[n])+e,r=67108863&i;i>>>=26,t.words[n]=r,e=i}return 0!==e&&(t.words[t.length++]=e),t},s._prime=function(t){if(v[t])return v[t];var e;if("k256"===t)e=new b;else if("p224"===t)e=new w;else if("p192"===t)e=new _;else{if("p25519"!==t)throw new Error("Unknown prime "+t);e=new M}return v[t]=e,e},k.prototype._verify1=function(t){n(0===t.negative,"red works only with positives"),n(t.red,"red works only with red numbers")},k.prototype._verify2=function(t,e){n(0==(t.negative|e.negative),"red works only with positives"),n(t.red&&t.red===e.red,"red works only with red numbers")},k.prototype.imod=function(t){return this.prime?this.prime.ireduce(t)._forceRed(this):t.umod(this.m)._forceRed(this)},k.prototype.neg=function(t){return t.isZero()?t.clone():this.m.sub(t)._forceRed(this)},k.prototype.add=function(t,e){this._verify2(t,e);var n=t.add(e);return n.cmp(this.m)>=0&&n.isub(this.m),n._forceRed(this)},k.prototype.iadd=function(t,e){this._verify2(t,e);var n=t.iadd(e);return n.cmp(this.m)>=0&&n.isub(this.m),n},k.prototype.sub=function(t,e){this._verify2(t,e);var n=t.sub(e);return n.cmpn(0)<0&&n.iadd(this.m),n._forceRed(this)},k.prototype.isub=function(t,e){this._verify2(t,e);var n=t.isub(e);return n.cmpn(0)<0&&n.iadd(this.m),n},k.prototype.shl=function(t,e){return this._verify1(t),this.imod(t.ushln(e))},k.prototype.imul=function(t,e){return this._verify2(t,e),this.imod(t.imul(e))},k.prototype.mul=function(t,e){return this._verify2(t,e),this.imod(t.mul(e))},k.prototype.isqr=function(t){return this.imul(t,t.clone())},k.prototype.sqr=function(t){return this.mul(t,t)},k.prototype.sqrt=function(t){if(t.isZero())return t.clone();var e=this.m.andln(3);if(n(e%2==1),3===e){var i=this.m.add(new s(1)).iushrn(2);return this.pow(t,i)}for(var r=this.m.subn(1),o=0;!r.isZero()&&0===r.andln(1);)o++,r.iushrn(1);n(!r.isZero());var a=new s(1).toRed(this),h=a.redNeg(),u=this.m.subn(1).iushrn(1),l=this.m.bitLength();for(l=new s(2*l*l).toRed(this);0!==this.pow(l,u).cmp(h);)l.redIAdd(h);for(var c=this.pow(l,r),d=this.pow(t,r.addn(1).iushrn(1)),f=this.pow(t,r),p=o;0!==f.cmp(a);){for(var m=f,g=0;0!==m.cmp(a);g++)m=m.redSqr();n(g<p);var v=this.pow(c,new s(1).iushln(p-g-1));d=d.redMul(v),c=v.redSqr(),f=f.redMul(c),p=g}return d},k.prototype.invm=function(t){var e=t._invmp(this.m);return 0!==e.negative?(e.negative=0,this.imod(e).redNeg()):this.imod(e)},k.prototype.pow=function(t,e){if(e.isZero())return new s(1).toRed(this);if(0===e.cmpn(1))return t.clone();var n=new Array(16);n[0]=new s(1).toRed(this),n[1]=t;for(var i=2;i<n.length;i++)n[i]=this.mul(n[i-1],t);var r=n[0],o=0,a=0,h=e.bitLength()%26;for(0===h&&(h=26),i=e.length-1;i>=0;i--){for(var u=e.words[i],l=h-1;l>=0;l--){var c=u>>l&1;r!==n[0]&&(r=this.sqr(r)),0!==c||0!==o?(o<<=1,o|=c,(4===++a||0===i&&0===l)&&(r=this.mul(r,n[o]),a=0,o=0)):a=0}h=26}return r},k.prototype.convertTo=function(t){var e=t.umod(this.m);return e===t?e.clone():e},k.prototype.convertFrom=function(t){var e=t.clone();return e.red=null,e},s.mont=function(t){return new A(t)},i(A,k),A.prototype.convertTo=function(t){return this.imod(t.ushln(this.shift))},A.prototype.convertFrom=function(t){var e=this.imod(t.mul(this.rinv));return e.red=null,e},A.prototype.imul=function(t,e){if(t.isZero()||e.isZero())return t.words[0]=0,t.length=1,t;var n=t.imul(e),i=n.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),r=n.isub(i).iushrn(this.shift),s=r;return r.cmp(this.m)>=0?s=r.isub(this.m):r.cmpn(0)<0&&(s=r.iadd(this.m)),s._forceRed(this)},A.prototype.mul=function(t,e){if(t.isZero()||e.isZero())return new s(0)._forceRed(this);var n=t.mul(e),i=n.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),r=n.isub(i).iushrn(this.shift),o=r;return r.cmp(this.m)>=0?o=r.isub(this.m):r.cmpn(0)<0&&(o=r.iadd(this.m)),o._forceRed(this)},A.prototype.invm=function(t){return this.imod(t._invmp(this.m).mul(this.r2))._forceRed(this)}}(t,this)})),r.register("am8t0",(function(t,e){var n=t.exports;function i(t){return 1===t.length?"0"+t:t}function r(t){for(var e="",n=0;n<t.length;n++)e+=i(t[n].toString(16));return e}n.toArray=function(t,e){if(Array.isArray(t))return t.slice();if(!t)return[];var n=[];if("string"!=typeof t){for(var i=0;i<t.length;i++)n[i]=0|t[i];return n}if("hex"===e){(t=t.replace(/[^a-z0-9]+/gi,"")).length%2!=0&&(t="0"+t);for(i=0;i<t.length;i+=2)n.push(parseInt(t[i]+t[i+1],16))}else for(i=0;i<t.length;i++){var r=t.charCodeAt(i),s=r>>8,o=255&r;s?n.push(s,o):n.push(o)}return n},n.zero2=i,n.toHex=r,n.encode=function(t,e){return"hex"===e?r(t):t}})),r.register("9N9oN",(function(t,e){var n=t.exports;n.base=r("5O5VQ"),n.short=r("9ZaPg"),n.mont=r("a8wOD"),n.edwards=r("8OnvZ")})),r.register("5O5VQ",(function(t,e){var n=r("7ceHy"),i=r("fpVz9"),s=i.getNAF,o=i.getJSF,a=i.assert;function h(t,e){this.type=t,this.p=new n(e.p,16),this.red=e.prime?n.red(e.prime):n.mont(this.p),this.zero=new n(0).toRed(this.red),this.one=new n(1).toRed(this.red),this.two=new n(2).toRed(this.red),this.n=e.n&&new n(e.n,16),this.g=e.g&&this.pointFromJSON(e.g,e.gRed),this._wnafT1=new Array(4),this._wnafT2=new Array(4),this._wnafT3=new Array(4),this._wnafT4=new Array(4),this._bitLength=this.n?this.n.bitLength():0;var i=this.n&&this.p.div(this.n);!i||i.cmpn(100)>0?this.redN=null:(this._maxwellTrick=!0,this.redN=this.n.toRed(this.red))}function u(t,e){this.curve=t,this.type=e,this.precomputed=null}t.exports=h,h.prototype.point=function(){throw new Error("Not implemented")},h.prototype.validate=function(){throw new Error("Not implemented")},h.prototype._fixedNafMul=function(t,e){a(t.precomputed);var n=t._getDoubles(),i=s(e,1,this._bitLength),r=(1<<n.step+1)-(n.step%2==0?2:1);r/=3;var o,h,u=[];for(o=0;o<i.length;o+=n.step){h=0;for(var l=o+n.step-1;l>=o;l--)h=(h<<1)+i[l];u.push(h)}for(var c=this.jpoint(null,null,null),d=this.jpoint(null,null,null),f=r;f>0;f--){for(o=0;o<u.length;o++)(h=u[o])===f?d=d.mixedAdd(n.points[o]):h===-f&&(d=d.mixedAdd(n.points[o].neg()));c=c.add(d)}return c.toP()},h.prototype._wnafMul=function(t,e){var n=4,i=t._getNAFPoints(n);n=i.wnd;for(var r=i.points,o=s(e,n,this._bitLength),h=this.jpoint(null,null,null),u=o.length-1;u>=0;u--){for(var l=0;u>=0&&0===o[u];u--)l++;if(u>=0&&l++,h=h.dblp(l),u<0)break;var c=o[u];a(0!==c),h="affine"===t.type?c>0?h.mixedAdd(r[c-1>>1]):h.mixedAdd(r[-c-1>>1].neg()):c>0?h.add(r[c-1>>1]):h.add(r[-c-1>>1].neg())}return"affine"===t.type?h.toP():h},h.prototype._wnafMulAdd=function(t,e,n,i,r){var a,h,u,l=this._wnafT1,c=this._wnafT2,d=this._wnafT3,f=0;for(a=0;a<i;a++){var p=(u=e[a])._getNAFPoints(t);l[a]=p.wnd,c[a]=p.points}for(a=i-1;a>=1;a-=2){var m=a-1,g=a;if(1===l[m]&&1===l[g]){var v=[e[m],null,null,e[g]];0===e[m].y.cmp(e[g].y)?(v[1]=e[m].add(e[g]),v[2]=e[m].toJ().mixedAdd(e[g].neg())):0===e[m].y.cmp(e[g].y.redNeg())?(v[1]=e[m].toJ().mixedAdd(e[g]),v[2]=e[m].add(e[g].neg())):(v[1]=e[m].toJ().mixedAdd(e[g]),v[2]=e[m].toJ().mixedAdd(e[g].neg()));var y=[-3,-1,-5,-7,0,7,5,1,3],b=o(n[m],n[g]);for(f=Math.max(b[0].length,f),d[m]=new Array(f),d[g]=new Array(f),h=0;h<f;h++){var w=0|b[0][h],_=0|b[1][h];d[m][h]=y[3*(w+1)+(_+1)],d[g][h]=0,c[m]=v}}else d[m]=s(n[m],l[m],this._bitLength),d[g]=s(n[g],l[g],this._bitLength),f=Math.max(d[m].length,f),f=Math.max(d[g].length,f)}var M=this.jpoint(null,null,null),k=this._wnafT4;for(a=f;a>=0;a--){for(var A=0;a>=0;){var E=!0;for(h=0;h<i;h++)k[h]=0|d[h][a],0!==k[h]&&(E=!1);if(!E)break;A++,a--}if(a>=0&&A++,M=M.dblp(A),a<0)break;for(h=0;h<i;h++){var x=k[h];0!==x&&(x>0?u=c[h][x-1>>1]:x<0&&(u=c[h][-x-1>>1].neg()),M="affine"===u.type?M.mixedAdd(u):M.add(u))}}for(a=0;a<i;a++)c[a]=null;return r?M:M.toP()},h.BasePoint=u,u.prototype.eq=function(){throw new Error("Not implemented")},u.prototype.validate=function(){return this.curve.validate(this)},h.prototype.decodePoint=function(t,e){t=i.toArray(t,e);var n=this.p.byteLength();if((4===t[0]||6===t[0]||7===t[0])&&t.length-1==2*n)return 6===t[0]?a(t[t.length-1]%2==0):7===t[0]&&a(t[t.length-1]%2==1),this.point(t.slice(1,1+n),t.slice(1+n,1+2*n));if((2===t[0]||3===t[0])&&t.length-1===n)return this.pointFromX(t.slice(1,1+n),3===t[0]);throw new Error("Unknown point format")},u.prototype.encodeCompressed=function(t){return this.encode(t,!0)},u.prototype._encode=function(t){var e=this.curve.p.byteLength(),n=this.getX().toArray("be",e);return t?[this.getY().isEven()?2:3].concat(n):[4].concat(n,this.getY().toArray("be",e))},u.prototype.encode=function(t,e){return i.encode(this._encode(e),t)},u.prototype.precompute=function(t){if(this.precomputed)return this;var e={doubles:null,naf:null,beta:null};return e.naf=this._getNAFPoints(8),e.doubles=this._getDoubles(4,t),e.beta=this._getBeta(),this.precomputed=e,this},u.prototype._hasDoubles=function(t){if(!this.precomputed)return!1;var e=this.precomputed.doubles;return!!e&&e.points.length>=Math.ceil((t.bitLength()+1)/e.step)},u.prototype._getDoubles=function(t,e){if(this.precomputed&&this.precomputed.doubles)return this.precomputed.doubles;for(var n=[this],i=this,r=0;r<e;r+=t){for(var s=0;s<t;s++)i=i.dbl();n.push(i)}return{step:t,points:n}},u.prototype._getNAFPoints=function(t){if(this.precomputed&&this.precomputed.naf)return this.precomputed.naf;for(var e=[this],n=(1<<t)-1,i=1===n?null:this.dbl(),r=1;r<n;r++)e[r]=e[r-1].add(i);return{wnd:t,points:e}},u.prototype._getBeta=function(){return null},u.prototype.dblp=function(t){for(var e=this,n=0;n<t;n++)e=e.dbl();return e}})),r.register("9ZaPg",(function(t,e){var n=r("fpVz9"),i=r("7ceHy"),s=r("bniia"),o=r("5O5VQ"),a=n.assert;function h(t){o.call(this,"short",t),this.a=new i(t.a,16).toRed(this.red),this.b=new i(t.b,16).toRed(this.red),this.tinv=this.two.redInvm(),this.zeroA=0===this.a.fromRed().cmpn(0),this.threeA=0===this.a.fromRed().sub(this.p).cmpn(-3),this.endo=this._getEndomorphism(t),this._endoWnafT1=new Array(4),this._endoWnafT2=new Array(4)}function u(t,e,n,r){o.BasePoint.call(this,t,"affine"),null===e&&null===n?(this.x=null,this.y=null,this.inf=!0):(this.x=new i(e,16),this.y=new i(n,16),r&&(this.x.forceRed(this.curve.red),this.y.forceRed(this.curve.red)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.inf=!1)}function l(t,e,n,r){o.BasePoint.call(this,t,"jacobian"),null===e&&null===n&&null===r?(this.x=this.curve.one,this.y=this.curve.one,this.z=new i(0)):(this.x=new i(e,16),this.y=new i(n,16),this.z=new i(r,16)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.zOne=this.z===this.curve.one}s(h,o),t.exports=h,h.prototype._getEndomorphism=function(t){if(this.zeroA&&this.g&&this.n&&1===this.p.modn(3)){var e,n;if(t.beta)e=new i(t.beta,16).toRed(this.red);else{var r=this._getEndoRoots(this.p);e=(e=r[0].cmp(r[1])<0?r[0]:r[1]).toRed(this.red)}if(t.lambda)n=new i(t.lambda,16);else{var s=this._getEndoRoots(this.n);0===this.g.mul(s[0]).x.cmp(this.g.x.redMul(e))?n=s[0]:(n=s[1],a(0===this.g.mul(n).x.cmp(this.g.x.redMul(e))))}return{beta:e,lambda:n,basis:t.basis?t.basis.map((function(t){return{a:new i(t.a,16),b:new i(t.b,16)}})):this._getEndoBasis(n)}}},h.prototype._getEndoRoots=function(t){var e=t===this.p?this.red:i.mont(t),n=new i(2).toRed(e).redInvm(),r=n.redNeg(),s=new i(3).toRed(e).redNeg().redSqrt().redMul(n);return[r.redAdd(s).fromRed(),r.redSub(s).fromRed()]},h.prototype._getEndoBasis=function(t){for(var e,n,r,s,o,a,h,u,l,c=this.n.ushrn(Math.floor(this.n.bitLength()/2)),d=t,f=this.n.clone(),p=new i(1),m=new i(0),g=new i(0),v=new i(1),y=0;0!==d.cmpn(0);){var b=f.div(d);u=f.sub(b.mul(d)),l=g.sub(b.mul(p));var w=v.sub(b.mul(m));if(!r&&u.cmp(c)<0)e=h.neg(),n=p,r=u.neg(),s=l;else if(r&&2==++y)break;h=u,f=d,d=u,g=p,p=l,v=m,m=w}o=u.neg(),a=l;var _=r.sqr().add(s.sqr());return o.sqr().add(a.sqr()).cmp(_)>=0&&(o=e,a=n),r.negative&&(r=r.neg(),s=s.neg()),o.negative&&(o=o.neg(),a=a.neg()),[{a:r,b:s},{a:o,b:a}]},h.prototype._endoSplit=function(t){var e=this.endo.basis,n=e[0],i=e[1],r=i.b.mul(t).divRound(this.n),s=n.b.neg().mul(t).divRound(this.n),o=r.mul(n.a),a=s.mul(i.a),h=r.mul(n.b),u=s.mul(i.b);return{k1:t.sub(o).sub(a),k2:h.add(u).neg()}},h.prototype.pointFromX=function(t,e){(t=new i(t,16)).red||(t=t.toRed(this.red));var n=t.redSqr().redMul(t).redIAdd(t.redMul(this.a)).redIAdd(this.b),r=n.redSqrt();if(0!==r.redSqr().redSub(n).cmp(this.zero))throw new Error("invalid point");var s=r.fromRed().isOdd();return(e&&!s||!e&&s)&&(r=r.redNeg()),this.point(t,r)},h.prototype.validate=function(t){if(t.inf)return!0;var e=t.x,n=t.y,i=this.a.redMul(e),r=e.redSqr().redMul(e).redIAdd(i).redIAdd(this.b);return 0===n.redSqr().redISub(r).cmpn(0)},h.prototype._endoWnafMulAdd=function(t,e,n){for(var i=this._endoWnafT1,r=this._endoWnafT2,s=0;s<t.length;s++){var o=this._endoSplit(e[s]),a=t[s],h=a._getBeta();o.k1.negative&&(o.k1.ineg(),a=a.neg(!0)),o.k2.negative&&(o.k2.ineg(),h=h.neg(!0)),i[2*s]=a,i[2*s+1]=h,r[2*s]=o.k1,r[2*s+1]=o.k2}for(var u=this._wnafMulAdd(1,i,r,2*s,n),l=0;l<2*s;l++)i[l]=null,r[l]=null;return u},s(u,o.BasePoint),h.prototype.point=function(t,e,n){return new u(this,t,e,n)},h.prototype.pointFromJSON=function(t,e){return u.fromJSON(this,t,e)},u.prototype._getBeta=function(){if(this.curve.endo){var t=this.precomputed;if(t&&t.beta)return t.beta;var e=this.curve.point(this.x.redMul(this.curve.endo.beta),this.y);if(t){var n=this.curve,i=function(t){return n.point(t.x.redMul(n.endo.beta),t.y)};t.beta=e,e.precomputed={beta:null,naf:t.naf&&{wnd:t.naf.wnd,points:t.naf.points.map(i)},doubles:t.doubles&&{step:t.doubles.step,points:t.doubles.points.map(i)}}}return e}},u.prototype.toJSON=function(){return this.precomputed?[this.x,this.y,this.precomputed&&{doubles:this.precomputed.doubles&&{step:this.precomputed.doubles.step,points:this.precomputed.doubles.points.slice(1)},naf:this.precomputed.naf&&{wnd:this.precomputed.naf.wnd,points:this.precomputed.naf.points.slice(1)}}]:[this.x,this.y]},u.fromJSON=function(t,e,n){"string"==typeof e&&(e=JSON.parse(e));var i=t.point(e[0],e[1],n);if(!e[2])return i;function r(e){return t.point(e[0],e[1],n)}var s=e[2];return i.precomputed={beta:null,doubles:s.doubles&&{step:s.doubles.step,points:[i].concat(s.doubles.points.map(r))},naf:s.naf&&{wnd:s.naf.wnd,points:[i].concat(s.naf.points.map(r))}},i},u.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+">"},u.prototype.isInfinity=function(){return this.inf},u.prototype.add=function(t){if(this.inf)return t;if(t.inf)return this;if(this.eq(t))return this.dbl();if(this.neg().eq(t))return this.curve.point(null,null);if(0===this.x.cmp(t.x))return this.curve.point(null,null);var e=this.y.redSub(t.y);0!==e.cmpn(0)&&(e=e.redMul(this.x.redSub(t.x).redInvm()));var n=e.redSqr().redISub(this.x).redISub(t.x),i=e.redMul(this.x.redSub(n)).redISub(this.y);return this.curve.point(n,i)},u.prototype.dbl=function(){if(this.inf)return this;var t=this.y.redAdd(this.y);if(0===t.cmpn(0))return this.curve.point(null,null);var e=this.curve.a,n=this.x.redSqr(),i=t.redInvm(),r=n.redAdd(n).redIAdd(n).redIAdd(e).redMul(i),s=r.redSqr().redISub(this.x.redAdd(this.x)),o=r.redMul(this.x.redSub(s)).redISub(this.y);return this.curve.point(s,o)},u.prototype.getX=function(){return this.x.fromRed()},u.prototype.getY=function(){return this.y.fromRed()},u.prototype.mul=function(t){return t=new i(t,16),this.isInfinity()?this:this._hasDoubles(t)?this.curve._fixedNafMul(this,t):this.curve.endo?this.curve._endoWnafMulAdd([this],[t]):this.curve._wnafMul(this,t)},u.prototype.mulAdd=function(t,e,n){var i=[this,e],r=[t,n];return this.curve.endo?this.curve._endoWnafMulAdd(i,r):this.curve._wnafMulAdd(1,i,r,2)},u.prototype.jmulAdd=function(t,e,n){var i=[this,e],r=[t,n];return this.curve.endo?this.curve._endoWnafMulAdd(i,r,!0):this.curve._wnafMulAdd(1,i,r,2,!0)},u.prototype.eq=function(t){return this===t||this.inf===t.inf&&(this.inf||0===this.x.cmp(t.x)&&0===this.y.cmp(t.y))},u.prototype.neg=function(t){if(this.inf)return this;var e=this.curve.point(this.x,this.y.redNeg());if(t&&this.precomputed){var n=this.precomputed,i=function(t){return t.neg()};e.precomputed={naf:n.naf&&{wnd:n.naf.wnd,points:n.naf.points.map(i)},doubles:n.doubles&&{step:n.doubles.step,points:n.doubles.points.map(i)}}}return e},u.prototype.toJ=function(){return this.inf?this.curve.jpoint(null,null,null):this.curve.jpoint(this.x,this.y,this.curve.one)},s(l,o.BasePoint),h.prototype.jpoint=function(t,e,n){return new l(this,t,e,n)},l.prototype.toP=function(){if(this.isInfinity())return this.curve.point(null,null);var t=this.z.redInvm(),e=t.redSqr(),n=this.x.redMul(e),i=this.y.redMul(e).redMul(t);return this.curve.point(n,i)},l.prototype.neg=function(){return this.curve.jpoint(this.x,this.y.redNeg(),this.z)},l.prototype.add=function(t){if(this.isInfinity())return t;if(t.isInfinity())return this;var e=t.z.redSqr(),n=this.z.redSqr(),i=this.x.redMul(e),r=t.x.redMul(n),s=this.y.redMul(e.redMul(t.z)),o=t.y.redMul(n.redMul(this.z)),a=i.redSub(r),h=s.redSub(o);if(0===a.cmpn(0))return 0!==h.cmpn(0)?this.curve.jpoint(null,null,null):this.dbl();var u=a.redSqr(),l=u.redMul(a),c=i.redMul(u),d=h.redSqr().redIAdd(l).redISub(c).redISub(c),f=h.redMul(c.redISub(d)).redISub(s.redMul(l)),p=this.z.redMul(t.z).redMul(a);return this.curve.jpoint(d,f,p)},l.prototype.mixedAdd=function(t){if(this.isInfinity())return t.toJ();if(t.isInfinity())return this;var e=this.z.redSqr(),n=this.x,i=t.x.redMul(e),r=this.y,s=t.y.redMul(e).redMul(this.z),o=n.redSub(i),a=r.redSub(s);if(0===o.cmpn(0))return 0!==a.cmpn(0)?this.curve.jpoint(null,null,null):this.dbl();var h=o.redSqr(),u=h.redMul(o),l=n.redMul(h),c=a.redSqr().redIAdd(u).redISub(l).redISub(l),d=a.redMul(l.redISub(c)).redISub(r.redMul(u)),f=this.z.redMul(o);return this.curve.jpoint(c,d,f)},l.prototype.dblp=function(t){if(0===t)return this;if(this.isInfinity())return this;if(!t)return this.dbl();var e;if(this.curve.zeroA||this.curve.threeA){var n=this;for(e=0;e<t;e++)n=n.dbl();return n}var i=this.curve.a,r=this.curve.tinv,s=this.x,o=this.y,a=this.z,h=a.redSqr().redSqr(),u=o.redAdd(o);for(e=0;e<t;e++){var l=s.redSqr(),c=u.redSqr(),d=c.redSqr(),f=l.redAdd(l).redIAdd(l).redIAdd(i.redMul(h)),p=s.redMul(c),m=f.redSqr().redISub(p.redAdd(p)),g=p.redISub(m),v=f.redMul(g);v=v.redIAdd(v).redISub(d);var y=u.redMul(a);e+1<t&&(h=h.redMul(d)),s=m,a=y,u=v}return this.curve.jpoint(s,u.redMul(r),a)},l.prototype.dbl=function(){return this.isInfinity()?this:this.curve.zeroA?this._zeroDbl():this.curve.threeA?this._threeDbl():this._dbl()},l.prototype._zeroDbl=function(){var t,e,n;if(this.zOne){var i=this.x.redSqr(),r=this.y.redSqr(),s=r.redSqr(),o=this.x.redAdd(r).redSqr().redISub(i).redISub(s);o=o.redIAdd(o);var a=i.redAdd(i).redIAdd(i),h=a.redSqr().redISub(o).redISub(o),u=s.redIAdd(s);u=(u=u.redIAdd(u)).redIAdd(u),t=h,e=a.redMul(o.redISub(h)).redISub(u),n=this.y.redAdd(this.y)}else{var l=this.x.redSqr(),c=this.y.redSqr(),d=c.redSqr(),f=this.x.redAdd(c).redSqr().redISub(l).redISub(d);f=f.redIAdd(f);var p=l.redAdd(l).redIAdd(l),m=p.redSqr(),g=d.redIAdd(d);g=(g=g.redIAdd(g)).redIAdd(g),t=m.redISub(f).redISub(f),e=p.redMul(f.redISub(t)).redISub(g),n=(n=this.y.redMul(this.z)).redIAdd(n)}return this.curve.jpoint(t,e,n)},l.prototype._threeDbl=function(){var t,e,n;if(this.zOne){var i=this.x.redSqr(),r=this.y.redSqr(),s=r.redSqr(),o=this.x.redAdd(r).redSqr().redISub(i).redISub(s);o=o.redIAdd(o);var a=i.redAdd(i).redIAdd(i).redIAdd(this.curve.a),h=a.redSqr().redISub(o).redISub(o);t=h;var u=s.redIAdd(s);u=(u=u.redIAdd(u)).redIAdd(u),e=a.redMul(o.redISub(h)).redISub(u),n=this.y.redAdd(this.y)}else{var l=this.z.redSqr(),c=this.y.redSqr(),d=this.x.redMul(c),f=this.x.redSub(l).redMul(this.x.redAdd(l));f=f.redAdd(f).redIAdd(f);var p=d.redIAdd(d),m=(p=p.redIAdd(p)).redAdd(p);t=f.redSqr().redISub(m),n=this.y.redAdd(this.z).redSqr().redISub(c).redISub(l);var g=c.redSqr();g=(g=(g=g.redIAdd(g)).redIAdd(g)).redIAdd(g),e=f.redMul(p.redISub(t)).redISub(g)}return this.curve.jpoint(t,e,n)},l.prototype._dbl=function(){var t=this.curve.a,e=this.x,n=this.y,i=this.z,r=i.redSqr().redSqr(),s=e.redSqr(),o=n.redSqr(),a=s.redAdd(s).redIAdd(s).redIAdd(t.redMul(r)),h=e.redAdd(e),u=(h=h.redIAdd(h)).redMul(o),l=a.redSqr().redISub(u.redAdd(u)),c=u.redISub(l),d=o.redSqr();d=(d=(d=d.redIAdd(d)).redIAdd(d)).redIAdd(d);var f=a.redMul(c).redISub(d),p=n.redAdd(n).redMul(i);return this.curve.jpoint(l,f,p)},l.prototype.trpl=function(){if(!this.curve.zeroA)return this.dbl().add(this);var t=this.x.redSqr(),e=this.y.redSqr(),n=this.z.redSqr(),i=e.redSqr(),r=t.redAdd(t).redIAdd(t),s=r.redSqr(),o=this.x.redAdd(e).redSqr().redISub(t).redISub(i),a=(o=(o=(o=o.redIAdd(o)).redAdd(o).redIAdd(o)).redISub(s)).redSqr(),h=i.redIAdd(i);h=(h=(h=h.redIAdd(h)).redIAdd(h)).redIAdd(h);var u=r.redIAdd(o).redSqr().redISub(s).redISub(a).redISub(h),l=e.redMul(u);l=(l=l.redIAdd(l)).redIAdd(l);var c=this.x.redMul(a).redISub(l);c=(c=c.redIAdd(c)).redIAdd(c);var d=this.y.redMul(u.redMul(h.redISub(u)).redISub(o.redMul(a)));d=(d=(d=d.redIAdd(d)).redIAdd(d)).redIAdd(d);var f=this.z.redAdd(o).redSqr().redISub(n).redISub(a);return this.curve.jpoint(c,d,f)},l.prototype.mul=function(t,e){return t=new i(t,e),this.curve._wnafMul(this,t)},l.prototype.eq=function(t){if("affine"===t.type)return this.eq(t.toJ());if(this===t)return!0;var e=this.z.redSqr(),n=t.z.redSqr();if(0!==this.x.redMul(n).redISub(t.x.redMul(e)).cmpn(0))return!1;var i=e.redMul(this.z),r=n.redMul(t.z);return 0===this.y.redMul(r).redISub(t.y.redMul(i)).cmpn(0)},l.prototype.eqXToP=function(t){var e=this.z.redSqr(),n=t.toRed(this.curve.red).redMul(e);if(0===this.x.cmp(n))return!0;for(var i=t.clone(),r=this.curve.redN.redMul(e);;){if(i.iadd(this.curve.n),i.cmp(this.curve.p)>=0)return!1;if(n.redIAdd(r),0===this.x.cmp(n))return!0}},l.prototype.inspect=function(){return this.isInfinity()?"<EC JPoint Infinity>":"<EC JPoint x: "+this.x.toString(16,2)+" y: "+this.y.toString(16,2)+" z: "+this.z.toString(16,2)+">"},l.prototype.isInfinity=function(){return 0===this.z.cmpn(0)}})),r.register("a8wOD",(function(t,e){var n=r("7ceHy"),i=r("bniia"),s=r("5O5VQ"),o=r("fpVz9");function a(t){s.call(this,"mont",t),this.a=new n(t.a,16).toRed(this.red),this.b=new n(t.b,16).toRed(this.red),this.i4=new n(4).toRed(this.red).redInvm(),this.two=new n(2).toRed(this.red),this.a24=this.i4.redMul(this.a.redAdd(this.two))}function h(t,e,i){s.BasePoint.call(this,t,"projective"),null===e&&null===i?(this.x=this.curve.one,this.z=this.curve.zero):(this.x=new n(e,16),this.z=new n(i,16),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)))}i(a,s),t.exports=a,a.prototype.validate=function(t){var e=t.normalize().x,n=e.redSqr(),i=n.redMul(e).redAdd(n.redMul(this.a)).redAdd(e);return 0===i.redSqrt().redSqr().cmp(i)},i(h,s.BasePoint),a.prototype.decodePoint=function(t,e){return this.point(o.toArray(t,e),1)},a.prototype.point=function(t,e){return new h(this,t,e)},a.prototype.pointFromJSON=function(t){return h.fromJSON(this,t)},h.prototype.precompute=function(){},h.prototype._encode=function(){return this.getX().toArray("be",this.curve.p.byteLength())},h.fromJSON=function(t,e){return new h(t,e[0],e[1]||t.one)},h.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" z: "+this.z.fromRed().toString(16,2)+">"},h.prototype.isInfinity=function(){return 0===this.z.cmpn(0)},h.prototype.dbl=function(){var t=this.x.redAdd(this.z).redSqr(),e=this.x.redSub(this.z).redSqr(),n=t.redSub(e),i=t.redMul(e),r=n.redMul(e.redAdd(this.curve.a24.redMul(n)));return this.curve.point(i,r)},h.prototype.add=function(){throw new Error("Not supported on Montgomery curve")},h.prototype.diffAdd=function(t,e){var n=this.x.redAdd(this.z),i=this.x.redSub(this.z),r=t.x.redAdd(t.z),s=t.x.redSub(t.z).redMul(n),o=r.redMul(i),a=e.z.redMul(s.redAdd(o).redSqr()),h=e.x.redMul(s.redISub(o).redSqr());return this.curve.point(a,h)},h.prototype.mul=function(t){for(var e=t.clone(),n=this,i=this.curve.point(null,null),r=[];0!==e.cmpn(0);e.iushrn(1))r.push(e.andln(1));for(var s=r.length-1;s>=0;s--)0===r[s]?(n=n.diffAdd(i,this),i=i.dbl()):(i=n.diffAdd(i,this),n=n.dbl());return i},h.prototype.mulAdd=function(){throw new Error("Not supported on Montgomery curve")},h.prototype.jumlAdd=function(){throw new Error("Not supported on Montgomery curve")},h.prototype.eq=function(t){return 0===this.getX().cmp(t.getX())},h.prototype.normalize=function(){return this.x=this.x.redMul(this.z.redInvm()),this.z=this.curve.one,this},h.prototype.getX=function(){return this.normalize(),this.x.fromRed()}})),r.register("8OnvZ",(function(t,e){var n=r("fpVz9"),i=r("7ceHy"),s=r("bniia"),o=r("5O5VQ"),a=n.assert;function h(t){this.twisted=1!=(0|t.a),this.mOneA=this.twisted&&-1==(0|t.a),this.extended=this.mOneA,o.call(this,"edwards",t),this.a=new i(t.a,16).umod(this.red.m),this.a=this.a.toRed(this.red),this.c=new i(t.c,16).toRed(this.red),this.c2=this.c.redSqr(),this.d=new i(t.d,16).toRed(this.red),this.dd=this.d.redAdd(this.d),a(!this.twisted||0===this.c.fromRed().cmpn(1)),this.oneC=1==(0|t.c)}function u(t,e,n,r,s){o.BasePoint.call(this,t,"projective"),null===e&&null===n&&null===r?(this.x=this.curve.zero,this.y=this.curve.one,this.z=this.curve.one,this.t=this.curve.zero,this.zOne=!0):(this.x=new i(e,16),this.y=new i(n,16),this.z=r?new i(r,16):this.curve.one,this.t=s&&new i(s,16),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.t&&!this.t.red&&(this.t=this.t.toRed(this.curve.red)),this.zOne=this.z===this.curve.one,this.curve.extended&&!this.t&&(this.t=this.x.redMul(this.y),this.zOne||(this.t=this.t.redMul(this.z.redInvm()))))}s(h,o),t.exports=h,h.prototype._mulA=function(t){return this.mOneA?t.redNeg():this.a.redMul(t)},h.prototype._mulC=function(t){return this.oneC?t:this.c.redMul(t)},h.prototype.jpoint=function(t,e,n,i){return this.point(t,e,n,i)},h.prototype.pointFromX=function(t,e){(t=new i(t,16)).red||(t=t.toRed(this.red));var n=t.redSqr(),r=this.c2.redSub(this.a.redMul(n)),s=this.one.redSub(this.c2.redMul(this.d).redMul(n)),o=r.redMul(s.redInvm()),a=o.redSqrt();if(0!==a.redSqr().redSub(o).cmp(this.zero))throw new Error("invalid point");var h=a.fromRed().isOdd();return(e&&!h||!e&&h)&&(a=a.redNeg()),this.point(t,a)},h.prototype.pointFromY=function(t,e){(t=new i(t,16)).red||(t=t.toRed(this.red));var n=t.redSqr(),r=n.redSub(this.c2),s=n.redMul(this.d).redMul(this.c2).redSub(this.a),o=r.redMul(s.redInvm());if(0===o.cmp(this.zero)){if(e)throw new Error("invalid point");return this.point(this.zero,t)}var a=o.redSqrt();if(0!==a.redSqr().redSub(o).cmp(this.zero))throw new Error("invalid point");return a.fromRed().isOdd()!==e&&(a=a.redNeg()),this.point(a,t)},h.prototype.validate=function(t){if(t.isInfinity())return!0;t.normalize();var e=t.x.redSqr(),n=t.y.redSqr(),i=e.redMul(this.a).redAdd(n),r=this.c2.redMul(this.one.redAdd(this.d.redMul(e).redMul(n)));return 0===i.cmp(r)},s(u,o.BasePoint),h.prototype.pointFromJSON=function(t){return u.fromJSON(this,t)},h.prototype.point=function(t,e,n,i){return new u(this,t,e,n,i)},u.fromJSON=function(t,e){return new u(t,e[0],e[1],e[2])},u.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+" z: "+this.z.fromRed().toString(16,2)+">"},u.prototype.isInfinity=function(){return 0===this.x.cmpn(0)&&(0===this.y.cmp(this.z)||this.zOne&&0===this.y.cmp(this.curve.c))},u.prototype._extDbl=function(){var t=this.x.redSqr(),e=this.y.redSqr(),n=this.z.redSqr();n=n.redIAdd(n);var i=this.curve._mulA(t),r=this.x.redAdd(this.y).redSqr().redISub(t).redISub(e),s=i.redAdd(e),o=s.redSub(n),a=i.redSub(e),h=r.redMul(o),u=s.redMul(a),l=r.redMul(a),c=o.redMul(s);return this.curve.point(h,u,c,l)},u.prototype._projDbl=function(){var t,e,n,i,r,s,o=this.x.redAdd(this.y).redSqr(),a=this.x.redSqr(),h=this.y.redSqr();if(this.curve.twisted){var u=(i=this.curve._mulA(a)).redAdd(h);this.zOne?(t=o.redSub(a).redSub(h).redMul(u.redSub(this.curve.two)),e=u.redMul(i.redSub(h)),n=u.redSqr().redSub(u).redSub(u)):(r=this.z.redSqr(),s=u.redSub(r).redISub(r),t=o.redSub(a).redISub(h).redMul(s),e=u.redMul(i.redSub(h)),n=u.redMul(s))}else i=a.redAdd(h),r=this.curve._mulC(this.z).redSqr(),s=i.redSub(r).redSub(r),t=this.curve._mulC(o.redISub(i)).redMul(s),e=this.curve._mulC(i).redMul(a.redISub(h)),n=i.redMul(s);return this.curve.point(t,e,n)},u.prototype.dbl=function(){return this.isInfinity()?this:this.curve.extended?this._extDbl():this._projDbl()},u.prototype._extAdd=function(t){var e=this.y.redSub(this.x).redMul(t.y.redSub(t.x)),n=this.y.redAdd(this.x).redMul(t.y.redAdd(t.x)),i=this.t.redMul(this.curve.dd).redMul(t.t),r=this.z.redMul(t.z.redAdd(t.z)),s=n.redSub(e),o=r.redSub(i),a=r.redAdd(i),h=n.redAdd(e),u=s.redMul(o),l=a.redMul(h),c=s.redMul(h),d=o.redMul(a);return this.curve.point(u,l,d,c)},u.prototype._projAdd=function(t){var e,n,i=this.z.redMul(t.z),r=i.redSqr(),s=this.x.redMul(t.x),o=this.y.redMul(t.y),a=this.curve.d.redMul(s).redMul(o),h=r.redSub(a),u=r.redAdd(a),l=this.x.redAdd(this.y).redMul(t.x.redAdd(t.y)).redISub(s).redISub(o),c=i.redMul(h).redMul(l);return this.curve.twisted?(e=i.redMul(u).redMul(o.redSub(this.curve._mulA(s))),n=h.redMul(u)):(e=i.redMul(u).redMul(o.redSub(s)),n=this.curve._mulC(h).redMul(u)),this.curve.point(c,e,n)},u.prototype.add=function(t){return this.isInfinity()?t:t.isInfinity()?this:this.curve.extended?this._extAdd(t):this._projAdd(t)},u.prototype.mul=function(t){return this._hasDoubles(t)?this.curve._fixedNafMul(this,t):this.curve._wnafMul(this,t)},u.prototype.mulAdd=function(t,e,n){return this.curve._wnafMulAdd(1,[this,e],[t,n],2,!1)},u.prototype.jmulAdd=function(t,e,n){return this.curve._wnafMulAdd(1,[this,e],[t,n],2,!0)},u.prototype.normalize=function(){if(this.zOne)return this;var t=this.z.redInvm();return this.x=this.x.redMul(t),this.y=this.y.redMul(t),this.t&&(this.t=this.t.redMul(t)),this.z=this.curve.one,this.zOne=!0,this},u.prototype.neg=function(){return this.curve.point(this.x.redNeg(),this.y,this.z,this.t&&this.t.redNeg())},u.prototype.getX=function(){return this.normalize(),this.x.fromRed()},u.prototype.getY=function(){return this.normalize(),this.y.fromRed()},u.prototype.eq=function(t){return this===t||0===this.getX().cmp(t.getX())&&0===this.getY().cmp(t.getY())},u.prototype.eqXToP=function(t){var e=t.toRed(this.curve.red).redMul(this.z);if(0===this.x.cmp(e))return!0;for(var n=t.clone(),i=this.curve.redN.redMul(this.z);;){if(n.iadd(this.curve.n),n.cmp(this.curve.p)>=0)return!1;if(e.redIAdd(i),0===this.x.cmp(e))return!0}},u.prototype.toP=u.prototype.normalize,u.prototype.mixedAdd=u.prototype.add})),r.register("ch9s3",(function(t,e){var n,i=t.exports,s=r("d8iRl"),o=r("9N9oN"),a=r("fpVz9").assert;function h(t){"short"===t.type?this.curve=new o.short(t):"edwards"===t.type?this.curve=new o.edwards(t):this.curve=new o.mont(t),this.g=this.curve.g,this.n=this.curve.n,this.hash=t.hash,a(this.g.validate(),"Invalid curve"),a(this.g.mul(this.n).isInfinity(),"Invalid curve, G*N != O")}function u(t,e){Object.defineProperty(i,t,{configurable:!0,enumerable:!0,get:function(){var n=new h(e);return Object.defineProperty(i,t,{configurable:!0,enumerable:!0,value:n}),n}})}i.PresetCurve=h,u("p192",{type:"short",prime:"p192",p:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff",a:"ffffffff ffffffff ffffffff fffffffe ffffffff fffffffc",b:"64210519 e59c80e7 0fa7e9ab 72243049 feb8deec c146b9b1",n:"ffffffff ffffffff ffffffff 99def836 146bc9b1 b4d22831",hash:s.sha256,gRed:!1,g:["188da80e b03090f6 7cbf20eb 43a18800 f4ff0afd 82ff1012","07192b95 ffc8da78 631011ed 6b24cdd5 73f977a1 1e794811"]}),u("p224",{type:"short",prime:"p224",p:"ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001",a:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff fffffffe",b:"b4050a85 0c04b3ab f5413256 5044b0b7 d7bfd8ba 270b3943 2355ffb4",n:"ffffffff ffffffff ffffffff ffff16a2 e0b8f03e 13dd2945 5c5c2a3d",hash:s.sha256,gRed:!1,g:["b70e0cbd 6bb4bf7f 321390b9 4a03c1d3 56c21122 343280d6 115c1d21","bd376388 b5f723fb 4c22dfe6 cd4375a0 5a074764 44d58199 85007e34"]}),u("p256",{type:"short",prime:null,p:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff ffffffff",a:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff fffffffc",b:"5ac635d8 aa3a93e7 b3ebbd55 769886bc 651d06b0 cc53b0f6 3bce3c3e 27d2604b",n:"ffffffff 00000000 ffffffff ffffffff bce6faad a7179e84 f3b9cac2 fc632551",hash:s.sha256,gRed:!1,g:["6b17d1f2 e12c4247 f8bce6e5 63a440f2 77037d81 2deb33a0 f4a13945 d898c296","4fe342e2 fe1a7f9b 8ee7eb4a 7c0f9e16 2bce3357 6b315ece cbb64068 37bf51f5"]}),u("p384",{type:"short",prime:null,p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 ffffffff",a:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 fffffffc",b:"b3312fa7 e23ee7e4 988e056b e3f82d19 181d9c6e fe814112 0314088f 5013875a c656398d 8a2ed19d 2a85c8ed d3ec2aef",n:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff c7634d81 f4372ddf 581a0db2 48b0a77a ecec196a ccc52973",hash:s.sha384,gRed:!1,g:["aa87ca22 be8b0537 8eb1c71e f320ad74 6e1d3b62 8ba79b98 59f741e0 82542a38 5502f25d bf55296c 3a545e38 72760ab7","3617de4a 96262c6f 5d9e98bf 9292dc29 f8f41dbd 289a147c e9da3113 b5f0b8c0 0a60b1ce 1d7e819d 7a431d7c 90ea0e5f"]}),u("p521",{type:"short",prime:null,p:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff",a:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffc",b:"00000051 953eb961 8e1c9a1f 929a21a0 b68540ee a2da725b 99b315f3 b8b48991 8ef109e1 56193951 ec7e937b 1652c0bd 3bb1bf07 3573df88 3d2c34f1 ef451fd4 6b503f00",n:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffa 51868783 bf2f966b 7fcc0148 f709a5d0 3bb5c9b8 899c47ae bb6fb71e 91386409",hash:s.sha512,gRed:!1,g:["000000c6 858e06b7 0404e9cd 9e3ecb66 2395b442 9c648139 053fb521 f828af60 6b4d3dba a14b5e77 efe75928 fe1dc127 a2ffa8de 3348b3c1 856a429b f97e7e31 c2e5bd66","00000118 39296a78 9a3bc004 5c8a5fb4 2c7d1bd9 98f54449 579b4468 17afbd17 273e662c 97ee7299 5ef42640 c550b901 3fad0761 353c7086 a272c240 88be9476 9fd16650"]}),u("curve25519",{type:"mont",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"76d06",b:"1",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:s.sha256,gRed:!1,g:["9"]}),u("ed25519",{type:"edwards",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"-1",c:"1",d:"52036cee2b6ffe73 8cc740797779e898 00700a4d4141d8ab 75eb4dca135978a3",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:s.sha256,gRed:!1,g:["216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51a","6666666666666666666666666666666666666666666666666666666666666658"]});try{n=r("eh5tQ")}catch(t){n=void 0}u("secp256k1",{type:"short",prime:"k256",p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f",a:"0",b:"7",n:"ffffffff ffffffff ffffffff fffffffe baaedce6 af48a03b bfd25e8c d0364141",h:"1",hash:s.sha256,beta:"7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee",lambda:"5363ad4cc05c30e0a5261c028812645a122e22ea20816678df02967c1b23bd72",basis:[{a:"3086d221a7d46bcde86c90e49284eb15",b:"-e4437ed6010e88286f547fa90abfe4c3"},{a:"114ca50f7a8e2f3f657c1108d9d44cfd8",b:"3086d221a7d46bcde86c90e49284eb15"}],gRed:!1,g:["79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798","483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8",n]})})),r.register("d8iRl",(function(t,e){var n=t.exports;n.utils=r("5h91W"),n.common=r("2uLAh"),n.sha=r("e6NW8"),n.ripemd=r("4vjbU"),n.hmac=r("bzM2M"),n.sha1=n.sha.sha1,n.sha256=n.sha.sha256,n.sha224=n.sha.sha224,n.sha384=n.sha.sha384,n.sha512=n.sha.sha512,n.ripemd160=n.ripemd.ripemd160})),r.register("5h91W",(function(e,n){var i,s,o,a,h,u,l,c,d,f,p,m,g,v,y,b,w,_,M,k,A,E,x,S,T,I;t(e.exports,"inherits",(()=>i),(t=>i=t)),t(e.exports,"toArray",(()=>s),(t=>s=t)),t(e.exports,"toHex",(()=>o),(t=>o=t)),t(e.exports,"htonl",(()=>a),(t=>a=t)),t(e.exports,"toHex32",(()=>h),(t=>h=t)),t(e.exports,"zero2",(()=>u),(t=>u=t)),t(e.exports,"zero8",(()=>l),(t=>l=t)),t(e.exports,"join32",(()=>c),(t=>c=t)),t(e.exports,"split32",(()=>d),(t=>d=t)),t(e.exports,"rotr32",(()=>f),(t=>f=t)),t(e.exports,"rotl32",(()=>p),(t=>p=t)),t(e.exports,"sum32",(()=>m),(t=>m=t)),t(e.exports,"sum32_3",(()=>g),(t=>g=t)),t(e.exports,"sum32_4",(()=>v),(t=>v=t)),t(e.exports,"sum32_5",(()=>y),(t=>y=t)),t(e.exports,"sum64",(()=>b),(t=>b=t)),t(e.exports,"sum64_hi",(()=>w),(t=>w=t)),t(e.exports,"sum64_lo",(()=>_),(t=>_=t)),t(e.exports,"sum64_4_hi",(()=>M),(t=>M=t)),t(e.exports,"sum64_4_lo",(()=>k),(t=>k=t)),t(e.exports,"sum64_5_hi",(()=>A),(t=>A=t)),t(e.exports,"sum64_5_lo",(()=>E),(t=>E=t)),t(e.exports,"rotr64_hi",(()=>x),(t=>x=t)),t(e.exports,"rotr64_lo",(()=>S),(t=>S=t)),t(e.exports,"shr64_hi",(()=>T),(t=>T=t)),t(e.exports,"shr64_lo",(()=>I),(t=>I=t));var R=r("bNW2d"),C=r("bniia");function q(t,e){return 55296==(64512&t.charCodeAt(e))&&(!(e<0||e+1>=t.length)&&56320==(64512&t.charCodeAt(e+1)))}function N(t){return(t>>>24|t>>>8&65280|t<<8&16711680|(255&t)<<24)>>>0}function L(t){return 1===t.length?"0"+t:t}function D(t){return 7===t.length?"0"+t:6===t.length?"00"+t:5===t.length?"000"+t:4===t.length?"0000"+t:3===t.length?"00000"+t:2===t.length?"000000"+t:1===t.length?"0000000"+t:t}i=C,s=function(t,e){if(Array.isArray(t))return t.slice();if(!t)return[];var n=[];if("string"==typeof t)if(e){if("hex"===e)for((t=t.replace(/[^a-z0-9]+/gi,"")).length%2!=0&&(t="0"+t),r=0;r<t.length;r+=2)n.push(parseInt(t[r]+t[r+1],16))}else for(var i=0,r=0;r<t.length;r++){var s=t.charCodeAt(r);s<128?n[i++]=s:s<2048?(n[i++]=s>>6|192,n[i++]=63&s|128):q(t,r)?(s=65536+((1023&s)<<10)+(1023&t.charCodeAt(++r)),n[i++]=s>>18|240,n[i++]=s>>12&63|128,n[i++]=s>>6&63|128,n[i++]=63&s|128):(n[i++]=s>>12|224,n[i++]=s>>6&63|128,n[i++]=63&s|128)}else for(r=0;r<t.length;r++)n[r]=0|t[r];return n},o=function(t){for(var e="",n=0;n<t.length;n++)e+=L(t[n].toString(16));return e},a=N,h=function(t,e){for(var n="",i=0;i<t.length;i++){var r=t[i];"little"===e&&(r=N(r)),n+=D(r.toString(16))}return n},u=L,l=D,c=function(t,e,n,i){var r=n-e;R(r%4==0);for(var s=new Array(r/4),o=0,a=e;o<s.length;o++,a+=4){var h;h="big"===i?t[a]<<24|t[a+1]<<16|t[a+2]<<8|t[a+3]:t[a+3]<<24|t[a+2]<<16|t[a+1]<<8|t[a],s[o]=h>>>0}return s},d=function(t,e){for(var n=new Array(4*t.length),i=0,r=0;i<t.length;i++,r+=4){var s=t[i];"big"===e?(n[r]=s>>>24,n[r+1]=s>>>16&255,n[r+2]=s>>>8&255,n[r+3]=255&s):(n[r+3]=s>>>24,n[r+2]=s>>>16&255,n[r+1]=s>>>8&255,n[r]=255&s)}return n},f=function(t,e){return t>>>e|t<<32-e},p=function(t,e){return t<<e|t>>>32-e},m=function(t,e){return t+e>>>0},g=function(t,e,n){return t+e+n>>>0},v=function(t,e,n,i){return t+e+n+i>>>0},y=function(t,e,n,i,r){return t+e+n+i+r>>>0},b=function(t,e,n,i){var r=t[e],s=i+t[e+1]>>>0,o=(s<i?1:0)+n+r;t[e]=o>>>0,t[e+1]=s},w=function(t,e,n,i){return(e+i>>>0<e?1:0)+t+n>>>0},_=function(t,e,n,i){return e+i>>>0},M=function(t,e,n,i,r,s,o,a){var h=0,u=e;return h+=(u=u+i>>>0)<e?1:0,h+=(u=u+s>>>0)<s?1:0,t+n+r+o+(h+=(u=u+a>>>0)<a?1:0)>>>0},k=function(t,e,n,i,r,s,o,a){return e+i+s+a>>>0},A=function(t,e,n,i,r,s,o,a,h,u){var l=0,c=e;return l+=(c=c+i>>>0)<e?1:0,l+=(c=c+s>>>0)<s?1:0,l+=(c=c+a>>>0)<a?1:0,t+n+r+o+h+(l+=(c=c+u>>>0)<u?1:0)>>>0},E=function(t,e,n,i,r,s,o,a,h,u){return e+i+s+a+u>>>0},x=function(t,e,n){return(e<<32-n|t>>>n)>>>0},S=function(t,e,n){return(t<<32-n|e>>>n)>>>0},T=function(t,e,n){return t>>>n},I=function(t,e,n){return(t<<32-n|e>>>n)>>>0}})),r.register("2uLAh",(function(e,n){var i;t(e.exports,"BlockHash",(()=>i),(t=>i=t));var s=r("5h91W"),o=r("bNW2d");function a(){this.pending=null,this.pendingTotal=0,this.blockSize=this.constructor.blockSize,this.outSize=this.constructor.outSize,this.hmacStrength=this.constructor.hmacStrength,this.padLength=this.constructor.padLength/8,this.endian="big",this._delta8=this.blockSize/8,this._delta32=this.blockSize/32}i=a,a.prototype.update=function(t,e){if(t=s.toArray(t,e),this.pending?this.pending=this.pending.concat(t):this.pending=t,this.pendingTotal+=t.length,this.pending.length>=this._delta8){var n=(t=this.pending).length%this._delta8;this.pending=t.slice(t.length-n,t.length),0===this.pending.length&&(this.pending=null),t=s.join32(t,0,t.length-n,this.endian);for(var i=0;i<t.length;i+=this._delta32)this._update(t,i,i+this._delta32)}return this},a.prototype.digest=function(t){return this.update(this._pad()),o(null===this.pending),this._digest(t)},a.prototype._pad=function(){var t=this.pendingTotal,e=this._delta8,n=e-(t+this.padLength)%e,i=new Array(n+this.padLength);i[0]=128;for(var r=1;r<n;r++)i[r]=0;if(t<<=3,"big"===this.endian){for(var s=8;s<this.padLength;s++)i[r++]=0;i[r++]=0,i[r++]=0,i[r++]=0,i[r++]=0,i[r++]=t>>>24&255,i[r++]=t>>>16&255,i[r++]=t>>>8&255,i[r++]=255&t}else for(i[r++]=255&t,i[r++]=t>>>8&255,i[r++]=t>>>16&255,i[r++]=t>>>24&255,i[r++]=0,i[r++]=0,i[r++]=0,i[r++]=0,s=8;s<this.padLength;s++)i[r++]=0;return i}})),r.register("e6NW8",(function(e,n){var i,s,o,a,h;t(e.exports,"sha1",(()=>i),(t=>i=t)),t(e.exports,"sha224",(()=>s),(t=>s=t)),t(e.exports,"sha256",(()=>o),(t=>o=t)),t(e.exports,"sha384",(()=>a),(t=>a=t)),t(e.exports,"sha512",(()=>h),(t=>h=t)),i=r("8pXku"),s=r("9B7hK"),o=r("4yK5H"),a=r("2xlNG"),h=r("eQOPn")})),r.register("8pXku",(function(t,e){var n=r("5h91W"),i=r("2uLAh"),s=r("br9Yg"),o=n.rotl32,a=n.sum32,h=n.sum32_5,u=s.ft_1,l=i.BlockHash,c=[1518500249,1859775393,2400959708,3395469782];function d(){if(!(this instanceof d))return new d;l.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.W=new Array(80)}n.inherits(d,l),t.exports=d,d.blockSize=512,d.outSize=160,d.hmacStrength=80,d.padLength=64,d.prototype._update=function(t,e){for(var n=this.W,i=0;i<16;i++)n[i]=t[e+i];for(;i<n.length;i++)n[i]=o(n[i-3]^n[i-8]^n[i-14]^n[i-16],1);var r=this.h[0],s=this.h[1],l=this.h[2],d=this.h[3],f=this.h[4];for(i=0;i<n.length;i++){var p=~~(i/20),m=h(o(r,5),u(p,s,l,d),f,n[i],c[p]);f=d,d=l,l=o(s,30),s=r,r=m}this.h[0]=a(this.h[0],r),this.h[1]=a(this.h[1],s),this.h[2]=a(this.h[2],l),this.h[3]=a(this.h[3],d),this.h[4]=a(this.h[4],f)},d.prototype._digest=function(t){return"hex"===t?n.toHex32(this.h,"big"):n.split32(this.h,"big")}})),r.register("br9Yg",(function(e,n){var i,s,o,a,h,u,l;t(e.exports,"ft_1",(()=>i),(t=>i=t)),t(e.exports,"ch32",(()=>s),(t=>s=t)),t(e.exports,"maj32",(()=>o),(t=>o=t)),t(e.exports,"s0_256",(()=>a),(t=>a=t)),t(e.exports,"s1_256",(()=>h),(t=>h=t)),t(e.exports,"g0_256",(()=>u),(t=>u=t)),t(e.exports,"g1_256",(()=>l),(t=>l=t));var c=r("5h91W").rotr32;function d(t,e,n){return t&e^~t&n}function f(t,e,n){return t&e^t&n^e&n}function p(t,e,n){return t^e^n}i=function(t,e,n,i){return 0===t?d(e,n,i):1===t||3===t?p(e,n,i):2===t?f(e,n,i):void 0},s=d,o=f,a=function(t){return c(t,2)^c(t,13)^c(t,22)},h=function(t){return c(t,6)^c(t,11)^c(t,25)},u=function(t){return c(t,7)^c(t,18)^t>>>3},l=function(t){return c(t,17)^c(t,19)^t>>>10}})),r.register("9B7hK",(function(t,e){var n=r("5h91W"),i=r("4yK5H");function s(){if(!(this instanceof s))return new s;i.call(this),this.h=[3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428]}n.inherits(s,i),t.exports=s,s.blockSize=512,s.outSize=224,s.hmacStrength=192,s.padLength=64,s.prototype._digest=function(t){return"hex"===t?n.toHex32(this.h.slice(0,7),"big"):n.split32(this.h.slice(0,7),"big")}})),r.register("4yK5H",(function(t,e){var n=r("5h91W"),i=r("2uLAh"),s=r("br9Yg"),o=r("bNW2d"),a=n.sum32,h=n.sum32_4,u=n.sum32_5,l=s.ch32,c=s.maj32,d=s.s0_256,f=s.s1_256,p=s.g0_256,m=s.g1_256,g=i.BlockHash,v=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function y(){if(!(this instanceof y))return new y;g.call(this),this.h=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],this.k=v,this.W=new Array(64)}n.inherits(y,g),t.exports=y,y.blockSize=512,y.outSize=256,y.hmacStrength=192,y.padLength=64,y.prototype._update=function(t,e){for(var n=this.W,i=0;i<16;i++)n[i]=t[e+i];for(;i<n.length;i++)n[i]=h(m(n[i-2]),n[i-7],p(n[i-15]),n[i-16]);var r=this.h[0],s=this.h[1],g=this.h[2],v=this.h[3],y=this.h[4],b=this.h[5],w=this.h[6],_=this.h[7];for(o(this.k.length===n.length),i=0;i<n.length;i++){var M=u(_,f(y),l(y,b,w),this.k[i],n[i]),k=a(d(r),c(r,s,g));_=w,w=b,b=y,y=a(v,M),v=g,g=s,s=r,r=a(M,k)}this.h[0]=a(this.h[0],r),this.h[1]=a(this.h[1],s),this.h[2]=a(this.h[2],g),this.h[3]=a(this.h[3],v),this.h[4]=a(this.h[4],y),this.h[5]=a(this.h[5],b),this.h[6]=a(this.h[6],w),this.h[7]=a(this.h[7],_)},y.prototype._digest=function(t){return"hex"===t?n.toHex32(this.h,"big"):n.split32(this.h,"big")}})),r.register("2xlNG",(function(t,e){var n=r("5h91W"),i=r("eQOPn");function s(){if(!(this instanceof s))return new s;i.call(this),this.h=[3418070365,3238371032,1654270250,914150663,2438529370,812702999,355462360,4144912697,1731405415,4290775857,2394180231,1750603025,3675008525,1694076839,1203062813,3204075428]}n.inherits(s,i),t.exports=s,s.blockSize=1024,s.outSize=384,s.hmacStrength=192,s.padLength=128,s.prototype._digest=function(t){return"hex"===t?n.toHex32(this.h.slice(0,12),"big"):n.split32(this.h.slice(0,12),"big")}})),r.register("eQOPn",(function(t,e){var n=r("5h91W"),i=r("2uLAh"),s=r("bNW2d"),o=n.rotr64_hi,a=n.rotr64_lo,h=n.shr64_hi,u=n.shr64_lo,l=n.sum64,c=n.sum64_hi,d=n.sum64_lo,f=n.sum64_4_hi,p=n.sum64_4_lo,m=n.sum64_5_hi,g=n.sum64_5_lo,v=i.BlockHash,y=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591];function b(){if(!(this instanceof b))return new b;v.call(this),this.h=[1779033703,4089235720,3144134277,2227873595,1013904242,4271175723,2773480762,1595750129,1359893119,2917565137,2600822924,725511199,528734635,4215389547,1541459225,327033209],this.k=y,this.W=new Array(160)}function w(t,e,n,i,r){var s=t&n^~t&r;return s<0&&(s+=4294967296),s}function _(t,e,n,i,r,s){var o=e&i^~e&s;return o<0&&(o+=4294967296),o}function M(t,e,n,i,r){var s=t&n^t&r^n&r;return s<0&&(s+=4294967296),s}function k(t,e,n,i,r,s){var o=e&i^e&s^i&s;return o<0&&(o+=4294967296),o}function A(t,e){var n=o(t,e,28)^o(e,t,2)^o(e,t,7);return n<0&&(n+=4294967296),n}function E(t,e){var n=a(t,e,28)^a(e,t,2)^a(e,t,7);return n<0&&(n+=4294967296),n}function x(t,e){var n=o(t,e,14)^o(t,e,18)^o(e,t,9);return n<0&&(n+=4294967296),n}function S(t,e){var n=a(t,e,14)^a(t,e,18)^a(e,t,9);return n<0&&(n+=4294967296),n}function T(t,e){var n=o(t,e,1)^o(t,e,8)^h(t,e,7);return n<0&&(n+=4294967296),n}function I(t,e){var n=a(t,e,1)^a(t,e,8)^u(t,e,7);return n<0&&(n+=4294967296),n}function R(t,e){var n=o(t,e,19)^o(e,t,29)^h(t,e,6);return n<0&&(n+=4294967296),n}function C(t,e){var n=a(t,e,19)^a(e,t,29)^u(t,e,6);return n<0&&(n+=4294967296),n}n.inherits(b,v),t.exports=b,b.blockSize=1024,b.outSize=512,b.hmacStrength=192,b.padLength=128,b.prototype._prepareBlock=function(t,e){for(var n=this.W,i=0;i<32;i++)n[i]=t[e+i];for(;i<n.length;i+=2){var r=R(n[i-4],n[i-3]),s=C(n[i-4],n[i-3]),o=n[i-14],a=n[i-13],h=T(n[i-30],n[i-29]),u=I(n[i-30],n[i-29]),l=n[i-32],c=n[i-31];n[i]=f(r,s,o,a,h,u,l,c),n[i+1]=p(r,s,o,a,h,u,l,c)}},b.prototype._update=function(t,e){this._prepareBlock(t,e);var n=this.W,i=this.h[0],r=this.h[1],o=this.h[2],a=this.h[3],h=this.h[4],u=this.h[5],f=this.h[6],p=this.h[7],v=this.h[8],y=this.h[9],b=this.h[10],T=this.h[11],I=this.h[12],R=this.h[13],C=this.h[14],q=this.h[15];s(this.k.length===n.length);for(var N=0;N<n.length;N+=2){var L=C,D=q,O=x(v,y),B=S(v,y),P=w(v,y,b,T,I),U=_(v,y,b,T,I,R),F=this.k[N],j=this.k[N+1],z=n[N],V=n[N+1],H=m(L,D,O,B,P,U,F,j,z,V),K=g(L,D,O,B,P,U,F,j,z,V);L=A(i,r),D=E(i,r),O=M(i,r,o,a,h),B=k(i,r,o,a,h,u);var W=c(L,D,O,B),G=d(L,D,O,B);C=I,q=R,I=b,R=T,b=v,T=y,v=c(f,p,H,K),y=d(p,p,H,K),f=h,p=u,h=o,u=a,o=i,a=r,i=c(H,K,W,G),r=d(H,K,W,G)}l(this.h,0,i,r),l(this.h,2,o,a),l(this.h,4,h,u),l(this.h,6,f,p),l(this.h,8,v,y),l(this.h,10,b,T),l(this.h,12,I,R),l(this.h,14,C,q)},b.prototype._digest=function(t){return"hex"===t?n.toHex32(this.h,"big"):n.split32(this.h,"big")}})),r.register("4vjbU",(function(e,n){var i;t(e.exports,"ripemd160",(()=>i),(t=>i=t));var s=r("5h91W"),o=r("2uLAh"),a=s.rotl32,h=s.sum32,u=s.sum32_3,l=s.sum32_4,c=o.BlockHash;function d(){if(!(this instanceof d))return new d;c.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.endian="little"}function f(t,e,n,i){return t<=15?e^n^i:t<=31?e&n|~e&i:t<=47?(e|~n)^i:t<=63?e&i|n&~i:e^(n|~i)}function p(t){return t<=15?0:t<=31?1518500249:t<=47?1859775393:t<=63?2400959708:2840853838}function m(t){return t<=15?1352829926:t<=31?1548603684:t<=47?1836072691:t<=63?2053994217:0}s.inherits(d,c),i=d,d.blockSize=512,d.outSize=160,d.hmacStrength=192,d.padLength=64,d.prototype._update=function(t,e){for(var n=this.h[0],i=this.h[1],r=this.h[2],s=this.h[3],o=this.h[4],c=n,d=i,w=r,_=s,M=o,k=0;k<80;k++){var A=h(a(l(n,f(k,i,r,s),t[g[k]+e],p(k)),y[k]),o);n=o,o=s,s=a(r,10),r=i,i=A,A=h(a(l(c,f(79-k,d,w,_),t[v[k]+e],m(k)),b[k]),M),c=M,M=_,_=a(w,10),w=d,d=A}A=u(this.h[1],r,_),this.h[1]=u(this.h[2],s,M),this.h[2]=u(this.h[3],o,c),this.h[3]=u(this.h[4],n,d),this.h[4]=u(this.h[0],i,w),this.h[0]=A},d.prototype._digest=function(t){return"hex"===t?s.toHex32(this.h,"little"):s.split32(this.h,"little")};var g=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],v=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],y=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],b=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11]})),r.register("bzM2M",(function(t,e){var n=r("5h91W"),i=r("bNW2d");function s(t,e,i){if(!(this instanceof s))return new s(t,e,i);this.Hash=t,this.blockSize=t.blockSize/8,this.outSize=t.outSize/8,this.inner=null,this.outer=null,this._init(n.toArray(e,i))}t.exports=s,s.prototype._init=function(t){t.length>this.blockSize&&(t=(new this.Hash).update(t).digest()),i(t.length<=this.blockSize);for(var e=t.length;e<this.blockSize;e++)t.push(0);for(e=0;e<t.length;e++)t[e]^=54;for(this.inner=(new this.Hash).update(t),e=0;e<t.length;e++)t[e]^=106;this.outer=(new this.Hash).update(t)},s.prototype.update=function(t,e){return this.inner.update(t,e),this},s.prototype.digest=function(t){return this.outer.update(this.inner.digest()),this.outer.digest(t)}})),r.register("eh5tQ",(function(t,e){t.exports={doubles:{step:4,points:[["e60fce93b59e9ec53011aabc21c23e97b2a31369b87a5ae9c44ee89e2a6dec0a","f7e3507399e595929db99f34f57937101296891e44d23f0be1f32cce69616821"],["8282263212c609d9ea2a6e3e172de238d8c39cabd5ac1ca10646e23fd5f51508","11f8a8098557dfe45e8256e830b60ace62d613ac2f7b17bed31b6eaff6e26caf"],["175e159f728b865a72f99cc6c6fc846de0b93833fd2222ed73fce5b551e5b739","d3506e0d9e3c79eba4ef97a51ff71f5eacb5955add24345c6efa6ffee9fed695"],["363d90d447b00c9c99ceac05b6262ee053441c7e55552ffe526bad8f83ff4640","4e273adfc732221953b445397f3363145b9a89008199ecb62003c7f3bee9de9"],["8b4b5f165df3c2be8c6244b5b745638843e4a781a15bcd1b69f79a55dffdf80c","4aad0a6f68d308b4b3fbd7813ab0da04f9e336546162ee56b3eff0c65fd4fd36"],["723cbaa6e5db996d6bf771c00bd548c7b700dbffa6c0e77bcb6115925232fcda","96e867b5595cc498a921137488824d6e2660a0653779494801dc069d9eb39f5f"],["eebfa4d493bebf98ba5feec812c2d3b50947961237a919839a533eca0e7dd7fa","5d9a8ca3970ef0f269ee7edaf178089d9ae4cdc3a711f712ddfd4fdae1de8999"],["100f44da696e71672791d0a09b7bde459f1215a29b3c03bfefd7835b39a48db0","cdd9e13192a00b772ec8f3300c090666b7ff4a18ff5195ac0fbd5cd62bc65a09"],["e1031be262c7ed1b1dc9227a4a04c017a77f8d4464f3b3852c8acde6e534fd2d","9d7061928940405e6bb6a4176597535af292dd419e1ced79a44f18f29456a00d"],["feea6cae46d55b530ac2839f143bd7ec5cf8b266a41d6af52d5e688d9094696d","e57c6b6c97dce1bab06e4e12bf3ecd5c981c8957cc41442d3155debf18090088"],["da67a91d91049cdcb367be4be6ffca3cfeed657d808583de33fa978bc1ec6cb1","9bacaa35481642bc41f463f7ec9780e5dec7adc508f740a17e9ea8e27a68be1d"],["53904faa0b334cdda6e000935ef22151ec08d0f7bb11069f57545ccc1a37b7c0","5bc087d0bc80106d88c9eccac20d3c1c13999981e14434699dcb096b022771c8"],["8e7bcd0bd35983a7719cca7764ca906779b53a043a9b8bcaeff959f43ad86047","10b7770b2a3da4b3940310420ca9514579e88e2e47fd68b3ea10047e8460372a"],["385eed34c1cdff21e6d0818689b81bde71a7f4f18397e6690a841e1599c43862","283bebc3e8ea23f56701de19e9ebf4576b304eec2086dc8cc0458fe5542e5453"],["6f9d9b803ecf191637c73a4413dfa180fddf84a5947fbc9c606ed86c3fac3a7","7c80c68e603059ba69b8e2a30e45c4d47ea4dd2f5c281002d86890603a842160"],["3322d401243c4e2582a2147c104d6ecbf774d163db0f5e5313b7e0e742d0e6bd","56e70797e9664ef5bfb019bc4ddaf9b72805f63ea2873af624f3a2e96c28b2a0"],["85672c7d2de0b7da2bd1770d89665868741b3f9af7643397721d74d28134ab83","7c481b9b5b43b2eb6374049bfa62c2e5e77f17fcc5298f44c8e3094f790313a6"],["948bf809b1988a46b06c9f1919413b10f9226c60f668832ffd959af60c82a0a","53a562856dcb6646dc6b74c5d1c3418c6d4dff08c97cd2bed4cb7f88d8c8e589"],["6260ce7f461801c34f067ce0f02873a8f1b0e44dfc69752accecd819f38fd8e8","bc2da82b6fa5b571a7f09049776a1ef7ecd292238051c198c1a84e95b2b4ae17"],["e5037de0afc1d8d43d8348414bbf4103043ec8f575bfdc432953cc8d2037fa2d","4571534baa94d3b5f9f98d09fb990bddbd5f5b03ec481f10e0e5dc841d755bda"],["e06372b0f4a207adf5ea905e8f1771b4e7e8dbd1c6a6c5b725866a0ae4fce725","7a908974bce18cfe12a27bb2ad5a488cd7484a7787104870b27034f94eee31dd"],["213c7a715cd5d45358d0bbf9dc0ce02204b10bdde2a3f58540ad6908d0559754","4b6dad0b5ae462507013ad06245ba190bb4850f5f36a7eeddff2c27534b458f2"],["4e7c272a7af4b34e8dbb9352a5419a87e2838c70adc62cddf0cc3a3b08fbd53c","17749c766c9d0b18e16fd09f6def681b530b9614bff7dd33e0b3941817dcaae6"],["fea74e3dbe778b1b10f238ad61686aa5c76e3db2be43057632427e2840fb27b6","6e0568db9b0b13297cf674deccb6af93126b596b973f7b77701d3db7f23cb96f"],["76e64113f677cf0e10a2570d599968d31544e179b760432952c02a4417bdde39","c90ddf8dee4e95cf577066d70681f0d35e2a33d2b56d2032b4b1752d1901ac01"],["c738c56b03b2abe1e8281baa743f8f9a8f7cc643df26cbee3ab150242bcbb891","893fb578951ad2537f718f2eacbfbbbb82314eef7880cfe917e735d9699a84c3"],["d895626548b65b81e264c7637c972877d1d72e5f3a925014372e9f6588f6c14b","febfaa38f2bc7eae728ec60818c340eb03428d632bb067e179363ed75d7d991f"],["b8da94032a957518eb0f6433571e8761ceffc73693e84edd49150a564f676e03","2804dfa44805a1e4d7c99cc9762808b092cc584d95ff3b511488e4e74efdf6e7"],["e80fea14441fb33a7d8adab9475d7fab2019effb5156a792f1a11778e3c0df5d","eed1de7f638e00771e89768ca3ca94472d155e80af322ea9fcb4291b6ac9ec78"],["a301697bdfcd704313ba48e51d567543f2a182031efd6915ddc07bbcc4e16070","7370f91cfb67e4f5081809fa25d40f9b1735dbf7c0a11a130c0d1a041e177ea1"],["90ad85b389d6b936463f9d0512678de208cc330b11307fffab7ac63e3fb04ed4","e507a3620a38261affdcbd9427222b839aefabe1582894d991d4d48cb6ef150"],["8f68b9d2f63b5f339239c1ad981f162ee88c5678723ea3351b7b444c9ec4c0da","662a9f2dba063986de1d90c2b6be215dbbea2cfe95510bfdf23cbf79501fff82"],["e4f3fb0176af85d65ff99ff9198c36091f48e86503681e3e6686fd5053231e11","1e63633ad0ef4f1c1661a6d0ea02b7286cc7e74ec951d1c9822c38576feb73bc"],["8c00fa9b18ebf331eb961537a45a4266c7034f2f0d4e1d0716fb6eae20eae29e","efa47267fea521a1a9dc343a3736c974c2fadafa81e36c54e7d2a4c66702414b"],["e7a26ce69dd4829f3e10cec0a9e98ed3143d084f308b92c0997fddfc60cb3e41","2a758e300fa7984b471b006a1aafbb18d0a6b2c0420e83e20e8a9421cf2cfd51"],["b6459e0ee3662ec8d23540c223bcbdc571cbcb967d79424f3cf29eb3de6b80ef","67c876d06f3e06de1dadf16e5661db3c4b3ae6d48e35b2ff30bf0b61a71ba45"],["d68a80c8280bb840793234aa118f06231d6f1fc67e73c5a5deda0f5b496943e8","db8ba9fff4b586d00c4b1f9177b0e28b5b0e7b8f7845295a294c84266b133120"],["324aed7df65c804252dc0270907a30b09612aeb973449cea4095980fc28d3d5d","648a365774b61f2ff130c0c35aec1f4f19213b0c7e332843967224af96ab7c84"],["4df9c14919cde61f6d51dfdbe5fee5dceec4143ba8d1ca888e8bd373fd054c96","35ec51092d8728050974c23a1d85d4b5d506cdc288490192ebac06cad10d5d"],["9c3919a84a474870faed8a9c1cc66021523489054d7f0308cbfc99c8ac1f98cd","ddb84f0f4a4ddd57584f044bf260e641905326f76c64c8e6be7e5e03d4fc599d"],["6057170b1dd12fdf8de05f281d8e06bb91e1493a8b91d4cc5a21382120a959e5","9a1af0b26a6a4807add9a2daf71df262465152bc3ee24c65e899be932385a2a8"],["a576df8e23a08411421439a4518da31880cef0fba7d4df12b1a6973eecb94266","40a6bf20e76640b2c92b97afe58cd82c432e10a7f514d9f3ee8be11ae1b28ec8"],["7778a78c28dec3e30a05fe9629de8c38bb30d1f5cf9a3a208f763889be58ad71","34626d9ab5a5b22ff7098e12f2ff580087b38411ff24ac563b513fc1fd9f43ac"],["928955ee637a84463729fd30e7afd2ed5f96274e5ad7e5cb09eda9c06d903ac","c25621003d3f42a827b78a13093a95eeac3d26efa8a8d83fc5180e935bcd091f"],["85d0fef3ec6db109399064f3a0e3b2855645b4a907ad354527aae75163d82751","1f03648413a38c0be29d496e582cf5663e8751e96877331582c237a24eb1f962"],["ff2b0dce97eece97c1c9b6041798b85dfdfb6d8882da20308f5404824526087e","493d13fef524ba188af4c4dc54d07936c7b7ed6fb90e2ceb2c951e01f0c29907"],["827fbbe4b1e880ea9ed2b2e6301b212b57f1ee148cd6dd28780e5e2cf856e241","c60f9c923c727b0b71bef2c67d1d12687ff7a63186903166d605b68baec293ec"],["eaa649f21f51bdbae7be4ae34ce6e5217a58fdce7f47f9aa7f3b58fa2120e2b3","be3279ed5bbbb03ac69a80f89879aa5a01a6b965f13f7e59d47a5305ba5ad93d"],["e4a42d43c5cf169d9391df6decf42ee541b6d8f0c9a137401e23632dda34d24f","4d9f92e716d1c73526fc99ccfb8ad34ce886eedfa8d8e4f13a7f7131deba9414"],["1ec80fef360cbdd954160fadab352b6b92b53576a88fea4947173b9d4300bf19","aeefe93756b5340d2f3a4958a7abbf5e0146e77f6295a07b671cdc1cc107cefd"],["146a778c04670c2f91b00af4680dfa8bce3490717d58ba889ddb5928366642be","b318e0ec3354028add669827f9d4b2870aaa971d2f7e5ed1d0b297483d83efd0"],["fa50c0f61d22e5f07e3acebb1aa07b128d0012209a28b9776d76a8793180eef9","6b84c6922397eba9b72cd2872281a68a5e683293a57a213b38cd8d7d3f4f2811"],["da1d61d0ca721a11b1a5bf6b7d88e8421a288ab5d5bba5220e53d32b5f067ec2","8157f55a7c99306c79c0766161c91e2966a73899d279b48a655fba0f1ad836f1"],["a8e282ff0c9706907215ff98e8fd416615311de0446f1e062a73b0610d064e13","7f97355b8db81c09abfb7f3c5b2515888b679a3e50dd6bd6cef7c73111f4cc0c"],["174a53b9c9a285872d39e56e6913cab15d59b1fa512508c022f382de8319497c","ccc9dc37abfc9c1657b4155f2c47f9e6646b3a1d8cb9854383da13ac079afa73"],["959396981943785c3d3e57edf5018cdbe039e730e4918b3d884fdff09475b7ba","2e7e552888c331dd8ba0386a4b9cd6849c653f64c8709385e9b8abf87524f2fd"],["d2a63a50ae401e56d645a1153b109a8fcca0a43d561fba2dbb51340c9d82b151","e82d86fb6443fcb7565aee58b2948220a70f750af484ca52d4142174dcf89405"],["64587e2335471eb890ee7896d7cfdc866bacbdbd3839317b3436f9b45617e073","d99fcdd5bf6902e2ae96dd6447c299a185b90a39133aeab358299e5e9faf6589"],["8481bde0e4e4d885b3a546d3e549de042f0aa6cea250e7fd358d6c86dd45e458","38ee7b8cba5404dd84a25bf39cecb2ca900a79c42b262e556d64b1b59779057e"],["13464a57a78102aa62b6979ae817f4637ffcfed3c4b1ce30bcd6303f6caf666b","69be159004614580ef7e433453ccb0ca48f300a81d0942e13f495a907f6ecc27"],["bc4a9df5b713fe2e9aef430bcc1dc97a0cd9ccede2f28588cada3a0d2d83f366","d3a81ca6e785c06383937adf4b798caa6e8a9fbfa547b16d758d666581f33c1"],["8c28a97bf8298bc0d23d8c749452a32e694b65e30a9472a3954ab30fe5324caa","40a30463a3305193378fedf31f7cc0eb7ae784f0451cb9459e71dc73cbef9482"],["8ea9666139527a8c1dd94ce4f071fd23c8b350c5a4bb33748c4ba111faccae0","620efabbc8ee2782e24e7c0cfb95c5d735b783be9cf0f8e955af34a30e62b945"],["dd3625faef5ba06074669716bbd3788d89bdde815959968092f76cc4eb9a9787","7a188fa3520e30d461da2501045731ca941461982883395937f68d00c644a573"],["f710d79d9eb962297e4f6232b40e8f7feb2bc63814614d692c12de752408221e","ea98e67232d3b3295d3b535532115ccac8612c721851617526ae47a9c77bfc82"]]},naf:{wnd:7,points:[["f9308a019258c31049344f85f89d5229b531c845836f99b08601f113bce036f9","388f7b0f632de8140fe337e62a37f3566500a99934c2231b6cb9fd7584b8e672"],["2f8bde4d1a07209355b4a7250a5c5128e88b84bddc619ab7cba8d569b240efe4","d8ac222636e5e3d6d4dba9dda6c9c426f788271bab0d6840dca87d3aa6ac62d6"],["5cbdf0646e5db4eaa398f365f2ea7a0e3d419b7e0330e39ce92bddedcac4f9bc","6aebca40ba255960a3178d6d861a54dba813d0b813fde7b5a5082628087264da"],["acd484e2f0c7f65309ad178a9f559abde09796974c57e714c35f110dfc27ccbe","cc338921b0a7d9fd64380971763b61e9add888a4375f8e0f05cc262ac64f9c37"],["774ae7f858a9411e5ef4246b70c65aac5649980be5c17891bbec17895da008cb","d984a032eb6b5e190243dd56d7b7b365372db1e2dff9d6a8301d74c9c953c61b"],["f28773c2d975288bc7d1d205c3748651b075fbc6610e58cddeeddf8f19405aa8","ab0902e8d880a89758212eb65cdaf473a1a06da521fa91f29b5cb52db03ed81"],["d7924d4f7d43ea965a465ae3095ff41131e5946f3c85f79e44adbcf8e27e080e","581e2872a86c72a683842ec228cc6defea40af2bd896d3a5c504dc9ff6a26b58"],["defdea4cdb677750a420fee807eacf21eb9898ae79b9768766e4faa04a2d4a34","4211ab0694635168e997b0ead2a93daeced1f4a04a95c0f6cfb199f69e56eb77"],["2b4ea0a797a443d293ef5cff444f4979f06acfebd7e86d277475656138385b6c","85e89bc037945d93b343083b5a1c86131a01f60c50269763b570c854e5c09b7a"],["352bbf4a4cdd12564f93fa332ce333301d9ad40271f8107181340aef25be59d5","321eb4075348f534d59c18259dda3e1f4a1b3b2e71b1039c67bd3d8bcf81998c"],["2fa2104d6b38d11b0230010559879124e42ab8dfeff5ff29dc9cdadd4ecacc3f","2de1068295dd865b64569335bd5dd80181d70ecfc882648423ba76b532b7d67"],["9248279b09b4d68dab21a9b066edda83263c3d84e09572e269ca0cd7f5453714","73016f7bf234aade5d1aa71bdea2b1ff3fc0de2a887912ffe54a32ce97cb3402"],["daed4f2be3a8bf278e70132fb0beb7522f570e144bf615c07e996d443dee8729","a69dce4a7d6c98e8d4a1aca87ef8d7003f83c230f3afa726ab40e52290be1c55"],["c44d12c7065d812e8acf28d7cbb19f9011ecd9e9fdf281b0e6a3b5e87d22e7db","2119a460ce326cdc76c45926c982fdac0e106e861edf61c5a039063f0e0e6482"],["6a245bf6dc698504c89a20cfded60853152b695336c28063b61c65cbd269e6b4","e022cf42c2bd4a708b3f5126f16a24ad8b33ba48d0423b6efd5e6348100d8a82"],["1697ffa6fd9de627c077e3d2fe541084ce13300b0bec1146f95ae57f0d0bd6a5","b9c398f186806f5d27561506e4557433a2cf15009e498ae7adee9d63d01b2396"],["605bdb019981718b986d0f07e834cb0d9deb8360ffb7f61df982345ef27a7479","2972d2de4f8d20681a78d93ec96fe23c26bfae84fb14db43b01e1e9056b8c49"],["62d14dab4150bf497402fdc45a215e10dcb01c354959b10cfe31c7e9d87ff33d","80fc06bd8cc5b01098088a1950eed0db01aa132967ab472235f5642483b25eaf"],["80c60ad0040f27dade5b4b06c408e56b2c50e9f56b9b8b425e555c2f86308b6f","1c38303f1cc5c30f26e66bad7fe72f70a65eed4cbe7024eb1aa01f56430bd57a"],["7a9375ad6167ad54aa74c6348cc54d344cc5dc9487d847049d5eabb0fa03c8fb","d0e3fa9eca8726909559e0d79269046bdc59ea10c70ce2b02d499ec224dc7f7"],["d528ecd9b696b54c907a9ed045447a79bb408ec39b68df504bb51f459bc3ffc9","eecf41253136e5f99966f21881fd656ebc4345405c520dbc063465b521409933"],["49370a4b5f43412ea25f514e8ecdad05266115e4a7ecb1387231808f8b45963","758f3f41afd6ed428b3081b0512fd62a54c3f3afbb5b6764b653052a12949c9a"],["77f230936ee88cbbd73df930d64702ef881d811e0e1498e2f1c13eb1fc345d74","958ef42a7886b6400a08266e9ba1b37896c95330d97077cbbe8eb3c7671c60d6"],["f2dac991cc4ce4b9ea44887e5c7c0bce58c80074ab9d4dbaeb28531b7739f530","e0dedc9b3b2f8dad4da1f32dec2531df9eb5fbeb0598e4fd1a117dba703a3c37"],["463b3d9f662621fb1b4be8fbbe2520125a216cdfc9dae3debcba4850c690d45b","5ed430d78c296c3543114306dd8622d7c622e27c970a1de31cb377b01af7307e"],["f16f804244e46e2a09232d4aff3b59976b98fac14328a2d1a32496b49998f247","cedabd9b82203f7e13d206fcdf4e33d92a6c53c26e5cce26d6579962c4e31df6"],["caf754272dc84563b0352b7a14311af55d245315ace27c65369e15f7151d41d1","cb474660ef35f5f2a41b643fa5e460575f4fa9b7962232a5c32f908318a04476"],["2600ca4b282cb986f85d0f1709979d8b44a09c07cb86d7c124497bc86f082120","4119b88753c15bd6a693b03fcddbb45d5ac6be74ab5f0ef44b0be9475a7e4b40"],["7635ca72d7e8432c338ec53cd12220bc01c48685e24f7dc8c602a7746998e435","91b649609489d613d1d5e590f78e6d74ecfc061d57048bad9e76f302c5b9c61"],["754e3239f325570cdbbf4a87deee8a66b7f2b33479d468fbc1a50743bf56cc18","673fb86e5bda30fb3cd0ed304ea49a023ee33d0197a695d0c5d98093c536683"],["e3e6bd1071a1e96aff57859c82d570f0330800661d1c952f9fe2694691d9b9e8","59c9e0bba394e76f40c0aa58379a3cb6a5a2283993e90c4167002af4920e37f5"],["186b483d056a033826ae73d88f732985c4ccb1f32ba35f4b4cc47fdcf04aa6eb","3b952d32c67cf77e2e17446e204180ab21fb8090895138b4a4a797f86e80888b"],["df9d70a6b9876ce544c98561f4be4f725442e6d2b737d9c91a8321724ce0963f","55eb2dafd84d6ccd5f862b785dc39d4ab157222720ef9da217b8c45cf2ba2417"],["5edd5cc23c51e87a497ca815d5dce0f8ab52554f849ed8995de64c5f34ce7143","efae9c8dbc14130661e8cec030c89ad0c13c66c0d17a2905cdc706ab7399a868"],["290798c2b6476830da12fe02287e9e777aa3fba1c355b17a722d362f84614fba","e38da76dcd440621988d00bcf79af25d5b29c094db2a23146d003afd41943e7a"],["af3c423a95d9f5b3054754efa150ac39cd29552fe360257362dfdecef4053b45","f98a3fd831eb2b749a93b0e6f35cfb40c8cd5aa667a15581bc2feded498fd9c6"],["766dbb24d134e745cccaa28c99bf274906bb66b26dcf98df8d2fed50d884249a","744b1152eacbe5e38dcc887980da38b897584a65fa06cedd2c924f97cbac5996"],["59dbf46f8c94759ba21277c33784f41645f7b44f6c596a58ce92e666191abe3e","c534ad44175fbc300f4ea6ce648309a042ce739a7919798cd85e216c4a307f6e"],["f13ada95103c4537305e691e74e9a4a8dd647e711a95e73cb62dc6018cfd87b8","e13817b44ee14de663bf4bc808341f326949e21a6a75c2570778419bdaf5733d"],["7754b4fa0e8aced06d4167a2c59cca4cda1869c06ebadfb6488550015a88522c","30e93e864e669d82224b967c3020b8fa8d1e4e350b6cbcc537a48b57841163a2"],["948dcadf5990e048aa3874d46abef9d701858f95de8041d2a6828c99e2262519","e491a42537f6e597d5d28a3224b1bc25df9154efbd2ef1d2cbba2cae5347d57e"],["7962414450c76c1689c7b48f8202ec37fb224cf5ac0bfa1570328a8a3d7c77ab","100b610ec4ffb4760d5c1fc133ef6f6b12507a051f04ac5760afa5b29db83437"],["3514087834964b54b15b160644d915485a16977225b8847bb0dd085137ec47ca","ef0afbb2056205448e1652c48e8127fc6039e77c15c2378b7e7d15a0de293311"],["d3cc30ad6b483e4bc79ce2c9dd8bc54993e947eb8df787b442943d3f7b527eaf","8b378a22d827278d89c5e9be8f9508ae3c2ad46290358630afb34db04eede0a4"],["1624d84780732860ce1c78fcbfefe08b2b29823db913f6493975ba0ff4847610","68651cf9b6da903e0914448c6cd9d4ca896878f5282be4c8cc06e2a404078575"],["733ce80da955a8a26902c95633e62a985192474b5af207da6df7b4fd5fc61cd4","f5435a2bd2badf7d485a4d8b8db9fcce3e1ef8e0201e4578c54673bc1dc5ea1d"],["15d9441254945064cf1a1c33bbd3b49f8966c5092171e699ef258dfab81c045c","d56eb30b69463e7234f5137b73b84177434800bacebfc685fc37bbe9efe4070d"],["a1d0fcf2ec9de675b612136e5ce70d271c21417c9d2b8aaaac138599d0717940","edd77f50bcb5a3cab2e90737309667f2641462a54070f3d519212d39c197a629"],["e22fbe15c0af8ccc5780c0735f84dbe9a790badee8245c06c7ca37331cb36980","a855babad5cd60c88b430a69f53a1a7a38289154964799be43d06d77d31da06"],["311091dd9860e8e20ee13473c1155f5f69635e394704eaa74009452246cfa9b3","66db656f87d1f04fffd1f04788c06830871ec5a64feee685bd80f0b1286d8374"],["34c1fd04d301be89b31c0442d3e6ac24883928b45a9340781867d4232ec2dbdf","9414685e97b1b5954bd46f730174136d57f1ceeb487443dc5321857ba73abee"],["f219ea5d6b54701c1c14de5b557eb42a8d13f3abbcd08affcc2a5e6b049b8d63","4cb95957e83d40b0f73af4544cccf6b1f4b08d3c07b27fb8d8c2962a400766d1"],["d7b8740f74a8fbaab1f683db8f45de26543a5490bca627087236912469a0b448","fa77968128d9c92ee1010f337ad4717eff15db5ed3c049b3411e0315eaa4593b"],["32d31c222f8f6f0ef86f7c98d3a3335ead5bcd32abdd94289fe4d3091aa824bf","5f3032f5892156e39ccd3d7915b9e1da2e6dac9e6f26e961118d14b8462e1661"],["7461f371914ab32671045a155d9831ea8793d77cd59592c4340f86cbc18347b5","8ec0ba238b96bec0cbdddcae0aa442542eee1ff50c986ea6b39847b3cc092ff6"],["ee079adb1df1860074356a25aa38206a6d716b2c3e67453d287698bad7b2b2d6","8dc2412aafe3be5c4c5f37e0ecc5f9f6a446989af04c4e25ebaac479ec1c8c1e"],["16ec93e447ec83f0467b18302ee620f7e65de331874c9dc72bfd8616ba9da6b5","5e4631150e62fb40d0e8c2a7ca5804a39d58186a50e497139626778e25b0674d"],["eaa5f980c245f6f038978290afa70b6bd8855897f98b6aa485b96065d537bd99","f65f5d3e292c2e0819a528391c994624d784869d7e6ea67fb18041024edc07dc"],["78c9407544ac132692ee1910a02439958ae04877151342ea96c4b6b35a49f51","f3e0319169eb9b85d5404795539a5e68fa1fbd583c064d2462b675f194a3ddb4"],["494f4be219a1a77016dcd838431aea0001cdc8ae7a6fc688726578d9702857a5","42242a969283a5f339ba7f075e36ba2af925ce30d767ed6e55f4b031880d562c"],["a598a8030da6d86c6bc7f2f5144ea549d28211ea58faa70ebf4c1e665c1fe9b5","204b5d6f84822c307e4b4a7140737aec23fc63b65b35f86a10026dbd2d864e6b"],["c41916365abb2b5d09192f5f2dbeafec208f020f12570a184dbadc3e58595997","4f14351d0087efa49d245b328984989d5caf9450f34bfc0ed16e96b58fa9913"],["841d6063a586fa475a724604da03bc5b92a2e0d2e0a36acfe4c73a5514742881","73867f59c0659e81904f9a1c7543698e62562d6744c169ce7a36de01a8d6154"],["5e95bb399a6971d376026947f89bde2f282b33810928be4ded112ac4d70e20d5","39f23f366809085beebfc71181313775a99c9aed7d8ba38b161384c746012865"],["36e4641a53948fd476c39f8a99fd974e5ec07564b5315d8bf99471bca0ef2f66","d2424b1b1abe4eb8164227b085c9aa9456ea13493fd563e06fd51cf5694c78fc"],["336581ea7bfbbb290c191a2f507a41cf5643842170e914faeab27c2c579f726","ead12168595fe1be99252129b6e56b3391f7ab1410cd1e0ef3dcdcabd2fda224"],["8ab89816dadfd6b6a1f2634fcf00ec8403781025ed6890c4849742706bd43ede","6fdcef09f2f6d0a044e654aef624136f503d459c3e89845858a47a9129cdd24e"],["1e33f1a746c9c5778133344d9299fcaa20b0938e8acff2544bb40284b8c5fb94","60660257dd11b3aa9c8ed618d24edff2306d320f1d03010e33a7d2057f3b3b6"],["85b7c1dcb3cec1b7ee7f30ded79dd20a0ed1f4cc18cbcfcfa410361fd8f08f31","3d98a9cdd026dd43f39048f25a8847f4fcafad1895d7a633c6fed3c35e999511"],["29df9fbd8d9e46509275f4b125d6d45d7fbe9a3b878a7af872a2800661ac5f51","b4c4fe99c775a606e2d8862179139ffda61dc861c019e55cd2876eb2a27d84b"],["a0b1cae06b0a847a3fea6e671aaf8adfdfe58ca2f768105c8082b2e449fce252","ae434102edde0958ec4b19d917a6a28e6b72da1834aff0e650f049503a296cf2"],["4e8ceafb9b3e9a136dc7ff67e840295b499dfb3b2133e4ba113f2e4c0e121e5","cf2174118c8b6d7a4b48f6d534ce5c79422c086a63460502b827ce62a326683c"],["d24a44e047e19b6f5afb81c7ca2f69080a5076689a010919f42725c2b789a33b","6fb8d5591b466f8fc63db50f1c0f1c69013f996887b8244d2cdec417afea8fa3"],["ea01606a7a6c9cdd249fdfcfacb99584001edd28abbab77b5104e98e8e3b35d4","322af4908c7312b0cfbfe369f7a7b3cdb7d4494bc2823700cfd652188a3ea98d"],["af8addbf2b661c8a6c6328655eb96651252007d8c5ea31be4ad196de8ce2131f","6749e67c029b85f52a034eafd096836b2520818680e26ac8f3dfbcdb71749700"],["e3ae1974566ca06cc516d47e0fb165a674a3dabcfca15e722f0e3450f45889","2aeabe7e4531510116217f07bf4d07300de97e4874f81f533420a72eeb0bd6a4"],["591ee355313d99721cf6993ffed1e3e301993ff3ed258802075ea8ced397e246","b0ea558a113c30bea60fc4775460c7901ff0b053d25ca2bdeee98f1a4be5d196"],["11396d55fda54c49f19aa97318d8da61fa8584e47b084945077cf03255b52984","998c74a8cd45ac01289d5833a7beb4744ff536b01b257be4c5767bea93ea57a4"],["3c5d2a1ba39c5a1790000738c9e0c40b8dcdfd5468754b6405540157e017aa7a","b2284279995a34e2f9d4de7396fc18b80f9b8b9fdd270f6661f79ca4c81bd257"],["cc8704b8a60a0defa3a99a7299f2e9c3fbc395afb04ac078425ef8a1793cc030","bdd46039feed17881d1e0862db347f8cf395b74fc4bcdc4e940b74e3ac1f1b13"],["c533e4f7ea8555aacd9777ac5cad29b97dd4defccc53ee7ea204119b2889b197","6f0a256bc5efdf429a2fb6242f1a43a2d9b925bb4a4b3a26bb8e0f45eb596096"],["c14f8f2ccb27d6f109f6d08d03cc96a69ba8c34eec07bbcf566d48e33da6593","c359d6923bb398f7fd4473e16fe1c28475b740dd098075e6c0e8649113dc3a38"],["a6cbc3046bc6a450bac24789fa17115a4c9739ed75f8f21ce441f72e0b90e6ef","21ae7f4680e889bb130619e2c0f95a360ceb573c70603139862afd617fa9b9f"],["347d6d9a02c48927ebfb86c1359b1caf130a3c0267d11ce6344b39f99d43cc38","60ea7f61a353524d1c987f6ecec92f086d565ab687870cb12689ff1e31c74448"],["da6545d2181db8d983f7dcb375ef5866d47c67b1bf31c8cf855ef7437b72656a","49b96715ab6878a79e78f07ce5680c5d6673051b4935bd897fea824b77dc208a"],["c40747cc9d012cb1a13b8148309c6de7ec25d6945d657146b9d5994b8feb1111","5ca560753be2a12fc6de6caf2cb489565db936156b9514e1bb5e83037e0fa2d4"],["4e42c8ec82c99798ccf3a610be870e78338c7f713348bd34c8203ef4037f3502","7571d74ee5e0fb92a7a8b33a07783341a5492144cc54bcc40a94473693606437"],["3775ab7089bc6af823aba2e1af70b236d251cadb0c86743287522a1b3b0dedea","be52d107bcfa09d8bcb9736a828cfa7fac8db17bf7a76a2c42ad961409018cf7"],["cee31cbf7e34ec379d94fb814d3d775ad954595d1314ba8846959e3e82f74e26","8fd64a14c06b589c26b947ae2bcf6bfa0149ef0be14ed4d80f448a01c43b1c6d"],["b4f9eaea09b6917619f6ea6a4eb5464efddb58fd45b1ebefcdc1a01d08b47986","39e5c9925b5a54b07433a4f18c61726f8bb131c012ca542eb24a8ac07200682a"],["d4263dfc3d2df923a0179a48966d30ce84e2515afc3dccc1b77907792ebcc60e","62dfaf07a0f78feb30e30d6295853ce189e127760ad6cf7fae164e122a208d54"],["48457524820fa65a4f8d35eb6930857c0032acc0a4a2de422233eeda897612c4","25a748ab367979d98733c38a1fa1c2e7dc6cc07db2d60a9ae7a76aaa49bd0f77"],["dfeeef1881101f2cb11644f3a2afdfc2045e19919152923f367a1767c11cceda","ecfb7056cf1de042f9420bab396793c0c390bde74b4bbdff16a83ae09a9a7517"],["6d7ef6b17543f8373c573f44e1f389835d89bcbc6062ced36c82df83b8fae859","cd450ec335438986dfefa10c57fea9bcc521a0959b2d80bbf74b190dca712d10"],["e75605d59102a5a2684500d3b991f2e3f3c88b93225547035af25af66e04541f","f5c54754a8f71ee540b9b48728473e314f729ac5308b06938360990e2bfad125"],["eb98660f4c4dfaa06a2be453d5020bc99a0c2e60abe388457dd43fefb1ed620c","6cb9a8876d9cb8520609af3add26cd20a0a7cd8a9411131ce85f44100099223e"],["13e87b027d8514d35939f2e6892b19922154596941888336dc3563e3b8dba942","fef5a3c68059a6dec5d624114bf1e91aac2b9da568d6abeb2570d55646b8adf1"],["ee163026e9fd6fe017c38f06a5be6fc125424b371ce2708e7bf4491691e5764a","1acb250f255dd61c43d94ccc670d0f58f49ae3fa15b96623e5430da0ad6c62b2"],["b268f5ef9ad51e4d78de3a750c2dc89b1e626d43505867999932e5db33af3d80","5f310d4b3c99b9ebb19f77d41c1dee018cf0d34fd4191614003e945a1216e423"],["ff07f3118a9df035e9fad85eb6c7bfe42b02f01ca99ceea3bf7ffdba93c4750d","438136d603e858a3a5c440c38eccbaddc1d2942114e2eddd4740d098ced1f0d8"],["8d8b9855c7c052a34146fd20ffb658bea4b9f69e0d825ebec16e8c3ce2b526a1","cdb559eedc2d79f926baf44fb84ea4d44bcf50fee51d7ceb30e2e7f463036758"],["52db0b5384dfbf05bfa9d472d7ae26dfe4b851ceca91b1eba54263180da32b63","c3b997d050ee5d423ebaf66a6db9f57b3180c902875679de924b69d84a7b375"],["e62f9490d3d51da6395efd24e80919cc7d0f29c3f3fa48c6fff543becbd43352","6d89ad7ba4876b0b22c2ca280c682862f342c8591f1daf5170e07bfd9ccafa7d"],["7f30ea2476b399b4957509c88f77d0191afa2ff5cb7b14fd6d8e7d65aaab1193","ca5ef7d4b231c94c3b15389a5f6311e9daff7bb67b103e9880ef4bff637acaec"],["5098ff1e1d9f14fb46a210fada6c903fef0fb7b4a1dd1d9ac60a0361800b7a00","9731141d81fc8f8084d37c6e7542006b3ee1b40d60dfe5362a5b132fd17ddc0"],["32b78c7de9ee512a72895be6b9cbefa6e2f3c4ccce445c96b9f2c81e2778ad58","ee1849f513df71e32efc3896ee28260c73bb80547ae2275ba497237794c8753c"],["e2cb74fddc8e9fbcd076eef2a7c72b0ce37d50f08269dfc074b581550547a4f7","d3aa2ed71c9dd2247a62df062736eb0baddea9e36122d2be8641abcb005cc4a4"],["8438447566d4d7bedadc299496ab357426009a35f235cb141be0d99cd10ae3a8","c4e1020916980a4da5d01ac5e6ad330734ef0d7906631c4f2390426b2edd791f"],["4162d488b89402039b584c6fc6c308870587d9c46f660b878ab65c82c711d67e","67163e903236289f776f22c25fb8a3afc1732f2b84b4e95dbda47ae5a0852649"],["3fad3fa84caf0f34f0f89bfd2dcf54fc175d767aec3e50684f3ba4a4bf5f683d","cd1bc7cb6cc407bb2f0ca647c718a730cf71872e7d0d2a53fa20efcdfe61826"],["674f2600a3007a00568c1a7ce05d0816c1fb84bf1370798f1c69532faeb1a86b","299d21f9413f33b3edf43b257004580b70db57da0b182259e09eecc69e0d38a5"],["d32f4da54ade74abb81b815ad1fb3b263d82d6c692714bcff87d29bd5ee9f08f","f9429e738b8e53b968e99016c059707782e14f4535359d582fc416910b3eea87"],["30e4e670435385556e593657135845d36fbb6931f72b08cb1ed954f1e3ce3ff6","462f9bce619898638499350113bbc9b10a878d35da70740dc695a559eb88db7b"],["be2062003c51cc3004682904330e4dee7f3dcd10b01e580bf1971b04d4cad297","62188bc49d61e5428573d48a74e1c655b1c61090905682a0d5558ed72dccb9bc"],["93144423ace3451ed29e0fb9ac2af211cb6e84a601df5993c419859fff5df04a","7c10dfb164c3425f5c71a3f9d7992038f1065224f72bb9d1d902a6d13037b47c"],["b015f8044f5fcbdcf21ca26d6c34fb8197829205c7b7d2a7cb66418c157b112c","ab8c1e086d04e813744a655b2df8d5f83b3cdc6faa3088c1d3aea1454e3a1d5f"],["d5e9e1da649d97d89e4868117a465a3a4f8a18de57a140d36b3f2af341a21b52","4cb04437f391ed73111a13cc1d4dd0db1693465c2240480d8955e8592f27447a"],["d3ae41047dd7ca065dbf8ed77b992439983005cd72e16d6f996a5316d36966bb","bd1aeb21ad22ebb22a10f0303417c6d964f8cdd7df0aca614b10dc14d125ac46"],["463e2763d885f958fc66cdd22800f0a487197d0a82e377b49f80af87c897b065","bfefacdb0e5d0fd7df3a311a94de062b26b80c61fbc97508b79992671ef7ca7f"],["7985fdfd127c0567c6f53ec1bb63ec3158e597c40bfe747c83cddfc910641917","603c12daf3d9862ef2b25fe1de289aed24ed291e0ec6708703a5bd567f32ed03"],["74a1ad6b5f76e39db2dd249410eac7f99e74c59cb83d2d0ed5ff1543da7703e9","cc6157ef18c9c63cd6193d83631bbea0093e0968942e8c33d5737fd790e0db08"],["30682a50703375f602d416664ba19b7fc9bab42c72747463a71d0896b22f6da3","553e04f6b018b4fa6c8f39e7f311d3176290d0e0f19ca73f17714d9977a22ff8"],["9e2158f0d7c0d5f26c3791efefa79597654e7a2b2464f52b1ee6c1347769ef57","712fcdd1b9053f09003a3481fa7762e9ffd7c8ef35a38509e2fbf2629008373"],["176e26989a43c9cfeba4029c202538c28172e566e3c4fce7322857f3be327d66","ed8cc9d04b29eb877d270b4878dc43c19aefd31f4eee09ee7b47834c1fa4b1c3"],["75d46efea3771e6e68abb89a13ad747ecf1892393dfc4f1b7004788c50374da8","9852390a99507679fd0b86fd2b39a868d7efc22151346e1a3ca4726586a6bed8"],["809a20c67d64900ffb698c4c825f6d5f2310fb0451c869345b7319f645605721","9e994980d9917e22b76b061927fa04143d096ccc54963e6a5ebfa5f3f8e286c1"],["1b38903a43f7f114ed4500b4eac7083fdefece1cf29c63528d563446f972c180","4036edc931a60ae889353f77fd53de4a2708b26b6f5da72ad3394119daf408f9"]]}}})),r.register("2XALJ",(function(t,e){var n=r("7ceHy"),i=r("ftqWI"),s=r("fpVz9"),o=r("ch9s3"),a=r("9m54X"),h=s.assert,u=r("jHJd0"),l=r("3Mc9q");function c(t){if(!(this instanceof c))return new c(t);"string"==typeof t&&(h(Object.prototype.hasOwnProperty.call(o,t),"Unknown curve "+t),t=o[t]),t instanceof o.PresetCurve&&(t={curve:t}),this.curve=t.curve.curve,this.n=this.curve.n,this.nh=this.n.ushrn(1),this.g=this.curve.g,this.g=t.curve.g,this.g.precompute(t.curve.n.bitLength()+1),this.hash=t.hash||t.curve.hash}t.exports=c,c.prototype.keyPair=function(t){return new u(this,t)},c.prototype.keyFromPrivate=function(t,e){return u.fromPrivate(this,t,e)},c.prototype.keyFromPublic=function(t,e){return u.fromPublic(this,t,e)},c.prototype.genKeyPair=function(t){t||(t={});for(var e=new i({hash:this.hash,pers:t.pers,persEnc:t.persEnc||"utf8",entropy:t.entropy||a(this.hash.hmacStrength),entropyEnc:t.entropy&&t.entropyEnc||"utf8",nonce:this.n.toArray()}),r=this.n.byteLength(),s=this.n.sub(new n(2));;){var o=new n(e.generate(r));if(!(o.cmp(s)>0))return o.iaddn(1),this.keyFromPrivate(o)}},c.prototype._truncateToN=function(t,e){var n=8*t.byteLength()-this.n.bitLength();return n>0&&(t=t.ushrn(n)),!e&&t.cmp(this.n)>=0?t.sub(this.n):t},c.prototype.sign=function(t,e,r,s){"object"==typeof r&&(s=r,r=null),s||(s={}),e=this.keyFromPrivate(e,r),t=this._truncateToN(new n(t,16));for(var o=this.n.byteLength(),a=e.getPrivate().toArray("be",o),h=t.toArray("be",o),u=new i({hash:this.hash,entropy:a,nonce:h,pers:s.pers,persEnc:s.persEnc||"utf8"}),c=this.n.sub(new n(1)),d=0;;d++){var f=s.k?s.k(d):new n(u.generate(this.n.byteLength()));if(!((f=this._truncateToN(f,!0)).cmpn(1)<=0||f.cmp(c)>=0)){var p=this.g.mul(f);if(!p.isInfinity()){var m=p.getX(),g=m.umod(this.n);if(0!==g.cmpn(0)){var v=f.invm(this.n).mul(g.mul(e.getPrivate()).iadd(t));if(0!==(v=v.umod(this.n)).cmpn(0)){var y=(p.getY().isOdd()?1:0)|(0!==m.cmp(g)?2:0);return s.canonical&&v.cmp(this.nh)>0&&(v=this.n.sub(v),y^=1),new l({r:g,s:v,recoveryParam:y})}}}}}},c.prototype.verify=function(t,e,i,r){t=this._truncateToN(new n(t,16)),i=this.keyFromPublic(i,r);var s=(e=new l(e,"hex")).r,o=e.s;if(s.cmpn(1)<0||s.cmp(this.n)>=0)return!1;if(o.cmpn(1)<0||o.cmp(this.n)>=0)return!1;var a,h=o.invm(this.n),u=h.mul(t).umod(this.n),c=h.mul(s).umod(this.n);return this.curve._maxwellTrick?!(a=this.g.jmulAdd(u,i.getPublic(),c)).isInfinity()&&a.eqXToP(s):!(a=this.g.mulAdd(u,i.getPublic(),c)).isInfinity()&&0===a.getX().umod(this.n).cmp(s)},c.prototype.recoverPubKey=function(t,e,i,r){h((3&i)===i,"The recovery param is more than two bits"),e=new l(e,r);var s=this.n,o=new n(t),a=e.r,u=e.s,c=1&i,d=i>>1;if(a.cmp(this.curve.p.umod(this.curve.n))>=0&&d)throw new Error("Unable to find sencond key candinate");a=d?this.curve.pointFromX(a.add(this.curve.n),c):this.curve.pointFromX(a,c);var f=e.r.invm(s),p=s.sub(o).mul(f).umod(s),m=u.mul(f).umod(s);return this.g.mulAdd(p,a,m)},c.prototype.getKeyRecoveryParam=function(t,e,n,i){if(null!==(e=new l(e,i)).recoveryParam)return e.recoveryParam;for(var r=0;r<4;r++){var s;try{s=this.recoverPubKey(t,e,r)}catch(t){continue}if(s.eq(n))return r}throw new Error("Unable to find valid recovery factor")}})),r.register("ftqWI",(function(t,e){var n=r("d8iRl"),i=r("am8t0"),s=r("bNW2d");function o(t){if(!(this instanceof o))return new o(t);this.hash=t.hash,this.predResist=!!t.predResist,this.outLen=this.hash.outSize,this.minEntropy=t.minEntropy||this.hash.hmacStrength,this._reseed=null,this.reseedInterval=null,this.K=null,this.V=null;var e=i.toArray(t.entropy,t.entropyEnc||"hex"),n=i.toArray(t.nonce,t.nonceEnc||"hex"),r=i.toArray(t.pers,t.persEnc||"hex");s(e.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._init(e,n,r)}t.exports=o,o.prototype._init=function(t,e,n){var i=t.concat(e).concat(n);this.K=new Array(this.outLen/8),this.V=new Array(this.outLen/8);for(var r=0;r<this.V.length;r++)this.K[r]=0,this.V[r]=1;this._update(i),this._reseed=1,this.reseedInterval=281474976710656},o.prototype._hmac=function(){return new n.hmac(this.hash,this.K)},o.prototype._update=function(t){var e=this._hmac().update(this.V).update([0]);t&&(e=e.update(t)),this.K=e.digest(),this.V=this._hmac().update(this.V).digest(),t&&(this.K=this._hmac().update(this.V).update([1]).update(t).digest(),this.V=this._hmac().update(this.V).digest())},o.prototype.reseed=function(t,e,n,r){"string"!=typeof e&&(r=n,n=e,e=null),t=i.toArray(t,e),n=i.toArray(n,r),s(t.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._update(t.concat(n||[])),this._reseed=1},o.prototype.generate=function(t,e,n,r){if(this._reseed>this.reseedInterval)throw new Error("Reseed is required");"string"!=typeof e&&(r=n,n=e,e=null),n&&(n=i.toArray(n,r||"hex"),this._update(n));for(var s=[];s.length<t;)this.V=this._hmac().update(this.V).digest(),s=s.concat(this.V);var o=s.slice(0,t);return this._update(n),this._reseed++,i.encode(o,e)}})),r.register("jHJd0",(function(t,e){var n=r("7ceHy"),i=r("fpVz9").assert;function s(t,e){this.ec=t,this.priv=null,this.pub=null,e.priv&&this._importPrivate(e.priv,e.privEnc),e.pub&&this._importPublic(e.pub,e.pubEnc)}t.exports=s,s.fromPublic=function(t,e,n){return e instanceof s?e:new s(t,{pub:e,pubEnc:n})},s.fromPrivate=function(t,e,n){return e instanceof s?e:new s(t,{priv:e,privEnc:n})},s.prototype.validate=function(){var t=this.getPublic();return t.isInfinity()?{result:!1,reason:"Invalid public key"}:t.validate()?t.mul(this.ec.curve.n).isInfinity()?{result:!0,reason:null}:{result:!1,reason:"Public key * N != O"}:{result:!1,reason:"Public key is not a point"}},s.prototype.getPublic=function(t,e){return"string"==typeof t&&(e=t,t=null),this.pub||(this.pub=this.ec.g.mul(this.priv)),e?this.pub.encode(e,t):this.pub},s.prototype.getPrivate=function(t){return"hex"===t?this.priv.toString(16,2):this.priv},s.prototype._importPrivate=function(t,e){this.priv=new n(t,e||16),this.priv=this.priv.umod(this.ec.curve.n)},s.prototype._importPublic=function(t,e){if(t.x||t.y)return"mont"===this.ec.curve.type?i(t.x,"Need x coordinate"):"short"!==this.ec.curve.type&&"edwards"!==this.ec.curve.type||i(t.x&&t.y,"Need both x and y coordinate"),void(this.pub=this.ec.curve.point(t.x,t.y));this.pub=this.ec.curve.decodePoint(t,e)},s.prototype.derive=function(t){return t.validate()||i(t.validate(),"public point not validated"),t.mul(this.priv).getX()},s.prototype.sign=function(t,e,n){return this.ec.sign(t,this,e,n)},s.prototype.verify=function(t,e){return this.ec.verify(t,e,this)},s.prototype.inspect=function(){return"<Key priv: "+(this.priv&&this.priv.toString(16,2))+" pub: "+(this.pub&&this.pub.inspect())+" >"}})),r.register("3Mc9q",(function(t,e){var n=r("7ceHy"),i=r("fpVz9"),s=i.assert;function o(t,e){if(t instanceof o)return t;this._importDER(t,e)||(s(t.r&&t.s,"Signature without r or s"),this.r=new n(t.r,16),this.s=new n(t.s,16),void 0===t.recoveryParam?this.recoveryParam=null:this.recoveryParam=t.recoveryParam)}function a(){this.place=0}function h(t,e){var n=t[e.place++];if(!(128&n))return n;var i=15&n;if(0===i||i>4)return!1;for(var r=0,s=0,o=e.place;s<i;s++,o++)r<<=8,r|=t[o],r>>>=0;return!(r<=127)&&(e.place=o,r)}function u(t){for(var e=0,n=t.length-1;!t[e]&&!(128&t[e+1])&&e<n;)e++;return 0===e?t:t.slice(e)}function l(t,e){if(e<128)t.push(e);else{var n=1+(Math.log(e)/Math.LN2>>>3);for(t.push(128|n);--n;)t.push(e>>>(n<<3)&255);t.push(e)}}t.exports=o,o.prototype._importDER=function(t,e){t=i.toArray(t,e);var r=new a;if(48!==t[r.place++])return!1;var s=h(t,r);if(!1===s)return!1;if(s+r.place!==t.length)return!1;if(2!==t[r.place++])return!1;var o=h(t,r);if(!1===o)return!1;var u=t.slice(r.place,o+r.place);if(r.place+=o,2!==t[r.place++])return!1;var l=h(t,r);if(!1===l)return!1;if(t.length!==l+r.place)return!1;var c=t.slice(r.place,l+r.place);if(0===u[0]){if(!(128&u[1]))return!1;u=u.slice(1)}if(0===c[0]){if(!(128&c[1]))return!1;c=c.slice(1)}return this.r=new n(u),this.s=new n(c),this.recoveryParam=null,!0},o.prototype.toDER=function(t){var e=this.r.toArray(),n=this.s.toArray();for(128&e[0]&&(e=[0].concat(e)),128&n[0]&&(n=[0].concat(n)),e=u(e),n=u(n);!(n[0]||128&n[1]);)n=n.slice(1);var r=[2];l(r,e.length),(r=r.concat(e)).push(2),l(r,n.length);var s=r.concat(n),o=[48];return l(o,s.length),o=o.concat(s),i.encode(o,t)}})),r.register("aNhbj",(function(t,e){var n=r("d8iRl"),i=r("ch9s3"),s=r("fpVz9"),o=s.assert,a=s.parseBytes,h=r("kQKNv"),u=r("ioc6i");function l(t){if(o("ed25519"===t,"only tested with ed25519 so far"),!(this instanceof l))return new l(t);t=i[t].curve,this.curve=t,this.g=t.g,this.g.precompute(t.n.bitLength()+1),this.pointClass=t.point().constructor,this.encodingLength=Math.ceil(t.n.bitLength()/8),this.hash=n.sha512}t.exports=l,l.prototype.sign=function(t,e){t=a(t);var n=this.keyFromSecret(e),i=this.hashInt(n.messagePrefix(),t),r=this.g.mul(i),s=this.encodePoint(r),o=this.hashInt(s,n.pubBytes(),t).mul(n.priv()),h=i.add(o).umod(this.curve.n);return this.makeSignature({R:r,S:h,Rencoded:s})},l.prototype.verify=function(t,e,n){t=a(t),e=this.makeSignature(e);var i=this.keyFromPublic(n),r=this.hashInt(e.Rencoded(),i.pubBytes(),t),s=this.g.mul(e.S());return e.R().add(i.pub().mul(r)).eq(s)},l.prototype.hashInt=function(){for(var t=this.hash(),e=0;e<arguments.length;e++)t.update(arguments[e]);return s.intFromLE(t.digest()).umod(this.curve.n)},l.prototype.keyFromPublic=function(t){return h.fromPublic(this,t)},l.prototype.keyFromSecret=function(t){return h.fromSecret(this,t)},l.prototype.makeSignature=function(t){return t instanceof u?t:new u(this,t)},l.prototype.encodePoint=function(t){var e=t.getY().toArray("le",this.encodingLength);return e[this.encodingLength-1]|=t.getX().isOdd()?128:0,e},l.prototype.decodePoint=function(t){var e=(t=s.parseBytes(t)).length-1,n=t.slice(0,e).concat(-129&t[e]),i=0!=(128&t[e]),r=s.intFromLE(n);return this.curve.pointFromY(r,i)},l.prototype.encodeInt=function(t){return t.toArray("le",this.encodingLength)},l.prototype.decodeInt=function(t){return s.intFromLE(t)},l.prototype.isPoint=function(t){return t instanceof this.pointClass}})),r.register("kQKNv",(function(t,e){var n=r("fpVz9"),i=n.assert,s=n.parseBytes,o=n.cachedProperty;function a(t,e){this.eddsa=t,this._secret=s(e.secret),t.isPoint(e.pub)?this._pub=e.pub:this._pubBytes=s(e.pub)}a.fromPublic=function(t,e){return e instanceof a?e:new a(t,{pub:e})},a.fromSecret=function(t,e){return e instanceof a?e:new a(t,{secret:e})},a.prototype.secret=function(){return this._secret},o(a,"pubBytes",(function(){return this.eddsa.encodePoint(this.pub())})),o(a,"pub",(function(){return this._pubBytes?this.eddsa.decodePoint(this._pubBytes):this.eddsa.g.mul(this.priv())})),o(a,"privBytes",(function(){var t=this.eddsa,e=this.hash(),n=t.encodingLength-1,i=e.slice(0,t.encodingLength);return i[0]&=248,i[n]&=127,i[n]|=64,i})),o(a,"priv",(function(){return this.eddsa.decodeInt(this.privBytes())})),o(a,"hash",(function(){return this.eddsa.hash().update(this.secret()).digest()})),o(a,"messagePrefix",(function(){return this.hash().slice(this.eddsa.encodingLength)})),a.prototype.sign=function(t){return i(this._secret,"KeyPair can only verify"),this.eddsa.sign(t,this)},a.prototype.verify=function(t,e){return this.eddsa.verify(t,e,this)},a.prototype.getSecret=function(t){return i(this._secret,"KeyPair is public only"),n.encode(this.secret(),t)},a.prototype.getPublic=function(t){return n.encode(this.pubBytes(),t)},t.exports=a})),r.register("ioc6i",(function(t,e){var n=r("7ceHy"),i=r("fpVz9"),s=i.assert,o=i.cachedProperty,a=i.parseBytes;function h(t,e){this.eddsa=t,"object"!=typeof e&&(e=a(e)),Array.isArray(e)&&(e={R:e.slice(0,t.encodingLength),S:e.slice(t.encodingLength)}),s(e.R&&e.S,"Signature without R or S"),t.isPoint(e.R)&&(this._R=e.R),e.S instanceof n&&(this._S=e.S),this._Rencoded=Array.isArray(e.R)?e.R:e.Rencoded,this._Sencoded=Array.isArray(e.S)?e.S:e.Sencoded}o(h,"S",(function(){return this.eddsa.decodeInt(this.Sencoded())})),o(h,"R",(function(){return this.eddsa.decodePoint(this.Rencoded())})),o(h,"Rencoded",(function(){return this.eddsa.encodePoint(this.R())})),o(h,"Sencoded",(function(){return this.eddsa.encodeInt(this.S())})),h.prototype.toBytes=function(){return this.Rencoded().concat(this.Sencoded())},h.prototype.toHex=function(){return i.encode(this.toBytes(),"hex").toUpperCase()},t.exports=h})),r.register("eOlL6",(function(t,e){var n=r("g78em"),i=r("4IRG5"),s=r("hg5oe"),o=r("2JnZq"),a=r("ellmV"),h=r("4OiF0").Buffer;function u(t){var e;"object"!=typeof t||h.isBuffer(t)||(e=t.passphrase,t=t.key),"string"==typeof t&&(t=h.from(t));var r,u,l=s(t,e),c=l.tag,d=l.data;switch(c){case"CERTIFICATE":u=n.certificate.decode(d,"der").tbsCertificate.subjectPublicKeyInfo;case"PUBLIC KEY":switch(u||(u=n.PublicKey.decode(d,"der")),r=u.algorithm.algorithm.join(".")){case"1.2.840.113549.1.1.1":return n.RSAPublicKey.decode(u.subjectPublicKey.data,"der");case"1.2.840.10045.2.1":return u.subjectPrivateKey=u.subjectPublicKey,{type:"ec",data:u};case"1.2.840.10040.4.1":return u.algorithm.params.pub_key=n.DSAparam.decode(u.subjectPublicKey.data,"der"),{type:"dsa",data:u.algorithm.params};default:throw new Error("unknown key id "+r)}case"ENCRYPTED PRIVATE KEY":d=function(t,e){var n=t.algorithm.decrypt.kde.kdeparams.salt,r=parseInt(t.algorithm.decrypt.kde.kdeparams.iters.toString(),10),s=i[t.algorithm.decrypt.cipher.algo.join(".")],u=t.algorithm.decrypt.cipher.iv,l=t.subjectPrivateKey,c=parseInt(s.split("-")[1],10)/8,d=a.pbkdf2Sync(e,n,r,c,"sha1"),f=o.createDecipheriv(s,d,u),p=[];return p.push(f.update(l)),p.push(f.final()),h.concat(p)}(d=n.EncryptedPrivateKey.decode(d,"der"),e);case"PRIVATE KEY":switch(r=(u=n.PrivateKey.decode(d,"der")).algorithm.algorithm.join(".")){case"1.2.840.113549.1.1.1":return n.RSAPrivateKey.decode(u.subjectPrivateKey,"der");case"1.2.840.10045.2.1":return{curve:u.algorithm.curve,privateKey:n.ECPrivateKey.decode(u.subjectPrivateKey,"der").privateKey};case"1.2.840.10040.4.1":return u.algorithm.params.priv_key=n.DSAparam.decode(u.subjectPrivateKey,"der"),{type:"dsa",params:u.algorithm.params};default:throw new Error("unknown key id "+r)}case"RSA PUBLIC KEY":return n.RSAPublicKey.decode(d,"der");case"RSA PRIVATE KEY":return n.RSAPrivateKey.decode(d,"der");case"DSA PRIVATE KEY":return{type:"dsa",params:n.DSAPrivateKey.decode(d,"der")};case"EC PRIVATE KEY":return{curve:(d=n.ECPrivateKey.decode(d,"der")).parameters.value,privateKey:d.privateKey};default:throw new Error("unknown key type "+c)}}t.exports=u,u.signature=n.signature})),r.register("g78em",(function(e,n){var i,s,o,a,h,u,l,c,d,f;t(e.exports,"certificate",(()=>i),(t=>i=t)),t(e.exports,"RSAPrivateKey",(()=>s),(t=>s=t)),t(e.exports,"RSAPublicKey",(()=>o),(t=>o=t)),t(e.exports,"PublicKey",(()=>a),(t=>a=t)),t(e.exports,"PrivateKey",(()=>h),(t=>h=t)),t(e.exports,"EncryptedPrivateKey",(()=>u),(t=>u=t)),t(e.exports,"DSAPrivateKey",(()=>l),(t=>l=t)),t(e.exports,"DSAparam",(()=>c),(t=>c=t)),t(e.exports,"ECPrivateKey",(()=>d),(t=>d=t)),t(e.exports,"signature",(()=>f),(t=>f=t));var p=r("1auoC");i=r("ged9F");var m=p.define("RSAPrivateKey",(function(){this.seq().obj(this.key("version").int(),this.key("modulus").int(),this.key("publicExponent").int(),this.key("privateExponent").int(),this.key("prime1").int(),this.key("prime2").int(),this.key("exponent1").int(),this.key("exponent2").int(),this.key("coefficient").int())}));s=m;var g=p.define("RSAPublicKey",(function(){this.seq().obj(this.key("modulus").int(),this.key("publicExponent").int())}));o=g;var v=p.define("SubjectPublicKeyInfo",(function(){this.seq().obj(this.key("algorithm").use(y),this.key("subjectPublicKey").bitstr())}));a=v;var y=p.define("AlgorithmIdentifier",(function(){this.seq().obj(this.key("algorithm").objid(),this.key("none").null_().optional(),this.key("curve").objid().optional(),this.key("params").seq().obj(this.key("p").int(),this.key("q").int(),this.key("g").int()).optional())})),b=p.define("PrivateKeyInfo",(function(){this.seq().obj(this.key("version").int(),this.key("algorithm").use(y),this.key("subjectPrivateKey").octstr())}));h=b;var w=p.define("EncryptedPrivateKeyInfo",(function(){this.seq().obj(this.key("algorithm").seq().obj(this.key("id").objid(),this.key("decrypt").seq().obj(this.key("kde").seq().obj(this.key("id").objid(),this.key("kdeparams").seq().obj(this.key("salt").octstr(),this.key("iters").int())),this.key("cipher").seq().obj(this.key("algo").objid(),this.key("iv").octstr()))),this.key("subjectPrivateKey").octstr())}));u=w;var _=p.define("DSAPrivateKey",(function(){this.seq().obj(this.key("version").int(),this.key("p").int(),this.key("q").int(),this.key("g").int(),this.key("pub_key").int(),this.key("priv_key").int())}));l=_,c=p.define("DSAparam",(function(){this.int()}));var M=p.define("ECPrivateKey",(function(){this.seq().obj(this.key("version").int(),this.key("privateKey").octstr(),this.key("parameters").optional().explicit(0).use(k),this.key("publicKey").optional().explicit(1).bitstr())}));d=M;var k=p.define("ECParameters",(function(){this.choice({namedCurve:this.objid()})}));f=p.define("signature",(function(){this.seq().obj(this.key("r").int(),this.key("s").int())}))})),r.register("1auoC",(function(t,e){const n=t.exports;n.bignum=r("jwZLX"),n.define=r("aslIH").define,n.base=r("gi7zr"),n.constants=r("4Sey6"),n.decoders=r("8KdoP"),n.encoders=r("aaDqI")})),r.register("jwZLX",(function(t,e){!function(t,e){function n(t,e){if(!t)throw new Error(e||"Assertion failed")}function i(t,e){t.super_=e;var n=function(){};n.prototype=e.prototype,t.prototype=new n,t.prototype.constructor=t}function s(t,e,n){if(s.isBN(t))return t;this.negative=0,this.words=null,this.length=0,this.red=null,null!==t&&("le"!==e&&"be"!==e||(n=e,e=10),this._init(t||0,e||10,n||"be"))}var o;"object"==typeof t?t.exports=s:e.BN=s,s.BN=s,s.wordSize=26;try{o="undefined"!=typeof window&&void 0!==window.Buffer?window.Buffer:r("66yC2").Buffer}catch(t){}function a(t,e){var n=t.charCodeAt(e);return n>=65&&n<=70?n-55:n>=97&&n<=102?n-87:n-48&15}function h(t,e,n){var i=a(t,n);return n-1>=e&&(i|=a(t,n-1)<<4),i}function u(t,e,n,i){for(var r=0,s=Math.min(t.length,n),o=e;o<s;o++){var a=t.charCodeAt(o)-48;r*=i,r+=a>=49?a-49+10:a>=17?a-17+10:a}return r}s.isBN=function(t){return t instanceof s||null!==t&&"object"==typeof t&&t.constructor.wordSize===s.wordSize&&Array.isArray(t.words)},s.max=function(t,e){return t.cmp(e)>0?t:e},s.min=function(t,e){return t.cmp(e)<0?t:e},s.prototype._init=function(t,e,i){if("number"==typeof t)return this._initNumber(t,e,i);if("object"==typeof t)return this._initArray(t,e,i);"hex"===e&&(e=16),n(e===(0|e)&&e>=2&&e<=36);var r=0;"-"===(t=t.toString().replace(/\s+/g,""))[0]&&(r++,this.negative=1),r<t.length&&(16===e?this._parseHex(t,r,i):(this._parseBase(t,e,r),"le"===i&&this._initArray(this.toArray(),e,i)))},s.prototype._initNumber=function(t,e,i){t<0&&(this.negative=1,t=-t),t<67108864?(this.words=[67108863&t],this.length=1):t<4503599627370496?(this.words=[67108863&t,t/67108864&67108863],this.length=2):(n(t<9007199254740992),this.words=[67108863&t,t/67108864&67108863,1],this.length=3),"le"===i&&this._initArray(this.toArray(),e,i)},s.prototype._initArray=function(t,e,i){if(n("number"==typeof t.length),t.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(t.length/3),this.words=new Array(this.length);for(var r=0;r<this.length;r++)this.words[r]=0;var s,o,a=0;if("be"===i)for(r=t.length-1,s=0;r>=0;r-=3)o=t[r]|t[r-1]<<8|t[r-2]<<16,this.words[s]|=o<<a&67108863,this.words[s+1]=o>>>26-a&67108863,(a+=24)>=26&&(a-=26,s++);else if("le"===i)for(r=0,s=0;r<t.length;r+=3)o=t[r]|t[r+1]<<8|t[r+2]<<16,this.words[s]|=o<<a&67108863,this.words[s+1]=o>>>26-a&67108863,(a+=24)>=26&&(a-=26,s++);return this.strip()},s.prototype._parseHex=function(t,e,n){this.length=Math.ceil((t.length-e)/6),this.words=new Array(this.length);for(var i=0;i<this.length;i++)this.words[i]=0;var r,s=0,o=0;if("be"===n)for(i=t.length-1;i>=e;i-=2)r=h(t,e,i)<<s,this.words[o]|=67108863&r,s>=18?(s-=18,o+=1,this.words[o]|=r>>>26):s+=8;else for(i=(t.length-e)%2==0?e+1:e;i<t.length;i+=2)r=h(t,e,i)<<s,this.words[o]|=67108863&r,s>=18?(s-=18,o+=1,this.words[o]|=r>>>26):s+=8;this.strip()},s.prototype._parseBase=function(t,e,n){this.words=[0],this.length=1;for(var i=0,r=1;r<=67108863;r*=e)i++;i--,r=r/e|0;for(var s=t.length-n,o=s%i,a=Math.min(s,s-o)+n,h=0,l=n;l<a;l+=i)h=u(t,l,l+i,e),this.imuln(r),this.words[0]+h<67108864?this.words[0]+=h:this._iaddn(h);if(0!==o){var c=1;for(h=u(t,l,t.length,e),l=0;l<o;l++)c*=e;this.imuln(c),this.words[0]+h<67108864?this.words[0]+=h:this._iaddn(h)}this.strip()},s.prototype.copy=function(t){t.words=new Array(this.length);for(var e=0;e<this.length;e++)t.words[e]=this.words[e];t.length=this.length,t.negative=this.negative,t.red=this.red},s.prototype.clone=function(){var t=new s(null);return this.copy(t),t},s.prototype._expand=function(t){for(;this.length<t;)this.words[this.length++]=0;return this},s.prototype.strip=function(){for(;this.length>1&&0===this.words[this.length-1];)this.length--;return this._normSign()},s.prototype._normSign=function(){return 1===this.length&&0===this.words[0]&&(this.negative=0),this},s.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var l=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],c=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],d=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];function f(t,e,n){n.negative=e.negative^t.negative;var i=t.length+e.length|0;n.length=i,i=i-1|0;var r=0|t.words[0],s=0|e.words[0],o=r*s,a=67108863&o,h=o/67108864|0;n.words[0]=a;for(var u=1;u<i;u++){for(var l=h>>>26,c=67108863&h,d=Math.min(u,e.length-1),f=Math.max(0,u-t.length+1);f<=d;f++){var p=u-f|0;l+=(o=(r=0|t.words[p])*(s=0|e.words[f])+c)/67108864|0,c=67108863&o}n.words[u]=0|c,h=0|l}return 0!==h?n.words[u]=0|h:n.length--,n.strip()}s.prototype.toString=function(t,e){var i;if(e=0|e||1,16===(t=t||10)||"hex"===t){i="";for(var r=0,s=0,o=0;o<this.length;o++){var a=this.words[o],h=(16777215&(a<<r|s)).toString(16);i=0!==(s=a>>>24-r&16777215)||o!==this.length-1?l[6-h.length]+h+i:h+i,(r+=2)>=26&&(r-=26,o--)}for(0!==s&&(i=s.toString(16)+i);i.length%e!=0;)i="0"+i;return 0!==this.negative&&(i="-"+i),i}if(t===(0|t)&&t>=2&&t<=36){var u=c[t],f=d[t];i="";var p=this.clone();for(p.negative=0;!p.isZero();){var m=p.modn(f).toString(t);i=(p=p.idivn(f)).isZero()?m+i:l[u-m.length]+m+i}for(this.isZero()&&(i="0"+i);i.length%e!=0;)i="0"+i;return 0!==this.negative&&(i="-"+i),i}n(!1,"Base should be between 2 and 36")},s.prototype.toNumber=function(){var t=this.words[0];return 2===this.length?t+=67108864*this.words[1]:3===this.length&&1===this.words[2]?t+=4503599627370496+67108864*this.words[1]:this.length>2&&n(!1,"Number can only safely store up to 53 bits"),0!==this.negative?-t:t},s.prototype.toJSON=function(){return this.toString(16)},s.prototype.toBuffer=function(t,e){return n(void 0!==o),this.toArrayLike(o,t,e)},s.prototype.toArray=function(t,e){return this.toArrayLike(Array,t,e)},s.prototype.toArrayLike=function(t,e,i){var r=this.byteLength(),s=i||Math.max(1,r);n(r<=s,"byte array longer than desired length"),n(s>0,"Requested array length <= 0"),this.strip();var o,a,h="le"===e,u=new t(s),l=this.clone();if(h){for(a=0;!l.isZero();a++)o=l.andln(255),l.iushrn(8),u[a]=o;for(;a<s;a++)u[a]=0}else{for(a=0;a<s-r;a++)u[a]=0;for(a=0;!l.isZero();a++)o=l.andln(255),l.iushrn(8),u[s-a-1]=o}return u},Math.clz32?s.prototype._countBits=function(t){return 32-Math.clz32(t)}:s.prototype._countBits=function(t){var e=t,n=0;return e>=4096&&(n+=13,e>>>=13),e>=64&&(n+=7,e>>>=7),e>=8&&(n+=4,e>>>=4),e>=2&&(n+=2,e>>>=2),n+e},s.prototype._zeroBits=function(t){if(0===t)return 26;var e=t,n=0;return 0==(8191&e)&&(n+=13,e>>>=13),0==(127&e)&&(n+=7,e>>>=7),0==(15&e)&&(n+=4,e>>>=4),0==(3&e)&&(n+=2,e>>>=2),0==(1&e)&&n++,n},s.prototype.bitLength=function(){var t=this.words[this.length-1],e=this._countBits(t);return 26*(this.length-1)+e},s.prototype.zeroBits=function(){if(this.isZero())return 0;for(var t=0,e=0;e<this.length;e++){var n=this._zeroBits(this.words[e]);if(t+=n,26!==n)break}return t},s.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},s.prototype.toTwos=function(t){return 0!==this.negative?this.abs().inotn(t).iaddn(1):this.clone()},s.prototype.fromTwos=function(t){return this.testn(t-1)?this.notn(t).iaddn(1).ineg():this.clone()},s.prototype.isNeg=function(){return 0!==this.negative},s.prototype.neg=function(){return this.clone().ineg()},s.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},s.prototype.iuor=function(t){for(;this.length<t.length;)this.words[this.length++]=0;for(var e=0;e<t.length;e++)this.words[e]=this.words[e]|t.words[e];return this.strip()},s.prototype.ior=function(t){return n(0==(this.negative|t.negative)),this.iuor(t)},s.prototype.or=function(t){return this.length>t.length?this.clone().ior(t):t.clone().ior(this)},s.prototype.uor=function(t){return this.length>t.length?this.clone().iuor(t):t.clone().iuor(this)},s.prototype.iuand=function(t){var e;e=this.length>t.length?t:this;for(var n=0;n<e.length;n++)this.words[n]=this.words[n]&t.words[n];return this.length=e.length,this.strip()},s.prototype.iand=function(t){return n(0==(this.negative|t.negative)),this.iuand(t)},s.prototype.and=function(t){return this.length>t.length?this.clone().iand(t):t.clone().iand(this)},s.prototype.uand=function(t){return this.length>t.length?this.clone().iuand(t):t.clone().iuand(this)},s.prototype.iuxor=function(t){var e,n;this.length>t.length?(e=this,n=t):(e=t,n=this);for(var i=0;i<n.length;i++)this.words[i]=e.words[i]^n.words[i];if(this!==e)for(;i<e.length;i++)this.words[i]=e.words[i];return this.length=e.length,this.strip()},s.prototype.ixor=function(t){return n(0==(this.negative|t.negative)),this.iuxor(t)},s.prototype.xor=function(t){return this.length>t.length?this.clone().ixor(t):t.clone().ixor(this)},s.prototype.uxor=function(t){return this.length>t.length?this.clone().iuxor(t):t.clone().iuxor(this)},s.prototype.inotn=function(t){n("number"==typeof t&&t>=0);var e=0|Math.ceil(t/26),i=t%26;this._expand(e),i>0&&e--;for(var r=0;r<e;r++)this.words[r]=67108863&~this.words[r];return i>0&&(this.words[r]=~this.words[r]&67108863>>26-i),this.strip()},s.prototype.notn=function(t){return this.clone().inotn(t)},s.prototype.setn=function(t,e){n("number"==typeof t&&t>=0);var i=t/26|0,r=t%26;return this._expand(i+1),this.words[i]=e?this.words[i]|1<<r:this.words[i]&~(1<<r),this.strip()},s.prototype.iadd=function(t){var e,n,i;if(0!==this.negative&&0===t.negative)return this.negative=0,e=this.isub(t),this.negative^=1,this._normSign();if(0===this.negative&&0!==t.negative)return t.negative=0,e=this.isub(t),t.negative=1,e._normSign();this.length>t.length?(n=this,i=t):(n=t,i=this);for(var r=0,s=0;s<i.length;s++)e=(0|n.words[s])+(0|i.words[s])+r,this.words[s]=67108863&e,r=e>>>26;for(;0!==r&&s<n.length;s++)e=(0|n.words[s])+r,this.words[s]=67108863&e,r=e>>>26;if(this.length=n.length,0!==r)this.words[this.length]=r,this.length++;else if(n!==this)for(;s<n.length;s++)this.words[s]=n.words[s];return this},s.prototype.add=function(t){var e;return 0!==t.negative&&0===this.negative?(t.negative=0,e=this.sub(t),t.negative^=1,e):0===t.negative&&0!==this.negative?(this.negative=0,e=t.sub(this),this.negative=1,e):this.length>t.length?this.clone().iadd(t):t.clone().iadd(this)},s.prototype.isub=function(t){if(0!==t.negative){t.negative=0;var e=this.iadd(t);return t.negative=1,e._normSign()}if(0!==this.negative)return this.negative=0,this.iadd(t),this.negative=1,this._normSign();var n,i,r=this.cmp(t);if(0===r)return this.negative=0,this.length=1,this.words[0]=0,this;r>0?(n=this,i=t):(n=t,i=this);for(var s=0,o=0;o<i.length;o++)s=(e=(0|n.words[o])-(0|i.words[o])+s)>>26,this.words[o]=67108863&e;for(;0!==s&&o<n.length;o++)s=(e=(0|n.words[o])+s)>>26,this.words[o]=67108863&e;if(0===s&&o<n.length&&n!==this)for(;o<n.length;o++)this.words[o]=n.words[o];return this.length=Math.max(this.length,o),n!==this&&(this.negative=1),this.strip()},s.prototype.sub=function(t){return this.clone().isub(t)};var p=function(t,e,n){var i,r,s,o=t.words,a=e.words,h=n.words,u=0,l=0|o[0],c=8191&l,d=l>>>13,f=0|o[1],p=8191&f,m=f>>>13,g=0|o[2],v=8191&g,y=g>>>13,b=0|o[3],w=8191&b,_=b>>>13,M=0|o[4],k=8191&M,A=M>>>13,E=0|o[5],x=8191&E,S=E>>>13,T=0|o[6],I=8191&T,R=T>>>13,C=0|o[7],q=8191&C,N=C>>>13,L=0|o[8],D=8191&L,O=L>>>13,B=0|o[9],P=8191&B,U=B>>>13,F=0|a[0],j=8191&F,z=F>>>13,V=0|a[1],H=8191&V,K=V>>>13,W=0|a[2],G=8191&W,$=W>>>13,Q=0|a[3],X=8191&Q,Z=Q>>>13,Y=0|a[4],J=8191&Y,tt=Y>>>13,et=0|a[5],nt=8191&et,it=et>>>13,rt=0|a[6],st=8191&rt,ot=rt>>>13,at=0|a[7],ht=8191&at,ut=at>>>13,lt=0|a[8],ct=8191&lt,dt=lt>>>13,ft=0|a[9],pt=8191&ft,mt=ft>>>13;n.negative=t.negative^e.negative,n.length=19;var gt=(u+(i=Math.imul(c,j))|0)+((8191&(r=(r=Math.imul(c,z))+Math.imul(d,j)|0))<<13)|0;u=((s=Math.imul(d,z))+(r>>>13)|0)+(gt>>>26)|0,gt&=67108863,i=Math.imul(p,j),r=(r=Math.imul(p,z))+Math.imul(m,j)|0,s=Math.imul(m,z);var vt=(u+(i=i+Math.imul(c,H)|0)|0)+((8191&(r=(r=r+Math.imul(c,K)|0)+Math.imul(d,H)|0))<<13)|0;u=((s=s+Math.imul(d,K)|0)+(r>>>13)|0)+(vt>>>26)|0,vt&=67108863,i=Math.imul(v,j),r=(r=Math.imul(v,z))+Math.imul(y,j)|0,s=Math.imul(y,z),i=i+Math.imul(p,H)|0,r=(r=r+Math.imul(p,K)|0)+Math.imul(m,H)|0,s=s+Math.imul(m,K)|0;var yt=(u+(i=i+Math.imul(c,G)|0)|0)+((8191&(r=(r=r+Math.imul(c,$)|0)+Math.imul(d,G)|0))<<13)|0;u=((s=s+Math.imul(d,$)|0)+(r>>>13)|0)+(yt>>>26)|0,yt&=67108863,i=Math.imul(w,j),r=(r=Math.imul(w,z))+Math.imul(_,j)|0,s=Math.imul(_,z),i=i+Math.imul(v,H)|0,r=(r=r+Math.imul(v,K)|0)+Math.imul(y,H)|0,s=s+Math.imul(y,K)|0,i=i+Math.imul(p,G)|0,r=(r=r+Math.imul(p,$)|0)+Math.imul(m,G)|0,s=s+Math.imul(m,$)|0;var bt=(u+(i=i+Math.imul(c,X)|0)|0)+((8191&(r=(r=r+Math.imul(c,Z)|0)+Math.imul(d,X)|0))<<13)|0;u=((s=s+Math.imul(d,Z)|0)+(r>>>13)|0)+(bt>>>26)|0,bt&=67108863,i=Math.imul(k,j),r=(r=Math.imul(k,z))+Math.imul(A,j)|0,s=Math.imul(A,z),i=i+Math.imul(w,H)|0,r=(r=r+Math.imul(w,K)|0)+Math.imul(_,H)|0,s=s+Math.imul(_,K)|0,i=i+Math.imul(v,G)|0,r=(r=r+Math.imul(v,$)|0)+Math.imul(y,G)|0,s=s+Math.imul(y,$)|0,i=i+Math.imul(p,X)|0,r=(r=r+Math.imul(p,Z)|0)+Math.imul(m,X)|0,s=s+Math.imul(m,Z)|0;var wt=(u+(i=i+Math.imul(c,J)|0)|0)+((8191&(r=(r=r+Math.imul(c,tt)|0)+Math.imul(d,J)|0))<<13)|0;u=((s=s+Math.imul(d,tt)|0)+(r>>>13)|0)+(wt>>>26)|0,wt&=67108863,i=Math.imul(x,j),r=(r=Math.imul(x,z))+Math.imul(S,j)|0,s=Math.imul(S,z),i=i+Math.imul(k,H)|0,r=(r=r+Math.imul(k,K)|0)+Math.imul(A,H)|0,s=s+Math.imul(A,K)|0,i=i+Math.imul(w,G)|0,r=(r=r+Math.imul(w,$)|0)+Math.imul(_,G)|0,s=s+Math.imul(_,$)|0,i=i+Math.imul(v,X)|0,r=(r=r+Math.imul(v,Z)|0)+Math.imul(y,X)|0,s=s+Math.imul(y,Z)|0,i=i+Math.imul(p,J)|0,r=(r=r+Math.imul(p,tt)|0)+Math.imul(m,J)|0,s=s+Math.imul(m,tt)|0;var _t=(u+(i=i+Math.imul(c,nt)|0)|0)+((8191&(r=(r=r+Math.imul(c,it)|0)+Math.imul(d,nt)|0))<<13)|0;u=((s=s+Math.imul(d,it)|0)+(r>>>13)|0)+(_t>>>26)|0,_t&=67108863,i=Math.imul(I,j),r=(r=Math.imul(I,z))+Math.imul(R,j)|0,s=Math.imul(R,z),i=i+Math.imul(x,H)|0,r=(r=r+Math.imul(x,K)|0)+Math.imul(S,H)|0,s=s+Math.imul(S,K)|0,i=i+Math.imul(k,G)|0,r=(r=r+Math.imul(k,$)|0)+Math.imul(A,G)|0,s=s+Math.imul(A,$)|0,i=i+Math.imul(w,X)|0,r=(r=r+Math.imul(w,Z)|0)+Math.imul(_,X)|0,s=s+Math.imul(_,Z)|0,i=i+Math.imul(v,J)|0,r=(r=r+Math.imul(v,tt)|0)+Math.imul(y,J)|0,s=s+Math.imul(y,tt)|0,i=i+Math.imul(p,nt)|0,r=(r=r+Math.imul(p,it)|0)+Math.imul(m,nt)|0,s=s+Math.imul(m,it)|0;var Mt=(u+(i=i+Math.imul(c,st)|0)|0)+((8191&(r=(r=r+Math.imul(c,ot)|0)+Math.imul(d,st)|0))<<13)|0;u=((s=s+Math.imul(d,ot)|0)+(r>>>13)|0)+(Mt>>>26)|0,Mt&=67108863,i=Math.imul(q,j),r=(r=Math.imul(q,z))+Math.imul(N,j)|0,s=Math.imul(N,z),i=i+Math.imul(I,H)|0,r=(r=r+Math.imul(I,K)|0)+Math.imul(R,H)|0,s=s+Math.imul(R,K)|0,i=i+Math.imul(x,G)|0,r=(r=r+Math.imul(x,$)|0)+Math.imul(S,G)|0,s=s+Math.imul(S,$)|0,i=i+Math.imul(k,X)|0,r=(r=r+Math.imul(k,Z)|0)+Math.imul(A,X)|0,s=s+Math.imul(A,Z)|0,i=i+Math.imul(w,J)|0,r=(r=r+Math.imul(w,tt)|0)+Math.imul(_,J)|0,s=s+Math.imul(_,tt)|0,i=i+Math.imul(v,nt)|0,r=(r=r+Math.imul(v,it)|0)+Math.imul(y,nt)|0,s=s+Math.imul(y,it)|0,i=i+Math.imul(p,st)|0,r=(r=r+Math.imul(p,ot)|0)+Math.imul(m,st)|0,s=s+Math.imul(m,ot)|0;var kt=(u+(i=i+Math.imul(c,ht)|0)|0)+((8191&(r=(r=r+Math.imul(c,ut)|0)+Math.imul(d,ht)|0))<<13)|0;u=((s=s+Math.imul(d,ut)|0)+(r>>>13)|0)+(kt>>>26)|0,kt&=67108863,i=Math.imul(D,j),r=(r=Math.imul(D,z))+Math.imul(O,j)|0,s=Math.imul(O,z),i=i+Math.imul(q,H)|0,r=(r=r+Math.imul(q,K)|0)+Math.imul(N,H)|0,s=s+Math.imul(N,K)|0,i=i+Math.imul(I,G)|0,r=(r=r+Math.imul(I,$)|0)+Math.imul(R,G)|0,s=s+Math.imul(R,$)|0,i=i+Math.imul(x,X)|0,r=(r=r+Math.imul(x,Z)|0)+Math.imul(S,X)|0,s=s+Math.imul(S,Z)|0,i=i+Math.imul(k,J)|0,r=(r=r+Math.imul(k,tt)|0)+Math.imul(A,J)|0,s=s+Math.imul(A,tt)|0,i=i+Math.imul(w,nt)|0,r=(r=r+Math.imul(w,it)|0)+Math.imul(_,nt)|0,s=s+Math.imul(_,it)|0,i=i+Math.imul(v,st)|0,r=(r=r+Math.imul(v,ot)|0)+Math.imul(y,st)|0,s=s+Math.imul(y,ot)|0,i=i+Math.imul(p,ht)|0,r=(r=r+Math.imul(p,ut)|0)+Math.imul(m,ht)|0,s=s+Math.imul(m,ut)|0;var At=(u+(i=i+Math.imul(c,ct)|0)|0)+((8191&(r=(r=r+Math.imul(c,dt)|0)+Math.imul(d,ct)|0))<<13)|0;u=((s=s+Math.imul(d,dt)|0)+(r>>>13)|0)+(At>>>26)|0,At&=67108863,i=Math.imul(P,j),r=(r=Math.imul(P,z))+Math.imul(U,j)|0,s=Math.imul(U,z),i=i+Math.imul(D,H)|0,r=(r=r+Math.imul(D,K)|0)+Math.imul(O,H)|0,s=s+Math.imul(O,K)|0,i=i+Math.imul(q,G)|0,r=(r=r+Math.imul(q,$)|0)+Math.imul(N,G)|0,s=s+Math.imul(N,$)|0,i=i+Math.imul(I,X)|0,r=(r=r+Math.imul(I,Z)|0)+Math.imul(R,X)|0,s=s+Math.imul(R,Z)|0,i=i+Math.imul(x,J)|0,r=(r=r+Math.imul(x,tt)|0)+Math.imul(S,J)|0,s=s+Math.imul(S,tt)|0,i=i+Math.imul(k,nt)|0,r=(r=r+Math.imul(k,it)|0)+Math.imul(A,nt)|0,s=s+Math.imul(A,it)|0,i=i+Math.imul(w,st)|0,r=(r=r+Math.imul(w,ot)|0)+Math.imul(_,st)|0,s=s+Math.imul(_,ot)|0,i=i+Math.imul(v,ht)|0,r=(r=r+Math.imul(v,ut)|0)+Math.imul(y,ht)|0,s=s+Math.imul(y,ut)|0,i=i+Math.imul(p,ct)|0,r=(r=r+Math.imul(p,dt)|0)+Math.imul(m,ct)|0,s=s+Math.imul(m,dt)|0;var Et=(u+(i=i+Math.imul(c,pt)|0)|0)+((8191&(r=(r=r+Math.imul(c,mt)|0)+Math.imul(d,pt)|0))<<13)|0;u=((s=s+Math.imul(d,mt)|0)+(r>>>13)|0)+(Et>>>26)|0,Et&=67108863,i=Math.imul(P,H),r=(r=Math.imul(P,K))+Math.imul(U,H)|0,s=Math.imul(U,K),i=i+Math.imul(D,G)|0,r=(r=r+Math.imul(D,$)|0)+Math.imul(O,G)|0,s=s+Math.imul(O,$)|0,i=i+Math.imul(q,X)|0,r=(r=r+Math.imul(q,Z)|0)+Math.imul(N,X)|0,s=s+Math.imul(N,Z)|0,i=i+Math.imul(I,J)|0,r=(r=r+Math.imul(I,tt)|0)+Math.imul(R,J)|0,s=s+Math.imul(R,tt)|0,i=i+Math.imul(x,nt)|0,r=(r=r+Math.imul(x,it)|0)+Math.imul(S,nt)|0,s=s+Math.imul(S,it)|0,i=i+Math.imul(k,st)|0,r=(r=r+Math.imul(k,ot)|0)+Math.imul(A,st)|0,s=s+Math.imul(A,ot)|0,i=i+Math.imul(w,ht)|0,r=(r=r+Math.imul(w,ut)|0)+Math.imul(_,ht)|0,s=s+Math.imul(_,ut)|0,i=i+Math.imul(v,ct)|0,r=(r=r+Math.imul(v,dt)|0)+Math.imul(y,ct)|0,s=s+Math.imul(y,dt)|0;var xt=(u+(i=i+Math.imul(p,pt)|0)|0)+((8191&(r=(r=r+Math.imul(p,mt)|0)+Math.imul(m,pt)|0))<<13)|0;u=((s=s+Math.imul(m,mt)|0)+(r>>>13)|0)+(xt>>>26)|0,xt&=67108863,i=Math.imul(P,G),r=(r=Math.imul(P,$))+Math.imul(U,G)|0,s=Math.imul(U,$),i=i+Math.imul(D,X)|0,r=(r=r+Math.imul(D,Z)|0)+Math.imul(O,X)|0,s=s+Math.imul(O,Z)|0,i=i+Math.imul(q,J)|0,r=(r=r+Math.imul(q,tt)|0)+Math.imul(N,J)|0,s=s+Math.imul(N,tt)|0,i=i+Math.imul(I,nt)|0,r=(r=r+Math.imul(I,it)|0)+Math.imul(R,nt)|0,s=s+Math.imul(R,it)|0,i=i+Math.imul(x,st)|0,r=(r=r+Math.imul(x,ot)|0)+Math.imul(S,st)|0,s=s+Math.imul(S,ot)|0,i=i+Math.imul(k,ht)|0,r=(r=r+Math.imul(k,ut)|0)+Math.imul(A,ht)|0,s=s+Math.imul(A,ut)|0,i=i+Math.imul(w,ct)|0,r=(r=r+Math.imul(w,dt)|0)+Math.imul(_,ct)|0,s=s+Math.imul(_,dt)|0;var St=(u+(i=i+Math.imul(v,pt)|0)|0)+((8191&(r=(r=r+Math.imul(v,mt)|0)+Math.imul(y,pt)|0))<<13)|0;u=((s=s+Math.imul(y,mt)|0)+(r>>>13)|0)+(St>>>26)|0,St&=67108863,i=Math.imul(P,X),r=(r=Math.imul(P,Z))+Math.imul(U,X)|0,s=Math.imul(U,Z),i=i+Math.imul(D,J)|0,r=(r=r+Math.imul(D,tt)|0)+Math.imul(O,J)|0,s=s+Math.imul(O,tt)|0,i=i+Math.imul(q,nt)|0,r=(r=r+Math.imul(q,it)|0)+Math.imul(N,nt)|0,s=s+Math.imul(N,it)|0,i=i+Math.imul(I,st)|0,r=(r=r+Math.imul(I,ot)|0)+Math.imul(R,st)|0,s=s+Math.imul(R,ot)|0,i=i+Math.imul(x,ht)|0,r=(r=r+Math.imul(x,ut)|0)+Math.imul(S,ht)|0,s=s+Math.imul(S,ut)|0,i=i+Math.imul(k,ct)|0,r=(r=r+Math.imul(k,dt)|0)+Math.imul(A,ct)|0,s=s+Math.imul(A,dt)|0;var Tt=(u+(i=i+Math.imul(w,pt)|0)|0)+((8191&(r=(r=r+Math.imul(w,mt)|0)+Math.imul(_,pt)|0))<<13)|0;u=((s=s+Math.imul(_,mt)|0)+(r>>>13)|0)+(Tt>>>26)|0,Tt&=67108863,i=Math.imul(P,J),r=(r=Math.imul(P,tt))+Math.imul(U,J)|0,s=Math.imul(U,tt),i=i+Math.imul(D,nt)|0,r=(r=r+Math.imul(D,it)|0)+Math.imul(O,nt)|0,s=s+Math.imul(O,it)|0,i=i+Math.imul(q,st)|0,r=(r=r+Math.imul(q,ot)|0)+Math.imul(N,st)|0,s=s+Math.imul(N,ot)|0,i=i+Math.imul(I,ht)|0,r=(r=r+Math.imul(I,ut)|0)+Math.imul(R,ht)|0,s=s+Math.imul(R,ut)|0,i=i+Math.imul(x,ct)|0,r=(r=r+Math.imul(x,dt)|0)+Math.imul(S,ct)|0,s=s+Math.imul(S,dt)|0;var It=(u+(i=i+Math.imul(k,pt)|0)|0)+((8191&(r=(r=r+Math.imul(k,mt)|0)+Math.imul(A,pt)|0))<<13)|0;u=((s=s+Math.imul(A,mt)|0)+(r>>>13)|0)+(It>>>26)|0,It&=67108863,i=Math.imul(P,nt),r=(r=Math.imul(P,it))+Math.imul(U,nt)|0,s=Math.imul(U,it),i=i+Math.imul(D,st)|0,r=(r=r+Math.imul(D,ot)|0)+Math.imul(O,st)|0,s=s+Math.imul(O,ot)|0,i=i+Math.imul(q,ht)|0,r=(r=r+Math.imul(q,ut)|0)+Math.imul(N,ht)|0,s=s+Math.imul(N,ut)|0,i=i+Math.imul(I,ct)|0,r=(r=r+Math.imul(I,dt)|0)+Math.imul(R,ct)|0,s=s+Math.imul(R,dt)|0;var Rt=(u+(i=i+Math.imul(x,pt)|0)|0)+((8191&(r=(r=r+Math.imul(x,mt)|0)+Math.imul(S,pt)|0))<<13)|0;u=((s=s+Math.imul(S,mt)|0)+(r>>>13)|0)+(Rt>>>26)|0,Rt&=67108863,i=Math.imul(P,st),r=(r=Math.imul(P,ot))+Math.imul(U,st)|0,s=Math.imul(U,ot),i=i+Math.imul(D,ht)|0,r=(r=r+Math.imul(D,ut)|0)+Math.imul(O,ht)|0,s=s+Math.imul(O,ut)|0,i=i+Math.imul(q,ct)|0,r=(r=r+Math.imul(q,dt)|0)+Math.imul(N,ct)|0,s=s+Math.imul(N,dt)|0;var Ct=(u+(i=i+Math.imul(I,pt)|0)|0)+((8191&(r=(r=r+Math.imul(I,mt)|0)+Math.imul(R,pt)|0))<<13)|0;u=((s=s+Math.imul(R,mt)|0)+(r>>>13)|0)+(Ct>>>26)|0,Ct&=67108863,i=Math.imul(P,ht),r=(r=Math.imul(P,ut))+Math.imul(U,ht)|0,s=Math.imul(U,ut),i=i+Math.imul(D,ct)|0,r=(r=r+Math.imul(D,dt)|0)+Math.imul(O,ct)|0,s=s+Math.imul(O,dt)|0;var qt=(u+(i=i+Math.imul(q,pt)|0)|0)+((8191&(r=(r=r+Math.imul(q,mt)|0)+Math.imul(N,pt)|0))<<13)|0;u=((s=s+Math.imul(N,mt)|0)+(r>>>13)|0)+(qt>>>26)|0,qt&=67108863,i=Math.imul(P,ct),r=(r=Math.imul(P,dt))+Math.imul(U,ct)|0,s=Math.imul(U,dt);var Nt=(u+(i=i+Math.imul(D,pt)|0)|0)+((8191&(r=(r=r+Math.imul(D,mt)|0)+Math.imul(O,pt)|0))<<13)|0;u=((s=s+Math.imul(O,mt)|0)+(r>>>13)|0)+(Nt>>>26)|0,Nt&=67108863;var Lt=(u+(i=Math.imul(P,pt))|0)+((8191&(r=(r=Math.imul(P,mt))+Math.imul(U,pt)|0))<<13)|0;return u=((s=Math.imul(U,mt))+(r>>>13)|0)+(Lt>>>26)|0,Lt&=67108863,h[0]=gt,h[1]=vt,h[2]=yt,h[3]=bt,h[4]=wt,h[5]=_t,h[6]=Mt,h[7]=kt,h[8]=At,h[9]=Et,h[10]=xt,h[11]=St,h[12]=Tt,h[13]=It,h[14]=Rt,h[15]=Ct,h[16]=qt,h[17]=Nt,h[18]=Lt,0!==u&&(h[19]=u,n.length++),n};function m(t,e,n){return(new g).mulp(t,e,n)}function g(t,e){this.x=t,this.y=e}Math.imul||(p=f),s.prototype.mulTo=function(t,e){var n,i=this.length+t.length;return n=10===this.length&&10===t.length?p(this,t,e):i<63?f(this,t,e):i<1024?function(t,e,n){n.negative=e.negative^t.negative,n.length=t.length+e.length;for(var i=0,r=0,s=0;s<n.length-1;s++){var o=r;r=0;for(var a=67108863&i,h=Math.min(s,e.length-1),u=Math.max(0,s-t.length+1);u<=h;u++){var l=s-u,c=(0|t.words[l])*(0|e.words[u]),d=67108863&c;a=67108863&(d=d+a|0),r+=(o=(o=o+(c/67108864|0)|0)+(d>>>26)|0)>>>26,o&=67108863}n.words[s]=a,i=o,o=r}return 0!==i?n.words[s]=i:n.length--,n.strip()}(this,t,e):m(this,t,e),n},g.prototype.makeRBT=function(t){for(var e=new Array(t),n=s.prototype._countBits(t)-1,i=0;i<t;i++)e[i]=this.revBin(i,n,t);return e},g.prototype.revBin=function(t,e,n){if(0===t||t===n-1)return t;for(var i=0,r=0;r<e;r++)i|=(1&t)<<e-r-1,t>>=1;return i},g.prototype.permute=function(t,e,n,i,r,s){for(var o=0;o<s;o++)i[o]=e[t[o]],r[o]=n[t[o]]},g.prototype.transform=function(t,e,n,i,r,s){this.permute(s,t,e,n,i,r);for(var o=1;o<r;o<<=1)for(var a=o<<1,h=Math.cos(2*Math.PI/a),u=Math.sin(2*Math.PI/a),l=0;l<r;l+=a)for(var c=h,d=u,f=0;f<o;f++){var p=n[l+f],m=i[l+f],g=n[l+f+o],v=i[l+f+o],y=c*g-d*v;v=c*v+d*g,g=y,n[l+f]=p+g,i[l+f]=m+v,n[l+f+o]=p-g,i[l+f+o]=m-v,f!==a&&(y=h*c-u*d,d=h*d+u*c,c=y)}},g.prototype.guessLen13b=function(t,e){var n=1|Math.max(e,t),i=1&n,r=0;for(n=n/2|0;n;n>>>=1)r++;return 1<<r+1+i},g.prototype.conjugate=function(t,e,n){if(!(n<=1))for(var i=0;i<n/2;i++){var r=t[i];t[i]=t[n-i-1],t[n-i-1]=r,r=e[i],e[i]=-e[n-i-1],e[n-i-1]=-r}},g.prototype.normalize13b=function(t,e){for(var n=0,i=0;i<e/2;i++){var r=8192*Math.round(t[2*i+1]/e)+Math.round(t[2*i]/e)+n;t[i]=67108863&r,n=r<67108864?0:r/67108864|0}return t},g.prototype.convert13b=function(t,e,i,r){for(var s=0,o=0;o<e;o++)s+=0|t[o],i[2*o]=8191&s,s>>>=13,i[2*o+1]=8191&s,s>>>=13;for(o=2*e;o<r;++o)i[o]=0;n(0===s),n(0==(-8192&s))},g.prototype.stub=function(t){for(var e=new Array(t),n=0;n<t;n++)e[n]=0;return e},g.prototype.mulp=function(t,e,n){var i=2*this.guessLen13b(t.length,e.length),r=this.makeRBT(i),s=this.stub(i),o=new Array(i),a=new Array(i),h=new Array(i),u=new Array(i),l=new Array(i),c=new Array(i),d=n.words;d.length=i,this.convert13b(t.words,t.length,o,i),this.convert13b(e.words,e.length,u,i),this.transform(o,s,a,h,i,r),this.transform(u,s,l,c,i,r);for(var f=0;f<i;f++){var p=a[f]*l[f]-h[f]*c[f];h[f]=a[f]*c[f]+h[f]*l[f],a[f]=p}return this.conjugate(a,h,i),this.transform(a,h,d,s,i,r),this.conjugate(d,s,i),this.normalize13b(d,i),n.negative=t.negative^e.negative,n.length=t.length+e.length,n.strip()},s.prototype.mul=function(t){var e=new s(null);return e.words=new Array(this.length+t.length),this.mulTo(t,e)},s.prototype.mulf=function(t){var e=new s(null);return e.words=new Array(this.length+t.length),m(this,t,e)},s.prototype.imul=function(t){return this.clone().mulTo(t,this)},s.prototype.imuln=function(t){n("number"==typeof t),n(t<67108864);for(var e=0,i=0;i<this.length;i++){var r=(0|this.words[i])*t,s=(67108863&r)+(67108863&e);e>>=26,e+=r/67108864|0,e+=s>>>26,this.words[i]=67108863&s}return 0!==e&&(this.words[i]=e,this.length++),this},s.prototype.muln=function(t){return this.clone().imuln(t)},s.prototype.sqr=function(){return this.mul(this)},s.prototype.isqr=function(){return this.imul(this.clone())},s.prototype.pow=function(t){var e=function(t){for(var e=new Array(t.bitLength()),n=0;n<e.length;n++){var i=n/26|0,r=n%26;e[n]=(t.words[i]&1<<r)>>>r}return e}(t);if(0===e.length)return new s(1);for(var n=this,i=0;i<e.length&&0===e[i];i++,n=n.sqr());if(++i<e.length)for(var r=n.sqr();i<e.length;i++,r=r.sqr())0!==e[i]&&(n=n.mul(r));return n},s.prototype.iushln=function(t){n("number"==typeof t&&t>=0);var e,i=t%26,r=(t-i)/26,s=67108863>>>26-i<<26-i;if(0!==i){var o=0;for(e=0;e<this.length;e++){var a=this.words[e]&s,h=(0|this.words[e])-a<<i;this.words[e]=h|o,o=a>>>26-i}o&&(this.words[e]=o,this.length++)}if(0!==r){for(e=this.length-1;e>=0;e--)this.words[e+r]=this.words[e];for(e=0;e<r;e++)this.words[e]=0;this.length+=r}return this.strip()},s.prototype.ishln=function(t){return n(0===this.negative),this.iushln(t)},s.prototype.iushrn=function(t,e,i){var r;n("number"==typeof t&&t>=0),r=e?(e-e%26)/26:0;var s=t%26,o=Math.min((t-s)/26,this.length),a=67108863^67108863>>>s<<s,h=i;if(r-=o,r=Math.max(0,r),h){for(var u=0;u<o;u++)h.words[u]=this.words[u];h.length=o}if(0===o);else if(this.length>o)for(this.length-=o,u=0;u<this.length;u++)this.words[u]=this.words[u+o];else this.words[0]=0,this.length=1;var l=0;for(u=this.length-1;u>=0&&(0!==l||u>=r);u--){var c=0|this.words[u];this.words[u]=l<<26-s|c>>>s,l=c&a}return h&&0!==l&&(h.words[h.length++]=l),0===this.length&&(this.words[0]=0,this.length=1),this.strip()},s.prototype.ishrn=function(t,e,i){return n(0===this.negative),this.iushrn(t,e,i)},s.prototype.shln=function(t){return this.clone().ishln(t)},s.prototype.ushln=function(t){return this.clone().iushln(t)},s.prototype.shrn=function(t){return this.clone().ishrn(t)},s.prototype.ushrn=function(t){return this.clone().iushrn(t)},s.prototype.testn=function(t){n("number"==typeof t&&t>=0);var e=t%26,i=(t-e)/26,r=1<<e;return!(this.length<=i)&&!!(this.words[i]&r)},s.prototype.imaskn=function(t){n("number"==typeof t&&t>=0);var e=t%26,i=(t-e)/26;if(n(0===this.negative,"imaskn works only with positive numbers"),this.length<=i)return this;if(0!==e&&i++,this.length=Math.min(i,this.length),0!==e){var r=67108863^67108863>>>e<<e;this.words[this.length-1]&=r}return this.strip()},s.prototype.maskn=function(t){return this.clone().imaskn(t)},s.prototype.iaddn=function(t){return n("number"==typeof t),n(t<67108864),t<0?this.isubn(-t):0!==this.negative?1===this.length&&(0|this.words[0])<t?(this.words[0]=t-(0|this.words[0]),this.negative=0,this):(this.negative=0,this.isubn(t),this.negative=1,this):this._iaddn(t)},s.prototype._iaddn=function(t){this.words[0]+=t;for(var e=0;e<this.length&&this.words[e]>=67108864;e++)this.words[e]-=67108864,e===this.length-1?this.words[e+1]=1:this.words[e+1]++;return this.length=Math.max(this.length,e+1),this},s.prototype.isubn=function(t){if(n("number"==typeof t),n(t<67108864),t<0)return this.iaddn(-t);if(0!==this.negative)return this.negative=0,this.iaddn(t),this.negative=1,this;if(this.words[0]-=t,1===this.length&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var e=0;e<this.length&&this.words[e]<0;e++)this.words[e]+=67108864,this.words[e+1]-=1;return this.strip()},s.prototype.addn=function(t){return this.clone().iaddn(t)},s.prototype.subn=function(t){return this.clone().isubn(t)},s.prototype.iabs=function(){return this.negative=0,this},s.prototype.abs=function(){return this.clone().iabs()},s.prototype._ishlnsubmul=function(t,e,i){var r,s,o=t.length+i;this._expand(o);var a=0;for(r=0;r<t.length;r++){s=(0|this.words[r+i])+a;var h=(0|t.words[r])*e;a=((s-=67108863&h)>>26)-(h/67108864|0),this.words[r+i]=67108863&s}for(;r<this.length-i;r++)a=(s=(0|this.words[r+i])+a)>>26,this.words[r+i]=67108863&s;if(0===a)return this.strip();for(n(-1===a),a=0,r=0;r<this.length;r++)a=(s=-(0|this.words[r])+a)>>26,this.words[r]=67108863&s;return this.negative=1,this.strip()},s.prototype._wordDiv=function(t,e){var n=(this.length,t.length),i=this.clone(),r=t,o=0|r.words[r.length-1];0!==(n=26-this._countBits(o))&&(r=r.ushln(n),i.iushln(n),o=0|r.words[r.length-1]);var a,h=i.length-r.length;if("mod"!==e){(a=new s(null)).length=h+1,a.words=new Array(a.length);for(var u=0;u<a.length;u++)a.words[u]=0}var l=i.clone()._ishlnsubmul(r,1,h);0===l.negative&&(i=l,a&&(a.words[h]=1));for(var c=h-1;c>=0;c--){var d=67108864*(0|i.words[r.length+c])+(0|i.words[r.length+c-1]);for(d=Math.min(d/o|0,67108863),i._ishlnsubmul(r,d,c);0!==i.negative;)d--,i.negative=0,i._ishlnsubmul(r,1,c),i.isZero()||(i.negative^=1);a&&(a.words[c]=d)}return a&&a.strip(),i.strip(),"div"!==e&&0!==n&&i.iushrn(n),{div:a||null,mod:i}},s.prototype.divmod=function(t,e,i){return n(!t.isZero()),this.isZero()?{div:new s(0),mod:new s(0)}:0!==this.negative&&0===t.negative?(a=this.neg().divmod(t,e),"mod"!==e&&(r=a.div.neg()),"div"!==e&&(o=a.mod.neg(),i&&0!==o.negative&&o.iadd(t)),{div:r,mod:o}):0===this.negative&&0!==t.negative?(a=this.divmod(t.neg(),e),"mod"!==e&&(r=a.div.neg()),{div:r,mod:a.mod}):0!=(this.negative&t.negative)?(a=this.neg().divmod(t.neg(),e),"div"!==e&&(o=a.mod.neg(),i&&0!==o.negative&&o.isub(t)),{div:a.div,mod:o}):t.length>this.length||this.cmp(t)<0?{div:new s(0),mod:this}:1===t.length?"div"===e?{div:this.divn(t.words[0]),mod:null}:"mod"===e?{div:null,mod:new s(this.modn(t.words[0]))}:{div:this.divn(t.words[0]),mod:new s(this.modn(t.words[0]))}:this._wordDiv(t,e);var r,o,a},s.prototype.div=function(t){return this.divmod(t,"div",!1).div},s.prototype.mod=function(t){return this.divmod(t,"mod",!1).mod},s.prototype.umod=function(t){return this.divmod(t,"mod",!0).mod},s.prototype.divRound=function(t){var e=this.divmod(t);if(e.mod.isZero())return e.div;var n=0!==e.div.negative?e.mod.isub(t):e.mod,i=t.ushrn(1),r=t.andln(1),s=n.cmp(i);return s<0||1===r&&0===s?e.div:0!==e.div.negative?e.div.isubn(1):e.div.iaddn(1)},s.prototype.modn=function(t){n(t<=67108863);for(var e=67108864%t,i=0,r=this.length-1;r>=0;r--)i=(e*i+(0|this.words[r]))%t;return i},s.prototype.idivn=function(t){n(t<=67108863);for(var e=0,i=this.length-1;i>=0;i--){var r=(0|this.words[i])+67108864*e;this.words[i]=r/t|0,e=r%t}return this.strip()},s.prototype.divn=function(t){return this.clone().idivn(t)},s.prototype.egcd=function(t){n(0===t.negative),n(!t.isZero());var e=this,i=t.clone();e=0!==e.negative?e.umod(t):e.clone();for(var r=new s(1),o=new s(0),a=new s(0),h=new s(1),u=0;e.isEven()&&i.isEven();)e.iushrn(1),i.iushrn(1),++u;for(var l=i.clone(),c=e.clone();!e.isZero();){for(var d=0,f=1;0==(e.words[0]&f)&&d<26;++d,f<<=1);if(d>0)for(e.iushrn(d);d-- >0;)(r.isOdd()||o.isOdd())&&(r.iadd(l),o.isub(c)),r.iushrn(1),o.iushrn(1);for(var p=0,m=1;0==(i.words[0]&m)&&p<26;++p,m<<=1);if(p>0)for(i.iushrn(p);p-- >0;)(a.isOdd()||h.isOdd())&&(a.iadd(l),h.isub(c)),a.iushrn(1),h.iushrn(1);e.cmp(i)>=0?(e.isub(i),r.isub(a),o.isub(h)):(i.isub(e),a.isub(r),h.isub(o))}return{a:a,b:h,gcd:i.iushln(u)}},s.prototype._invmp=function(t){n(0===t.negative),n(!t.isZero());var e=this,i=t.clone();e=0!==e.negative?e.umod(t):e.clone();for(var r,o=new s(1),a=new s(0),h=i.clone();e.cmpn(1)>0&&i.cmpn(1)>0;){for(var u=0,l=1;0==(e.words[0]&l)&&u<26;++u,l<<=1);if(u>0)for(e.iushrn(u);u-- >0;)o.isOdd()&&o.iadd(h),o.iushrn(1);for(var c=0,d=1;0==(i.words[0]&d)&&c<26;++c,d<<=1);if(c>0)for(i.iushrn(c);c-- >0;)a.isOdd()&&a.iadd(h),a.iushrn(1);e.cmp(i)>=0?(e.isub(i),o.isub(a)):(i.isub(e),a.isub(o))}return(r=0===e.cmpn(1)?o:a).cmpn(0)<0&&r.iadd(t),r},s.prototype.gcd=function(t){if(this.isZero())return t.abs();if(t.isZero())return this.abs();var e=this.clone(),n=t.clone();e.negative=0,n.negative=0;for(var i=0;e.isEven()&&n.isEven();i++)e.iushrn(1),n.iushrn(1);for(;;){for(;e.isEven();)e.iushrn(1);for(;n.isEven();)n.iushrn(1);var r=e.cmp(n);if(r<0){var s=e;e=n,n=s}else if(0===r||0===n.cmpn(1))break;e.isub(n)}return n.iushln(i)},s.prototype.invm=function(t){return this.egcd(t).a.umod(t)},s.prototype.isEven=function(){return 0==(1&this.words[0])},s.prototype.isOdd=function(){return 1==(1&this.words[0])},s.prototype.andln=function(t){return this.words[0]&t},s.prototype.bincn=function(t){n("number"==typeof t);var e=t%26,i=(t-e)/26,r=1<<e;if(this.length<=i)return this._expand(i+1),this.words[i]|=r,this;for(var s=r,o=i;0!==s&&o<this.length;o++){var a=0|this.words[o];s=(a+=s)>>>26,a&=67108863,this.words[o]=a}return 0!==s&&(this.words[o]=s,this.length++),this},s.prototype.isZero=function(){return 1===this.length&&0===this.words[0]},s.prototype.cmpn=function(t){var e,i=t<0;if(0!==this.negative&&!i)return-1;if(0===this.negative&&i)return 1;if(this.strip(),this.length>1)e=1;else{i&&(t=-t),n(t<=67108863,"Number is too big");var r=0|this.words[0];e=r===t?0:r<t?-1:1}return 0!==this.negative?0|-e:e},s.prototype.cmp=function(t){if(0!==this.negative&&0===t.negative)return-1;if(0===this.negative&&0!==t.negative)return 1;var e=this.ucmp(t);return 0!==this.negative?0|-e:e},s.prototype.ucmp=function(t){if(this.length>t.length)return 1;if(this.length<t.length)return-1;for(var e=0,n=this.length-1;n>=0;n--){var i=0|this.words[n],r=0|t.words[n];if(i!==r){i<r?e=-1:i>r&&(e=1);break}}return e},s.prototype.gtn=function(t){return 1===this.cmpn(t)},s.prototype.gt=function(t){return 1===this.cmp(t)},s.prototype.gten=function(t){return this.cmpn(t)>=0},s.prototype.gte=function(t){return this.cmp(t)>=0},s.prototype.ltn=function(t){return-1===this.cmpn(t)},s.prototype.lt=function(t){return-1===this.cmp(t)},s.prototype.lten=function(t){return this.cmpn(t)<=0},s.prototype.lte=function(t){return this.cmp(t)<=0},s.prototype.eqn=function(t){return 0===this.cmpn(t)},s.prototype.eq=function(t){return 0===this.cmp(t)},s.red=function(t){return new k(t)},s.prototype.toRed=function(t){return n(!this.red,"Already a number in reduction context"),n(0===this.negative,"red works only with positives"),t.convertTo(this)._forceRed(t)},s.prototype.fromRed=function(){return n(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},s.prototype._forceRed=function(t){return this.red=t,this},s.prototype.forceRed=function(t){return n(!this.red,"Already a number in reduction context"),this._forceRed(t)},s.prototype.redAdd=function(t){return n(this.red,"redAdd works only with red numbers"),this.red.add(this,t)},s.prototype.redIAdd=function(t){return n(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,t)},s.prototype.redSub=function(t){return n(this.red,"redSub works only with red numbers"),this.red.sub(this,t)},s.prototype.redISub=function(t){return n(this.red,"redISub works only with red numbers"),this.red.isub(this,t)},s.prototype.redShl=function(t){return n(this.red,"redShl works only with red numbers"),this.red.shl(this,t)},s.prototype.redMul=function(t){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,t),this.red.mul(this,t)},s.prototype.redIMul=function(t){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,t),this.red.imul(this,t)},s.prototype.redSqr=function(){return n(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},s.prototype.redISqr=function(){return n(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},s.prototype.redSqrt=function(){return n(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},s.prototype.redInvm=function(){return n(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},s.prototype.redNeg=function(){return n(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},s.prototype.redPow=function(t){return n(this.red&&!t.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,t)};var v={k256:null,p224:null,p192:null,p25519:null};function y(t,e){this.name=t,this.p=new s(e,16),this.n=this.p.bitLength(),this.k=new s(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}function b(){y.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}function w(){y.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}function _(){y.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}function M(){y.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}function k(t){if("string"==typeof t){var e=s._prime(t);this.m=e.p,this.prime=e}else n(t.gtn(1),"modulus must be greater than 1"),this.m=t,this.prime=null}function A(t){k.call(this,t),this.shift=this.m.bitLength(),this.shift%26!=0&&(this.shift+=26-this.shift%26),this.r=new s(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}y.prototype._tmp=function(){var t=new s(null);return t.words=new Array(Math.ceil(this.n/13)),t},y.prototype.ireduce=function(t){var e,n=t;do{this.split(n,this.tmp),e=(n=(n=this.imulK(n)).iadd(this.tmp)).bitLength()}while(e>this.n);var i=e<this.n?-1:n.ucmp(this.p);return 0===i?(n.words[0]=0,n.length=1):i>0?n.isub(this.p):void 0!==n.strip?n.strip():n._strip(),n},y.prototype.split=function(t,e){t.iushrn(this.n,0,e)},y.prototype.imulK=function(t){return t.imul(this.k)},i(b,y),b.prototype.split=function(t,e){for(var n=4194303,i=Math.min(t.length,9),r=0;r<i;r++)e.words[r]=t.words[r];if(e.length=i,t.length<=9)return t.words[0]=0,void(t.length=1);var s=t.words[9];for(e.words[e.length++]=s&n,r=10;r<t.length;r++){var o=0|t.words[r];t.words[r-10]=(o&n)<<4|s>>>22,s=o}s>>>=22,t.words[r-10]=s,0===s&&t.length>10?t.length-=10:t.length-=9},b.prototype.imulK=function(t){t.words[t.length]=0,t.words[t.length+1]=0,t.length+=2;for(var e=0,n=0;n<t.length;n++){var i=0|t.words[n];e+=977*i,t.words[n]=67108863&e,e=64*i+(e/67108864|0)}return 0===t.words[t.length-1]&&(t.length--,0===t.words[t.length-1]&&t.length--),t},i(w,y),i(_,y),i(M,y),M.prototype.imulK=function(t){for(var e=0,n=0;n<t.length;n++){var i=19*(0|t.words[n])+e,r=67108863&i;i>>>=26,t.words[n]=r,e=i}return 0!==e&&(t.words[t.length++]=e),t},s._prime=function(t){if(v[t])return v[t];var e;if("k256"===t)e=new b;else if("p224"===t)e=new w;else if("p192"===t)e=new _;else{if("p25519"!==t)throw new Error("Unknown prime "+t);e=new M}return v[t]=e,e},k.prototype._verify1=function(t){n(0===t.negative,"red works only with positives"),n(t.red,"red works only with red numbers")},k.prototype._verify2=function(t,e){n(0==(t.negative|e.negative),"red works only with positives"),n(t.red&&t.red===e.red,"red works only with red numbers")},k.prototype.imod=function(t){return this.prime?this.prime.ireduce(t)._forceRed(this):t.umod(this.m)._forceRed(this)},k.prototype.neg=function(t){return t.isZero()?t.clone():this.m.sub(t)._forceRed(this)},k.prototype.add=function(t,e){this._verify2(t,e);var n=t.add(e);return n.cmp(this.m)>=0&&n.isub(this.m),n._forceRed(this)},k.prototype.iadd=function(t,e){this._verify2(t,e);var n=t.iadd(e);return n.cmp(this.m)>=0&&n.isub(this.m),n},k.prototype.sub=function(t,e){this._verify2(t,e);var n=t.sub(e);return n.cmpn(0)<0&&n.iadd(this.m),n._forceRed(this)},k.prototype.isub=function(t,e){this._verify2(t,e);var n=t.isub(e);return n.cmpn(0)<0&&n.iadd(this.m),n},k.prototype.shl=function(t,e){return this._verify1(t),this.imod(t.ushln(e))},k.prototype.imul=function(t,e){return this._verify2(t,e),this.imod(t.imul(e))},k.prototype.mul=function(t,e){return this._verify2(t,e),this.imod(t.mul(e))},k.prototype.isqr=function(t){return this.imul(t,t.clone())},k.prototype.sqr=function(t){return this.mul(t,t)},k.prototype.sqrt=function(t){if(t.isZero())return t.clone();var e=this.m.andln(3);if(n(e%2==1),3===e){var i=this.m.add(new s(1)).iushrn(2);return this.pow(t,i)}for(var r=this.m.subn(1),o=0;!r.isZero()&&0===r.andln(1);)o++,r.iushrn(1);n(!r.isZero());var a=new s(1).toRed(this),h=a.redNeg(),u=this.m.subn(1).iushrn(1),l=this.m.bitLength();for(l=new s(2*l*l).toRed(this);0!==this.pow(l,u).cmp(h);)l.redIAdd(h);for(var c=this.pow(l,r),d=this.pow(t,r.addn(1).iushrn(1)),f=this.pow(t,r),p=o;0!==f.cmp(a);){for(var m=f,g=0;0!==m.cmp(a);g++)m=m.redSqr();n(g<p);var v=this.pow(c,new s(1).iushln(p-g-1));d=d.redMul(v),c=v.redSqr(),f=f.redMul(c),p=g}return d},k.prototype.invm=function(t){var e=t._invmp(this.m);return 0!==e.negative?(e.negative=0,this.imod(e).redNeg()):this.imod(e)},k.prototype.pow=function(t,e){if(e.isZero())return new s(1).toRed(this);if(0===e.cmpn(1))return t.clone();var n=new Array(16);n[0]=new s(1).toRed(this),n[1]=t;for(var i=2;i<n.length;i++)n[i]=this.mul(n[i-1],t);var r=n[0],o=0,a=0,h=e.bitLength()%26;for(0===h&&(h=26),i=e.length-1;i>=0;i--){for(var u=e.words[i],l=h-1;l>=0;l--){var c=u>>l&1;r!==n[0]&&(r=this.sqr(r)),0!==c||0!==o?(o<<=1,o|=c,(4===++a||0===i&&0===l)&&(r=this.mul(r,n[o]),a=0,o=0)):a=0}h=26}return r},k.prototype.convertTo=function(t){var e=t.umod(this.m);return e===t?e.clone():e},k.prototype.convertFrom=function(t){var e=t.clone();return e.red=null,e},s.mont=function(t){return new A(t)},i(A,k),A.prototype.convertTo=function(t){return this.imod(t.ushln(this.shift))},A.prototype.convertFrom=function(t){var e=this.imod(t.mul(this.rinv));return e.red=null,e},A.prototype.imul=function(t,e){if(t.isZero()||e.isZero())return t.words[0]=0,t.length=1,t;var n=t.imul(e),i=n.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),r=n.isub(i).iushrn(this.shift),s=r;return r.cmp(this.m)>=0?s=r.isub(this.m):r.cmpn(0)<0&&(s=r.iadd(this.m)),s._forceRed(this)},A.prototype.mul=function(t,e){if(t.isZero()||e.isZero())return new s(0)._forceRed(this);var n=t.mul(e),i=n.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),r=n.isub(i).iushrn(this.shift),o=r;return r.cmp(this.m)>=0?o=r.isub(this.m):r.cmpn(0)<0&&(o=r.iadd(this.m)),o._forceRed(this)},A.prototype.invm=function(t){return this.imod(t._invmp(this.m).mul(this.r2))._forceRed(this)}}(t,this)})),r.register("aslIH",(function(t,e){var n=r("aaDqI"),i=r("8KdoP"),s=r("bniia");function o(t,e){this.name=t,this.body=e,this.decoders={},this.encoders={}}t.exports.define=function(t,e){return new o(t,e)},o.prototype._createNamed=function(t){const e=this.name;function n(t){this._initNamed(t,e)}return s(n,t),n.prototype._initNamed=function(e,n){t.call(this,e,n)},new n(this)},o.prototype._getDecoder=function(t){return t=t||"der",this.decoders.hasOwnProperty(t)||(this.decoders[t]=this._createNamed(i[t])),this.decoders[t]},o.prototype.decode=function(t,e,n){return this._getDecoder(e).decode(t,n)},o.prototype._getEncoder=function(t){return t=t||"der",this.encoders.hasOwnProperty(t)||(this.encoders[t]=this._createNamed(n[t])),this.encoders[t]},o.prototype.encode=function(t,e,n){return this._getEncoder(e).encode(t,n)}})),r.register("aaDqI",(function(t,e){const n=t.exports;n.der=r("73ynf"),n.pem=r("4nYMz")})),r.register("73ynf",(function(t,e){var n=r("bniia"),i=r("iUg6U").Buffer,s=r("f4zDQ"),o=r("4Urgx");function a(t){this.enc="der",this.name=t.name,this.entity=t,this.tree=new h,this.tree._init(t.body)}function h(t){s.call(this,"der",t)}function u(t){return t<10?"0"+t:t}t.exports=a,a.prototype.encode=function(t,e){return this.tree._encode(t,e).join()},n(h,s),h.prototype._encodeComposite=function(t,e,n,r){const s=function(t,e,n,i){let r;"seqof"===t?t="seq":"setof"===t&&(t="set");if(o.tagByName.hasOwnProperty(t))r=o.tagByName[t];else{if("number"!=typeof t||(0|t)!==t)return i.error("Unknown tag: "+t);r=t}if(r>=31)return i.error("Multi-octet tag encoding unsupported");e||(r|=32);return r|=o.tagClassByName[n||"universal"]<<6,r}(t,e,n,this.reporter);if(r.length<128){const t=i.alloc(2);return t[0]=s,t[1]=r.length,this._createEncoderBuffer([t,r])}let a=1;for(let t=r.length;t>=256;t>>=8)a++;const h=i.alloc(2+a);h[0]=s,h[1]=128|a;for(let t=1+a,e=r.length;e>0;t--,e>>=8)h[t]=255&e;return this._createEncoderBuffer([h,r])},h.prototype._encodeStr=function(t,e){if("bitstr"===e)return this._createEncoderBuffer([0|t.unused,t.data]);if("bmpstr"===e){const e=i.alloc(2*t.length);for(let n=0;n<t.length;n++)e.writeUInt16BE(t.charCodeAt(n),2*n);return this._createEncoderBuffer(e)}return"numstr"===e?this._isNumstr(t)?this._createEncoderBuffer(t):this.reporter.error("Encoding of string type: numstr supports only digits and space"):"printstr"===e?this._isPrintstr(t)?this._createEncoderBuffer(t):this.reporter.error("Encoding of string type: printstr supports only latin upper and lower case letters, digits, space, apostrophe, left and rigth parenthesis, plus sign, comma, hyphen, dot, slash, colon, equal sign, question mark"):/str$/.test(e)||"objDesc"===e?this._createEncoderBuffer(t):this.reporter.error("Encoding of string type: "+e+" unsupported")},h.prototype._encodeObjid=function(t,e,n){if("string"==typeof t){if(!e)return this.reporter.error("string objid given, but no values map found");if(!e.hasOwnProperty(t))return this.reporter.error("objid not found in values map");t=e[t].split(/[\s.]+/g);for(let e=0;e<t.length;e++)t[e]|=0}else if(Array.isArray(t)){t=t.slice();for(let e=0;e<t.length;e++)t[e]|=0}if(!Array.isArray(t))return this.reporter.error("objid() should be either array or string, got: "+JSON.stringify(t));if(!n){if(t[1]>=40)return this.reporter.error("Second objid identifier OOB");t.splice(0,2,40*t[0]+t[1])}let r=0;for(let e=0;e<t.length;e++){let n=t[e];for(r++;n>=128;n>>=7)r++}const s=i.alloc(r);let o=s.length-1;for(let e=t.length-1;e>=0;e--){let n=t[e];for(s[o--]=127&n;(n>>=7)>0;)s[o--]=128|127&n}return this._createEncoderBuffer(s)},h.prototype._encodeTime=function(t,e){let n;const i=new Date(t);return"gentime"===e?n=[u(i.getUTCFullYear()),u(i.getUTCMonth()+1),u(i.getUTCDate()),u(i.getUTCHours()),u(i.getUTCMinutes()),u(i.getUTCSeconds()),"Z"].join(""):"utctime"===e?n=[u(i.getUTCFullYear()%100),u(i.getUTCMonth()+1),u(i.getUTCDate()),u(i.getUTCHours()),u(i.getUTCMinutes()),u(i.getUTCSeconds()),"Z"].join(""):this.reporter.error("Encoding "+e+" time is not supported yet"),this._encodeStr(n,"octstr")},h.prototype._encodeNull=function(){return this._createEncoderBuffer("")},h.prototype._encodeInt=function(t,e){if("string"==typeof t){if(!e)return this.reporter.error("String int or enum given, but no values map");if(!e.hasOwnProperty(t))return this.reporter.error("Values map doesn't contain: "+JSON.stringify(t));t=e[t]}if("number"!=typeof t&&!i.isBuffer(t)){const e=t.toArray();!t.sign&&128&e[0]&&e.unshift(0),t=i.from(e)}if(i.isBuffer(t)){let e=t.length;0===t.length&&e++;const n=i.alloc(e);return t.copy(n),0===t.length&&(n[0]=0),this._createEncoderBuffer(n)}if(t<128)return this._createEncoderBuffer(t);if(t<256)return this._createEncoderBuffer([0,t]);let n=1;for(let e=t;e>=256;e>>=8)n++;const r=new Array(n);for(let e=r.length-1;e>=0;e--)r[e]=255&t,t>>=8;return 128&r[0]&&r.unshift(0),this._createEncoderBuffer(i.from(r))},h.prototype._encodeBool=function(t){return this._createEncoderBuffer(t?255:0)},h.prototype._use=function(t,e){return"function"==typeof t&&(t=t(e)),t._getEncoder("der").tree},h.prototype._skipDefault=function(t,e,n){const i=this._baseState;let r;if(null===i.default)return!1;const s=t.join();if(void 0===i.defaultBuffer&&(i.defaultBuffer=this._encodeValue(i.default,e,n).join()),s.length!==i.defaultBuffer.length)return!1;for(r=0;r<s.length;r++)if(s[r]!==i.defaultBuffer[r])return!1;return!0}})),r.register("iUg6U",(function(t,e){var n,i=r("ajwPf"),s=r("8UsMN"),o=s.Buffer,a={};for(n in s)s.hasOwnProperty(n)&&"SlowBuffer"!==n&&"Buffer"!==n&&(a[n]=s[n]);var h=a.Buffer={};for(n in o)o.hasOwnProperty(n)&&"allocUnsafe"!==n&&"allocUnsafeSlow"!==n&&(h[n]=o[n]);if(a.Buffer.prototype=o.prototype,h.from&&h.from!==Uint8Array.from||(h.from=function(t,e,n){if("number"==typeof t)throw new TypeError('The "value" argument must not be of type number. Received type '+typeof t);if(t&&void 0===t.length)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof t);return o(t,e,n)}),h.alloc||(h.alloc=function(t,e,n){if("number"!=typeof t)throw new TypeError('The "size" argument must be of type number. Received type '+typeof t);if(t<0||t>=2147483648)throw new RangeError('The value "'+t+'" is invalid for option "size"');var i=o(t);return e&&0!==e.length?"string"==typeof n?i.fill(e,n):i.fill(e):i.fill(0),i}),!a.kStringMaxLength)try{a.kStringMaxLength=i.binding("buffer").kStringMaxLength}catch(t){}a.constants||(a.constants={MAX_LENGTH:a.kMaxLength},a.kStringMaxLength&&(a.constants.MAX_STRING_LENGTH=a.kStringMaxLength)),t.exports=a})),r.register("f4zDQ",(function(t,e){var n=r("kiLMG").Reporter,i=r("6LLAC").EncoderBuffer,s=r("6LLAC").DecoderBuffer,o=r("bNW2d");const a=["seq","seqof","set","setof","objid","bool","gentime","utctime","null_","enum","int","objDesc","bitstr","bmpstr","charstr","genstr","graphstr","ia5str","iso646str","numstr","octstr","printstr","t61str","unistr","utf8str","videostr"],h=["key","obj","use","optional","explicit","implicit","def","choice","any","contains"].concat(a);function u(t,e,n){const i={};this._baseState=i,i.name=n,i.enc=t,i.parent=e||null,i.children=null,i.tag=null,i.args=null,i.reverseArgs=null,i.choice=null,i.optional=!1,i.any=!1,i.obj=!1,i.use=null,i.useDecoder=null,i.key=null,i.default=null,i.explicit=null,i.implicit=null,i.contains=null,i.parent||(i.children=[],this._wrap())}t.exports=u;const l=["enc","parent","children","tag","args","reverseArgs","choice","optional","any","obj","use","alteredUse","key","default","explicit","implicit","contains"];u.prototype.clone=function(){const t=this._baseState,e={};l.forEach((function(n){e[n]=t[n]}));const n=new this.constructor(e.parent);return n._baseState=e,n},u.prototype._wrap=function(){const t=this._baseState;h.forEach((function(e){this[e]=function(){const n=new this.constructor(this);return t.children.push(n),n[e].apply(n,arguments)}}),this)},u.prototype._init=function(t){const e=this._baseState;o(null===e.parent),t.call(this),e.children=e.children.filter((function(t){return t._baseState.parent===this}),this),o.equal(e.children.length,1,"Root node can have only one child")},u.prototype._useArgs=function(t){const e=this._baseState,n=t.filter((function(t){return t instanceof this.constructor}),this);t=t.filter((function(t){return!(t instanceof this.constructor)}),this),0!==n.length&&(o(null===e.children),e.children=n,n.forEach((function(t){t._baseState.parent=this}),this)),0!==t.length&&(o(null===e.args),e.args=t,e.reverseArgs=t.map((function(t){if("object"!=typeof t||t.constructor!==Object)return t;const e={};return Object.keys(t).forEach((function(n){n==(0|n)&&(n|=0);const i=t[n];e[i]=n})),e})))},["_peekTag","_decodeTag","_use","_decodeStr","_decodeObjid","_decodeTime","_decodeNull","_decodeInt","_decodeBool","_decodeList","_encodeComposite","_encodeStr","_encodeObjid","_encodeTime","_encodeNull","_encodeInt","_encodeBool"].forEach((function(t){u.prototype[t]=function(){const e=this._baseState;throw new Error(t+" not implemented for encoding: "+e.enc)}})),a.forEach((function(t){u.prototype[t]=function(){const e=this._baseState,n=Array.prototype.slice.call(arguments);return o(null===e.tag),e.tag=t,this._useArgs(n),this}})),u.prototype.use=function(t){o(t);const e=this._baseState;return o(null===e.use),e.use=t,this},u.prototype.optional=function(){return this._baseState.optional=!0,this},u.prototype.def=function(t){const e=this._baseState;return o(null===e.default),e.default=t,e.optional=!0,this},u.prototype.explicit=function(t){const e=this._baseState;return o(null===e.explicit&&null===e.implicit),e.explicit=t,this},u.prototype.implicit=function(t){const e=this._baseState;return o(null===e.explicit&&null===e.implicit),e.implicit=t,this},u.prototype.obj=function(){const t=this._baseState,e=Array.prototype.slice.call(arguments);return t.obj=!0,0!==e.length&&this._useArgs(e),this},u.prototype.key=function(t){const e=this._baseState;return o(null===e.key),e.key=t,this},u.prototype.any=function(){return this._baseState.any=!0,this},u.prototype.choice=function(t){const e=this._baseState;return o(null===e.choice),e.choice=t,this._useArgs(Object.keys(t).map((function(e){return t[e]}))),this},u.prototype.contains=function(t){const e=this._baseState;return o(null===e.use),e.contains=t,this},u.prototype._decode=function(t,e){const n=this._baseState;if(null===n.parent)return t.wrapResult(n.children[0]._decode(t,e));let i,r=n.default,o=!0,a=null;if(null!==n.key&&(a=t.enterKey(n.key)),n.optional){let i=null;if(null!==n.explicit?i=n.explicit:null!==n.implicit?i=n.implicit:null!==n.tag&&(i=n.tag),null!==i||n.any){if(o=this._peekTag(t,i,n.any),t.isError(o))return o}else{const i=t.save();try{null===n.choice?this._decodeGeneric(n.tag,t,e):this._decodeChoice(t,e),o=!0}catch(t){o=!1}t.restore(i)}}if(n.obj&&o&&(i=t.enterObject()),o){if(null!==n.explicit){const e=this._decodeTag(t,n.explicit);if(t.isError(e))return e;t=e}const i=t.offset;if(null===n.use&&null===n.choice){let e;n.any&&(e=t.save());const i=this._decodeTag(t,null!==n.implicit?n.implicit:n.tag,n.any);if(t.isError(i))return i;n.any?r=t.raw(e):t=i}if(e&&e.track&&null!==n.tag&&e.track(t.path(),i,t.length,"tagged"),e&&e.track&&null!==n.tag&&e.track(t.path(),t.offset,t.length,"content"),n.any||(r=null===n.choice?this._decodeGeneric(n.tag,t,e):this._decodeChoice(t,e)),t.isError(r))return r;if(n.any||null!==n.choice||null===n.children||n.children.forEach((function(n){n._decode(t,e)})),n.contains&&("octstr"===n.tag||"bitstr"===n.tag)){const i=new s(r);r=this._getUse(n.contains,t._reporterState.obj)._decode(i,e)}}return n.obj&&o&&(r=t.leaveObject(i)),null===n.key||null===r&&!0!==o?null!==a&&t.exitKey(a):t.leaveKey(a,n.key,r),r},u.prototype._decodeGeneric=function(t,e,n){const i=this._baseState;return"seq"===t||"set"===t?null:"seqof"===t||"setof"===t?this._decodeList(e,t,i.args[0],n):/str$/.test(t)?this._decodeStr(e,t,n):"objid"===t&&i.args?this._decodeObjid(e,i.args[0],i.args[1],n):"objid"===t?this._decodeObjid(e,null,null,n):"gentime"===t||"utctime"===t?this._decodeTime(e,t,n):"null_"===t?this._decodeNull(e,n):"bool"===t?this._decodeBool(e,n):"objDesc"===t?this._decodeStr(e,t,n):"int"===t||"enum"===t?this._decodeInt(e,i.args&&i.args[0],n):null!==i.use?this._getUse(i.use,e._reporterState.obj)._decode(e,n):e.error("unknown tag: "+t)},u.prototype._getUse=function(t,e){const n=this._baseState;return n.useDecoder=this._use(t,e),o(null===n.useDecoder._baseState.parent),n.useDecoder=n.useDecoder._baseState.children[0],n.implicit!==n.useDecoder._baseState.implicit&&(n.useDecoder=n.useDecoder.clone(),n.useDecoder._baseState.implicit=n.implicit),n.useDecoder},u.prototype._decodeChoice=function(t,e){const n=this._baseState;let i=null,r=!1;return Object.keys(n.choice).some((function(s){const o=t.save(),a=n.choice[s];try{const n=a._decode(t,e);if(t.isError(n))return!1;i={type:s,value:n},r=!0}catch(e){return t.restore(o),!1}return!0}),this),r?i:t.error("Choice not matched")},u.prototype._createEncoderBuffer=function(t){return new i(t,this.reporter)},u.prototype._encode=function(t,e,n){const i=this._baseState;if(null!==i.default&&i.default===t)return;const r=this._encodeValue(t,e,n);return void 0===r||this._skipDefault(r,e,n)?void 0:r},u.prototype._encodeValue=function(t,e,i){const r=this._baseState;if(null===r.parent)return r.children[0]._encode(t,e||new n);let s=null;if(this.reporter=e,r.optional&&void 0===t){if(null===r.default)return;t=r.default}let o=null,a=!1;if(r.any)s=this._createEncoderBuffer(t);else if(r.choice)s=this._encodeChoice(t,e);else if(r.contains)o=this._getUse(r.contains,i)._encode(t,e),a=!0;else if(r.children)o=r.children.map((function(n){if("null_"===n._baseState.tag)return n._encode(null,e,t);if(null===n._baseState.key)return e.error("Child should have a key");const i=e.enterKey(n._baseState.key);if("object"!=typeof t)return e.error("Child expected, but input is not object");const r=n._encode(t[n._baseState.key],e,t);return e.leaveKey(i),r}),this).filter((function(t){return t})),o=this._createEncoderBuffer(o);else if("seqof"===r.tag||"setof"===r.tag){if(!r.args||1!==r.args.length)return e.error("Too many args for : "+r.tag);if(!Array.isArray(t))return e.error("seqof/setof, but data is not Array");const n=this.clone();n._baseState.implicit=null,o=this._createEncoderBuffer(t.map((function(n){const i=this._baseState;return this._getUse(i.args[0],t)._encode(n,e)}),n))}else null!==r.use?s=this._getUse(r.use,i)._encode(t,e):(o=this._encodePrimitive(r.tag,t),a=!0);if(!r.any&&null===r.choice){const t=null!==r.implicit?r.implicit:r.tag,n=null===r.implicit?"universal":"context";null===t?null===r.use&&e.error("Tag could be omitted only for .use()"):null===r.use&&(s=this._encodeComposite(t,a,n,o))}return null!==r.explicit&&(s=this._encodeComposite(r.explicit,!1,"context",s)),s},u.prototype._encodeChoice=function(t,e){const n=this._baseState,i=n.choice[t.type];return i||o(!1,t.type+" not found in "+JSON.stringify(Object.keys(n.choice))),i._encode(t.value,e)},u.prototype._encodePrimitive=function(t,e){const n=this._baseState;if(/str$/.test(t))return this._encodeStr(e,t);if("objid"===t&&n.args)return this._encodeObjid(e,n.reverseArgs[0],n.args[1]);if("objid"===t)return this._encodeObjid(e,null,null);if("gentime"===t||"utctime"===t)return this._encodeTime(e,t);if("null_"===t)return this._encodeNull();if("int"===t||"enum"===t)return this._encodeInt(e,n.args&&n.reverseArgs[0]);if("bool"===t)return this._encodeBool(e);if("objDesc"===t)return this._encodeStr(e,t);throw new Error("Unsupported tag: "+t)},u.prototype._isNumstr=function(t){return/^[0-9 ]*$/.test(t)},u.prototype._isPrintstr=function(t){return/^[A-Za-z0-9 '()+,-./:=?]*$/.test(t)}})),r.register("kiLMG",(function(e,n){var i;t(e.exports,"Reporter",(()=>i),(t=>i=t));var s=r("bniia");function o(t){this._reporterState={obj:null,path:[],options:t||{},errors:[]}}function a(t,e){this.path=t,this.rethrow(e)}i=o,o.prototype.isError=function(t){return t instanceof a},o.prototype.save=function(){const t=this._reporterState;return{obj:t.obj,pathLen:t.path.length}},o.prototype.restore=function(t){const e=this._reporterState;e.obj=t.obj,e.path=e.path.slice(0,t.pathLen)},o.prototype.enterKey=function(t){return this._reporterState.path.push(t)},o.prototype.exitKey=function(t){const e=this._reporterState;e.path=e.path.slice(0,t-1)},o.prototype.leaveKey=function(t,e,n){const i=this._reporterState;this.exitKey(t),null!==i.obj&&(i.obj[e]=n)},o.prototype.path=function(){return this._reporterState.path.join("/")},o.prototype.enterObject=function(){const t=this._reporterState,e=t.obj;return t.obj={},e},o.prototype.leaveObject=function(t){const e=this._reporterState,n=e.obj;return e.obj=t,n},o.prototype.error=function(t){let e;const n=this._reporterState,i=t instanceof a;if(e=i?t:new a(n.path.map((function(t){return"["+JSON.stringify(t)+"]"})).join(""),t.message||t,t.stack),!n.options.partial)throw e;return i||n.errors.push(e),e},o.prototype.wrapResult=function(t){const e=this._reporterState;return e.options.partial?{result:this.isError(t)?null:t,errors:e.errors}:t},s(a,Error),a.prototype.rethrow=function(t){if(this.message=t+" at: "+(this.path||"(shallow)"),Error.captureStackTrace&&Error.captureStackTrace(this,a),!this.stack)try{throw new Error(this.message)}catch(t){this.stack=t.stack}return this}})),r.register("6LLAC",(function(e,n){var i,s;t(e.exports,"DecoderBuffer",(()=>i),(t=>i=t)),t(e.exports,"EncoderBuffer",(()=>s),(t=>s=t));var o=r("bniia"),a=r("kiLMG").Reporter,h=r("iUg6U").Buffer;function u(t,e){a.call(this,e),h.isBuffer(t)?(this.base=t,this.offset=0,this.length=t.length):this.error("Input not Buffer")}function l(t,e){if(Array.isArray(t))this.length=0,this.value=t.map((function(t){return l.isEncoderBuffer(t)||(t=new l(t,e)),this.length+=t.length,t}),this);else if("number"==typeof t){if(!(0<=t&&t<=255))return e.error("non-byte EncoderBuffer value");this.value=t,this.length=1}else if("string"==typeof t)this.value=t,this.length=h.byteLength(t);else{if(!h.isBuffer(t))return e.error("Unsupported type: "+typeof t);this.value=t,this.length=t.length}}o(u,a),i=u,u.isDecoderBuffer=function(t){if(t instanceof u)return!0;return"object"==typeof t&&h.isBuffer(t.base)&&"DecoderBuffer"===t.constructor.name&&"number"==typeof t.offset&&"number"==typeof t.length&&"function"==typeof t.save&&"function"==typeof t.restore&&"function"==typeof t.isEmpty&&"function"==typeof t.readUInt8&&"function"==typeof t.skip&&"function"==typeof t.raw},u.prototype.save=function(){return{offset:this.offset,reporter:a.prototype.save.call(this)}},u.prototype.restore=function(t){const e=new u(this.base);return e.offset=t.offset,e.length=this.offset,this.offset=t.offset,a.prototype.restore.call(this,t.reporter),e},u.prototype.isEmpty=function(){return this.offset===this.length},u.prototype.readUInt8=function(t){return this.offset+1<=this.length?this.base.readUInt8(this.offset++,!0):this.error(t||"DecoderBuffer overrun")},u.prototype.skip=function(t,e){if(!(this.offset+t<=this.length))return this.error(e||"DecoderBuffer overrun");const n=new u(this.base);return n._reporterState=this._reporterState,n.offset=this.offset,n.length=this.offset+t,this.offset+=t,n},u.prototype.raw=function(t){return this.base.slice(t?t.offset:this.offset,this.length)},s=l,l.isEncoderBuffer=function(t){if(t instanceof l)return!0;return"object"==typeof t&&"EncoderBuffer"===t.constructor.name&&"number"==typeof t.length&&"function"==typeof t.join},l.prototype.join=function(t,e){return t||(t=h.alloc(this.length)),e||(e=0),0===this.length||(Array.isArray(this.value)?this.value.forEach((function(n){n.join(t,e),e+=n.length})):("number"==typeof this.value?t[e]=this.value:"string"==typeof this.value?t.write(this.value,e):h.isBuffer(this.value)&&this.value.copy(t,e),e+=this.length)),t}})),r.register("4Urgx",(function(e,n){var i,r,s,o;function a(t){const e={};return Object.keys(t).forEach((function(n){(0|n)==n&&(n|=0);const i=t[n];e[i]=n})),e}t(e.exports,"tagClass",(()=>i),(t=>i=t)),t(e.exports,"tagClassByName",(()=>r),(t=>r=t)),t(e.exports,"tag",(()=>s),(t=>s=t)),t(e.exports,"tagByName",(()=>o),(t=>o=t)),r=a(i={0:"universal",1:"application",2:"context",3:"private"}),o=a(s={0:"end",1:"bool",2:"int",3:"bitstr",4:"octstr",5:"null_",6:"objid",7:"objDesc",8:"external",9:"real",10:"enum",11:"embed",12:"utf8str",13:"relativeOid",16:"seq",17:"set",18:"numstr",19:"printstr",20:"t61str",21:"videostr",22:"ia5str",23:"utctime",24:"gentime",25:"graphstr",26:"iso646str",27:"genstr",28:"unistr",29:"charstr",30:"bmpstr"})})),r.register("4nYMz",(function(t,e){var n=r("bniia"),i=r("73ynf");function s(t){i.call(this,t),this.enc="pem"}n(s,i),t.exports=s,s.prototype.encode=function(t,e){const n=i.prototype.encode.call(this,t).toString("base64"),r=["-----BEGIN "+e.label+"-----"];for(let t=0;t<n.length;t+=64)r.push(n.slice(t,t+64));return r.push("-----END "+e.label+"-----"),r.join("\n")}})),r.register("8KdoP",(function(t,e){const n=t.exports;n.der=r("9Qw3K"),n.pem=r("lgkmB")})),r.register("9Qw3K",(function(t,e){var n=r("bniia"),i=r("jwZLX"),s=r("6LLAC").DecoderBuffer,o=r("f4zDQ"),a=r("4Urgx");function h(t){this.enc="der",this.name=t.name,this.entity=t,this.tree=new u,this.tree._init(t.body)}function u(t){o.call(this,"der",t)}function l(t,e){let n=t.readUInt8(e);if(t.isError(n))return n;const i=a.tagClass[n>>6],r=0==(32&n);if(31==(31&n)){let i=n;for(n=0;128==(128&i);){if(i=t.readUInt8(e),t.isError(i))return i;n<<=7,n|=127&i}}else n&=31;return{cls:i,primitive:r,tag:n,tagStr:a.tag[n]}}function c(t,e,n){let i=t.readUInt8(n);if(t.isError(i))return i;if(!e&&128===i)return null;if(0==(128&i))return i;const r=127&i;if(r>4)return t.error("length octect is too long");i=0;for(let e=0;e<r;e++){i<<=8;const e=t.readUInt8(n);if(t.isError(e))return e;i|=e}return i}t.exports=h,h.prototype.decode=function(t,e){return s.isDecoderBuffer(t)||(t=new s(t,e)),this.tree._decode(t,e)},n(u,o),u.prototype._peekTag=function(t,e,n){if(t.isEmpty())return!1;const i=t.save(),r=l(t,'Failed to peek tag: "'+e+'"');return t.isError(r)?r:(t.restore(i),r.tag===e||r.tagStr===e||r.tagStr+"of"===e||n)},u.prototype._decodeTag=function(t,e,n){const i=l(t,'Failed to decode tag of "'+e+'"');if(t.isError(i))return i;let r=c(t,i.primitive,'Failed to get length of "'+e+'"');if(t.isError(r))return r;if(!n&&i.tag!==e&&i.tagStr!==e&&i.tagStr+"of"!==e)return t.error('Failed to match tag: "'+e+'"');if(i.primitive||null!==r)return t.skip(r,'Failed to match body of: "'+e+'"');const s=t.save(),o=this._skipUntilEnd(t,'Failed to skip indefinite length body: "'+this.tag+'"');return t.isError(o)?o:(r=t.offset-s.offset,t.restore(s),t.skip(r,'Failed to match body of: "'+e+'"'))},u.prototype._skipUntilEnd=function(t,e){for(;;){const n=l(t,e);if(t.isError(n))return n;const i=c(t,n.primitive,e);if(t.isError(i))return i;let r;if(r=n.primitive||null!==i?t.skip(i):this._skipUntilEnd(t,e),t.isError(r))return r;if("end"===n.tagStr)break}},u.prototype._decodeList=function(t,e,n,i){const r=[];for(;!t.isEmpty();){const e=this._peekTag(t,"end");if(t.isError(e))return e;const s=n.decode(t,"der",i);if(t.isError(s)&&e)break;r.push(s)}return r},u.prototype._decodeStr=function(t,e){if("bitstr"===e){const e=t.readUInt8();return t.isError(e)?e:{unused:e,data:t.raw()}}if("bmpstr"===e){const e=t.raw();if(e.length%2==1)return t.error("Decoding of string type: bmpstr length mismatch");let n="";for(let t=0;t<e.length/2;t++)n+=String.fromCharCode(e.readUInt16BE(2*t));return n}if("numstr"===e){const e=t.raw().toString("ascii");return this._isNumstr(e)?e:t.error("Decoding of string type: numstr unsupported characters")}if("octstr"===e)return t.raw();if("objDesc"===e)return t.raw();if("printstr"===e){const e=t.raw().toString("ascii");return this._isPrintstr(e)?e:t.error("Decoding of string type: printstr unsupported characters")}return/str$/.test(e)?t.raw().toString():t.error("Decoding of string type: "+e+" unsupported")},u.prototype._decodeObjid=function(t,e,n){let i;const r=[];let s=0,o=0;for(;!t.isEmpty();)o=t.readUInt8(),s<<=7,s|=127&o,0==(128&o)&&(r.push(s),s=0);128&o&&r.push(s);const a=r[0]/40|0,h=r[0]%40;if(i=n?r:[a,h].concat(r.slice(1)),e){let t=e[i.join(" ")];void 0===t&&(t=e[i.join(".")]),void 0!==t&&(i=t)}return i},u.prototype._decodeTime=function(t,e){const n=t.raw().toString();let i,r,s,o,a,h;if("gentime"===e)i=0|n.slice(0,4),r=0|n.slice(4,6),s=0|n.slice(6,8),o=0|n.slice(8,10),a=0|n.slice(10,12),h=0|n.slice(12,14);else{if("utctime"!==e)return t.error("Decoding "+e+" time is not supported yet");i=0|n.slice(0,2),r=0|n.slice(2,4),s=0|n.slice(4,6),o=0|n.slice(6,8),a=0|n.slice(8,10),h=0|n.slice(10,12),i=i<70?2e3+i:1900+i}return Date.UTC(i,r-1,s,o,a,h,0)},u.prototype._decodeNull=function(){return null},u.prototype._decodeBool=function(t){const e=t.readUInt8();return t.isError(e)?e:0!==e},u.prototype._decodeInt=function(t,e){const n=t.raw();let r=new i(n);return e&&(r=e[r.toString(10)]||r),r},u.prototype._use=function(t,e){return"function"==typeof t&&(t=t(e)),t._getDecoder("der").tree}})),r.register("lgkmB",(function(t,e){var n=r("bniia"),i=r("iUg6U").Buffer,s=r("9Qw3K");function o(t){s.call(this,t),this.enc="pem"}n(o,s),t.exports=o,o.prototype.decode=function(t,e){const n=t.toString().split(/[\r\n]+/g),r=e.label.toUpperCase(),o=/^-----(BEGIN|END) ([^-]+)-----$/;let a=-1,h=-1;for(let t=0;t<n.length;t++){const e=n[t].match(o);if(null!==e&&e[2]===r){if(-1!==a){if("END"!==e[1])break;h=t;break}if("BEGIN"!==e[1])break;a=t}}if(-1===a||-1===h)throw new Error("PEM section not found for: "+r);const u=n.slice(a+1,h).join("");u.replace(/[^a-z0-9+/=]+/gi,"");const l=i.from(u,"base64");return s.prototype.decode.call(this,l,e)}})),r.register("gi7zr",(function(t,e){const n=t.exports;n.Reporter=r("kiLMG").Reporter,n.DecoderBuffer=r("6LLAC").DecoderBuffer,n.EncoderBuffer=r("6LLAC").EncoderBuffer,n.Node=r("f4zDQ")})),r.register("4Sey6",(function(t,e){const n=t.exports;n._reverse=function(t){const e={};return Object.keys(t).forEach((function(n){(0|n)==n&&(n|=0);const i=t[n];e[i]=n})),e},n.der=r("4Urgx")})),r.register("ged9F",(function(t,e){var n=r("1auoC"),i=n.define("Time",(function(){this.choice({utcTime:this.utctime(),generalTime:this.gentime()})})),s=n.define("AttributeTypeValue",(function(){this.seq().obj(this.key("type").objid(),this.key("value").any())})),o=n.define("AlgorithmIdentifier",(function(){this.seq().obj(this.key("algorithm").objid(),this.key("parameters").optional(),this.key("curve").objid().optional())})),a=n.define("SubjectPublicKeyInfo",(function(){this.seq().obj(this.key("algorithm").use(o),this.key("subjectPublicKey").bitstr())})),h=n.define("RelativeDistinguishedName",(function(){this.setof(s)})),u=n.define("RDNSequence",(function(){this.seqof(h)})),l=n.define("Name",(function(){this.choice({rdnSequence:this.use(u)})})),c=n.define("Validity",(function(){this.seq().obj(this.key("notBefore").use(i),this.key("notAfter").use(i))})),d=n.define("Extension",(function(){this.seq().obj(this.key("extnID").objid(),this.key("critical").bool().def(!1),this.key("extnValue").octstr())})),f=n.define("TBSCertificate",(function(){this.seq().obj(this.key("version").explicit(0).int().optional(),this.key("serialNumber").int(),this.key("signature").use(o),this.key("issuer").use(l),this.key("validity").use(c),this.key("subject").use(l),this.key("subjectPublicKeyInfo").use(a),this.key("issuerUniqueID").implicit(1).bitstr().optional(),this.key("subjectUniqueID").implicit(2).bitstr().optional(),this.key("extensions").explicit(3).seqof(d).optional())})),p=n.define("X509Certificate",(function(){this.seq().obj(this.key("tbsCertificate").use(f),this.key("signatureAlgorithm").use(o),this.key("signatureValue").bitstr())}));t.exports=p})),r.register("4IRG5",(function(t,e){t.exports=JSON.parse('{"2.16.840.1.101.3.4.1.1":"aes-128-ecb","2.16.840.1.101.3.4.1.2":"aes-128-cbc","2.16.840.1.101.3.4.1.3":"aes-128-ofb","2.16.840.1.101.3.4.1.4":"aes-128-cfb","2.16.840.1.101.3.4.1.21":"aes-192-ecb","2.16.840.1.101.3.4.1.22":"aes-192-cbc","2.16.840.1.101.3.4.1.23":"aes-192-ofb","2.16.840.1.101.3.4.1.24":"aes-192-cfb","2.16.840.1.101.3.4.1.41":"aes-256-ecb","2.16.840.1.101.3.4.1.42":"aes-256-cbc","2.16.840.1.101.3.4.1.43":"aes-256-ofb","2.16.840.1.101.3.4.1.44":"aes-256-cfb"}')})),r.register("hg5oe",(function(t,e){var n=/Proc-Type: 4,ENCRYPTED[\n\r]+DEK-Info: AES-((?:128)|(?:192)|(?:256))-CBC,([0-9A-H]+)[\n\r]+([0-9A-z\n\r+/=]+)[\n\r]+/m,i=/^-----BEGIN ((?:.*? KEY)|CERTIFICATE)-----/m,s=/^-----BEGIN ((?:.*? KEY)|CERTIFICATE)-----([0-9A-z\n\r+/=]+)-----END \1-----$/m,o=r("cthQ7"),a=r("2JnZq"),h=r("4OiF0").Buffer;t.exports=function(t,e){var r,u=t.toString(),l=u.match(n);if(l){var c="aes"+l[1],d=h.from(l[2],"hex"),f=h.from(l[3].replace(/[\r\n]/g,""),"base64"),p=o(e,d.slice(0,8),parseInt(l[1],10)).key,m=[],g=a.createDecipheriv(c,p,d);m.push(g.update(f)),m.push(g.final()),r=h.concat(m)}else{var v=u.match(s);r=h.from(v[2].replace(/[\r\n]/g,""),"base64")}return{tag:u.match(i)[1],data:r}}})),r.register("6YO51",(function(t,e){t.exports=JSON.parse('{"1.3.132.0.10":"secp256k1","1.3.132.0.33":"p224","1.2.840.10045.3.1.1":"p192","1.2.840.10045.3.1.7":"p256","1.3.132.0.34":"p384","1.3.132.0.35":"p521"}')})),r.register("9J4Jv",(function(t,e){var n=r("4OiF0").Buffer,i=r("7ww61"),s=r("ikIB9").ec,o=r("eOlL6"),a=r("6YO51");function h(t,e){if(t.cmpn(0)<=0)throw new Error("invalid sig");if(t.cmp(e)>=e)throw new Error("invalid sig")}t.exports=function(t,e,r,u,l){var c=o(r);if("ec"===c.type){if("ecdsa"!==u&&"ecdsa/rsa"!==u)throw new Error("wrong public key type");return function(t,e,n){var i=a[n.data.algorithm.curve.join(".")];if(!i)throw new Error("unknown curve "+n.data.algorithm.curve.join("."));var r=new s(i),o=n.data.subjectPrivateKey.data;return r.verify(e,t,o)}(t,e,c)}if("dsa"===c.type){if("dsa"!==u)throw new Error("wrong public key type");return function(t,e,n){var r=n.data.p,s=n.data.q,a=n.data.g,u=n.data.pub_key,l=o.signature.decode(t,"der"),c=l.s,d=l.r;h(c,s),h(d,s);var f=i.mont(r),p=c.invm(s),m=a.toRed(f).redPow(new i(e).mul(p).mod(s)).fromRed().mul(u.toRed(f).redPow(d.mul(p).mod(s)).fromRed()).mod(r).mod(s);return 0===m.cmp(d)}(t,e,c)}if("rsa"!==u&&"ecdsa/rsa"!==u)throw new Error("wrong public key type");e=n.concat([l,e]);for(var d=c.modulus.byteLength(),f=[1],p=0;e.length+f.length+2<d;)f.push(255),p++;f.push(0);for(var m=-1;++m<e.length;)f.push(e[m]);f=n.from(f);var g=i.mont(c.modulus);t=(t=new i(t).toRed(g)).redPow(new i(c.publicExponent)),t=n.from(t.fromRed().toArray());var v=p<8?1:0;for(d=Math.min(t.length,f.length),t.length!==f.length&&(v=1),m=-1;++m<d;)v|=t[m]^f[m];return 0===v}})),r.register("3ZddE",(function(t,e){var n=r("8UsMN").Buffer,i=r("ikIB9"),s=r("2DN2x");t.exports=function(t){return new a(t)};var o={secp256k1:{name:"secp256k1",byteLength:32},secp224r1:{name:"p224",byteLength:28},prime256v1:{name:"p256",byteLength:32},prime192v1:{name:"p192",byteLength:24},ed25519:{name:"ed25519",byteLength:32},secp384r1:{name:"p384",byteLength:48},secp521r1:{name:"p521",byteLength:66}};function a(t){this.curveType=o[t],this.curveType||(this.curveType={name:t}),this.curve=new i.ec(this.curveType.name),this.keys=void 0}function h(t,e,i){Array.isArray(t)||(t=t.toArray());var r=new n(t);if(i&&r.length<i){var s=new n(i-r.length);s.fill(0),r=n.concat([s,r])}return e?r.toString(e):r}o.p224=o.secp224r1,o.p256=o.secp256r1=o.prime256v1,o.p192=o.secp192r1=o.prime192v1,o.p384=o.secp384r1,o.p521=o.secp521r1,a.prototype.generateKeys=function(t,e){return this.keys=this.curve.genKeyPair(),this.getPublicKey(t,e)},a.prototype.computeSecret=function(t,e,i){return e=e||"utf8",n.isBuffer(t)||(t=new n(t,e)),h(this.curve.keyFromPublic(t).getPublic().mul(this.keys.getPrivate()).getX(),i,this.curveType.byteLength)},a.prototype.getPublicKey=function(t,e){var n=this.keys.getPublic("compressed"===e,!0);return"hybrid"===e&&(n[n.length-1]%2?n[0]=7:n[0]=6),h(n,t)},a.prototype.getPrivateKey=function(t){return h(this.keys.getPrivate(),t)},a.prototype.setPublicKey=function(t,e){return e=e||"utf8",n.isBuffer(t)||(t=new n(t,e)),this.keys._importPublic(t),this},a.prototype.setPrivateKey=function(t,e){e=e||"utf8",n.isBuffer(t)||(t=new n(t,e));var i=new s(t);return i=i.toString(16),this.keys=this.curve.genKeyPair(),this.keys._importPrivate(i),this}})),r.register("2DN2x",(function(t,e){!function(t,e){function n(t,e){if(!t)throw new Error(e||"Assertion failed")}function i(t,e){t.super_=e;var n=function(){};n.prototype=e.prototype,t.prototype=new n,t.prototype.constructor=t}function s(t,e,n){if(s.isBN(t))return t;this.negative=0,this.words=null,this.length=0,this.red=null,null!==t&&("le"!==e&&"be"!==e||(n=e,e=10),this._init(t||0,e||10,n||"be"))}var o;"object"==typeof t?t.exports=s:e.BN=s,s.BN=s,s.wordSize=26;try{o="undefined"!=typeof window&&void 0!==window.Buffer?window.Buffer:r("66yC2").Buffer}catch(t){}function a(t,e){var n=t.charCodeAt(e);return n>=65&&n<=70?n-55:n>=97&&n<=102?n-87:n-48&15}function h(t,e,n){var i=a(t,n);return n-1>=e&&(i|=a(t,n-1)<<4),i}function u(t,e,n,i){for(var r=0,s=Math.min(t.length,n),o=e;o<s;o++){var a=t.charCodeAt(o)-48;r*=i,r+=a>=49?a-49+10:a>=17?a-17+10:a}return r}s.isBN=function(t){return t instanceof s||null!==t&&"object"==typeof t&&t.constructor.wordSize===s.wordSize&&Array.isArray(t.words)},s.max=function(t,e){return t.cmp(e)>0?t:e},s.min=function(t,e){return t.cmp(e)<0?t:e},s.prototype._init=function(t,e,i){if("number"==typeof t)return this._initNumber(t,e,i);if("object"==typeof t)return this._initArray(t,e,i);"hex"===e&&(e=16),n(e===(0|e)&&e>=2&&e<=36);var r=0;"-"===(t=t.toString().replace(/\s+/g,""))[0]&&(r++,this.negative=1),r<t.length&&(16===e?this._parseHex(t,r,i):(this._parseBase(t,e,r),"le"===i&&this._initArray(this.toArray(),e,i)))},s.prototype._initNumber=function(t,e,i){t<0&&(this.negative=1,t=-t),t<67108864?(this.words=[67108863&t],this.length=1):t<4503599627370496?(this.words=[67108863&t,t/67108864&67108863],this.length=2):(n(t<9007199254740992),this.words=[67108863&t,t/67108864&67108863,1],this.length=3),"le"===i&&this._initArray(this.toArray(),e,i)},s.prototype._initArray=function(t,e,i){if(n("number"==typeof t.length),t.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(t.length/3),this.words=new Array(this.length);for(var r=0;r<this.length;r++)this.words[r]=0;var s,o,a=0;if("be"===i)for(r=t.length-1,s=0;r>=0;r-=3)o=t[r]|t[r-1]<<8|t[r-2]<<16,this.words[s]|=o<<a&67108863,this.words[s+1]=o>>>26-a&67108863,(a+=24)>=26&&(a-=26,s++);else if("le"===i)for(r=0,s=0;r<t.length;r+=3)o=t[r]|t[r+1]<<8|t[r+2]<<16,this.words[s]|=o<<a&67108863,this.words[s+1]=o>>>26-a&67108863,(a+=24)>=26&&(a-=26,s++);return this.strip()},s.prototype._parseHex=function(t,e,n){this.length=Math.ceil((t.length-e)/6),this.words=new Array(this.length);for(var i=0;i<this.length;i++)this.words[i]=0;var r,s=0,o=0;if("be"===n)for(i=t.length-1;i>=e;i-=2)r=h(t,e,i)<<s,this.words[o]|=67108863&r,s>=18?(s-=18,o+=1,this.words[o]|=r>>>26):s+=8;else for(i=(t.length-e)%2==0?e+1:e;i<t.length;i+=2)r=h(t,e,i)<<s,this.words[o]|=67108863&r,s>=18?(s-=18,o+=1,this.words[o]|=r>>>26):s+=8;this.strip()},s.prototype._parseBase=function(t,e,n){this.words=[0],this.length=1;for(var i=0,r=1;r<=67108863;r*=e)i++;i--,r=r/e|0;for(var s=t.length-n,o=s%i,a=Math.min(s,s-o)+n,h=0,l=n;l<a;l+=i)h=u(t,l,l+i,e),this.imuln(r),this.words[0]+h<67108864?this.words[0]+=h:this._iaddn(h);if(0!==o){var c=1;for(h=u(t,l,t.length,e),l=0;l<o;l++)c*=e;this.imuln(c),this.words[0]+h<67108864?this.words[0]+=h:this._iaddn(h)}this.strip()},s.prototype.copy=function(t){t.words=new Array(this.length);for(var e=0;e<this.length;e++)t.words[e]=this.words[e];t.length=this.length,t.negative=this.negative,t.red=this.red},s.prototype.clone=function(){var t=new s(null);return this.copy(t),t},s.prototype._expand=function(t){for(;this.length<t;)this.words[this.length++]=0;return this},s.prototype.strip=function(){for(;this.length>1&&0===this.words[this.length-1];)this.length--;return this._normSign()},s.prototype._normSign=function(){return 1===this.length&&0===this.words[0]&&(this.negative=0),this},s.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var l=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],c=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],d=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];function f(t,e,n){n.negative=e.negative^t.negative;var i=t.length+e.length|0;n.length=i,i=i-1|0;var r=0|t.words[0],s=0|e.words[0],o=r*s,a=67108863&o,h=o/67108864|0;n.words[0]=a;for(var u=1;u<i;u++){for(var l=h>>>26,c=67108863&h,d=Math.min(u,e.length-1),f=Math.max(0,u-t.length+1);f<=d;f++){var p=u-f|0;l+=(o=(r=0|t.words[p])*(s=0|e.words[f])+c)/67108864|0,c=67108863&o}n.words[u]=0|c,h=0|l}return 0!==h?n.words[u]=0|h:n.length--,n.strip()}s.prototype.toString=function(t,e){var i;if(e=0|e||1,16===(t=t||10)||"hex"===t){i="";for(var r=0,s=0,o=0;o<this.length;o++){var a=this.words[o],h=(16777215&(a<<r|s)).toString(16);i=0!==(s=a>>>24-r&16777215)||o!==this.length-1?l[6-h.length]+h+i:h+i,(r+=2)>=26&&(r-=26,o--)}for(0!==s&&(i=s.toString(16)+i);i.length%e!=0;)i="0"+i;return 0!==this.negative&&(i="-"+i),i}if(t===(0|t)&&t>=2&&t<=36){var u=c[t],f=d[t];i="";var p=this.clone();for(p.negative=0;!p.isZero();){var m=p.modn(f).toString(t);i=(p=p.idivn(f)).isZero()?m+i:l[u-m.length]+m+i}for(this.isZero()&&(i="0"+i);i.length%e!=0;)i="0"+i;return 0!==this.negative&&(i="-"+i),i}n(!1,"Base should be between 2 and 36")},s.prototype.toNumber=function(){var t=this.words[0];return 2===this.length?t+=67108864*this.words[1]:3===this.length&&1===this.words[2]?t+=4503599627370496+67108864*this.words[1]:this.length>2&&n(!1,"Number can only safely store up to 53 bits"),0!==this.negative?-t:t},s.prototype.toJSON=function(){return this.toString(16)},s.prototype.toBuffer=function(t,e){return n(void 0!==o),this.toArrayLike(o,t,e)},s.prototype.toArray=function(t,e){return this.toArrayLike(Array,t,e)},s.prototype.toArrayLike=function(t,e,i){var r=this.byteLength(),s=i||Math.max(1,r);n(r<=s,"byte array longer than desired length"),n(s>0,"Requested array length <= 0"),this.strip();var o,a,h="le"===e,u=new t(s),l=this.clone();if(h){for(a=0;!l.isZero();a++)o=l.andln(255),l.iushrn(8),u[a]=o;for(;a<s;a++)u[a]=0}else{for(a=0;a<s-r;a++)u[a]=0;for(a=0;!l.isZero();a++)o=l.andln(255),l.iushrn(8),u[s-a-1]=o}return u},Math.clz32?s.prototype._countBits=function(t){return 32-Math.clz32(t)}:s.prototype._countBits=function(t){var e=t,n=0;return e>=4096&&(n+=13,e>>>=13),e>=64&&(n+=7,e>>>=7),e>=8&&(n+=4,e>>>=4),e>=2&&(n+=2,e>>>=2),n+e},s.prototype._zeroBits=function(t){if(0===t)return 26;var e=t,n=0;return 0==(8191&e)&&(n+=13,e>>>=13),0==(127&e)&&(n+=7,e>>>=7),0==(15&e)&&(n+=4,e>>>=4),0==(3&e)&&(n+=2,e>>>=2),0==(1&e)&&n++,n},s.prototype.bitLength=function(){var t=this.words[this.length-1],e=this._countBits(t);return 26*(this.length-1)+e},s.prototype.zeroBits=function(){if(this.isZero())return 0;for(var t=0,e=0;e<this.length;e++){var n=this._zeroBits(this.words[e]);if(t+=n,26!==n)break}return t},s.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},s.prototype.toTwos=function(t){return 0!==this.negative?this.abs().inotn(t).iaddn(1):this.clone()},s.prototype.fromTwos=function(t){return this.testn(t-1)?this.notn(t).iaddn(1).ineg():this.clone()},s.prototype.isNeg=function(){return 0!==this.negative},s.prototype.neg=function(){return this.clone().ineg()},s.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},s.prototype.iuor=function(t){for(;this.length<t.length;)this.words[this.length++]=0;for(var e=0;e<t.length;e++)this.words[e]=this.words[e]|t.words[e];return this.strip()},s.prototype.ior=function(t){return n(0==(this.negative|t.negative)),this.iuor(t)},s.prototype.or=function(t){return this.length>t.length?this.clone().ior(t):t.clone().ior(this)},s.prototype.uor=function(t){return this.length>t.length?this.clone().iuor(t):t.clone().iuor(this)},s.prototype.iuand=function(t){var e;e=this.length>t.length?t:this;for(var n=0;n<e.length;n++)this.words[n]=this.words[n]&t.words[n];return this.length=e.length,this.strip()},s.prototype.iand=function(t){return n(0==(this.negative|t.negative)),this.iuand(t)},s.prototype.and=function(t){return this.length>t.length?this.clone().iand(t):t.clone().iand(this)},s.prototype.uand=function(t){return this.length>t.length?this.clone().iuand(t):t.clone().iuand(this)},s.prototype.iuxor=function(t){var e,n;this.length>t.length?(e=this,n=t):(e=t,n=this);for(var i=0;i<n.length;i++)this.words[i]=e.words[i]^n.words[i];if(this!==e)for(;i<e.length;i++)this.words[i]=e.words[i];return this.length=e.length,this.strip()},s.prototype.ixor=function(t){return n(0==(this.negative|t.negative)),this.iuxor(t)},s.prototype.xor=function(t){return this.length>t.length?this.clone().ixor(t):t.clone().ixor(this)},s.prototype.uxor=function(t){return this.length>t.length?this.clone().iuxor(t):t.clone().iuxor(this)},s.prototype.inotn=function(t){n("number"==typeof t&&t>=0);var e=0|Math.ceil(t/26),i=t%26;this._expand(e),i>0&&e--;for(var r=0;r<e;r++)this.words[r]=67108863&~this.words[r];return i>0&&(this.words[r]=~this.words[r]&67108863>>26-i),this.strip()},s.prototype.notn=function(t){return this.clone().inotn(t)},s.prototype.setn=function(t,e){n("number"==typeof t&&t>=0);var i=t/26|0,r=t%26;return this._expand(i+1),this.words[i]=e?this.words[i]|1<<r:this.words[i]&~(1<<r),this.strip()},s.prototype.iadd=function(t){var e,n,i;if(0!==this.negative&&0===t.negative)return this.negative=0,e=this.isub(t),this.negative^=1,this._normSign();if(0===this.negative&&0!==t.negative)return t.negative=0,e=this.isub(t),t.negative=1,e._normSign();this.length>t.length?(n=this,i=t):(n=t,i=this);for(var r=0,s=0;s<i.length;s++)e=(0|n.words[s])+(0|i.words[s])+r,this.words[s]=67108863&e,r=e>>>26;for(;0!==r&&s<n.length;s++)e=(0|n.words[s])+r,this.words[s]=67108863&e,r=e>>>26;if(this.length=n.length,0!==r)this.words[this.length]=r,this.length++;else if(n!==this)for(;s<n.length;s++)this.words[s]=n.words[s];return this},s.prototype.add=function(t){var e;return 0!==t.negative&&0===this.negative?(t.negative=0,e=this.sub(t),t.negative^=1,e):0===t.negative&&0!==this.negative?(this.negative=0,e=t.sub(this),this.negative=1,e):this.length>t.length?this.clone().iadd(t):t.clone().iadd(this)},s.prototype.isub=function(t){if(0!==t.negative){t.negative=0;var e=this.iadd(t);return t.negative=1,e._normSign()}if(0!==this.negative)return this.negative=0,this.iadd(t),this.negative=1,this._normSign();var n,i,r=this.cmp(t);if(0===r)return this.negative=0,this.length=1,this.words[0]=0,this;r>0?(n=this,i=t):(n=t,i=this);for(var s=0,o=0;o<i.length;o++)s=(e=(0|n.words[o])-(0|i.words[o])+s)>>26,this.words[o]=67108863&e;for(;0!==s&&o<n.length;o++)s=(e=(0|n.words[o])+s)>>26,this.words[o]=67108863&e;if(0===s&&o<n.length&&n!==this)for(;o<n.length;o++)this.words[o]=n.words[o];return this.length=Math.max(this.length,o),n!==this&&(this.negative=1),this.strip()},s.prototype.sub=function(t){return this.clone().isub(t)};var p=function(t,e,n){var i,r,s,o=t.words,a=e.words,h=n.words,u=0,l=0|o[0],c=8191&l,d=l>>>13,f=0|o[1],p=8191&f,m=f>>>13,g=0|o[2],v=8191&g,y=g>>>13,b=0|o[3],w=8191&b,_=b>>>13,M=0|o[4],k=8191&M,A=M>>>13,E=0|o[5],x=8191&E,S=E>>>13,T=0|o[6],I=8191&T,R=T>>>13,C=0|o[7],q=8191&C,N=C>>>13,L=0|o[8],D=8191&L,O=L>>>13,B=0|o[9],P=8191&B,U=B>>>13,F=0|a[0],j=8191&F,z=F>>>13,V=0|a[1],H=8191&V,K=V>>>13,W=0|a[2],G=8191&W,$=W>>>13,Q=0|a[3],X=8191&Q,Z=Q>>>13,Y=0|a[4],J=8191&Y,tt=Y>>>13,et=0|a[5],nt=8191&et,it=et>>>13,rt=0|a[6],st=8191&rt,ot=rt>>>13,at=0|a[7],ht=8191&at,ut=at>>>13,lt=0|a[8],ct=8191&lt,dt=lt>>>13,ft=0|a[9],pt=8191&ft,mt=ft>>>13;n.negative=t.negative^e.negative,n.length=19;var gt=(u+(i=Math.imul(c,j))|0)+((8191&(r=(r=Math.imul(c,z))+Math.imul(d,j)|0))<<13)|0;u=((s=Math.imul(d,z))+(r>>>13)|0)+(gt>>>26)|0,gt&=67108863,i=Math.imul(p,j),r=(r=Math.imul(p,z))+Math.imul(m,j)|0,s=Math.imul(m,z);var vt=(u+(i=i+Math.imul(c,H)|0)|0)+((8191&(r=(r=r+Math.imul(c,K)|0)+Math.imul(d,H)|0))<<13)|0;u=((s=s+Math.imul(d,K)|0)+(r>>>13)|0)+(vt>>>26)|0,vt&=67108863,i=Math.imul(v,j),r=(r=Math.imul(v,z))+Math.imul(y,j)|0,s=Math.imul(y,z),i=i+Math.imul(p,H)|0,r=(r=r+Math.imul(p,K)|0)+Math.imul(m,H)|0,s=s+Math.imul(m,K)|0;var yt=(u+(i=i+Math.imul(c,G)|0)|0)+((8191&(r=(r=r+Math.imul(c,$)|0)+Math.imul(d,G)|0))<<13)|0;u=((s=s+Math.imul(d,$)|0)+(r>>>13)|0)+(yt>>>26)|0,yt&=67108863,i=Math.imul(w,j),r=(r=Math.imul(w,z))+Math.imul(_,j)|0,s=Math.imul(_,z),i=i+Math.imul(v,H)|0,r=(r=r+Math.imul(v,K)|0)+Math.imul(y,H)|0,s=s+Math.imul(y,K)|0,i=i+Math.imul(p,G)|0,r=(r=r+Math.imul(p,$)|0)+Math.imul(m,G)|0,s=s+Math.imul(m,$)|0;var bt=(u+(i=i+Math.imul(c,X)|0)|0)+((8191&(r=(r=r+Math.imul(c,Z)|0)+Math.imul(d,X)|0))<<13)|0;u=((s=s+Math.imul(d,Z)|0)+(r>>>13)|0)+(bt>>>26)|0,bt&=67108863,i=Math.imul(k,j),r=(r=Math.imul(k,z))+Math.imul(A,j)|0,s=Math.imul(A,z),i=i+Math.imul(w,H)|0,r=(r=r+Math.imul(w,K)|0)+Math.imul(_,H)|0,s=s+Math.imul(_,K)|0,i=i+Math.imul(v,G)|0,r=(r=r+Math.imul(v,$)|0)+Math.imul(y,G)|0,s=s+Math.imul(y,$)|0,i=i+Math.imul(p,X)|0,r=(r=r+Math.imul(p,Z)|0)+Math.imul(m,X)|0,s=s+Math.imul(m,Z)|0;var wt=(u+(i=i+Math.imul(c,J)|0)|0)+((8191&(r=(r=r+Math.imul(c,tt)|0)+Math.imul(d,J)|0))<<13)|0;u=((s=s+Math.imul(d,tt)|0)+(r>>>13)|0)+(wt>>>26)|0,wt&=67108863,i=Math.imul(x,j),r=(r=Math.imul(x,z))+Math.imul(S,j)|0,s=Math.imul(S,z),i=i+Math.imul(k,H)|0,r=(r=r+Math.imul(k,K)|0)+Math.imul(A,H)|0,s=s+Math.imul(A,K)|0,i=i+Math.imul(w,G)|0,r=(r=r+Math.imul(w,$)|0)+Math.imul(_,G)|0,s=s+Math.imul(_,$)|0,i=i+Math.imul(v,X)|0,r=(r=r+Math.imul(v,Z)|0)+Math.imul(y,X)|0,s=s+Math.imul(y,Z)|0,i=i+Math.imul(p,J)|0,r=(r=r+Math.imul(p,tt)|0)+Math.imul(m,J)|0,s=s+Math.imul(m,tt)|0;var _t=(u+(i=i+Math.imul(c,nt)|0)|0)+((8191&(r=(r=r+Math.imul(c,it)|0)+Math.imul(d,nt)|0))<<13)|0;u=((s=s+Math.imul(d,it)|0)+(r>>>13)|0)+(_t>>>26)|0,_t&=67108863,i=Math.imul(I,j),r=(r=Math.imul(I,z))+Math.imul(R,j)|0,s=Math.imul(R,z),i=i+Math.imul(x,H)|0,r=(r=r+Math.imul(x,K)|0)+Math.imul(S,H)|0,s=s+Math.imul(S,K)|0,i=i+Math.imul(k,G)|0,r=(r=r+Math.imul(k,$)|0)+Math.imul(A,G)|0,s=s+Math.imul(A,$)|0,i=i+Math.imul(w,X)|0,r=(r=r+Math.imul(w,Z)|0)+Math.imul(_,X)|0,s=s+Math.imul(_,Z)|0,i=i+Math.imul(v,J)|0,r=(r=r+Math.imul(v,tt)|0)+Math.imul(y,J)|0,s=s+Math.imul(y,tt)|0,i=i+Math.imul(p,nt)|0,r=(r=r+Math.imul(p,it)|0)+Math.imul(m,nt)|0,s=s+Math.imul(m,it)|0;var Mt=(u+(i=i+Math.imul(c,st)|0)|0)+((8191&(r=(r=r+Math.imul(c,ot)|0)+Math.imul(d,st)|0))<<13)|0;u=((s=s+Math.imul(d,ot)|0)+(r>>>13)|0)+(Mt>>>26)|0,Mt&=67108863,i=Math.imul(q,j),r=(r=Math.imul(q,z))+Math.imul(N,j)|0,s=Math.imul(N,z),i=i+Math.imul(I,H)|0,r=(r=r+Math.imul(I,K)|0)+Math.imul(R,H)|0,s=s+Math.imul(R,K)|0,i=i+Math.imul(x,G)|0,r=(r=r+Math.imul(x,$)|0)+Math.imul(S,G)|0,s=s+Math.imul(S,$)|0,i=i+Math.imul(k,X)|0,r=(r=r+Math.imul(k,Z)|0)+Math.imul(A,X)|0,s=s+Math.imul(A,Z)|0,i=i+Math.imul(w,J)|0,r=(r=r+Math.imul(w,tt)|0)+Math.imul(_,J)|0,s=s+Math.imul(_,tt)|0,i=i+Math.imul(v,nt)|0,r=(r=r+Math.imul(v,it)|0)+Math.imul(y,nt)|0,s=s+Math.imul(y,it)|0,i=i+Math.imul(p,st)|0,r=(r=r+Math.imul(p,ot)|0)+Math.imul(m,st)|0,s=s+Math.imul(m,ot)|0;var kt=(u+(i=i+Math.imul(c,ht)|0)|0)+((8191&(r=(r=r+Math.imul(c,ut)|0)+Math.imul(d,ht)|0))<<13)|0;u=((s=s+Math.imul(d,ut)|0)+(r>>>13)|0)+(kt>>>26)|0,kt&=67108863,i=Math.imul(D,j),r=(r=Math.imul(D,z))+Math.imul(O,j)|0,s=Math.imul(O,z),i=i+Math.imul(q,H)|0,r=(r=r+Math.imul(q,K)|0)+Math.imul(N,H)|0,s=s+Math.imul(N,K)|0,i=i+Math.imul(I,G)|0,r=(r=r+Math.imul(I,$)|0)+Math.imul(R,G)|0,s=s+Math.imul(R,$)|0,i=i+Math.imul(x,X)|0,r=(r=r+Math.imul(x,Z)|0)+Math.imul(S,X)|0,s=s+Math.imul(S,Z)|0,i=i+Math.imul(k,J)|0,r=(r=r+Math.imul(k,tt)|0)+Math.imul(A,J)|0,s=s+Math.imul(A,tt)|0,i=i+Math.imul(w,nt)|0,r=(r=r+Math.imul(w,it)|0)+Math.imul(_,nt)|0,s=s+Math.imul(_,it)|0,i=i+Math.imul(v,st)|0,r=(r=r+Math.imul(v,ot)|0)+Math.imul(y,st)|0,s=s+Math.imul(y,ot)|0,i=i+Math.imul(p,ht)|0,r=(r=r+Math.imul(p,ut)|0)+Math.imul(m,ht)|0,s=s+Math.imul(m,ut)|0;var At=(u+(i=i+Math.imul(c,ct)|0)|0)+((8191&(r=(r=r+Math.imul(c,dt)|0)+Math.imul(d,ct)|0))<<13)|0;u=((s=s+Math.imul(d,dt)|0)+(r>>>13)|0)+(At>>>26)|0,At&=67108863,i=Math.imul(P,j),r=(r=Math.imul(P,z))+Math.imul(U,j)|0,s=Math.imul(U,z),i=i+Math.imul(D,H)|0,r=(r=r+Math.imul(D,K)|0)+Math.imul(O,H)|0,s=s+Math.imul(O,K)|0,i=i+Math.imul(q,G)|0,r=(r=r+Math.imul(q,$)|0)+Math.imul(N,G)|0,s=s+Math.imul(N,$)|0,i=i+Math.imul(I,X)|0,r=(r=r+Math.imul(I,Z)|0)+Math.imul(R,X)|0,s=s+Math.imul(R,Z)|0,i=i+Math.imul(x,J)|0,r=(r=r+Math.imul(x,tt)|0)+Math.imul(S,J)|0,s=s+Math.imul(S,tt)|0,i=i+Math.imul(k,nt)|0,r=(r=r+Math.imul(k,it)|0)+Math.imul(A,nt)|0,s=s+Math.imul(A,it)|0,i=i+Math.imul(w,st)|0,r=(r=r+Math.imul(w,ot)|0)+Math.imul(_,st)|0,s=s+Math.imul(_,ot)|0,i=i+Math.imul(v,ht)|0,r=(r=r+Math.imul(v,ut)|0)+Math.imul(y,ht)|0,s=s+Math.imul(y,ut)|0,i=i+Math.imul(p,ct)|0,r=(r=r+Math.imul(p,dt)|0)+Math.imul(m,ct)|0,s=s+Math.imul(m,dt)|0;var Et=(u+(i=i+Math.imul(c,pt)|0)|0)+((8191&(r=(r=r+Math.imul(c,mt)|0)+Math.imul(d,pt)|0))<<13)|0;u=((s=s+Math.imul(d,mt)|0)+(r>>>13)|0)+(Et>>>26)|0,Et&=67108863,i=Math.imul(P,H),r=(r=Math.imul(P,K))+Math.imul(U,H)|0,s=Math.imul(U,K),i=i+Math.imul(D,G)|0,r=(r=r+Math.imul(D,$)|0)+Math.imul(O,G)|0,s=s+Math.imul(O,$)|0,i=i+Math.imul(q,X)|0,r=(r=r+Math.imul(q,Z)|0)+Math.imul(N,X)|0,s=s+Math.imul(N,Z)|0,i=i+Math.imul(I,J)|0,r=(r=r+Math.imul(I,tt)|0)+Math.imul(R,J)|0,s=s+Math.imul(R,tt)|0,i=i+Math.imul(x,nt)|0,r=(r=r+Math.imul(x,it)|0)+Math.imul(S,nt)|0,s=s+Math.imul(S,it)|0,i=i+Math.imul(k,st)|0,r=(r=r+Math.imul(k,ot)|0)+Math.imul(A,st)|0,s=s+Math.imul(A,ot)|0,i=i+Math.imul(w,ht)|0,r=(r=r+Math.imul(w,ut)|0)+Math.imul(_,ht)|0,s=s+Math.imul(_,ut)|0,i=i+Math.imul(v,ct)|0,r=(r=r+Math.imul(v,dt)|0)+Math.imul(y,ct)|0,s=s+Math.imul(y,dt)|0;var xt=(u+(i=i+Math.imul(p,pt)|0)|0)+((8191&(r=(r=r+Math.imul(p,mt)|0)+Math.imul(m,pt)|0))<<13)|0;u=((s=s+Math.imul(m,mt)|0)+(r>>>13)|0)+(xt>>>26)|0,xt&=67108863,i=Math.imul(P,G),r=(r=Math.imul(P,$))+Math.imul(U,G)|0,s=Math.imul(U,$),i=i+Math.imul(D,X)|0,r=(r=r+Math.imul(D,Z)|0)+Math.imul(O,X)|0,s=s+Math.imul(O,Z)|0,i=i+Math.imul(q,J)|0,r=(r=r+Math.imul(q,tt)|0)+Math.imul(N,J)|0,s=s+Math.imul(N,tt)|0,i=i+Math.imul(I,nt)|0,r=(r=r+Math.imul(I,it)|0)+Math.imul(R,nt)|0,s=s+Math.imul(R,it)|0,i=i+Math.imul(x,st)|0,r=(r=r+Math.imul(x,ot)|0)+Math.imul(S,st)|0,s=s+Math.imul(S,ot)|0,i=i+Math.imul(k,ht)|0,r=(r=r+Math.imul(k,ut)|0)+Math.imul(A,ht)|0,s=s+Math.imul(A,ut)|0,i=i+Math.imul(w,ct)|0,r=(r=r+Math.imul(w,dt)|0)+Math.imul(_,ct)|0,s=s+Math.imul(_,dt)|0;var St=(u+(i=i+Math.imul(v,pt)|0)|0)+((8191&(r=(r=r+Math.imul(v,mt)|0)+Math.imul(y,pt)|0))<<13)|0;u=((s=s+Math.imul(y,mt)|0)+(r>>>13)|0)+(St>>>26)|0,St&=67108863,i=Math.imul(P,X),r=(r=Math.imul(P,Z))+Math.imul(U,X)|0,s=Math.imul(U,Z),i=i+Math.imul(D,J)|0,r=(r=r+Math.imul(D,tt)|0)+Math.imul(O,J)|0,s=s+Math.imul(O,tt)|0,i=i+Math.imul(q,nt)|0,r=(r=r+Math.imul(q,it)|0)+Math.imul(N,nt)|0,s=s+Math.imul(N,it)|0,i=i+Math.imul(I,st)|0,r=(r=r+Math.imul(I,ot)|0)+Math.imul(R,st)|0,s=s+Math.imul(R,ot)|0,i=i+Math.imul(x,ht)|0,r=(r=r+Math.imul(x,ut)|0)+Math.imul(S,ht)|0,s=s+Math.imul(S,ut)|0,i=i+Math.imul(k,ct)|0,r=(r=r+Math.imul(k,dt)|0)+Math.imul(A,ct)|0,s=s+Math.imul(A,dt)|0;var Tt=(u+(i=i+Math.imul(w,pt)|0)|0)+((8191&(r=(r=r+Math.imul(w,mt)|0)+Math.imul(_,pt)|0))<<13)|0;u=((s=s+Math.imul(_,mt)|0)+(r>>>13)|0)+(Tt>>>26)|0,Tt&=67108863,i=Math.imul(P,J),r=(r=Math.imul(P,tt))+Math.imul(U,J)|0,s=Math.imul(U,tt),i=i+Math.imul(D,nt)|0,r=(r=r+Math.imul(D,it)|0)+Math.imul(O,nt)|0,s=s+Math.imul(O,it)|0,i=i+Math.imul(q,st)|0,r=(r=r+Math.imul(q,ot)|0)+Math.imul(N,st)|0,s=s+Math.imul(N,ot)|0,i=i+Math.imul(I,ht)|0,r=(r=r+Math.imul(I,ut)|0)+Math.imul(R,ht)|0,s=s+Math.imul(R,ut)|0,i=i+Math.imul(x,ct)|0,r=(r=r+Math.imul(x,dt)|0)+Math.imul(S,ct)|0,s=s+Math.imul(S,dt)|0;var It=(u+(i=i+Math.imul(k,pt)|0)|0)+((8191&(r=(r=r+Math.imul(k,mt)|0)+Math.imul(A,pt)|0))<<13)|0;u=((s=s+Math.imul(A,mt)|0)+(r>>>13)|0)+(It>>>26)|0,It&=67108863,i=Math.imul(P,nt),r=(r=Math.imul(P,it))+Math.imul(U,nt)|0,s=Math.imul(U,it),i=i+Math.imul(D,st)|0,r=(r=r+Math.imul(D,ot)|0)+Math.imul(O,st)|0,s=s+Math.imul(O,ot)|0,i=i+Math.imul(q,ht)|0,r=(r=r+Math.imul(q,ut)|0)+Math.imul(N,ht)|0,s=s+Math.imul(N,ut)|0,i=i+Math.imul(I,ct)|0,r=(r=r+Math.imul(I,dt)|0)+Math.imul(R,ct)|0,s=s+Math.imul(R,dt)|0;var Rt=(u+(i=i+Math.imul(x,pt)|0)|0)+((8191&(r=(r=r+Math.imul(x,mt)|0)+Math.imul(S,pt)|0))<<13)|0;u=((s=s+Math.imul(S,mt)|0)+(r>>>13)|0)+(Rt>>>26)|0,Rt&=67108863,i=Math.imul(P,st),r=(r=Math.imul(P,ot))+Math.imul(U,st)|0,s=Math.imul(U,ot),i=i+Math.imul(D,ht)|0,r=(r=r+Math.imul(D,ut)|0)+Math.imul(O,ht)|0,s=s+Math.imul(O,ut)|0,i=i+Math.imul(q,ct)|0,r=(r=r+Math.imul(q,dt)|0)+Math.imul(N,ct)|0,s=s+Math.imul(N,dt)|0;var Ct=(u+(i=i+Math.imul(I,pt)|0)|0)+((8191&(r=(r=r+Math.imul(I,mt)|0)+Math.imul(R,pt)|0))<<13)|0;u=((s=s+Math.imul(R,mt)|0)+(r>>>13)|0)+(Ct>>>26)|0,Ct&=67108863,i=Math.imul(P,ht),r=(r=Math.imul(P,ut))+Math.imul(U,ht)|0,s=Math.imul(U,ut),i=i+Math.imul(D,ct)|0,r=(r=r+Math.imul(D,dt)|0)+Math.imul(O,ct)|0,s=s+Math.imul(O,dt)|0;var qt=(u+(i=i+Math.imul(q,pt)|0)|0)+((8191&(r=(r=r+Math.imul(q,mt)|0)+Math.imul(N,pt)|0))<<13)|0;u=((s=s+Math.imul(N,mt)|0)+(r>>>13)|0)+(qt>>>26)|0,qt&=67108863,i=Math.imul(P,ct),r=(r=Math.imul(P,dt))+Math.imul(U,ct)|0,s=Math.imul(U,dt);var Nt=(u+(i=i+Math.imul(D,pt)|0)|0)+((8191&(r=(r=r+Math.imul(D,mt)|0)+Math.imul(O,pt)|0))<<13)|0;u=((s=s+Math.imul(O,mt)|0)+(r>>>13)|0)+(Nt>>>26)|0,Nt&=67108863;var Lt=(u+(i=Math.imul(P,pt))|0)+((8191&(r=(r=Math.imul(P,mt))+Math.imul(U,pt)|0))<<13)|0;return u=((s=Math.imul(U,mt))+(r>>>13)|0)+(Lt>>>26)|0,Lt&=67108863,h[0]=gt,h[1]=vt,h[2]=yt,h[3]=bt,h[4]=wt,h[5]=_t,h[6]=Mt,h[7]=kt,h[8]=At,h[9]=Et,h[10]=xt,h[11]=St,h[12]=Tt,h[13]=It,h[14]=Rt,h[15]=Ct,h[16]=qt,h[17]=Nt,h[18]=Lt,0!==u&&(h[19]=u,n.length++),n};function m(t,e,n){return(new g).mulp(t,e,n)}function g(t,e){this.x=t,this.y=e}Math.imul||(p=f),s.prototype.mulTo=function(t,e){var n,i=this.length+t.length;return n=10===this.length&&10===t.length?p(this,t,e):i<63?f(this,t,e):i<1024?function(t,e,n){n.negative=e.negative^t.negative,n.length=t.length+e.length;for(var i=0,r=0,s=0;s<n.length-1;s++){var o=r;r=0;for(var a=67108863&i,h=Math.min(s,e.length-1),u=Math.max(0,s-t.length+1);u<=h;u++){var l=s-u,c=(0|t.words[l])*(0|e.words[u]),d=67108863&c;a=67108863&(d=d+a|0),r+=(o=(o=o+(c/67108864|0)|0)+(d>>>26)|0)>>>26,o&=67108863}n.words[s]=a,i=o,o=r}return 0!==i?n.words[s]=i:n.length--,n.strip()}(this,t,e):m(this,t,e),n},g.prototype.makeRBT=function(t){for(var e=new Array(t),n=s.prototype._countBits(t)-1,i=0;i<t;i++)e[i]=this.revBin(i,n,t);return e},g.prototype.revBin=function(t,e,n){if(0===t||t===n-1)return t;for(var i=0,r=0;r<e;r++)i|=(1&t)<<e-r-1,t>>=1;return i},g.prototype.permute=function(t,e,n,i,r,s){for(var o=0;o<s;o++)i[o]=e[t[o]],r[o]=n[t[o]]},g.prototype.transform=function(t,e,n,i,r,s){this.permute(s,t,e,n,i,r);for(var o=1;o<r;o<<=1)for(var a=o<<1,h=Math.cos(2*Math.PI/a),u=Math.sin(2*Math.PI/a),l=0;l<r;l+=a)for(var c=h,d=u,f=0;f<o;f++){var p=n[l+f],m=i[l+f],g=n[l+f+o],v=i[l+f+o],y=c*g-d*v;v=c*v+d*g,g=y,n[l+f]=p+g,i[l+f]=m+v,n[l+f+o]=p-g,i[l+f+o]=m-v,f!==a&&(y=h*c-u*d,d=h*d+u*c,c=y)}},g.prototype.guessLen13b=function(t,e){var n=1|Math.max(e,t),i=1&n,r=0;for(n=n/2|0;n;n>>>=1)r++;return 1<<r+1+i},g.prototype.conjugate=function(t,e,n){if(!(n<=1))for(var i=0;i<n/2;i++){var r=t[i];t[i]=t[n-i-1],t[n-i-1]=r,r=e[i],e[i]=-e[n-i-1],e[n-i-1]=-r}},g.prototype.normalize13b=function(t,e){for(var n=0,i=0;i<e/2;i++){var r=8192*Math.round(t[2*i+1]/e)+Math.round(t[2*i]/e)+n;t[i]=67108863&r,n=r<67108864?0:r/67108864|0}return t},g.prototype.convert13b=function(t,e,i,r){for(var s=0,o=0;o<e;o++)s+=0|t[o],i[2*o]=8191&s,s>>>=13,i[2*o+1]=8191&s,s>>>=13;for(o=2*e;o<r;++o)i[o]=0;n(0===s),n(0==(-8192&s))},g.prototype.stub=function(t){for(var e=new Array(t),n=0;n<t;n++)e[n]=0;return e},g.prototype.mulp=function(t,e,n){var i=2*this.guessLen13b(t.length,e.length),r=this.makeRBT(i),s=this.stub(i),o=new Array(i),a=new Array(i),h=new Array(i),u=new Array(i),l=new Array(i),c=new Array(i),d=n.words;d.length=i,this.convert13b(t.words,t.length,o,i),this.convert13b(e.words,e.length,u,i),this.transform(o,s,a,h,i,r),this.transform(u,s,l,c,i,r);for(var f=0;f<i;f++){var p=a[f]*l[f]-h[f]*c[f];h[f]=a[f]*c[f]+h[f]*l[f],a[f]=p}return this.conjugate(a,h,i),this.transform(a,h,d,s,i,r),this.conjugate(d,s,i),this.normalize13b(d,i),n.negative=t.negative^e.negative,n.length=t.length+e.length,n.strip()},s.prototype.mul=function(t){var e=new s(null);return e.words=new Array(this.length+t.length),this.mulTo(t,e)},s.prototype.mulf=function(t){var e=new s(null);return e.words=new Array(this.length+t.length),m(this,t,e)},s.prototype.imul=function(t){return this.clone().mulTo(t,this)},s.prototype.imuln=function(t){n("number"==typeof t),n(t<67108864);for(var e=0,i=0;i<this.length;i++){var r=(0|this.words[i])*t,s=(67108863&r)+(67108863&e);e>>=26,e+=r/67108864|0,e+=s>>>26,this.words[i]=67108863&s}return 0!==e&&(this.words[i]=e,this.length++),this},s.prototype.muln=function(t){return this.clone().imuln(t)},s.prototype.sqr=function(){return this.mul(this)},s.prototype.isqr=function(){return this.imul(this.clone())},s.prototype.pow=function(t){var e=function(t){for(var e=new Array(t.bitLength()),n=0;n<e.length;n++){var i=n/26|0,r=n%26;e[n]=(t.words[i]&1<<r)>>>r}return e}(t);if(0===e.length)return new s(1);for(var n=this,i=0;i<e.length&&0===e[i];i++,n=n.sqr());if(++i<e.length)for(var r=n.sqr();i<e.length;i++,r=r.sqr())0!==e[i]&&(n=n.mul(r));return n},s.prototype.iushln=function(t){n("number"==typeof t&&t>=0);var e,i=t%26,r=(t-i)/26,s=67108863>>>26-i<<26-i;if(0!==i){var o=0;for(e=0;e<this.length;e++){var a=this.words[e]&s,h=(0|this.words[e])-a<<i;this.words[e]=h|o,o=a>>>26-i}o&&(this.words[e]=o,this.length++)}if(0!==r){for(e=this.length-1;e>=0;e--)this.words[e+r]=this.words[e];for(e=0;e<r;e++)this.words[e]=0;this.length+=r}return this.strip()},s.prototype.ishln=function(t){return n(0===this.negative),this.iushln(t)},s.prototype.iushrn=function(t,e,i){var r;n("number"==typeof t&&t>=0),r=e?(e-e%26)/26:0;var s=t%26,o=Math.min((t-s)/26,this.length),a=67108863^67108863>>>s<<s,h=i;if(r-=o,r=Math.max(0,r),h){for(var u=0;u<o;u++)h.words[u]=this.words[u];h.length=o}if(0===o);else if(this.length>o)for(this.length-=o,u=0;u<this.length;u++)this.words[u]=this.words[u+o];else this.words[0]=0,this.length=1;var l=0;for(u=this.length-1;u>=0&&(0!==l||u>=r);u--){var c=0|this.words[u];this.words[u]=l<<26-s|c>>>s,l=c&a}return h&&0!==l&&(h.words[h.length++]=l),0===this.length&&(this.words[0]=0,this.length=1),this.strip()},s.prototype.ishrn=function(t,e,i){return n(0===this.negative),this.iushrn(t,e,i)},s.prototype.shln=function(t){return this.clone().ishln(t)},s.prototype.ushln=function(t){return this.clone().iushln(t)},s.prototype.shrn=function(t){return this.clone().ishrn(t)},s.prototype.ushrn=function(t){return this.clone().iushrn(t)},s.prototype.testn=function(t){n("number"==typeof t&&t>=0);var e=t%26,i=(t-e)/26,r=1<<e;return!(this.length<=i)&&!!(this.words[i]&r)},s.prototype.imaskn=function(t){n("number"==typeof t&&t>=0);var e=t%26,i=(t-e)/26;if(n(0===this.negative,"imaskn works only with positive numbers"),this.length<=i)return this;if(0!==e&&i++,this.length=Math.min(i,this.length),0!==e){var r=67108863^67108863>>>e<<e;this.words[this.length-1]&=r}return this.strip()},s.prototype.maskn=function(t){return this.clone().imaskn(t)},s.prototype.iaddn=function(t){return n("number"==typeof t),n(t<67108864),t<0?this.isubn(-t):0!==this.negative?1===this.length&&(0|this.words[0])<t?(this.words[0]=t-(0|this.words[0]),this.negative=0,this):(this.negative=0,this.isubn(t),this.negative=1,this):this._iaddn(t)},s.prototype._iaddn=function(t){this.words[0]+=t;for(var e=0;e<this.length&&this.words[e]>=67108864;e++)this.words[e]-=67108864,e===this.length-1?this.words[e+1]=1:this.words[e+1]++;return this.length=Math.max(this.length,e+1),this},s.prototype.isubn=function(t){if(n("number"==typeof t),n(t<67108864),t<0)return this.iaddn(-t);if(0!==this.negative)return this.negative=0,this.iaddn(t),this.negative=1,this;if(this.words[0]-=t,1===this.length&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var e=0;e<this.length&&this.words[e]<0;e++)this.words[e]+=67108864,this.words[e+1]-=1;return this.strip()},s.prototype.addn=function(t){return this.clone().iaddn(t)},s.prototype.subn=function(t){return this.clone().isubn(t)},s.prototype.iabs=function(){return this.negative=0,this},s.prototype.abs=function(){return this.clone().iabs()},s.prototype._ishlnsubmul=function(t,e,i){var r,s,o=t.length+i;this._expand(o);var a=0;for(r=0;r<t.length;r++){s=(0|this.words[r+i])+a;var h=(0|t.words[r])*e;a=((s-=67108863&h)>>26)-(h/67108864|0),this.words[r+i]=67108863&s}for(;r<this.length-i;r++)a=(s=(0|this.words[r+i])+a)>>26,this.words[r+i]=67108863&s;if(0===a)return this.strip();for(n(-1===a),a=0,r=0;r<this.length;r++)a=(s=-(0|this.words[r])+a)>>26,this.words[r]=67108863&s;return this.negative=1,this.strip()},s.prototype._wordDiv=function(t,e){var n=(this.length,t.length),i=this.clone(),r=t,o=0|r.words[r.length-1];0!==(n=26-this._countBits(o))&&(r=r.ushln(n),i.iushln(n),o=0|r.words[r.length-1]);var a,h=i.length-r.length;if("mod"!==e){(a=new s(null)).length=h+1,a.words=new Array(a.length);for(var u=0;u<a.length;u++)a.words[u]=0}var l=i.clone()._ishlnsubmul(r,1,h);0===l.negative&&(i=l,a&&(a.words[h]=1));for(var c=h-1;c>=0;c--){var d=67108864*(0|i.words[r.length+c])+(0|i.words[r.length+c-1]);for(d=Math.min(d/o|0,67108863),i._ishlnsubmul(r,d,c);0!==i.negative;)d--,i.negative=0,i._ishlnsubmul(r,1,c),i.isZero()||(i.negative^=1);a&&(a.words[c]=d)}return a&&a.strip(),i.strip(),"div"!==e&&0!==n&&i.iushrn(n),{div:a||null,mod:i}},s.prototype.divmod=function(t,e,i){return n(!t.isZero()),this.isZero()?{div:new s(0),mod:new s(0)}:0!==this.negative&&0===t.negative?(a=this.neg().divmod(t,e),"mod"!==e&&(r=a.div.neg()),"div"!==e&&(o=a.mod.neg(),i&&0!==o.negative&&o.iadd(t)),{div:r,mod:o}):0===this.negative&&0!==t.negative?(a=this.divmod(t.neg(),e),"mod"!==e&&(r=a.div.neg()),{div:r,mod:a.mod}):0!=(this.negative&t.negative)?(a=this.neg().divmod(t.neg(),e),"div"!==e&&(o=a.mod.neg(),i&&0!==o.negative&&o.isub(t)),{div:a.div,mod:o}):t.length>this.length||this.cmp(t)<0?{div:new s(0),mod:this}:1===t.length?"div"===e?{div:this.divn(t.words[0]),mod:null}:"mod"===e?{div:null,mod:new s(this.modn(t.words[0]))}:{div:this.divn(t.words[0]),mod:new s(this.modn(t.words[0]))}:this._wordDiv(t,e);var r,o,a},s.prototype.div=function(t){return this.divmod(t,"div",!1).div},s.prototype.mod=function(t){return this.divmod(t,"mod",!1).mod},s.prototype.umod=function(t){return this.divmod(t,"mod",!0).mod},s.prototype.divRound=function(t){var e=this.divmod(t);if(e.mod.isZero())return e.div;var n=0!==e.div.negative?e.mod.isub(t):e.mod,i=t.ushrn(1),r=t.andln(1),s=n.cmp(i);return s<0||1===r&&0===s?e.div:0!==e.div.negative?e.div.isubn(1):e.div.iaddn(1)},s.prototype.modn=function(t){n(t<=67108863);for(var e=67108864%t,i=0,r=this.length-1;r>=0;r--)i=(e*i+(0|this.words[r]))%t;return i},s.prototype.idivn=function(t){n(t<=67108863);for(var e=0,i=this.length-1;i>=0;i--){var r=(0|this.words[i])+67108864*e;this.words[i]=r/t|0,e=r%t}return this.strip()},s.prototype.divn=function(t){return this.clone().idivn(t)},s.prototype.egcd=function(t){n(0===t.negative),n(!t.isZero());var e=this,i=t.clone();e=0!==e.negative?e.umod(t):e.clone();for(var r=new s(1),o=new s(0),a=new s(0),h=new s(1),u=0;e.isEven()&&i.isEven();)e.iushrn(1),i.iushrn(1),++u;for(var l=i.clone(),c=e.clone();!e.isZero();){for(var d=0,f=1;0==(e.words[0]&f)&&d<26;++d,f<<=1);if(d>0)for(e.iushrn(d);d-- >0;)(r.isOdd()||o.isOdd())&&(r.iadd(l),o.isub(c)),r.iushrn(1),o.iushrn(1);for(var p=0,m=1;0==(i.words[0]&m)&&p<26;++p,m<<=1);if(p>0)for(i.iushrn(p);p-- >0;)(a.isOdd()||h.isOdd())&&(a.iadd(l),h.isub(c)),a.iushrn(1),h.iushrn(1);e.cmp(i)>=0?(e.isub(i),r.isub(a),o.isub(h)):(i.isub(e),a.isub(r),h.isub(o))}return{a:a,b:h,gcd:i.iushln(u)}},s.prototype._invmp=function(t){n(0===t.negative),n(!t.isZero());var e=this,i=t.clone();e=0!==e.negative?e.umod(t):e.clone();for(var r,o=new s(1),a=new s(0),h=i.clone();e.cmpn(1)>0&&i.cmpn(1)>0;){for(var u=0,l=1;0==(e.words[0]&l)&&u<26;++u,l<<=1);if(u>0)for(e.iushrn(u);u-- >0;)o.isOdd()&&o.iadd(h),o.iushrn(1);for(var c=0,d=1;0==(i.words[0]&d)&&c<26;++c,d<<=1);if(c>0)for(i.iushrn(c);c-- >0;)a.isOdd()&&a.iadd(h),a.iushrn(1);e.cmp(i)>=0?(e.isub(i),o.isub(a)):(i.isub(e),a.isub(o))}return(r=0===e.cmpn(1)?o:a).cmpn(0)<0&&r.iadd(t),r},s.prototype.gcd=function(t){if(this.isZero())return t.abs();if(t.isZero())return this.abs();var e=this.clone(),n=t.clone();e.negative=0,n.negative=0;for(var i=0;e.isEven()&&n.isEven();i++)e.iushrn(1),n.iushrn(1);for(;;){for(;e.isEven();)e.iushrn(1);for(;n.isEven();)n.iushrn(1);var r=e.cmp(n);if(r<0){var s=e;e=n,n=s}else if(0===r||0===n.cmpn(1))break;e.isub(n)}return n.iushln(i)},s.prototype.invm=function(t){return this.egcd(t).a.umod(t)},s.prototype.isEven=function(){return 0==(1&this.words[0])},s.prototype.isOdd=function(){return 1==(1&this.words[0])},s.prototype.andln=function(t){return this.words[0]&t},s.prototype.bincn=function(t){n("number"==typeof t);var e=t%26,i=(t-e)/26,r=1<<e;if(this.length<=i)return this._expand(i+1),this.words[i]|=r,this;for(var s=r,o=i;0!==s&&o<this.length;o++){var a=0|this.words[o];s=(a+=s)>>>26,a&=67108863,this.words[o]=a}return 0!==s&&(this.words[o]=s,this.length++),this},s.prototype.isZero=function(){return 1===this.length&&0===this.words[0]},s.prototype.cmpn=function(t){var e,i=t<0;if(0!==this.negative&&!i)return-1;if(0===this.negative&&i)return 1;if(this.strip(),this.length>1)e=1;else{i&&(t=-t),n(t<=67108863,"Number is too big");var r=0|this.words[0];e=r===t?0:r<t?-1:1}return 0!==this.negative?0|-e:e},s.prototype.cmp=function(t){if(0!==this.negative&&0===t.negative)return-1;if(0===this.negative&&0!==t.negative)return 1;var e=this.ucmp(t);return 0!==this.negative?0|-e:e},s.prototype.ucmp=function(t){if(this.length>t.length)return 1;if(this.length<t.length)return-1;for(var e=0,n=this.length-1;n>=0;n--){var i=0|this.words[n],r=0|t.words[n];if(i!==r){i<r?e=-1:i>r&&(e=1);break}}return e},s.prototype.gtn=function(t){return 1===this.cmpn(t)},s.prototype.gt=function(t){return 1===this.cmp(t)},s.prototype.gten=function(t){return this.cmpn(t)>=0},s.prototype.gte=function(t){return this.cmp(t)>=0},s.prototype.ltn=function(t){return-1===this.cmpn(t)},s.prototype.lt=function(t){return-1===this.cmp(t)},s.prototype.lten=function(t){return this.cmpn(t)<=0},s.prototype.lte=function(t){return this.cmp(t)<=0},s.prototype.eqn=function(t){return 0===this.cmpn(t)},s.prototype.eq=function(t){return 0===this.cmp(t)},s.red=function(t){return new k(t)},s.prototype.toRed=function(t){return n(!this.red,"Already a number in reduction context"),n(0===this.negative,"red works only with positives"),t.convertTo(this)._forceRed(t)},s.prototype.fromRed=function(){return n(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},s.prototype._forceRed=function(t){return this.red=t,this},s.prototype.forceRed=function(t){return n(!this.red,"Already a number in reduction context"),this._forceRed(t)},s.prototype.redAdd=function(t){return n(this.red,"redAdd works only with red numbers"),this.red.add(this,t)},s.prototype.redIAdd=function(t){return n(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,t)},s.prototype.redSub=function(t){return n(this.red,"redSub works only with red numbers"),this.red.sub(this,t)},s.prototype.redISub=function(t){return n(this.red,"redISub works only with red numbers"),this.red.isub(this,t)},s.prototype.redShl=function(t){return n(this.red,"redShl works only with red numbers"),this.red.shl(this,t)},s.prototype.redMul=function(t){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,t),this.red.mul(this,t)},s.prototype.redIMul=function(t){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,t),this.red.imul(this,t)},s.prototype.redSqr=function(){return n(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},s.prototype.redISqr=function(){return n(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},s.prototype.redSqrt=function(){return n(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},s.prototype.redInvm=function(){return n(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},s.prototype.redNeg=function(){return n(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},s.prototype.redPow=function(t){return n(this.red&&!t.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,t)};var v={k256:null,p224:null,p192:null,p25519:null};function y(t,e){this.name=t,this.p=new s(e,16),this.n=this.p.bitLength(),this.k=new s(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}function b(){y.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}function w(){y.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}function _(){y.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}function M(){y.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}function k(t){if("string"==typeof t){var e=s._prime(t);this.m=e.p,this.prime=e}else n(t.gtn(1),"modulus must be greater than 1"),this.m=t,this.prime=null}function A(t){k.call(this,t),this.shift=this.m.bitLength(),this.shift%26!=0&&(this.shift+=26-this.shift%26),this.r=new s(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}y.prototype._tmp=function(){var t=new s(null);return t.words=new Array(Math.ceil(this.n/13)),t},y.prototype.ireduce=function(t){var e,n=t;do{this.split(n,this.tmp),e=(n=(n=this.imulK(n)).iadd(this.tmp)).bitLength()}while(e>this.n);var i=e<this.n?-1:n.ucmp(this.p);return 0===i?(n.words[0]=0,n.length=1):i>0?n.isub(this.p):void 0!==n.strip?n.strip():n._strip(),n},y.prototype.split=function(t,e){t.iushrn(this.n,0,e)},y.prototype.imulK=function(t){return t.imul(this.k)},i(b,y),b.prototype.split=function(t,e){for(var n=4194303,i=Math.min(t.length,9),r=0;r<i;r++)e.words[r]=t.words[r];if(e.length=i,t.length<=9)return t.words[0]=0,void(t.length=1);var s=t.words[9];for(e.words[e.length++]=s&n,r=10;r<t.length;r++){var o=0|t.words[r];t.words[r-10]=(o&n)<<4|s>>>22,s=o}s>>>=22,t.words[r-10]=s,0===s&&t.length>10?t.length-=10:t.length-=9},b.prototype.imulK=function(t){t.words[t.length]=0,t.words[t.length+1]=0,t.length+=2;for(var e=0,n=0;n<t.length;n++){var i=0|t.words[n];e+=977*i,t.words[n]=67108863&e,e=64*i+(e/67108864|0)}return 0===t.words[t.length-1]&&(t.length--,0===t.words[t.length-1]&&t.length--),t},i(w,y),i(_,y),i(M,y),M.prototype.imulK=function(t){for(var e=0,n=0;n<t.length;n++){var i=19*(0|t.words[n])+e,r=67108863&i;i>>>=26,t.words[n]=r,e=i}return 0!==e&&(t.words[t.length++]=e),t},s._prime=function(t){if(v[t])return v[t];var e;if("k256"===t)e=new b;else if("p224"===t)e=new w;else if("p192"===t)e=new _;else{if("p25519"!==t)throw new Error("Unknown prime "+t);e=new M}return v[t]=e,e},k.prototype._verify1=function(t){n(0===t.negative,"red works only with positives"),n(t.red,"red works only with red numbers")},k.prototype._verify2=function(t,e){n(0==(t.negative|e.negative),"red works only with positives"),n(t.red&&t.red===e.red,"red works only with red numbers")},k.prototype.imod=function(t){return this.prime?this.prime.ireduce(t)._forceRed(this):t.umod(this.m)._forceRed(this)},k.prototype.neg=function(t){return t.isZero()?t.clone():this.m.sub(t)._forceRed(this)},k.prototype.add=function(t,e){this._verify2(t,e);var n=t.add(e);return n.cmp(this.m)>=0&&n.isub(this.m),n._forceRed(this)},k.prototype.iadd=function(t,e){this._verify2(t,e);var n=t.iadd(e);return n.cmp(this.m)>=0&&n.isub(this.m),n},k.prototype.sub=function(t,e){this._verify2(t,e);var n=t.sub(e);return n.cmpn(0)<0&&n.iadd(this.m),n._forceRed(this)},k.prototype.isub=function(t,e){this._verify2(t,e);var n=t.isub(e);return n.cmpn(0)<0&&n.iadd(this.m),n},k.prototype.shl=function(t,e){return this._verify1(t),this.imod(t.ushln(e))},k.prototype.imul=function(t,e){return this._verify2(t,e),this.imod(t.imul(e))},k.prototype.mul=function(t,e){return this._verify2(t,e),this.imod(t.mul(e))},k.prototype.isqr=function(t){return this.imul(t,t.clone())},k.prototype.sqr=function(t){return this.mul(t,t)},k.prototype.sqrt=function(t){if(t.isZero())return t.clone();var e=this.m.andln(3);if(n(e%2==1),3===e){var i=this.m.add(new s(1)).iushrn(2);return this.pow(t,i)}for(var r=this.m.subn(1),o=0;!r.isZero()&&0===r.andln(1);)o++,r.iushrn(1);n(!r.isZero());var a=new s(1).toRed(this),h=a.redNeg(),u=this.m.subn(1).iushrn(1),l=this.m.bitLength();for(l=new s(2*l*l).toRed(this);0!==this.pow(l,u).cmp(h);)l.redIAdd(h);for(var c=this.pow(l,r),d=this.pow(t,r.addn(1).iushrn(1)),f=this.pow(t,r),p=o;0!==f.cmp(a);){for(var m=f,g=0;0!==m.cmp(a);g++)m=m.redSqr();n(g<p);var v=this.pow(c,new s(1).iushln(p-g-1));d=d.redMul(v),c=v.redSqr(),f=f.redMul(c),p=g}return d},k.prototype.invm=function(t){var e=t._invmp(this.m);return 0!==e.negative?(e.negative=0,this.imod(e).redNeg()):this.imod(e)},k.prototype.pow=function(t,e){if(e.isZero())return new s(1).toRed(this);if(0===e.cmpn(1))return t.clone();var n=new Array(16);n[0]=new s(1).toRed(this),n[1]=t;for(var i=2;i<n.length;i++)n[i]=this.mul(n[i-1],t);var r=n[0],o=0,a=0,h=e.bitLength()%26;for(0===h&&(h=26),i=e.length-1;i>=0;i--){for(var u=e.words[i],l=h-1;l>=0;l--){var c=u>>l&1;r!==n[0]&&(r=this.sqr(r)),0!==c||0!==o?(o<<=1,o|=c,(4===++a||0===i&&0===l)&&(r=this.mul(r,n[o]),a=0,o=0)):a=0}h=26}return r},k.prototype.convertTo=function(t){var e=t.umod(this.m);return e===t?e.clone():e},k.prototype.convertFrom=function(t){var e=t.clone();return e.red=null,e},s.mont=function(t){return new A(t)},i(A,k),A.prototype.convertTo=function(t){return this.imod(t.ushln(this.shift))},A.prototype.convertFrom=function(t){var e=this.imod(t.mul(this.rinv));return e.red=null,e},A.prototype.imul=function(t,e){if(t.isZero()||e.isZero())return t.words[0]=0,t.length=1,t;var n=t.imul(e),i=n.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),r=n.isub(i).iushrn(this.shift),s=r;return r.cmp(this.m)>=0?s=r.isub(this.m):r.cmpn(0)<0&&(s=r.iadd(this.m)),s._forceRed(this)},A.prototype.mul=function(t,e){if(t.isZero()||e.isZero())return new s(0)._forceRed(this);var n=t.mul(e),i=n.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),r=n.isub(i).iushrn(this.shift),o=r;return r.cmp(this.m)>=0?o=r.isub(this.m):r.cmpn(0)<0&&(o=r.iadd(this.m)),o._forceRed(this)},A.prototype.invm=function(t){return this.imod(t._invmp(this.m).mul(this.r2))._forceRed(this)}}(t,this)})),r.register("e76V8",(function(e,n){var i,s,o,a;t(e.exports,"publicEncrypt",(()=>i),(t=>i=t)),t(e.exports,"privateDecrypt",(()=>s),(t=>s=t)),t(e.exports,"privateEncrypt",(()=>o),(t=>o=t)),t(e.exports,"publicDecrypt",(()=>a),(t=>a=t)),i=r("95P7C"),s=r("1LJuO"),o=function(t,e){return i(t,e,!0)},a=function(t,e){return s(t,e,!0)}})),r.register("95P7C",(function(t,e){var n=r("eOlL6"),i=r("bUSoq"),s=r("dHvdJ"),o=r("4UAri"),a=r("9nhUm"),h=r("hADws"),u=r("4w14y"),l=r("aHKJP"),c=r("4OiF0").Buffer;t.exports=function(t,e,r){var d;d=t.padding?t.padding:r?1:4;var f,p=n(t);if(4===d)f=function(t,e){var n=t.modulus.byteLength(),r=e.length,u=s("sha1").update(c.alloc(0)).digest(),l=u.length,d=2*l;if(r>n-d-2)throw new Error("message too long");var f=c.alloc(n-r-d-2),p=n-l-1,m=i(l),g=a(c.concat([u,f,c.alloc(1,1),e],p),o(m,p)),v=a(m,o(g,l));return new h(c.concat([c.alloc(1),v,g],n))}(p,e);else if(1===d)f=function(t,e,n){var r,s=e.length,o=t.modulus.byteLength();if(s>o-11)throw new Error("message too long");r=n?c.alloc(o-s-3,255):function(t){var e,n=c.allocUnsafe(t),r=0,s=i(2*t),o=0;for(;r<t;)o===s.length&&(s=i(2*t),o=0),(e=s[o++])&&(n[r++]=e);return n}(o-s-3);return new h(c.concat([c.from([0,n?1:2]),r,c.alloc(1),e],o))}(p,e,r);else{if(3!==d)throw new Error("unknown padding");if((f=new h(e)).cmp(p.modulus)>=0)throw new Error("data too long for modulus")}return r?l(f,p):u(f,p)}})),r.register("4UAri",(function(t,e){var n=r("dHvdJ"),i=r("4OiF0").Buffer;function s(t){var e=i.allocUnsafe(4);return e.writeUInt32BE(t,0),e}t.exports=function(t,e){for(var r,o=i.alloc(0),a=0;o.length<e;)r=s(a++),o=i.concat([o,n("sha1").update(t).update(r).digest()]);return o.slice(0,e)}})),r.register("9nhUm",(function(t,e){t.exports=function(t,e){for(var n=t.length,i=-1;++i<n;)t[i]^=e[i];return t}})),r.register("hADws",(function(t,e){!function(t,e){function n(t,e){if(!t)throw new Error(e||"Assertion failed")}function i(t,e){t.super_=e;var n=function(){};n.prototype=e.prototype,t.prototype=new n,t.prototype.constructor=t}function s(t,e,n){if(s.isBN(t))return t;this.negative=0,this.words=null,this.length=0,this.red=null,null!==t&&("le"!==e&&"be"!==e||(n=e,e=10),this._init(t||0,e||10,n||"be"))}var o;"object"==typeof t?t.exports=s:e.BN=s,s.BN=s,s.wordSize=26;try{o="undefined"!=typeof window&&void 0!==window.Buffer?window.Buffer:r("66yC2").Buffer}catch(t){}function a(t,e){var n=t.charCodeAt(e);return n>=65&&n<=70?n-55:n>=97&&n<=102?n-87:n-48&15}function h(t,e,n){var i=a(t,n);return n-1>=e&&(i|=a(t,n-1)<<4),i}function u(t,e,n,i){for(var r=0,s=Math.min(t.length,n),o=e;o<s;o++){var a=t.charCodeAt(o)-48;r*=i,r+=a>=49?a-49+10:a>=17?a-17+10:a}return r}s.isBN=function(t){return t instanceof s||null!==t&&"object"==typeof t&&t.constructor.wordSize===s.wordSize&&Array.isArray(t.words)},s.max=function(t,e){return t.cmp(e)>0?t:e},s.min=function(t,e){return t.cmp(e)<0?t:e},s.prototype._init=function(t,e,i){if("number"==typeof t)return this._initNumber(t,e,i);if("object"==typeof t)return this._initArray(t,e,i);"hex"===e&&(e=16),n(e===(0|e)&&e>=2&&e<=36);var r=0;"-"===(t=t.toString().replace(/\s+/g,""))[0]&&(r++,this.negative=1),r<t.length&&(16===e?this._parseHex(t,r,i):(this._parseBase(t,e,r),"le"===i&&this._initArray(this.toArray(),e,i)))},s.prototype._initNumber=function(t,e,i){t<0&&(this.negative=1,t=-t),t<67108864?(this.words=[67108863&t],this.length=1):t<4503599627370496?(this.words=[67108863&t,t/67108864&67108863],this.length=2):(n(t<9007199254740992),this.words=[67108863&t,t/67108864&67108863,1],this.length=3),"le"===i&&this._initArray(this.toArray(),e,i)},s.prototype._initArray=function(t,e,i){if(n("number"==typeof t.length),t.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(t.length/3),this.words=new Array(this.length);for(var r=0;r<this.length;r++)this.words[r]=0;var s,o,a=0;if("be"===i)for(r=t.length-1,s=0;r>=0;r-=3)o=t[r]|t[r-1]<<8|t[r-2]<<16,this.words[s]|=o<<a&67108863,this.words[s+1]=o>>>26-a&67108863,(a+=24)>=26&&(a-=26,s++);else if("le"===i)for(r=0,s=0;r<t.length;r+=3)o=t[r]|t[r+1]<<8|t[r+2]<<16,this.words[s]|=o<<a&67108863,this.words[s+1]=o>>>26-a&67108863,(a+=24)>=26&&(a-=26,s++);return this.strip()},s.prototype._parseHex=function(t,e,n){this.length=Math.ceil((t.length-e)/6),this.words=new Array(this.length);for(var i=0;i<this.length;i++)this.words[i]=0;var r,s=0,o=0;if("be"===n)for(i=t.length-1;i>=e;i-=2)r=h(t,e,i)<<s,this.words[o]|=67108863&r,s>=18?(s-=18,o+=1,this.words[o]|=r>>>26):s+=8;else for(i=(t.length-e)%2==0?e+1:e;i<t.length;i+=2)r=h(t,e,i)<<s,this.words[o]|=67108863&r,s>=18?(s-=18,o+=1,this.words[o]|=r>>>26):s+=8;this.strip()},s.prototype._parseBase=function(t,e,n){this.words=[0],this.length=1;for(var i=0,r=1;r<=67108863;r*=e)i++;i--,r=r/e|0;for(var s=t.length-n,o=s%i,a=Math.min(s,s-o)+n,h=0,l=n;l<a;l+=i)h=u(t,l,l+i,e),this.imuln(r),this.words[0]+h<67108864?this.words[0]+=h:this._iaddn(h);if(0!==o){var c=1;for(h=u(t,l,t.length,e),l=0;l<o;l++)c*=e;this.imuln(c),this.words[0]+h<67108864?this.words[0]+=h:this._iaddn(h)}this.strip()},s.prototype.copy=function(t){t.words=new Array(this.length);for(var e=0;e<this.length;e++)t.words[e]=this.words[e];t.length=this.length,t.negative=this.negative,t.red=this.red},s.prototype.clone=function(){var t=new s(null);return this.copy(t),t},s.prototype._expand=function(t){for(;this.length<t;)this.words[this.length++]=0;return this},s.prototype.strip=function(){for(;this.length>1&&0===this.words[this.length-1];)this.length--;return this._normSign()},s.prototype._normSign=function(){return 1===this.length&&0===this.words[0]&&(this.negative=0),this},s.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var l=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],c=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],d=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];function f(t,e,n){n.negative=e.negative^t.negative;var i=t.length+e.length|0;n.length=i,i=i-1|0;var r=0|t.words[0],s=0|e.words[0],o=r*s,a=67108863&o,h=o/67108864|0;n.words[0]=a;for(var u=1;u<i;u++){for(var l=h>>>26,c=67108863&h,d=Math.min(u,e.length-1),f=Math.max(0,u-t.length+1);f<=d;f++){var p=u-f|0;l+=(o=(r=0|t.words[p])*(s=0|e.words[f])+c)/67108864|0,c=67108863&o}n.words[u]=0|c,h=0|l}return 0!==h?n.words[u]=0|h:n.length--,n.strip()}s.prototype.toString=function(t,e){var i;if(e=0|e||1,16===(t=t||10)||"hex"===t){i="";for(var r=0,s=0,o=0;o<this.length;o++){var a=this.words[o],h=(16777215&(a<<r|s)).toString(16);i=0!==(s=a>>>24-r&16777215)||o!==this.length-1?l[6-h.length]+h+i:h+i,(r+=2)>=26&&(r-=26,o--)}for(0!==s&&(i=s.toString(16)+i);i.length%e!=0;)i="0"+i;return 0!==this.negative&&(i="-"+i),i}if(t===(0|t)&&t>=2&&t<=36){var u=c[t],f=d[t];i="";var p=this.clone();for(p.negative=0;!p.isZero();){var m=p.modn(f).toString(t);i=(p=p.idivn(f)).isZero()?m+i:l[u-m.length]+m+i}for(this.isZero()&&(i="0"+i);i.length%e!=0;)i="0"+i;return 0!==this.negative&&(i="-"+i),i}n(!1,"Base should be between 2 and 36")},s.prototype.toNumber=function(){var t=this.words[0];return 2===this.length?t+=67108864*this.words[1]:3===this.length&&1===this.words[2]?t+=4503599627370496+67108864*this.words[1]:this.length>2&&n(!1,"Number can only safely store up to 53 bits"),0!==this.negative?-t:t},s.prototype.toJSON=function(){return this.toString(16)},s.prototype.toBuffer=function(t,e){return n(void 0!==o),this.toArrayLike(o,t,e)},s.prototype.toArray=function(t,e){return this.toArrayLike(Array,t,e)},s.prototype.toArrayLike=function(t,e,i){var r=this.byteLength(),s=i||Math.max(1,r);n(r<=s,"byte array longer than desired length"),n(s>0,"Requested array length <= 0"),this.strip();var o,a,h="le"===e,u=new t(s),l=this.clone();if(h){for(a=0;!l.isZero();a++)o=l.andln(255),l.iushrn(8),u[a]=o;for(;a<s;a++)u[a]=0}else{for(a=0;a<s-r;a++)u[a]=0;for(a=0;!l.isZero();a++)o=l.andln(255),l.iushrn(8),u[s-a-1]=o}return u},Math.clz32?s.prototype._countBits=function(t){return 32-Math.clz32(t)}:s.prototype._countBits=function(t){var e=t,n=0;return e>=4096&&(n+=13,e>>>=13),e>=64&&(n+=7,e>>>=7),e>=8&&(n+=4,e>>>=4),e>=2&&(n+=2,e>>>=2),n+e},s.prototype._zeroBits=function(t){if(0===t)return 26;var e=t,n=0;return 0==(8191&e)&&(n+=13,e>>>=13),0==(127&e)&&(n+=7,e>>>=7),0==(15&e)&&(n+=4,e>>>=4),0==(3&e)&&(n+=2,e>>>=2),0==(1&e)&&n++,n},s.prototype.bitLength=function(){var t=this.words[this.length-1],e=this._countBits(t);return 26*(this.length-1)+e},s.prototype.zeroBits=function(){if(this.isZero())return 0;for(var t=0,e=0;e<this.length;e++){var n=this._zeroBits(this.words[e]);if(t+=n,26!==n)break}return t},s.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},s.prototype.toTwos=function(t){return 0!==this.negative?this.abs().inotn(t).iaddn(1):this.clone()},s.prototype.fromTwos=function(t){return this.testn(t-1)?this.notn(t).iaddn(1).ineg():this.clone()},s.prototype.isNeg=function(){return 0!==this.negative},s.prototype.neg=function(){return this.clone().ineg()},s.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},s.prototype.iuor=function(t){for(;this.length<t.length;)this.words[this.length++]=0;for(var e=0;e<t.length;e++)this.words[e]=this.words[e]|t.words[e];return this.strip()},s.prototype.ior=function(t){return n(0==(this.negative|t.negative)),this.iuor(t)},s.prototype.or=function(t){return this.length>t.length?this.clone().ior(t):t.clone().ior(this)},s.prototype.uor=function(t){return this.length>t.length?this.clone().iuor(t):t.clone().iuor(this)},s.prototype.iuand=function(t){var e;e=this.length>t.length?t:this;for(var n=0;n<e.length;n++)this.words[n]=this.words[n]&t.words[n];return this.length=e.length,this.strip()},s.prototype.iand=function(t){return n(0==(this.negative|t.negative)),this.iuand(t)},s.prototype.and=function(t){return this.length>t.length?this.clone().iand(t):t.clone().iand(this)},s.prototype.uand=function(t){return this.length>t.length?this.clone().iuand(t):t.clone().iuand(this)},s.prototype.iuxor=function(t){var e,n;this.length>t.length?(e=this,n=t):(e=t,n=this);for(var i=0;i<n.length;i++)this.words[i]=e.words[i]^n.words[i];if(this!==e)for(;i<e.length;i++)this.words[i]=e.words[i];return this.length=e.length,this.strip()},s.prototype.ixor=function(t){return n(0==(this.negative|t.negative)),this.iuxor(t)},s.prototype.xor=function(t){return this.length>t.length?this.clone().ixor(t):t.clone().ixor(this)},s.prototype.uxor=function(t){return this.length>t.length?this.clone().iuxor(t):t.clone().iuxor(this)},s.prototype.inotn=function(t){n("number"==typeof t&&t>=0);var e=0|Math.ceil(t/26),i=t%26;this._expand(e),i>0&&e--;for(var r=0;r<e;r++)this.words[r]=67108863&~this.words[r];return i>0&&(this.words[r]=~this.words[r]&67108863>>26-i),this.strip()},s.prototype.notn=function(t){return this.clone().inotn(t)},s.prototype.setn=function(t,e){n("number"==typeof t&&t>=0);var i=t/26|0,r=t%26;return this._expand(i+1),this.words[i]=e?this.words[i]|1<<r:this.words[i]&~(1<<r),this.strip()},s.prototype.iadd=function(t){var e,n,i;if(0!==this.negative&&0===t.negative)return this.negative=0,e=this.isub(t),this.negative^=1,this._normSign();if(0===this.negative&&0!==t.negative)return t.negative=0,e=this.isub(t),t.negative=1,e._normSign();this.length>t.length?(n=this,i=t):(n=t,i=this);for(var r=0,s=0;s<i.length;s++)e=(0|n.words[s])+(0|i.words[s])+r,this.words[s]=67108863&e,r=e>>>26;for(;0!==r&&s<n.length;s++)e=(0|n.words[s])+r,this.words[s]=67108863&e,r=e>>>26;if(this.length=n.length,0!==r)this.words[this.length]=r,this.length++;else if(n!==this)for(;s<n.length;s++)this.words[s]=n.words[s];return this},s.prototype.add=function(t){var e;return 0!==t.negative&&0===this.negative?(t.negative=0,e=this.sub(t),t.negative^=1,e):0===t.negative&&0!==this.negative?(this.negative=0,e=t.sub(this),this.negative=1,e):this.length>t.length?this.clone().iadd(t):t.clone().iadd(this)},s.prototype.isub=function(t){if(0!==t.negative){t.negative=0;var e=this.iadd(t);return t.negative=1,e._normSign()}if(0!==this.negative)return this.negative=0,this.iadd(t),this.negative=1,this._normSign();var n,i,r=this.cmp(t);if(0===r)return this.negative=0,this.length=1,this.words[0]=0,this;r>0?(n=this,i=t):(n=t,i=this);for(var s=0,o=0;o<i.length;o++)s=(e=(0|n.words[o])-(0|i.words[o])+s)>>26,this.words[o]=67108863&e;for(;0!==s&&o<n.length;o++)s=(e=(0|n.words[o])+s)>>26,this.words[o]=67108863&e;if(0===s&&o<n.length&&n!==this)for(;o<n.length;o++)this.words[o]=n.words[o];return this.length=Math.max(this.length,o),n!==this&&(this.negative=1),this.strip()},s.prototype.sub=function(t){return this.clone().isub(t)};var p=function(t,e,n){var i,r,s,o=t.words,a=e.words,h=n.words,u=0,l=0|o[0],c=8191&l,d=l>>>13,f=0|o[1],p=8191&f,m=f>>>13,g=0|o[2],v=8191&g,y=g>>>13,b=0|o[3],w=8191&b,_=b>>>13,M=0|o[4],k=8191&M,A=M>>>13,E=0|o[5],x=8191&E,S=E>>>13,T=0|o[6],I=8191&T,R=T>>>13,C=0|o[7],q=8191&C,N=C>>>13,L=0|o[8],D=8191&L,O=L>>>13,B=0|o[9],P=8191&B,U=B>>>13,F=0|a[0],j=8191&F,z=F>>>13,V=0|a[1],H=8191&V,K=V>>>13,W=0|a[2],G=8191&W,$=W>>>13,Q=0|a[3],X=8191&Q,Z=Q>>>13,Y=0|a[4],J=8191&Y,tt=Y>>>13,et=0|a[5],nt=8191&et,it=et>>>13,rt=0|a[6],st=8191&rt,ot=rt>>>13,at=0|a[7],ht=8191&at,ut=at>>>13,lt=0|a[8],ct=8191&lt,dt=lt>>>13,ft=0|a[9],pt=8191&ft,mt=ft>>>13;n.negative=t.negative^e.negative,n.length=19;var gt=(u+(i=Math.imul(c,j))|0)+((8191&(r=(r=Math.imul(c,z))+Math.imul(d,j)|0))<<13)|0;u=((s=Math.imul(d,z))+(r>>>13)|0)+(gt>>>26)|0,gt&=67108863,i=Math.imul(p,j),r=(r=Math.imul(p,z))+Math.imul(m,j)|0,s=Math.imul(m,z);var vt=(u+(i=i+Math.imul(c,H)|0)|0)+((8191&(r=(r=r+Math.imul(c,K)|0)+Math.imul(d,H)|0))<<13)|0;u=((s=s+Math.imul(d,K)|0)+(r>>>13)|0)+(vt>>>26)|0,vt&=67108863,i=Math.imul(v,j),r=(r=Math.imul(v,z))+Math.imul(y,j)|0,s=Math.imul(y,z),i=i+Math.imul(p,H)|0,r=(r=r+Math.imul(p,K)|0)+Math.imul(m,H)|0,s=s+Math.imul(m,K)|0;var yt=(u+(i=i+Math.imul(c,G)|0)|0)+((8191&(r=(r=r+Math.imul(c,$)|0)+Math.imul(d,G)|0))<<13)|0;u=((s=s+Math.imul(d,$)|0)+(r>>>13)|0)+(yt>>>26)|0,yt&=67108863,i=Math.imul(w,j),r=(r=Math.imul(w,z))+Math.imul(_,j)|0,s=Math.imul(_,z),i=i+Math.imul(v,H)|0,r=(r=r+Math.imul(v,K)|0)+Math.imul(y,H)|0,s=s+Math.imul(y,K)|0,i=i+Math.imul(p,G)|0,r=(r=r+Math.imul(p,$)|0)+Math.imul(m,G)|0,s=s+Math.imul(m,$)|0;var bt=(u+(i=i+Math.imul(c,X)|0)|0)+((8191&(r=(r=r+Math.imul(c,Z)|0)+Math.imul(d,X)|0))<<13)|0;u=((s=s+Math.imul(d,Z)|0)+(r>>>13)|0)+(bt>>>26)|0,bt&=67108863,i=Math.imul(k,j),r=(r=Math.imul(k,z))+Math.imul(A,j)|0,s=Math.imul(A,z),i=i+Math.imul(w,H)|0,r=(r=r+Math.imul(w,K)|0)+Math.imul(_,H)|0,s=s+Math.imul(_,K)|0,i=i+Math.imul(v,G)|0,r=(r=r+Math.imul(v,$)|0)+Math.imul(y,G)|0,s=s+Math.imul(y,$)|0,i=i+Math.imul(p,X)|0,r=(r=r+Math.imul(p,Z)|0)+Math.imul(m,X)|0,s=s+Math.imul(m,Z)|0;var wt=(u+(i=i+Math.imul(c,J)|0)|0)+((8191&(r=(r=r+Math.imul(c,tt)|0)+Math.imul(d,J)|0))<<13)|0;u=((s=s+Math.imul(d,tt)|0)+(r>>>13)|0)+(wt>>>26)|0,wt&=67108863,i=Math.imul(x,j),r=(r=Math.imul(x,z))+Math.imul(S,j)|0,s=Math.imul(S,z),i=i+Math.imul(k,H)|0,r=(r=r+Math.imul(k,K)|0)+Math.imul(A,H)|0,s=s+Math.imul(A,K)|0,i=i+Math.imul(w,G)|0,r=(r=r+Math.imul(w,$)|0)+Math.imul(_,G)|0,s=s+Math.imul(_,$)|0,i=i+Math.imul(v,X)|0,r=(r=r+Math.imul(v,Z)|0)+Math.imul(y,X)|0,s=s+Math.imul(y,Z)|0,i=i+Math.imul(p,J)|0,r=(r=r+Math.imul(p,tt)|0)+Math.imul(m,J)|0,s=s+Math.imul(m,tt)|0;var _t=(u+(i=i+Math.imul(c,nt)|0)|0)+((8191&(r=(r=r+Math.imul(c,it)|0)+Math.imul(d,nt)|0))<<13)|0;u=((s=s+Math.imul(d,it)|0)+(r>>>13)|0)+(_t>>>26)|0,_t&=67108863,i=Math.imul(I,j),r=(r=Math.imul(I,z))+Math.imul(R,j)|0,s=Math.imul(R,z),i=i+Math.imul(x,H)|0,r=(r=r+Math.imul(x,K)|0)+Math.imul(S,H)|0,s=s+Math.imul(S,K)|0,i=i+Math.imul(k,G)|0,r=(r=r+Math.imul(k,$)|0)+Math.imul(A,G)|0,s=s+Math.imul(A,$)|0,i=i+Math.imul(w,X)|0,r=(r=r+Math.imul(w,Z)|0)+Math.imul(_,X)|0,s=s+Math.imul(_,Z)|0,i=i+Math.imul(v,J)|0,r=(r=r+Math.imul(v,tt)|0)+Math.imul(y,J)|0,s=s+Math.imul(y,tt)|0,i=i+Math.imul(p,nt)|0,r=(r=r+Math.imul(p,it)|0)+Math.imul(m,nt)|0,s=s+Math.imul(m,it)|0;var Mt=(u+(i=i+Math.imul(c,st)|0)|0)+((8191&(r=(r=r+Math.imul(c,ot)|0)+Math.imul(d,st)|0))<<13)|0;u=((s=s+Math.imul(d,ot)|0)+(r>>>13)|0)+(Mt>>>26)|0,Mt&=67108863,i=Math.imul(q,j),r=(r=Math.imul(q,z))+Math.imul(N,j)|0,s=Math.imul(N,z),i=i+Math.imul(I,H)|0,r=(r=r+Math.imul(I,K)|0)+Math.imul(R,H)|0,s=s+Math.imul(R,K)|0,i=i+Math.imul(x,G)|0,r=(r=r+Math.imul(x,$)|0)+Math.imul(S,G)|0,s=s+Math.imul(S,$)|0,i=i+Math.imul(k,X)|0,r=(r=r+Math.imul(k,Z)|0)+Math.imul(A,X)|0,s=s+Math.imul(A,Z)|0,i=i+Math.imul(w,J)|0,r=(r=r+Math.imul(w,tt)|0)+Math.imul(_,J)|0,s=s+Math.imul(_,tt)|0,i=i+Math.imul(v,nt)|0,r=(r=r+Math.imul(v,it)|0)+Math.imul(y,nt)|0,s=s+Math.imul(y,it)|0,i=i+Math.imul(p,st)|0,r=(r=r+Math.imul(p,ot)|0)+Math.imul(m,st)|0,s=s+Math.imul(m,ot)|0;var kt=(u+(i=i+Math.imul(c,ht)|0)|0)+((8191&(r=(r=r+Math.imul(c,ut)|0)+Math.imul(d,ht)|0))<<13)|0;u=((s=s+Math.imul(d,ut)|0)+(r>>>13)|0)+(kt>>>26)|0,kt&=67108863,i=Math.imul(D,j),r=(r=Math.imul(D,z))+Math.imul(O,j)|0,s=Math.imul(O,z),i=i+Math.imul(q,H)|0,r=(r=r+Math.imul(q,K)|0)+Math.imul(N,H)|0,s=s+Math.imul(N,K)|0,i=i+Math.imul(I,G)|0,r=(r=r+Math.imul(I,$)|0)+Math.imul(R,G)|0,s=s+Math.imul(R,$)|0,i=i+Math.imul(x,X)|0,r=(r=r+Math.imul(x,Z)|0)+Math.imul(S,X)|0,s=s+Math.imul(S,Z)|0,i=i+Math.imul(k,J)|0,r=(r=r+Math.imul(k,tt)|0)+Math.imul(A,J)|0,s=s+Math.imul(A,tt)|0,i=i+Math.imul(w,nt)|0,r=(r=r+Math.imul(w,it)|0)+Math.imul(_,nt)|0,s=s+Math.imul(_,it)|0,i=i+Math.imul(v,st)|0,r=(r=r+Math.imul(v,ot)|0)+Math.imul(y,st)|0,s=s+Math.imul(y,ot)|0,i=i+Math.imul(p,ht)|0,r=(r=r+Math.imul(p,ut)|0)+Math.imul(m,ht)|0,s=s+Math.imul(m,ut)|0;var At=(u+(i=i+Math.imul(c,ct)|0)|0)+((8191&(r=(r=r+Math.imul(c,dt)|0)+Math.imul(d,ct)|0))<<13)|0;u=((s=s+Math.imul(d,dt)|0)+(r>>>13)|0)+(At>>>26)|0,At&=67108863,i=Math.imul(P,j),r=(r=Math.imul(P,z))+Math.imul(U,j)|0,s=Math.imul(U,z),i=i+Math.imul(D,H)|0,r=(r=r+Math.imul(D,K)|0)+Math.imul(O,H)|0,s=s+Math.imul(O,K)|0,i=i+Math.imul(q,G)|0,r=(r=r+Math.imul(q,$)|0)+Math.imul(N,G)|0,s=s+Math.imul(N,$)|0,i=i+Math.imul(I,X)|0,r=(r=r+Math.imul(I,Z)|0)+Math.imul(R,X)|0,s=s+Math.imul(R,Z)|0,i=i+Math.imul(x,J)|0,r=(r=r+Math.imul(x,tt)|0)+Math.imul(S,J)|0,s=s+Math.imul(S,tt)|0,i=i+Math.imul(k,nt)|0,r=(r=r+Math.imul(k,it)|0)+Math.imul(A,nt)|0,s=s+Math.imul(A,it)|0,i=i+Math.imul(w,st)|0,r=(r=r+Math.imul(w,ot)|0)+Math.imul(_,st)|0,s=s+Math.imul(_,ot)|0,i=i+Math.imul(v,ht)|0,r=(r=r+Math.imul(v,ut)|0)+Math.imul(y,ht)|0,s=s+Math.imul(y,ut)|0,i=i+Math.imul(p,ct)|0,r=(r=r+Math.imul(p,dt)|0)+Math.imul(m,ct)|0,s=s+Math.imul(m,dt)|0;var Et=(u+(i=i+Math.imul(c,pt)|0)|0)+((8191&(r=(r=r+Math.imul(c,mt)|0)+Math.imul(d,pt)|0))<<13)|0;u=((s=s+Math.imul(d,mt)|0)+(r>>>13)|0)+(Et>>>26)|0,Et&=67108863,i=Math.imul(P,H),r=(r=Math.imul(P,K))+Math.imul(U,H)|0,s=Math.imul(U,K),i=i+Math.imul(D,G)|0,r=(r=r+Math.imul(D,$)|0)+Math.imul(O,G)|0,s=s+Math.imul(O,$)|0,i=i+Math.imul(q,X)|0,r=(r=r+Math.imul(q,Z)|0)+Math.imul(N,X)|0,s=s+Math.imul(N,Z)|0,i=i+Math.imul(I,J)|0,r=(r=r+Math.imul(I,tt)|0)+Math.imul(R,J)|0,s=s+Math.imul(R,tt)|0,i=i+Math.imul(x,nt)|0,r=(r=r+Math.imul(x,it)|0)+Math.imul(S,nt)|0,s=s+Math.imul(S,it)|0,i=i+Math.imul(k,st)|0,r=(r=r+Math.imul(k,ot)|0)+Math.imul(A,st)|0,s=s+Math.imul(A,ot)|0,i=i+Math.imul(w,ht)|0,r=(r=r+Math.imul(w,ut)|0)+Math.imul(_,ht)|0,s=s+Math.imul(_,ut)|0,i=i+Math.imul(v,ct)|0,r=(r=r+Math.imul(v,dt)|0)+Math.imul(y,ct)|0,s=s+Math.imul(y,dt)|0;var xt=(u+(i=i+Math.imul(p,pt)|0)|0)+((8191&(r=(r=r+Math.imul(p,mt)|0)+Math.imul(m,pt)|0))<<13)|0;u=((s=s+Math.imul(m,mt)|0)+(r>>>13)|0)+(xt>>>26)|0,xt&=67108863,i=Math.imul(P,G),r=(r=Math.imul(P,$))+Math.imul(U,G)|0,s=Math.imul(U,$),i=i+Math.imul(D,X)|0,r=(r=r+Math.imul(D,Z)|0)+Math.imul(O,X)|0,s=s+Math.imul(O,Z)|0,i=i+Math.imul(q,J)|0,r=(r=r+Math.imul(q,tt)|0)+Math.imul(N,J)|0,s=s+Math.imul(N,tt)|0,i=i+Math.imul(I,nt)|0,r=(r=r+Math.imul(I,it)|0)+Math.imul(R,nt)|0,s=s+Math.imul(R,it)|0,i=i+Math.imul(x,st)|0,r=(r=r+Math.imul(x,ot)|0)+Math.imul(S,st)|0,s=s+Math.imul(S,ot)|0,i=i+Math.imul(k,ht)|0,r=(r=r+Math.imul(k,ut)|0)+Math.imul(A,ht)|0,s=s+Math.imul(A,ut)|0,i=i+Math.imul(w,ct)|0,r=(r=r+Math.imul(w,dt)|0)+Math.imul(_,ct)|0,s=s+Math.imul(_,dt)|0;var St=(u+(i=i+Math.imul(v,pt)|0)|0)+((8191&(r=(r=r+Math.imul(v,mt)|0)+Math.imul(y,pt)|0))<<13)|0;u=((s=s+Math.imul(y,mt)|0)+(r>>>13)|0)+(St>>>26)|0,St&=67108863,i=Math.imul(P,X),r=(r=Math.imul(P,Z))+Math.imul(U,X)|0,s=Math.imul(U,Z),i=i+Math.imul(D,J)|0,r=(r=r+Math.imul(D,tt)|0)+Math.imul(O,J)|0,s=s+Math.imul(O,tt)|0,i=i+Math.imul(q,nt)|0,r=(r=r+Math.imul(q,it)|0)+Math.imul(N,nt)|0,s=s+Math.imul(N,it)|0,i=i+Math.imul(I,st)|0,r=(r=r+Math.imul(I,ot)|0)+Math.imul(R,st)|0,s=s+Math.imul(R,ot)|0,i=i+Math.imul(x,ht)|0,r=(r=r+Math.imul(x,ut)|0)+Math.imul(S,ht)|0,s=s+Math.imul(S,ut)|0,i=i+Math.imul(k,ct)|0,r=(r=r+Math.imul(k,dt)|0)+Math.imul(A,ct)|0,s=s+Math.imul(A,dt)|0;var Tt=(u+(i=i+Math.imul(w,pt)|0)|0)+((8191&(r=(r=r+Math.imul(w,mt)|0)+Math.imul(_,pt)|0))<<13)|0;u=((s=s+Math.imul(_,mt)|0)+(r>>>13)|0)+(Tt>>>26)|0,Tt&=67108863,i=Math.imul(P,J),r=(r=Math.imul(P,tt))+Math.imul(U,J)|0,s=Math.imul(U,tt),i=i+Math.imul(D,nt)|0,r=(r=r+Math.imul(D,it)|0)+Math.imul(O,nt)|0,s=s+Math.imul(O,it)|0,i=i+Math.imul(q,st)|0,r=(r=r+Math.imul(q,ot)|0)+Math.imul(N,st)|0,s=s+Math.imul(N,ot)|0,i=i+Math.imul(I,ht)|0,r=(r=r+Math.imul(I,ut)|0)+Math.imul(R,ht)|0,s=s+Math.imul(R,ut)|0,i=i+Math.imul(x,ct)|0,r=(r=r+Math.imul(x,dt)|0)+Math.imul(S,ct)|0,s=s+Math.imul(S,dt)|0;var It=(u+(i=i+Math.imul(k,pt)|0)|0)+((8191&(r=(r=r+Math.imul(k,mt)|0)+Math.imul(A,pt)|0))<<13)|0;u=((s=s+Math.imul(A,mt)|0)+(r>>>13)|0)+(It>>>26)|0,It&=67108863,i=Math.imul(P,nt),r=(r=Math.imul(P,it))+Math.imul(U,nt)|0,s=Math.imul(U,it),i=i+Math.imul(D,st)|0,r=(r=r+Math.imul(D,ot)|0)+Math.imul(O,st)|0,s=s+Math.imul(O,ot)|0,i=i+Math.imul(q,ht)|0,r=(r=r+Math.imul(q,ut)|0)+Math.imul(N,ht)|0,s=s+Math.imul(N,ut)|0,i=i+Math.imul(I,ct)|0,r=(r=r+Math.imul(I,dt)|0)+Math.imul(R,ct)|0,s=s+Math.imul(R,dt)|0;var Rt=(u+(i=i+Math.imul(x,pt)|0)|0)+((8191&(r=(r=r+Math.imul(x,mt)|0)+Math.imul(S,pt)|0))<<13)|0;u=((s=s+Math.imul(S,mt)|0)+(r>>>13)|0)+(Rt>>>26)|0,Rt&=67108863,i=Math.imul(P,st),r=(r=Math.imul(P,ot))+Math.imul(U,st)|0,s=Math.imul(U,ot),i=i+Math.imul(D,ht)|0,r=(r=r+Math.imul(D,ut)|0)+Math.imul(O,ht)|0,s=s+Math.imul(O,ut)|0,i=i+Math.imul(q,ct)|0,r=(r=r+Math.imul(q,dt)|0)+Math.imul(N,ct)|0,s=s+Math.imul(N,dt)|0;var Ct=(u+(i=i+Math.imul(I,pt)|0)|0)+((8191&(r=(r=r+Math.imul(I,mt)|0)+Math.imul(R,pt)|0))<<13)|0;u=((s=s+Math.imul(R,mt)|0)+(r>>>13)|0)+(Ct>>>26)|0,Ct&=67108863,i=Math.imul(P,ht),r=(r=Math.imul(P,ut))+Math.imul(U,ht)|0,s=Math.imul(U,ut),i=i+Math.imul(D,ct)|0,r=(r=r+Math.imul(D,dt)|0)+Math.imul(O,ct)|0,s=s+Math.imul(O,dt)|0;var qt=(u+(i=i+Math.imul(q,pt)|0)|0)+((8191&(r=(r=r+Math.imul(q,mt)|0)+Math.imul(N,pt)|0))<<13)|0;u=((s=s+Math.imul(N,mt)|0)+(r>>>13)|0)+(qt>>>26)|0,qt&=67108863,i=Math.imul(P,ct),r=(r=Math.imul(P,dt))+Math.imul(U,ct)|0,s=Math.imul(U,dt);var Nt=(u+(i=i+Math.imul(D,pt)|0)|0)+((8191&(r=(r=r+Math.imul(D,mt)|0)+Math.imul(O,pt)|0))<<13)|0;u=((s=s+Math.imul(O,mt)|0)+(r>>>13)|0)+(Nt>>>26)|0,Nt&=67108863;var Lt=(u+(i=Math.imul(P,pt))|0)+((8191&(r=(r=Math.imul(P,mt))+Math.imul(U,pt)|0))<<13)|0;return u=((s=Math.imul(U,mt))+(r>>>13)|0)+(Lt>>>26)|0,Lt&=67108863,h[0]=gt,h[1]=vt,h[2]=yt,h[3]=bt,h[4]=wt,h[5]=_t,h[6]=Mt,h[7]=kt,h[8]=At,h[9]=Et,h[10]=xt,h[11]=St,h[12]=Tt,h[13]=It,h[14]=Rt,h[15]=Ct,h[16]=qt,h[17]=Nt,h[18]=Lt,0!==u&&(h[19]=u,n.length++),n};function m(t,e,n){return(new g).mulp(t,e,n)}function g(t,e){this.x=t,this.y=e}Math.imul||(p=f),s.prototype.mulTo=function(t,e){var n,i=this.length+t.length;return n=10===this.length&&10===t.length?p(this,t,e):i<63?f(this,t,e):i<1024?function(t,e,n){n.negative=e.negative^t.negative,n.length=t.length+e.length;for(var i=0,r=0,s=0;s<n.length-1;s++){var o=r;r=0;for(var a=67108863&i,h=Math.min(s,e.length-1),u=Math.max(0,s-t.length+1);u<=h;u++){var l=s-u,c=(0|t.words[l])*(0|e.words[u]),d=67108863&c;a=67108863&(d=d+a|0),r+=(o=(o=o+(c/67108864|0)|0)+(d>>>26)|0)>>>26,o&=67108863}n.words[s]=a,i=o,o=r}return 0!==i?n.words[s]=i:n.length--,n.strip()}(this,t,e):m(this,t,e),n},g.prototype.makeRBT=function(t){for(var e=new Array(t),n=s.prototype._countBits(t)-1,i=0;i<t;i++)e[i]=this.revBin(i,n,t);return e},g.prototype.revBin=function(t,e,n){if(0===t||t===n-1)return t;for(var i=0,r=0;r<e;r++)i|=(1&t)<<e-r-1,t>>=1;return i},g.prototype.permute=function(t,e,n,i,r,s){for(var o=0;o<s;o++)i[o]=e[t[o]],r[o]=n[t[o]]},g.prototype.transform=function(t,e,n,i,r,s){this.permute(s,t,e,n,i,r);for(var o=1;o<r;o<<=1)for(var a=o<<1,h=Math.cos(2*Math.PI/a),u=Math.sin(2*Math.PI/a),l=0;l<r;l+=a)for(var c=h,d=u,f=0;f<o;f++){var p=n[l+f],m=i[l+f],g=n[l+f+o],v=i[l+f+o],y=c*g-d*v;v=c*v+d*g,g=y,n[l+f]=p+g,i[l+f]=m+v,n[l+f+o]=p-g,i[l+f+o]=m-v,f!==a&&(y=h*c-u*d,d=h*d+u*c,c=y)}},g.prototype.guessLen13b=function(t,e){var n=1|Math.max(e,t),i=1&n,r=0;for(n=n/2|0;n;n>>>=1)r++;return 1<<r+1+i},g.prototype.conjugate=function(t,e,n){if(!(n<=1))for(var i=0;i<n/2;i++){var r=t[i];t[i]=t[n-i-1],t[n-i-1]=r,r=e[i],e[i]=-e[n-i-1],e[n-i-1]=-r}},g.prototype.normalize13b=function(t,e){for(var n=0,i=0;i<e/2;i++){var r=8192*Math.round(t[2*i+1]/e)+Math.round(t[2*i]/e)+n;t[i]=67108863&r,n=r<67108864?0:r/67108864|0}return t},g.prototype.convert13b=function(t,e,i,r){for(var s=0,o=0;o<e;o++)s+=0|t[o],i[2*o]=8191&s,s>>>=13,i[2*o+1]=8191&s,s>>>=13;for(o=2*e;o<r;++o)i[o]=0;n(0===s),n(0==(-8192&s))},g.prototype.stub=function(t){for(var e=new Array(t),n=0;n<t;n++)e[n]=0;return e},g.prototype.mulp=function(t,e,n){var i=2*this.guessLen13b(t.length,e.length),r=this.makeRBT(i),s=this.stub(i),o=new Array(i),a=new Array(i),h=new Array(i),u=new Array(i),l=new Array(i),c=new Array(i),d=n.words;d.length=i,this.convert13b(t.words,t.length,o,i),this.convert13b(e.words,e.length,u,i),this.transform(o,s,a,h,i,r),this.transform(u,s,l,c,i,r);for(var f=0;f<i;f++){var p=a[f]*l[f]-h[f]*c[f];h[f]=a[f]*c[f]+h[f]*l[f],a[f]=p}return this.conjugate(a,h,i),this.transform(a,h,d,s,i,r),this.conjugate(d,s,i),this.normalize13b(d,i),n.negative=t.negative^e.negative,n.length=t.length+e.length,n.strip()},s.prototype.mul=function(t){var e=new s(null);return e.words=new Array(this.length+t.length),this.mulTo(t,e)},s.prototype.mulf=function(t){var e=new s(null);return e.words=new Array(this.length+t.length),m(this,t,e)},s.prototype.imul=function(t){return this.clone().mulTo(t,this)},s.prototype.imuln=function(t){n("number"==typeof t),n(t<67108864);for(var e=0,i=0;i<this.length;i++){var r=(0|this.words[i])*t,s=(67108863&r)+(67108863&e);e>>=26,e+=r/67108864|0,e+=s>>>26,this.words[i]=67108863&s}return 0!==e&&(this.words[i]=e,this.length++),this},s.prototype.muln=function(t){return this.clone().imuln(t)},s.prototype.sqr=function(){return this.mul(this)},s.prototype.isqr=function(){return this.imul(this.clone())},s.prototype.pow=function(t){var e=function(t){for(var e=new Array(t.bitLength()),n=0;n<e.length;n++){var i=n/26|0,r=n%26;e[n]=(t.words[i]&1<<r)>>>r}return e}(t);if(0===e.length)return new s(1);for(var n=this,i=0;i<e.length&&0===e[i];i++,n=n.sqr());if(++i<e.length)for(var r=n.sqr();i<e.length;i++,r=r.sqr())0!==e[i]&&(n=n.mul(r));return n},s.prototype.iushln=function(t){n("number"==typeof t&&t>=0);var e,i=t%26,r=(t-i)/26,s=67108863>>>26-i<<26-i;if(0!==i){var o=0;for(e=0;e<this.length;e++){var a=this.words[e]&s,h=(0|this.words[e])-a<<i;this.words[e]=h|o,o=a>>>26-i}o&&(this.words[e]=o,this.length++)}if(0!==r){for(e=this.length-1;e>=0;e--)this.words[e+r]=this.words[e];for(e=0;e<r;e++)this.words[e]=0;this.length+=r}return this.strip()},s.prototype.ishln=function(t){return n(0===this.negative),this.iushln(t)},s.prototype.iushrn=function(t,e,i){var r;n("number"==typeof t&&t>=0),r=e?(e-e%26)/26:0;var s=t%26,o=Math.min((t-s)/26,this.length),a=67108863^67108863>>>s<<s,h=i;if(r-=o,r=Math.max(0,r),h){for(var u=0;u<o;u++)h.words[u]=this.words[u];h.length=o}if(0===o);else if(this.length>o)for(this.length-=o,u=0;u<this.length;u++)this.words[u]=this.words[u+o];else this.words[0]=0,this.length=1;var l=0;for(u=this.length-1;u>=0&&(0!==l||u>=r);u--){var c=0|this.words[u];this.words[u]=l<<26-s|c>>>s,l=c&a}return h&&0!==l&&(h.words[h.length++]=l),0===this.length&&(this.words[0]=0,this.length=1),this.strip()},s.prototype.ishrn=function(t,e,i){return n(0===this.negative),this.iushrn(t,e,i)},s.prototype.shln=function(t){return this.clone().ishln(t)},s.prototype.ushln=function(t){return this.clone().iushln(t)},s.prototype.shrn=function(t){return this.clone().ishrn(t)},s.prototype.ushrn=function(t){return this.clone().iushrn(t)},s.prototype.testn=function(t){n("number"==typeof t&&t>=0);var e=t%26,i=(t-e)/26,r=1<<e;return!(this.length<=i)&&!!(this.words[i]&r)},s.prototype.imaskn=function(t){n("number"==typeof t&&t>=0);var e=t%26,i=(t-e)/26;if(n(0===this.negative,"imaskn works only with positive numbers"),this.length<=i)return this;if(0!==e&&i++,this.length=Math.min(i,this.length),0!==e){var r=67108863^67108863>>>e<<e;this.words[this.length-1]&=r}return this.strip()},s.prototype.maskn=function(t){return this.clone().imaskn(t)},s.prototype.iaddn=function(t){return n("number"==typeof t),n(t<67108864),t<0?this.isubn(-t):0!==this.negative?1===this.length&&(0|this.words[0])<t?(this.words[0]=t-(0|this.words[0]),this.negative=0,this):(this.negative=0,this.isubn(t),this.negative=1,this):this._iaddn(t)},s.prototype._iaddn=function(t){this.words[0]+=t;for(var e=0;e<this.length&&this.words[e]>=67108864;e++)this.words[e]-=67108864,e===this.length-1?this.words[e+1]=1:this.words[e+1]++;return this.length=Math.max(this.length,e+1),this},s.prototype.isubn=function(t){if(n("number"==typeof t),n(t<67108864),t<0)return this.iaddn(-t);if(0!==this.negative)return this.negative=0,this.iaddn(t),this.negative=1,this;if(this.words[0]-=t,1===this.length&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var e=0;e<this.length&&this.words[e]<0;e++)this.words[e]+=67108864,this.words[e+1]-=1;return this.strip()},s.prototype.addn=function(t){return this.clone().iaddn(t)},s.prototype.subn=function(t){return this.clone().isubn(t)},s.prototype.iabs=function(){return this.negative=0,this},s.prototype.abs=function(){return this.clone().iabs()},s.prototype._ishlnsubmul=function(t,e,i){var r,s,o=t.length+i;this._expand(o);var a=0;for(r=0;r<t.length;r++){s=(0|this.words[r+i])+a;var h=(0|t.words[r])*e;a=((s-=67108863&h)>>26)-(h/67108864|0),this.words[r+i]=67108863&s}for(;r<this.length-i;r++)a=(s=(0|this.words[r+i])+a)>>26,this.words[r+i]=67108863&s;if(0===a)return this.strip();for(n(-1===a),a=0,r=0;r<this.length;r++)a=(s=-(0|this.words[r])+a)>>26,this.words[r]=67108863&s;return this.negative=1,this.strip()},s.prototype._wordDiv=function(t,e){var n=(this.length,t.length),i=this.clone(),r=t,o=0|r.words[r.length-1];0!==(n=26-this._countBits(o))&&(r=r.ushln(n),i.iushln(n),o=0|r.words[r.length-1]);var a,h=i.length-r.length;if("mod"!==e){(a=new s(null)).length=h+1,a.words=new Array(a.length);for(var u=0;u<a.length;u++)a.words[u]=0}var l=i.clone()._ishlnsubmul(r,1,h);0===l.negative&&(i=l,a&&(a.words[h]=1));for(var c=h-1;c>=0;c--){var d=67108864*(0|i.words[r.length+c])+(0|i.words[r.length+c-1]);for(d=Math.min(d/o|0,67108863),i._ishlnsubmul(r,d,c);0!==i.negative;)d--,i.negative=0,i._ishlnsubmul(r,1,c),i.isZero()||(i.negative^=1);a&&(a.words[c]=d)}return a&&a.strip(),i.strip(),"div"!==e&&0!==n&&i.iushrn(n),{div:a||null,mod:i}},s.prototype.divmod=function(t,e,i){return n(!t.isZero()),this.isZero()?{div:new s(0),mod:new s(0)}:0!==this.negative&&0===t.negative?(a=this.neg().divmod(t,e),"mod"!==e&&(r=a.div.neg()),"div"!==e&&(o=a.mod.neg(),i&&0!==o.negative&&o.iadd(t)),{div:r,mod:o}):0===this.negative&&0!==t.negative?(a=this.divmod(t.neg(),e),"mod"!==e&&(r=a.div.neg()),{div:r,mod:a.mod}):0!=(this.negative&t.negative)?(a=this.neg().divmod(t.neg(),e),"div"!==e&&(o=a.mod.neg(),i&&0!==o.negative&&o.isub(t)),{div:a.div,mod:o}):t.length>this.length||this.cmp(t)<0?{div:new s(0),mod:this}:1===t.length?"div"===e?{div:this.divn(t.words[0]),mod:null}:"mod"===e?{div:null,mod:new s(this.modn(t.words[0]))}:{div:this.divn(t.words[0]),mod:new s(this.modn(t.words[0]))}:this._wordDiv(t,e);var r,o,a},s.prototype.div=function(t){return this.divmod(t,"div",!1).div},s.prototype.mod=function(t){return this.divmod(t,"mod",!1).mod},s.prototype.umod=function(t){return this.divmod(t,"mod",!0).mod},s.prototype.divRound=function(t){var e=this.divmod(t);if(e.mod.isZero())return e.div;var n=0!==e.div.negative?e.mod.isub(t):e.mod,i=t.ushrn(1),r=t.andln(1),s=n.cmp(i);return s<0||1===r&&0===s?e.div:0!==e.div.negative?e.div.isubn(1):e.div.iaddn(1)},s.prototype.modn=function(t){n(t<=67108863);for(var e=67108864%t,i=0,r=this.length-1;r>=0;r--)i=(e*i+(0|this.words[r]))%t;return i},s.prototype.idivn=function(t){n(t<=67108863);for(var e=0,i=this.length-1;i>=0;i--){var r=(0|this.words[i])+67108864*e;this.words[i]=r/t|0,e=r%t}return this.strip()},s.prototype.divn=function(t){return this.clone().idivn(t)},s.prototype.egcd=function(t){n(0===t.negative),n(!t.isZero());var e=this,i=t.clone();e=0!==e.negative?e.umod(t):e.clone();for(var r=new s(1),o=new s(0),a=new s(0),h=new s(1),u=0;e.isEven()&&i.isEven();)e.iushrn(1),i.iushrn(1),++u;for(var l=i.clone(),c=e.clone();!e.isZero();){for(var d=0,f=1;0==(e.words[0]&f)&&d<26;++d,f<<=1);if(d>0)for(e.iushrn(d);d-- >0;)(r.isOdd()||o.isOdd())&&(r.iadd(l),o.isub(c)),r.iushrn(1),o.iushrn(1);for(var p=0,m=1;0==(i.words[0]&m)&&p<26;++p,m<<=1);if(p>0)for(i.iushrn(p);p-- >0;)(a.isOdd()||h.isOdd())&&(a.iadd(l),h.isub(c)),a.iushrn(1),h.iushrn(1);e.cmp(i)>=0?(e.isub(i),r.isub(a),o.isub(h)):(i.isub(e),a.isub(r),h.isub(o))}return{a:a,b:h,gcd:i.iushln(u)}},s.prototype._invmp=function(t){n(0===t.negative),n(!t.isZero());var e=this,i=t.clone();e=0!==e.negative?e.umod(t):e.clone();for(var r,o=new s(1),a=new s(0),h=i.clone();e.cmpn(1)>0&&i.cmpn(1)>0;){for(var u=0,l=1;0==(e.words[0]&l)&&u<26;++u,l<<=1);if(u>0)for(e.iushrn(u);u-- >0;)o.isOdd()&&o.iadd(h),o.iushrn(1);for(var c=0,d=1;0==(i.words[0]&d)&&c<26;++c,d<<=1);if(c>0)for(i.iushrn(c);c-- >0;)a.isOdd()&&a.iadd(h),a.iushrn(1);e.cmp(i)>=0?(e.isub(i),o.isub(a)):(i.isub(e),a.isub(o))}return(r=0===e.cmpn(1)?o:a).cmpn(0)<0&&r.iadd(t),r},s.prototype.gcd=function(t){if(this.isZero())return t.abs();if(t.isZero())return this.abs();var e=this.clone(),n=t.clone();e.negative=0,n.negative=0;for(var i=0;e.isEven()&&n.isEven();i++)e.iushrn(1),n.iushrn(1);for(;;){for(;e.isEven();)e.iushrn(1);for(;n.isEven();)n.iushrn(1);var r=e.cmp(n);if(r<0){var s=e;e=n,n=s}else if(0===r||0===n.cmpn(1))break;e.isub(n)}return n.iushln(i)},s.prototype.invm=function(t){return this.egcd(t).a.umod(t)},s.prototype.isEven=function(){return 0==(1&this.words[0])},s.prototype.isOdd=function(){return 1==(1&this.words[0])},s.prototype.andln=function(t){return this.words[0]&t},s.prototype.bincn=function(t){n("number"==typeof t);var e=t%26,i=(t-e)/26,r=1<<e;if(this.length<=i)return this._expand(i+1),this.words[i]|=r,this;for(var s=r,o=i;0!==s&&o<this.length;o++){var a=0|this.words[o];s=(a+=s)>>>26,a&=67108863,this.words[o]=a}return 0!==s&&(this.words[o]=s,this.length++),this},s.prototype.isZero=function(){return 1===this.length&&0===this.words[0]},s.prototype.cmpn=function(t){var e,i=t<0;if(0!==this.negative&&!i)return-1;if(0===this.negative&&i)return 1;if(this.strip(),this.length>1)e=1;else{i&&(t=-t),n(t<=67108863,"Number is too big");var r=0|this.words[0];e=r===t?0:r<t?-1:1}return 0!==this.negative?0|-e:e},s.prototype.cmp=function(t){if(0!==this.negative&&0===t.negative)return-1;if(0===this.negative&&0!==t.negative)return 1;var e=this.ucmp(t);return 0!==this.negative?0|-e:e},s.prototype.ucmp=function(t){if(this.length>t.length)return 1;if(this.length<t.length)return-1;for(var e=0,n=this.length-1;n>=0;n--){var i=0|this.words[n],r=0|t.words[n];if(i!==r){i<r?e=-1:i>r&&(e=1);break}}return e},s.prototype.gtn=function(t){return 1===this.cmpn(t)},s.prototype.gt=function(t){return 1===this.cmp(t)},s.prototype.gten=function(t){return this.cmpn(t)>=0},s.prototype.gte=function(t){return this.cmp(t)>=0},s.prototype.ltn=function(t){return-1===this.cmpn(t)},s.prototype.lt=function(t){return-1===this.cmp(t)},s.prototype.lten=function(t){return this.cmpn(t)<=0},s.prototype.lte=function(t){return this.cmp(t)<=0},s.prototype.eqn=function(t){return 0===this.cmpn(t)},s.prototype.eq=function(t){return 0===this.cmp(t)},s.red=function(t){return new k(t)},s.prototype.toRed=function(t){return n(!this.red,"Already a number in reduction context"),n(0===this.negative,"red works only with positives"),t.convertTo(this)._forceRed(t)},s.prototype.fromRed=function(){return n(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},s.prototype._forceRed=function(t){return this.red=t,this},s.prototype.forceRed=function(t){return n(!this.red,"Already a number in reduction context"),this._forceRed(t)},s.prototype.redAdd=function(t){return n(this.red,"redAdd works only with red numbers"),this.red.add(this,t)},s.prototype.redIAdd=function(t){return n(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,t)},s.prototype.redSub=function(t){return n(this.red,"redSub works only with red numbers"),this.red.sub(this,t)},s.prototype.redISub=function(t){return n(this.red,"redISub works only with red numbers"),this.red.isub(this,t)},s.prototype.redShl=function(t){return n(this.red,"redShl works only with red numbers"),this.red.shl(this,t)},s.prototype.redMul=function(t){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,t),this.red.mul(this,t)},s.prototype.redIMul=function(t){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,t),this.red.imul(this,t)},s.prototype.redSqr=function(){return n(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},s.prototype.redISqr=function(){return n(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},s.prototype.redSqrt=function(){return n(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},s.prototype.redInvm=function(){return n(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},s.prototype.redNeg=function(){return n(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},s.prototype.redPow=function(t){return n(this.red&&!t.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,t)};var v={k256:null,p224:null,p192:null,p25519:null};function y(t,e){this.name=t,this.p=new s(e,16),this.n=this.p.bitLength(),this.k=new s(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}function b(){y.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}function w(){y.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}function _(){y.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}function M(){y.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}function k(t){if("string"==typeof t){var e=s._prime(t);this.m=e.p,this.prime=e}else n(t.gtn(1),"modulus must be greater than 1"),this.m=t,this.prime=null}function A(t){k.call(this,t),this.shift=this.m.bitLength(),this.shift%26!=0&&(this.shift+=26-this.shift%26),this.r=new s(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}y.prototype._tmp=function(){var t=new s(null);return t.words=new Array(Math.ceil(this.n/13)),t},y.prototype.ireduce=function(t){var e,n=t;do{this.split(n,this.tmp),e=(n=(n=this.imulK(n)).iadd(this.tmp)).bitLength()}while(e>this.n);var i=e<this.n?-1:n.ucmp(this.p);return 0===i?(n.words[0]=0,n.length=1):i>0?n.isub(this.p):void 0!==n.strip?n.strip():n._strip(),n},y.prototype.split=function(t,e){t.iushrn(this.n,0,e)},y.prototype.imulK=function(t){return t.imul(this.k)},i(b,y),b.prototype.split=function(t,e){for(var n=4194303,i=Math.min(t.length,9),r=0;r<i;r++)e.words[r]=t.words[r];if(e.length=i,t.length<=9)return t.words[0]=0,void(t.length=1);var s=t.words[9];for(e.words[e.length++]=s&n,r=10;r<t.length;r++){var o=0|t.words[r];t.words[r-10]=(o&n)<<4|s>>>22,s=o}s>>>=22,t.words[r-10]=s,0===s&&t.length>10?t.length-=10:t.length-=9},b.prototype.imulK=function(t){t.words[t.length]=0,t.words[t.length+1]=0,t.length+=2;for(var e=0,n=0;n<t.length;n++){var i=0|t.words[n];e+=977*i,t.words[n]=67108863&e,e=64*i+(e/67108864|0)}return 0===t.words[t.length-1]&&(t.length--,0===t.words[t.length-1]&&t.length--),t},i(w,y),i(_,y),i(M,y),M.prototype.imulK=function(t){for(var e=0,n=0;n<t.length;n++){var i=19*(0|t.words[n])+e,r=67108863&i;i>>>=26,t.words[n]=r,e=i}return 0!==e&&(t.words[t.length++]=e),t},s._prime=function(t){if(v[t])return v[t];var e;if("k256"===t)e=new b;else if("p224"===t)e=new w;else if("p192"===t)e=new _;else{if("p25519"!==t)throw new Error("Unknown prime "+t);e=new M}return v[t]=e,e},k.prototype._verify1=function(t){n(0===t.negative,"red works only with positives"),n(t.red,"red works only with red numbers")},k.prototype._verify2=function(t,e){n(0==(t.negative|e.negative),"red works only with positives"),n(t.red&&t.red===e.red,"red works only with red numbers")},k.prototype.imod=function(t){return this.prime?this.prime.ireduce(t)._forceRed(this):t.umod(this.m)._forceRed(this)},k.prototype.neg=function(t){return t.isZero()?t.clone():this.m.sub(t)._forceRed(this)},k.prototype.add=function(t,e){this._verify2(t,e);var n=t.add(e);return n.cmp(this.m)>=0&&n.isub(this.m),n._forceRed(this)},k.prototype.iadd=function(t,e){this._verify2(t,e);var n=t.iadd(e);return n.cmp(this.m)>=0&&n.isub(this.m),n},k.prototype.sub=function(t,e){this._verify2(t,e);var n=t.sub(e);return n.cmpn(0)<0&&n.iadd(this.m),n._forceRed(this)},k.prototype.isub=function(t,e){this._verify2(t,e);var n=t.isub(e);return n.cmpn(0)<0&&n.iadd(this.m),n},k.prototype.shl=function(t,e){return this._verify1(t),this.imod(t.ushln(e))},k.prototype.imul=function(t,e){return this._verify2(t,e),this.imod(t.imul(e))},k.prototype.mul=function(t,e){return this._verify2(t,e),this.imod(t.mul(e))},k.prototype.isqr=function(t){return this.imul(t,t.clone())},k.prototype.sqr=function(t){return this.mul(t,t)},k.prototype.sqrt=function(t){if(t.isZero())return t.clone();var e=this.m.andln(3);if(n(e%2==1),3===e){var i=this.m.add(new s(1)).iushrn(2);return this.pow(t,i)}for(var r=this.m.subn(1),o=0;!r.isZero()&&0===r.andln(1);)o++,r.iushrn(1);n(!r.isZero());var a=new s(1).toRed(this),h=a.redNeg(),u=this.m.subn(1).iushrn(1),l=this.m.bitLength();for(l=new s(2*l*l).toRed(this);0!==this.pow(l,u).cmp(h);)l.redIAdd(h);for(var c=this.pow(l,r),d=this.pow(t,r.addn(1).iushrn(1)),f=this.pow(t,r),p=o;0!==f.cmp(a);){for(var m=f,g=0;0!==m.cmp(a);g++)m=m.redSqr();n(g<p);var v=this.pow(c,new s(1).iushln(p-g-1));d=d.redMul(v),c=v.redSqr(),f=f.redMul(c),p=g}return d},k.prototype.invm=function(t){var e=t._invmp(this.m);return 0!==e.negative?(e.negative=0,this.imod(e).redNeg()):this.imod(e)},k.prototype.pow=function(t,e){if(e.isZero())return new s(1).toRed(this);if(0===e.cmpn(1))return t.clone();var n=new Array(16);n[0]=new s(1).toRed(this),n[1]=t;for(var i=2;i<n.length;i++)n[i]=this.mul(n[i-1],t);var r=n[0],o=0,a=0,h=e.bitLength()%26;for(0===h&&(h=26),i=e.length-1;i>=0;i--){for(var u=e.words[i],l=h-1;l>=0;l--){var c=u>>l&1;r!==n[0]&&(r=this.sqr(r)),0!==c||0!==o?(o<<=1,o|=c,(4===++a||0===i&&0===l)&&(r=this.mul(r,n[o]),a=0,o=0)):a=0}h=26}return r},k.prototype.convertTo=function(t){var e=t.umod(this.m);return e===t?e.clone():e},k.prototype.convertFrom=function(t){var e=t.clone();return e.red=null,e},s.mont=function(t){return new A(t)},i(A,k),A.prototype.convertTo=function(t){return this.imod(t.ushln(this.shift))},A.prototype.convertFrom=function(t){var e=this.imod(t.mul(this.rinv));return e.red=null,e},A.prototype.imul=function(t,e){if(t.isZero()||e.isZero())return t.words[0]=0,t.length=1,t;var n=t.imul(e),i=n.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),r=n.isub(i).iushrn(this.shift),s=r;return r.cmp(this.m)>=0?s=r.isub(this.m):r.cmpn(0)<0&&(s=r.iadd(this.m)),s._forceRed(this)},A.prototype.mul=function(t,e){if(t.isZero()||e.isZero())return new s(0)._forceRed(this);var n=t.mul(e),i=n.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),r=n.isub(i).iushrn(this.shift),o=r;return r.cmp(this.m)>=0?o=r.isub(this.m):r.cmpn(0)<0&&(o=r.iadd(this.m)),o._forceRed(this)},A.prototype.invm=function(t){return this.imod(t._invmp(this.m).mul(this.r2))._forceRed(this)}}(t,this)})),r.register("4w14y",(function(t,e){var n=r("hADws"),i=r("4OiF0").Buffer;t.exports=function(t,e){return i.from(t.toRed(n.mont(e.modulus)).redPow(new n(e.publicExponent)).fromRed().toArray())}})),r.register("1LJuO",(function(t,e){var n=r("eOlL6"),i=r("4UAri"),s=r("9nhUm"),o=r("hADws"),a=r("aHKJP"),h=r("dHvdJ"),u=r("4w14y"),l=r("4OiF0").Buffer;t.exports=function(t,e,r){var c;c=t.padding?t.padding:r?1:4;var d,f=n(t),p=f.modulus.byteLength();if(e.length>p||new o(e).cmp(f.modulus)>=0)throw new Error("decryption error");d=r?u(new o(e),f):a(e,f);var m=l.alloc(p-d.length);if(d=l.concat([m,d],p),4===c)return function(t,e){var n=t.modulus.byteLength(),r=h("sha1").update(l.alloc(0)).digest(),o=r.length;if(0!==e[0])throw new Error("decryption error");var a=e.slice(1,o+1),u=e.slice(o+1),c=s(a,i(u,o)),d=s(u,i(c,n-o-1));if(function(t,e){t=l.from(t),e=l.from(e);var n=0,i=t.length;t.length!==e.length&&(n++,i=Math.min(t.length,e.length));var r=-1;for(;++r<i;)n+=t[r]^e[r];return n}(r,d.slice(0,o)))throw new Error("decryption error");var f=o;for(;0===d[f];)f++;if(1!==d[f++])throw new Error("decryption error");return d.slice(f)}(f,d);if(1===c)return function(t,e,n){var i=e.slice(0,2),r=2,s=0;for(;0!==e[r++];)if(r>=e.length){s++;break}var o=e.slice(2,r-1);("0002"!==i.toString("hex")&&!n||"0001"!==i.toString("hex")&&n)&&s++;o.length<8&&s++;if(s)throw new Error("decryption error");return e.slice(r)}(0,d,r);if(3===c)return d;throw new Error("unknown padding")}})),r.register("30hQH",(function(n,i){var s,o;t(n.exports,"randomFill",(()=>s),(t=>s=t)),t(n.exports,"randomFillSync",(()=>o),(t=>o=t));var a=r("ajwPf");function h(){throw new Error("secure random number generation not supported by this browser\nuse chrome, FireFox or Internet Explorer 11")}var u=r("4OiF0"),l=(r("bUSoq"),u.Buffer),c=u.kMaxLength,d=e.crypto||e.msCrypto,f=Math.pow(2,32)-1;function p(t,e){if("number"!=typeof t||t!=t)throw new TypeError("offset must be a number");if(t>f||t<0)throw new TypeError("offset must be a uint32");if(t>c||t>e)throw new RangeError("offset out of range")}function m(t,e,n){if("number"!=typeof t||t!=t)throw new TypeError("size must be a number");if(t>f||t<0)throw new TypeError("size must be a uint32");if(t+e>n||t>c)throw new RangeError("buffer too small")}function g(t,e,n,i){var r=t.buffer,s=new Uint8Array(r,e,n);if(d.getRandomValues(s),!i)return t;a.nextTick((function(){i(null,t)}))}d&&d.getRandomValues?(s=function(t,n,i,r){if(!(l.isBuffer(t)||t instanceof e.Uint8Array))throw new TypeError('"buf" argument must be a Buffer or Uint8Array');if("function"==typeof n)r=n,n=0,i=t.length;else if("function"==typeof i)r=i,i=t.length-n;else if("function"!=typeof r)throw new TypeError('"cb" argument must be a function');return p(n,t.length),m(i,n,t.length),g(t,n,i,r)},o=function(t,n,i){void 0===n&&(n=0);if(!(l.isBuffer(t)||t instanceof e.Uint8Array))throw new TypeError('"buf" argument must be a Buffer or Uint8Array');p(n,t.length),void 0===i&&(i=t.length-n);return m(i,n,t.length),g(t,n,i)}):(s=h,o=h)}));
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var s=r("ajwPf");const o=function(t){const e=[];let n=0;for(let i=0;i<t.length;i++){let r=t.charCodeAt(i);r<128?e[n++]=r:r<2048?(e[n++]=r>>6|192,e[n++]=63&r|128):55296==(64512&r)&&i+1<t.length&&56320==(64512&t.charCodeAt(i+1))?(r=65536+((1023&r)<<10)+(1023&t.charCodeAt(++i)),e[n++]=r>>18|240,e[n++]=r>>12&63|128,e[n++]=r>>6&63|128,e[n++]=63&r|128):(e[n++]=r>>12|224,e[n++]=r>>6&63|128,e[n++]=63&r|128)}return e},a={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let e=0;e<t.length;e+=3){const r=t[e],s=e+1<t.length,o=s?t[e+1]:0,a=e+2<t.length,h=a?t[e+2]:0,u=r>>2,l=(3&r)<<4|o>>4;let c=(15&o)<<2|h>>6,d=63&h;a||(d=64,s||(c=64)),i.push(n[u],n[l],n[c],n[d])}return i.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(o(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):function(t){const e=[];let n=0,i=0;for(;n<t.length;){const r=t[n++];if(r<128)e[i++]=String.fromCharCode(r);else if(r>191&&r<224){const s=t[n++];e[i++]=String.fromCharCode((31&r)<<6|63&s)}else if(r>239&&r<365){const s=((7&r)<<18|(63&t[n++])<<12|(63&t[n++])<<6|63&t[n++])-65536;e[i++]=String.fromCharCode(55296+(s>>10)),e[i++]=String.fromCharCode(56320+(1023&s))}else{const s=t[n++],o=t[n++];e[i++]=String.fromCharCode((15&r)<<12|(63&s)<<6|63&o)}}return e.join("")}(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let e=0;e<t.length;){const r=n[t.charAt(e++)],s=e<t.length?n[t.charAt(e)]:0;++e;const o=e<t.length?n[t.charAt(e)]:64;++e;const a=e<t.length?n[t.charAt(e)]:64;if(++e,null==r||null==s||null==o||null==a)throw Error();const h=r<<2|s>>4;if(i.push(h),64!==o){const t=s<<4&240|o>>2;if(i.push(t),64!==a){const t=o<<6&192|a;i.push(t)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}},h=function(t){return function(t){const e=o(t);return a.encodeByteArray(e,!0)}(t).replace(/\./g,"")},u=function(t){try{return a.decodeString(t,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
const l=()=>
/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function(){if("undefined"!=typeof self)return self;if("undefined"!=typeof window)return window;if(void 0!==e)return e;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__,c=()=>{try{return l()||(()=>{if(void 0===s||void 0===s.env)return})()||(()=>{if("undefined"==typeof document)return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch(t){return}const e=t&&u(t[1]);return e&&JSON.parse(e)})()}catch(t){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`)}},d=t=>{var e,n;return null===(n=null===(e=c())||void 0===e?void 0:e.emulatorHosts)||void 0===n?void 0:n[t]},f=t=>{const e=d(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const i=parseInt(e.substring(n+1),10);return"["===e[0]?[e.substring(1,n-1),i]:[e.substring(0,n),i]},p=()=>{var t;return null===(t=c())||void 0===t?void 0:t.config},m=t=>{var e;return null===(e=c())||void 0===e?void 0:e[`_${t}`]};
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class g{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise(((t,e)=>{this.resolve=t,this.reject=e}))}wrapCallback(t){return(e,n)=>{e?this.reject(e):this.resolve(n),"function"==typeof t&&(this.promise.catch((()=>{})),1===t.length?t(e):t(e,n))}}}
/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function v(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n=e||"demo-project",i=t.iat||0,r=t.sub||t.user_id;if(!r)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const s=Object.assign({iss:`https://securetoken.google.com/${n}`,aud:n,iat:i,exp:i+3600,auth_time:i,sub:r,user_id:r,firebase:{sign_in_provider:"custom",identities:{}}},t);return[h(JSON.stringify({alg:"none",type:"JWT"})),h(JSON.stringify(s)),""].join(".")}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function y(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function b(){var t;const n=null===(t=c())||void 0===t?void 0:t.forceEnvironment;if("node"===n)return!0;if("browser"===n)return!1;try{return"[object process]"===Object.prototype.toString.call(e.process)}catch(t){return!1}}function w(){const t="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof t&&void 0!==t.id}function _(){const t=y();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function M(){try{return"object"==typeof indexedDB}catch(t){return!1}}class k extends Error{constructor(t,e,n){super(e),this.code=t,this.customData=n,this.name="FirebaseError",Object.setPrototypeOf(this,k.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,A.prototype.create)}}class A{constructor(t,e,n){this.service=t,this.serviceName=e,this.errors=n}create(t,...e){const n=e[0]||{},i=`${this.service}/${t}`,r=this.errors[t],s=r?function(t,e){return t.replace(E,((t,n)=>{const i=e[n];return null!=i?String(i):`<${n}?>`}))}(r,n):"Error",o=`${this.serviceName}: ${s} (${i}).`;return new k(i,o,n)}}const E=/\{\$([^}]+)}/g;
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function x(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function S(t,e){if(t===e)return!0;const n=Object.keys(t),i=Object.keys(e);for(const r of n){if(!i.includes(r))return!1;const n=t[r],s=e[r];if(T(n)&&T(s)){if(!S(n,s))return!1}else if(n!==s)return!1}for(const t of i)if(!n.includes(t))return!1;return!0}function T(t){return null!==t&&"object"==typeof t}
/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function I(t){const e=[];for(const[n,i]of Object.entries(t))Array.isArray(i)?i.forEach((t=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(t))})):e.push(encodeURIComponent(n)+"="+encodeURIComponent(i));return e.length?"&"+e.join("&"):""}function R(t){const e={};return t.replace(/^\?/,"").split("&").forEach((t=>{if(t){const[n,i]=t.split("=");e[decodeURIComponent(n)]=decodeURIComponent(i)}})),e}function C(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function q(t,e){const n=new N(t,e);return n.subscribe.bind(n)}class N{constructor(t,e){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=e,this.task.then((()=>{t(this)})).catch((t=>{this.error(t)}))}next(t){this.forEachObserver((e=>{e.next(t)}))}error(t){this.forEachObserver((e=>{e.error(t)})),this.close(t)}complete(){this.forEachObserver((t=>{t.complete()})),this.close()}subscribe(t,e,n){let i;if(void 0===t&&void 0===e&&void 0===n)throw new Error("Missing Observer.");i=function(t,e){if("object"!=typeof t||null===t)return!1;for(const n of e)if(n in t&&"function"==typeof t[n])return!0;return!1}(t,["next","error","complete"])?t:{next:t,error:e,complete:n},void 0===i.next&&(i.next=L),void 0===i.error&&(i.error=L),void 0===i.complete&&(i.complete=L);const r=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch(t){}})),this.observers.push(i),r}unsubscribeOne(t){void 0!==this.observers&&void 0!==this.observers[t]&&(delete this.observers[t],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let e=0;e<this.observers.length;e++)this.sendOne(e,t)}sendOne(t,e){this.task.then((()=>{if(void 0!==this.observers&&void 0!==this.observers[t])try{e(this.observers[t])}catch(t){"undefined"!=typeof console&&console.error&&console.error(t)}}))}close(t){this.finalized||(this.finalized=!0,void 0!==t&&(this.finalError=t),this.task.then((()=>{this.observers=void 0,this.onNoObservers=void 0})))}}function L(){}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function D(t){return t&&t._delegate?t._delegate:t}class O{constructor(t,e,n){this.name=t,this.instanceFactory=e,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const B="[DEFAULT]";
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P{constructor(t,e){this.name=t,this.container=e,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const e=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(e)){const t=new g;if(this.instancesDeferred.set(e,t),this.isInitialized(e)||this.shouldAutoInitialize())try{const n=this.getOrInitializeService({instanceIdentifier:e});n&&t.resolve(n)}catch(t){}}return this.instancesDeferred.get(e).promise}getImmediate(t){var e;const n=this.normalizeInstanceIdentifier(null==t?void 0:t.identifier),i=null!==(e=null==t?void 0:t.optional)&&void 0!==e&&e;if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(i)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:n})}catch(t){if(i)return null;throw t}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,this.shouldAutoInitialize()){if(function(t){return"EAGER"===t.instantiationMode}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(t))try{this.getOrInitializeService({instanceIdentifier:B})}catch(t){}for(const[t,e]of this.instancesDeferred.entries()){const n=this.normalizeInstanceIdentifier(t);try{const t=this.getOrInitializeService({instanceIdentifier:n});e.resolve(t)}catch(t){}}}}clearInstance(t=B){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter((t=>"INTERNAL"in t)).map((t=>t.INTERNAL.delete())),...t.filter((t=>"_delete"in t)).map((t=>t._delete()))])}isComponentSet(){return null!=this.component}isInitialized(t=B){return this.instances.has(t)}getOptions(t=B){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:e={}}=t,n=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(n))throw Error(`${this.name}(${n}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:n,options:e});for(const[t,e]of this.instancesDeferred.entries()){n===this.normalizeInstanceIdentifier(t)&&e.resolve(i)}return i}onInit(t,e){var n;const i=this.normalizeInstanceIdentifier(e),r=null!==(n=this.onInitCallbacks.get(i))&&void 0!==n?n:new Set;r.add(t),this.onInitCallbacks.set(i,r);const s=this.instances.get(i);return s&&t(s,i),()=>{r.delete(t)}}invokeOnInitCallbacks(t,e){const n=this.onInitCallbacks.get(e);if(n)for(const i of n)try{i(t,e)}catch(t){}}getOrInitializeService({instanceIdentifier:t,options:e={}}){let n=this.instances.get(t);if(!n&&this.component&&(n=this.component.instanceFactory(this.container,{instanceIdentifier:(i=t,i===B?void 0:i),options:e}),this.instances.set(t,n),this.instancesOptions.set(t,e),this.invokeOnInitCallbacks(n,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,n)}catch(t){}var i;return n||null}normalizeInstanceIdentifier(t=B){return this.component?this.component.multipleInstances?t:B:t}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class U{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const e=this.getProvider(t.name);if(e.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);e.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const e=new P(t,this);return this.providers.set(t,e),e}getProviders(){return Array.from(this.providers.values())}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const F=[];var j,z;(z=j||(j={}))[z.DEBUG=0]="DEBUG",z[z.VERBOSE=1]="VERBOSE",z[z.INFO=2]="INFO",z[z.WARN=3]="WARN",z[z.ERROR=4]="ERROR",z[z.SILENT=5]="SILENT";const V={debug:j.DEBUG,verbose:j.VERBOSE,info:j.INFO,warn:j.WARN,error:j.ERROR,silent:j.SILENT},H=j.INFO,K={[j.DEBUG]:"log",[j.VERBOSE]:"log",[j.INFO]:"info",[j.WARN]:"warn",[j.ERROR]:"error"},W=(t,e,...n)=>{if(e<t.logLevel)return;const i=(new Date).toISOString(),r=K[e];if(!r)throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`);console[r](`[${i}]  ${t.name}:`,...n)};class G{constructor(t){this.name=t,this._logLevel=H,this._logHandler=W,this._userLogHandler=null,F.push(this)}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in j))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel="string"==typeof t?V[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if("function"!=typeof t)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,j.DEBUG,...t),this._logHandler(this,j.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,j.VERBOSE,...t),this._logHandler(this,j.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,j.INFO,...t),this._logHandler(this,j.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,j.WARN,...t),this._logHandler(this,j.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,j.ERROR,...t),this._logHandler(this,j.ERROR,...t)}}const Q=(t,e)=>e.some((e=>t instanceof e));let X,Z;const Y=new WeakMap,J=new WeakMap,tt=new WeakMap,et=new WeakMap,nt=new WeakMap;let it={get(t,e,n){if(t instanceof IDBTransaction){if("done"===e)return J.get(t);if("objectStoreNames"===e)return t.objectStoreNames||tt.get(t);if("store"===e)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return ot(t[e])},set:(t,e,n)=>(t[e]=n,!0),has:(t,e)=>t instanceof IDBTransaction&&("done"===e||"store"===e)||e in t};function rt(t){return t!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(Z||(Z=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(t)?function(...e){return t.apply(at(this),e),ot(Y.get(this))}:function(...e){return ot(t.apply(at(this),e))}:function(e,...n){const i=t.call(at(this),e,...n);return tt.set(i,e.sort?e.sort():[e]),ot(i)}}function st(t){return"function"==typeof t?rt(t):(t instanceof IDBTransaction&&function(t){if(J.has(t))return;const e=new Promise(((e,n)=>{const i=()=>{t.removeEventListener("complete",r),t.removeEventListener("error",s),t.removeEventListener("abort",s)},r=()=>{e(),i()},s=()=>{n(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",r),t.addEventListener("error",s),t.addEventListener("abort",s)}));J.set(t,e)}(t),Q(t,X||(X=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction]))?new Proxy(t,it):t)}function ot(t){if(t instanceof IDBRequest)return function(t){const e=new Promise(((e,n)=>{const i=()=>{t.removeEventListener("success",r),t.removeEventListener("error",s)},r=()=>{e(ot(t.result)),i()},s=()=>{n(t.error),i()};t.addEventListener("success",r),t.addEventListener("error",s)}));return e.then((e=>{e instanceof IDBCursor&&Y.set(e,t)})).catch((()=>{})),nt.set(e,t),e}(t);if(et.has(t))return et.get(t);const e=st(t);return e!==t&&(et.set(t,e),nt.set(e,t)),e}const at=t=>nt.get(t);function ht(t,e,{blocked:n,upgrade:i,blocking:r,terminated:s}={}){const o=indexedDB.open(t,e),a=ot(o);return i&&o.addEventListener("upgradeneeded",(t=>{i(ot(o.result),t.oldVersion,t.newVersion,ot(o.transaction))})),n&&o.addEventListener("blocked",(()=>n())),a.then((t=>{s&&t.addEventListener("close",(()=>s())),r&&t.addEventListener("versionchange",(()=>r()))})).catch((()=>{})),a}const ut=["get","getKey","getAll","getAllKeys","count"],lt=["put","add","delete","clear"],ct=new Map;function dt(t,e){if(!(t instanceof IDBDatabase)||e in t||"string"!=typeof e)return;if(ct.get(e))return ct.get(e);const n=e.replace(/FromIndex$/,""),i=e!==n,r=lt.includes(n);if(!(n in(i?IDBIndex:IDBObjectStore).prototype)||!r&&!ut.includes(n))return;const s=async function(t,...e){const s=this.transaction(t,r?"readwrite":"readonly");let o=s.store;return i&&(o=o.index(e.shift())),(await Promise.all([o[n](...e),r&&s.done]))[0]};return ct.set(e,s),s}it=(t=>({...t,get:(e,n,i)=>dt(e,n)||t.get(e,n,i),has:(e,n)=>!!dt(e,n)||t.has(e,n)}))(it);
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class ft{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map((t=>{if(function(t){const e=t.getComponent();return"VERSION"===(null==e?void 0:e.type)}(t)){const e=t.getImmediate();return`${e.library}/${e.version}`}return null})).filter((t=>t)).join(" ")}}const pt="@firebase/app",mt="0.9.3",gt=new G("@firebase/app"),vt="[DEFAULT]",yt={[pt]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},bt=new Map,wt=new Map;function _t(t,e){try{t.container.addComponent(e)}catch(n){gt.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Mt(t){const e=t.name;if(wt.has(e))return gt.debug(`There were multiple attempts to register component ${e}.`),!1;wt.set(e,t);for(const e of bt.values())_t(e,t);return!0}function kt(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
const At=new A("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class Et{constructor(t,e,n){this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},e),this._name=e.name,this._automaticDataCollectionEnabled=e.automaticDataCollectionEnabled,this._container=n,this.container.addComponent(new O("app",(()=>this),"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw At.create("app-deleted",{appName:this._name})}}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xt="9.17.1";function St(t,e={}){let n=t;if("object"!=typeof e){e={name:e}}const i=Object.assign({name:vt,automaticDataCollectionEnabled:!1},e),r=i.name;if("string"!=typeof r||!r)throw At.create("bad-app-name",{appName:String(r)});if(n||(n=p()),!n)throw At.create("no-options");const s=bt.get(r);if(s){if(S(n,s.options)&&S(i,s.config))return s;throw At.create("duplicate-app",{appName:r})}const o=new U(r);for(const t of wt.values())o.addComponent(t);const a=new Et(n,i,o);return bt.set(r,a),a}function Tt(t=vt){const e=bt.get(t);if(!e&&t===vt)return St();if(!e)throw At.create("no-app",{appName:t});return e}function It(t,e,n){var i;let r=null!==(i=yt[t])&&void 0!==i?i:t;n&&(r+=`-${n}`);const s=r.match(/\s|\//),o=e.match(/\s|\//);if(s||o){const t=[`Unable to register library "${r}" with version "${e}":`];return s&&t.push(`library name "${r}" contains illegal characters (whitespace or "/")`),s&&o&&t.push("and"),o&&t.push(`version name "${e}" contains illegal characters (whitespace or "/")`),void gt.warn(t.join(" "))}Mt(new O(`${r}-version`,(()=>({library:r,version:e})),"VERSION"))}
/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
const Rt="firebase-heartbeat-database",Ct=1,qt="firebase-heartbeat-store";let Nt=null;function Lt(){return Nt||(Nt=ht(Rt,Ct,{upgrade:(t,e)=>{if(0===e)t.createObjectStore(qt)}}).catch((t=>{throw At.create("idb-open",{originalErrorMessage:t.message})}))),Nt}async function Dt(t,e){try{const n=(await Lt()).transaction(qt,"readwrite"),i=n.objectStore(qt);return await i.put(e,Ot(t)),n.done}catch(t){if(t instanceof k)gt.warn(t.message);else{const e=At.create("idb-set",{originalErrorMessage:null==t?void 0:t.message});gt.warn(e.message)}}}function Ot(t){return`${t.name}!${t.options.appId}`}
/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bt=1024;class Pt{constructor(t){this.container=t,this._heartbeatsCache=null;const e=this.container.getProvider("app").getImmediate();this._storage=new Ft(e),this._heartbeatsCachePromise=this._storage.read().then((t=>(this._heartbeatsCache=t,t)))}async triggerHeartbeat(){const t=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),e=Ut();if(null===this._heartbeatsCache&&(this._heartbeatsCache=await this._heartbeatsCachePromise),this._heartbeatsCache.lastSentHeartbeatDate!==e&&!this._heartbeatsCache.heartbeats.some((t=>t.date===e)))return this._heartbeatsCache.heartbeats.push({date:e,agent:t}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter((t=>{const e=new Date(t.date).valueOf();return Date.now()-e<=2592e6})),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){if(null===this._heartbeatsCache&&await this._heartbeatsCachePromise,null===this._heartbeatsCache||0===this._heartbeatsCache.heartbeats.length)return"";const t=Ut(),{heartbeatsToSend:e,unsentEntries:n}=function(t,e=Bt){const n=[];let i=t.slice();for(const r of t){const t=n.find((t=>t.agent===r.agent));if(t){if(t.dates.push(r.date),jt(n)>e){t.dates.pop();break}}else if(n.push({agent:r.agent,dates:[r.date]}),jt(n)>e){n.pop();break}i=i.slice(1)}return{heartbeatsToSend:n,unsentEntries:i}}(this._heartbeatsCache.heartbeats),i=h(JSON.stringify({version:2,heartbeats:e}));return this._heartbeatsCache.lastSentHeartbeatDate=t,n.length>0?(this._heartbeatsCache.heartbeats=n,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}}function Ut(){return(new Date).toISOString().substring(0,10)}class Ft{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return!!M()&&new Promise(((t,e)=>{try{let n=!0;const i="validate-browser-context-for-indexeddb-analytics-module",r=self.indexedDB.open(i);r.onsuccess=()=>{r.result.close(),n||self.indexedDB.deleteDatabase(i),t(!0)},r.onupgradeneeded=()=>{n=!1},r.onerror=()=>{var t;e((null===(t=r.error)||void 0===t?void 0:t.message)||"")}}catch(t){e(t)}})).then((()=>!0)).catch((()=>!1))}async read(){if(await this._canUseIndexedDBPromise){return await async function(t){try{return(await Lt()).transaction(qt).objectStore(qt).get(Ot(t))}catch(t){if(t instanceof k)gt.warn(t.message);else{const e=At.create("idb-get",{originalErrorMessage:null==t?void 0:t.message});gt.warn(e.message)}}}(this.app)||{heartbeats:[]}}return{heartbeats:[]}}async overwrite(t){var e;if(await this._canUseIndexedDBPromise){const n=await this.read();return Dt(this.app,{lastSentHeartbeatDate:null!==(e=t.lastSentHeartbeatDate)&&void 0!==e?e:n.lastSentHeartbeatDate,heartbeats:t.heartbeats})}}async add(t){var e;if(await this._canUseIndexedDBPromise){const n=await this.read();return Dt(this.app,{lastSentHeartbeatDate:null!==(e=t.lastSentHeartbeatDate)&&void 0!==e?e:n.lastSentHeartbeatDate,heartbeats:[...n.heartbeats,...t.heartbeats]})}}}function jt(t){return h(JSON.stringify({version:2,heartbeats:t})).length}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var zt;zt="",Mt(new O("platform-logger",(t=>new ft(t)),"PRIVATE")),Mt(new O("heartbeat",(t=>new Pt(t)),"PRIVATE")),It(pt,mt,zt),It(pt,mt,"esm2017"),It("fire-js","");
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
It("firebase","9.17.1","app");function Vt(t,e){var n={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.indexOf(i)<0&&(n[i]=t[i]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(i=Object.getOwnPropertySymbols(t);r<i.length;r++)e.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(t,i[r])&&(n[i[r]]=t[i[r]])}return n}Object.create;Object.create;function Ht(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const Kt=Ht,Wt=new A("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),Gt=new G("@firebase/auth");function $t(t,...e){Gt.logLevel<=j.ERROR&&Gt.error(`Auth (${xt}): ${t}`,...e)}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qt(t,...e){throw Yt(t,...e)}function Xt(t,...e){return Yt(t,...e)}function Zt(t,e,n){const i=Object.assign(Object.assign({},Kt()),{[e]:n});return new A("auth","Firebase",i).create(e,{appName:t.name})}function Yt(t,...e){if("string"!=typeof t){const n=e[0],i=[...e.slice(1)];return i[0]&&(i[0].appName=t.name),t._errorFactory.create(n,...i)}return Wt.create(t,...e)}function Jt(t,e,...n){if(!t)throw Yt(e,...n)}function te(t){const e="INTERNAL ASSERTION FAILED: "+t;throw $t(e),new Error(e)}function ee(t,e){t||te(e)}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ne=new Map;function ie(t){ee(t instanceof Function,"Expected a class definition");let e=ne.get(t);return e?(ee(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,ne.set(t,e),e)}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function re(){var t;return"undefined"!=typeof self&&(null===(t=self.location)||void 0===t?void 0:t.href)||""}function se(){return"http:"===oe()||"https:"===oe()}function oe(){var t;return"undefined"!=typeof self&&(null===(t=self.location)||void 0===t?void 0:t.protocol)||null}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ae(){return!("undefined"!=typeof navigator&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(se()||w()||"connection"in navigator))||navigator.onLine}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class he{constructor(t,e){this.shortDelay=t,this.longDelay=e,ee(e>t,"Short delay should be less than long delay!"),this.isMobile="undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(y())||"object"==typeof navigator&&"ReactNative"===navigator.product}get(){return ae()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ue(t,e){ee(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class le{static initialize(t,e,n){this.fetchImpl=t,e&&(this.headersImpl=e),n&&(this.responseImpl=n)}static fetch(){return this.fetchImpl?this.fetchImpl:"undefined"!=typeof self&&"fetch"in self?self.fetch:void te("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:"undefined"!=typeof self&&"Headers"in self?self.Headers:void te("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:"undefined"!=typeof self&&"Response"in self?self.Response:void te("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ce={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error"},de=new he(3e4,6e4);
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fe(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function pe(t,e,n,i,r={}){return me(t,r,(async()=>{let r={},s={};i&&("GET"===e?s=i:r={body:JSON.stringify(i)});const o=I(Object.assign({key:t.config.apiKey},s)).slice(1),a=await t._getAdditionalHeaders();return a["Content-Type"]="application/json",t.languageCode&&(a["X-Firebase-Locale"]=t.languageCode),le.fetch()(ve(t,t.config.apiHost,n,o),Object.assign({method:e,headers:a,referrerPolicy:"no-referrer"},r))}))}async function me(t,e,n){t._canInitEmulator=!1;const i=Object.assign(Object.assign({},ce),e);try{const e=new ye(t),r=await Promise.race([n(),e.promise]);e.clearNetworkTimeout();const s=await r.json();if("needConfirmation"in s)throw be(t,"account-exists-with-different-credential",s);if(r.ok&&!("errorMessage"in s))return s;{const e=r.ok?s.errorMessage:s.error.message,[n,o]=e.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===n)throw be(t,"credential-already-in-use",s);if("EMAIL_EXISTS"===n)throw be(t,"email-already-in-use",s);if("USER_DISABLED"===n)throw be(t,"user-disabled",s);const a=i[n]||n.toLowerCase().replace(/[_\s]+/g,"-");if(o)throw Zt(t,a,o);Qt(t,a)}}catch(e){if(e instanceof k)throw e;Qt(t,"network-request-failed")}}async function ge(t,e,n,i,r={}){const s=await pe(t,e,n,i,r);return"mfaPendingCredential"in s&&Qt(t,"multi-factor-auth-required",{_serverResponse:s}),s}function ve(t,e,n,i){const r=`${e}${n}?${i}`;return t.config.emulator?ue(t.config,r):`${t.config.apiScheme}://${r}`}class ye{constructor(t){this.auth=t,this.timer=null,this.promise=new Promise(((t,e)=>{this.timer=setTimeout((()=>e(Xt(this.auth,"network-request-failed"))),de.get())}))}clearNetworkTimeout(){clearTimeout(this.timer)}}function be(t,e,n){const i={appName:t.name};n.email&&(i.email=n.email),n.phoneNumber&&(i.phoneNumber=n.phoneNumber);const r=Xt(t,e,i);return r.customData._tokenResponse=n,r}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function we(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch(t){}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _e(t){return 1e3*Number(t)}function Me(t){const[e,n,i]=t.split(".");if(void 0===e||void 0===n||void 0===i)return $t("JWT malformed, contained fewer than 3 sections"),null;try{const t=u(n);return t?JSON.parse(t):($t("Failed to decode base64 JWT payload"),null)}catch(t){return $t("Caught error parsing JWT payload as JSON",null==t?void 0:t.toString()),null}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
async function ke(t,e,n=!1){if(n)return e;try{return await e}catch(e){throw e instanceof k&&function({code:t}){return"auth/user-disabled"===t||"auth/user-token-expired"===t}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(e)&&t.auth.currentUser===t&&await t.auth.signOut(),e}}class Ae{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(t){var e;if(t){const t=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),t}{this.errorBackoff=3e4;const t=(null!==(e=this.user.stsTokenManager.expirationTime)&&void 0!==e?e:0)-Date.now()-3e5;return Math.max(0,t)}}schedule(t=!1){if(!this.isRunning)return;const e=this.getInterval(t);this.timerId=setTimeout((async()=>{await this.iteration()}),e)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){return void("auth/network-request-failed"===(null==t?void 0:t.code)&&this.schedule(!0))}this.schedule()}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ee{constructor(t,e){this.createdAt=t,this.lastLoginAt=e,this._initializeTime()}_initializeTime(){this.lastSignInTime=we(this.lastLoginAt),this.creationTime=we(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function xe(t){var e;const n=t.auth,i=await t.getIdToken(),r=await ke(t,async function(t,e){return pe(t,"POST","/v1/accounts:lookup",e)}(n,{idToken:i}));Jt(null==r?void 0:r.users.length,n,"internal-error");const s=r.users[0];t._notifyReloadListener(s);const o=(null===(e=s.providerUserInfo)||void 0===e?void 0:e.length)?s.providerUserInfo.map((t=>{var{providerId:e}=t,n=Vt(t,["providerId"]);return{providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}})):[];const a=(h=t.providerData,u=o,[...h.filter((t=>!u.some((e=>e.providerId===t.providerId)))),...u]);var h,u;const l=t.isAnonymous,c=!(t.email&&s.passwordHash||(null==a?void 0:a.length)),d=!!l&&c,f={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new Ee(s.createdAt,s.lastLoginAt),isAnonymous:d};Object.assign(t,f)}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class Se{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){Jt(t.idToken,"internal-error"),Jt(void 0!==t.idToken,"internal-error"),Jt(void 0!==t.refreshToken,"internal-error");const e="expiresIn"in t&&void 0!==t.expiresIn?Number(t.expiresIn):function(t){const e=Me(t);return Jt(e,"internal-error"),Jt(void 0!==e.exp,"internal-error"),Jt(void 0!==e.iat,"internal-error"),Number(e.exp)-Number(e.iat)}(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,e)}async getToken(t,e=!1){return Jt(!this.accessToken||this.refreshToken,t,"user-token-expired"),e||!this.accessToken||this.isExpired?this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null:this.accessToken}clearRefreshToken(){this.refreshToken=null}async refresh(t,e){const{accessToken:n,refreshToken:i,expiresIn:r}=await
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
async function(t,e){const n=await me(t,{},(async()=>{const n=I({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:r}=t.config,s=ve(t,i,"/v1/token",`key=${r}`),o=await t._getAdditionalHeaders();return o["Content-Type"]="application/x-www-form-urlencoded",le.fetch()(s,{method:"POST",headers:o,body:n})}));return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}(t,e);this.updateTokensAndExpiration(n,i,Number(r))}updateTokensAndExpiration(t,e,n){this.refreshToken=e||null,this.accessToken=t||null,this.expirationTime=Date.now()+1e3*n}static fromJSON(t,e){const{refreshToken:n,accessToken:i,expirationTime:r}=e,s=new Se;return n&&(Jt("string"==typeof n,"internal-error",{appName:t}),s.refreshToken=n),i&&(Jt("string"==typeof i,"internal-error",{appName:t}),s.accessToken=i),r&&(Jt("number"==typeof r,"internal-error",{appName:t}),s.expirationTime=r),s}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new Se,this.toJSON())}_performRefresh(){return te("not implemented")}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Te(t,e){Jt("string"==typeof t||void 0===t,"internal-error",{appName:e})}class Ie{constructor(t){var{uid:e,auth:n,stsTokenManager:i}=t,r=Vt(t,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Ae(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=r.displayName||null,this.email=r.email||null,this.emailVerified=r.emailVerified||!1,this.phoneNumber=r.phoneNumber||null,this.photoURL=r.photoURL||null,this.isAnonymous=r.isAnonymous||!1,this.tenantId=r.tenantId||null,this.providerData=r.providerData?[...r.providerData]:[],this.metadata=new Ee(r.createdAt||void 0,r.lastLoginAt||void 0)}async getIdToken(t){const e=await ke(this,this.stsTokenManager.getToken(this.auth,t));return Jt(e,this.auth,"internal-error"),this.accessToken!==e&&(this.accessToken=e,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),e}getIdTokenResult(t){return async function(t,e=!1){const n=D(t),i=await n.getIdToken(e),r=Me(i);Jt(r&&r.exp&&r.auth_time&&r.iat,n.auth,"internal-error");const s="object"==typeof r.firebase?r.firebase:void 0,o=null==s?void 0:s.sign_in_provider;return{claims:r,token:i,authTime:we(_e(r.auth_time)),issuedAtTime:we(_e(r.iat)),expirationTime:we(_e(r.exp)),signInProvider:o||null,signInSecondFactor:(null==s?void 0:s.sign_in_second_factor)||null}}(this,t)}reload(){return async function(t){const e=D(t);await xe(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}(this)}_assign(t){this!==t&&(Jt(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map((t=>Object.assign({},t))),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){return new Ie(Object.assign(Object.assign({},this),{auth:t,stsTokenManager:this.stsTokenManager._clone()}))}_onReload(t){Jt(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,e=!1){let n=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),n=!0),e&&await xe(this),await this.auth._persistUserIfCurrent(this),n&&this.auth._notifyListenersIfCurrent(this)}async delete(){const t=await this.getIdToken();return await ke(this,async function(t,e){return pe(t,"POST","/v1/accounts:delete",e)}(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map((t=>Object.assign({},t))),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,e){var n,i,r,s,o,a,h,u;const l=null!==(n=e.displayName)&&void 0!==n?n:void 0,c=null!==(i=e.email)&&void 0!==i?i:void 0,d=null!==(r=e.phoneNumber)&&void 0!==r?r:void 0,f=null!==(s=e.photoURL)&&void 0!==s?s:void 0,p=null!==(o=e.tenantId)&&void 0!==o?o:void 0,m=null!==(a=e._redirectEventId)&&void 0!==a?a:void 0,g=null!==(h=e.createdAt)&&void 0!==h?h:void 0,v=null!==(u=e.lastLoginAt)&&void 0!==u?u:void 0,{uid:y,emailVerified:b,isAnonymous:w,providerData:_,stsTokenManager:M}=e;Jt(y&&M,t,"internal-error");const k=Se.fromJSON(this.name,M);Jt("string"==typeof y,t,"internal-error"),Te(l,t.name),Te(c,t.name),Jt("boolean"==typeof b,t,"internal-error"),Jt("boolean"==typeof w,t,"internal-error"),Te(d,t.name),Te(f,t.name),Te(p,t.name),Te(m,t.name),Te(g,t.name),Te(v,t.name);const A=new Ie({uid:y,auth:t,email:c,emailVerified:b,displayName:l,isAnonymous:w,photoURL:f,phoneNumber:d,tenantId:p,stsTokenManager:k,createdAt:g,lastLoginAt:v});return _&&Array.isArray(_)&&(A.providerData=_.map((t=>Object.assign({},t)))),m&&(A._redirectEventId=m),A}static async _fromIdTokenResponse(t,e,n=!1){const i=new Se;i.updateFromServerResponse(e);const r=new Ie({uid:e.localId,auth:t,stsTokenManager:i,isAnonymous:n});return await xe(r),r}}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Re{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,e){this.storage[t]=e}async _get(t){const e=this.storage[t];return void 0===e?null:e}async _remove(t){delete this.storage[t]}_addListener(t,e){}_removeListener(t,e){}}Re.type="NONE";const Ce=Re;
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qe(t,e,n){return`firebase:${t}:${e}:${n}`}class Ne{constructor(t,e,n){this.persistence=t,this.auth=e,this.userKey=n;const{config:i,name:r}=this.auth;this.fullUserKey=qe(this.userKey,i.apiKey,r),this.fullPersistenceKey=qe("persistence",i.apiKey,r),this.boundEventHandler=e._onStorageEvent.bind(e),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);return t?Ie._fromJSON(this.auth,t):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const e=await this.getCurrentUser();return await this.removeCurrentUser(),this.persistence=t,e?this.setCurrentUser(e):void 0}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,e,n="authUser"){if(!e.length)return new Ne(ie(Ce),t,n);const i=(await Promise.all(e.map((async t=>{if(await t._isAvailable())return t})))).filter((t=>t));let r=i[0]||ie(Ce);const s=qe(n,t.config.apiKey,t.name);let o=null;for(const n of e)try{const e=await n._get(s);if(e){const i=Ie._fromJSON(t,e);n!==r&&(o=i),r=n;break}}catch(t){}const a=i.filter((t=>t._shouldAllowMigration));return r._shouldAllowMigration&&a.length?(r=a[0],o&&await r._set(s,o.toJSON()),await Promise.all(e.map((async t=>{if(t!==r)try{await t._remove(s)}catch(t){}}))),new Ne(r,t,n)):new Ne(r,t,n)}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Le(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(Pe(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(De(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(Fe(e))return"Blackberry";if(je(e))return"Webos";if(Oe(e))return"Safari";if((e.includes("chrome/")||Be(e))&&!e.includes("edge/"))return"Chrome";if(Ue(e))return"Android";{const e=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,n=t.match(e);if(2===(null==n?void 0:n.length))return n[1]}return"Other"}function De(t=y()){return/firefox\//i.test(t)}function Oe(t=y()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function Be(t=y()){return/crios\//i.test(t)}function Pe(t=y()){return/iemobile/i.test(t)}function Ue(t=y()){return/android/i.test(t)}function Fe(t=y()){return/blackberry/i.test(t)}function je(t=y()){return/webos/i.test(t)}function ze(t=y()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function Ve(){return _()&&10===document.documentMode}function He(t=y()){return ze(t)||Ue(t)||je(t)||Fe(t)||/windows phone/i.test(t)||Pe(t)}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function Ke(t,e=[]){let n;switch(t){case"Browser":n=Le(y());break;case"Worker":n=`${Le(y())}-${t}`;break;default:n=t}const i=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${xt}/${i}`}
/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class We{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,e){const n=e=>new Promise(((n,i)=>{try{n(t(e))}catch(t){i(t)}}));n.onAbort=e,this.queue.push(n);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const e=[];try{for(const n of this.queue)await n(t),n.onAbort&&e.push(n.onAbort)}catch(t){e.reverse();for(const t of e)try{t()}catch(t){}throw this.auth._errorFactory.create("login-blocked",{originalMessage:null==t?void 0:t.message})}}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ge{constructor(t,e,n){this.app=t,this.heartbeatServiceProvider=e,this.config=n,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Qe(this),this.idTokenSubscription=new Qe(this),this.beforeStateQueue=new We(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Wt,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=n.sdkClientVersion}_initializeWithPersistence(t,e){return e&&(this._popupRedirectResolver=ie(e)),this._initializationPromise=this.queue((async()=>{var n,i;if(!this._deleted&&(this.persistenceManager=await Ne.create(this,t),!this._deleted)){if(null===(n=this._popupRedirectResolver)||void 0===n?void 0:n._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch(t){}await this.initializeCurrentUser(e),this.lastNotifiedUid=(null===(i=this.currentUser)||void 0===i?void 0:i.uid)||null,this._deleted||(this._isInitialized=!0)}})),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();return this.currentUser||t?this.currentUser&&t&&this.currentUser.uid===t.uid?(this._currentUser._assign(t),void await this.currentUser.getIdToken()):void await this._updateCurrentUser(t,!0):void 0}async initializeCurrentUser(t){var e;const n=await this.assertedPersistence.getCurrentUser();let i=n,r=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const n=null===(e=this.redirectUser)||void 0===e?void 0:e._redirectEventId,s=null==i?void 0:i._redirectEventId,o=await this.tryRedirectSignIn(t);n&&n!==s||!(null==o?void 0:o.user)||(i=o.user,r=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(r)try{await this.beforeStateQueue.runMiddleware(i)}catch(t){i=n,this._popupRedirectResolver._overrideRedirectResult(this,(()=>Promise.reject(t)))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return Jt(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(t){let e=null;try{e=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch(t){await this._setRedirectUser(null)}return e}async reloadAndSetCurrentUserOrClear(t){try{await xe(t)}catch(t){if("auth/network-request-failed"!==(null==t?void 0:t.code))return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=function(){if("undefined"==typeof navigator)return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}()}async _delete(){this._deleted=!0}async updateCurrentUser(t){const e=t?D(t):null;return e&&Jt(e.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(e&&e._clone(this))}async _updateCurrentUser(t,e=!1){if(!this._deleted)return t&&Jt(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),e||await this.beforeStateQueue.runMiddleware(t),this.queue((async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()}))}async signOut(){return await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0)}setPersistence(t){return this.queue((async()=>{await this.assertedPersistence.setPersistence(ie(t))}))}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(t){this._errorFactory=new A("auth","Firebase",t())}onAuthStateChanged(t,e,n){return this.registerStateListener(this.authStateSubscription,t,e,n)}beforeAuthStateChanged(t,e){return this.beforeStateQueue.pushCallback(t,e)}onIdTokenChanged(t,e,n){return this.registerStateListener(this.idTokenSubscription,t,e,n)}toJSON(){var t;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(t=this._currentUser)||void 0===t?void 0:t.toJSON()}}async _setRedirectUser(t,e){const n=await this.getOrInitRedirectPersistenceManager(e);return null===t?n.removeCurrentUser():n.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const e=t&&ie(t)||this._popupRedirectResolver;Jt(e,this,"argument-error"),this.redirectPersistenceManager=await Ne.create(this,[ie(e._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){var e,n;return this._isInitialized&&await this.queue((async()=>{})),(null===(e=this._currentUser)||void 0===e?void 0:e._redirectEventId)===t?this._currentUser:(null===(n=this.redirectUser)||void 0===n?void 0:n._redirectEventId)===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue((async()=>this.directlySetCurrentUser(t)))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var t,e;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const n=null!==(e=null===(t=this.currentUser)||void 0===t?void 0:t.uid)&&void 0!==e?e:null;this.lastNotifiedUid!==n&&(this.lastNotifiedUid=n,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,e,n,i){if(this._deleted)return()=>{};const r="function"==typeof e?e:e.next.bind(e),s=this._isInitialized?Promise.resolve():this._initializationPromise;return Jt(s,this,"internal-error"),s.then((()=>r(this.currentUser))),"function"==typeof e?t.addObserver(e,n,i):t.addObserver(e)}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return Jt(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){t&&!this.frameworks.includes(t)&&(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=Ke(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var t;const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await(null===(t=this.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===t?void 0:t.getHeartbeatsHeader());return n&&(e["X-Firebase-Client"]=n),e}}function $e(t){return D(t)}class Qe{constructor(t){this.auth=t,this.observer=null,this.addObserver=q((t=>this.observer=t))}get next(){return Jt(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function Xe(t,e,n){const i=$e(t);Jt(i._canInitEmulator,i,"emulator-config-failed"),Jt(/^https?:\/\//.test(e),i,"invalid-emulator-scheme");const r=!!(null==n?void 0:n.disableWarnings),s=Ze(e),{host:o,port:a}=function(t){const e=Ze(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const i=n[2].split("@").pop()||"",r=/^(\[[^\]]+\])(:|$)/.exec(i);if(r){const t=r[1];return{host:t,port:Ye(i.substr(t.length+1))}}{const[t,e]=i.split(":");return{host:t,port:Ye(e)}}}(e),h=null===a?"":`:${a}`;i.config.emulator={url:`${s}//${o}${h}/`},i.settings.appVerificationDisabledForTesting=!0,i.emulatorConfig=Object.freeze({host:o,port:a,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:r})}),r||function(){function t(){const t=document.createElement("p"),e=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",e.position="fixed",e.width="100%",e.backgroundColor="#ffffff",e.border=".1em solid #000000",e.color="#b50000",e.bottom="0px",e.left="0px",e.margin="0px",e.zIndex="10000",e.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}"undefined"!=typeof console&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials.");"undefined"!=typeof window&&"undefined"!=typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",t):t())}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */()}function Ze(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function Ye(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}class Je{constructor(t,e){this.providerId=t,this.signInMethod=e}toJSON(){return te("not implemented")}_getIdTokenResponse(t){return te("not implemented")}_linkToIdToken(t,e){return te("not implemented")}_getReauthenticationResolver(t){return te("not implemented")}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function tn(t,e){return pe(t,"POST","/v1/accounts:update",e)}async function en(t,e){return pe(t,"POST","/v1/accounts:sendOobCode",fe(t,e))}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class nn extends Je{constructor(t,e,n,i=null){super("password",n),this._email=t,this._password=e,this._tenantId=i}static _fromEmailAndPassword(t,e){return new nn(t,e,"password")}static _fromEmailAndCode(t,e,n=null){return new nn(t,e,"emailLink",n)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(t){const e="string"==typeof t?JSON.parse(t):t;if((null==e?void 0:e.email)&&(null==e?void 0:e.password)){if("password"===e.signInMethod)return this._fromEmailAndPassword(e.email,e.password);if("emailLink"===e.signInMethod)return this._fromEmailAndCode(e.email,e.password,e.tenantId)}return null}async _getIdTokenResponse(t){switch(this.signInMethod){case"password":
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
return async function(t,e){return ge(t,"POST","/v1/accounts:signInWithPassword",fe(t,e))}(t,{returnSecureToken:!0,email:this._email,password:this._password});case"emailLink":
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
return async function(t,e){return ge(t,"POST","/v1/accounts:signInWithEmailLink",fe(t,e))}(t,{email:this._email,oobCode:this._password});default:Qt(t,"internal-error")}}async _linkToIdToken(t,e){switch(this.signInMethod){case"password":return tn(t,{idToken:e,returnSecureToken:!0,email:this._email,password:this._password});case"emailLink":return async function(t,e){return ge(t,"POST","/v1/accounts:signInWithEmailLink",fe(t,e))}(t,{idToken:e,email:this._email,oobCode:this._password});default:Qt(t,"internal-error")}}_getReauthenticationResolver(t){return this._getIdTokenResponse(t)}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function rn(t,e){return ge(t,"POST","/v1/accounts:signInWithIdp",fe(t,e))}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sn extends Je{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const e=new sn(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(e.idToken=t.idToken),t.accessToken&&(e.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(e.nonce=t.nonce),t.pendingToken&&(e.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(e.accessToken=t.oauthToken,e.secret=t.oauthTokenSecret):Qt("argument-error"),e}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const e="string"==typeof t?JSON.parse(t):t,{providerId:n,signInMethod:i}=e,r=Vt(e,["providerId","signInMethod"]);if(!n||!i)return null;const s=new sn(n,i);return s.idToken=r.idToken||void 0,s.accessToken=r.accessToken||void 0,s.secret=r.secret,s.nonce=r.nonce,s.pendingToken=r.pendingToken||null,s}_getIdTokenResponse(t){return rn(t,this.buildRequest())}_linkToIdToken(t,e){const n=this.buildRequest();return n.idToken=e,rn(t,n)}_getReauthenticationResolver(t){const e=this.buildRequest();return e.autoCreate=!1,rn(t,e)}buildRequest(){const t={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const e={};this.idToken&&(e.id_token=this.idToken),this.accessToken&&(e.access_token=this.accessToken),this.secret&&(e.oauth_token_secret=this.secret),e.providerId=this.providerId,this.nonce&&!this.pendingToken&&(e.nonce=this.nonce),t.postBody=I(e)}return t}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const on={USER_NOT_FOUND:"user-not-found"};
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class an extends Je{constructor(t){super("phone","phone"),this.params=t}static _fromVerification(t,e){return new an({verificationId:t,verificationCode:e})}static _fromTokenResponse(t,e){return new an({phoneNumber:t,temporaryProof:e})}_getIdTokenResponse(t){return async function(t,e){return ge(t,"POST","/v1/accounts:signInWithPhoneNumber",fe(t,e))}(t,this._makeVerificationRequest())}_linkToIdToken(t,e){return async function(t,e){const n=await ge(t,"POST","/v1/accounts:signInWithPhoneNumber",fe(t,e));if(n.temporaryProof)throw be(t,"account-exists-with-different-credential",n);return n}(t,Object.assign({idToken:e},this._makeVerificationRequest()))}_getReauthenticationResolver(t){return async function(t,e){return ge(t,"POST","/v1/accounts:signInWithPhoneNumber",fe(t,Object.assign(Object.assign({},e),{operation:"REAUTH"})),on)}(t,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:t,phoneNumber:e,verificationId:n,verificationCode:i}=this.params;return t&&e?{temporaryProof:t,phoneNumber:e}:{sessionInfo:n,code:i}}toJSON(){const t={providerId:this.providerId};return this.params.phoneNumber&&(t.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(t.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(t.verificationCode=this.params.verificationCode),this.params.verificationId&&(t.verificationId=this.params.verificationId),t}static fromJSON(t){"string"==typeof t&&(t=JSON.parse(t));const{verificationId:e,verificationCode:n,phoneNumber:i,temporaryProof:r}=t;return n||e||i||r?new an({verificationId:e,verificationCode:n,phoneNumber:i,temporaryProof:r}):null}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hn{constructor(t){var e,n,i,r,s,o;const a=R(C(t)),h=null!==(e=a.apiKey)&&void 0!==e?e:null,u=null!==(n=a.oobCode)&&void 0!==n?n:null,l=function(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(i=a.mode)&&void 0!==i?i:null);Jt(h&&u&&l,"argument-error"),this.apiKey=h,this.operation=l,this.code=u,this.continueUrl=null!==(r=a.continueUrl)&&void 0!==r?r:null,this.languageCode=null!==(s=a.languageCode)&&void 0!==s?s:null,this.tenantId=null!==(o=a.tenantId)&&void 0!==o?o:null}static parseLink(t){const e=function(t){const e=R(C(t)).link,n=e?R(C(e)).deep_link_id:null,i=R(C(t)).deep_link_id;return(i?R(C(i)).link:null)||i||n||e||t}(t);try{return new hn(e)}catch(t){return null}}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class un{constructor(){this.providerId=un.PROVIDER_ID}static credential(t,e){return nn._fromEmailAndPassword(t,e)}static credentialWithLink(t,e){const n=hn.parseLink(e);return Jt(n,"argument-error"),nn._fromEmailAndCode(t,n.code,n.tenantId)}}un.PROVIDER_ID="password",un.EMAIL_PASSWORD_SIGN_IN_METHOD="password",un.EMAIL_LINK_SIGN_IN_METHOD="emailLink";
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class ln{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cn extends ln{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class dn extends cn{constructor(){super("facebook.com")}static credential(t){return sn._fromParams({providerId:dn.PROVIDER_ID,signInMethod:dn.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return dn.credentialFromTaggedObject(t)}static credentialFromError(t){return dn.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return dn.credential(t.oauthAccessToken)}catch(t){return null}}}dn.FACEBOOK_SIGN_IN_METHOD="facebook.com",dn.PROVIDER_ID="facebook.com";
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class fn extends cn{constructor(){super("google.com"),this.addScope("profile")}static credential(t,e){return sn._fromParams({providerId:fn.PROVIDER_ID,signInMethod:fn.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:e})}static credentialFromResult(t){return fn.credentialFromTaggedObject(t)}static credentialFromError(t){return fn.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:e,oauthAccessToken:n}=t;if(!e&&!n)return null;try{return fn.credential(e,n)}catch(t){return null}}}fn.GOOGLE_SIGN_IN_METHOD="google.com",fn.PROVIDER_ID="google.com";
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class pn extends cn{constructor(){super("github.com")}static credential(t){return sn._fromParams({providerId:pn.PROVIDER_ID,signInMethod:pn.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return pn.credentialFromTaggedObject(t)}static credentialFromError(t){return pn.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return pn.credential(t.oauthAccessToken)}catch(t){return null}}}pn.GITHUB_SIGN_IN_METHOD="github.com",pn.PROVIDER_ID="github.com";
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class mn extends cn{constructor(){super("twitter.com")}static credential(t,e){return sn._fromParams({providerId:mn.PROVIDER_ID,signInMethod:mn.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:e})}static credentialFromResult(t){return mn.credentialFromTaggedObject(t)}static credentialFromError(t){return mn.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:e,oauthTokenSecret:n}=t;if(!e||!n)return null;try{return mn.credential(e,n)}catch(t){return null}}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
async function gn(t,e){return ge(t,"POST","/v1/accounts:signUp",fe(t,e))}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */mn.TWITTER_SIGN_IN_METHOD="twitter.com",mn.PROVIDER_ID="twitter.com";class vn{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,e,n,i=!1){const r=await Ie._fromIdTokenResponse(t,n,i),s=yn(n);return new vn({user:r,providerId:s,_tokenResponse:n,operationType:e})}static async _forOperation(t,e,n){await t._updateTokensIfNecessary(n,!0);const i=yn(n);return new vn({user:t,providerId:i,_tokenResponse:n,operationType:e})}}function yn(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class bn extends k{constructor(t,e,n,i){var r;super(e.code,e.message),this.operationType=n,this.user=i,Object.setPrototypeOf(this,bn.prototype),this.customData={appName:t.name,tenantId:null!==(r=t.tenantId)&&void 0!==r?r:void 0,_serverResponse:e.customData._serverResponse,operationType:n}}static _fromErrorAndOperation(t,e,n,i){return new bn(t,e,n,i)}}function wn(t,e,n,i){return("reauthenticate"===e?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch((n=>{if("auth/multi-factor-auth-required"===n.code)throw bn._fromErrorAndOperation(t,n,e,i);throw n}))}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _n(t,e,n=!1){const i=await ke(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return vn._forOperation(t,"link",i)}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
async function Mn(t,e,n=!1){const{auth:i}=t,r="reauthenticate";try{const s=await ke(t,wn(i,r,e,t),n);Jt(s.idToken,i,"internal-error");const o=Me(s.idToken);Jt(o,i,"internal-error");const{sub:a}=o;return Jt(t.uid===a,i,"user-mismatch"),vn._forOperation(t,r,s)}catch(t){throw"auth/user-not-found"===(null==t?void 0:t.code)&&Qt(i,"user-mismatch"),t}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function kn(t,e,n=!1){const i="signIn",r=await wn(t,i,e),s=await vn._fromIdTokenResponse(t,i,r);return n||await t._updateCurrentUser(s.user),s}async function An(t,e){return kn($e(t),e)}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function En(t,e,n){var i;Jt((null===(i=n.url)||void 0===i?void 0:i.length)>0,t,"invalid-continue-uri"),Jt(void 0===n.dynamicLinkDomain||n.dynamicLinkDomain.length>0,t,"invalid-dynamic-link-domain"),e.continueUrl=n.url,e.dynamicLinkDomain=n.dynamicLinkDomain,e.canHandleCodeInApp=n.handleCodeInApp,n.iOS&&(Jt(n.iOS.bundleId.length>0,t,"missing-ios-bundle-id"),e.iOSBundleId=n.iOS.bundleId),n.android&&(Jt(n.android.packageName.length>0,t,"missing-android-pkg-name"),e.androidInstallApp=n.android.installApp,e.androidMinimumVersionCode=n.android.minimumVersion,e.androidPackageName=n.android.packageName)}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function xn(t,e,n){const i=D(t),r={requestType:"PASSWORD_RESET",email:e};n&&En(i,r,n),await async function(t,e){return en(t,e)}(i,r)}async function Sn(t,e,n){const i=$e(t),r=await gn(i,{returnSecureToken:!0,email:e,password:n}),s=await vn._fromIdTokenResponse(i,"signIn",r);return await i._updateCurrentUser(s.user),s}function Tn(t,e,n){return An(D(t),un.credential(e,n))}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function In(t,e,n,i){return D(t).onAuthStateChanged(e,n,i)}function Rn(t){return D(t).signOut()}new WeakMap;const Cn="__sak";
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qn{constructor(t,e){this.storageRetriever=t,this.type=e}_isAvailable(){try{return this.storage?(this.storage.setItem(Cn,"1"),this.storage.removeItem(Cn),Promise.resolve(!0)):Promise.resolve(!1)}catch(t){return Promise.resolve(!1)}}_set(t,e){return this.storage.setItem(t,JSON.stringify(e)),Promise.resolve()}_get(t){const e=this.storage.getItem(t);return Promise.resolve(e?JSON.parse(e):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nn extends qn{constructor(){super((()=>window.localStorage),"LOCAL"),this.boundEventHandler=(t,e)=>this.onStorageEvent(t,e),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function(){const t=y();return Oe(t)||ze(t)}()&&function(){try{return!(!window||window===window.top)}catch(t){return!1}}(),this.fallbackToPolling=He(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const e of Object.keys(this.listeners)){const n=this.storage.getItem(e),i=this.localCache[e];n!==i&&t(e,i,n)}}onStorageEvent(t,e=!1){if(!t.key)return void this.forAllChangedKeys(((t,e,n)=>{this.notifyListeners(t,n)}));const n=t.key;if(e?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const i=this.storage.getItem(n);if(t.newValue!==i)null!==t.newValue?this.storage.setItem(n,t.newValue):this.storage.removeItem(n);else if(this.localCache[n]===t.newValue&&!e)return}const i=()=>{const t=this.storage.getItem(n);(e||this.localCache[n]!==t)&&this.notifyListeners(n,t)},r=this.storage.getItem(n);Ve()&&r!==t.newValue&&t.newValue!==t.oldValue?setTimeout(i,10):i()}notifyListeners(t,e){this.localCache[t]=e;const n=this.listeners[t];if(n)for(const t of Array.from(n))t(e?JSON.parse(e):e)}startPolling(){this.stopPolling(),this.pollTimer=setInterval((()=>{this.forAllChangedKeys(((t,e,n)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:e,newValue:n}),!0)}))}),1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,e){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(e)}_removeListener(t,e){this.listeners[t]&&(this.listeners[t].delete(e),0===this.listeners[t].size&&delete this.listeners[t]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}async _set(t,e){await super._set(t,e),this.localCache[t]=JSON.stringify(e)}async _get(t){const e=await super._get(t);return this.localCache[t]=JSON.stringify(e),e}async _remove(t){await super._remove(t),delete this.localCache[t]}}Nn.type="LOCAL";const Ln=Nn;
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dn extends qn{constructor(){super((()=>window.sessionStorage),"SESSION")}_addListener(t,e){}_removeListener(t,e){}}Dn.type="SESSION";const On=Dn;
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class Bn{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const e=this.receivers.find((e=>e.isListeningto(t)));if(e)return e;const n=new Bn(t);return this.receivers.push(n),n}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const e=t,{eventId:n,eventType:i,data:r}=e.data,s=this.handlersMap[i];if(!(null==s?void 0:s.size))return;e.ports[0].postMessage({status:"ack",eventId:n,eventType:i});const o=Array.from(s).map((async t=>t(e.origin,r))),a=await function(t){return Promise.all(t.map((async t=>{try{return{fulfilled:!0,value:await t}}catch(t){return{fulfilled:!1,reason:t}}})))}(o);e.ports[0].postMessage({status:"done",eventId:n,eventType:i,response:a})}_subscribe(t,e){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(e)}_unsubscribe(t,e){this.handlersMap[t]&&e&&this.handlersMap[t].delete(e),e&&0!==this.handlersMap[t].size||delete this.handlersMap[t],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function Pn(t="",e=10){let n="";for(let t=0;t<e;t++)n+=Math.floor(10*Math.random());return t+n}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Bn.receivers=[];class Un{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,e,n=50){const i="undefined"!=typeof MessageChannel?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let r,s;return new Promise(((o,a)=>{const h=Pn("",20);i.port1.start();const u=setTimeout((()=>{a(new Error("unsupported_event"))}),n);s={messageChannel:i,onMessage(t){const e=t;if(e.data.eventId===h)switch(e.data.status){case"ack":clearTimeout(u),r=setTimeout((()=>{a(new Error("timeout"))}),3e3);break;case"done":clearTimeout(r),o(e.data.response);break;default:clearTimeout(u),clearTimeout(r),a(new Error("invalid_response"))}}},this.handlers.add(s),i.port1.addEventListener("message",s.onMessage),this.target.postMessage({eventType:t,eventId:h,data:e},[i.port2])})).finally((()=>{s&&this.removeMessageHandler(s)}))}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fn(){return window}
/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function jn(){return void 0!==Fn().WorkerGlobalScope&&"function"==typeof Fn().importScripts}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
const zn="firebaseLocalStorageDb",Vn=1,Hn="firebaseLocalStorage",Kn="fbase_key";class Wn{constructor(t){this.request=t}toPromise(){return new Promise(((t,e)=>{this.request.addEventListener("success",(()=>{t(this.request.result)})),this.request.addEventListener("error",(()=>{e(this.request.error)}))}))}}function Gn(t,e){return t.transaction([Hn],e?"readwrite":"readonly").objectStore(Hn)}function $n(){const t=indexedDB.open(zn,Vn);return new Promise(((e,n)=>{t.addEventListener("error",(()=>{n(t.error)})),t.addEventListener("upgradeneeded",(()=>{const e=t.result;try{e.createObjectStore(Hn,{keyPath:Kn})}catch(t){n(t)}})),t.addEventListener("success",(async()=>{const n=t.result;n.objectStoreNames.contains(Hn)?e(n):(n.close(),await function(){const t=indexedDB.deleteDatabase(zn);return new Wn(t).toPromise()}(),e(await $n()))}))}))}async function Qn(t,e,n){const i=Gn(t,!0).put({[Kn]:e,value:n});return new Wn(i).toPromise()}function Xn(t,e){const n=Gn(t,!0).delete(e);return new Wn(n).toPromise()}class Zn{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then((()=>{}),(()=>{}))}async _openDb(){return this.db||(this.db=await $n()),this.db}async _withRetries(t){let e=0;for(;;)try{const e=await this._openDb();return await t(e)}catch(t){if(e++>3)throw t;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return jn()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Bn._getInstance(jn()?self:null),this.receiver._subscribe("keyChanged",(async(t,e)=>({keyProcessed:(await this._poll()).includes(e.key)}))),this.receiver._subscribe("ping",(async(t,e)=>["keyChanged"]))}async initializeSender(){var t,e;if(this.activeServiceWorker=await async function(){if(!(null===navigator||void 0===navigator?void 0:navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch(t){return null}}(),!this.activeServiceWorker)return;this.sender=new Un(this.activeServiceWorker);const n=await this.sender._send("ping",{},800);n&&(null===(t=n[0])||void 0===t?void 0:t.fulfilled)&&(null===(e=n[0])||void 0===e?void 0:e.value.includes("keyChanged"))&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){var e;if(this.sender&&this.activeServiceWorker&&((null===(e=null===navigator||void 0===navigator?void 0:navigator.serviceWorker)||void 0===e?void 0:e.controller)||null)===this.activeServiceWorker)try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch(e){}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await $n();return await Qn(t,Cn,"1"),await Xn(t,Cn),!0}catch(t){}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,e){return this._withPendingWrite((async()=>(await this._withRetries((n=>Qn(n,t,e))),this.localCache[t]=e,this.notifyServiceWorker(t))))}async _get(t){const e=await this._withRetries((e=>async function(t,e){const n=Gn(t,!1).get(e),i=await new Wn(n).toPromise();return void 0===i?null:i.value}(e,t)));return this.localCache[t]=e,e}async _remove(t){return this._withPendingWrite((async()=>(await this._withRetries((e=>Xn(e,t))),delete this.localCache[t],this.notifyServiceWorker(t))))}async _poll(){const t=await this._withRetries((t=>{const e=Gn(t,!1).getAll();return new Wn(e).toPromise()}));if(!t)return[];if(0!==this.pendingWrites)return[];const e=[],n=new Set;for(const{fbase_key:i,value:r}of t)n.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(r)&&(this.notifyListeners(i,r),e.push(i));for(const t of Object.keys(this.localCache))this.localCache[t]&&!n.has(t)&&(this.notifyListeners(t,null),e.push(t));return e}notifyListeners(t,e){this.localCache[t]=e;const n=this.listeners[t];if(n)for(const t of Array.from(n))t(e)}startPolling(){this.stopPolling(),this.pollTimer=setInterval((async()=>this._poll()),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,e){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(e)}_removeListener(t,e){this.listeners[t]&&(this.listeners[t].delete(e),0===this.listeners[t].size&&delete this.listeners[t]),0===Object.keys(this.listeners).length&&this.stopPolling()}}Zn.type="LOCAL";const Yn=Zn;
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jn(t){return new Promise(((e,n)=>{const i=document.createElement("script");
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var r,s;i.setAttribute("src",t),i.onload=e,i.onerror=t=>{const e=Xt("internal-error");e.customData=t,n(e)},i.type="text/javascript",i.charset="UTF-8",(null!==(s=null===(r=document.getElementsByTagName("head"))||void 0===r?void 0:r[0])&&void 0!==s?s:document).appendChild(i)}))}function ti(t){return`__${t}${Math.floor(1e6*Math.random())}`}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
ti("rcb"),new he(3e4,6e4);
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
const ei="recaptcha";async function ni(t,e,n){var i;const r=await n.verify();try{let s;if(Jt("string"==typeof r,t,"argument-error"),Jt(n.type===ei,t,"argument-error"),s="string"==typeof e?{phoneNumber:e}:e,"session"in s){const e=s.session;if("phoneNumber"in s){Jt("enroll"===e.type,t,"internal-error");const n=await
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function(t,e){return pe(t,"POST","/v2/accounts/mfaEnrollment:start",fe(t,e))}(t,{idToken:e.credential,phoneEnrollmentInfo:{phoneNumber:s.phoneNumber,recaptchaToken:r}});return n.phoneSessionInfo.sessionInfo}{Jt("signin"===e.type,t,"internal-error");const n=(null===(i=s.multiFactorHint)||void 0===i?void 0:i.uid)||s.multiFactorUid;Jt(n,t,"missing-multi-factor-info");const o=await function(t,e){return pe(t,"POST","/v2/accounts/mfaSignIn:start",fe(t,e))}(t,{mfaPendingCredential:e.credential,mfaEnrollmentId:n,phoneSignInInfo:{recaptchaToken:r}});return o.phoneResponseInfo.sessionInfo}}{const{sessionInfo:e}=await async function(t,e){return pe(t,"POST","/v1/accounts:sendVerificationCode",fe(t,e))}(t,{phoneNumber:s.phoneNumber,recaptchaToken:r});return e}}finally{n._reset()}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class ii{constructor(t){this.providerId=ii.PROVIDER_ID,this.auth=$e(t)}verifyPhoneNumber(t,e){return ni(this.auth,t,D(e))}static credential(t,e){return an._fromVerification(t,e)}static credentialFromResult(t){const e=t;return ii.credentialFromTaggedObject(e)}static credentialFromError(t){return ii.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{phoneNumber:e,temporaryProof:n}=t;return e&&n?an._fromTokenResponse(e,n):null}}
/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function ri(t,e){return e?ie(e):(Jt(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ii.PROVIDER_ID="phone",ii.PHONE_SIGN_IN_METHOD="phone";class si extends Je{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return rn(t,this._buildIdpRequest())}_linkToIdToken(t,e){return rn(t,this._buildIdpRequest(e))}_getReauthenticationResolver(t){return rn(t,this._buildIdpRequest())}_buildIdpRequest(t){const e={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(e.idToken=t),e}}function oi(t){return kn(t.auth,new si(t),t.bypassAuthState)}function ai(t){const{auth:e,user:n}=t;return Jt(n,e,"internal-error"),Mn(n,new si(t),t.bypassAuthState)}async function hi(t){const{auth:e,user:n}=t;return Jt(n,e,"internal-error"),_n(n,new si(t),t.bypassAuthState)}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ui{constructor(t,e,n,i,r=!1){this.auth=t,this.resolver=n,this.user=i,this.bypassAuthState=r,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(e)?e:[e]}execute(){return new Promise((async(t,e)=>{this.pendingPromise={resolve:t,reject:e};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(t){this.reject(t)}}))}async onAuthEvent(t){const{urlResponse:e,sessionId:n,postBody:i,tenantId:r,error:s,type:o}=t;if(s)return void this.reject(s);const a={auth:this.auth,requestUri:e,sessionId:n,tenantId:r||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(o)(a))}catch(t){this.reject(t)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return oi;case"linkViaPopup":case"linkViaRedirect":return hi;case"reauthViaPopup":case"reauthViaRedirect":return ai;default:Qt(this.auth,"internal-error")}}resolve(t){ee(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){ee(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const li=new he(2e3,1e4);class ci extends ui{constructor(t,e,n,i,r){super(t,e,i,r),this.provider=n,this.authWindow=null,this.pollId=null,ci.currentPopupAction&&ci.currentPopupAction.cancel(),ci.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return Jt(t,this.auth,"internal-error"),t}async onExecution(){ee(1===this.filter.length,"Popup operations only handle one event");const t=Pn();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch((t=>{this.reject(t)})),this.resolver._isIframeWebStorageSupported(this.auth,(t=>{t||this.reject(Xt(this.auth,"web-storage-unsupported"))})),this.pollUserCancellation()}get eventId(){var t;return(null===(t=this.authWindow)||void 0===t?void 0:t.associatedEvent)||null}cancel(){this.reject(Xt(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,ci.currentPopupAction=null}pollUserCancellation(){const t=()=>{var e,n;(null===(n=null===(e=this.authWindow)||void 0===e?void 0:e.window)||void 0===n?void 0:n.closed)?this.pollId=window.setTimeout((()=>{this.pollId=null,this.reject(Xt(this.auth,"popup-closed-by-user"))}),2e3):this.pollId=window.setTimeout(t,li.get())};t()}}ci.currentPopupAction=null;
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
const di="pendingRedirect",fi=new Map;class pi extends ui{constructor(t,e,n=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],e,void 0,n),this.eventId=null}async execute(){let t=fi.get(this.auth._key());if(!t){try{const e=await async function(t,e){const n=vi(e),i=gi(t);if(!await i._isAvailable())return!1;const r="true"===await i._get(n);return await i._remove(n),r}(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(e)}catch(e){t=()=>Promise.reject(e)}fi.set(this.auth._key(),t)}return this.bypassAuthState||fi.set(this.auth._key(),(()=>Promise.resolve(null))),t()}async onAuthEvent(t){if("signInViaRedirect"===t.type)return super.onAuthEvent(t);if("unknown"!==t.type){if(t.eventId){const e=await this.auth._redirectUserForId(t.eventId);if(e)return this.user=e,super.onAuthEvent(t);this.resolve(null)}}else this.resolve(null)}async onExecution(){}cleanUp(){}}function mi(t,e){fi.set(t._key(),e)}function gi(t){return ie(t._redirectPersistence)}function vi(t){return qe(di,t.config.apiKey,t.name)}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function yi(t,e,n=!1){const i=$e(t),r=ri(i,e),s=new pi(i,r,n),o=await s.execute();return o&&!n&&(delete o.user._redirectEventId,await i._persistUserIfCurrent(o.user),await i._setRedirectUser(null,e)),o}class bi{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let e=!1;return this.consumers.forEach((n=>{this.isEventForConsumer(t,n)&&(e=!0,this.sendToConsumer(t,n),this.saveEventToCache(t))})),this.hasHandledPotentialRedirect||!function(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return _i(t);default:return!1}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(t)||(this.hasHandledPotentialRedirect=!0,e||(this.queuedRedirectEvent=t,e=!0)),e}sendToConsumer(t,e){var n;if(t.error&&!_i(t)){const i=(null===(n=t.error.code)||void 0===n?void 0:n.split("auth/")[1])||"internal-error";e.onError(Xt(this.auth,i))}else e.onAuthEvent(t)}isEventForConsumer(t,e){const n=null===e.eventId||!!t.eventId&&t.eventId===e.eventId;return e.filter.includes(t.type)&&n}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(wi(t))}saveEventToCache(t){this.cachedEventUids.add(wi(t)),this.lastProcessedEventTime=Date.now()}}function wi(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter((t=>t)).join("-")}function _i({type:t,error:e}){return"unknown"===t&&"auth/no-auth-event"===(null==e?void 0:e.code)}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
const Mi=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,ki=/^https?/;async function Ai(t){if(t.config.emulator)return;const{authorizedDomains:e}=await async function(t,e={}){return pe(t,"GET","/v1/projects",e)}(t);for(const t of e)try{if(Ei(t))return}catch(t){}Qt(t,"unauthorized-domain")}function Ei(t){const e=re(),{protocol:n,hostname:i}=new URL(e);if(t.startsWith("chrome-extension://")){const r=new URL(t);return""===r.hostname&&""===i?"chrome-extension:"===n&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):"chrome-extension:"===n&&r.hostname===i}if(!ki.test(n))return!1;if(Mi.test(t))return i===t;const r=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+r+"|"+r+")$","i").test(i)}
/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xi=new he(3e4,6e4);function Si(){const t=Fn().___jsl;if(null==t?void 0:t.H)for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let e=0;e<t.CP.length;e++)t.CP[e]=null}let Ti=null;function Ii(t){return Ti=Ti||function(t){return new Promise(((e,n)=>{var i,r,s;function o(){Si(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{Si(),n(Xt(t,"network-request-failed"))},timeout:xi.get()})}if(null===(r=null===(i=Fn().gapi)||void 0===i?void 0:i.iframes)||void 0===r?void 0:r.Iframe)e(gapi.iframes.getContext());else{if(!(null===(s=Fn().gapi)||void 0===s?void 0:s.load)){const e=ti("iframefcb");return Fn()[e]=()=>{gapi.load?o():n(Xt(t,"network-request-failed"))},Jn(`https://apis.google.com/js/api.js?onload=${e}`).catch((t=>n(t)))}o()}})).catch((t=>{throw Ti=null,t}))}(t),Ti}
/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ri=new he(5e3,15e3),Ci="__/auth/iframe",qi="emulator/auth/iframe",Ni={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Li=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Di(t){const e=t.config;Jt(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?ue(e,qi):`https://${t.config.authDomain}/${Ci}`,i={apiKey:e.apiKey,appName:t.name,v:xt},r=Li.get(t.config.apiHost);r&&(i.eid=r);const s=t._getFrameworks();return s.length&&(i.fw=s.join(",")),`${n}?${I(i).slice(1)}`}
/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
const Oi={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},Bi=500,Pi=600,Ui="_blank",Fi="http://localhost";class ji{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch(t){}}}function zi(t,e,n,i=Bi,r=Pi){const s=Math.max((window.screen.availHeight-r)/2,0).toString(),o=Math.max((window.screen.availWidth-i)/2,0).toString();let a="";const h=Object.assign(Object.assign({},Oi),{width:i.toString(),height:r.toString(),top:s,left:o}),u=y().toLowerCase();n&&(a=Be(u)?Ui:n),De(u)&&(e=e||Fi,h.scrollbars="yes");const l=Object.entries(h).reduce(((t,[e,n])=>`${t}${e}=${n},`),"");if(function(t=y()){var e;return ze(t)&&!!(null===(e=window.navigator)||void 0===e?void 0:e.standalone)}(u)&&"_self"!==a)return function(t,e){const n=document.createElement("a");n.href=t,n.target=e;const i=document.createEvent("MouseEvent");i.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(i)}
/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(e||"",a),new ji(null);const c=window.open(e||"",a,l);Jt(c,t,"popup-blocked");try{c.focus()}catch(t){}return new ji(c)}const Vi="__/auth/handler",Hi="emulator/auth/handler";function Ki(t,e,n,i,r,s){Jt(t.config.authDomain,t,"auth-domain-config-required"),Jt(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:i,v:xt,eventId:r};if(e instanceof ln){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",x(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[t,e]of Object.entries(s||{}))o[t]=e}if(e instanceof cn){const t=e.getScopes().filter((t=>""!==t));t.length>0&&(o.scopes=t.join(","))}t.tenantId&&(o.tid=t.tenantId);const a=o;for(const t of Object.keys(a))void 0===a[t]&&delete a[t];return`${function({config:t}){return t.emulator?ue(t,Hi):`https://${t.authDomain}/${Vi}`}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(t)}?${I(a).slice(1)}`}const Wi="webStorageSupport";const Gi=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=On,this._completeRedirectFn=yi,this._overrideRedirectResult=mi}async _openPopup(t,e,n,i){var r;ee(null===(r=this.eventManagers[t._key()])||void 0===r?void 0:r.manager,"_initialize() not called before _openPopup()");return zi(t,Ki(t,e,n,re(),i),Pn())}async _openRedirect(t,e,n,i){var r;return await this._originValidation(t),r=Ki(t,e,n,re(),i),Fn().location.href=r,new Promise((()=>{}))}_initialize(t){const e=t._key();if(this.eventManagers[e]){const{manager:t,promise:n}=this.eventManagers[e];return t?Promise.resolve(t):(ee(n,"If manager is not set, promise should be"),n)}const n=this.initAndGetManager(t);return this.eventManagers[e]={promise:n},n.catch((()=>{delete this.eventManagers[e]})),n}async initAndGetManager(t){const e=await async function(t){const e=await Ii(t),n=Fn().gapi;return Jt(n,t,"internal-error"),e.open({where:document.body,url:Di(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Ni,dontclear:!0},(e=>new Promise((async(n,i)=>{await e.restyle({setHideOnLeave:!1});const r=Xt(t,"network-request-failed"),s=Fn().setTimeout((()=>{i(r)}),Ri.get());function o(){Fn().clearTimeout(s),n(e)}e.ping(o).then(o,(()=>{i(r)}))}))))}(t),n=new bi(t);return e.register("authEvent",(e=>{Jt(null==e?void 0:e.authEvent,t,"invalid-auth-event");return{status:n.onEvent(e.authEvent)?"ACK":"ERROR"}}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:n},this.iframes[t._key()]=e,n}_isIframeWebStorageSupported(t,e){this.iframes[t._key()].send(Wi,{type:Wi},(n=>{var i;const r=null===(i=null==n?void 0:n[0])||void 0===i?void 0:i[Wi];void 0!==r&&e(!!r),Qt(t,"internal-error")}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const e=t._key();return this.originValidationPromises[e]||(this.originValidationPromises[e]=Ai(t)),this.originValidationPromises[e]}get _shouldInitProactively(){return He()||Oe()||ze()}};var $i="@firebase/auth",Qi="0.21.3";
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class Xi{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){var t;return this.assertAuthConfigured(),(null===(t=this.auth.currentUser)||void 0===t?void 0:t.uid)||null}async getToken(t){if(this.assertAuthConfigured(),await this.auth._initializationPromise,!this.auth.currentUser)return null;return{accessToken:await this.auth.currentUser.getIdToken(t)}}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const e=this.auth.onIdTokenChanged((e=>{t((null==e?void 0:e.stsTokenManager.accessToken)||null)}));this.internalListeners.set(t,e),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const e=this.internalListeners.get(t);e&&(this.internalListeners.delete(t),e(),this.updateProactiveRefresh())}assertAuthConfigured(){Jt(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
const Zi=m("authIdTokenMaxAge")||300;let Yi=null;const Ji=t=>async e=>{const n=e&&await e.getIdTokenResult(),i=n&&((new Date).getTime()-Date.parse(n.issuedAtTime))/1e3;if(i&&i>Zi)return;const r=null==n?void 0:n.token;Yi!==r&&(Yi=r,await fetch(t,{method:r?"POST":"DELETE",headers:r?{Authorization:`Bearer ${r}`}:{}}))};function tr(t=Tt()){const e=kt(t,"auth");if(e.isInitialized())return e.getImmediate();const n=function(t,e){const n=kt(t,"auth");if(n.isInitialized()){const t=n.getImmediate();if(S(n.getOptions(),null!=e?e:{}))return t;Qt(t,"already-initialized")}return n.initialize({options:e})}(t,{popupRedirectResolver:Gi,persistence:[Yn,Ln,On]}),i=m("authTokenSyncURL");if(i){const t=Ji(i);!function(t,e,n){D(t).beforeAuthStateChanged(e,n)}(n,t,(()=>t(n.currentUser))),function(t,e,n,i){D(t).onIdTokenChanged(e,n,i)}(n,(e=>t(e)))}const r=d("auth");return r&&Xe(n,`http://${r}`),n}var er;er="Browser",Mt(new O("auth",((t,{options:e})=>{const n=t.getProvider("app").getImmediate(),i=t.getProvider("heartbeat"),{apiKey:r,authDomain:s}=n.options;return((t,n)=>{Jt(r&&!r.includes(":"),"invalid-api-key",{appName:t.name}),Jt(!(null==s?void 0:s.includes(":")),"argument-error",{appName:t.name});const i={apiKey:r,authDomain:s,clientPlatform:er,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Ke(er)},o=new Ge(t,n,i);return function(t,e){const n=(null==e?void 0:e.persistence)||[],i=(Array.isArray(n)?n:[n]).map(ie);(null==e?void 0:e.errorMap)&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(i,null==e?void 0:e.popupRedirectResolver)}(o,e),o})(n,i)}),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback(((t,e,n)=>{t.getProvider("auth-internal").initialize()}))),Mt(new O("auth-internal",(t=>(t=>new Xi(t))($e(t.getProvider("auth").getImmediate()))),"PRIVATE").setInstantiationMode("EXPLICIT")),It($i,Qi,function(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(er)),It($i,Qi,"esm2017");var nr,ir="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:void 0!==e?e:"undefined"!=typeof self?self:{},rr={},sr=sr||{},or=ir||self;function ar(){}function hr(t){var e=typeof t;return"array"==(e="object"!=e?e:t?Array.isArray(t)?"array":e:"null")||"object"==e&&"number"==typeof t.length}function ur(t){var e=typeof t;return"object"==e&&null!=t||"function"==e}var lr="closure_uid_"+(1e9*Math.random()>>>0),cr=0;function dr(t,e,n){return t.call.apply(t.bind,arguments)}function fr(t,e,n){if(!t)throw Error();if(2<arguments.length){var i=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,i),t.apply(e,n)}}return function(){return t.apply(e,arguments)}}function pr(t,e,n){return(pr=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?dr:fr).apply(null,arguments)}function mr(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var e=n.slice();return e.push.apply(e,arguments),t.apply(this,e)}}function gr(t,e){function n(){}n.prototype=e.prototype,t.X=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.Wb=function(t,n,i){for(var r=Array(arguments.length-2),s=2;s<arguments.length;s++)r[s-2]=arguments[s];return e.prototype[n].apply(t,r)}}function vr(){this.s=this.s,this.o=this.o}vr.prototype.s=!1,vr.prototype.na=function(){var t;!this.s&&(this.s=!0,this.M(),0)&&(t=this,Object.prototype.hasOwnProperty.call(t,lr)&&t[lr]||(t[lr]=++cr))},vr.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const yr=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if("string"==typeof t)return"string"!=typeof e||1!=e.length?-1:t.indexOf(e,0);for(let n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1};function br(t){const e=t.length;if(0<e){const n=Array(e);for(let i=0;i<e;i++)n[i]=t[i];return n}return[]}function wr(t,e){for(let e=1;e<arguments.length;e++){const n=arguments[e];if(hr(n)){const e=t.length||0,i=n.length||0;t.length=e+i;for(let r=0;r<i;r++)t[e+r]=n[r]}else t.push(n)}}function _r(t,e){this.type=t,this.g=this.target=e,this.defaultPrevented=!1}_r.prototype.h=function(){this.defaultPrevented=!0};var Mr=function(){if(!or.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{or.addEventListener("test",ar,e),or.removeEventListener("test",ar,e)}catch(t){}return t}();function kr(t){return/^[\s\xa0]*$/.test(t)}var Ar=String.prototype.trim?function(t){return t.trim()}:function(t){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(t)[1]};function Er(t,e){return t<e?-1:t>e?1:0}function xr(){var t=or.navigator;return t&&(t=t.userAgent)?t:""}function Sr(t){return-1!=xr().indexOf(t)}function Tr(t){return Tr[" "](t),t}Tr[" "]=ar;var Ir,Rr,Cr=Sr("Opera"),qr=Sr("Trident")||Sr("MSIE"),Nr=Sr("Edge"),Lr=Nr||qr,Dr=Sr("Gecko")&&!(-1!=xr().toLowerCase().indexOf("webkit")&&!Sr("Edge"))&&!(Sr("Trident")||Sr("MSIE"))&&!Sr("Edge"),Or=-1!=xr().toLowerCase().indexOf("webkit")&&!Sr("Edge");function Br(){var t=or.document;return t?t.documentMode:void 0}t:{var Pr="",Ur=(Rr=xr(),Dr?/rv:([^\);]+)(\)|;)/.exec(Rr):Nr?/Edge\/([\d\.]+)/.exec(Rr):qr?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(Rr):Or?/WebKit\/(\S+)/.exec(Rr):Cr?/(?:Version)[ \/]?(\S+)/.exec(Rr):void 0);if(Ur&&(Pr=Ur?Ur[1]:""),qr){var Fr=Br();if(null!=Fr&&Fr>parseFloat(Pr)){Ir=String(Fr);break t}}Ir=Pr}var jr,zr={};function Vr(){return function(t){var e=zr;return Object.prototype.hasOwnProperty.call(e,9)?e[9]:e[9]=t(9)}((function(){let t=0;const e=Ar(String(Ir)).split("."),n=Ar("9").split("."),i=Math.max(e.length,n.length);for(let o=0;0==t&&o<i;o++){var r=e[o]||"",s=n[o]||"";do{if(r=/(\d*)(\D*)(.*)/.exec(r)||["","","",""],s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],0==r[0].length&&0==s[0].length)break;t=Er(0==r[1].length?0:parseInt(r[1],10),0==s[1].length?0:parseInt(s[1],10))||Er(0==r[2].length,0==s[2].length)||Er(r[2],s[2]),r=r[3],s=s[3]}while(0==t)}return 0<=t}))}if(or.document&&qr){var Hr=Br();jr=Hr||(parseInt(Ir,10)||void 0)}else jr=void 0;var Kr=jr;function Wr(t,e){if(_r.call(this,t?t.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,t){var n=this.type=t.type,i=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.g=e,e=t.relatedTarget){if(Dr){t:{try{Tr(e.nodeName);var r=!0;break t}catch(t){}r=!1}r||(e=null)}}else"mouseover"==n?e=t.fromElement:"mouseout"==n&&(e=t.toElement);this.relatedTarget=e,i?(this.clientX=void 0!==i.clientX?i.clientX:i.pageX,this.clientY=void 0!==i.clientY?i.clientY:i.pageY,this.screenX=i.screenX||0,this.screenY=i.screenY||0):(this.clientX=void 0!==t.clientX?t.clientX:t.pageX,this.clientY=void 0!==t.clientY?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType="string"==typeof t.pointerType?t.pointerType:Gr[t.pointerType]||"",this.state=t.state,this.i=t,t.defaultPrevented&&Wr.X.h.call(this)}}gr(Wr,_r);var Gr={2:"touch",3:"pen",4:"mouse"};Wr.prototype.h=function(){Wr.X.h.call(this);var t=this.i;t.preventDefault?t.preventDefault():t.returnValue=!1};var $r="closure_listenable_"+(1e6*Math.random()|0),Qr=0;function Xr(t,e,n,i,r){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!i,this.ha=r,this.key=++Qr,this.ba=this.ea=!1}function Zr(t){t.ba=!0,t.listener=null,t.proxy=null,t.src=null,t.ha=null}function Yr(t,e,n){for(const i in t)e.call(n,t[i],i,t)}function Jr(t){const e={};for(const n in t)e[n]=t[n];return e}const ts="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function es(t,e){let n,i;for(let e=1;e<arguments.length;e++){for(n in i=arguments[e],i)t[n]=i[n];for(let e=0;e<ts.length;e++)n=ts[e],Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])}}function ns(t){this.src=t,this.g={},this.h=0}function is(t,e){var n=e.type;if(n in t.g){var i,r=t.g[n],s=yr(r,e);(i=0<=s)&&Array.prototype.splice.call(r,s,1),i&&(Zr(e),0==t.g[n].length&&(delete t.g[n],t.h--))}}function rs(t,e,n,i){for(var r=0;r<t.length;++r){var s=t[r];if(!s.ba&&s.listener==e&&s.capture==!!n&&s.ha==i)return r}return-1}ns.prototype.add=function(t,e,n,i,r){var s=t.toString();(t=this.g[s])||(t=this.g[s]=[],this.h++);var o=rs(t,e,i,r);return-1<o?(e=t[o],n||(e.ea=!1)):((e=new Xr(e,this.src,s,!!i,r)).ea=n,t.push(e)),e};var ss="closure_lm_"+(1e6*Math.random()|0),os={};function as(t,e,n,i,r){if(i&&i.once)return us(t,e,n,i,r);if(Array.isArray(e)){for(var s=0;s<e.length;s++)as(t,e[s],n,i,r);return null}return n=gs(n),t&&t[$r]?t.N(e,n,ur(i)?!!i.capture:!!i,r):hs(t,e,n,!1,i,r)}function hs(t,e,n,i,r,s){if(!e)throw Error("Invalid event type");var o=ur(r)?!!r.capture:!!r,a=ps(t);if(a||(t[ss]=a=new ns(t)),(n=a.add(e,n,i,o,s)).proxy)return n;if(i=function(){function t(n){return e.call(t.src,t.listener,n)}const e=fs;return t}(),n.proxy=i,i.src=t,i.listener=n,t.addEventListener)Mr||(r=o),void 0===r&&(r=!1),t.addEventListener(e.toString(),i,r);else if(t.attachEvent)t.attachEvent(ds(e.toString()),i);else{if(!t.addListener||!t.removeListener)throw Error("addEventListener and attachEvent are unavailable.");t.addListener(i)}return n}function us(t,e,n,i,r){if(Array.isArray(e)){for(var s=0;s<e.length;s++)us(t,e[s],n,i,r);return null}return n=gs(n),t&&t[$r]?t.O(e,n,ur(i)?!!i.capture:!!i,r):hs(t,e,n,!0,i,r)}function ls(t,e,n,i,r){if(Array.isArray(e))for(var s=0;s<e.length;s++)ls(t,e[s],n,i,r);else i=ur(i)?!!i.capture:!!i,n=gs(n),t&&t[$r]?(t=t.i,(e=String(e).toString())in t.g&&(-1<(n=rs(s=t.g[e],n,i,r))&&(Zr(s[n]),Array.prototype.splice.call(s,n,1),0==s.length&&(delete t.g[e],t.h--)))):t&&(t=ps(t))&&(e=t.g[e.toString()],t=-1,e&&(t=rs(e,n,i,r)),(n=-1<t?e[t]:null)&&cs(n))}function cs(t){if("number"!=typeof t&&t&&!t.ba){var e=t.src;if(e&&e[$r])is(e.i,t);else{var n=t.type,i=t.proxy;e.removeEventListener?e.removeEventListener(n,i,t.capture):e.detachEvent?e.detachEvent(ds(n),i):e.addListener&&e.removeListener&&e.removeListener(i),(n=ps(e))?(is(n,t),0==n.h&&(n.src=null,e[ss]=null)):Zr(t)}}}function ds(t){return t in os?os[t]:os[t]="on"+t}function fs(t,e){if(t.ba)t=!0;else{e=new Wr(e,this);var n=t.listener,i=t.ha||t.src;t.ea&&cs(t),t=n.call(i,e)}return t}function ps(t){return(t=t[ss])instanceof ns?t:null}var ms="__closure_events_fn_"+(1e9*Math.random()>>>0);function gs(t){return"function"==typeof t?t:(t[ms]||(t[ms]=function(e){return t.handleEvent(e)}),t[ms])}function vs(){vr.call(this),this.i=new ns(this),this.P=this,this.I=null}function ys(t,e){var n,i=t.I;if(i)for(n=[];i;i=i.I)n.push(i);if(t=t.P,i=e.type||e,"string"==typeof e)e=new _r(e,t);else if(e instanceof _r)e.target=e.target||t;else{var r=e;es(e=new _r(i,t),r)}if(r=!0,n)for(var s=n.length-1;0<=s;s--){var o=e.g=n[s];r=bs(o,i,!0,e)&&r}if(r=bs(o=e.g=t,i,!0,e)&&r,r=bs(o,i,!1,e)&&r,n)for(s=0;s<n.length;s++)r=bs(o=e.g=n[s],i,!1,e)&&r}function bs(t,e,n,i){if(!(e=t.i.g[String(e)]))return!0;e=e.concat();for(var r=!0,s=0;s<e.length;++s){var o=e[s];if(o&&!o.ba&&o.capture==n){var a=o.listener,h=o.ha||o.src;o.ea&&is(t.i,o),r=!1!==a.call(h,i)&&r}}return r&&!i.defaultPrevented}gr(vs,vr),vs.prototype[$r]=!0,vs.prototype.removeEventListener=function(t,e,n,i){ls(this,t,e,n,i)},vs.prototype.M=function(){if(vs.X.M.call(this),this.i){var t,e=this.i;for(t in e.g){for(var n=e.g[t],i=0;i<n.length;i++)Zr(n[i]);delete e.g[t],e.h--}}this.I=null},vs.prototype.N=function(t,e,n,i){return this.i.add(String(t),e,!1,n,i)},vs.prototype.O=function(t,e,n,i){return this.i.add(String(t),e,!0,n,i)};var ws=or.JSON.stringify;function _s(){var t=Ts;let e=null;return t.g&&(e=t.g,t.g=t.g.next,t.g||(t.h=null),e.next=null),e}var Ms,ks=new class{constructor(t,e){this.i=t,this.j=e,this.h=0,this.g=null}get(){let t;return 0<this.h?(this.h--,t=this.g,this.g=t.next,t.next=null):t=this.i(),t}}((()=>new As),(t=>t.reset()));class As{constructor(){this.next=this.g=this.h=null}set(t,e){this.h=t,this.g=e,this.next=null}reset(){this.next=this.g=this.h=null}}function Es(t){or.setTimeout((()=>{throw t}),0)}function xs(t,e){Ms||function(){var t=or.Promise.resolve(void 0);Ms=function(){t.then(Is)}}(),Ss||(Ms(),Ss=!0),Ts.add(t,e)}var Ss=!1,Ts=new class{constructor(){this.h=this.g=null}add(t,e){const n=ks.get();n.set(t,e),this.h?this.h.next=n:this.g=n,this.h=n}};function Is(){for(var t;t=_s();){try{t.h.call(t.g)}catch(t){Es(t)}var e=ks;e.j(t),100>e.h&&(e.h++,t.next=e.g,e.g=t)}Ss=!1}function Rs(t,e){vs.call(this),this.h=t||1,this.g=e||or,this.j=pr(this.lb,this),this.l=Date.now()}function Cs(t){t.ca=!1,t.R&&(t.g.clearTimeout(t.R),t.R=null)}function qs(t,e,n){if("function"==typeof t)n&&(t=pr(t,n));else{if(!t||"function"!=typeof t.handleEvent)throw Error("Invalid listener argument");t=pr(t.handleEvent,t)}return 2147483647<Number(e)?-1:or.setTimeout(t,e||0)}function Ns(t){t.g=qs((()=>{t.g=null,t.i&&(t.i=!1,Ns(t))}),t.j);const e=t.h;t.h=null,t.m.apply(null,e)}gr(Rs,vs),(nr=Rs.prototype).ca=!1,nr.R=null,nr.lb=function(){if(this.ca){var t=Date.now()-this.l;0<t&&t<.8*this.h?this.R=this.g.setTimeout(this.j,this.h-t):(this.R&&(this.g.clearTimeout(this.R),this.R=null),ys(this,"tick"),this.ca&&(Cs(this),this.start()))}},nr.start=function(){this.ca=!0,this.R||(this.R=this.g.setTimeout(this.j,this.h),this.l=Date.now())},nr.M=function(){Rs.X.M.call(this),Cs(this),delete this.g};class Ls extends vr{constructor(t,e){super(),this.m=t,this.j=e,this.h=null,this.i=!1,this.g=null}l(t){this.h=arguments,this.g?this.i=!0:Ns(this)}M(){super.M(),this.g&&(or.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Ds(t){vr.call(this),this.h=t,this.g={}}gr(Ds,vr);var Os=[];function Bs(t,e,n,i){Array.isArray(n)||(n&&(Os[0]=n.toString()),n=Os);for(var r=0;r<n.length;r++){var s=as(e,n[r],i||t.handleEvent,!1,t.h||t);if(!s)break;t.g[s.key]=s}}function Ps(t){Yr(t.g,(function(t,e){this.g.hasOwnProperty(e)&&cs(t)}),t),t.g={}}function Us(){this.g=!0}function Fs(t,e,n,i){t.info((function(){return"XMLHTTP TEXT ("+e+"): "+function(t,e){if(!t.g)return e;if(!e)return null;try{var n=JSON.parse(e);if(n)for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var i=n[t];if(!(2>i.length)){var r=i[1];if(Array.isArray(r)&&!(1>r.length)){var s=r[0];if("noop"!=s&&"stop"!=s&&"close"!=s)for(var o=1;o<r.length;o++)r[o]=""}}}return ws(n)}catch(t){return e}}(t,n)+(i?" "+i:"")}))}Ds.prototype.M=function(){Ds.X.M.call(this),Ps(this)},Ds.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},Us.prototype.Aa=function(){this.g=!1},Us.prototype.info=function(){};var js={},zs=null;function Vs(){return zs=zs||new vs}function Hs(t){_r.call(this,js.Pa,t)}function Ks(t){const e=Vs();ys(e,new Hs(e))}function Ws(t,e){_r.call(this,js.STAT_EVENT,t),this.stat=e}function Gs(t){const e=Vs();ys(e,new Ws(e,t))}function $s(t,e){_r.call(this,js.Qa,t),this.size=e}function Qs(t,e){if("function"!=typeof t)throw Error("Fn must not be null and must be a function");return or.setTimeout((function(){t()}),e)}js.Pa="serverreachability",gr(Hs,_r),js.STAT_EVENT="statevent",gr(Ws,_r),js.Qa="timingevent",gr($s,_r);var Xs={NO_ERROR:0,mb:1,zb:2,yb:3,tb:4,xb:5,Ab:6,Ma:7,TIMEOUT:8,Db:9},Zs={rb:"complete",Nb:"success",Na:"error",Ma:"abort",Fb:"ready",Gb:"readystatechange",TIMEOUT:"timeout",Bb:"incrementaldata",Eb:"progress",ub:"downloadprogress",Vb:"uploadprogress"};function Ys(){}function Js(t){return t.h||(t.h=t.i())}function to(){}Ys.prototype.h=null;var eo,no={OPEN:"a",qb:"b",Na:"c",Cb:"d"};function io(){_r.call(this,"d")}function ro(){_r.call(this,"c")}function so(){}function oo(t,e,n,i){this.l=t,this.j=e,this.m=n,this.U=i||1,this.S=new Ds(this),this.O=ho,t=Lr?125:void 0,this.T=new Rs(t),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.V=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.Y=-1,this.I=!1,this.N=0,this.L=null,this.$=this.J=this.Z=this.P=!1,this.h=new ao}function ao(){this.i=null,this.g="",this.h=!1}gr(io,_r),gr(ro,_r),gr(so,Ys),so.prototype.g=function(){return new XMLHttpRequest},so.prototype.i=function(){return{}},eo=new so;var ho=45e3,uo={},lo={};function co(t,e,n){t.K=1,t.v=Co(xo(e)),t.s=n,t.P=!0,fo(t,null)}function fo(t,e){t.F=Date.now(),vo(t),t.A=xo(t.v);var n=t.A,i=t.U;Array.isArray(i)||(i=[String(i)]),Ho(n.i,"t",i),t.C=0,n=t.l.H,t.h=new ao,t.g=Va(t.l,n?e:null,!t.s),0<t.N&&(t.L=new Ls(pr(t.La,t,t.g),t.N)),Bs(t.S,t.g,"readystatechange",t.ib),e=t.H?Jr(t.H):{},t.s?(t.u||(t.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.g.da(t.A,t.u,t.s,e)):(t.u="GET",t.g.da(t.A,t.u,null,e)),Ks(),function(t,e,n,i,r,s){t.info((function(){if(t.g)if(s)for(var o="",a=s.split("&"),h=0;h<a.length;h++){var u=a[h].split("=");if(1<u.length){var l=u[0];u=u[1];var c=l.split("_");o=2<=c.length&&"type"==c[1]?o+(l+"=")+u+"&":o+(l+"=redacted&")}}else o=null;else o=s;return"XMLHTTP REQ ("+i+") [attempt "+r+"]: "+e+"\n"+n+"\n"+o}))}(t.j,t.u,t.A,t.m,t.U,t.s)}function po(t){return!!t.g&&("GET"==t.u&&2!=t.K&&t.l.Da)}function mo(t,e,n){let i,r=!0;for(;!t.I&&t.C<n.length;){if(i=go(t,n),i==lo){4==e&&(t.o=4,Gs(14),r=!1),Fs(t.j,t.m,null,"[Incomplete Response]");break}if(i==uo){t.o=4,Gs(15),Fs(t.j,t.m,n,"[Invalid Chunk]"),r=!1;break}Fs(t.j,t.m,i,null),Mo(t,i)}po(t)&&i!=lo&&i!=uo&&(t.h.g="",t.C=0),4!=e||0!=n.length||t.h.h||(t.o=1,Gs(16),r=!1),t.i=t.i&&r,r?0<n.length&&!t.$&&(t.$=!0,(e=t.l).g==t&&e.$&&!e.K&&(e.j.info("Great, no buffering proxy detected. Bytes received: "+n.length),Da(e),e.K=!0,Gs(11))):(Fs(t.j,t.m,n,"[Invalid Chunked Response]"),_o(t),wo(t))}function go(t,e){var n=t.C,i=e.indexOf("\n",n);return-1==i?lo:(n=Number(e.substring(n,i)),isNaN(n)?uo:(i+=1)+n>e.length?lo:(e=e.substr(i,n),t.C=i+n,e))}function vo(t){t.V=Date.now()+t.O,yo(t,t.O)}function yo(t,e){if(null!=t.B)throw Error("WatchDog timer not null");t.B=Qs(pr(t.gb,t),e)}function bo(t){t.B&&(or.clearTimeout(t.B),t.B=null)}function wo(t){0==t.l.G||t.I||Pa(t.l,t)}function _o(t){bo(t);var e=t.L;e&&"function"==typeof e.na&&e.na(),t.L=null,Cs(t.T),Ps(t.S),t.g&&(e=t.g,t.g=null,e.abort(),e.na())}function Mo(t,e){try{var n=t.l;if(0!=n.G&&(n.g==t||Xo(n.h,t)))if(!t.J&&Xo(n.h,t)&&3==n.G){try{var i=n.Fa.g.parse(e)}catch(t){i=null}if(Array.isArray(i)&&3==i.length){var r=i;if(0==r[0]){t:if(!n.u){if(n.g){if(!(n.g.F+3e3<t.F))break t;Ba(n),Sa(n)}La(n),Gs(18)}}else n.Ba=r[1],0<n.Ba-n.T&&37500>r[2]&&n.L&&0==n.A&&!n.v&&(n.v=Qs(pr(n.cb,n),6e3));if(1>=Qo(n.h)&&n.ja){try{n.ja()}catch(t){}n.ja=void 0}}else Fa(n,11)}else if((t.J||n.g==t)&&Ba(n),!kr(e))for(r=n.Fa.g.parse(e),e=0;e<r.length;e++){let u=r[e];if(n.T=u[0],u=u[1],2==n.G)if("c"==u[0]){n.I=u[1],n.ka=u[2];const e=u[3];null!=e&&(n.ma=e,n.j.info("VER="+n.ma));const r=u[4];null!=r&&(n.Ca=r,n.j.info("SVER="+n.Ca));const l=u[5];null!=l&&"number"==typeof l&&0<l&&(i=1.5*l,n.J=i,n.j.info("backChannelRequestTimeoutMs_="+i)),i=n;const c=t.g;if(c){const t=c.g?c.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(t){var s=i.h;s.g||-1==t.indexOf("spdy")&&-1==t.indexOf("quic")&&-1==t.indexOf("h2")||(s.j=s.l,s.g=new Set,s.h&&(Zo(s,s.h),s.h=null))}if(i.D){const t=c.g?c.g.getResponseHeader("X-HTTP-Session-Id"):null;t&&(i.za=t,Ro(i.F,i.D,t))}}n.G=3,n.l&&n.l.xa(),n.$&&(n.P=Date.now()-t.F,n.j.info("Handshake RTT: "+n.P+"ms"));var o=t;if((i=n).sa=za(i,i.H?i.ka:null,i.V),o.J){Yo(i.h,o);var a=o,h=i.J;h&&a.setTimeout(h),a.B&&(bo(a),vo(a)),i.g=o}else Na(i);0<n.i.length&&Ia(n)}else"stop"!=u[0]&&"close"!=u[0]||Fa(n,7);else 3==n.G&&("stop"==u[0]||"close"==u[0]?"stop"==u[0]?Fa(n,7):xa(n):"noop"!=u[0]&&n.l&&n.l.wa(u),n.A=0)}Ks()}catch(t){}}function ko(t,e){if(t.forEach&&"function"==typeof t.forEach)t.forEach(e,void 0);else if(hr(t)||"string"==typeof t)Array.prototype.forEach.call(t,e,void 0);else for(var n=function(t){if(t.oa&&"function"==typeof t.oa)return t.oa();if(!t.W||"function"!=typeof t.W){if("undefined"!=typeof Map&&t instanceof Map)return Array.from(t.keys());if(!("undefined"!=typeof Set&&t instanceof Set)){if(hr(t)||"string"==typeof t){var e=[];t=t.length;for(var n=0;n<t;n++)e.push(n);return e}e=[],n=0;for(const i in t)e[n++]=i;return e}}}(t),i=function(t){if(t.W&&"function"==typeof t.W)return t.W();if("undefined"!=typeof Map&&t instanceof Map||"undefined"!=typeof Set&&t instanceof Set)return Array.from(t.values());if("string"==typeof t)return t.split("");if(hr(t)){for(var e=[],n=t.length,i=0;i<n;i++)e.push(t[i]);return e}for(i in e=[],n=0,t)e[n++]=t[i];return e}(t),r=i.length,s=0;s<r;s++)e.call(void 0,i[s],n&&n[s],t)}(nr=oo.prototype).setTimeout=function(t){this.O=t},nr.ib=function(t){t=t.target;const e=this.L;e&&3==wa(t)?e.l():this.La(t)},nr.La=function(t){try{if(t==this.g)t:{const l=wa(this.g);var e=this.g.Ea();this.g.aa();if(!(3>l)&&(3!=l||Lr||this.g&&(this.h.h||this.g.fa()||_a(this.g)))){this.I||4!=l||7==e||Ks(),bo(this);var n=this.g.aa();this.Y=n;e:if(po(this)){var i=_a(this.g);t="";var r=i.length,s=4==wa(this.g);if(!this.h.i){if("undefined"==typeof TextDecoder){_o(this),wo(this);var o="";break e}this.h.i=new or.TextDecoder}for(e=0;e<r;e++)this.h.h=!0,t+=this.h.i.decode(i[e],{stream:s&&e==r-1});i.splice(0,r),this.h.g+=t,this.C=0,o=this.h.g}else o=this.g.fa();if(this.i=200==n,function(t,e,n,i,r,s,o){t.info((function(){return"XMLHTTP RESP ("+i+") [ attempt "+r+"]: "+e+"\n"+n+"\n"+s+" "+o}))}(this.j,this.u,this.A,this.m,this.U,l,n),this.i){if(this.Z&&!this.J){e:{if(this.g){var a,h=this.g;if((a=h.g?h.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!kr(a)){var u=a;break e}}u=null}if(!(n=u)){this.i=!1,this.o=3,Gs(12),_o(this),wo(this);break t}Fs(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,Mo(this,n)}this.P?(mo(this,l,o),Lr&&this.i&&3==l&&(Bs(this.S,this.T,"tick",this.hb),this.T.start())):(Fs(this.j,this.m,o,null),Mo(this,o)),4==l&&_o(this),this.i&&!this.I&&(4==l?Pa(this.l,this):(this.i=!1,vo(this)))}else 400==n&&0<o.indexOf("Unknown SID")?(this.o=3,Gs(12)):(this.o=0,Gs(13)),_o(this),wo(this)}}}catch(t){}},nr.hb=function(){if(this.g){var t=wa(this.g),e=this.g.fa();this.C<e.length&&(bo(this),mo(this,t,e),this.i&&4!=t&&vo(this))}},nr.cancel=function(){this.I=!0,_o(this)},nr.gb=function(){this.B=null;const t=Date.now();0<=t-this.V?(function(t,e){t.info((function(){return"TIMEOUT: "+e}))}(this.j,this.A),2!=this.K&&(Ks(),Gs(17)),_o(this),this.o=2,wo(this)):yo(this,this.V-t)};var Ao=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Eo(t,e){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,t instanceof Eo){this.h=void 0!==e?e:t.h,So(this,t.j),this.s=t.s,this.g=t.g,To(this,t.m),this.l=t.l,e=t.i;var n=new Fo;n.i=e.i,e.g&&(n.g=new Map(e.g),n.h=e.h),Io(this,n),this.o=t.o}else t&&(n=String(t).match(Ao))?(this.h=!!e,So(this,n[1]||"",!0),this.s=qo(n[2]||""),this.g=qo(n[3]||"",!0),To(this,n[4]),this.l=qo(n[5]||"",!0),Io(this,n[6]||"",!0),this.o=qo(n[7]||"")):(this.h=!!e,this.i=new Fo(null,this.h))}function xo(t){return new Eo(t)}function So(t,e,n){t.j=n?qo(e,!0):e,t.j&&(t.j=t.j.replace(/:$/,""))}function To(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.m=e}else t.m=null}function Io(t,e,n){e instanceof Fo?(t.i=e,function(t,e){e&&!t.j&&(jo(t),t.i=null,t.g.forEach((function(t,e){var n=e.toLowerCase();e!=n&&(zo(this,e),Ho(this,n,t))}),t)),t.j=e}(t.i,t.h)):(n||(e=No(e,Po)),t.i=new Fo(e,t.h))}function Ro(t,e,n){t.i.set(e,n)}function Co(t){return Ro(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),t}function qo(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function No(t,e,n){return"string"==typeof t?(t=encodeURI(t).replace(e,Lo),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function Lo(t){return"%"+((t=t.charCodeAt(0))>>4&15).toString(16)+(15&t).toString(16)}Eo.prototype.toString=function(){var t=[],e=this.j;e&&t.push(No(e,Do,!0),":");var n=this.g;return(n||"file"==e)&&(t.push("//"),(e=this.s)&&t.push(No(e,Do,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.m)&&t.push(":",String(n))),(n=this.l)&&(this.g&&"/"!=n.charAt(0)&&t.push("/"),t.push(No(n,"/"==n.charAt(0)?Bo:Oo,!0))),(n=this.i.toString())&&t.push("?",n),(n=this.o)&&t.push("#",No(n,Uo)),t.join("")};var Do=/[#\/\?@]/g,Oo=/[#\?:]/g,Bo=/[#\?]/g,Po=/[#\?@]/g,Uo=/#/g;function Fo(t,e){this.h=this.g=null,this.i=t||null,this.j=!!e}function jo(t){t.g||(t.g=new Map,t.h=0,t.i&&function(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var i=t[n].indexOf("="),r=null;if(0<=i){var s=t[n].substring(0,i);r=t[n].substring(i+1)}else s=t[n];e(s,r?decodeURIComponent(r.replace(/\+/g," ")):"")}}}(t.i,(function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)})))}function zo(t,e){jo(t),e=Ko(t,e),t.g.has(e)&&(t.i=null,t.h-=t.g.get(e).length,t.g.delete(e))}function Vo(t,e){return jo(t),e=Ko(t,e),t.g.has(e)}function Ho(t,e,n){zo(t,e),0<n.length&&(t.i=null,t.g.set(Ko(t,e),br(n)),t.h+=n.length)}function Ko(t,e){return e=String(e),t.j&&(e=e.toLowerCase()),e}(nr=Fo.prototype).add=function(t,e){jo(this),this.i=null,t=Ko(this,t);var n=this.g.get(t);return n||this.g.set(t,n=[]),n.push(e),this.h+=1,this},nr.forEach=function(t,e){jo(this),this.g.forEach((function(n,i){n.forEach((function(n){t.call(e,n,i,this)}),this)}),this)},nr.oa=function(){jo(this);const t=Array.from(this.g.values()),e=Array.from(this.g.keys()),n=[];for(let i=0;i<e.length;i++){const r=t[i];for(let t=0;t<r.length;t++)n.push(e[i])}return n},nr.W=function(t){jo(this);let e=[];if("string"==typeof t)Vo(this,t)&&(e=e.concat(this.g.get(Ko(this,t))));else{t=Array.from(this.g.values());for(let n=0;n<t.length;n++)e=e.concat(t[n])}return e},nr.set=function(t,e){return jo(this),this.i=null,Vo(this,t=Ko(this,t))&&(this.h-=this.g.get(t).length),this.g.set(t,[e]),this.h+=1,this},nr.get=function(t,e){return t&&0<(t=this.W(t)).length?String(t[0]):e},nr.toString=function(){if(this.i)return this.i;if(!this.g)return"";const t=[],e=Array.from(this.g.keys());for(var n=0;n<e.length;n++){var i=e[n];const s=encodeURIComponent(String(i)),o=this.W(i);for(i=0;i<o.length;i++){var r=s;""!==o[i]&&(r+="="+encodeURIComponent(String(o[i]))),t.push(r)}}return this.i=t.join("&")};function Wo(t){this.l=t||Go,or.PerformanceNavigationTiming?t=0<(t=or.performance.getEntriesByType("navigation")).length&&("hq"==t[0].nextHopProtocol||"h2"==t[0].nextHopProtocol):t=!!(or.g&&or.g.Ga&&or.g.Ga()&&or.g.Ga().$b),this.j=t?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var Go=10;function $o(t){return!!t.h||!!t.g&&t.g.size>=t.j}function Qo(t){return t.h?1:t.g?t.g.size:0}function Xo(t,e){return t.h?t.h==e:!!t.g&&t.g.has(e)}function Zo(t,e){t.g?t.g.add(e):t.h=e}function Yo(t,e){t.h&&t.h==e?t.h=null:t.g&&t.g.has(e)&&t.g.delete(e)}function Jo(t){if(null!=t.h)return t.i.concat(t.h.D);if(null!=t.g&&0!==t.g.size){let e=t.i;for(const n of t.g.values())e=e.concat(n.D);return e}return br(t.i)}function ta(){}function ea(){this.g=new ta}function na(t,e,n){const i=n||"";try{ko(t,(function(t,n){let r=t;ur(t)&&(r=ws(t)),e.push(i+n+"="+encodeURIComponent(r))}))}catch(t){throw e.push(i+"type="+encodeURIComponent("_badmap")),t}}function ia(t,e,n,i,r){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,r(i)}catch(t){}}function ra(t){this.l=t.ac||null,this.j=t.jb||!1}function sa(t,e){vs.call(this),this.D=t,this.u=e,this.m=void 0,this.readyState=oa,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}Wo.prototype.cancel=function(){if(this.i=Jo(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const t of this.g.values())t.cancel();this.g.clear()}},ta.prototype.stringify=function(t){return or.JSON.stringify(t,void 0)},ta.prototype.parse=function(t){return or.JSON.parse(t,void 0)},gr(ra,Ys),ra.prototype.g=function(){return new sa(this.l,this.j)},ra.prototype.i=function(t){return function(){return t}}({}),gr(sa,vs);var oa=0;function aa(t){t.j.read().then(t.Ta.bind(t)).catch(t.ga.bind(t))}function ha(t){t.readyState=4,t.l=null,t.j=null,t.A=null,ua(t)}function ua(t){t.onreadystatechange&&t.onreadystatechange.call(t)}(nr=sa.prototype).open=function(t,e){if(this.readyState!=oa)throw this.abort(),Error("Error reopening a connection");this.C=t,this.B=e,this.readyState=1,ua(this)},nr.send=function(t){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};t&&(e.body=t),(this.D||or).fetch(new Request(this.B,e)).then(this.Wa.bind(this),this.ga.bind(this))},nr.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch((()=>{})),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,ha(this)),this.readyState=oa},nr.Wa=function(t){if(this.g&&(this.l=t,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=t.headers,this.readyState=2,ua(this)),this.g&&(this.readyState=3,ua(this),this.g)))if("arraybuffer"===this.responseType)t.arrayBuffer().then(this.Ua.bind(this),this.ga.bind(this));else if(void 0!==or.ReadableStream&&"body"in t){if(this.j=t.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;aa(this)}else t.text().then(this.Va.bind(this),this.ga.bind(this))},nr.Ta=function(t){if(this.g){if(this.u&&t.value)this.response.push(t.value);else if(!this.u){var e=t.value?t.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!t.done}))&&(this.response=this.responseText+=e)}t.done?ha(this):ua(this),3==this.readyState&&aa(this)}},nr.Va=function(t){this.g&&(this.response=this.responseText=t,ha(this))},nr.Ua=function(t){this.g&&(this.response=t,ha(this))},nr.ga=function(){this.g&&ha(this)},nr.setRequestHeader=function(t,e){this.v.append(t,e)},nr.getResponseHeader=function(t){return this.h&&this.h.get(t.toLowerCase())||""},nr.getAllResponseHeaders=function(){if(!this.h)return"";const t=[],e=this.h.entries();for(var n=e.next();!n.done;)n=n.value,t.push(n[0]+": "+n[1]),n=e.next();return t.join("\r\n")},Object.defineProperty(sa.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(t){this.m=t?"include":"same-origin"}});var la=or.JSON.parse;function ca(t){vs.call(this),this.headers=new Map,this.u=t||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=da,this.K=this.L=!1}gr(ca,vs);var da="",fa=/^https?$/i,pa=["POST","PUT"];function ma(t,e){t.h=!1,t.g&&(t.l=!0,t.g.abort(),t.l=!1),t.j=e,t.m=5,ga(t),ya(t)}function ga(t){t.D||(t.D=!0,ys(t,"complete"),ys(t,"error"))}function va(t){if(t.h&&void 0!==sr&&(!t.C[1]||4!=wa(t)||2!=t.aa()))if(t.v&&4==wa(t))qs(t.Ha,0,t);else if(ys(t,"readystatechange"),4==wa(t)){t.h=!1;try{const a=t.aa();t:switch(a){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break t;default:e=!1}var n;if(!(n=e)){var i;if(i=0===a){var r=String(t.H).match(Ao)[1]||null;if(!r&&or.self&&or.self.location){var s=or.self.location.protocol;r=s.substr(0,s.length-1)}i=!fa.test(r?r.toLowerCase():"")}n=i}if(n)ys(t,"complete"),ys(t,"success");else{t.m=6;try{var o=2<wa(t)?t.g.statusText:""}catch(t){o=""}t.j=o+" ["+t.aa()+"]",ga(t)}}finally{ya(t)}}}function ya(t,e){if(t.g){ba(t);const n=t.g,i=t.C[0]?ar:null;t.g=null,t.C=null,e||ys(t,"ready");try{n.onreadystatechange=i}catch(t){}}}function ba(t){t.g&&t.K&&(t.g.ontimeout=null),t.A&&(or.clearTimeout(t.A),t.A=null)}function wa(t){return t.g?t.g.readyState:0}function _a(t){try{if(!t.g)return null;if("response"in t.g)return t.g.response;switch(t.J){case da:case"text":return t.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in t.g)return t.g.mozResponseArrayBuffer}return null}catch(t){return null}}function Ma(t){let e="";return Yr(t,(function(t,n){e+=n,e+=":",e+=t,e+="\r\n"})),e}function ka(t,e,n){t:{for(i in n){var i=!1;break t}i=!0}i||(n=Ma(n),"string"==typeof t?null!=n&&encodeURIComponent(String(n)):Ro(t,e,n))}function Aa(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function Ea(t){this.Ca=0,this.i=[],this.j=new Us,this.ka=this.sa=this.F=this.V=this.g=this.za=this.D=this.ia=this.o=this.S=this.s=null,this.ab=this.U=0,this.Za=Aa("failFast",!1,t),this.L=this.v=this.u=this.m=this.l=null,this.Y=!0,this.pa=this.Ba=this.T=-1,this.Z=this.A=this.C=0,this.Xa=Aa("baseRetryDelayMs",5e3,t),this.bb=Aa("retryDelaySeedMs",1e4,t),this.$a=Aa("forwardChannelMaxRetries",2,t),this.ta=Aa("forwardChannelRequestTimeoutMs",2e4,t),this.ra=t&&t.xmlHttpFactory||void 0,this.Da=t&&t.Zb||!1,this.J=void 0,this.H=t&&t.supportsCrossDomainXhr||!1,this.I="",this.h=new Wo(t&&t.concurrentRequestLimit),this.Fa=new ea,this.O=t&&t.fastHandshake||!1,this.N=t&&t.encodeInitMessageHeaders||!1,this.O&&this.N&&(this.N=!1),this.Ya=t&&t.Xb||!1,t&&t.Aa&&this.j.Aa(),t&&t.forceLongPolling&&(this.Y=!1),this.$=!this.O&&this.Y&&t&&t.detectBufferingProxy||!1,this.ja=void 0,this.P=0,this.K=!1,this.la=this.B=null}function xa(t){if(Ta(t),3==t.G){var e=t.U++,n=xo(t.F);Ro(n,"SID",t.I),Ro(n,"RID",e),Ro(n,"TYPE","terminate"),Ca(t,n),(e=new oo(t,t.j,e,void 0)).K=2,e.v=Co(xo(n)),n=!1,or.navigator&&or.navigator.sendBeacon&&(n=or.navigator.sendBeacon(e.v.toString(),"")),!n&&or.Image&&((new Image).src=e.v,n=!0),n||(e.g=Va(e.l,null),e.g.da(e.v)),e.F=Date.now(),vo(e)}ja(t)}function Sa(t){t.g&&(Da(t),t.g.cancel(),t.g=null)}function Ta(t){Sa(t),t.u&&(or.clearTimeout(t.u),t.u=null),Ba(t),t.h.cancel(),t.m&&("number"==typeof t.m&&or.clearTimeout(t.m),t.m=null)}function Ia(t){$o(t.h)||t.m||(t.m=!0,xs(t.Ja,t),t.C=0)}function Ra(t,e){var n;n=e?e.m:t.U++;const i=xo(t.F);Ro(i,"SID",t.I),Ro(i,"RID",n),Ro(i,"AID",t.T),Ca(t,i),t.o&&t.s&&ka(i,t.o,t.s),n=new oo(t,t.j,n,t.C+1),null===t.o&&(n.H=t.s),e&&(t.i=e.D.concat(t.i)),e=qa(t,n,1e3),n.setTimeout(Math.round(.5*t.ta)+Math.round(.5*t.ta*Math.random())),Zo(t.h,n),co(n,i,e)}function Ca(t,e){t.ia&&Yr(t.ia,(function(t,n){Ro(e,n,t)})),t.l&&ko({},(function(t,n){Ro(e,n,t)}))}function qa(t,e,n){n=Math.min(t.i.length,n);var i=t.l?pr(t.l.Ra,t.l,t):null;t:{var r=t.i;let e=-1;for(;;){const t=["count="+n];-1==e?0<n?(e=r[0].h,t.push("ofs="+e)):e=0:t.push("ofs="+e);let s=!0;for(let o=0;o<n;o++){let n=r[o].h;const a=r[o].g;if(n-=e,0>n)e=Math.max(0,r[o].h-100),s=!1;else try{na(a,t,"req"+n+"_")}catch(t){i&&i(a)}}if(s){i=t.join("&");break t}}}return t=t.i.splice(0,n),e.D=t,i}function Na(t){t.g||t.u||(t.Z=1,xs(t.Ia,t),t.A=0)}function La(t){return!(t.g||t.u||3<=t.A)&&(t.Z++,t.u=Qs(pr(t.Ia,t),Ua(t,t.A)),t.A++,!0)}function Da(t){null!=t.B&&(or.clearTimeout(t.B),t.B=null)}function Oa(t){t.g=new oo(t,t.j,"rpc",t.Z),null===t.o&&(t.g.H=t.s),t.g.N=0;var e=xo(t.sa);Ro(e,"RID","rpc"),Ro(e,"SID",t.I),Ro(e,"CI",t.L?"0":"1"),Ro(e,"AID",t.T),Ro(e,"TYPE","xmlhttp"),Ca(t,e),t.o&&t.s&&ka(e,t.o,t.s),t.J&&t.g.setTimeout(t.J);var n=t.g;t=t.ka,n.K=1,n.v=Co(xo(e)),n.s=null,n.P=!0,fo(n,t)}function Ba(t){null!=t.v&&(or.clearTimeout(t.v),t.v=null)}function Pa(t,e){var n=null;if(t.g==e){Ba(t),Da(t),t.g=null;var i=2}else{if(!Xo(t.h,e))return;n=e.D,Yo(t.h,e),i=1}if(0!=t.G)if(t.pa=e.Y,e.i)if(1==i){n=e.s?e.s.length:0,e=Date.now()-e.F;var r=t.C;ys(i=Vs(),new $s(i,n)),Ia(t)}else Na(t);else if(3==(r=e.o)||0==r&&0<t.pa||!(1==i&&function(t,e){return!(Qo(t.h)>=t.h.j-(t.m?1:0)||(t.m?(t.i=e.D.concat(t.i),0):1==t.G||2==t.G||t.C>=(t.Za?0:t.$a)||(t.m=Qs(pr(t.Ja,t,e),Ua(t,t.C)),t.C++,0)))}(t,e)||2==i&&La(t)))switch(n&&0<n.length&&(e=t.h,e.i=e.i.concat(n)),r){case 1:Fa(t,5);break;case 4:Fa(t,10);break;case 3:Fa(t,6);break;default:Fa(t,2)}}function Ua(t,e){let n=t.Xa+Math.floor(Math.random()*t.bb);return t.l||(n*=2),n*e}function Fa(t,e){if(t.j.info("Error code "+e),2==e){var n=null;t.l&&(n=null);var i=pr(t.kb,t);n||(n=new Eo("//www.google.com/images/cleardot.gif"),or.location&&"http"==or.location.protocol||So(n,"https"),Co(n)),function(t,e){const n=new Us;if(or.Image){const i=new Image;i.onload=mr(ia,n,i,"TestLoadImage: loaded",!0,e),i.onerror=mr(ia,n,i,"TestLoadImage: error",!1,e),i.onabort=mr(ia,n,i,"TestLoadImage: abort",!1,e),i.ontimeout=mr(ia,n,i,"TestLoadImage: timeout",!1,e),or.setTimeout((function(){i.ontimeout&&i.ontimeout()}),1e4),i.src=t}else e(!1)}(n.toString(),i)}else Gs(2);t.G=0,t.l&&t.l.va(e),ja(t),Ta(t)}function ja(t){if(t.G=0,t.la=[],t.l){const e=Jo(t.h);0==e.length&&0==t.i.length||(wr(t.la,e),wr(t.la,t.i),t.h.i.length=0,br(t.i),t.i.length=0),t.l.ua()}}function za(t,e,n){var i=n instanceof Eo?xo(n):new Eo(n,void 0);if(""!=i.g)e&&(i.g=e+"."+i.g),To(i,i.m);else{var r=or.location;i=r.protocol,e=e?e+"."+r.hostname:r.hostname,r=+r.port;var s=new Eo(null,void 0);i&&So(s,i),e&&(s.g=e),r&&To(s,r),n&&(s.l=n),i=s}return n=t.D,e=t.za,n&&e&&Ro(i,n,e),Ro(i,"VER",t.ma),Ca(t,i),i}function Va(t,e,n){if(e&&!t.H)throw Error("Can't create secondary domain capable XhrIo object.");return(e=n&&t.Da&&!t.ra?new ca(new ra({jb:!0})):new ca(t.ra)).Ka(t.H),e}function Ha(){}function Ka(){if(qr&&!(10<=Number(Kr)))throw Error("Environmental error: no available transport.")}function Wa(t,e){vs.call(this),this.g=new Ea(e),this.l=t,this.h=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.g.s=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.ya&&(t?t["X-WebChannel-Client-Profile"]=e.ya:t={"X-WebChannel-Client-Profile":e.ya}),this.g.S=t,(t=e&&e.Yb)&&!kr(t)&&(this.g.o=t),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!kr(e)&&(this.g.D=e,null!==(t=this.h)&&e in t&&(e in(t=this.h)&&delete t[e])),this.j=new Qa(this)}function Ga(t){io.call(this);var e=t.__sm__;if(e){t:{for(const n in e){t=n;break t}t=void 0}(this.i=t)&&(t=this.i,e=null!==e&&t in e?e[t]:void 0),this.data=e}else this.data=t}function $a(){ro.call(this),this.status=1}function Qa(t){this.g=t}(nr=ca.prototype).Ka=function(t){this.L=t},nr.da=function(t,e,n,i){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+t);e=e?e.toUpperCase():"GET",this.H=t,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():eo.g(),this.C=this.u?Js(this.u):Js(eo),this.g.onreadystatechange=pr(this.Ha,this);try{this.F=!0,this.g.open(e,String(t),!0),this.F=!1}catch(t){return void ma(this,t)}if(t=n||"",n=new Map(this.headers),i)if(Object.getPrototypeOf(i)===Object.prototype)for(var r in i)n.set(r,i[r]);else{if("function"!=typeof i.keys||"function"!=typeof i.get)throw Error("Unknown input type for opt_headers: "+String(i));for(const t of i.keys())n.set(t,i.get(t))}i=Array.from(n.keys()).find((t=>"content-type"==t.toLowerCase())),r=or.FormData&&t instanceof or.FormData,!(0<=yr(pa,e))||i||r||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[t,e]of n)this.g.setRequestHeader(t,e);this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{ba(this),0<this.B&&((this.K=function(t){return qr&&Vr()&&"number"==typeof t.timeout&&void 0!==t.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=pr(this.qa,this)):this.A=qs(this.qa,this.B,this)),this.v=!0,this.g.send(t),this.v=!1}catch(t){ma(this,t)}},nr.qa=function(){void 0!==sr&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,ys(this,"timeout"),this.abort(8))},nr.abort=function(t){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=t||7,ys(this,"complete"),ys(this,"abort"),ya(this))},nr.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),ya(this,!0)),ca.X.M.call(this)},nr.Ha=function(){this.s||(this.F||this.v||this.l?va(this):this.fb())},nr.fb=function(){va(this)},nr.aa=function(){try{return 2<wa(this)?this.g.status:-1}catch(t){return-1}},nr.fa=function(){try{return this.g?this.g.responseText:""}catch(t){return""}},nr.Sa=function(t){if(this.g){var e=this.g.responseText;return t&&0==e.indexOf(t)&&(e=e.substring(t.length)),la(e)}},nr.Ea=function(){return this.m},nr.Oa=function(){return"string"==typeof this.j?this.j:String(this.j)},(nr=Ea.prototype).ma=8,nr.G=1,nr.Ja=function(t){if(this.m)if(this.m=null,1==this.G){if(!t){this.U=Math.floor(1e5*Math.random()),t=this.U++;const r=new oo(this,this.j,t,void 0);let s=this.s;if(this.S&&(s?(s=Jr(s),es(s,this.S)):s=this.S),null!==this.o||this.N||(r.H=s,s=null),this.O)t:{for(var e=0,n=0;n<this.i.length;n++){var i=this.i[n];if(void 0===(i="__data__"in i.g&&"string"==typeof(i=i.g.__data__)?i.length:void 0))break;if(4096<(e+=i)){e=n;break t}if(4096===e||n===this.i.length-1){e=n+1;break t}}e=1e3}else e=1e3;e=qa(this,r,e),Ro(n=xo(this.F),"RID",t),Ro(n,"CVER",22),this.D&&Ro(n,"X-HTTP-Session-Id",this.D),Ca(this,n),s&&(this.N?e="headers="+encodeURIComponent(String(Ma(s)))+"&"+e:this.o&&ka(n,this.o,s)),Zo(this.h,r),this.Ya&&Ro(n,"TYPE","init"),this.O?(Ro(n,"$req",e),Ro(n,"SID","null"),r.Z=!0,co(r,n,null)):co(r,n,e),this.G=2}}else 3==this.G&&(t?Ra(this,t):0==this.i.length||$o(this.h)||Ra(this))},nr.Ia=function(){if(this.u=null,Oa(this),this.$&&!(this.K||null==this.g||0>=this.P)){var t=2*this.P;this.j.info("BP detection timer enabled: "+t),this.B=Qs(pr(this.eb,this),t)}},nr.eb=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.L=!1,this.K=!0,Gs(10),Sa(this),Oa(this))},nr.cb=function(){null!=this.v&&(this.v=null,Sa(this),La(this),Gs(19))},nr.kb=function(t){t?(this.j.info("Successfully pinged google.com"),Gs(2)):(this.j.info("Failed to ping google.com"),Gs(1))},(nr=Ha.prototype).xa=function(){},nr.wa=function(){},nr.va=function(){},nr.ua=function(){},nr.Ra=function(){},Ka.prototype.g=function(t,e){return new Wa(t,e)},gr(Wa,vs),Wa.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.H=!0);var t=this.g,e=this.l,n=this.h||void 0;Gs(0),t.V=e,t.ia=n||{},t.L=t.Y,t.F=za(t,null,t.V),Ia(t)},Wa.prototype.close=function(){xa(this.g)},Wa.prototype.u=function(t){var e=this.g;if("string"==typeof t){var n={};n.__data__=t,t=n}else this.v&&((n={}).__data__=ws(t),t=n);e.i.push(new class{constructor(t,e){this.h=t,this.g=e}}(e.ab++,t)),3==e.G&&Ia(e)},Wa.prototype.M=function(){this.g.l=null,delete this.j,xa(this.g),delete this.g,Wa.X.M.call(this)},gr(Ga,io),gr($a,ro),gr(Qa,Ha),Qa.prototype.xa=function(){ys(this.g,"a")},Qa.prototype.wa=function(t){ys(this.g,new Ga(t))},Qa.prototype.va=function(t){ys(this.g,new $a)},Qa.prototype.ua=function(){ys(this.g,"b")},Ka.prototype.createWebChannel=Ka.prototype.g,Wa.prototype.send=Wa.prototype.u,Wa.prototype.open=Wa.prototype.m,Wa.prototype.close=Wa.prototype.close,Xs.NO_ERROR=0,Xs.TIMEOUT=8,Xs.HTTP_ERROR=6,Zs.COMPLETE="complete",to.EventType=no,no.OPEN="a",no.CLOSE="b",no.ERROR="c",no.MESSAGE="d",vs.prototype.listen=vs.prototype.N,ca.prototype.listenOnce=ca.prototype.O,ca.prototype.getLastError=ca.prototype.Oa,ca.prototype.getLastErrorCode=ca.prototype.Ea,ca.prototype.getStatus=ca.prototype.aa,ca.prototype.getResponseJson=ca.prototype.Sa,ca.prototype.getResponseText=ca.prototype.fa,ca.prototype.send=ca.prototype.da,ca.prototype.setWithCredentials=ca.prototype.Ka;var Xa=rr.createWebChannelTransport=function(){return new Ka},Za=rr.getStatEventTarget=function(){return Vs()},Ya=rr.ErrorCode=Xs,Ja=rr.EventType=Zs,th=rr.Event=js,eh=rr.Stat={sb:0,vb:1,wb:2,Pb:3,Ub:4,Rb:5,Sb:6,Qb:7,Ob:8,Tb:9,PROXY:10,NOPROXY:11,Mb:12,Ib:13,Jb:14,Hb:15,Kb:16,Lb:17,ob:18,nb:19,pb:20},nh=rr.FetchXmlHttpFactory=ra,ih=rr.WebChannel=to,rh=rr.XhrIo=ca;s=r("ajwPf");const sh="@firebase/firestore";
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oh{constructor(t){this.uid=t}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}oh.UNAUTHENTICATED=new oh(null),oh.GOOGLE_CREDENTIALS=new oh("google-credentials-uid"),oh.FIRST_PARTY=new oh("first-party-uid"),oh.MOCK_USER=new oh("mock-user");
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
let ah="9.17.1";
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hh=new G("@firebase/firestore");function uh(){return hh.logLevel}function lh(t,...e){if(hh.logLevel<=j.DEBUG){const n=e.map(fh);hh.debug(`Firestore (${ah}): ${t}`,...n)}}function ch(t,...e){if(hh.logLevel<=j.ERROR){const n=e.map(fh);hh.error(`Firestore (${ah}): ${t}`,...n)}}function dh(t,...e){if(hh.logLevel<=j.WARN){const n=e.map(fh);hh.warn(`Firestore (${ah}): ${t}`,...n)}}function fh(t){if("string"==typeof t)return t;try{return e=t,JSON.stringify(e)}catch(e){return t}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var e}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ph(t="Unexpected state"){const e=`FIRESTORE (${ah}) INTERNAL ASSERTION FAILED: `+t;throw ch(e),new Error(e)}function mh(t,e){t||ph()}function gh(t,e){return t}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vh={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class yh extends k{constructor(t,e){super(t,e),this.code=t,this.message=e,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bh{constructor(){this.promise=new Promise(((t,e)=>{this.resolve=t,this.reject=e}))}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wh{constructor(t,e){this.user=e,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class _h{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,e){t.enqueueRetryable((()=>e(oh.UNAUTHENTICATED)))}shutdown(){}}class Mh{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,e){this.changeListener=e,t.enqueueRetryable((()=>e(this.token.user)))}shutdown(){this.changeListener=null}}class kh{constructor(t){this.t=t,this.currentUser=oh.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,e){let n=this.i;const i=t=>this.i!==n?(n=this.i,e(t)):Promise.resolve();let r=new bh;this.o=()=>{this.i++,this.currentUser=this.u(),r.resolve(),r=new bh,t.enqueueRetryable((()=>i(this.currentUser)))};const s=()=>{const e=r;t.enqueueRetryable((async()=>{await e.promise,await i(this.currentUser)}))},o=t=>{lh("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=t,this.auth.addAuthTokenListener(this.o),s()};this.t.onInit((t=>o(t))),setTimeout((()=>{if(!this.auth){const t=this.t.getImmediate({optional:!0});t?o(t):(lh("FirebaseAuthCredentialsProvider","Auth not yet detected"),r.resolve(),r=new bh)}}),0),s()}getToken(){const t=this.i,e=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(e).then((e=>this.i!==t?(lh("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):e?(mh("string"==typeof e.accessToken),new wh(e.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const t=this.auth&&this.auth.getUid();return mh(null===t||"string"==typeof t),new oh(t)}}class Ah{constructor(t,e,n,i){this.h=t,this.l=e,this.m=n,this.g=i,this.type="FirstParty",this.user=oh.FIRST_PARTY,this.p=new Map}I(){return this.g?this.g():(mh(!("object"!=typeof this.h||null===this.h||!this.h.auth||!this.h.auth.getAuthHeaderValueForFirstParty)),this.h.auth.getAuthHeaderValueForFirstParty([]))}get headers(){this.p.set("X-Goog-AuthUser",this.l);const t=this.I();return t&&this.p.set("Authorization",t),this.m&&this.p.set("X-Goog-Iam-Authorization-Token",this.m),this.p}}class Eh{constructor(t,e,n,i){this.h=t,this.l=e,this.m=n,this.g=i}getToken(){return Promise.resolve(new Ah(this.h,this.l,this.m,this.g))}start(t,e){t.enqueueRetryable((()=>e(oh.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class xh{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Sh{constructor(t){this.T=t,this.forceRefresh=!1,this.appCheck=null,this.A=null}start(t,e){const n=t=>{null!=t.error&&lh("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${t.error.message}`);const n=t.token!==this.A;return this.A=t.token,lh("FirebaseAppCheckTokenProvider",`Received ${n?"new":"existing"} token.`),n?e(t.token):Promise.resolve()};this.o=e=>{t.enqueueRetryable((()=>n(e)))};const i=t=>{lh("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=t,this.appCheck.addTokenListener(this.o)};this.T.onInit((t=>i(t))),setTimeout((()=>{if(!this.appCheck){const t=this.T.getImmediate({optional:!0});t?i(t):lh("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then((t=>t?(mh("string"==typeof t.token),this.A=t.token,new xh(t.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function Th(t){const e="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(n);else for(let e=0;e<t;e++)n[e]=Math.floor(256*Math.random());return n}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ih{static R(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",e=Math.floor(256/t.length)*t.length;let n="";for(;n.length<20;){const i=Th(40);for(let r=0;r<i.length;++r)n.length<20&&i[r]<e&&(n+=t.charAt(i[r]%t.length))}return n}}function Rh(t,e){return t<e?-1:t>e?1:0}function Ch(t,e,n){return t.length===e.length&&t.every(((t,i)=>n(t,e[i])))}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class qh{constructor(t,e){if(this.seconds=t,this.nanoseconds=e,e<0)throw new yh(vh.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(e>=1e9)throw new yh(vh.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(t<-62135596800)throw new yh(vh.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new yh(vh.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}static now(){return qh.fromMillis(Date.now())}static fromDate(t){return qh.fromMillis(t.getTime())}static fromMillis(t){const e=Math.floor(t/1e3),n=Math.floor(1e6*(t-1e3*e));return new qh(e,n)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(t){return this.seconds===t.seconds?Rh(this.nanoseconds,t.nanoseconds):Rh(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const t=this.seconds- -62135596800;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nh{constructor(t){this.timestamp=t}static fromTimestamp(t){return new Nh(t)}static min(){return new Nh(new qh(0,0))}static max(){return new Nh(new qh(253402300799,999999999))}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lh{constructor(t,e,n){void 0===e?e=0:e>t.length&&ph(),void 0===n?n=t.length-e:n>t.length-e&&ph(),this.segments=t,this.offset=e,this.len=n}get length(){return this.len}isEqual(t){return 0===Lh.comparator(this,t)}child(t){const e=this.segments.slice(this.offset,this.limit());return t instanceof Lh?t.forEach((t=>{e.push(t)})):e.push(t),this.construct(e)}limit(){return this.offset+this.length}popFirst(t){return t=void 0===t?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return 0===this.length}isPrefixOf(t){if(t.length<this.length)return!1;for(let e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0}forEach(t){for(let e=this.offset,n=this.limit();e<n;e++)t(this.segments[e])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,e){const n=Math.min(t.length,e.length);for(let i=0;i<n;i++){const n=t.get(i),r=e.get(i);if(n<r)return-1;if(n>r)return 1}return t.length<e.length?-1:t.length>e.length?1:0}}class Dh extends Lh{construct(t,e,n){return new Dh(t,e,n)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...t){const e=[];for(const n of t){if(n.indexOf("//")>=0)throw new yh(vh.INVALID_ARGUMENT,`Invalid segment (${n}). Paths must not contain // in them.`);e.push(...n.split("/").filter((t=>t.length>0)))}return new Dh(e)}static emptyPath(){return new Dh([])}}const Oh=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Bh extends Lh{construct(t,e,n){return new Bh(t,e,n)}static isValidIdentifier(t){return Oh.test(t)}canonicalString(){return this.toArray().map((t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Bh.isValidIdentifier(t)||(t="`"+t+"`"),t))).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new Bh(["__name__"])}static fromServerFormat(t){const e=[];let n="",i=0;const r=()=>{if(0===n.length)throw new yh(vh.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);e.push(n),n=""};let s=!1;for(;i<t.length;){const e=t[i];if("\\"===e){if(i+1===t.length)throw new yh(vh.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const e=t[i+1];if("\\"!==e&&"."!==e&&"`"!==e)throw new yh(vh.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);n+=e,i+=2}else"`"===e?(s=!s,i++):"."!==e||s?(n+=e,i++):(r(),i++)}if(r(),s)throw new yh(vh.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new Bh(e)}static emptyPath(){return new Bh([])}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ph{constructor(t){this.path=t}static fromPath(t){return new Ph(Dh.fromString(t))}static fromName(t){return new Ph(Dh.fromString(t).popFirst(5))}static empty(){return new Ph(Dh.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return null!==t&&0===Dh.comparator(this.path,t.path)}toString(){return this.path.toString()}static comparator(t,e){return Dh.comparator(t.path,e.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new Ph(new Dh(t.slice()))}}
/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uh{constructor(t,e,n,i){this.indexId=t,this.collectionGroup=e,this.fields=n,this.indexState=i}}Uh.UNKNOWN_ID=-1;function Fh(t,e){const n=t.toTimestamp().seconds,i=t.toTimestamp().nanoseconds+1,r=Nh.fromTimestamp(1e9===i?new qh(n+1,0):new qh(n,i));return new zh(r,Ph.empty(),e)}function jh(t){return new zh(t.readTime,t.key,-1)}class zh{constructor(t,e,n){this.readTime=t,this.documentKey=e,this.largestBatchId=n}static min(){return new zh(Nh.min(),Ph.empty(),-1)}static max(){return new zh(Nh.max(),Ph.empty(),-1)}}function Vh(t,e){let n=t.readTime.compareTo(e.readTime);return 0!==n?n:(n=Ph.comparator(t.documentKey,e.documentKey),0!==n?n:Rh(t.largestBatchId,e.largestBatchId))}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hh="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Kh{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((t=>t()))}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Wh(t){if(t.code!==vh.FAILED_PRECONDITION||t.message!==Hh)throw t;lh("LocalStore","Unexpectedly lost primary lease")}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gh{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)}),(t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)}))}catch(t){return this.next(void 0,t)}next(t,e){return this.callbackAttached&&ph(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(e,this.error):this.wrapSuccess(t,this.result):new Gh(((n,i)=>{this.nextCallback=e=>{this.wrapSuccess(t,e).next(n,i)},this.catchCallback=t=>{this.wrapFailure(e,t).next(n,i)}}))}toPromise(){return new Promise(((t,e)=>{this.next(t,e)}))}wrapUserFunction(t){try{const e=t();return e instanceof Gh?e:Gh.resolve(e)}catch(t){return Gh.reject(t)}}wrapSuccess(t,e){return t?this.wrapUserFunction((()=>t(e))):Gh.resolve(e)}wrapFailure(t,e){return t?this.wrapUserFunction((()=>t(e))):Gh.reject(e)}static resolve(t){return new Gh(((e,n)=>{e(t)}))}static reject(t){return new Gh(((e,n)=>{n(t)}))}static waitFor(t){return new Gh(((e,n)=>{let i=0,r=0,s=!1;t.forEach((t=>{++i,t.next((()=>{++r,s&&r===i&&e()}),(t=>n(t)))})),s=!0,r===i&&e()}))}static or(t){let e=Gh.resolve(!1);for(const n of t)e=e.next((t=>t?Gh.resolve(t):n()));return e}static forEach(t,e){const n=[];return t.forEach(((t,i)=>{n.push(e.call(this,t,i))})),this.waitFor(n)}static mapArray(t,e){return new Gh(((n,i)=>{const r=t.length,s=new Array(r);let o=0;for(let a=0;a<r;a++){const h=a;e(t[h]).next((t=>{s[h]=t,++o,o===r&&n(s)}),(t=>i(t)))}}))}static doWhile(t,e){return new Gh(((n,i)=>{const r=()=>{!0===t()?e().next((()=>{r()}),i):n()};r()}))}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $h(t){return"IndexedDbTransactionError"===t.name}
/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class Qh{constructor(t,e){this.previousValue=t,e&&(e.sequenceNumberHandler=t=>this.ut(t),this.ct=t=>e.writeSequenceNumber(t))}ut(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ct&&this.ct(t),t}}Qh.at=-1;
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class Xh{constructor(t,e,n,i,r,s,o,a){this.databaseId=t,this.appId=e,this.persistenceKey=n,this.host=i,this.ssl=r,this.forceLongPolling=s,this.autoDetectLongPolling=o,this.useFetchStreams=a}}class Zh{constructor(t,e){this.projectId=t,this.database=e||"(default)"}static empty(){return new Zh("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(t){return t instanceof Zh&&t.projectId===this.projectId&&t.database===this.database}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yh(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Jh(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function tu(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eu(t){return null==t}function nu(t){return 0===t&&1/t==-1/0}function iu(t){return"number"==typeof t&&Number.isInteger(t)&&!nu(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class ru{constructor(t){this.binaryString=t}static fromBase64String(t){const e=atob(t);return new ru(e)}static fromUint8Array(t){const e=function(t){let e="";for(let n=0;n<t.length;++n)e+=String.fromCharCode(t[n]);return e}(t);return new ru(e)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){var t;return t=this.binaryString,btoa(t)}toUint8Array(){return function(t){const e=new Uint8Array(t.length);for(let n=0;n<t.length;n++)e[n]=t.charCodeAt(n);return e}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return Rh(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}ru.EMPTY_BYTE_STRING=new ru("");const su=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ou(t){if(mh(!!t),"string"==typeof t){let e=0;const n=su.exec(t);if(mh(!!n),n[1]){let t=n[1];t=(t+"000000000").substr(0,9),e=Number(t)}const i=new Date(t);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:au(t.seconds),nanos:au(t.nanos)}}function au(t){return"number"==typeof t?t:"string"==typeof t?Number(t):0}function hu(t){return"string"==typeof t?ru.fromBase64String(t):ru.fromUint8Array(t)}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uu(t){var e,n;return"server_timestamp"===(null===(n=((null===(e=null==t?void 0:t.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function lu(t){const e=t.mapValue.fields.__previous_value__;return uu(e)?lu(e):e}function cu(t){const e=ou(t.mapValue.fields.__local_write_time__.timestampValue);return new qh(e.seconds,e.nanos)}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const du={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function fu(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?uu(t)?4:Su(t)?9007199254740991:10:ph()}function pu(t,e){if(t===e)return!0;const n=fu(t);if(n!==fu(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return cu(t).isEqual(cu(e));case 3:return function(t,e){if("string"==typeof t.timestampValue&&"string"==typeof e.timestampValue&&t.timestampValue.length===e.timestampValue.length)return t.timestampValue===e.timestampValue;const n=ou(t.timestampValue),i=ou(e.timestampValue);return n.seconds===i.seconds&&n.nanos===i.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(t,e){return hu(t.bytesValue).isEqual(hu(e.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(t,e){return au(t.geoPointValue.latitude)===au(e.geoPointValue.latitude)&&au(t.geoPointValue.longitude)===au(e.geoPointValue.longitude)}(t,e);case 2:return function(t,e){if("integerValue"in t&&"integerValue"in e)return au(t.integerValue)===au(e.integerValue);if("doubleValue"in t&&"doubleValue"in e){const n=au(t.doubleValue),i=au(e.doubleValue);return n===i?nu(n)===nu(i):isNaN(n)&&isNaN(i)}return!1}(t,e);case 9:return Ch(t.arrayValue.values||[],e.arrayValue.values||[],pu);case 10:return function(t,e){const n=t.mapValue.fields||{},i=e.mapValue.fields||{};if(Yh(n)!==Yh(i))return!1;for(const t in n)if(n.hasOwnProperty(t)&&(void 0===i[t]||!pu(n[t],i[t])))return!1;return!0}(t,e);default:return ph()}}function mu(t,e){return void 0!==(t.values||[]).find((t=>pu(t,e)))}function gu(t,e){if(t===e)return 0;const n=fu(t),i=fu(e);if(n!==i)return Rh(n,i);switch(n){case 0:case 9007199254740991:return 0;case 1:return Rh(t.booleanValue,e.booleanValue);case 2:return function(t,e){const n=au(t.integerValue||t.doubleValue),i=au(e.integerValue||e.doubleValue);return n<i?-1:n>i?1:n===i?0:isNaN(n)?isNaN(i)?0:-1:1}(t,e);case 3:return vu(t.timestampValue,e.timestampValue);case 4:return vu(cu(t),cu(e));case 5:return Rh(t.stringValue,e.stringValue);case 6:return function(t,e){const n=hu(t),i=hu(e);return n.compareTo(i)}(t.bytesValue,e.bytesValue);case 7:return function(t,e){const n=t.split("/"),i=e.split("/");for(let t=0;t<n.length&&t<i.length;t++){const e=Rh(n[t],i[t]);if(0!==e)return e}return Rh(n.length,i.length)}(t.referenceValue,e.referenceValue);case 8:return function(t,e){const n=Rh(au(t.latitude),au(e.latitude));return 0!==n?n:Rh(au(t.longitude),au(e.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(t,e){const n=t.values||[],i=e.values||[];for(let t=0;t<n.length&&t<i.length;++t){const e=gu(n[t],i[t]);if(e)return e}return Rh(n.length,i.length)}(t.arrayValue,e.arrayValue);case 10:return function(t,e){if(t===du.mapValue&&e===du.mapValue)return 0;if(t===du.mapValue)return 1;if(e===du.mapValue)return-1;const n=t.fields||{},i=Object.keys(n),r=e.fields||{},s=Object.keys(r);i.sort(),s.sort();for(let t=0;t<i.length&&t<s.length;++t){const e=Rh(i[t],s[t]);if(0!==e)return e;const o=gu(n[i[t]],r[s[t]]);if(0!==o)return o}return Rh(i.length,s.length)}(t.mapValue,e.mapValue);default:throw ph()}}function vu(t,e){if("string"==typeof t&&"string"==typeof e&&t.length===e.length)return Rh(t,e);const n=ou(t),i=ou(e),r=Rh(n.seconds,i.seconds);return 0!==r?r:Rh(n.nanos,i.nanos)}function yu(t){return bu(t)}function bu(t){var e,n;return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(t){const e=ou(t);return`time(${e.seconds},${e.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?hu(t.bytesValue).toBase64():"referenceValue"in t?(n=t.referenceValue,Ph.fromName(n).toString()):"geoPointValue"in t?`geo(${(e=t.geoPointValue).latitude},${e.longitude})`:"arrayValue"in t?function(t){let e="[",n=!0;for(const i of t.values||[])n?n=!1:e+=",",e+=bu(i);return e+"]"}(t.arrayValue):"mapValue"in t?function(t){const e=Object.keys(t.fields||{}).sort();let n="{",i=!0;for(const r of e)i?i=!1:n+=",",n+=`${r}:${bu(t.fields[r])}`;return n+"}"}(t.mapValue):ph()}function wu(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function _u(t){return!!t&&"integerValue"in t}function Mu(t){return!!t&&"arrayValue"in t}function ku(t){return!!t&&"nullValue"in t}function Au(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Eu(t){return!!t&&"mapValue"in t}function xu(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&"object"==typeof t.timestampValue)return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return Jh(t.mapValue.fields,((t,n)=>e.mapValue.fields[t]=xu(n))),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=xu(t.arrayValue.values[n]);return e}return Object.assign({},t)}function Su(t){return"__max__"===(((t.mapValue||{}).fields||{}).__type__||{}).stringValue}
/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class Tu{constructor(t,e){this.position=t,this.inclusive=e}}function Iu(t,e,n){let i=0;for(let r=0;r<t.position.length;r++){const s=e[r],o=t.position[r];if(i=s.field.isKeyField()?Ph.comparator(Ph.fromName(o.referenceValue),n.key):gu(o,n.data.field(s.field)),"desc"===s.dir&&(i*=-1),0!==i)break}return i}function Ru(t,e){if(null===t)return null===e;if(null===e)return!1;if(t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!pu(t.position[n],e.position[n]))return!1;return!0}
/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cu{}class qu extends Cu{constructor(t,e,n){super(),this.field=t,this.op=e,this.value=n}static create(t,e,n){return t.isKeyField()?"in"===e||"not-in"===e?this.createKeyFieldInFilter(t,e,n):new Fu(t,e,n):"array-contains"===e?new Hu(t,n):"in"===e?new Ku(t,n):"not-in"===e?new Wu(t,n):"array-contains-any"===e?new Gu(t,n):new qu(t,e,n)}static createKeyFieldInFilter(t,e,n){return"in"===e?new ju(t,n):new zu(t,n)}matches(t){const e=t.data.field(this.field);return"!="===this.op?null!==e&&this.matchesComparison(gu(e,this.value)):null!==e&&fu(this.value)===fu(e)&&this.matchesComparison(gu(e,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return 0===t;case"!=":return 0!==t;case">":return t>0;case">=":return t>=0;default:return ph()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}getFirstInequalityField(){return this.isInequality()?this.field:null}}class Nu extends Cu{constructor(t,e){super(),this.filters=t,this.op=e,this.ht=null}static create(t,e){return new Nu(t,e)}matches(t){return Lu(this)?void 0===this.filters.find((e=>!e.matches(t))):void 0!==this.filters.find((e=>e.matches(t)))}getFlattenedFilters(){return null!==this.ht||(this.ht=this.filters.reduce(((t,e)=>t.concat(e.getFlattenedFilters())),[])),this.ht}getFilters(){return Object.assign([],this.filters)}getFirstInequalityField(){const t=this.lt((t=>t.isInequality()));return null!==t?t.field:null}lt(t){for(const e of this.getFlattenedFilters())if(t(e))return e;return null}}function Lu(t){return"and"===t.op}function Du(t){return Ou(t)&&Lu(t)}function Ou(t){for(const e of t.filters)if(e instanceof Nu)return!1;return!0}function Bu(t){if(t instanceof qu)return t.field.canonicalString()+t.op.toString()+yu(t.value);if(Du(t))return t.filters.map((t=>Bu(t))).join(",");{const e=t.filters.map((t=>Bu(t))).join(",");return`${t.op}(${e})`}}function Pu(t,e){return t instanceof qu?function(t,e){return e instanceof qu&&t.op===e.op&&t.field.isEqual(e.field)&&pu(t.value,e.value)}(t,e):t instanceof Nu?function(t,e){return e instanceof Nu&&t.op===e.op&&t.filters.length===e.filters.length&&t.filters.reduce(((t,n,i)=>t&&Pu(n,e.filters[i])),!0)}(t,e):void ph()}function Uu(t){return t instanceof qu?function(t){return`${t.field.canonicalString()} ${t.op} ${yu(t.value)}`}(t):t instanceof Nu?function(t){return t.op.toString()+" {"+t.getFilters().map(Uu).join(" ,")+"}"}(t):"Filter"}class Fu extends qu{constructor(t,e,n){super(t,e,n),this.key=Ph.fromName(n.referenceValue)}matches(t){const e=Ph.comparator(t.key,this.key);return this.matchesComparison(e)}}class ju extends qu{constructor(t,e){super(t,"in",e),this.keys=Vu("in",e)}matches(t){return this.keys.some((e=>e.isEqual(t.key)))}}class zu extends qu{constructor(t,e){super(t,"not-in",e),this.keys=Vu("not-in",e)}matches(t){return!this.keys.some((e=>e.isEqual(t.key)))}}function Vu(t,e){var n;return((null===(n=e.arrayValue)||void 0===n?void 0:n.values)||[]).map((t=>Ph.fromName(t.referenceValue)))}class Hu extends qu{constructor(t,e){super(t,"array-contains",e)}matches(t){const e=t.data.field(this.field);return Mu(e)&&mu(e.arrayValue,this.value)}}class Ku extends qu{constructor(t,e){super(t,"in",e)}matches(t){const e=t.data.field(this.field);return null!==e&&mu(this.value.arrayValue,e)}}class Wu extends qu{constructor(t,e){super(t,"not-in",e)}matches(t){if(mu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const e=t.data.field(this.field);return null!==e&&!mu(this.value.arrayValue,e)}}class Gu extends qu{constructor(t,e){super(t,"array-contains-any",e)}matches(t){const e=t.data.field(this.field);return!(!Mu(e)||!e.arrayValue.values)&&e.arrayValue.values.some((t=>mu(this.value.arrayValue,t)))}}
/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $u{constructor(t,e="asc"){this.field=t,this.dir=e}}function Qu(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xu{constructor(t,e){this.comparator=t,this.root=e||Yu.EMPTY}insert(t,e){return new Xu(this.comparator,this.root.insert(t,e,this.comparator).copy(null,null,Yu.BLACK,null,null))}remove(t){return new Xu(this.comparator,this.root.remove(t,this.comparator).copy(null,null,Yu.BLACK,null,null))}get(t){let e=this.root;for(;!e.isEmpty();){const n=this.comparator(t,e.key);if(0===n)return e.value;n<0?e=e.left:n>0&&(e=e.right)}return null}indexOf(t){let e=0,n=this.root;for(;!n.isEmpty();){const i=this.comparator(t,n.key);if(0===i)return e+n.left.size;i<0?n=n.left:(e+=n.left.size+1,n=n.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal(((e,n)=>(t(e,n),!1)))}toString(){const t=[];return this.inorderTraversal(((e,n)=>(t.push(`${e}:${n}`),!1))),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new Zu(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new Zu(this.root,t,this.comparator,!1)}getReverseIterator(){return new Zu(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new Zu(this.root,t,this.comparator,!0)}}class Zu{constructor(t,e,n,i){this.isReverse=i,this.nodeStack=[];let r=1;for(;!t.isEmpty();)if(r=e?n(t.key,e):1,e&&i&&(r*=-1),r<0)t=this.isReverse?t.left:t.right;else{if(0===r){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const e={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return e}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class Yu{constructor(t,e,n,i,r){this.key=t,this.value=e,this.color=null!=n?n:Yu.RED,this.left=null!=i?i:Yu.EMPTY,this.right=null!=r?r:Yu.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,e,n,i,r){return new Yu(null!=t?t:this.key,null!=e?e:this.value,null!=n?n:this.color,null!=i?i:this.left,null!=r?r:this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,e,n){let i=this;const r=n(t,i.key);return i=r<0?i.copy(null,null,null,i.left.insert(t,e,n),null):0===r?i.copy(null,e,null,null,null):i.copy(null,null,null,null,i.right.insert(t,e,n)),i.fixUp()}removeMin(){if(this.left.isEmpty())return Yu.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,e){let n,i=this;if(e(t,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(t,e),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===e(t,i.key)){if(i.right.isEmpty())return Yu.EMPTY;n=i.right.min(),i=i.copy(n.key,n.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(t,e))}return i.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,Yu.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,Yu.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),e=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,e)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw ph();if(this.right.isRed())throw ph();const t=this.left.check();if(t!==this.right.check())throw ph();return t+(this.isRed()?0:1)}}Yu.EMPTY=null,Yu.RED=!0,Yu.BLACK=!1,Yu.EMPTY=new class{constructor(){this.size=0}get key(){throw ph()}get value(){throw ph()}get color(){throw ph()}get left(){throw ph()}get right(){throw ph()}copy(t,e,n,i,r){return this}insert(t,e,n){return new Yu(t,e)}remove(t,e){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class Ju{constructor(t){this.comparator=t,this.data=new Xu(this.comparator)}has(t){return null!==this.data.get(t)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal(((e,n)=>(t(e),!1)))}forEachInRange(t,e){const n=this.data.getIteratorFrom(t[0]);for(;n.hasNext();){const i=n.getNext();if(this.comparator(i.key,t[1])>=0)return;e(i.key)}}forEachWhile(t,e){let n;for(n=void 0!==e?this.data.getIteratorFrom(e):this.data.getIterator();n.hasNext();)if(!t(n.getNext().key))return}firstAfterOrEqual(t){const e=this.data.getIteratorFrom(t);return e.hasNext()?e.getNext().key:null}getIterator(){return new tl(this.data.getIterator())}getIteratorFrom(t){return new tl(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let e=this;return e.size<t.size&&(e=t,t=this),t.forEach((t=>{e=e.add(t)})),e}isEqual(t){if(!(t instanceof Ju))return!1;if(this.size!==t.size)return!1;const e=this.data.getIterator(),n=t.data.getIterator();for(;e.hasNext();){const t=e.getNext().key,i=n.getNext().key;if(0!==this.comparator(t,i))return!1}return!0}toArray(){const t=[];return this.forEach((e=>{t.push(e)})),t}toString(){const t=[];return this.forEach((e=>t.push(e))),"SortedSet("+t.toString()+")"}copy(t){const e=new Ju(this.comparator);return e.data=t,e}}class tl{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class el{constructor(t){this.fields=t,t.sort(Bh.comparator)}static empty(){return new el([])}unionWith(t){let e=new Ju(Bh.comparator);for(const t of this.fields)e=e.add(t);for(const n of t)e=e.add(n);return new el(e.toArray())}covers(t){for(const e of this.fields)if(e.isPrefixOf(t))return!0;return!1}isEqual(t){return Ch(this.fields,t.fields,((t,e)=>t.isEqual(e)))}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nl{constructor(t){this.value=t}static empty(){return new nl({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let e=this.value;for(let n=0;n<t.length-1;++n)if(e=(e.mapValue.fields||{})[t.get(n)],!Eu(e))return null;return e=(e.mapValue.fields||{})[t.lastSegment()],e||null}}set(t,e){this.getFieldsMap(t.popLast())[t.lastSegment()]=xu(e)}setAll(t){let e=Bh.emptyPath(),n={},i=[];t.forEach(((t,r)=>{if(!e.isImmediateParentOf(r)){const t=this.getFieldsMap(e);this.applyChanges(t,n,i),n={},i=[],e=r.popLast()}t?n[r.lastSegment()]=xu(t):i.push(r.lastSegment())}));const r=this.getFieldsMap(e);this.applyChanges(r,n,i)}delete(t){const e=this.field(t.popLast());Eu(e)&&e.mapValue.fields&&delete e.mapValue.fields[t.lastSegment()]}isEqual(t){return pu(this.value,t.value)}getFieldsMap(t){let e=this.value;e.mapValue.fields||(e.mapValue={fields:{}});for(let n=0;n<t.length;++n){let i=e.mapValue.fields[t.get(n)];Eu(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},e.mapValue.fields[t.get(n)]=i),e=i}return e.mapValue.fields}applyChanges(t,e,n){Jh(e,((e,n)=>t[e]=n));for(const e of n)delete t[e]}clone(){return new nl(xu(this.value))}}function il(t){const e=[];return Jh(t.fields,((t,n)=>{const i=new Bh([t]);if(Eu(n)){const t=il(n.mapValue).fields;if(0===t.length)e.push(i);else for(const n of t)e.push(i.child(n))}else e.push(i)})),new el(e)
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */}class rl{constructor(t,e,n,i,r,s,o){this.key=t,this.documentType=e,this.version=n,this.readTime=i,this.createTime=r,this.data=s,this.documentState=o}static newInvalidDocument(t){return new rl(t,0,Nh.min(),Nh.min(),Nh.min(),nl.empty(),0)}static newFoundDocument(t,e,n,i){return new rl(t,1,e,Nh.min(),n,i,0)}static newNoDocument(t,e){return new rl(t,2,e,Nh.min(),Nh.min(),nl.empty(),0)}static newUnknownDocument(t,e){return new rl(t,3,e,Nh.min(),Nh.min(),nl.empty(),2)}convertToFoundDocument(t,e){return!this.createTime.isEqual(Nh.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=t),this.version=t,this.documentType=1,this.data=e,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=nl.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=nl.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Nh.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(t){return t instanceof rl&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new rl(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sl{constructor(t,e=null,n=[],i=[],r=null,s=null,o=null){this.path=t,this.collectionGroup=e,this.orderBy=n,this.filters=i,this.limit=r,this.startAt=s,this.endAt=o,this.ft=null}}function ol(t,e=null,n=[],i=[],r=null,s=null,o=null){return new sl(t,e,n,i,r,s,o)}function al(t){const e=gh(t);if(null===e.ft){let t=e.path.canonicalString();null!==e.collectionGroup&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map((t=>Bu(t))).join(","),t+="|ob:",t+=e.orderBy.map((t=>function(t){return t.field.canonicalString()+t.dir}(t))).join(","),eu(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map((t=>yu(t))).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map((t=>yu(t))).join(",")),e.ft=t}return e.ft}function hl(t,e){if(t.limit!==e.limit)return!1;if(t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!Qu(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!Pu(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!Ru(t.startAt,e.startAt)&&Ru(t.endAt,e.endAt)}function ul(t){return Ph.isDocumentKey(t.path)&&null===t.collectionGroup&&0===t.filters.length}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class ll{constructor(t,e=null,n=[],i=[],r=null,s="F",o=null,a=null){this.path=t,this.collectionGroup=e,this.explicitOrderBy=n,this.filters=i,this.limit=r,this.limitType=s,this.startAt=o,this.endAt=a,this.dt=null,this._t=null,this.startAt,this.endAt}}function cl(t,e,n,i,r,s,o,a){return new ll(t,e,n,i,r,s,o,a)}function dl(t){return new ll(t)}function fl(t){return 0===t.filters.length&&null===t.limit&&null==t.startAt&&null==t.endAt&&(0===t.explicitOrderBy.length||1===t.explicitOrderBy.length&&t.explicitOrderBy[0].field.isKeyField())}function pl(t){return t.explicitOrderBy.length>0?t.explicitOrderBy[0].field:null}function ml(t){for(const e of t.filters){const t=e.getFirstInequalityField();if(null!==t)return t}return null}function gl(t){return null!==t.collectionGroup}function vl(t){const e=gh(t);if(null===e.dt){e.dt=[];const t=ml(e),n=pl(e);if(null!==t&&null===n)t.isKeyField()||e.dt.push(new $u(t)),e.dt.push(new $u(Bh.keyField(),"asc"));else{let t=!1;for(const n of e.explicitOrderBy)e.dt.push(n),n.field.isKeyField()&&(t=!0);if(!t){const t=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.dt.push(new $u(Bh.keyField(),t))}}}return e.dt}function yl(t){const e=gh(t);if(!e._t)if("F"===e.limitType)e._t=ol(e.path,e.collectionGroup,vl(e),e.filters,e.limit,e.startAt,e.endAt);else{const t=[];for(const n of vl(e)){const e="desc"===n.dir?"asc":"desc";t.push(new $u(n.field,e))}const n=e.endAt?new Tu(e.endAt.position,e.endAt.inclusive):null,i=e.startAt?new Tu(e.startAt.position,e.startAt.inclusive):null;e._t=ol(e.path,e.collectionGroup,t,e.filters,e.limit,n,i)}return e._t}function bl(t,e){e.getFirstInequalityField(),ml(t);const n=t.filters.concat([e]);return new ll(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function wl(t,e,n){return new ll(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function _l(t,e){return hl(yl(t),yl(e))&&t.limitType===e.limitType}function Ml(t){return`${al(yl(t))}|lt:${t.limitType}`}function kl(t){return`Query(target=${function(t){let e=t.path.canonicalString();return null!==t.collectionGroup&&(e+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(e+=`, filters: [${t.filters.map((t=>Uu(t))).join(", ")}]`),eu(t.limit)||(e+=", limit: "+t.limit),t.orderBy.length>0&&(e+=`, orderBy: [${t.orderBy.map((t=>function(t){return`${t.field.canonicalString()} (${t.dir})`}(t))).join(", ")}]`),t.startAt&&(e+=", startAt: ",e+=t.startAt.inclusive?"b:":"a:",e+=t.startAt.position.map((t=>yu(t))).join(",")),t.endAt&&(e+=", endAt: ",e+=t.endAt.inclusive?"a:":"b:",e+=t.endAt.position.map((t=>yu(t))).join(",")),`Target(${e})`}(yl(t))}; limitType=${t.limitType})`}function Al(t,e){return e.isFoundDocument()&&function(t,e){const n=e.key.path;return null!==t.collectionGroup?e.key.hasCollectionId(t.collectionGroup)&&t.path.isPrefixOf(n):Ph.isDocumentKey(t.path)?t.path.isEqual(n):t.path.isImmediateParentOf(n)}(t,e)&&function(t,e){for(const n of vl(t))if(!n.field.isKeyField()&&null===e.data.field(n.field))return!1;return!0}(t,e)&&function(t,e){for(const n of t.filters)if(!n.matches(e))return!1;return!0}(t,e)&&function(t,e){return!(t.startAt&&!function(t,e,n){const i=Iu(t,e,n);return t.inclusive?i<=0:i<0}(t.startAt,vl(t),e))&&!(t.endAt&&!function(t,e,n){const i=Iu(t,e,n);return t.inclusive?i>=0:i>0}(t.endAt,vl(t),e))}(t,e)}function El(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function xl(t){return(e,n)=>{let i=!1;for(const r of vl(t)){const t=Sl(r,e,n);if(0!==t)return t;i=i||r.field.isKeyField()}return 0}}function Sl(t,e,n){const i=t.field.isKeyField()?Ph.comparator(e.key,n.key):function(t,e,n){const i=e.data.field(t),r=n.data.field(t);return null!==i&&null!==r?gu(i,r):ph()}(t.field,e,n);switch(t.dir){case"asc":return i;case"desc":return-1*i;default:return ph()}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tl(t,e){if(t.wt){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:nu(e)?"-0":e}}function Il(t){return{integerValue:""+t}}function Rl(t,e){return iu(e)?Il(e):Tl(t,e)}
/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cl{constructor(){this._=void 0}}function ql(t,e,n){return t instanceof Dl?function(t,e){const n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:t.seconds,nanos:t.nanoseconds}}}};return e&&(n.fields.__previous_value__=e),{mapValue:n}}(n,e):t instanceof Ol?Bl(t,e):t instanceof Pl?Ul(t,e):function(t,e){const n=Ll(t,e),i=jl(n)+jl(t.gt);return _u(n)&&_u(t.gt)?Il(i):Tl(t.yt,i)}(t,e)}function Nl(t,e,n){return t instanceof Ol?Bl(t,e):t instanceof Pl?Ul(t,e):n}function Ll(t,e){var n;return t instanceof Fl?_u(n=e)||function(t){return!!t&&"doubleValue"in t}(n)?e:{integerValue:0}:null}class Dl extends Cl{}class Ol extends Cl{constructor(t){super(),this.elements=t}}function Bl(t,e){const n=zl(e);for(const e of t.elements)n.some((t=>pu(t,e)))||n.push(e);return{arrayValue:{values:n}}}class Pl extends Cl{constructor(t){super(),this.elements=t}}function Ul(t,e){let n=zl(e);for(const e of t.elements)n=n.filter((t=>!pu(t,e)));return{arrayValue:{values:n}}}class Fl extends Cl{constructor(t,e){super(),this.yt=t,this.gt=e}}function jl(t){return au(t.integerValue||t.doubleValue)}function zl(t){return Mu(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vl{constructor(t,e){this.field=t,this.transform=e}}class Hl{constructor(t,e){this.version=t,this.transformResults=e}}class Kl{constructor(t,e){this.updateTime=t,this.exists=e}static none(){return new Kl}static exists(t){return new Kl(void 0,t)}static updateTime(t){return new Kl(t)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function Wl(t,e){return void 0!==t.updateTime?e.isFoundDocument()&&e.version.isEqual(t.updateTime):void 0===t.exists||t.exists===e.isFoundDocument()}class Gl{}function $l(t,e){if(!t.hasLocalMutations||e&&0===e.fields.length)return null;if(null===e)return t.isNoDocument()?new rc(t.key,Kl.none()):new Jl(t.key,t.data,Kl.none());{const n=t.data,i=nl.empty();let r=new Ju(Bh.comparator);for(let t of e.fields)if(!r.has(t)){let e=n.field(t);null===e&&t.length>1&&(t=t.popLast(),e=n.field(t)),null===e?i.delete(t):i.set(t,e),r=r.add(t)}return new tc(t.key,i,new el(r.toArray()),Kl.none())}}function Ql(t,e,n){t instanceof Jl?function(t,e,n){const i=t.value.clone(),r=nc(t.fieldTransforms,e,n.transformResults);i.setAll(r),e.convertToFoundDocument(n.version,i).setHasCommittedMutations()}(t,e,n):t instanceof tc?function(t,e,n){if(!Wl(t.precondition,e))return void e.convertToUnknownDocument(n.version);const i=nc(t.fieldTransforms,e,n.transformResults),r=e.data;r.setAll(ec(t)),r.setAll(i),e.convertToFoundDocument(n.version,r).setHasCommittedMutations()}(t,e,n):function(t,e,n){e.convertToNoDocument(n.version).setHasCommittedMutations()}(0,e,n)}function Xl(t,e,n,i){return t instanceof Jl?function(t,e,n,i){if(!Wl(t.precondition,e))return n;const r=t.value.clone(),s=ic(t.fieldTransforms,i,e);return r.setAll(s),e.convertToFoundDocument(e.version,r).setHasLocalMutations(),null}(t,e,n,i):t instanceof tc?function(t,e,n,i){if(!Wl(t.precondition,e))return n;const r=ic(t.fieldTransforms,i,e),s=e.data;return s.setAll(ec(t)),s.setAll(r),e.convertToFoundDocument(e.version,s).setHasLocalMutations(),null===n?null:n.unionWith(t.fieldMask.fields).unionWith(t.fieldTransforms.map((t=>t.field)))}(t,e,n,i):function(t,e,n){return Wl(t.precondition,e)?(e.convertToNoDocument(e.version).setHasLocalMutations(),null):n}(t,e,n)}function Zl(t,e){let n=null;for(const i of t.fieldTransforms){const t=e.data.field(i.field),r=Ll(i.transform,t||null);null!=r&&(null===n&&(n=nl.empty()),n.set(i.field,r))}return n||null}function Yl(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(t,e){return void 0===t&&void 0===e||!(!t||!e)&&Ch(t,e,((t,e)=>function(t,e){return t.field.isEqual(e.field)&&function(t,e){return t instanceof Ol&&e instanceof Ol||t instanceof Pl&&e instanceof Pl?Ch(t.elements,e.elements,pu):t instanceof Fl&&e instanceof Fl?pu(t.gt,e.gt):t instanceof Dl&&e instanceof Dl}(t.transform,e.transform)}(t,e)))}(t.fieldTransforms,e.fieldTransforms)&&(0===t.type?t.value.isEqual(e.value):1!==t.type||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Jl extends Gl{constructor(t,e,n,i=[]){super(),this.key=t,this.value=e,this.precondition=n,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class tc extends Gl{constructor(t,e,n,i,r=[]){super(),this.key=t,this.data=e,this.fieldMask=n,this.precondition=i,this.fieldTransforms=r,this.type=1}getFieldMask(){return this.fieldMask}}function ec(t){const e=new Map;return t.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const i=t.data.field(n);e.set(n,i)}})),e}function nc(t,e,n){const i=new Map;mh(t.length===n.length);for(let r=0;r<n.length;r++){const s=t[r],o=s.transform,a=e.data.field(s.field);i.set(s.field,Nl(o,a,n[r]))}return i}function ic(t,e,n){const i=new Map;for(const r of t){const t=r.transform,s=n.data.field(r.field);i.set(r.field,ql(t,s,e))}return i}class rc extends Gl{constructor(t,e){super(),this.key=t,this.precondition=e,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class sc extends Gl{constructor(t,e){super(),this.key=t,this.precondition=e,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oc{constructor(t){this.count=t}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ac,hc;function uc(t){switch(t){default:return ph();case vh.CANCELLED:case vh.UNKNOWN:case vh.DEADLINE_EXCEEDED:case vh.RESOURCE_EXHAUSTED:case vh.INTERNAL:case vh.UNAVAILABLE:case vh.UNAUTHENTICATED:return!1;case vh.INVALID_ARGUMENT:case vh.NOT_FOUND:case vh.ALREADY_EXISTS:case vh.PERMISSION_DENIED:case vh.FAILED_PRECONDITION:case vh.ABORTED:case vh.OUT_OF_RANGE:case vh.UNIMPLEMENTED:case vh.DATA_LOSS:return!0}}function lc(t){if(void 0===t)return ch("GRPC error has no .code"),vh.UNKNOWN;switch(t){case ac.OK:return vh.OK;case ac.CANCELLED:return vh.CANCELLED;case ac.UNKNOWN:return vh.UNKNOWN;case ac.DEADLINE_EXCEEDED:return vh.DEADLINE_EXCEEDED;case ac.RESOURCE_EXHAUSTED:return vh.RESOURCE_EXHAUSTED;case ac.INTERNAL:return vh.INTERNAL;case ac.UNAVAILABLE:return vh.UNAVAILABLE;case ac.UNAUTHENTICATED:return vh.UNAUTHENTICATED;case ac.INVALID_ARGUMENT:return vh.INVALID_ARGUMENT;case ac.NOT_FOUND:return vh.NOT_FOUND;case ac.ALREADY_EXISTS:return vh.ALREADY_EXISTS;case ac.PERMISSION_DENIED:return vh.PERMISSION_DENIED;case ac.FAILED_PRECONDITION:return vh.FAILED_PRECONDITION;case ac.ABORTED:return vh.ABORTED;case ac.OUT_OF_RANGE:return vh.OUT_OF_RANGE;case ac.UNIMPLEMENTED:return vh.UNIMPLEMENTED;case ac.DATA_LOSS:return vh.DATA_LOSS;default:return ph()}}(hc=ac||(ac={}))[hc.OK=0]="OK",hc[hc.CANCELLED=1]="CANCELLED",hc[hc.UNKNOWN=2]="UNKNOWN",hc[hc.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",hc[hc.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",hc[hc.NOT_FOUND=5]="NOT_FOUND",hc[hc.ALREADY_EXISTS=6]="ALREADY_EXISTS",hc[hc.PERMISSION_DENIED=7]="PERMISSION_DENIED",hc[hc.UNAUTHENTICATED=16]="UNAUTHENTICATED",hc[hc.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",hc[hc.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",hc[hc.ABORTED=10]="ABORTED",hc[hc.OUT_OF_RANGE=11]="OUT_OF_RANGE",hc[hc.UNIMPLEMENTED=12]="UNIMPLEMENTED",hc[hc.INTERNAL=13]="INTERNAL",hc[hc.UNAVAILABLE=14]="UNAVAILABLE",hc[hc.DATA_LOSS=15]="DATA_LOSS";
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class cc{constructor(t,e){this.mapKeyFn=t,this.equalsFn=e,this.inner={},this.innerSize=0}get(t){const e=this.mapKeyFn(t),n=this.inner[e];if(void 0!==n)for(const[e,i]of n)if(this.equalsFn(e,t))return i}has(t){return void 0!==this.get(t)}set(t,e){const n=this.mapKeyFn(t),i=this.inner[n];if(void 0===i)return this.inner[n]=[[t,e]],void this.innerSize++;for(let n=0;n<i.length;n++)if(this.equalsFn(i[n][0],t))return void(i[n]=[t,e]);i.push([t,e]),this.innerSize++}delete(t){const e=this.mapKeyFn(t),n=this.inner[e];if(void 0===n)return!1;for(let i=0;i<n.length;i++)if(this.equalsFn(n[i][0],t))return 1===n.length?delete this.inner[e]:n.splice(i,1),this.innerSize--,!0;return!1}forEach(t){Jh(this.inner,((e,n)=>{for(const[e,i]of n)t(e,i)}))}isEmpty(){return tu(this.inner)}size(){return this.innerSize}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dc=new Xu(Ph.comparator);function fc(){return dc}const pc=new Xu(Ph.comparator);function mc(...t){let e=pc;for(const n of t)e=e.insert(n.key,n);return e}function gc(t){let e=pc;return t.forEach(((t,n)=>e=e.insert(t,n.overlayedDocument))),e}function vc(){return bc()}function yc(){return bc()}function bc(){return new cc((t=>t.toString()),((t,e)=>t.isEqual(e)))}const wc=new Xu(Ph.comparator),_c=new Ju(Ph.comparator);function Mc(...t){let e=_c;for(const n of t)e=e.add(n);return e}const kc=new Ju(Rh);function Ac(){return kc}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ec{constructor(t,e,n,i,r){this.snapshotVersion=t,this.targetChanges=e,this.targetMismatches=n,this.documentUpdates=i,this.resolvedLimboDocuments=r}static createSynthesizedRemoteEventForCurrentChange(t,e,n){const i=new Map;return i.set(t,xc.createSynthesizedTargetChangeForCurrentChange(t,e,n)),new Ec(Nh.min(),i,Ac(),fc(),Mc())}}class xc{constructor(t,e,n,i,r){this.resumeToken=t,this.current=e,this.addedDocuments=n,this.modifiedDocuments=i,this.removedDocuments=r}static createSynthesizedTargetChangeForCurrentChange(t,e,n){return new xc(n,e,Mc(),Mc(),Mc())}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sc{constructor(t,e,n,i){this.It=t,this.removedTargetIds=e,this.key=n,this.Tt=i}}class Tc{constructor(t,e){this.targetId=t,this.Et=e}}class Ic{constructor(t,e,n=ru.EMPTY_BYTE_STRING,i=null){this.state=t,this.targetIds=e,this.resumeToken=n,this.cause=i}}class Rc{constructor(){this.At=0,this.Rt=Nc(),this.bt=ru.EMPTY_BYTE_STRING,this.Pt=!1,this.vt=!0}get current(){return this.Pt}get resumeToken(){return this.bt}get Vt(){return 0!==this.At}get St(){return this.vt}Dt(t){t.approximateByteSize()>0&&(this.vt=!0,this.bt=t)}Ct(){let t=Mc(),e=Mc(),n=Mc();return this.Rt.forEach(((i,r)=>{switch(r){case 0:t=t.add(i);break;case 2:e=e.add(i);break;case 1:n=n.add(i);break;default:ph()}})),new xc(this.bt,this.Pt,t,e,n)}xt(){this.vt=!1,this.Rt=Nc()}Nt(t,e){this.vt=!0,this.Rt=this.Rt.insert(t,e)}kt(t){this.vt=!0,this.Rt=this.Rt.remove(t)}Ot(){this.At+=1}Mt(){this.At-=1}Ft(){this.vt=!0,this.Pt=!0}}class Cc{constructor(t){this.$t=t,this.Bt=new Map,this.Lt=fc(),this.qt=qc(),this.Ut=new Ju(Rh)}Kt(t){for(const e of t.It)t.Tt&&t.Tt.isFoundDocument()?this.Gt(e,t.Tt):this.Qt(e,t.key,t.Tt);for(const e of t.removedTargetIds)this.Qt(e,t.key,t.Tt)}jt(t){this.forEachTarget(t,(e=>{const n=this.Wt(e);switch(t.state){case 0:this.zt(e)&&n.Dt(t.resumeToken);break;case 1:n.Mt(),n.Vt||n.xt(),n.Dt(t.resumeToken);break;case 2:n.Mt(),n.Vt||this.removeTarget(e);break;case 3:this.zt(e)&&(n.Ft(),n.Dt(t.resumeToken));break;case 4:this.zt(e)&&(this.Ht(e),n.Dt(t.resumeToken));break;default:ph()}}))}forEachTarget(t,e){t.targetIds.length>0?t.targetIds.forEach(e):this.Bt.forEach(((t,n)=>{this.zt(n)&&e(n)}))}Jt(t){const e=t.targetId,n=t.Et.count,i=this.Yt(e);if(i){const t=i.target;if(ul(t))if(0===n){const n=new Ph(t.path);this.Qt(e,n,rl.newNoDocument(n,Nh.min()))}else mh(1===n);else this.Xt(e)!==n&&(this.Ht(e),this.Ut=this.Ut.add(e))}}Zt(t){const e=new Map;this.Bt.forEach(((n,i)=>{const r=this.Yt(i);if(r){if(n.current&&ul(r.target)){const e=new Ph(r.target.path);null!==this.Lt.get(e)||this.te(i,e)||this.Qt(i,e,rl.newNoDocument(e,t))}n.St&&(e.set(i,n.Ct()),n.xt())}}));let n=Mc();this.qt.forEach(((t,e)=>{let i=!0;e.forEachWhile((t=>{const e=this.Yt(t);return!e||2===e.purpose||(i=!1,!1)})),i&&(n=n.add(t))})),this.Lt.forEach(((e,n)=>n.setReadTime(t)));const i=new Ec(t,e,this.Ut,this.Lt,n);return this.Lt=fc(),this.qt=qc(),this.Ut=new Ju(Rh),i}Gt(t,e){if(!this.zt(t))return;const n=this.te(t,e.key)?2:0;this.Wt(t).Nt(e.key,n),this.Lt=this.Lt.insert(e.key,e),this.qt=this.qt.insert(e.key,this.ee(e.key).add(t))}Qt(t,e,n){if(!this.zt(t))return;const i=this.Wt(t);this.te(t,e)?i.Nt(e,1):i.kt(e),this.qt=this.qt.insert(e,this.ee(e).delete(t)),n&&(this.Lt=this.Lt.insert(e,n))}removeTarget(t){this.Bt.delete(t)}Xt(t){const e=this.Wt(t).Ct();return this.$t.getRemoteKeysForTarget(t).size+e.addedDocuments.size-e.removedDocuments.size}Ot(t){this.Wt(t).Ot()}Wt(t){let e=this.Bt.get(t);return e||(e=new Rc,this.Bt.set(t,e)),e}ee(t){let e=this.qt.get(t);return e||(e=new Ju(Rh),this.qt=this.qt.insert(t,e)),e}zt(t){const e=null!==this.Yt(t);return e||lh("WatchChangeAggregator","Detected inactive target",t),e}Yt(t){const e=this.Bt.get(t);return e&&e.Vt?null:this.$t.ne(t)}Ht(t){this.Bt.set(t,new Rc),this.$t.getRemoteKeysForTarget(t).forEach((e=>{this.Qt(t,e,null)}))}te(t,e){return this.$t.getRemoteKeysForTarget(t).has(e)}}function qc(){return new Xu(Ph.comparator)}function Nc(){return new Xu(Ph.comparator)}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lc={asc:"ASCENDING",desc:"DESCENDING"},Dc={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Oc={and:"AND",or:"OR"};class Bc{constructor(t,e){this.databaseId=t,this.wt=e}}function Pc(t,e){return t.wt?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function Uc(t,e){return t.wt?e.toBase64():e.toUint8Array()}function Fc(t,e){return Pc(t,e.toTimestamp())}function jc(t){return mh(!!t),Nh.fromTimestamp(function(t){const e=ou(t);return new qh(e.seconds,e.nanos)}(t))}function zc(t,e){return function(t){return new Dh(["projects",t.projectId,"databases",t.database])}(t).child("documents").child(e).canonicalString()}function Vc(t){const e=Dh.fromString(t);return mh(ud(e)),e}function Hc(t,e){return zc(t.databaseId,e.path)}function Kc(t,e){const n=Vc(e);if(n.get(1)!==t.databaseId.projectId)throw new yh(vh.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new yh(vh.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new Ph(Qc(n))}function Wc(t,e){return zc(t.databaseId,e)}function Gc(t){const e=Vc(t);return 4===e.length?Dh.emptyPath():Qc(e)}function $c(t){return new Dh(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function Qc(t){return mh(t.length>4&&"documents"===t.get(4)),t.popFirst(5)}function Xc(t,e,n){return{name:Hc(t,e),fields:n.value.mapValue.fields}}function Zc(t,e){let n;if(e instanceof Jl)n={update:Xc(t,e.key,e.value)};else if(e instanceof rc)n={delete:Hc(t,e.key)};else if(e instanceof tc)n={update:Xc(t,e.key,e.data),updateMask:hd(e.fieldMask)};else{if(!(e instanceof sc))return ph();n={verify:Hc(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((t=>function(t,e){const n=e.transform;if(n instanceof Dl)return{fieldPath:e.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof Ol)return{fieldPath:e.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof Pl)return{fieldPath:e.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof Fl)return{fieldPath:e.field.canonicalString(),increment:n.gt};throw ph()}(0,t)))),e.precondition.isNone||(n.currentDocument=function(t,e){return void 0!==e.updateTime?{updateTime:Fc(t,e.updateTime)}:void 0!==e.exists?{exists:e.exists}:ph()}(t,e.precondition)),n}function Yc(t,e){return{documents:[Wc(t,e.path)]}}function Jc(t,e){const n={structuredQuery:{}},i=e.path;null!==e.collectionGroup?(n.parent=Wc(t,i),n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(n.parent=Wc(t,i.popLast()),n.structuredQuery.from=[{collectionId:i.lastSegment()}]);const r=function(t){if(0!==t.length)return ad(Nu.create(t,"and"))}(e.filters);r&&(n.structuredQuery.where=r);const s=function(t){if(0!==t.length)return t.map((t=>function(t){return{field:sd(t.field),direction:nd(t.dir)}}(t)))}(e.orderBy);s&&(n.structuredQuery.orderBy=s);const o=function(t,e){return t.wt||eu(e)?e:{value:e}}(t,e.limit);var a;return null!==o&&(n.structuredQuery.limit=o),e.startAt&&(n.structuredQuery.startAt={before:(a=e.startAt).inclusive,values:a.position}),e.endAt&&(n.structuredQuery.endAt=function(t){return{before:!t.inclusive,values:t.position}}(e.endAt)),n}function td(t){let e=Gc(t.parent);const n=t.structuredQuery,i=n.from?n.from.length:0;let r=null;if(i>0){mh(1===i);const t=n.from[0];t.allDescendants?r=t.collectionId:e=e.child(t.collectionId)}let s=[];n.where&&(s=function(t){const e=ed(t);return e instanceof Nu&&Du(e)?e.getFilters():[e]}(n.where));let o=[];n.orderBy&&(o=n.orderBy.map((t=>function(t){return new $u(od(t.field),function(t){switch(t){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(t.direction))}(t))));let a=null;n.limit&&(a=function(t){let e;return e="object"==typeof t?t.value:t,eu(e)?null:e}(n.limit));let h=null;n.startAt&&(h=function(t){const e=!!t.before,n=t.values||[];return new Tu(n,e)}(n.startAt));let u=null;return n.endAt&&(u=function(t){const e=!t.before,n=t.values||[];return new Tu(n,e)}(n.endAt)),cl(e,r,o,s,a,"F",h,u)}function ed(t){return void 0!==t.unaryFilter?function(t){switch(t.unaryFilter.op){case"IS_NAN":const e=od(t.unaryFilter.field);return qu.create(e,"==",{doubleValue:NaN});case"IS_NULL":const n=od(t.unaryFilter.field);return qu.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=od(t.unaryFilter.field);return qu.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const r=od(t.unaryFilter.field);return qu.create(r,"!=",{nullValue:"NULL_VALUE"});default:return ph()}}(t):void 0!==t.fieldFilter?function(t){return qu.create(od(t.fieldFilter.field),function(t){switch(t){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return ph()}}(t.fieldFilter.op),t.fieldFilter.value)}(t):void 0!==t.compositeFilter?function(t){return Nu.create(t.compositeFilter.filters.map((t=>ed(t))),function(t){switch(t){case"AND":return"and";case"OR":return"or";default:return ph()}}(t.compositeFilter.op))}(t):ph()}function nd(t){return Lc[t]}function id(t){return Dc[t]}function rd(t){return Oc[t]}function sd(t){return{fieldPath:t.canonicalString()}}function od(t){return Bh.fromServerFormat(t.fieldPath)}function ad(t){return t instanceof qu?function(t){if("=="===t.op){if(Au(t.value))return{unaryFilter:{field:sd(t.field),op:"IS_NAN"}};if(ku(t.value))return{unaryFilter:{field:sd(t.field),op:"IS_NULL"}}}else if("!="===t.op){if(Au(t.value))return{unaryFilter:{field:sd(t.field),op:"IS_NOT_NAN"}};if(ku(t.value))return{unaryFilter:{field:sd(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:sd(t.field),op:id(t.op),value:t.value}}}(t):t instanceof Nu?function(t){const e=t.getFilters().map((t=>ad(t)));return 1===e.length?e[0]:{compositeFilter:{op:rd(t.op),filters:e}}}(t):ph()}function hd(t){const e=[];return t.fields.forEach((t=>e.push(t.canonicalString()))),{fieldPaths:e}}function ud(t){return t.length>=4&&"projects"===t.get(0)&&"databases"===t.get(2)}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ld=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],cd=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],dd=cd;
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class fd{constructor(t,e,n,i){this.batchId=t,this.localWriteTime=e,this.baseMutations=n,this.mutations=i}applyToRemoteDocument(t,e){const n=e.mutationResults;for(let e=0;e<this.mutations.length;e++){const i=this.mutations[e];i.key.isEqual(t.key)&&Ql(i,t,n[e])}}applyToLocalView(t,e){for(const n of this.baseMutations)n.key.isEqual(t.key)&&(e=Xl(n,t,e,this.localWriteTime));for(const n of this.mutations)n.key.isEqual(t.key)&&(e=Xl(n,t,e,this.localWriteTime));return e}applyToLocalDocumentSet(t,e){const n=yc();return this.mutations.forEach((i=>{const r=t.get(i.key),s=r.overlayedDocument;let o=this.applyToLocalView(s,r.mutatedFields);o=e.has(i.key)?null:o;const a=$l(s,o);null!==a&&n.set(i.key,a),s.isValidDocument()||s.convertToNoDocument(Nh.min())})),n}keys(){return this.mutations.reduce(((t,e)=>t.add(e.key)),Mc())}isEqual(t){return this.batchId===t.batchId&&Ch(this.mutations,t.mutations,((t,e)=>Yl(t,e)))&&Ch(this.baseMutations,t.baseMutations,((t,e)=>Yl(t,e)))}}class pd{constructor(t,e,n,i){this.batch=t,this.commitVersion=e,this.mutationResults=n,this.docVersions=i}static from(t,e,n){mh(t.mutations.length===n.length);let i=wc;const r=t.mutations;for(let t=0;t<r.length;t++)i=i.insert(r[t].key,n[t].version);return new pd(t,e,n,i)}}
/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class md{constructor(t,e){this.largestBatchId=t,this.mutation=e}getKey(){return this.mutation.key}isEqual(t){return null!==t&&this.mutation===t.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gd{constructor(t,e,n,i,r=Nh.min(),s=Nh.min(),o=ru.EMPTY_BYTE_STRING){this.target=t,this.targetId=e,this.purpose=n,this.sequenceNumber=i,this.snapshotVersion=r,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=o}withSequenceNumber(t){return new gd(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}withResumeToken(t,e){return new gd(this.target,this.targetId,this.purpose,this.sequenceNumber,e,this.lastLimboFreeSnapshotVersion,t)}withLastLimboFreeSnapshotVersion(t){return new gd(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken)}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vd{constructor(t){this.ie=t}}function yd(t){const e=td({parent:t.parent,structuredQuery:t.structuredQuery});return"LAST"===t.limitType?wl(e,e.limit,"L"):e}
/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bd{constructor(){}ue(t,e){this.ce(t,e),e.ae()}ce(t,e){if("nullValue"in t)this.he(e,5);else if("booleanValue"in t)this.he(e,10),e.le(t.booleanValue?1:0);else if("integerValue"in t)this.he(e,15),e.le(au(t.integerValue));else if("doubleValue"in t){const n=au(t.doubleValue);isNaN(n)?this.he(e,13):(this.he(e,15),nu(n)?e.le(0):e.le(n))}else if("timestampValue"in t){const n=t.timestampValue;this.he(e,20),"string"==typeof n?e.fe(n):(e.fe(`${n.seconds||""}`),e.le(n.nanos||0))}else if("stringValue"in t)this.de(t.stringValue,e),this._e(e);else if("bytesValue"in t)this.he(e,30),e.we(hu(t.bytesValue)),this._e(e);else if("referenceValue"in t)this.me(t.referenceValue,e);else if("geoPointValue"in t){const n=t.geoPointValue;this.he(e,45),e.le(n.latitude||0),e.le(n.longitude||0)}else"mapValue"in t?Su(t)?this.he(e,Number.MAX_SAFE_INTEGER):(this.ge(t.mapValue,e),this._e(e)):"arrayValue"in t?(this.ye(t.arrayValue,e),this._e(e)):ph()}de(t,e){this.he(e,25),this.pe(t,e)}pe(t,e){e.fe(t)}ge(t,e){const n=t.fields||{};this.he(e,55);for(const t of Object.keys(n))this.de(t,e),this.ce(n[t],e)}ye(t,e){const n=t.values||[];this.he(e,50);for(const t of n)this.ce(t,e)}me(t,e){this.he(e,37),Ph.fromName(t).path.forEach((t=>{this.he(e,60),this.pe(t,e)}))}he(t,e){t.le(e)}_e(t){t.le(2)}}bd.Ie=new bd;
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class wd{constructor(){this.Je=new _d}addToCollectionParentIndex(t,e){return this.Je.add(e),Gh.resolve()}getCollectionParents(t,e){return Gh.resolve(this.Je.getEntries(e))}addFieldIndex(t,e){return Gh.resolve()}deleteFieldIndex(t,e){return Gh.resolve()}getDocumentsMatchingTarget(t,e){return Gh.resolve(null)}getIndexType(t,e){return Gh.resolve(0)}getFieldIndexes(t,e){return Gh.resolve([])}getNextCollectionGroupToUpdate(t){return Gh.resolve(null)}getMinOffset(t,e){return Gh.resolve(zh.min())}getMinOffsetFromCollectionGroup(t,e){return Gh.resolve(zh.min())}updateCollectionGroup(t,e,n){return Gh.resolve()}updateIndexEntries(t,e){return Gh.resolve()}}class _d{constructor(){this.index={}}add(t){const e=t.lastSegment(),n=t.popLast(),i=this.index[e]||new Ju(Dh.comparator),r=!i.has(n);return this.index[e]=i.add(n),r}has(t){const e=t.lastSegment(),n=t.popLast(),i=this.index[e];return i&&i.has(n)}getEntries(t){return(this.index[t]||new Ju(Dh.comparator)).toArray()}}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */new Uint8Array(0);class Md{constructor(t,e,n){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=e,this.maximumSequenceNumbersToCollect=n}static withCacheSize(t){return new Md(t,Md.DEFAULT_COLLECTION_PERCENTILE,Md.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Md.DEFAULT_COLLECTION_PERCENTILE=10,Md.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Md.DEFAULT=new Md(41943040,Md.DEFAULT_COLLECTION_PERCENTILE,Md.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Md.DISABLED=new Md(-1,0,0);
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class kd{constructor(t){this.bn=t}next(){return this.bn+=2,this.bn}static Pn(){return new kd(0)}static vn(){return new kd(-1)}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class Ad{constructor(){this.changes=new cc((t=>t.toString()),((t,e)=>t.isEqual(e))),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,e){this.assertNotApplied(),this.changes.set(t,rl.newInvalidDocument(t).setReadTime(e))}getEntry(t,e){this.assertNotApplied();const n=this.changes.get(e);return void 0!==n?Gh.resolve(n):this.getFromCache(t,e)}getEntries(t,e){return this.getAllFromCache(t,e)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class Ed{constructor(t,e){this.overlayedDocument=t,this.mutatedFields=e}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xd{constructor(t,e,n,i){this.remoteDocumentCache=t,this.mutationQueue=e,this.documentOverlayCache=n,this.indexManager=i}getDocument(t,e){let n=null;return this.documentOverlayCache.getOverlay(t,e).next((i=>(n=i,this.remoteDocumentCache.getEntry(t,e)))).next((t=>(null!==n&&Xl(n.mutation,t,el.empty(),qh.now()),t)))}getDocuments(t,e){return this.remoteDocumentCache.getEntries(t,e).next((e=>this.getLocalViewOfDocuments(t,e,Mc()).next((()=>e))))}getLocalViewOfDocuments(t,e,n=Mc()){const i=vc();return this.populateOverlays(t,i,e).next((()=>this.computeViews(t,e,i,n).next((t=>{let e=mc();return t.forEach(((t,n)=>{e=e.insert(t,n.overlayedDocument)})),e}))))}getOverlayedDocuments(t,e){const n=vc();return this.populateOverlays(t,n,e).next((()=>this.computeViews(t,e,n,Mc())))}populateOverlays(t,e,n){const i=[];return n.forEach((t=>{e.has(t)||i.push(t)})),this.documentOverlayCache.getOverlays(t,i).next((t=>{t.forEach(((t,n)=>{e.set(t,n)}))}))}computeViews(t,e,n,i){let r=fc();const s=bc(),o=bc();return e.forEach(((t,e)=>{const o=n.get(e.key);i.has(e.key)&&(void 0===o||o.mutation instanceof tc)?r=r.insert(e.key,e):void 0!==o?(s.set(e.key,o.mutation.getFieldMask()),Xl(o.mutation,e,o.mutation.getFieldMask(),qh.now())):s.set(e.key,el.empty())})),this.recalculateAndSaveOverlays(t,r).next((t=>(t.forEach(((t,e)=>s.set(t,e))),e.forEach(((t,e)=>{var n;return o.set(t,new Ed(e,null!==(n=s.get(t))&&void 0!==n?n:null))})),o)))}recalculateAndSaveOverlays(t,e){const n=bc();let i=new Xu(((t,e)=>t-e)),r=Mc();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,e).next((t=>{for(const r of t)r.keys().forEach((t=>{const s=e.get(t);if(null===s)return;let o=n.get(t)||el.empty();o=r.applyToLocalView(s,o),n.set(t,o);const a=(i.get(r.batchId)||Mc()).add(t);i=i.insert(r.batchId,a)}))})).next((()=>{const s=[],o=i.getReverseIterator();for(;o.hasNext();){const i=o.getNext(),a=i.key,h=i.value,u=yc();h.forEach((t=>{if(!r.has(t)){const i=$l(e.get(t),n.get(t));null!==i&&u.set(t,i),r=r.add(t)}})),s.push(this.documentOverlayCache.saveOverlays(t,a,u))}return Gh.waitFor(s)})).next((()=>n))}recalculateAndSaveOverlaysForDocumentKeys(t,e){return this.remoteDocumentCache.getEntries(t,e).next((e=>this.recalculateAndSaveOverlays(t,e)))}getDocumentsMatchingQuery(t,e,n){return function(t){return Ph.isDocumentKey(t.path)&&null===t.collectionGroup&&0===t.filters.length}(e)?this.getDocumentsMatchingDocumentQuery(t,e.path):gl(e)?this.getDocumentsMatchingCollectionGroupQuery(t,e,n):this.getDocumentsMatchingCollectionQuery(t,e,n)}getNextDocuments(t,e,n,i){return this.remoteDocumentCache.getAllFromCollectionGroup(t,e,n,i).next((r=>{const s=i-r.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,e,n.largestBatchId,i-r.size):Gh.resolve(vc());let o=-1,a=r;return s.next((e=>Gh.forEach(e,((e,n)=>(o<n.largestBatchId&&(o=n.largestBatchId),r.get(e)?Gh.resolve():this.remoteDocumentCache.getEntry(t,e).next((t=>{a=a.insert(e,t)}))))).next((()=>this.populateOverlays(t,e,r))).next((()=>this.computeViews(t,a,e,Mc()))).next((t=>({batchId:o,changes:gc(t)})))))}))}getDocumentsMatchingDocumentQuery(t,e){return this.getDocument(t,new Ph(e)).next((t=>{let e=mc();return t.isFoundDocument()&&(e=e.insert(t.key,t)),e}))}getDocumentsMatchingCollectionGroupQuery(t,e,n){const i=e.collectionGroup;let r=mc();return this.indexManager.getCollectionParents(t,i).next((s=>Gh.forEach(s,(s=>{const o=function(t,e){return new ll(e,null,t.explicitOrderBy.slice(),t.filters.slice(),t.limit,t.limitType,t.startAt,t.endAt)}(e,s.child(i));return this.getDocumentsMatchingCollectionQuery(t,o,n).next((t=>{t.forEach(((t,e)=>{r=r.insert(t,e)}))}))})).next((()=>r))))}getDocumentsMatchingCollectionQuery(t,e,n){let i;return this.documentOverlayCache.getOverlaysForCollection(t,e.path,n.largestBatchId).next((r=>(i=r,this.remoteDocumentCache.getDocumentsMatchingQuery(t,e,n,i)))).next((t=>{i.forEach(((e,n)=>{const i=n.getKey();null===t.get(i)&&(t=t.insert(i,rl.newInvalidDocument(i)))}));let n=mc();return t.forEach(((t,r)=>{const s=i.get(t);void 0!==s&&Xl(s.mutation,r,el.empty(),qh.now()),Al(e,r)&&(n=n.insert(t,r))})),n}))}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sd{constructor(t){this.yt=t,this.Zn=new Map,this.ts=new Map}getBundleMetadata(t,e){return Gh.resolve(this.Zn.get(e))}saveBundleMetadata(t,e){var n;return this.Zn.set(e.id,{id:(n=e).id,version:n.version,createTime:jc(n.createTime)}),Gh.resolve()}getNamedQuery(t,e){return Gh.resolve(this.ts.get(e))}saveNamedQuery(t,e){return this.ts.set(e.name,function(t){return{name:t.name,query:yd(t.bundledQuery),readTime:jc(t.readTime)}}(e)),Gh.resolve()}}
/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Td{constructor(){this.overlays=new Xu(Ph.comparator),this.es=new Map}getOverlay(t,e){return Gh.resolve(this.overlays.get(e))}getOverlays(t,e){const n=vc();return Gh.forEach(e,(e=>this.getOverlay(t,e).next((t=>{null!==t&&n.set(e,t)})))).next((()=>n))}saveOverlays(t,e,n){return n.forEach(((n,i)=>{this.oe(t,e,i)})),Gh.resolve()}removeOverlaysForBatchId(t,e,n){const i=this.es.get(n);return void 0!==i&&(i.forEach((t=>this.overlays=this.overlays.remove(t))),this.es.delete(n)),Gh.resolve()}getOverlaysForCollection(t,e,n){const i=vc(),r=e.length+1,s=new Ph(e.child("")),o=this.overlays.getIteratorFrom(s);for(;o.hasNext();){const t=o.getNext().value,s=t.getKey();if(!e.isPrefixOf(s.path))break;s.path.length===r&&t.largestBatchId>n&&i.set(t.getKey(),t)}return Gh.resolve(i)}getOverlaysForCollectionGroup(t,e,n,i){let r=new Xu(((t,e)=>t-e));const s=this.overlays.getIterator();for(;s.hasNext();){const t=s.getNext().value;if(t.getKey().getCollectionGroup()===e&&t.largestBatchId>n){let e=r.get(t.largestBatchId);null===e&&(e=vc(),r=r.insert(t.largestBatchId,e)),e.set(t.getKey(),t)}}const o=vc(),a=r.getIterator();for(;a.hasNext()&&(a.getNext().value.forEach(((t,e)=>o.set(t,e))),!(o.size()>=i)););return Gh.resolve(o)}oe(t,e,n){const i=this.overlays.get(n.key);if(null!==i){const t=this.es.get(i.largestBatchId).delete(n.key);this.es.set(i.largestBatchId,t)}this.overlays=this.overlays.insert(n.key,new md(e,n));let r=this.es.get(e);void 0===r&&(r=Mc(),this.es.set(e,r)),this.es.set(e,r.add(n.key))}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Id{constructor(){this.ns=new Ju(Rd.ss),this.rs=new Ju(Rd.os)}isEmpty(){return this.ns.isEmpty()}addReference(t,e){const n=new Rd(t,e);this.ns=this.ns.add(n),this.rs=this.rs.add(n)}us(t,e){t.forEach((t=>this.addReference(t,e)))}removeReference(t,e){this.cs(new Rd(t,e))}hs(t,e){t.forEach((t=>this.removeReference(t,e)))}ls(t){const e=new Ph(new Dh([])),n=new Rd(e,t),i=new Rd(e,t+1),r=[];return this.rs.forEachInRange([n,i],(t=>{this.cs(t),r.push(t.key)})),r}fs(){this.ns.forEach((t=>this.cs(t)))}cs(t){this.ns=this.ns.delete(t),this.rs=this.rs.delete(t)}ds(t){const e=new Ph(new Dh([])),n=new Rd(e,t),i=new Rd(e,t+1);let r=Mc();return this.rs.forEachInRange([n,i],(t=>{r=r.add(t.key)})),r}containsKey(t){const e=new Rd(t,0),n=this.ns.firstAfterOrEqual(e);return null!==n&&t.isEqual(n.key)}}class Rd{constructor(t,e){this.key=t,this._s=e}static ss(t,e){return Ph.comparator(t.key,e.key)||Rh(t._s,e._s)}static os(t,e){return Rh(t._s,e._s)||Ph.comparator(t.key,e.key)}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cd{constructor(t,e){this.indexManager=t,this.referenceDelegate=e,this.mutationQueue=[],this.ws=1,this.gs=new Ju(Rd.ss)}checkEmpty(t){return Gh.resolve(0===this.mutationQueue.length)}addMutationBatch(t,e,n,i){const r=this.ws;this.ws++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const s=new fd(r,e,n,i);this.mutationQueue.push(s);for(const e of i)this.gs=this.gs.add(new Rd(e.key,r)),this.indexManager.addToCollectionParentIndex(t,e.key.path.popLast());return Gh.resolve(s)}lookupMutationBatch(t,e){return Gh.resolve(this.ys(e))}getNextMutationBatchAfterBatchId(t,e){const n=e+1,i=this.ps(n),r=i<0?0:i;return Gh.resolve(this.mutationQueue.length>r?this.mutationQueue[r]:null)}getHighestUnacknowledgedBatchId(){return Gh.resolve(0===this.mutationQueue.length?-1:this.ws-1)}getAllMutationBatches(t){return Gh.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,e){const n=new Rd(e,0),i=new Rd(e,Number.POSITIVE_INFINITY),r=[];return this.gs.forEachInRange([n,i],(t=>{const e=this.ys(t._s);r.push(e)})),Gh.resolve(r)}getAllMutationBatchesAffectingDocumentKeys(t,e){let n=new Ju(Rh);return e.forEach((t=>{const e=new Rd(t,0),i=new Rd(t,Number.POSITIVE_INFINITY);this.gs.forEachInRange([e,i],(t=>{n=n.add(t._s)}))})),Gh.resolve(this.Is(n))}getAllMutationBatchesAffectingQuery(t,e){const n=e.path,i=n.length+1;let r=n;Ph.isDocumentKey(r)||(r=r.child(""));const s=new Rd(new Ph(r),0);let o=new Ju(Rh);return this.gs.forEachWhile((t=>{const e=t.key.path;return!!n.isPrefixOf(e)&&(e.length===i&&(o=o.add(t._s)),!0)}),s),Gh.resolve(this.Is(o))}Is(t){const e=[];return t.forEach((t=>{const n=this.ys(t);null!==n&&e.push(n)})),e}removeMutationBatch(t,e){mh(0===this.Ts(e.batchId,"removed")),this.mutationQueue.shift();let n=this.gs;return Gh.forEach(e.mutations,(i=>{const r=new Rd(i.key,e.batchId);return n=n.delete(r),this.referenceDelegate.markPotentiallyOrphaned(t,i.key)})).next((()=>{this.gs=n}))}An(t){}containsKey(t,e){const n=new Rd(e,0),i=this.gs.firstAfterOrEqual(n);return Gh.resolve(e.isEqual(i&&i.key))}performConsistencyCheck(t){return this.mutationQueue.length,Gh.resolve()}Ts(t,e){return this.ps(t)}ps(t){return 0===this.mutationQueue.length?0:t-this.mutationQueue[0].batchId}ys(t){const e=this.ps(t);return e<0||e>=this.mutationQueue.length?null:this.mutationQueue[e]}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qd{constructor(t){this.Es=t,this.docs=new Xu(Ph.comparator),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,e){const n=e.key,i=this.docs.get(n),r=i?i.size:0,s=this.Es(e);return this.docs=this.docs.insert(n,{document:e.mutableCopy(),size:s}),this.size+=s-r,this.indexManager.addToCollectionParentIndex(t,n.path.popLast())}removeEntry(t){const e=this.docs.get(t);e&&(this.docs=this.docs.remove(t),this.size-=e.size)}getEntry(t,e){const n=this.docs.get(e);return Gh.resolve(n?n.document.mutableCopy():rl.newInvalidDocument(e))}getEntries(t,e){let n=fc();return e.forEach((t=>{const e=this.docs.get(t);n=n.insert(t,e?e.document.mutableCopy():rl.newInvalidDocument(t))})),Gh.resolve(n)}getDocumentsMatchingQuery(t,e,n,i){let r=fc();const s=e.path,o=new Ph(s.child("")),a=this.docs.getIteratorFrom(o);for(;a.hasNext();){const{key:t,value:{document:o}}=a.getNext();if(!s.isPrefixOf(t.path))break;t.path.length>s.length+1||Vh(jh(o),n)<=0||(i.has(o.key)||Al(e,o))&&(r=r.insert(o.key,o.mutableCopy()))}return Gh.resolve(r)}getAllFromCollectionGroup(t,e,n,i){ph()}As(t,e){return Gh.forEach(this.docs,(t=>e(t)))}newChangeBuffer(t){return new Nd(this)}getSize(t){return Gh.resolve(this.size)}}class Nd extends Ad{constructor(t){super(),this.Yn=t}applyChanges(t){const e=[];return this.changes.forEach(((n,i)=>{i.isValidDocument()?e.push(this.Yn.addEntry(t,i)):this.Yn.removeEntry(n)})),Gh.waitFor(e)}getFromCache(t,e){return this.Yn.getEntry(t,e)}getAllFromCache(t,e){return this.Yn.getEntries(t,e)}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ld{constructor(t){this.persistence=t,this.Rs=new cc((t=>al(t)),hl),this.lastRemoteSnapshotVersion=Nh.min(),this.highestTargetId=0,this.bs=0,this.Ps=new Id,this.targetCount=0,this.vs=kd.Pn()}forEachTarget(t,e){return this.Rs.forEach(((t,n)=>e(n))),Gh.resolve()}getLastRemoteSnapshotVersion(t){return Gh.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return Gh.resolve(this.bs)}allocateTargetId(t){return this.highestTargetId=this.vs.next(),Gh.resolve(this.highestTargetId)}setTargetsMetadata(t,e,n){return n&&(this.lastRemoteSnapshotVersion=n),e>this.bs&&(this.bs=e),Gh.resolve()}Dn(t){this.Rs.set(t.target,t);const e=t.targetId;e>this.highestTargetId&&(this.vs=new kd(e),this.highestTargetId=e),t.sequenceNumber>this.bs&&(this.bs=t.sequenceNumber)}addTargetData(t,e){return this.Dn(e),this.targetCount+=1,Gh.resolve()}updateTargetData(t,e){return this.Dn(e),Gh.resolve()}removeTargetData(t,e){return this.Rs.delete(e.target),this.Ps.ls(e.targetId),this.targetCount-=1,Gh.resolve()}removeTargets(t,e,n){let i=0;const r=[];return this.Rs.forEach(((s,o)=>{o.sequenceNumber<=e&&null===n.get(o.targetId)&&(this.Rs.delete(s),r.push(this.removeMatchingKeysForTargetId(t,o.targetId)),i++)})),Gh.waitFor(r).next((()=>i))}getTargetCount(t){return Gh.resolve(this.targetCount)}getTargetData(t,e){const n=this.Rs.get(e)||null;return Gh.resolve(n)}addMatchingKeys(t,e,n){return this.Ps.us(e,n),Gh.resolve()}removeMatchingKeys(t,e,n){this.Ps.hs(e,n);const i=this.persistence.referenceDelegate,r=[];return i&&e.forEach((e=>{r.push(i.markPotentiallyOrphaned(t,e))})),Gh.waitFor(r)}removeMatchingKeysForTargetId(t,e){return this.Ps.ls(e),Gh.resolve()}getMatchingKeysForTargetId(t,e){const n=this.Ps.ds(e);return Gh.resolve(n)}containsKey(t,e){return Gh.resolve(this.Ps.containsKey(e))}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dd{constructor(t,e){this.Vs={},this.overlays={},this.Ss=new Qh(0),this.Ds=!1,this.Ds=!0,this.referenceDelegate=t(this),this.Cs=new Ld(this),this.indexManager=new wd,this.remoteDocumentCache=function(t){return new qd(t)}((t=>this.referenceDelegate.xs(t))),this.yt=new vd(e),this.Ns=new Sd(this.yt)}start(){return Promise.resolve()}shutdown(){return this.Ds=!1,Promise.resolve()}get started(){return this.Ds}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let e=this.overlays[t.toKey()];return e||(e=new Td,this.overlays[t.toKey()]=e),e}getMutationQueue(t,e){let n=this.Vs[t.toKey()];return n||(n=new Cd(e,this.referenceDelegate),this.Vs[t.toKey()]=n),n}getTargetCache(){return this.Cs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ns}runTransaction(t,e,n){lh("MemoryPersistence","Starting transaction:",t);const i=new Od(this.Ss.next());return this.referenceDelegate.ks(),n(i).next((t=>this.referenceDelegate.Os(i).next((()=>t)))).toPromise().then((t=>(i.raiseOnCommittedEvent(),t)))}Ms(t,e){return Gh.or(Object.values(this.Vs).map((n=>()=>n.containsKey(t,e))))}}class Od extends Kh{constructor(t){super(),this.currentSequenceNumber=t}}class Bd{constructor(t){this.persistence=t,this.Fs=new Id,this.$s=null}static Bs(t){return new Bd(t)}get Ls(){if(this.$s)return this.$s;throw ph()}addReference(t,e,n){return this.Fs.addReference(n,e),this.Ls.delete(n.toString()),Gh.resolve()}removeReference(t,e,n){return this.Fs.removeReference(n,e),this.Ls.add(n.toString()),Gh.resolve()}markPotentiallyOrphaned(t,e){return this.Ls.add(e.toString()),Gh.resolve()}removeTarget(t,e){this.Fs.ls(e.targetId).forEach((t=>this.Ls.add(t.toString())));const n=this.persistence.getTargetCache();return n.getMatchingKeysForTargetId(t,e.targetId).next((t=>{t.forEach((t=>this.Ls.add(t.toString())))})).next((()=>n.removeTargetData(t,e)))}ks(){this.$s=new Set}Os(t){const e=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Gh.forEach(this.Ls,(n=>{const i=Ph.fromPath(n);return this.qs(t,i).next((t=>{t||e.removeEntry(i,Nh.min())}))})).next((()=>(this.$s=null,e.apply(t))))}updateLimboDocument(t,e){return this.qs(t,e).next((t=>{t?this.Ls.delete(e.toString()):this.Ls.add(e.toString())}))}xs(t){return 0}qs(t,e){return Gh.or([()=>Gh.resolve(this.Fs.containsKey(e)),()=>this.persistence.getTargetCache().containsKey(t,e),()=>this.persistence.Ms(t,e)])}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class Pd{constructor(t,e,n,i){this.targetId=t,this.fromCache=e,this.Si=n,this.Di=i}static Ci(t,e){let n=Mc(),i=Mc();for(const t of e.docChanges)switch(t.type){case 0:n=n.add(t.doc.key);break;case 1:i=i.add(t.doc.key)}return new Pd(t,e.fromCache,n,i)}}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ud{constructor(){this.xi=!1}initialize(t,e){this.Ni=t,this.indexManager=e,this.xi=!0}getDocumentsMatchingQuery(t,e,n,i){return this.ki(t,e).next((r=>r||this.Oi(t,e,i,n))).next((n=>n||this.Mi(t,e)))}ki(t,e){if(fl(e))return Gh.resolve(null);let n=yl(e);return this.indexManager.getIndexType(t,n).next((i=>0===i?null:(null!==e.limit&&1===i&&(e=wl(e,null,"F"),n=yl(e)),this.indexManager.getDocumentsMatchingTarget(t,n).next((i=>{const r=Mc(...i);return this.Ni.getDocuments(t,r).next((i=>this.indexManager.getMinOffset(t,n).next((n=>{const s=this.Fi(e,i);return this.$i(e,s,r,n.readTime)?this.ki(t,wl(e,null,"F")):this.Bi(t,s,e,n)}))))})))))}Oi(t,e,n,i){return fl(e)||i.isEqual(Nh.min())?this.Mi(t,e):this.Ni.getDocuments(t,n).next((r=>{const s=this.Fi(e,r);return this.$i(e,s,n,i)?this.Mi(t,e):(uh()<=j.DEBUG&&lh("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),kl(e)),this.Bi(t,s,e,Fh(i,-1)))}))}Fi(t,e){let n=new Ju(xl(t));return e.forEach(((e,i)=>{Al(t,i)&&(n=n.add(i))})),n}$i(t,e,n,i){if(null===t.limit)return!1;if(n.size!==e.size)return!0;const r="F"===t.limitType?e.last():e.first();return!!r&&(r.hasPendingWrites||r.version.compareTo(i)>0)}Mi(t,e){return uh()<=j.DEBUG&&lh("QueryEngine","Using full collection scan to execute query:",kl(e)),this.Ni.getDocumentsMatchingQuery(t,e,zh.min())}Bi(t,e,n,i){return this.Ni.getDocumentsMatchingQuery(t,n,i).next((t=>(e.forEach((e=>{t=t.insert(e.key,e)})),t)))}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fd{constructor(t,e,n,i){this.persistence=t,this.Li=e,this.yt=i,this.qi=new Xu(Rh),this.Ui=new cc((t=>al(t)),hl),this.Ki=new Map,this.Gi=t.getRemoteDocumentCache(),this.Cs=t.getTargetCache(),this.Ns=t.getBundleCache(),this.Qi(n)}Qi(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new xd(this.Gi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Gi.setIndexManager(this.indexManager),this.Li.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(e=>t.collect(e,this.qi)))}}function jd(t,e,n,i){return new Fd(t,e,n,i)}async function zd(t,e){const n=gh(t);return await n.persistence.runTransaction("Handle user change","readonly",(t=>{let i;return n.mutationQueue.getAllMutationBatches(t).next((r=>(i=r,n.Qi(e),n.mutationQueue.getAllMutationBatches(t)))).next((e=>{const r=[],s=[];let o=Mc();for(const t of i){r.push(t.batchId);for(const e of t.mutations)o=o.add(e.key)}for(const t of e){s.push(t.batchId);for(const e of t.mutations)o=o.add(e.key)}return n.localDocuments.getDocuments(t,o).next((t=>({ji:t,removedBatchIds:r,addedBatchIds:s})))}))}))}function Vd(t){const e=gh(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(t=>e.Cs.getLastRemoteSnapshotVersion(t)))}function Hd(t,e,n){let i=Mc(),r=Mc();return n.forEach((t=>i=i.add(t))),e.getEntries(t,i).next((t=>{let i=fc();return n.forEach(((n,s)=>{const o=t.get(n);s.isFoundDocument()!==o.isFoundDocument()&&(r=r.add(n)),s.isNoDocument()&&s.version.isEqual(Nh.min())?(e.removeEntry(n,s.readTime),i=i.insert(n,s)):!o.isValidDocument()||s.version.compareTo(o.version)>0||0===s.version.compareTo(o.version)&&o.hasPendingWrites?(e.addEntry(s),i=i.insert(n,s)):lh("LocalStore","Ignoring outdated watch update for ",n,". Current version:",o.version," Watch version:",s.version)})),{Wi:i,zi:r}}))}function Kd(t,e){const n=gh(t);return n.persistence.runTransaction("Get next mutation batch","readonly",(t=>(void 0===e&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(t,e))))}function Wd(t,e){const n=gh(t);return n.persistence.runTransaction("Allocate target","readwrite",(t=>{let i;return n.Cs.getTargetData(t,e).next((r=>r?(i=r,Gh.resolve(i)):n.Cs.allocateTargetId(t).next((r=>(i=new gd(e,r,0,t.currentSequenceNumber),n.Cs.addTargetData(t,i).next((()=>i)))))))})).then((t=>{const i=n.qi.get(t.targetId);return(null===i||t.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.qi=n.qi.insert(t.targetId,t),n.Ui.set(e,t.targetId)),t}))}async function Gd(t,e,n){const i=gh(t),r=i.qi.get(e),s=n?"readwrite":"readwrite-primary";try{n||await i.persistence.runTransaction("Release target",s,(t=>i.persistence.referenceDelegate.removeTarget(t,r)))}catch(t){if(!$h(t))throw t;lh("LocalStore",`Failed to update sequence numbers for target ${e}: ${t}`)}i.qi=i.qi.remove(e),i.Ui.delete(r.target)}function $d(t,e,n){const i=gh(t);let r=Nh.min(),s=Mc();return i.persistence.runTransaction("Execute query","readonly",(t=>function(t,e,n){const i=gh(t),r=i.Ui.get(n);return void 0!==r?Gh.resolve(i.qi.get(r)):i.Cs.getTargetData(e,n)}(i,t,yl(e)).next((e=>{if(e)return r=e.lastLimboFreeSnapshotVersion,i.Cs.getMatchingKeysForTargetId(t,e.targetId).next((t=>{s=t}))})).next((()=>i.Li.getDocumentsMatchingQuery(t,e,n?r:Nh.min(),n?s:Mc()))).next((t=>(Qd(i,El(e),t),{documents:t,Hi:s})))))}function Qd(t,e,n){let i=t.Ki.get(e)||Nh.min();n.forEach(((t,e)=>{e.readTime.compareTo(i)>0&&(i=e.readTime)})),t.Ki.set(e,i)}class Xd{constructor(){this.activeTargetIds=Ac()}er(t){this.activeTargetIds=this.activeTargetIds.add(t)}nr(t){this.activeTargetIds=this.activeTargetIds.delete(t)}tr(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class Zd{constructor(){this.Lr=new Xd,this.qr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,e,n){}addLocalQueryTarget(t){return this.Lr.er(t),this.qr[t]||"not-current"}updateQueryState(t,e,n){this.qr[t]=e}removeLocalQueryTarget(t){this.Lr.nr(t)}isLocalQueryTarget(t){return this.Lr.activeTargetIds.has(t)}clearQueryState(t){delete this.qr[t]}getAllActiveQueryTargets(){return this.Lr.activeTargetIds}isActiveQueryTarget(t){return this.Lr.activeTargetIds.has(t)}start(){return this.Lr=new Xd,Promise.resolve()}handleUserChange(t,e,n){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yd{Ur(t){}shutdown(){}}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jd{constructor(){this.Kr=()=>this.Gr(),this.Qr=()=>this.jr(),this.Wr=[],this.zr()}Ur(t){this.Wr.push(t)}shutdown(){window.removeEventListener("online",this.Kr),window.removeEventListener("offline",this.Qr)}zr(){window.addEventListener("online",this.Kr),window.addEventListener("offline",this.Qr)}Gr(){lh("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const t of this.Wr)t(0)}jr(){lh("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const t of this.Wr)t(1)}static C(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tf={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ef{constructor(t){this.Hr=t.Hr,this.Jr=t.Jr}Yr(t){this.Xr=t}Zr(t){this.eo=t}onMessage(t){this.no=t}close(){this.Jr()}send(t){this.Hr(t)}so(){this.Xr()}io(t){this.eo(t)}ro(t){this.no(t)}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nf extends class{constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const e=t.ssl?"https":"http";this.oo=e+"://"+t.host,this.uo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}get co(){return!1}ao(t,e,n,i,r){const s=this.ho(t,e);lh("RestConnection","Sending: ",s,n);const o={};return this.lo(o,i,r),this.fo(t,s,o,n).then((t=>(lh("RestConnection","Received: ",t),t)),(e=>{throw dh("RestConnection",`${t} failed with error: `,e,"url: ",s,"request:",n),e}))}_o(t,e,n,i,r,s){return this.ao(t,e,n,i,r)}lo(t,e,n){t["X-Goog-Api-Client"]="gl-js/ fire/"+ah,t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),e&&e.headers.forEach(((e,n)=>t[n]=e)),n&&n.headers.forEach(((e,n)=>t[n]=e))}ho(t,e){const n=tf[t];return`${this.oo}/v1/${e}:${n}`}}{constructor(t){super(t),this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams}fo(t,e,n,i){return new Promise(((r,s)=>{const o=new rh;o.setWithCredentials(!0),o.listenOnce(Ja.COMPLETE,(()=>{try{switch(o.getLastErrorCode()){case Ya.NO_ERROR:const e=o.getResponseJson();lh("Connection","XHR received:",JSON.stringify(e)),r(e);break;case Ya.TIMEOUT:lh("Connection",'RPC "'+t+'" timed out'),s(new yh(vh.DEADLINE_EXCEEDED,"Request time out"));break;case Ya.HTTP_ERROR:const n=o.getStatus();if(lh("Connection",'RPC "'+t+'" failed with status:',n,"response text:",o.getResponseText()),n>0){let t=o.getResponseJson();Array.isArray(t)&&(t=t[0]);const e=null==t?void 0:t.error;if(e&&e.status&&e.message){const t=function(t){const e=t.toLowerCase().replace(/_/g,"-");return Object.values(vh).indexOf(e)>=0?e:vh.UNKNOWN}(e.status);s(new yh(t,e.message))}else s(new yh(vh.UNKNOWN,"Server responded with status "+o.getStatus()))}else s(new yh(vh.UNAVAILABLE,"Connection failed."));break;default:ph()}}finally{lh("Connection",'RPC "'+t+'" completed.')}}));const a=JSON.stringify(i);o.send(e,"POST",a,n,15)}))}wo(t,e,n){const i=[this.oo,"/","google.firestore.v1.Firestore","/",t,"/channel"],r=Xa(),s=Za(),o={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(o.xmlHttpFactory=new nh({})),this.lo(o.initMessageHeaders,e,n),o.encodeInitMessageHeaders=!0;const a=i.join("");lh("Connection","Creating WebChannel: "+a,o);const h=r.createWebChannel(a,o);let u=!1,l=!1;const c=new ef({Hr:t=>{l?lh("Connection","Not sending because WebChannel is closed:",t):(u||(lh("Connection","Opening WebChannel transport."),h.open(),u=!0),lh("Connection","WebChannel sending:",t),h.send(t))},Jr:()=>h.close()}),d=(t,e,n)=>{t.listen(e,(t=>{try{n(t)}catch(t){setTimeout((()=>{throw t}),0)}}))};return d(h,ih.EventType.OPEN,(()=>{l||lh("Connection","WebChannel transport opened.")})),d(h,ih.EventType.CLOSE,(()=>{l||(l=!0,lh("Connection","WebChannel transport closed"),c.io())})),d(h,ih.EventType.ERROR,(t=>{l||(l=!0,dh("Connection","WebChannel transport errored:",t),c.io(new yh(vh.UNAVAILABLE,"The operation could not be completed")))})),d(h,ih.EventType.MESSAGE,(t=>{var e;if(!l){const n=t.data[0];mh(!!n);const i=n,r=i.error||(null===(e=i[0])||void 0===e?void 0:e.error);if(r){lh("Connection","WebChannel received error:",r);const t=r.status;let e=function(t){const e=ac[t];if(void 0!==e)return lc(e)}(t),n=r.message;void 0===e&&(e=vh.INTERNAL,n="Unknown error status: "+t+" with message "+r.message),l=!0,c.io(new yh(e,n)),h.close()}else lh("Connection","WebChannel received:",n),c.ro(n)}})),d(s,th.STAT_EVENT,(t=>{t.stat===eh.PROXY?lh("Connection","Detected buffering proxy"):t.stat===eh.NOPROXY&&lh("Connection","Detected no buffering proxy")})),setTimeout((()=>{c.so()}),0),c}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rf(){return"undefined"!=typeof document?document:null}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sf(t){return new Bc(t,!0)}class of{constructor(t,e,n=1e3,i=1.5,r=6e4){this.Hs=t,this.timerId=e,this.mo=n,this.yo=i,this.po=r,this.Io=0,this.To=null,this.Eo=Date.now(),this.reset()}reset(){this.Io=0}Ao(){this.Io=this.po}Ro(t){this.cancel();const e=Math.floor(this.Io+this.bo()),n=Math.max(0,Date.now()-this.Eo),i=Math.max(0,e-n);i>0&&lh("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Io} ms, delay with jitter: ${e} ms, last attempt: ${n} ms ago)`),this.To=this.Hs.enqueueAfterDelay(this.timerId,i,(()=>(this.Eo=Date.now(),t()))),this.Io*=this.yo,this.Io<this.mo&&(this.Io=this.mo),this.Io>this.po&&(this.Io=this.po)}Po(){null!==this.To&&(this.To.skipDelay(),this.To=null)}cancel(){null!==this.To&&(this.To.cancel(),this.To=null)}bo(){return(Math.random()-.5)*this.Io}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class af{constructor(t,e,n,i,r,s,o,a){this.Hs=t,this.vo=n,this.Vo=i,this.connection=r,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=o,this.listener=a,this.state=0,this.So=0,this.Do=null,this.Co=null,this.stream=null,this.xo=new of(t,e)}No(){return 1===this.state||5===this.state||this.ko()}ko(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Oo()}async stop(){this.No()&&await this.close(0)}Mo(){this.state=0,this.xo.reset()}Fo(){this.ko()&&null===this.Do&&(this.Do=this.Hs.enqueueAfterDelay(this.vo,6e4,(()=>this.$o())))}Bo(t){this.Lo(),this.stream.send(t)}async $o(){if(this.ko())return this.close(0)}Lo(){this.Do&&(this.Do.cancel(),this.Do=null)}qo(){this.Co&&(this.Co.cancel(),this.Co=null)}async close(t,e){this.Lo(),this.qo(),this.xo.cancel(),this.So++,4!==t?this.xo.reset():e&&e.code===vh.RESOURCE_EXHAUSTED?(ch(e.toString()),ch("Using maximum backoff delay to prevent overloading the backend."),this.xo.Ao()):e&&e.code===vh.UNAUTHENTICATED&&3!==this.state&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),null!==this.stream&&(this.Uo(),this.stream.close(),this.stream=null),this.state=t,await this.listener.Zr(e)}Uo(){}auth(){this.state=1;const t=this.Ko(this.So),e=this.So;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([t,n])=>{this.So===e&&this.Go(t,n)}),(e=>{t((()=>{const t=new yh(vh.UNKNOWN,"Fetching auth token failed: "+e.message);return this.Qo(t)}))}))}Go(t,e){const n=this.Ko(this.So);this.stream=this.jo(t,e),this.stream.Yr((()=>{n((()=>(this.state=2,this.Co=this.Hs.enqueueAfterDelay(this.Vo,1e4,(()=>(this.ko()&&(this.state=3),Promise.resolve()))),this.listener.Yr())))})),this.stream.Zr((t=>{n((()=>this.Qo(t)))})),this.stream.onMessage((t=>{n((()=>this.onMessage(t)))}))}Oo(){this.state=5,this.xo.Ro((async()=>{this.state=0,this.start()}))}Qo(t){return lh("PersistentStream",`close with error: ${t}`),this.stream=null,this.close(4,t)}Ko(t){return e=>{this.Hs.enqueueAndForget((()=>this.So===t?e():(lh("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class hf extends af{constructor(t,e,n,i,r,s){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",e,n,i,s),this.yt=r}jo(t,e){return this.connection.wo("Listen",t,e)}onMessage(t){this.xo.reset();const e=function(t,e){let n;if("targetChange"in e){e.targetChange;const i=function(t){return"NO_CHANGE"===t?0:"ADD"===t?1:"REMOVE"===t?2:"CURRENT"===t?3:"RESET"===t?4:ph()}(e.targetChange.targetChangeType||"NO_CHANGE"),r=e.targetChange.targetIds||[],s=function(t,e){return t.wt?(mh(void 0===e||"string"==typeof e),ru.fromBase64String(e||"")):(mh(void 0===e||e instanceof Uint8Array),ru.fromUint8Array(e||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(t){const e=void 0===t.code?vh.UNKNOWN:lc(t.code);return new yh(e,t.message||"")}(o);n=new Ic(i,r,s,a||null)}else if("documentChange"in e){e.documentChange;const i=e.documentChange;i.document,i.document.name,i.document.updateTime;const r=Kc(t,i.document.name),s=jc(i.document.updateTime),o=i.document.createTime?jc(i.document.createTime):Nh.min(),a=new nl({mapValue:{fields:i.document.fields}}),h=rl.newFoundDocument(r,s,o,a),u=i.targetIds||[],l=i.removedTargetIds||[];n=new Sc(u,l,h.key,h)}else if("documentDelete"in e){e.documentDelete;const i=e.documentDelete;i.document;const r=Kc(t,i.document),s=i.readTime?jc(i.readTime):Nh.min(),o=rl.newNoDocument(r,s),a=i.removedTargetIds||[];n=new Sc([],a,o.key,o)}else if("documentRemove"in e){e.documentRemove;const i=e.documentRemove;i.document;const r=Kc(t,i.document),s=i.removedTargetIds||[];n=new Sc([],s,r,null)}else{if(!("filter"in e))return ph();{e.filter;const t=e.filter;t.targetId;const i=t.count||0,r=new oc(i),s=t.targetId;n=new Tc(s,r)}}return n}(this.yt,t),n=function(t){if(!("targetChange"in t))return Nh.min();const e=t.targetChange;return e.targetIds&&e.targetIds.length?Nh.min():e.readTime?jc(e.readTime):Nh.min()}(t);return this.listener.Wo(e,n)}zo(t){const e={};e.database=$c(this.yt),e.addTarget=function(t,e){let n;const i=e.target;return n=ul(i)?{documents:Yc(t,i)}:{query:Jc(t,i)},n.targetId=e.targetId,e.resumeToken.approximateByteSize()>0?n.resumeToken=Uc(t,e.resumeToken):e.snapshotVersion.compareTo(Nh.min())>0&&(n.readTime=Pc(t,e.snapshotVersion.toTimestamp())),n}(this.yt,t);const n=function(t,e){const n=function(t,e){switch(e){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return ph()}}(0,e.purpose);return null==n?null:{"goog-listen-tags":n}}(this.yt,t);n&&(e.labels=n),this.Bo(e)}Ho(t){const e={};e.database=$c(this.yt),e.removeTarget=t,this.Bo(e)}}class uf extends af{constructor(t,e,n,i,r,s){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",e,n,i,s),this.yt=r,this.Jo=!1}get Yo(){return this.Jo}start(){this.Jo=!1,this.lastStreamToken=void 0,super.start()}Uo(){this.Jo&&this.Xo([])}jo(t,e){return this.connection.wo("Write",t,e)}onMessage(t){if(mh(!!t.streamToken),this.lastStreamToken=t.streamToken,this.Jo){this.xo.reset();const e=function(t,e){return t&&t.length>0?(mh(void 0!==e),t.map((t=>function(t,e){let n=t.updateTime?jc(t.updateTime):jc(e);return n.isEqual(Nh.min())&&(n=jc(e)),new Hl(n,t.transformResults||[])}(t,e)))):[]}(t.writeResults,t.commitTime),n=jc(t.commitTime);return this.listener.Zo(n,e)}return mh(!t.writeResults||0===t.writeResults.length),this.Jo=!0,this.listener.tu()}eu(){const t={};t.database=$c(this.yt),this.Bo(t)}Xo(t){const e={streamToken:this.lastStreamToken,writes:t.map((t=>Zc(this.yt,t)))};this.Bo(e)}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lf extends class{}{constructor(t,e,n,i){super(),this.authCredentials=t,this.appCheckCredentials=e,this.connection=n,this.yt=i,this.nu=!1}su(){if(this.nu)throw new yh(vh.FAILED_PRECONDITION,"The client has already been terminated.")}ao(t,e,n){return this.su(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([i,r])=>this.connection.ao(t,e,n,i,r))).catch((t=>{throw"FirebaseError"===t.name?(t.code===vh.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),t):new yh(vh.UNKNOWN,t.toString())}))}_o(t,e,n,i){return this.su(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([r,s])=>this.connection._o(t,e,n,r,s,i))).catch((t=>{throw"FirebaseError"===t.name?(t.code===vh.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),t):new yh(vh.UNKNOWN,t.toString())}))}terminate(){this.nu=!0}}class cf{constructor(t,e){this.asyncQueue=t,this.onlineStateHandler=e,this.state="Unknown",this.iu=0,this.ru=null,this.ou=!0}uu(){0===this.iu&&(this.cu("Unknown"),this.ru=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this.ru=null,this.au("Backend didn't respond within 10 seconds."),this.cu("Offline"),Promise.resolve()))))}hu(t){"Online"===this.state?this.cu("Unknown"):(this.iu++,this.iu>=1&&(this.lu(),this.au(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.cu("Offline")))}set(t){this.lu(),this.iu=0,"Online"===t&&(this.ou=!1),this.cu(t)}cu(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}au(t){const e=`Could not reach Cloud Firestore backend. ${t}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.ou?(ch(e),this.ou=!1):lh("OnlineStateTracker",e)}lu(){null!==this.ru&&(this.ru.cancel(),this.ru=null)}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class df{constructor(t,e,n,i,r){this.localStore=t,this.datastore=e,this.asyncQueue=n,this.remoteSyncer={},this.fu=[],this.du=new Map,this._u=new Set,this.wu=[],this.mu=r,this.mu.Ur((t=>{n.enqueueAndForget((async()=>{_f(this)&&(lh("RemoteStore","Restarting streams for network reachability change."),await async function(t){const e=gh(t);e._u.add(4),await pf(e),e.gu.set("Unknown"),e._u.delete(4),await ff(e)}(this))}))})),this.gu=new cf(n,i)}}async function ff(t){if(_f(t))for(const e of t.wu)await e(!0)}async function pf(t){for(const e of t.wu)await e(!1)}function mf(t,e){const n=gh(t);n.du.has(e.targetId)||(n.du.set(e.targetId,e),wf(n)?bf(n):Uf(n).ko()&&vf(n,e))}function gf(t,e){const n=gh(t),i=Uf(n);n.du.delete(e),i.ko()&&yf(n,e),0===n.du.size&&(i.ko()?i.Fo():_f(n)&&n.gu.set("Unknown"))}function vf(t,e){t.yu.Ot(e.targetId),Uf(t).zo(e)}function yf(t,e){t.yu.Ot(e),Uf(t).Ho(e)}function bf(t){t.yu=new Cc({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),ne:e=>t.du.get(e)||null}),Uf(t).start(),t.gu.uu()}function wf(t){return _f(t)&&!Uf(t).No()&&t.du.size>0}function _f(t){return 0===gh(t)._u.size}function Mf(t){t.yu=void 0}async function kf(t){t.du.forEach(((e,n)=>{vf(t,e)}))}async function Af(t,e){Mf(t),wf(t)?(t.gu.hu(e),bf(t)):t.gu.set("Unknown")}async function Ef(t,e,n){if(t.gu.set("Online"),e instanceof Ic&&2===e.state&&e.cause)try{await async function(t,e){const n=e.cause;for(const i of e.targetIds)t.du.has(i)&&(await t.remoteSyncer.rejectListen(i,n),t.du.delete(i),t.yu.removeTarget(i))}(t,e)}catch(n){lh("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),n),await xf(t,n)}else if(e instanceof Sc?t.yu.Kt(e):e instanceof Tc?t.yu.Jt(e):t.yu.jt(e),!n.isEqual(Nh.min()))try{const e=await Vd(t.localStore);n.compareTo(e)>=0&&await function(t,e){const n=t.yu.Zt(e);return n.targetChanges.forEach(((n,i)=>{if(n.resumeToken.approximateByteSize()>0){const r=t.du.get(i);r&&t.du.set(i,r.withResumeToken(n.resumeToken,e))}})),n.targetMismatches.forEach((e=>{const n=t.du.get(e);if(!n)return;t.du.set(e,n.withResumeToken(ru.EMPTY_BYTE_STRING,n.snapshotVersion)),yf(t,e);const i=new gd(n.target,e,1,n.sequenceNumber);vf(t,i)})),t.remoteSyncer.applyRemoteEvent(n)}(t,n)}catch(e){lh("RemoteStore","Failed to raise snapshot:",e),await xf(t,e)}}async function xf(t,e,n){if(!$h(e))throw e;t._u.add(1),await pf(t),t.gu.set("Offline"),n||(n=()=>Vd(t.localStore)),t.asyncQueue.enqueueRetryable((async()=>{lh("RemoteStore","Retrying IndexedDB access"),await n(),t._u.delete(1),await ff(t)}))}function Sf(t,e){return e().catch((n=>xf(t,n,e)))}async function Tf(t){const e=gh(t),n=Ff(e);let i=e.fu.length>0?e.fu[e.fu.length-1].batchId:-1;for(;If(e);)try{const t=await Kd(e.localStore,i);if(null===t){0===e.fu.length&&n.Fo();break}i=t.batchId,Rf(e,t)}catch(t){await xf(e,t)}Cf(e)&&qf(e)}function If(t){return _f(t)&&t.fu.length<10}function Rf(t,e){t.fu.push(e);const n=Ff(t);n.ko()&&n.Yo&&n.Xo(e.mutations)}function Cf(t){return _f(t)&&!Ff(t).No()&&t.fu.length>0}function qf(t){Ff(t).start()}async function Nf(t){Ff(t).eu()}async function Lf(t){const e=Ff(t);for(const n of t.fu)e.Xo(n.mutations)}async function Df(t,e,n){const i=t.fu.shift(),r=pd.from(i,e,n);await Sf(t,(()=>t.remoteSyncer.applySuccessfulWrite(r))),await Tf(t)}async function Of(t,e){e&&Ff(t).Yo&&await async function(t,e){if(uc(n=e.code)&&n!==vh.ABORTED){const n=t.fu.shift();Ff(t).Mo(),await Sf(t,(()=>t.remoteSyncer.rejectFailedWrite(n.batchId,e))),await Tf(t)}var n}(t,e),Cf(t)&&qf(t)}async function Bf(t,e){const n=gh(t);n.asyncQueue.verifyOperationInProgress(),lh("RemoteStore","RemoteStore received new credentials");const i=_f(n);n._u.add(3),await pf(n),i&&n.gu.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n._u.delete(3),await ff(n)}async function Pf(t,e){const n=gh(t);e?(n._u.delete(2),await ff(n)):e||(n._u.add(2),await pf(n),n.gu.set("Unknown"))}function Uf(t){return t.pu||(t.pu=function(t,e,n){const i=gh(t);return i.su(),new hf(e,i.connection,i.authCredentials,i.appCheckCredentials,i.yt,n)}(t.datastore,t.asyncQueue,{Yr:kf.bind(null,t),Zr:Af.bind(null,t),Wo:Ef.bind(null,t)}),t.wu.push((async e=>{e?(t.pu.Mo(),wf(t)?bf(t):t.gu.set("Unknown")):(await t.pu.stop(),Mf(t))}))),t.pu}function Ff(t){return t.Iu||(t.Iu=function(t,e,n){const i=gh(t);return i.su(),new uf(e,i.connection,i.authCredentials,i.appCheckCredentials,i.yt,n)}(t.datastore,t.asyncQueue,{Yr:Nf.bind(null,t),Zr:Of.bind(null,t),tu:Lf.bind(null,t),Zo:Df.bind(null,t)}),t.wu.push((async e=>{e?(t.Iu.Mo(),await Tf(t)):(await t.Iu.stop(),t.fu.length>0&&(lh("RemoteStore",`Stopping write stream with ${t.fu.length} pending writes`),t.fu=[]))}))),t.Iu
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */}class jf{constructor(t,e,n,i,r){this.asyncQueue=t,this.timerId=e,this.targetTimeMs=n,this.op=i,this.removalCallback=r,this.deferred=new bh,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((t=>{}))}static createAndSchedule(t,e,n,i,r){const s=Date.now()+n,o=new jf(t,e,s,i,r);return o.start(n),o}start(t){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new yh(vh.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then((t=>this.deferred.resolve(t)))):Promise.resolve()))}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function zf(t,e){if(ch("AsyncQueue",`${e}: ${t}`),$h(t))return new yh(vh.UNAVAILABLE,`${e}: ${t}`);throw t}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vf{constructor(t){this.comparator=t?(e,n)=>t(e,n)||Ph.comparator(e.key,n.key):(t,e)=>Ph.comparator(t.key,e.key),this.keyedMap=mc(),this.sortedSet=new Xu(this.comparator)}static emptySet(t){return new Vf(t.comparator)}has(t){return null!=this.keyedMap.get(t)}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const e=this.keyedMap.get(t);return e?this.sortedSet.indexOf(e):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal(((e,n)=>(t(e),!1)))}add(t){const e=this.delete(t.key);return e.copy(e.keyedMap.insert(t.key,t),e.sortedSet.insert(t,null))}delete(t){const e=this.get(t);return e?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(e)):this}isEqual(t){if(!(t instanceof Vf))return!1;if(this.size!==t.size)return!1;const e=this.sortedSet.getIterator(),n=t.sortedSet.getIterator();for(;e.hasNext();){const t=e.getNext().key,i=n.getNext().key;if(!t.isEqual(i))return!1}return!0}toString(){const t=[];return this.forEach((e=>{t.push(e.toString())})),0===t.length?"DocumentSet ()":"DocumentSet (\n  "+t.join("  \n")+"\n)"}copy(t,e){const n=new Vf;return n.comparator=this.comparator,n.keyedMap=t,n.sortedSet=e,n}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hf{constructor(){this.Tu=new Xu(Ph.comparator)}track(t){const e=t.doc.key,n=this.Tu.get(e);n?0!==t.type&&3===n.type?this.Tu=this.Tu.insert(e,t):3===t.type&&1!==n.type?this.Tu=this.Tu.insert(e,{type:n.type,doc:t.doc}):2===t.type&&2===n.type?this.Tu=this.Tu.insert(e,{type:2,doc:t.doc}):2===t.type&&0===n.type?this.Tu=this.Tu.insert(e,{type:0,doc:t.doc}):1===t.type&&0===n.type?this.Tu=this.Tu.remove(e):1===t.type&&2===n.type?this.Tu=this.Tu.insert(e,{type:1,doc:n.doc}):0===t.type&&1===n.type?this.Tu=this.Tu.insert(e,{type:2,doc:t.doc}):ph():this.Tu=this.Tu.insert(e,t)}Eu(){const t=[];return this.Tu.inorderTraversal(((e,n)=>{t.push(n)})),t}}class Kf{constructor(t,e,n,i,r,s,o,a,h){this.query=t,this.docs=e,this.oldDocs=n,this.docChanges=i,this.mutatedKeys=r,this.fromCache=s,this.syncStateChanged=o,this.excludesMetadataChanges=a,this.hasCachedResults=h}static fromInitialDocuments(t,e,n,i,r){const s=[];return e.forEach((t=>{s.push({type:0,doc:t})})),new Kf(t,e,Vf.emptySet(e),s,n,i,!0,!1,r)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&_l(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const e=this.docChanges,n=t.docChanges;if(e.length!==n.length)return!1;for(let t=0;t<e.length;t++)if(e[t].type!==n[t].type||!e[t].doc.isEqual(n[t].doc))return!1;return!0}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wf{constructor(){this.Au=void 0,this.listeners=[]}}class Gf{constructor(){this.queries=new cc((t=>Ml(t)),_l),this.onlineState="Unknown",this.Ru=new Set}}async function $f(t,e){const n=gh(t),i=e.query;let r=!1,s=n.queries.get(i);if(s||(r=!0,s=new Wf),r)try{s.Au=await n.onListen(i)}catch(t){const n=zf(t,`Initialization of query '${kl(e.query)}' failed`);return void e.onError(n)}n.queries.set(i,s),s.listeners.push(e),e.bu(n.onlineState),s.Au&&e.Pu(s.Au)&&Yf(n)}async function Qf(t,e){const n=gh(t),i=e.query;let r=!1;const s=n.queries.get(i);if(s){const t=s.listeners.indexOf(e);t>=0&&(s.listeners.splice(t,1),r=0===s.listeners.length)}if(r)return n.queries.delete(i),n.onUnlisten(i)}function Xf(t,e){const n=gh(t);let i=!1;for(const t of e){const e=t.query,r=n.queries.get(e);if(r){for(const e of r.listeners)e.Pu(t)&&(i=!0);r.Au=t}}i&&Yf(n)}function Zf(t,e,n){const i=gh(t),r=i.queries.get(e);if(r)for(const t of r.listeners)t.onError(n);i.queries.delete(e)}function Yf(t){t.Ru.forEach((t=>{t.next()}))}class Jf{constructor(t,e,n){this.query=t,this.vu=e,this.Vu=!1,this.Su=null,this.onlineState="Unknown",this.options=n||{}}Pu(t){if(!this.options.includeMetadataChanges){const e=[];for(const n of t.docChanges)3!==n.type&&e.push(n);t=new Kf(t.query,t.docs,t.oldDocs,e,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let e=!1;return this.Vu?this.Du(t)&&(this.vu.next(t),e=!0):this.Cu(t,this.onlineState)&&(this.xu(t),e=!0),this.Su=t,e}onError(t){this.vu.error(t)}bu(t){this.onlineState=t;let e=!1;return this.Su&&!this.Vu&&this.Cu(this.Su,t)&&(this.xu(this.Su),e=!0),e}Cu(t,e){if(!t.fromCache)return!0;const n="Offline"!==e;return(!this.options.Nu||!n)&&(!t.docs.isEmpty()||t.hasCachedResults||"Offline"===e)}Du(t){if(t.docChanges.length>0)return!0;const e=this.Su&&this.Su.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!e)&&!0===this.options.includeMetadataChanges}xu(t){t=Kf.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.Vu=!0,this.vu.next(t)}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class tp{constructor(t){this.key=t}}class ep{constructor(t){this.key=t}}class np{constructor(t,e){this.query=t,this.qu=e,this.Uu=null,this.hasCachedResults=!1,this.current=!1,this.Ku=Mc(),this.mutatedKeys=Mc(),this.Gu=xl(t),this.Qu=new Vf(this.Gu)}get ju(){return this.qu}Wu(t,e){const n=e?e.zu:new Hf,i=e?e.Qu:this.Qu;let r=e?e.mutatedKeys:this.mutatedKeys,s=i,o=!1;const a="F"===this.query.limitType&&i.size===this.query.limit?i.last():null,h="L"===this.query.limitType&&i.size===this.query.limit?i.first():null;if(t.inorderTraversal(((t,e)=>{const u=i.get(t),l=Al(this.query,e)?e:null,c=!!u&&this.mutatedKeys.has(u.key),d=!!l&&(l.hasLocalMutations||this.mutatedKeys.has(l.key)&&l.hasCommittedMutations);let f=!1;u&&l?u.data.isEqual(l.data)?c!==d&&(n.track({type:3,doc:l}),f=!0):this.Hu(u,l)||(n.track({type:2,doc:l}),f=!0,(a&&this.Gu(l,a)>0||h&&this.Gu(l,h)<0)&&(o=!0)):!u&&l?(n.track({type:0,doc:l}),f=!0):u&&!l&&(n.track({type:1,doc:u}),f=!0,(a||h)&&(o=!0)),f&&(l?(s=s.add(l),r=d?r.add(t):r.delete(t)):(s=s.delete(t),r=r.delete(t)))})),null!==this.query.limit)for(;s.size>this.query.limit;){const t="F"===this.query.limitType?s.last():s.first();s=s.delete(t.key),r=r.delete(t.key),n.track({type:1,doc:t})}return{Qu:s,zu:n,$i:o,mutatedKeys:r}}Hu(t,e){return t.hasLocalMutations&&e.hasCommittedMutations&&!e.hasLocalMutations}applyChanges(t,e,n){const i=this.Qu;this.Qu=t.Qu,this.mutatedKeys=t.mutatedKeys;const r=t.zu.Eu();r.sort(((t,e)=>function(t,e){const n=t=>{switch(t){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ph()}};return n(t)-n(e)}(t.type,e.type)||this.Gu(t.doc,e.doc))),this.Ju(n);const s=e?this.Yu():[],o=0===this.Ku.size&&this.current?1:0,a=o!==this.Uu;return this.Uu=o,0!==r.length||a?{snapshot:new Kf(this.query,t.Qu,i,r,t.mutatedKeys,0===o,a,!1,!!n&&n.resumeToken.approximateByteSize()>0),Xu:s}:{Xu:s}}bu(t){return this.current&&"Offline"===t?(this.current=!1,this.applyChanges({Qu:this.Qu,zu:new Hf,mutatedKeys:this.mutatedKeys,$i:!1},!1)):{Xu:[]}}Zu(t){return!this.qu.has(t)&&!!this.Qu.has(t)&&!this.Qu.get(t).hasLocalMutations}Ju(t){t&&(t.addedDocuments.forEach((t=>this.qu=this.qu.add(t))),t.modifiedDocuments.forEach((t=>{})),t.removedDocuments.forEach((t=>this.qu=this.qu.delete(t))),this.current=t.current)}Yu(){if(!this.current)return[];const t=this.Ku;this.Ku=Mc(),this.Qu.forEach((t=>{this.Zu(t.key)&&(this.Ku=this.Ku.add(t.key))}));const e=[];return t.forEach((t=>{this.Ku.has(t)||e.push(new ep(t))})),this.Ku.forEach((n=>{t.has(n)||e.push(new tp(n))})),e}tc(t){this.qu=t.Hi,this.Ku=Mc();const e=this.Wu(t.documents);return this.applyChanges(e,!0)}ec(){return Kf.fromInitialDocuments(this.query,this.Qu,this.mutatedKeys,0===this.Uu,this.hasCachedResults)}}class ip{constructor(t,e,n){this.query=t,this.targetId=e,this.view=n}}class rp{constructor(t){this.key=t,this.nc=!1}}class sp{constructor(t,e,n,i,r,s){this.localStore=t,this.remoteStore=e,this.eventManager=n,this.sharedClientState=i,this.currentUser=r,this.maxConcurrentLimboResolutions=s,this.sc={},this.ic=new cc((t=>Ml(t)),_l),this.rc=new Map,this.oc=new Set,this.uc=new Xu(Ph.comparator),this.cc=new Map,this.ac=new Id,this.hc={},this.lc=new Map,this.fc=kd.vn(),this.onlineState="Unknown",this.dc=void 0}get isPrimaryClient(){return!0===this.dc}}async function op(t,e){const n=Ap(t);let i,r;const s=n.ic.get(e);if(s)i=s.targetId,n.sharedClientState.addLocalQueryTarget(i),r=s.view.ec();else{const t=await Wd(n.localStore,yl(e));n.isPrimaryClient&&mf(n.remoteStore,t);const s=n.sharedClientState.addLocalQueryTarget(t.targetId);i=t.targetId,r=await ap(n,e,i,"current"===s,t.resumeToken)}return r}async function ap(t,e,n,i,r){t._c=(e,n,i)=>async function(t,e,n,i){let r=e.view.Wu(n);r.$i&&(r=await $d(t.localStore,e.query,!1).then((({documents:t})=>e.view.Wu(t,r))));const s=i&&i.targetChanges.get(e.targetId),o=e.view.applyChanges(r,t.isPrimaryClient,s);return yp(t,e.targetId,o.Xu),o.snapshot}(t,e,n,i);const s=await $d(t.localStore,e,!0),o=new np(e,s.Hi),a=o.Wu(s.documents),h=xc.createSynthesizedTargetChangeForCurrentChange(n,i&&"Offline"!==t.onlineState,r),u=o.applyChanges(a,t.isPrimaryClient,h);yp(t,n,u.Xu);const l=new ip(e,n,o);return t.ic.set(e,l),t.rc.has(n)?t.rc.get(n).push(e):t.rc.set(n,[e]),u.snapshot}async function hp(t,e){const n=gh(t),i=n.ic.get(e),r=n.rc.get(i.targetId);if(r.length>1)return n.rc.set(i.targetId,r.filter((t=>!_l(t,e)))),void n.ic.delete(e);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(i.targetId),n.sharedClientState.isActiveQueryTarget(i.targetId)||await Gd(n.localStore,i.targetId,!1).then((()=>{n.sharedClientState.clearQueryState(i.targetId),gf(n.remoteStore,i.targetId),gp(n,i.targetId)})).catch(Wh)):(gp(n,i.targetId),await Gd(n.localStore,i.targetId,!0))}async function up(t,e){const n=gh(t);try{const t=await function(t,e){const n=gh(t),i=e.snapshotVersion;let r=n.qi;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(t=>{const s=n.Gi.newChangeBuffer({trackRemovals:!0});r=n.qi;const o=[];e.targetChanges.forEach(((s,a)=>{const h=r.get(a);if(!h)return;o.push(n.Cs.removeMatchingKeys(t,s.removedDocuments,a).next((()=>n.Cs.addMatchingKeys(t,s.addedDocuments,a))));let u=h.withSequenceNumber(t.currentSequenceNumber);e.targetMismatches.has(a)?u=u.withResumeToken(ru.EMPTY_BYTE_STRING,Nh.min()).withLastLimboFreeSnapshotVersion(Nh.min()):s.resumeToken.approximateByteSize()>0&&(u=u.withResumeToken(s.resumeToken,i)),r=r.insert(a,u),function(t,e,n){return 0===t.resumeToken.approximateByteSize()||e.snapshotVersion.toMicroseconds()-t.snapshotVersion.toMicroseconds()>=3e8||n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0}(h,u,s)&&o.push(n.Cs.updateTargetData(t,u))}));let a=fc(),h=Mc();if(e.documentUpdates.forEach((i=>{e.resolvedLimboDocuments.has(i)&&o.push(n.persistence.referenceDelegate.updateLimboDocument(t,i))})),o.push(Hd(t,s,e.documentUpdates).next((t=>{a=t.Wi,h=t.zi}))),!i.isEqual(Nh.min())){const e=n.Cs.getLastRemoteSnapshotVersion(t).next((e=>n.Cs.setTargetsMetadata(t,t.currentSequenceNumber,i)));o.push(e)}return Gh.waitFor(o).next((()=>s.apply(t))).next((()=>n.localDocuments.getLocalViewOfDocuments(t,a,h))).next((()=>a))})).then((t=>(n.qi=r,t)))}(n.localStore,e);e.targetChanges.forEach(((t,e)=>{const i=n.cc.get(e);i&&(mh(t.addedDocuments.size+t.modifiedDocuments.size+t.removedDocuments.size<=1),t.addedDocuments.size>0?i.nc=!0:t.modifiedDocuments.size>0?mh(i.nc):t.removedDocuments.size>0&&(mh(i.nc),i.nc=!1))})),await _p(n,t,e)}catch(t){await Wh(t)}}function lp(t,e,n){const i=gh(t);if(i.isPrimaryClient&&0===n||!i.isPrimaryClient&&1===n){const t=[];i.ic.forEach(((n,i)=>{const r=i.view.bu(e);r.snapshot&&t.push(r.snapshot)})),function(t,e){const n=gh(t);n.onlineState=e;let i=!1;n.queries.forEach(((t,n)=>{for(const t of n.listeners)t.bu(e)&&(i=!0)})),i&&Yf(n)}(i.eventManager,e),t.length&&i.sc.Wo(t),i.onlineState=e,i.isPrimaryClient&&i.sharedClientState.setOnlineState(e)}}async function cp(t,e,n){const i=gh(t);i.sharedClientState.updateQueryState(e,"rejected",n);const r=i.cc.get(e),s=r&&r.key;if(s){let t=new Xu(Ph.comparator);t=t.insert(s,rl.newNoDocument(s,Nh.min()));const n=Mc().add(s),r=new Ec(Nh.min(),new Map,new Ju(Rh),t,n);await up(i,r),i.uc=i.uc.remove(s),i.cc.delete(e),wp(i)}else await Gd(i.localStore,e,!1).then((()=>gp(i,e,n))).catch(Wh)}async function dp(t,e){const n=gh(t),i=e.batch.batchId;try{const t=await function(t,e){const n=gh(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(t=>{const i=e.batch.keys(),r=n.Gi.newChangeBuffer({trackRemovals:!0});return function(t,e,n,i){const r=n.batch,s=r.keys();let o=Gh.resolve();return s.forEach((t=>{o=o.next((()=>i.getEntry(e,t))).next((e=>{const s=n.docVersions.get(t);mh(null!==s),e.version.compareTo(s)<0&&(r.applyToRemoteDocument(e,n),e.isValidDocument()&&(e.setReadTime(n.commitVersion),i.addEntry(e)))}))})),o.next((()=>t.mutationQueue.removeMutationBatch(e,r)))}(n,t,e,r).next((()=>r.apply(t))).next((()=>n.mutationQueue.performConsistencyCheck(t))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(t,i,e.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(t,function(t){let e=Mc();for(let n=0;n<t.mutationResults.length;++n)t.mutationResults[n].transformResults.length>0&&(e=e.add(t.batch.mutations[n].key));return e}(e)))).next((()=>n.localDocuments.getDocuments(t,i)))}))}(n.localStore,e);mp(n,i,null),pp(n,i),n.sharedClientState.updateMutationState(i,"acknowledged"),await _p(n,t)}catch(t){await Wh(t)}}async function fp(t,e,n){const i=gh(t);try{const t=await function(t,e){const n=gh(t);return n.persistence.runTransaction("Reject batch","readwrite-primary",(t=>{let i;return n.mutationQueue.lookupMutationBatch(t,e).next((e=>(mh(null!==e),i=e.keys(),n.mutationQueue.removeMutationBatch(t,e)))).next((()=>n.mutationQueue.performConsistencyCheck(t))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(t,i,e))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(t,i))).next((()=>n.localDocuments.getDocuments(t,i)))}))}(i.localStore,e);mp(i,e,n),pp(i,e),i.sharedClientState.updateMutationState(e,"rejected",n),await _p(i,t)}catch(n){await Wh(n)}}function pp(t,e){(t.lc.get(e)||[]).forEach((t=>{t.resolve()})),t.lc.delete(e)}function mp(t,e,n){const i=gh(t);let r=i.hc[i.currentUser.toKey()];if(r){const t=r.get(e);t&&(n?t.reject(n):t.resolve(),r=r.remove(e)),i.hc[i.currentUser.toKey()]=r}}function gp(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const i of t.rc.get(e))t.ic.delete(i),n&&t.sc.wc(i,n);t.rc.delete(e),t.isPrimaryClient&&t.ac.ls(e).forEach((e=>{t.ac.containsKey(e)||vp(t,e)}))}function vp(t,e){t.oc.delete(e.path.canonicalString());const n=t.uc.get(e);null!==n&&(gf(t.remoteStore,n),t.uc=t.uc.remove(e),t.cc.delete(n),wp(t))}function yp(t,e,n){for(const i of n)i instanceof tp?(t.ac.addReference(i.key,e),bp(t,i)):i instanceof ep?(lh("SyncEngine","Document no longer in limbo: "+i.key),t.ac.removeReference(i.key,e),t.ac.containsKey(i.key)||vp(t,i.key)):ph()}function bp(t,e){const n=e.key,i=n.path.canonicalString();t.uc.get(n)||t.oc.has(i)||(lh("SyncEngine","New document in limbo: "+n),t.oc.add(i),wp(t))}function wp(t){for(;t.oc.size>0&&t.uc.size<t.maxConcurrentLimboResolutions;){const e=t.oc.values().next().value;t.oc.delete(e);const n=new Ph(Dh.fromString(e)),i=t.fc.next();t.cc.set(i,new rp(n)),t.uc=t.uc.insert(n,i),mf(t.remoteStore,new gd(yl(dl(n.path)),i,2,Qh.at))}}async function _p(t,e,n){const i=gh(t),r=[],s=[],o=[];i.ic.isEmpty()||(i.ic.forEach(((t,a)=>{o.push(i._c(a,e,n).then((t=>{if((t||n)&&i.isPrimaryClient&&i.sharedClientState.updateQueryState(a.targetId,(null==t?void 0:t.fromCache)?"not-current":"current"),t){r.push(t);const e=Pd.Ci(a.targetId,t);s.push(e)}})))})),await Promise.all(o),i.sc.Wo(r),await async function(t,e){const n=gh(t);try{await n.persistence.runTransaction("notifyLocalViewChanges","readwrite",(t=>Gh.forEach(e,(e=>Gh.forEach(e.Si,(i=>n.persistence.referenceDelegate.addReference(t,e.targetId,i))).next((()=>Gh.forEach(e.Di,(i=>n.persistence.referenceDelegate.removeReference(t,e.targetId,i)))))))))}catch(t){if(!$h(t))throw t;lh("LocalStore","Failed to update sequence numbers: "+t)}for(const t of e){const e=t.targetId;if(!t.fromCache){const t=n.qi.get(e),i=t.snapshotVersion,r=t.withLastLimboFreeSnapshotVersion(i);n.qi=n.qi.insert(e,r)}}}(i.localStore,s))}async function Mp(t,e){const n=gh(t);if(!n.currentUser.isEqual(e)){lh("SyncEngine","User change. New user:",e.toKey());const t=await zd(n.localStore,e);n.currentUser=e,function(t,e){t.lc.forEach((t=>{t.forEach((t=>{t.reject(new yh(vh.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))}))})),t.lc.clear()}(n),n.sharedClientState.handleUserChange(e,t.removedBatchIds,t.addedBatchIds),await _p(n,t.ji)}}function kp(t,e){const n=gh(t),i=n.cc.get(e);if(i&&i.nc)return Mc().add(i.key);{let t=Mc();const i=n.rc.get(e);if(!i)return t;for(const e of i){const i=n.ic.get(e);t=t.unionWith(i.view.ju)}return t}}function Ap(t){const e=gh(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=up.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=kp.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=cp.bind(null,e),e.sc.Wo=Xf.bind(null,e.eventManager),e.sc.wc=Zf.bind(null,e.eventManager),e}function Ep(t){const e=gh(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=dp.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=fp.bind(null,e),e}class xp{constructor(){this.synchronizeTabs=!1}async initialize(t){this.yt=sf(t.databaseInfo.databaseId),this.sharedClientState=this.gc(t),this.persistence=this.yc(t),await this.persistence.start(),this.localStore=this.Ic(t),this.gcScheduler=this.Tc(t,this.localStore),this.indexBackfillerScheduler=this.Ec(t,this.localStore)}Tc(t,e){return null}Ec(t,e){return null}Ic(t){return jd(this.persistence,new Ud,t.initialUser,this.yt)}yc(t){return new Dd(Bd.Bs,this.yt)}gc(t){return new Zd}async terminate(){this.gcScheduler&&this.gcScheduler.stop(),await this.sharedClientState.shutdown(),await this.persistence.shutdown()}}class Sp{async initialize(t,e){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(e),this.remoteStore=this.createRemoteStore(e),this.eventManager=this.createEventManager(e),this.syncEngine=this.createSyncEngine(e,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=t=>lp(this.syncEngine,t,1),this.remoteStore.remoteSyncer.handleCredentialChange=Mp.bind(null,this.syncEngine),await Pf(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return new Gf}createDatastore(t){const e=sf(t.databaseInfo.databaseId),n=(i=t.databaseInfo,new nf(i));var i;return function(t,e,n,i){return new lf(t,e,n,i)}(t.authCredentials,t.appCheckCredentials,n,e)}createRemoteStore(t){var e,n,i,r,s;return e=this.localStore,n=this.datastore,i=t.asyncQueue,r=t=>lp(this.syncEngine,t,0),s=Jd.C()?new Jd:new Yd,new df(e,n,i,r,s)}createSyncEngine(t,e){return function(t,e,n,i,r,s,o){const a=new sp(t,e,n,i,r,s);return o&&(a.dc=!0),a}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,e)}terminate(){return async function(t){const e=gh(t);lh("RemoteStore","RemoteStore shutting down."),e._u.add(5),await pf(e),e.mu.shutdown(),e.gu.set("Unknown")}(this.remoteStore)}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tp(t,e,n){if(!n)throw new yh(vh.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function Ip(t){if(!Ph.isDocumentKey(t))throw new yh(vh.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function Rp(t){if(Ph.isDocumentKey(t))throw new yh(vh.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function Cp(t){if(void 0===t)return"undefined";if(null===t)return"null";if("string"==typeof t)return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if("number"==typeof t||"boolean"==typeof t)return""+t;if("object"==typeof t){if(t instanceof Array)return"an array";{const e=function(t){return t.constructor?t.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return"function"==typeof t?"a function":ph()}function qp(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new yh(vh.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Cp(t);throw new yh(vh.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}function Np(t,e){if(e<=0)throw new yh(vh.INVALID_ARGUMENT,`Function ${t}() requires a positive number, but it was: ${e}.`)}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lp=new Map;class Dp{constructor(t){var e;if(void 0===t.host){if(void 0!==t.ssl)throw new yh(vh.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=null===(e=t.ssl)||void 0===e||e;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,void 0===t.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==t.cacheSizeBytes&&t.cacheSizeBytes<1048576)throw new yh(vh.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.useFetchStreams=!!t.useFetchStreams,function(t,e,n,i){if(!0===e&&!0===i)throw new yh(vh.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling)}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Op{constructor(t,e,n,i){this._authCredentials=t,this._appCheckCredentials=e,this._databaseId=n,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Dp({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new yh(vh.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(t){if(this._settingsFrozen)throw new yh(vh.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Dp(t),void 0!==t.credentials&&(this._authCredentials=function(t){if(!t)return new _h;switch(t.type){case"gapi":const e=t.client;return new Eh(e,t.sessionIndex||"0",t.iamToken||null,t.authTokenFactory||null);case"provider":return t.client;default:throw new yh(vh.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(t.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const e=Lp.get(t);e&&(lh("ComponentProvider","Removing Datastore"),Lp.delete(t),e.terminate())}(this),Promise.resolve()}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class Bp{constructor(t,e,n){this.converter=e,this._key=n,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Up(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new Bp(this.firestore,t,this._key)}}class Pp{constructor(t,e,n){this.converter=e,this._query=n,this.type="query",this.firestore=t}withConverter(t){return new Pp(this.firestore,t,this._query)}}class Up extends Pp{constructor(t,e,n){super(t,e,dl(n)),this._path=n,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new Bp(this.firestore,null,new Ph(t))}withConverter(t){return new Up(this.firestore,t,this._path)}}function Fp(t,e,...n){if(t=D(t),Tp("collection","path",e),t instanceof Op){const i=Dh.fromString(e,...n);return Rp(i),new Up(t,null,i)}{if(!(t instanceof Bp||t instanceof Up))throw new yh(vh.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=t._path.child(Dh.fromString(e,...n));return Rp(i),new Up(t.firestore,null,i)}}function jp(t,e,...n){if(t=D(t),1===arguments.length&&(e=Ih.R()),Tp("doc","path",e),t instanceof Op){const i=Dh.fromString(e,...n);return Ip(i),new Bp(t,null,new Ph(i))}{if(!(t instanceof Bp||t instanceof Up))throw new yh(vh.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=t._path.child(Dh.fromString(e,...n));return Ip(i),new Bp(t.firestore,t instanceof Up?t.converter:null,new Ph(i))}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class zp{constructor(t){this.observer=t,this.muted=!1}next(t){this.observer.next&&this.Rc(this.observer.next,t)}error(t){this.observer.error?this.Rc(this.observer.error,t):ch("Uncaught Error in snapshot listener:",t.toString())}bc(){this.muted=!0}Rc(t,e){this.muted||setTimeout((()=>{this.muted||t(e)}),0)}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class Vp{constructor(t,e,n,i){this.authCredentials=t,this.appCheckCredentials=e,this.asyncQueue=n,this.databaseInfo=i,this.user=oh.UNAUTHENTICATED,this.clientId=Ih.R(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(n,(async t=>{lh("FirestoreClient","Received user=",t.uid),await this.authCredentialListener(t),this.user=t})),this.appCheckCredentials.start(n,(t=>(lh("FirestoreClient","Received new app check token=",t),this.appCheckCredentialListener(t,this.user))))}async getConfiguration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new yh(vh.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();const t=new bh;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this.onlineComponents&&await this.onlineComponents.terminate(),this.offlineComponents&&await this.offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(e){const n=zf(e,"Failed to shutdown persistence");t.reject(n)}})),t.promise}}async function Hp(t,e){t.asyncQueue.verifyOperationInProgress(),lh("FirestoreClient","Initializing OfflineComponentProvider");const n=await t.getConfiguration();await e.initialize(n);let i=n.initialUser;t.setCredentialChangeListener((async t=>{i.isEqual(t)||(await zd(e.localStore,t),i=t)})),e.persistence.setDatabaseDeletedListener((()=>t.terminate())),t.offlineComponents=e}async function Kp(t,e){t.asyncQueue.verifyOperationInProgress();const n=await Wp(t);lh("FirestoreClient","Initializing OnlineComponentProvider");const i=await t.getConfiguration();await e.initialize(n,i),t.setCredentialChangeListener((t=>Bf(e.remoteStore,t))),t.setAppCheckTokenChangeListener(((t,n)=>Bf(e.remoteStore,n))),t.onlineComponents=e}async function Wp(t){return t.offlineComponents||(lh("FirestoreClient","Using default OfflineComponentProvider"),await Hp(t,new xp)),t.offlineComponents}async function Gp(t){return t.onlineComponents||(lh("FirestoreClient","Using default OnlineComponentProvider"),await Kp(t,new Sp)),t.onlineComponents}function $p(t){return Gp(t).then((t=>t.syncEngine))}async function Qp(t){const e=await Gp(t),n=e.eventManager;return n.onListen=op.bind(null,e.syncEngine),n.onUnlisten=hp.bind(null,e.syncEngine),n}function Xp(t,e,n={}){const i=new bh;return t.asyncQueue.enqueueAndForget((async()=>function(t,e,n,i,r){const s=new zp({next:s=>{e.enqueueAndForget((()=>Qf(t,o)));const a=s.docs.has(n);!a&&s.fromCache?r.reject(new yh(vh.UNAVAILABLE,"Failed to get document because the client is offline.")):a&&s.fromCache&&i&&"server"===i.source?r.reject(new yh(vh.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):r.resolve(s)},error:t=>r.reject(t)}),o=new Jf(dl(n.path),s,{includeMetadataChanges:!0,Nu:!0});return $f(t,o)}(await Qp(t),t.asyncQueue,e,n,i))),i.promise}function Zp(t,e,n={}){const i=new bh;return t.asyncQueue.enqueueAndForget((async()=>function(t,e,n,i,r){const s=new zp({next:n=>{e.enqueueAndForget((()=>Qf(t,o))),n.fromCache&&"server"===i.source?r.reject(new yh(vh.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):r.resolve(n)},error:t=>r.reject(t)}),o=new Jf(n,s,{includeMetadataChanges:!0,Nu:!0});return $f(t,o)}(await Qp(t),t.asyncQueue,e,n,i))),i.promise}class Yp{constructor(){this.Bc=Promise.resolve(),this.Lc=[],this.qc=!1,this.Uc=[],this.Kc=null,this.Gc=!1,this.Qc=!1,this.jc=[],this.xo=new of(this,"async_queue_retry"),this.Wc=()=>{const t=rf();t&&lh("AsyncQueue","Visibility state changed to "+t.visibilityState),this.xo.Po()};const t=rf();t&&"function"==typeof t.addEventListener&&t.addEventListener("visibilitychange",this.Wc)}get isShuttingDown(){return this.qc}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.zc(),this.Hc(t)}enterRestrictedMode(t){if(!this.qc){this.qc=!0,this.Qc=t||!1;const e=rf();e&&"function"==typeof e.removeEventListener&&e.removeEventListener("visibilitychange",this.Wc)}}enqueue(t){if(this.zc(),this.qc)return new Promise((()=>{}));const e=new bh;return this.Hc((()=>this.qc&&this.Qc?Promise.resolve():(t().then(e.resolve,e.reject),e.promise))).then((()=>e.promise))}enqueueRetryable(t){this.enqueueAndForget((()=>(this.Lc.push(t),this.Jc())))}async Jc(){if(0!==this.Lc.length){try{await this.Lc[0](),this.Lc.shift(),this.xo.reset()}catch(t){if(!$h(t))throw t;lh("AsyncQueue","Operation failed with retryable error: "+t)}this.Lc.length>0&&this.xo.Ro((()=>this.Jc()))}}Hc(t){const e=this.Bc.then((()=>(this.Gc=!0,t().catch((t=>{this.Kc=t,this.Gc=!1;const e=function(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+"\n"+t.stack),e}(t);throw ch("INTERNAL UNHANDLED ERROR: ",e),t})).then((t=>(this.Gc=!1,t))))));return this.Bc=e,e}enqueueAfterDelay(t,e,n){this.zc(),this.jc.indexOf(t)>-1&&(e=0);const i=jf.createAndSchedule(this,t,e,n,(t=>this.Yc(t)));return this.Uc.push(i),i}zc(){this.Kc&&ph()}verifyOperationInProgress(){}async Xc(){let t;do{t=this.Bc,await t}while(t!==this.Bc)}Zc(t){for(const e of this.Uc)if(e.timerId===t)return!0;return!1}ta(t){return this.Xc().then((()=>{this.Uc.sort(((t,e)=>t.targetTimeMs-e.targetTimeMs));for(const e of this.Uc)if(e.skipDelay(),"all"!==t&&e.timerId===t)break;return this.Xc()}))}ea(t){this.jc.push(t)}Yc(t){const e=this.Uc.indexOf(t);this.Uc.splice(e,1)}}function Jp(t){return function(t,e){if("object"!=typeof t||null===t)return!1;const n=t;for(const t of["next","error","complete"])if(t in n&&"function"==typeof n[t])return!0;return!1}(t)}class tm extends Op{constructor(t,e,n,i){super(t,e,n,i),this.type="firestore",this._queue=new Yp,this._persistenceKey=(null==i?void 0:i.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||im(this),this._firestoreClient.terminate()}}function em(t,e){const n="string"==typeof t?t:e||"(default)",i=kt("object"==typeof t?t:Tt(),"firestore").getImmediate({identifier:n});if(!i._initialized){const t=f("firestore");t&&function(t,e,n,i={}){var r;const s=(t=qp(t,Op))._getSettings();if("firestore.googleapis.com"!==s.host&&s.host!==e&&dh("Host has been set in both settings() and useEmulator(), emulator host will be used"),t._setSettings(Object.assign(Object.assign({},s),{host:`${e}:${n}`,ssl:!1})),i.mockUserToken){let e,n;if("string"==typeof i.mockUserToken)e=i.mockUserToken,n=oh.MOCK_USER;else{e=v(i.mockUserToken,null===(r=t._app)||void 0===r?void 0:r.options.projectId);const s=i.mockUserToken.sub||i.mockUserToken.user_id;if(!s)throw new yh(vh.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");n=new oh(s)}t._authCredentials=new Mh(new wh(e,n))}}(i,...t)}return i}function nm(t){return t._firestoreClient||im(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function im(t){var e;const n=t._freezeSettings(),i=function(t,e,n,i){return new Xh(t,e,n,i.host,i.ssl,i.experimentalForceLongPolling,i.experimentalAutoDetectLongPolling,i.useFetchStreams)}(t._databaseId,(null===(e=t._app)||void 0===e?void 0:e.options.appId)||"",t._persistenceKey,n);t._firestoreClient=new Vp(t._authCredentials,t._appCheckCredentials,t._queue,i)}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class rm{constructor(t){this._byteString=t}static fromBase64String(t){try{return new rm(ru.fromBase64String(t))}catch(t){throw new yh(vh.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(t){return new rm(ru.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sm{constructor(...t){for(let e=0;e<t.length;++e)if(0===t[e].length)throw new yh(vh.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Bh(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class om{constructor(t){this._methodName=t}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class am{constructor(t,e){if(!isFinite(t)||t<-90||t>90)throw new yh(vh.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(e)||e<-180||e>180)throw new yh(vh.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+e);this._lat=t,this._long=e}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(t){return Rh(this._lat,t._lat)||Rh(this._long,t._long)}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hm=/^__.*__$/;class um{constructor(t,e,n){this.data=t,this.fieldMask=e,this.fieldTransforms=n}toMutation(t,e){return null!==this.fieldMask?new tc(t,this.data,this.fieldMask,e,this.fieldTransforms):new Jl(t,this.data,e,this.fieldTransforms)}}class lm{constructor(t,e,n){this.data=t,this.fieldMask=e,this.fieldTransforms=n}toMutation(t,e){return new tc(t,this.data,this.fieldMask,e,this.fieldTransforms)}}function cm(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ph()}}class dm{constructor(t,e,n,i,r,s){this.settings=t,this.databaseId=e,this.yt=n,this.ignoreUndefinedProperties=i,void 0===r&&this.na(),this.fieldTransforms=r||[],this.fieldMask=s||[]}get path(){return this.settings.path}get sa(){return this.settings.sa}ia(t){return new dm(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.yt,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}ra(t){var e;const n=null===(e=this.path)||void 0===e?void 0:e.child(t),i=this.ia({path:n,oa:!1});return i.ua(t),i}ca(t){var e;const n=null===(e=this.path)||void 0===e?void 0:e.child(t),i=this.ia({path:n,oa:!1});return i.na(),i}aa(t){return this.ia({path:void 0,oa:!0})}ha(t){return Rm(t,this.settings.methodName,this.settings.la||!1,this.path,this.settings.fa)}contains(t){return void 0!==this.fieldMask.find((e=>t.isPrefixOf(e)))||void 0!==this.fieldTransforms.find((e=>t.isPrefixOf(e.field)))}na(){if(this.path)for(let t=0;t<this.path.length;t++)this.ua(this.path.get(t))}ua(t){if(0===t.length)throw this.ha("Document fields must not be empty");if(cm(this.sa)&&hm.test(t))throw this.ha('Document fields cannot begin and end with "__"')}}class fm{constructor(t,e,n){this.databaseId=t,this.ignoreUndefinedProperties=e,this.yt=n||sf(t)}da(t,e,n,i=!1){return new dm({sa:t,methodName:e,fa:n,path:Bh.emptyPath(),oa:!1,la:i},this.databaseId,this.yt,this.ignoreUndefinedProperties)}}function pm(t){const e=t._freezeSettings(),n=sf(t._databaseId);return new fm(t._databaseId,!!e.ignoreUndefinedProperties,n)}function mm(t,e,n,i,r,s={}){const o=t.da(s.merge||s.mergeFields?2:0,e,n,r);xm("Data must be an object, but it was:",o,i);const a=Am(i,o);let h,u;if(s.merge)h=new el(o.fieldMask),u=o.fieldTransforms;else if(s.mergeFields){const t=[];for(const i of s.mergeFields){const r=Sm(e,i,n);if(!o.contains(r))throw new yh(vh.INVALID_ARGUMENT,`Field '${r}' is specified in your field mask but missing from your input data.`);Cm(t,r)||t.push(r)}h=new el(t),u=o.fieldTransforms.filter((t=>h.covers(t.field)))}else h=null,u=o.fieldTransforms;return new um(new nl(a),h,u)}class gm extends om{_toFieldTransform(t){if(2!==t.sa)throw 1===t.sa?t.ha(`${this._methodName}() can only appear at the top level of your update data`):t.ha(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return t.fieldMask.push(t.path),null}isEqual(t){return t instanceof gm}}function vm(t,e,n){return new dm({sa:3,fa:e.settings.fa,methodName:t._methodName,oa:n},e.databaseId,e.yt,e.ignoreUndefinedProperties)}class ym extends om{_toFieldTransform(t){return new Vl(t.path,new Dl)}isEqual(t){return t instanceof ym}}class bm extends om{constructor(t,e){super(t),this._a=e}_toFieldTransform(t){const e=vm(this,t,!0),n=this._a.map((t=>km(t,e))),i=new Ol(n);return new Vl(t.path,i)}isEqual(t){return this===t}}function wm(t,e,n,i){const r=t.da(1,e,n);xm("Data must be an object, but it was:",r,i);const s=[],o=nl.empty();Jh(i,((t,i)=>{const a=Im(e,t,n);i=D(i);const h=r.ca(a);if(i instanceof gm)s.push(a);else{const t=km(i,h);null!=t&&(s.push(a),o.set(a,t))}}));const a=new el(s);return new lm(o,a,r.fieldTransforms)}function _m(t,e,n,i,r,s){const o=t.da(1,e,n),a=[Sm(e,i,n)],h=[r];if(s.length%2!=0)throw new yh(vh.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let t=0;t<s.length;t+=2)a.push(Sm(e,s[t])),h.push(s[t+1]);const u=[],l=nl.empty();for(let t=a.length-1;t>=0;--t)if(!Cm(u,a[t])){const e=a[t];let n=h[t];n=D(n);const i=o.ca(e);if(n instanceof gm)u.push(e);else{const t=km(n,i);null!=t&&(u.push(e),l.set(e,t))}}const c=new el(u);return new lm(l,c,o.fieldTransforms)}function Mm(t,e,n,i=!1){return km(n,t.da(i?4:3,e))}function km(t,e){if(Em(t=D(t)))return xm("Unsupported field value:",e,t),Am(t,e);if(t instanceof om)return function(t,e){if(!cm(e.sa))throw e.ha(`${t._methodName}() can only be used with update() and set()`);if(!e.path)throw e.ha(`${t._methodName}() is not currently supported inside arrays`);const n=t._toFieldTransform(e);n&&e.fieldTransforms.push(n)}(t,e),null;if(void 0===t&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.oa&&4!==e.sa)throw e.ha("Nested arrays are not supported");return function(t,e){const n=[];let i=0;for(const r of t){let t=km(r,e.aa(i));null==t&&(t={nullValue:"NULL_VALUE"}),n.push(t),i++}return{arrayValue:{values:n}}}(t,e)}return function(t,e){if(null===(t=D(t)))return{nullValue:"NULL_VALUE"};if("number"==typeof t)return Rl(e.yt,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){const n=qh.fromDate(t);return{timestampValue:Pc(e.yt,n)}}if(t instanceof qh){const n=new qh(t.seconds,1e3*Math.floor(t.nanoseconds/1e3));return{timestampValue:Pc(e.yt,n)}}if(t instanceof am)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof rm)return{bytesValue:Uc(e.yt,t._byteString)};if(t instanceof Bp){const n=e.databaseId,i=t.firestore._databaseId;if(!i.isEqual(n))throw e.ha(`Document reference is for database ${i.projectId}/${i.database} but should be for database ${n.projectId}/${n.database}`);return{referenceValue:zc(t.firestore._databaseId||e.databaseId,t._key.path)}}throw e.ha(`Unsupported field value: ${Cp(t)}`)}(t,e)}function Am(t,e){const n={};return tu(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Jh(t,((t,i)=>{const r=km(i,e.ra(t));null!=r&&(n[t]=r)})),{mapValue:{fields:n}}}function Em(t){return!("object"!=typeof t||null===t||t instanceof Array||t instanceof Date||t instanceof qh||t instanceof am||t instanceof rm||t instanceof Bp||t instanceof om)}function xm(t,e,n){if(!Em(n)||!function(t){return"object"==typeof t&&null!==t&&(Object.getPrototypeOf(t)===Object.prototype||null===Object.getPrototypeOf(t))}(n)){const i=Cp(n);throw"an object"===i?e.ha(t+" a custom object"):e.ha(t+" "+i)}}function Sm(t,e,n){if((e=D(e))instanceof sm)return e._internalPath;if("string"==typeof e)return Im(t,e);throw Rm("Field path arguments must be of type string or ",t,!1,void 0,n)}const Tm=new RegExp("[~\\*/\\[\\]]");function Im(t,e,n){if(e.search(Tm)>=0)throw Rm(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new sm(...e.split("."))._internalPath}catch(i){throw Rm(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Rm(t,e,n,i,r){const s=i&&!i.isEmpty(),o=void 0!==r;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let h="";return(s||o)&&(h+=" (found",s&&(h+=` in field ${i}`),o&&(h+=` in document ${r}`),h+=")"),new yh(vh.INVALID_ARGUMENT,a+t+h)}function Cm(t,e){return t.some((t=>t.isEqual(e)))}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qm{constructor(t,e,n,i,r){this._firestore=t,this._userDataWriter=e,this._key=n,this._document=i,this._converter=r}get id(){return this._key.path.lastSegment()}get ref(){return new Bp(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const t=new Nm(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const e=this._document.data.field(Lm("DocumentSnapshot.get",t));if(null!==e)return this._userDataWriter.convertValue(e)}}}class Nm extends qm{data(){return super.data()}}function Lm(t,e){return"string"==typeof e?Im(t,e):e instanceof sm?e._internalPath:e._delegate._internalPath}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dm(t){if("L"===t.limitType&&0===t.explicitOrderBy.length)throw new yh(vh.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Om{}class Bm extends Om{}function Pm(t,e,...n){let i=[];e instanceof Om&&i.push(e),i=i.concat(n),function(t){const e=t.filter((t=>t instanceof jm)).length,n=t.filter((t=>t instanceof Um)).length;if(e>1||e>0&&n>0)throw new yh(vh.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(i);for(const e of i)t=e._apply(t);return t}class Um extends Bm{constructor(t,e,n){super(),this._field=t,this._op=e,this._value=n,this.type="where"}static _create(t,e,n){return new Um(t,e,n)}_apply(t){const e=this._parse(t);return $m(t._query,e),new Pp(t.firestore,t.converter,bl(t._query,e))}_parse(t){const e=pm(t.firestore),n=function(t,e,n,i,r,s,o){let a;if(r.isKeyField()){if("array-contains"===s||"array-contains-any"===s)throw new yh(vh.INVALID_ARGUMENT,`Invalid Query. You can't perform '${s}' queries on documentId().`);if("in"===s||"not-in"===s){Gm(o,s);const e=[];for(const n of o)e.push(Wm(i,t,n));a={arrayValue:{values:e}}}else a=Wm(i,t,o)}else"in"!==s&&"not-in"!==s&&"array-contains-any"!==s||Gm(o,s),a=Mm(n,"where",o,"in"===s||"not-in"===s);return qu.create(r,s,a)}(t._query,0,e,t.firestore._databaseId,this._field,this._op,this._value);return n}}function Fm(t,e,n){const i=e,r=Lm("where",t);return Um._create(r,i,n)}class jm extends Om{constructor(t,e){super(),this.type=t,this._queryConstraints=e}static _create(t,e){return new jm(t,e)}_parse(t){const e=this._queryConstraints.map((e=>e._parse(t))).filter((t=>t.getFilters().length>0));return 1===e.length?e[0]:Nu.create(e,this._getOperator())}_apply(t){const e=this._parse(t);return 0===e.getFilters().length?t:(function(t,e){let n=t;const i=e.getFlattenedFilters();for(const t of i)$m(n,t),n=bl(n,t)}(t._query,e),new Pp(t.firestore,t.converter,bl(t._query,e)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}class zm extends Bm{constructor(t,e){super(),this._field=t,this._direction=e,this.type="orderBy"}static _create(t,e){return new zm(t,e)}_apply(t){const e=function(t,e,n){if(null!==t.startAt)throw new yh(vh.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==t.endAt)throw new yh(vh.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const i=new $u(e,n);return function(t,e){if(null===pl(t)){const n=ml(t);null!==n&&Qm(t,n,e.field)}}(t,i),i}(t._query,this._field,this._direction);return new Pp(t.firestore,t.converter,function(t,e){const n=t.explicitOrderBy.concat([e]);return new ll(t.path,t.collectionGroup,n,t.filters.slice(),t.limit,t.limitType,t.startAt,t.endAt)}(t._query,e))}}function Vm(t,e="asc"){const n=e,i=Lm("orderBy",t);return zm._create(i,n)}class Hm extends Bm{constructor(t,e,n){super(),this.type=t,this._limit=e,this._limitType=n}static _create(t,e,n){return new Hm(t,e,n)}_apply(t){return new Pp(t.firestore,t.converter,wl(t._query,this._limit,this._limitType))}}function Km(t){return Np("limit",t),Hm._create("limit",t,"F")}function Wm(t,e,n){if("string"==typeof(n=D(n))){if(""===n)throw new yh(vh.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!gl(e)&&-1!==n.indexOf("/"))throw new yh(vh.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const i=e.path.child(Dh.fromString(n));if(!Ph.isDocumentKey(i))throw new yh(vh.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${i}' is not because it has an odd number of segments (${i.length}).`);return wu(t,new Ph(i))}if(n instanceof Bp)return wu(t,n._key);throw new yh(vh.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Cp(n)}.`)}function Gm(t,e){if(!Array.isArray(t)||0===t.length)throw new yh(vh.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`);if(t.length>10)throw new yh(vh.INVALID_ARGUMENT,`Invalid Query. '${e.toString()}' filters support a maximum of 10 elements in the value array.`)}function $m(t,e){if(e.isInequality()){const n=ml(t),i=e.field;if(null!==n&&!n.isEqual(i))throw new yh(vh.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${n.toString()}' and '${i.toString()}'`);const r=pl(t);null!==r&&Qm(t,i,r)}const n=function(t,e){for(const n of t)for(const t of n.getFlattenedFilters())if(e.indexOf(t.op)>=0)return t.op;return null}(t.filters,function(t){switch(t){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(null!==n)throw n===e.op?new yh(vh.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new yh(vh.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}function Qm(t,e,n){if(!n.isEqual(e))throw new yh(vh.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${e.toString()}' and so you must also use '${e.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${n.toString()}' instead.`)}class Xm{convertValue(t,e="none"){switch(fu(t)){case 0:return null;case 1:return t.booleanValue;case 2:return au(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,e);case 5:return t.stringValue;case 6:return this.convertBytes(hu(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,e);case 10:return this.convertObject(t.mapValue,e);default:throw ph()}}convertObject(t,e){const n={};return Jh(t.fields,((t,i)=>{n[t]=this.convertValue(i,e)})),n}convertGeoPoint(t){return new am(au(t.latitude),au(t.longitude))}convertArray(t,e){return(t.values||[]).map((t=>this.convertValue(t,e)))}convertServerTimestamp(t,e){switch(e){case"previous":const n=lu(t);return null==n?null:this.convertValue(n,e);case"estimate":return this.convertTimestamp(cu(t));default:return null}}convertTimestamp(t){const e=ou(t);return new qh(e.seconds,e.nanos)}convertDocumentKey(t,e){const n=Dh.fromString(t);mh(ud(n));const i=new Zh(n.get(1),n.get(3)),r=new Ph(n.popFirst(5));return i.isEqual(e)||ch(`Document ${r} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${e.projectId}/${e.database}) instead.`),r}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zm(t,e,n){let i;return i=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,i}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class Ym{constructor(t,e){this.hasPendingWrites=t,this.fromCache=e}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class Jm extends qm{constructor(t,e,n,i,r,s){super(t,e,n,i,s),this._firestore=t,this._firestoreImpl=t,this.metadata=r}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const e=new tg(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(e,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,e={}){if(this._document){const n=this._document.data.field(Lm("DocumentSnapshot.get",t));if(null!==n)return this._userDataWriter.convertValue(n,e.serverTimestamps)}}}class tg extends Jm{data(t={}){return super.data(t)}}class eg{constructor(t,e,n,i){this._firestore=t,this._userDataWriter=e,this._snapshot=i,this.metadata=new Ym(i.hasPendingWrites,i.fromCache),this.query=n}get docs(){const t=[];return this.forEach((e=>t.push(e))),t}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(t,e){this._snapshot.docs.forEach((n=>{t.call(e,new tg(this._firestore,this._userDataWriter,n.key,n,new Ym(this._snapshot.mutatedKeys.has(n.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(t={}){const e=!!t.includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new yh(vh.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=function(t,e){if(t._snapshot.oldDocs.isEmpty()){let e=0;return t._snapshot.docChanges.map((n=>{const i=new tg(t._firestore,t._userDataWriter,n.doc.key,n.doc,new Ym(t._snapshot.mutatedKeys.has(n.doc.key),t._snapshot.fromCache),t.query.converter);return n.doc,{type:"added",doc:i,oldIndex:-1,newIndex:e++}}))}{let n=t._snapshot.oldDocs;return t._snapshot.docChanges.filter((t=>e||3!==t.type)).map((e=>{const i=new tg(t._firestore,t._userDataWriter,e.doc.key,e.doc,new Ym(t._snapshot.mutatedKeys.has(e.doc.key),t._snapshot.fromCache),t.query.converter);let r=-1,s=-1;return 0!==e.type&&(r=n.indexOf(e.doc.key),n=n.delete(e.doc.key)),1!==e.type&&(n=n.add(e.doc),s=n.indexOf(e.doc.key)),{type:ng(e.type),doc:i,oldIndex:r,newIndex:s}}))}}(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges}}function ng(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ph()}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function ig(t){t=qp(t,Bp);const e=qp(t.firestore,tm);return Xp(nm(e),t._key).then((n=>dg(e,t,n)))}class rg extends Xm{constructor(t){super(),this.firestore=t}convertBytes(t){return new rm(t)}convertReference(t){const e=this.convertDocumentKey(t,this.firestore._databaseId);return new Bp(this.firestore,null,e)}}function sg(t){t=qp(t,Pp);const e=qp(t.firestore,tm),n=nm(e),i=new rg(e);return Dm(t._query),Zp(n,t._query).then((n=>new eg(e,i,t,n)))}function og(t,e,n){t=qp(t,Bp);const i=qp(t.firestore,tm),r=Zm(t.converter,e,n);return cg(i,[mm(pm(i),"setDoc",t._key,r,null!==t.converter,n).toMutation(t._key,Kl.none())])}function ag(t,e,n,...i){t=qp(t,Bp);const r=qp(t.firestore,tm),s=pm(r);let o;return o="string"==typeof(e=D(e))||e instanceof sm?_m(s,"updateDoc",t._key,e,n,i):wm(s,"updateDoc",t._key,e),cg(r,[o.toMutation(t._key,Kl.exists(!0))])}function hg(t){return cg(qp(t.firestore,tm),[new rc(t._key,Kl.none())])}function ug(t,e){const n=qp(t.firestore,tm),i=jp(t),r=Zm(t.converter,e);return cg(n,[mm(pm(t.firestore),"addDoc",i._key,r,null!==t.converter,{}).toMutation(i._key,Kl.exists(!1))]).then((()=>i))}function lg(t,...e){var n,i,r;t=D(t);let s={includeMetadataChanges:!1},o=0;"object"!=typeof e[o]||Jp(e[o])||(s=e[o],o++);const a={includeMetadataChanges:s.includeMetadataChanges};if(Jp(e[o])){const t=e[o];e[o]=null===(n=t.next)||void 0===n?void 0:n.bind(t),e[o+1]=null===(i=t.error)||void 0===i?void 0:i.bind(t),e[o+2]=null===(r=t.complete)||void 0===r?void 0:r.bind(t)}let h,u,l;if(t instanceof Bp)u=qp(t.firestore,tm),l=dl(t._key.path),h={next:n=>{e[o]&&e[o](dg(u,t,n))},error:e[o+1],complete:e[o+2]};else{const n=qp(t,Pp);u=qp(n.firestore,tm),l=n._query;const i=new rg(u);h={next:t=>{e[o]&&e[o](new eg(u,i,n,t))},error:e[o+1],complete:e[o+2]},Dm(t._query)}return function(t,e,n,i){const r=new zp(i),s=new Jf(e,r,n);return t.asyncQueue.enqueueAndForget((async()=>$f(await Qp(t),s))),()=>{r.bc(),t.asyncQueue.enqueueAndForget((async()=>Qf(await Qp(t),s)))}}(nm(u),l,a,h)}function cg(t,e){return function(t,e){const n=new bh;return t.asyncQueue.enqueueAndForget((async()=>async function(t,e,n){const i=Ep(t);try{const t=await function(t,e){const n=gh(t),i=qh.now(),r=e.reduce(((t,e)=>t.add(e.key)),Mc());let s,o;return n.persistence.runTransaction("Locally write mutations","readwrite",(t=>{let a=fc(),h=Mc();return n.Gi.getEntries(t,r).next((t=>{a=t,a.forEach(((t,e)=>{e.isValidDocument()||(h=h.add(t))}))})).next((()=>n.localDocuments.getOverlayedDocuments(t,a))).next((r=>{s=r;const o=[];for(const t of e){const e=Zl(t,s.get(t.key).overlayedDocument);null!=e&&o.push(new tc(t.key,e,il(e.value.mapValue),Kl.exists(!0)))}return n.mutationQueue.addMutationBatch(t,i,o,e)})).next((e=>{o=e;const i=e.applyToLocalDocumentSet(s,h);return n.documentOverlayCache.saveOverlays(t,e.batchId,i)}))})).then((()=>({batchId:o.batchId,changes:gc(s)})))}(i.localStore,e);i.sharedClientState.addPendingMutation(t.batchId),function(t,e,n){let i=t.hc[t.currentUser.toKey()];i||(i=new Xu(Rh)),i=i.insert(e,n),t.hc[t.currentUser.toKey()]=i}(i,t.batchId,n),await _p(i,t.changes),await Tf(i.remoteStore)}catch(t){const e=zf(t,"Failed to persist write");n.reject(e)}}(await $p(t),e,n))),n.promise}(nm(t),e)}function dg(t,e,n){const i=n.docs.get(e._key),r=new rg(t);return new Jm(t,r,e._key,i,new Ym(n.hasPendingWrites,n.fromCache),e.converter)}
/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fg(){return new ym("serverTimestamp")}function pg(...t){return new bm("arrayUnion",t)}!function(t,e=!0){ah=xt,Mt(new O("firestore",((t,{instanceIdentifier:n,options:i})=>{const r=t.getProvider("app").getImmediate(),s=new tm(new kh(t.getProvider("auth-internal")),new Sh(t.getProvider("app-check-internal")),function(t,e){if(!Object.prototype.hasOwnProperty.apply(t.options,["projectId"]))throw new yh(vh.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Zh(t.options.projectId,e)}(r,n),r);return i=Object.assign({useFetchStreams:e},i),s._setSettings(i),s}),"PUBLIC").setMultipleInstances(!0)),It(sh,"3.8.3",t),It(sh,"3.8.3","esm2017")}();
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
const mg="firebasestorage.googleapis.com",gg="storageBucket";
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class vg extends k{constructor(t,e,n=0){super(Mg(t),`Firebase Storage: ${e} (${Mg(t)})`),this.status_=n,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,vg.prototype)}get status(){return this.status_}set status(t){this.status_=t}_codeEquals(t){return Mg(t)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(t){this.customData.serverResponse=t,this.customData.serverResponse?this.message=`${this._baseMessage}\n${this.customData.serverResponse}`:this.message=this._baseMessage}}var yg,bg,wg,_g;function Mg(t){return"storage/"+t}function kg(){return new vg(yg.UNKNOWN,"An unknown error occurred, please check the error payload for server response.")}function Ag(){return new vg(yg.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function Eg(){return new vg(yg.CANCELED,"User canceled the upload/download.")}function xg(){return new vg(yg.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function Sg(t){return new vg(yg.INVALID_ARGUMENT,t)}function Tg(){return new vg(yg.APP_DELETED,"The Firebase app was deleted.")}function Ig(t,e){return new vg(yg.INVALID_FORMAT,"String does not match format '"+t+"': "+e)}function Rg(t){throw new vg(yg.INTERNAL_ERROR,"Internal error: "+t)}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(bg=yg||(yg={})).UNKNOWN="unknown",bg.OBJECT_NOT_FOUND="object-not-found",bg.BUCKET_NOT_FOUND="bucket-not-found",bg.PROJECT_NOT_FOUND="project-not-found",bg.QUOTA_EXCEEDED="quota-exceeded",bg.UNAUTHENTICATED="unauthenticated",bg.UNAUTHORIZED="unauthorized",bg.UNAUTHORIZED_APP="unauthorized-app",bg.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",bg.INVALID_CHECKSUM="invalid-checksum",bg.CANCELED="canceled",bg.INVALID_EVENT_NAME="invalid-event-name",bg.INVALID_URL="invalid-url",bg.INVALID_DEFAULT_BUCKET="invalid-default-bucket",bg.NO_DEFAULT_BUCKET="no-default-bucket",bg.CANNOT_SLICE_BLOB="cannot-slice-blob",bg.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",bg.NO_DOWNLOAD_URL="no-download-url",bg.INVALID_ARGUMENT="invalid-argument",bg.INVALID_ARGUMENT_COUNT="invalid-argument-count",bg.APP_DELETED="app-deleted",bg.INVALID_ROOT_OPERATION="invalid-root-operation",bg.INVALID_FORMAT="invalid-format",bg.INTERNAL_ERROR="internal-error",bg.UNSUPPORTED_ENVIRONMENT="unsupported-environment";class Cg{constructor(t,e){this.bucket=t,this.path_=e}get path(){return this.path_}get isRoot(){return 0===this.path.length}fullServerUrl(){const t=encodeURIComponent;return"/b/"+t(this.bucket)+"/o/"+t(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(t,e){let n;try{n=Cg.makeFromUrl(t,e)}catch(e){return new Cg(t,"")}if(""===n.path)return n;throw i=t,new vg(yg.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+i+"'.");var i}static makeFromUrl(t,e){let n=null;const i="([A-Za-z0-9.\\-_]+)";const r=new RegExp("^gs://"+i+"(/(.*))?$","i");function s(t){t.path_=decodeURIComponent(t.path)}const o=e.replace(/[.]/g,"\\."),a=[{regex:r,indices:{bucket:1,path:3},postModify:function(t){"/"===t.path.charAt(t.path.length-1)&&(t.path_=t.path_.slice(0,-1))}},{regex:new RegExp(`^https?://${o}/v[A-Za-z0-9_]+/b/${i}/o(/([^?#]*).*)?$`,"i"),indices:{bucket:1,path:3},postModify:s},{regex:new RegExp(`^https?://${e===mg?"(?:storage.googleapis.com|storage.cloud.google.com)":e}/${i}/([^?#]*)`,"i"),indices:{bucket:1,path:2},postModify:s}];for(let e=0;e<a.length;e++){const i=a[e],r=i.regex.exec(t);if(r){const t=r[i.indices.bucket];let e=r[i.indices.path];e||(e=""),n=new Cg(t,e),i.postModify(n);break}}if(null==n)throw function(t){return new vg(yg.INVALID_URL,"Invalid URL '"+t+"'.")}(t);return n}}class qg{constructor(t){this.promise_=Promise.reject(t)}getPromise(){return this.promise_}cancel(t=!1){}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ng(t){return"string"==typeof t||t instanceof String}function Lg(t){return Dg()&&t instanceof Blob}function Dg(){return"undefined"!=typeof Blob&&!b()}function Og(t,e,n,i){if(i<e)throw Sg(`Invalid value for '${t}'. Expected ${e} or greater.`);if(i>n)throw Sg(`Invalid value for '${t}'. Expected ${n} or less.`)}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bg(t,e,n){let i=e;return null==n&&(i=`https://${e}`),`${n}://${i}/v0${t}`}function Pg(t){const e=encodeURIComponent;let n="?";for(const i in t)if(t.hasOwnProperty(i)){n=n+(e(i)+"="+e(t[i]))+"&"}return n=n.slice(0,-1),n}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function Ug(t,e){const n=t>=500&&t<600,i=-1!==[408,429].indexOf(t),r=-1!==e.indexOf(t);return n||i||r}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(_g=wg||(wg={}))[_g.NO_ERROR=0]="NO_ERROR",_g[_g.NETWORK_ERROR=1]="NETWORK_ERROR",_g[_g.ABORT=2]="ABORT";class Fg{constructor(t,e,n,i,r,s,o,a,h,u,l,c=!0){this.url_=t,this.method_=e,this.headers_=n,this.body_=i,this.successCodes_=r,this.additionalRetryCodes_=s,this.callback_=o,this.errorCallback_=a,this.timeout_=h,this.progressCallback_=u,this.connectionFactory_=l,this.retry=c,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise(((t,e)=>{this.resolve_=t,this.reject_=e,this.start_()}))}start_(){const t=(t,e)=>{const n=this.resolve_,i=this.reject_,r=e.connection;if(e.wasSuccessCode)try{const t=this.callback_(r,r.getResponse());void 0!==t?n(t):n()}catch(t){i(t)}else if(null!==r){const t=kg();t.serverResponse=r.getErrorText(),this.errorCallback_?i(this.errorCallback_(r,t)):i(t)}else if(e.canceled){i(this.appDelete_?Tg():Eg())}else{i(Ag())}};this.canceled_?t(0,new jg(!1,null,!0)):this.backoffId_=function(t,e,n){let i=1,r=null,s=null,o=!1,a=0;function h(){return 2===a}let u=!1;function l(...t){u||(u=!0,e.apply(null,t))}function c(e){r=setTimeout((()=>{r=null,t(f,h())}),e)}function d(){s&&clearTimeout(s)}function f(t,...e){if(u)return void d();if(t)return d(),void l.call(null,t,...e);if(h()||o)return d(),void l.call(null,t,...e);let n;i<64&&(i*=2),1===a?(a=2,n=0):n=1e3*(i+Math.random()),c(n)}let p=!1;function m(t){p||(p=!0,d(),u||(null!==r?(t||(a=2),clearTimeout(r),c(0)):t||(a=1)))}return c(0),s=setTimeout((()=>{o=!0,m(!0)}),n),m}(((t,e)=>{if(e)return void t(!1,new jg(!1,null,!0));const n=this.connectionFactory_();this.pendingConnection_=n;const i=t=>{const e=t.loaded,n=t.lengthComputable?t.total:-1;null!==this.progressCallback_&&this.progressCallback_(e,n)};null!==this.progressCallback_&&n.addUploadProgressListener(i),n.send(this.url_,this.method_,this.body_,this.headers_).then((()=>{null!==this.progressCallback_&&n.removeUploadProgressListener(i),this.pendingConnection_=null;const e=n.getErrorCode()===wg.NO_ERROR,r=n.getStatus();if(!e||Ug(r,this.additionalRetryCodes_)&&this.retry){const e=n.getErrorCode()===wg.ABORT;return void t(!1,new jg(!1,null,e))}const s=-1!==this.successCodes_.indexOf(r);t(!0,new jg(s,n))}))}),t,this.timeout_)}getPromise(){return this.promise_}cancel(t){this.canceled_=!0,this.appDelete_=t||!1,null!==this.backoffId_&&(0,this.backoffId_)(!1),null!==this.pendingConnection_&&this.pendingConnection_.abort()}}class jg{constructor(t,e,n){this.wasSuccessCode=t,this.connection=e,this.canceled=!!n}}function zg(...t){const e="undefined"!=typeof BlobBuilder?BlobBuilder:"undefined"!=typeof WebKitBlobBuilder?WebKitBlobBuilder:void 0;if(void 0!==e){const n=new e;for(let e=0;e<t.length;e++)n.append(t[e]);return n.getBlob()}if(Dg())return new Blob(t);throw new vg(yg.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}
/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vg(t){if("undefined"==typeof atob)throw e="base-64",new vg(yg.UNSUPPORTED_ENVIRONMENT,`${e} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`);var e;return atob(t)}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hg={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class Kg{constructor(t,e){this.data=t,this.contentType=e||null}}function Wg(t,e){switch(t){case Hg.RAW:return new Kg(Gg(e));case Hg.BASE64:case Hg.BASE64URL:return new Kg($g(t,e));case Hg.DATA_URL:return new Kg(function(t){const e=new Qg(t);return e.base64?$g(Hg.BASE64,e.rest):function(t){let e;try{e=decodeURIComponent(t)}catch(t){throw Ig(Hg.DATA_URL,"Malformed data URL.")}return Gg(e)}(e.rest)}(e),new Qg(e).contentType)}throw kg()}function Gg(t){const e=[];for(let n=0;n<t.length;n++){let i=t.charCodeAt(n);if(i<=127)e.push(i);else if(i<=2047)e.push(192|i>>6,128|63&i);else if(55296==(64512&i)){if(n<t.length-1&&56320==(64512&t.charCodeAt(n+1))){i=65536|(1023&i)<<10|1023&t.charCodeAt(++n),e.push(240|i>>18,128|i>>12&63,128|i>>6&63,128|63&i)}else e.push(239,191,189)}else 56320==(64512&i)?e.push(239,191,189):e.push(224|i>>12,128|i>>6&63,128|63&i)}return new Uint8Array(e)}function $g(t,e){switch(t){case Hg.BASE64:{const n=-1!==e.indexOf("-"),i=-1!==e.indexOf("_");if(n||i){throw Ig(t,"Invalid character '"+(n?"-":"_")+"' found: is it base64url encoded?")}break}case Hg.BASE64URL:{const n=-1!==e.indexOf("+"),i=-1!==e.indexOf("/");if(n||i){throw Ig(t,"Invalid character '"+(n?"+":"/")+"' found: is it base64 encoded?")}e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let n;try{n=Vg(e)}catch(e){if(e.message.includes("polyfill"))throw e;throw Ig(t,"Invalid character found")}const i=new Uint8Array(n.length);for(let t=0;t<n.length;t++)i[t]=n.charCodeAt(t);return i}class Qg{constructor(t){this.base64=!1,this.contentType=null;const e=t.match(/^data:([^,]+)?,/);if(null===e)throw Ig(Hg.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const n=e[1]||null;var i,r;
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */null!=n&&(this.base64=(r=";base64",!!((i=n).length>=r.length)&&i.substring(i.length-r.length)===r),this.contentType=this.base64?n.substring(0,n.length-7):n),this.rest=t.substring(t.indexOf(",")+1)}}class Xg{constructor(t,e){let n=0,i="";Lg(t)?(this.data_=t,n=t.size,i=t.type):t instanceof ArrayBuffer?(e?this.data_=new Uint8Array(t):(this.data_=new Uint8Array(t.byteLength),this.data_.set(new Uint8Array(t))),n=this.data_.length):t instanceof Uint8Array&&(e?this.data_=t:(this.data_=new Uint8Array(t.length),this.data_.set(t)),n=t.length),this.size_=n,this.type_=i}size(){return this.size_}type(){return this.type_}slice(t,e){if(Lg(this.data_)){const s=this.data_,o=(i=t,r=e,(n=s).webkitSlice?n.webkitSlice(i,r):n.mozSlice?n.mozSlice(i,r):n.slice?n.slice(i,r):null);return null===o?null:new Xg(o)}{const n=new Uint8Array(this.data_.buffer,t,e-t);return new Xg(n,!0)}var n,i,r}static getBlob(...t){if(Dg()){const e=t.map((t=>t instanceof Xg?t.data_:t));return new Xg(zg.apply(null,e))}{const e=t.map((t=>Ng(t)?Wg(Hg.RAW,t).data:t.data_));let n=0;e.forEach((t=>{n+=t.byteLength}));const i=new Uint8Array(n);let r=0;return e.forEach((t=>{for(let e=0;e<t.length;e++)i[r++]=t[e]})),new Xg(i,!0)}}uploadData(){return this.data_}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zg(t){let e;try{e=JSON.parse(t)}catch(t){return null}return"object"!=typeof(n=e)||Array.isArray(n)?null:e;var n}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yg(t){const e=t.lastIndexOf("/",t.length-2);return-1===e?t:t.slice(e+1)}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jg(t,e){return e}class tv{constructor(t,e,n,i){this.server=t,this.local=e||t,this.writable=!!n,this.xform=i||Jg}}let ev=null;function nv(){if(ev)return ev;const t=[];t.push(new tv("bucket")),t.push(new tv("generation")),t.push(new tv("metageneration")),t.push(new tv("name","fullPath",!0));const e=new tv("name");e.xform=function(t,e){return function(t){return!Ng(t)||t.length<2?t:Yg(t)}(e)},t.push(e);const n=new tv("size");return n.xform=function(t,e){return void 0!==e?Number(e):e},t.push(n),t.push(new tv("timeCreated")),t.push(new tv("updated")),t.push(new tv("md5Hash",null,!0)),t.push(new tv("cacheControl",null,!0)),t.push(new tv("contentDisposition",null,!0)),t.push(new tv("contentEncoding",null,!0)),t.push(new tv("contentLanguage",null,!0)),t.push(new tv("contentType",null,!0)),t.push(new tv("metadata","customMetadata",!0)),ev=t,ev}function iv(t,e,n){const i={type:"file"},r=n.length;for(let t=0;t<r;t++){const r=n[t];i[r.local]=r.xform(i,e[r.server])}return function(t,e){Object.defineProperty(t,"ref",{get:function(){const n=t.bucket,i=t.fullPath,r=new Cg(n,i);return e._makeStorageReference(r)}})}(i,t),i}function rv(t,e,n){const i=Zg(e);if(null===i)return null;return iv(t,i,n)}function sv(t,e){const n={},i=e.length;for(let r=0;r<i;r++){const i=e[r];i.writable&&(n[i.server]=t[i.local])}return JSON.stringify(n)}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ov{constructor(t,e,n,i){this.url=t,this.method=e,this.handler=n,this.timeout=i,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function av(t){if(!t)throw kg()}function hv(t,e){return function(n,i){const r=rv(t,i,e);return av(null!==r),r}}function uv(t,e){return function(n,i){const r=rv(t,i,e);return av(null!==r),function(t,e,n,i){const r=Zg(e);if(null===r)return null;if(!Ng(r.downloadTokens))return null;const s=r.downloadTokens;if(0===s.length)return null;const o=encodeURIComponent;return s.split(",").map((e=>{const r=t.bucket,s=t.fullPath;return Bg("/b/"+o(r)+"/o/"+o(s),n,i)+Pg({alt:"media",token:e})}))[0]}(r,i,t.host,t._protocol)}}function lv(t){return function(e,n){let i;var r,s;return 401===e.getStatus()?i=e.getErrorText().includes("Firebase App Check token is invalid")?new vg(yg.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project."):new vg(yg.UNAUTHENTICATED,"User is not authenticated, please authenticate using Firebase Authentication and try again."):402===e.getStatus()?(s=t.bucket,i=new vg(yg.QUOTA_EXCEEDED,"Quota for bucket '"+s+"' exceeded, please view quota on https://firebase.google.com/pricing/.")):403===e.getStatus()?(r=t.path,i=new vg(yg.UNAUTHORIZED,"User does not have permission to access '"+r+"'.")):i=n,i.status=e.getStatus(),i.serverResponse=n.serverResponse,i}}function cv(t){const e=lv(t);return function(n,i){let r=e(n,i);var s;return 404===n.getStatus()&&(s=t.path,r=new vg(yg.OBJECT_NOT_FOUND,"Object '"+s+"' does not exist.")),r.serverResponse=i.serverResponse,r}}function dv(t,e,n){const i=Bg(e.fullServerUrl(),t.host,t._protocol),r=t.maxOperationRetryTime,s=new ov(i,"GET",hv(t,n),r);return s.errorHandler=cv(e),s}function fv(t,e,n){const i=Object.assign({},n);return i.fullPath=t.path,i.size=e.size(),i.contentType||(i.contentType=function(t,e){return t&&t.contentType||e&&e.type()||"application/octet-stream"}(null,e)),i}function pv(t,e,n,i,r){const s=e.bucketOnlyServerUrl(),o={"X-Goog-Upload-Protocol":"multipart"};const a=function(){let t="";for(let e=0;e<2;e++)t+=Math.random().toString().slice(2);return t}();o["Content-Type"]="multipart/related; boundary="+a;const h=fv(e,i,r),u="--"+a+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+sv(h,n)+"\r\n--"+a+"\r\nContent-Type: "+h.contentType+"\r\n\r\n",l="\r\n--"+a+"--",c=Xg.getBlob(u,i,l);if(null===c)throw xg();const d={name:h.fullPath},f=Bg(s,t.host,t._protocol),p=t.maxUploadRetryTime,m=new ov(f,"POST",hv(t,n),p);return m.urlParams=d,m.headers=o,m.body=c.uploadData(),m.errorHandler=lv(e),m}class mv{constructor(t,e,n,i){this.current=t,this.total=e,this.finalized=!!n,this.metadata=i||null}}function gv(t,e){let n=null;try{n=t.getResponseHeader("X-Goog-Upload-Status")}catch(t){av(!1)}return av(!!n&&-1!==(e||["active"]).indexOf(n)),n}const vv=262144;function yv(t,e,n,i,r,s,o,a){const h=new mv(0,0);if(o?(h.current=o.current,h.total=o.total):(h.current=0,h.total=i.size()),i.size()!==h.total)throw new vg(yg.SERVER_FILE_WRONG_SIZE,"Server recorded incorrect upload file size, please retry the upload.");const u=h.total-h.current;let l=u;r>0&&(l=Math.min(l,r));const c=h.current,d=c+l;let f="";f=0===l?"finalize":u===l?"upload, finalize":"upload";const p={"X-Goog-Upload-Command":f,"X-Goog-Upload-Offset":`${h.current}`},m=i.slice(c,d);if(null===m)throw xg();const g=e.maxUploadRetryTime,v=new ov(n,"POST",(function(t,n){const r=gv(t,["active","final"]),o=h.current+l,a=i.size();let u;return u="final"===r?hv(e,s)(t,n):null,new mv(o,a,"final"===r,u)}),g);return v.headers=p,v.body=m.uploadData(),v.progressCallback=a||null,v.errorHandler=lv(t),v}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bv={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function wv(t){switch(t){case"running":case"pausing":case"canceling":return bv.RUNNING;case"paused":return bv.PAUSED;case"success":return bv.SUCCESS;case"canceled":return bv.CANCELED;default:return bv.ERROR}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _v{constructor(t,e,n){if("function"==typeof t||null!=e||null!=n)this.next=t,this.error=null!=e?e:void 0,this.complete=null!=n?n:void 0;else{const e=t;this.next=e.next,this.error=e.error,this.complete=e.complete}}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mv(t){return(...e)=>{Promise.resolve().then((()=>t(...e)))}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let kv=null;class Av{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=wg.NO_ERROR,this.sendPromise_=new Promise((t=>{this.xhr_.addEventListener("abort",(()=>{this.errorCode_=wg.ABORT,t()})),this.xhr_.addEventListener("error",(()=>{this.errorCode_=wg.NETWORK_ERROR,t()})),this.xhr_.addEventListener("load",(()=>{t()}))}))}send(t,e,n,i){if(this.sent_)throw Rg("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(e,t,!0),void 0!==i)for(const t in i)i.hasOwnProperty(t)&&this.xhr_.setRequestHeader(t,i[t].toString());return void 0!==n?this.xhr_.send(n):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw Rg("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw Rg("cannot .getStatus() before sending");try{return this.xhr_.status}catch(t){return-1}}getResponse(){if(!this.sent_)throw Rg("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw Rg("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(t){return this.xhr_.getResponseHeader(t)}addUploadProgressListener(t){null!=this.xhr_.upload&&this.xhr_.upload.addEventListener("progress",t)}removeUploadProgressListener(t){null!=this.xhr_.upload&&this.xhr_.upload.removeEventListener("progress",t)}}class Ev extends Av{initXhr(){this.xhr_.responseType="text"}}function xv(){return kv?kv():new Ev}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class Sv{constructor(t,e,n=null){this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=t,this._blob=e,this._metadata=n,this._mappings=nv(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=t=>{if(this._request=void 0,this._chunkMultiplier=1,t._codeEquals(yg.CANCELED))this._needToFetchStatus=!0,this.completeTransitions_();else{const e=this.isExponentialBackoffExpired();if(Ug(t.status,[])){if(!e)return this.sleepTime=Math.max(2*this.sleepTime,1e3),this._needToFetchStatus=!0,void this.completeTransitions_();t=Ag()}this._error=t,this._transition("error")}},this._metadataErrorHandler=t=>{this._request=void 0,t._codeEquals(yg.CANCELED)?this.completeTransitions_():(this._error=t,this._transition("error"))},this.sleepTime=0,this.maxSleepTime=this._ref.storage.maxUploadRetryTime,this._promise=new Promise(((t,e)=>{this._resolve=t,this._reject=e,this._start()})),this._promise.then(null,(()=>{}))}isExponentialBackoffExpired(){return this.sleepTime>this.maxSleepTime}_makeProgressCallback(){const t=this._transferred;return e=>this._updateProgress(t+e)}_shouldDoResumable(t){return t.size()>262144}_start(){"running"===this._state&&void 0===this._request&&(this._resumable?void 0===this._uploadUrl?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this.pendingTimeout=setTimeout((()=>{this.pendingTimeout=void 0,this._continueUpload()}),this.sleepTime):this._oneShotUpload())}_resolveToken(t){Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then((([e,n])=>{switch(this._state){case"running":t(e,n);break;case"canceling":this._transition("canceled");break;case"pausing":this._transition("paused")}}))}_createResumable(){this._resolveToken(((t,e)=>{const n=function(t,e,n,i,r){const s=e.bucketOnlyServerUrl(),o=fv(e,i,r),a={name:o.fullPath},h=Bg(s,t.host,t._protocol),u={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${i.size()}`,"X-Goog-Upload-Header-Content-Type":o.contentType,"Content-Type":"application/json; charset=utf-8"},l=sv(o,n),c=t.maxUploadRetryTime,d=new ov(h,"POST",(function(t){let e;gv(t);try{e=t.getResponseHeader("X-Goog-Upload-URL")}catch(t){av(!1)}return av(Ng(e)),e}),c);return d.urlParams=a,d.headers=u,d.body=l,d.errorHandler=lv(e),d}(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),i=this._ref.storage._makeRequest(n,xv,t,e);this._request=i,i.getPromise().then((t=>{this._request=void 0,this._uploadUrl=t,this._needToFetchStatus=!1,this.completeTransitions_()}),this._errorHandler)}))}_fetchStatus(){const t=this._uploadUrl;this._resolveToken(((e,n)=>{const i=function(t,e,n,i){const r=t.maxUploadRetryTime,s=new ov(n,"POST",(function(t){const e=gv(t,["active","final"]);let n=null;try{n=t.getResponseHeader("X-Goog-Upload-Size-Received")}catch(t){av(!1)}n||av(!1);const r=Number(n);return av(!isNaN(r)),new mv(r,i.size(),"final"===e)}),r);return s.headers={"X-Goog-Upload-Command":"query"},s.errorHandler=lv(e),s}(this._ref.storage,this._ref._location,t,this._blob),r=this._ref.storage._makeRequest(i,xv,e,n);this._request=r,r.getPromise().then((t=>{this._request=void 0,this._updateProgress(t.current),this._needToFetchStatus=!1,t.finalized&&(this._needToFetchMetadata=!0),this.completeTransitions_()}),this._errorHandler)}))}_continueUpload(){const t=vv*this._chunkMultiplier,e=new mv(this._transferred,this._blob.size()),n=this._uploadUrl;this._resolveToken(((i,r)=>{let s;try{s=yv(this._ref._location,this._ref.storage,n,this._blob,t,this._mappings,e,this._makeProgressCallback())}catch(t){return this._error=t,void this._transition("error")}const o=this._ref.storage._makeRequest(s,xv,i,r,!1);this._request=o,o.getPromise().then((t=>{this._increaseMultiplier(),this._request=void 0,this._updateProgress(t.current),t.finalized?(this._metadata=t.metadata,this._transition("success")):this.completeTransitions_()}),this._errorHandler)}))}_increaseMultiplier(){2*(vv*this._chunkMultiplier)<33554432&&(this._chunkMultiplier*=2)}_fetchMetadata(){this._resolveToken(((t,e)=>{const n=dv(this._ref.storage,this._ref._location,this._mappings),i=this._ref.storage._makeRequest(n,xv,t,e);this._request=i,i.getPromise().then((t=>{this._request=void 0,this._metadata=t,this._transition("success")}),this._metadataErrorHandler)}))}_oneShotUpload(){this._resolveToken(((t,e)=>{const n=pv(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),i=this._ref.storage._makeRequest(n,xv,t,e);this._request=i,i.getPromise().then((t=>{this._request=void 0,this._metadata=t,this._updateProgress(this._blob.size()),this._transition("success")}),this._errorHandler)}))}_updateProgress(t){const e=this._transferred;this._transferred=t,this._transferred!==e&&this._notifyObservers()}_transition(t){if(this._state!==t)switch(t){case"canceling":case"pausing":this._state=t,void 0!==this._request?this._request.cancel():this.pendingTimeout&&(clearTimeout(this.pendingTimeout),this.pendingTimeout=void 0,this.completeTransitions_());break;case"running":const e="paused"===this._state;this._state=t,e&&(this._notifyObservers(),this._start());break;case"paused":case"error":case"success":this._state=t,this._notifyObservers();break;case"canceled":this._error=Eg(),this._state=t,this._notifyObservers()}}completeTransitions_(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start()}}get snapshot(){const t=wv(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:t,metadata:this._metadata,task:this,ref:this._ref}}on(t,e,n,i){const r=new _v(e||void 0,n||void 0,i||void 0);return this._addObserver(r),()=>{this._removeObserver(r)}}then(t,e){return this._promise.then(t,e)}catch(t){return this.then(null,t)}_addObserver(t){this._observers.push(t),this._notifyObserver(t)}_removeObserver(t){const e=this._observers.indexOf(t);-1!==e&&this._observers.splice(e,1)}_notifyObservers(){this._finishPromise();this._observers.slice().forEach((t=>{this._notifyObserver(t)}))}_finishPromise(){if(void 0!==this._resolve){let t=!0;switch(wv(this._state)){case bv.SUCCESS:Mv(this._resolve.bind(null,this.snapshot))();break;case bv.CANCELED:case bv.ERROR:Mv(this._reject.bind(null,this._error))();break;default:t=!1}t&&(this._resolve=void 0,this._reject=void 0)}}_notifyObserver(t){switch(wv(this._state)){case bv.RUNNING:case bv.PAUSED:t.next&&Mv(t.next.bind(t,this.snapshot))();break;case bv.SUCCESS:t.complete&&Mv(t.complete.bind(t))();break;case bv.CANCELED:case bv.ERROR:default:t.error&&Mv(t.error.bind(t,this._error))()}}resume(){const t="paused"===this._state||"pausing"===this._state;return t&&this._transition("running"),t}pause(){const t="running"===this._state;return t&&this._transition("pausing"),t}cancel(){const t="running"===this._state||"pausing"===this._state;return t&&this._transition("canceling"),t}}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tv{constructor(t,e){this._service=t,this._location=e instanceof Cg?e:Cg.makeFromUrl(e,t.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(t,e){return new Tv(t,e)}get root(){const t=new Cg(this._location.bucket,"");return this._newRef(this._service,t)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return Yg(this._location.path)}get storage(){return this._service}get parent(){const t=function(t){if(0===t.length)return null;const e=t.lastIndexOf("/");return-1===e?"":t.slice(0,e)}(this._location.path);if(null===t)return null;const e=new Cg(this._location.bucket,t);return new Tv(this._service,e)}_throwIfRoot(t){if(""===this._location.path)throw function(t){return new vg(yg.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}(t)}}function Iv(t){t._throwIfRoot("getDownloadURL");const e=function(t,e,n){const i=Bg(e.fullServerUrl(),t.host,t._protocol),r=t.maxOperationRetryTime,s=new ov(i,"GET",uv(t,n),r);return s.errorHandler=cv(e),s}(t.storage,t._location,nv());return t.storage.makeRequestWithTokens(e,xv).then((t=>{if(null===t)throw new vg(yg.NO_DOWNLOAD_URL,"The given file does not have any download URLs.");return t}))}function Rv(t,e){const n=function(t,e){const n=e.split("/").filter((t=>t.length>0)).join("/");return 0===t.length?n:t+"/"+n}(t._location.path,e),i=new Cg(t._location.bucket,n);return new Tv(t.storage,i)}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cv(t,e){if(t instanceof Lv){const n=t;if(null==n._bucket)throw new vg(yg.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+gg+"' property when initializing the app?");const i=new Tv(n,n._bucket);return null!=e?Cv(i,e):i}return void 0!==e?Rv(t,e):t}function qv(t,e){if(e&&/^[A-Za-z]+:\/\//.test(e)){if(t instanceof Lv)return new Tv(t,e);throw Sg("To use ref(service, url), the first argument must be a Storage instance.")}return Cv(t,e)}function Nv(t,e){const n=null==e?void 0:e[gg];return null==n?null:Cg.makeFromBucketSpec(n,t)}class Lv{constructor(t,e,n,i,r){this.app=t,this._authProvider=e,this._appCheckProvider=n,this._url=i,this._firebaseVersion=r,this._bucket=null,this._host=mg,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=i?Cg.makeFromBucketSpec(i,this._host):Nv(this._host,this.app.options)}get host(){return this._host}set host(t){this._host=t,null!=this._url?this._bucket=Cg.makeFromBucketSpec(this._url,t):this._bucket=Nv(t,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(t){Og("time",0,Number.POSITIVE_INFINITY,t),this._maxUploadRetryTime=t}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(t){Og("time",0,Number.POSITIVE_INFINITY,t),this._maxOperationRetryTime=t}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const t=this._authProvider.getImmediate({optional:!0});if(t){const e=await t.getToken();if(null!==e)return e.accessToken}return null}async _getAppCheckToken(){const t=this._appCheckProvider.getImmediate({optional:!0});if(t){return(await t.getToken()).token}return null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach((t=>t.cancel())),this._requests.clear()),Promise.resolve()}_makeStorageReference(t){return new Tv(this,t)}_makeRequest(t,e,n,i,r=!0){if(this._deleted)return new qg(Tg());{const s=function(t,e,n,i,r,s,o=!0){const a=Pg(t.urlParams),h=t.url+a,u=Object.assign({},t.headers);return function(t,e){e&&(t["X-Firebase-GMPID"]=e)}(u,e),function(t,e){null!==e&&e.length>0&&(t.Authorization="Firebase "+e)}(u,n),function(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(null!=e?e:"AppManager")}(u,s),function(t,e){null!==e&&(t["X-Firebase-AppCheck"]=e)}(u,i),new Fg(h,t.method,u,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,r,o)}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(t,this._appId,n,i,e,this._firebaseVersion,r);return this._requests.add(s),s.getPromise().then((()=>this._requests.delete(s)),(()=>this._requests.delete(s))),s}}async makeRequestWithTokens(t,e){const[n,i]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(t,e,n,i).getPromise()}}const Dv="@firebase/storage",Ov="0.11.1",Bv="storage";function Pv(t,e,n){return function(t,e,n){return t._throwIfRoot("uploadBytesResumable"),new Sv(t,new Xg(e),n)}(t=D(t),e,n)}function Uv(t){return Iv(t=D(t))}function Fv(t,e){return qv(t=D(t),e)}function jv(t,{instanceIdentifier:e}){const n=t.getProvider("app").getImmediate(),i=t.getProvider("auth-internal"),r=t.getProvider("app-check-internal");return new Lv(n,i,r,e,xt)}Mt(new O(Bv,jv,"PUBLIC").setMultipleInstances(!0)),It(Dv,Ov,""),It(Dv,Ov,"esm2017");let zv='\n<span class="in_t">About</span>\n        <img id="abt_tab_t_t_img" alt="MTT Logo" src="https://avatars1.githubusercontent.com/u/64828294?s=460&amp;v=4">\n        <div id="abt_tab_t_hold">\n            <span id="abt_name">Mr Techtroid</span>\n            <span class="abt_det">\n                <span id="abt_email">mrtechtroid@outlook.com</span>\n            </span>\n            <div style="font-size: 12px;width:400px;align-items: flex-end;">\n                <span>I Am Mr Techtroid The Main Developer Of <span class="sp_txt">Quarkz!</span></span>\n                <span>I Built This Website As A Way For Schools To Head Towards Online Learning</span>\n                <span>Its Built In A Way That It Is Easy For Both Teachers And Students To Use</span>\n                <span>Quarkz Is Currently Under Beta Version And Many Features Will Come In The Future</span>\n            </div>\n        </div>\n        <div id="abt_c_1">\n            <button id="lgl_btn" class="tst_btn rpl">Legal</button>\n            <button id="rbu_btn" class="tst_btn rpl" onclick="window.location = \'/#/bugreport\'">Report Bugs</button>\n            <button id="apinf_btn" class="tst_btn rpl" onclick="window.location = \'/#/appinfo\'">App Info</button>\n            <a id="contq_btn"\n                href="https://docs.google.com/forms/d/e/1FAIpQLSfLZ2_GUDv6EYRR3kz53BYtsP3SaTIMfCo8az-xPzUi1nb91A/viewform"\n                class="tst_btn rpl" target="_blank">Contact Us</a>\n        </div>\n';let Vv='\n<span class="in_t">Chapters</span>\n        <hr color="white" width="100%">\n        <div style="display: flex;flex-direction: row;flex-wrap: wrap;">\n            <button class="tst_btn rpl" id="pchb">Physics</button>\n            <button class="tst_btn rpl" id="cchb">Chemistry</button>\n            <button class="tst_btn rpl" id="mchb">Maths</button>\n            <button class="tst_btn rpl" id="bchb">Biology</button>\n            <button class="tst_btn rpl" id="cochb">Computer</button>\n            <button class="tst_btn rpl" id="schb">Statistics</button>\n            <button class="tst_btn rpl" id="uchb">Unfiled</button>\n        </div>\n        <div id="qb_cont_2" style="overflow-y: scroll;height:50vh;" class="flex_type">\n        </div>',Hv='\n<span class="in_t" id="chp_chaptername">Topic</span><button class="tst_btn rpl" id="chp_edit">Edit</button>\n        <div class = "flex_type" style="flex-direction: row;flex-wrap: wrap;">\n            <div id="chpt_topics" class = "db_class">\n                <span style="font-size: 25px;color:yellow">Topics</span>\n                <div id="chp_tpc_list" style="overflow-y: scroll;height:60vh;" class="flex_type"></div>\n            </div>\n            <div id="chpt_qbanks" class = "db_class">\n                <span style="font-size: 25px;color:yellow">Question Banks</span>\n                <div id="chp_qbk_list" style="overflow-y: scroll;height:60vh;" class="flex_type"></div>\n            </div>\n        </div>';let Kv='<div id="cyberhunt" class="full_page flex_type">\n        <div id="cyb_code" class="flex_type">\n            <span class="in_t">Join Cyberhunt!</span>\n            <hr color="white" width="100%">\n            <span>Do You Want To Join A Cyberhunt?Enter The Cyberhunt Code Below:</span>\n            <input id="cyb_cd_in" class="_in_aq" placeholder="i2a01pmzshn1">\n            <button class="tst_btn rpl" id="cyb_cd_sbm"\n                onclick="if (document.getElementById(\'cyb_cd_in\').value != \'\'){window.location.hash = \'/cyberhunt/\'+document.getElementById(\'cyb_cd_in\').value}">Submit</button>\n            <span>Joined Cyberhunts</span>\n            <div id="cyb_joined"\n                style="overflow-y: scroll;display: flex;flex-direction: column;height: 30vh;width: 40vw;border: 3px greenyellow solid;padding-left: 6px;">\n            </div>\n        </div>\n        <div id="cyb_edit">\n\n        </div>\n        <div id="cyb_viewer" class="flex_type" style="width:100%;height:100%">\n            <div\n                style="display:flex;flex-direction:column;justify-content: left;width:100%;margin-left:5vw;margin-top:10px;">\n                <span style="font-size: 16px;">Welcome to</span>\n                <span id="cyb_v_name" style="font-size: 30px">CyberHunt Name</span>\n                <span id="cyb_v_status" style="font-size: 18px">started on XX:XX</span>\n                <span id="cyb_v_crtby" style="font-size: 15px">By Mr Techtroid</span>\n            </div>\n            <span style="font-size: 16px;">Participants List</span>\n            <div id="cyb_v_plist"\n                style="display:flex;flex-direction:row;flex-wrap:wrap;border: solid grey 2px;border-radius: 10px 10px 10px;width:90%;height:40vh;padding:10px;overflow-y: scroll;">\n                <div class="cyb_v_plist_p"\n                    style="display: flex;flex-direction: column;width:100px;height:50px;border: solid grey 2px;border-radius: 10px 10px 10px;text-align: center;">\n                    <span>Mr Techtroid</span>\n                </div>\n            </div>\n        </div>\n\n    </div>';let Wv='\n<div id="sidebar">\n            <div id="options_tab"\n                style="display: flex;flex-direction: row;align-items:center;height:50px;justify-content: space-evenly;width: 25vw;max-width: 250px;">\n                <span class="material-symbols-outlined rpl" onclick="window.location = \'#/settings\'">settings</span>\n                <span class="material-symbols-outlined rpl" id="abt_btn">info</span>\n                <span class="material-symbols-outlined rpl" onclick="window.location = \'#/updates\'">notifications</span>\n                <span class="material-symbols-outlined rpl" id="prf_btn">account_circle</span>\n                <span class="material-symbols-outlined rpl" id="lgt_btn">logout</span>\n            </div>\n            <hr style="width: 100%;">\n            <div id="profile_tab"\n                style="display: flex;flex-direction: column;align-items: center;height:170px;max-width: 250px;">\n                <img id="prf_tab_img" style="width: 100px;height:100px;object-fit: cover;margin:5px;border:2px solid #06d85f;border-radius:30px;"></img>\n                <span style="color:rgb(0, 255, 221)" id="dshd_name">NAME</span>\n                <span style="color:rgb(104, 104, 92);font-size: small;" id="dshd_uname">@username</span>\n                <span style="color:rgb(251, 255, 0)" id="dshd_batch">BATCH</span>\n            </div>\n            <hr style="width: 100%;">\n            <div class="flex_type"\n                style="flex-direction: column;align-items: center;overflow-y: scroll;width: 30vw;height:250px;max-width: 250px;">\n                <div class="dshbox_v2 " id="tmt_btn">Time Table</div>\n                <div class="dshbox_v2" id="chp_btn">Chapters</div>\n                <div class="dshbox_v2" id="tstinf_btn">Test Infos</div>\n                <div class="dshbox_v2" id="usn_btn" onclick="window.location.hash = \'/usernotes/\'">Your Notes</div>\n                <div class="dshbox_v2" id="tpc_btn" style="display: none;">Topics</div>\n                <div class="dshbox_v2" id="lvq_btn" style="display:none">Live Quiz</div>\n                <div class="dshbox_v2" id="frm_btn">Forum</div>\n                <div class="dshbox_v2" id="qba_btn" style="display: none;">Question Bank</div>\n                <div class="dshbox_v2" id="sim_btn">Simulations</div>\n                <div class="dshbox_v2" id="cyb_btn">Cyberhunts</div>\n                <div id="adminonly" style="display:none;flex-direction:column;">\n                    <div class="dshbox_v2" id="adi_btn">Admin Functions</div>\n                    <div class="dshbox_v2" id="usc_btn">Users</div>\n                </div>\n            </div>\n            <hr style="width: 100%;">\n            <span style="font-size: small;">© 2021-23 Quarkz!</span>\n        </div>\n        <div\n            style="display: flex;flex-direction: row;flex-wrap: wrap;margin-left: 10px;align-items: flex-start;height:100%;margin-top: 15px;justify-content: space-evenly;overflow-y: scroll;">\n            <div id="db_exam_info" class = "db_class" style="max-height: 30vh;">\n                <span style="font-size: 25px;color:yellow">Exam Info</span>\n                <div id="db_exam_list"></div>\n            </div>\n            <div id="db_social_media" class = "db_class">\n                <span style="font-size: 25px;color:yellow">We\'re on Social Media</span>\n                <span style="font-size: 14px;color:grey;margin-left: 10px;">Follow us, & share with your friends. It motivates us to keep\n                    working hard for you to bring new features. </span>\n                <img style="width:50px;" alt="Youtube Logo" class="rpl"\n                    onclick="window.open(\'https://www.youtube.com/@quarkz./\', \'_blank\');"\n                    src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAIAAAABaCAMAAABHRa6wAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAACcFBMVEUAAAD/Ly//BQX/AAD/ExP/MDD/LS3/LCz/PDz/Z2f/X1//EhL/CAj/AAD/AAD/AAD/AAD/AAD/AAD/AAD/AAD/AAD/AAD/AAD/AAD/AAD/AAD/AAD/AAD/AAD/AAD/AAD/AAD/AAD/AAD/AAD/AAD/AAD/AAD/AAD/AAD/AAD/AAD/AAD/AAD/AAD/AAD/AAD/AAD/AAD/AAD/AAD/AAD/AAD/AAD/AAD/AAD/AAD/AAD/AAD/AAD/AAD/AAD/AAD/AAD/AAD/AAD/AAD/AAD/AAD/CAj/AAD/AAD/AAD/AAD/AAD/AAD/AAD/AAD/AAD/AAD/AAD/AAD/AAD/AAD/AAD/AAD/AAD/AAD/AAD/AAD/AAD/AAD/AAD/AAD/AAD/AAD/AAD/AAD/AAD/AAD/AAD/AAD/AAD/AAD/AAD/R0f/Q0P/Wlr/QED/Vlb/PT3/UlL/PDz/UFD/Ojr/Tk7/OTn/TEz/ODj/S0v/Nzf/Skr/Nzf/SUn/Njb/SEj/Njb/SEj/Njb/R0f/NTX/R0f/NTX/R0f/NTX/Rkb/NTX/NTX/AAD/AAD/AAD/CAj/Hh7/HBz/HBz/Gxv/Gxv/Ghr/FBT/FBT/FBT/FBT/FBT/FBT/FBT/FBT/FBT/FBT/FBT/FBT/FBT/FBT/FBT/FBT/FBT/FBT/FBT/FBT/FBT/FBT/FBT/FBT/FBT/FBT/HR3/AAD/AQH/BQX/wcH/EBD/////jY3/X1//7+//MzP/x8f/DQ3/mZn/Zmb/9vb/Ojr/0ND/EhL/oqL/dXX/+vr/QkL/1dX/GRn/qKj/fHz/SUn/3Nz/Hh7/sbH/paX/S0s8CEr+AAAAsHRSTlMAAAAAAAAAAAAAAAAABhMhKzdCUVlkbnqHjpidpqi3us7C1tnP3uLl7uzn18W2saV8ZVtQRjYBHDxaq8HT5vP98uivXkAiBidyrN3ksnkvCpenGaG5VfWCqhXb+kNxs8bp9ESQjLjN8OP5AQ4JIBYxJkE4VUhlVnJlgHSOgJiKoZOpnrKftKu9r8LA9/bYAQ4bJC88R1BYYnB6goqQlZykp7WzvL69xcrJzNrZxqmjGt/aNR4AAAABYktHRLUzDlpLAAAAB3RJTUUH5wEdCycyRsErbAAAAv5JREFUaN7dmudXE1EQxR8bu0KiKCSgggFi1KhRUexKVEQFxV6xYa/Yu2LBrkjvKE0CtmcZe+/df8nNCgfhgLi7z9xznE/58ub+srtvd97MZewP4SNJBl8/o6lzF/+u3QICzZag4O49eoaE9rKGhUfYbLbe9j5y2PvKPyPC+1kdoSH9BwwMDrKYnQGDBg+JHGoy+vkaJMmHqQtpWNTwEYGWkaNGjxk7juuP8dFWh8vinDBxUoyhRe3JsVOmCtBsNqbFxU9vnmJGwr/Uro+Zs5r+97O9I++JOU1cBZP35D0R2Vh/rnf1OXc21Pf3tj7n8b/rG72v3+AuGOYhAHj9kzgfos8X1Om3wuhzvrAWIBYFkFALsAgFsFhS9GNQ+pwbFYAlOIBEBcCMA1iqACzDASz31CqtV+AAlHeRAajPPZVBFBJgJXYT/NoGiUiAJBlgFRJgtQzgQgJYZYA1ahfdFgiwtg1ru07tojt374kjaMfar1e9iOi+MIANrIP6RSTHA0EAG9kmbQD08JEQgM1si0YAosdPBABsZcmaAYie6gfYxrbrACB6phdgB9upC4Cev9AHsIvt1gdA9PKVHoA9bK9eAKLXOgD2sf36AYjeaAY4wA6KAKC37zQCHGKHhQAQvf+gCeAISxEEQPRRC8BRdkwYANEn9bmOsxMCAYg+q82Vyk4KBaAvX9XlOsVOiwUg+qYq1xnxAETfVeQ6+x8CqL0F8IdQ7Db8oTZXKv5FlCIMQOOrGP4xgn+O4QUJvCSDF6Xwshx+MEnWASDkaAY/nMKP5/AGBbxFA29Swdt0+EYlvFULb1bD2/XwgQV8ZAMfWsHHdvjBJXx0Cx9ew8f3eAMD3MIBN7HgbTxwIxPeyoU3s+HtfHhDI97SqVwFrKm1jsJj63VaXI6w6HMiRM/bLzjikv7O1tsofCSp48W0S+kZmVnZObl5+QWFRcUll6+UlpVXVF6tcrura67JUVPtdlddr6woLyu9cbOkuKiwID8vNyc7KzMj/VZap5aMzT8BRpXwJFof0ooAAAAldEVYdGRhdGU6Y3JlYXRlADIwMjMtMDEtMjlUMTE6Mzk6NTArMDA6MDCGz66vAAAAJXRFWHRkYXRlOm1vZGlmeQAyMDIzLTAxLTI5VDExOjM5OjUwKzAwOjAw95IWEwAAACB0RVh0c29mdHdhcmUAaHR0cHM6Ly9pbWFnZW1hZ2ljay5vcme8zx2dAAAAGHRFWHRUaHVtYjo6RG9jdW1lbnQ6OlBhZ2VzADGn/7svAAAAF3RFWHRUaHVtYjo6SW1hZ2U6OkhlaWdodAA5MDwVcVIAAAAXdEVYdFRodW1iOjpJbWFnZTo6V2lkdGgAMTI40I0R3QAAABl0RVh0VGh1bWI6Ok1pbWV0eXBlAGltYWdlL3BuZz+yVk4AAAARdEVYdFRodW1iOjpTaXplADE1NDVC02RgawAAABZ0RVh0VGh1bWI6OlVSSQBmaWxlOi8vUE5HOqYqZyIAAAAASUVORK5CYII=">\n            </div>\n            <div id="db_study_resources" class = "db_class">\n                <span style="font-size: 25px;color:yellow">Additional Study Resources</span>\n                <div class="tlinks_min rpl" onclick="window.location.hash = \'/mainsformulas\'"><span\n                        style="font-size: 16px;">JEE Mains Formula Sheets</span></div>\n                <div class="tlinks_min rpl" onclick="window.location.hash = \'/downloads\'"><span\n                        style="font-size: 16px;">FREE PDF Downloads</span></div>\n            </div>\n        </div>',Gv='\n<iframe id="bgrep_frame"\n            src="https://docs.google.com/forms/d/e/1FAIpQLSeo2JZDaBApBiTeXmAnkVX60hSuJGHJkd9jsF9ePg0iM9ufjA/viewform?embedded=true"\n            frameborder="0" marginheight="0" marginwidth="0">Loading…</iframe>',$v='\n<span class="in_t">App Info</span>\n        <pre id="ren_appinf"></pre>',Qv='\n<span class="in_t">Schedule</span>\n        <iframe id="tmt_frame" width="100%" height="90%" frameborder="0" scrolling="no"></iframe>',Xv='\n<span class="in_t">404</span>\n        <hr color="white" width="100%">\n        <span style="font-size: 3vh;">You don\'t have access to this page.</span>\n        <a class="tst_btn rpl" href="/#/dashboard">Go To Dashboard</a>',Zv='\n<div style="position: fixed;">\n            <embed id="nt_id" style="width: 95vw;height: 90vh;">\n            <div id = "nt_nocontrol">Quarkz!</div>\n        </div>',Yv='\n<div id="c-output"\n            style="color:yellow;overflow-y: scroll;display: flex;flex-direction: column;height: 80vh;width: 90vw;border: 3px greenyellow solid;padding-left: 6px;">\n\n        </div>\n        <div>\n            <input type="text" id="c-input" class="_in_aq" placeholder="Command">\n            <button class="tst_btn rpl" id="c-exec">Execute</button>\n        </div>',Jv='\n<div class = "flex_type" style="flex-direction: row;flex-wrap: wrap;">\n            <div class = "db_class">\n                <span style="font-size: 25px;color:yellow">Release Notes</span>\n                <div id="rel_list" style="overflow-y: scroll;height:80vh; width: 100%; display: block;" class="flex_type"></div>\n            </div>\n            <div class = "db_class">\n                <span style="font-size: 25px;color:yellow">Updates</span>\n                <div id="updt_list" style="overflow-y: scroll;height:80vh; width: 100%; display: block;" class="flex_type"></div>\n            </div>\n        </div>\n\n\n',ty='\n<div class = "db_class">\n<span style="font-size: 25px;color:yellow">Upload Files</span>\n        <label for="file" style= "background-color: indigo;color: white;padding: 0.5rem;font-family: sans-serif;border-radius: 0.3rem;cursor: pointer;margin-top: 1rem;" class = "rpl">Choose File To Upload</label>\n        <input type="file" id="file" style="width: 50vw;height: 30px;margin: auto;" hidden>\n        <span id="file_progress"></span>\n        <span id="file_status"></span>\n        <input id="file_link" type="url" class = "_in_aq" style = "width:25vw;" placeholder = "Short URL"  disabled>\n        <input id="file_link_long" type="url" class = "_in_aq" style = "width:25vw;" placeholder = "Long URL" disabled>\n        <span style="font-size: 10px;">Note: File Names Will Be Modified to the following format:</span>\n        <span style="font-size: 10px;">{IP ADDRESS}-{DATE}-{ORIGNAL FILE NAME}</span>\n        <span style="font-size: 10px;">Max File Upload Size: 50mb</span>\n    </div>\n';function ey(t,e){var n="";n+="formulasheet"==e?'<span style="font-size: 5vh;color:yellow" id="fm_title">Mains Formula Sheet</span>':'<span style="font-size: 5vh;color:yellow" id="fm_title">Downloads</span>',n+='\n    <hr color="white" width="100%">\n    <div style="overflow-y: scroll;height:50vh;" class="flex_type">';for(var i=0;i<t.length;i++)t[i].type2==e&&(""==t[i].url?n+='<span class="tlinks-2 rpl " onclick = "window.location.hash = \''+t[i].hashurl+'\'"><span class="material-symbols-outlined">'+t[i].type+"</span>&nbsp;&nbsp;"+t[i].title+"</span>":n+='<span class="tlinks-2 rpl " onclick = "window.open(\''+t[i].url+"','_blank')\"><span class=\"material-symbols-outlined\">"+t[i].type+"</span>&nbsp;&nbsp;"+t[i].title+"</span>");return n+=' </div>\n    <span style="font-size: 8px;">All PDF\'s Marked As <span style="font-size: 8px;" class="material-symbols-outlined">quiet_time_active</span> Are Owned by their Respective Owners</span>'}let ny=[{hashurl:"/notes/PHYFORMULAS",title:"Physics Formula Sheet",url:"",type:"quiet_time_active",type2:"formulasheet"},{hashurl:"/notes/MATHFORMULAS",title:"Maths Formula Sheet",url:"",type:"quiet_time_active",type2:"formulasheet"},{hashurl:"/notes/PCHEMNOTES",title:"Physical Chemistry Formula Sheet",url:"",type:"quiet_time_active",type2:"formulasheet"},{hashurl:"/notes/OCHEMNOTES",title:"Organic Chemistry Sheet",url:"",type:"quiet_time_active",type2:"formulasheet"},{hashurl:"/notes/ICHEMNOTES",title:"Inorganic Chemistry Sheet",url:"",type:"quiet_time_active",type2:"formulasheet"},{hashurl:"",title:"Full Chemistry Modules",url:"https://drive.google.com/file/d/1PKwlLjqXESAewAOHFi866uUb72XjooQH/view",type:"quiet_time_active",type2:"downloads"},{hashurl:"",title:"Full Maths Modules",url:"https://drive.google.com/file/d/1_TLdj5e8SG8VFvKu-asEy7RAq4_T85YB/view",type:"quiet_time_active",type2:"downloads"},{hashurl:"",title:"Full Physics Modules",url:"https://drive.google.com/file/d/10NWV6viuY2eru-y1j9MSXmhbl7bZKyOD/view",type:"quiet_time_active",type2:"downloads"}];let iy='\n<span style="font-size: 5vh;color:yellow" id="fti_title">Test Name</span>\n        <hr color="white" width="100%">\n        <div id="fto_overview" style="display: flex;flex-direction: row;flex-wrap:wrap">\n            <div class="fto_box">\n                <div class="fto_box_title">TOTAL MARKS</div>\n                <div class="fto_box_content" id="fto_total">100/100</div>\n            </div>\n            <div class="fto_box">\n                <div class="fto_box_title">CORRECT</div>\n                <div class="fto_box_content"><span id="fto_correct">45</span><span class="fto_small">marks</span></div>\n            </div>\n            <div class="fto_box">\n                <div class="fto_box_title">INCORRECT</div>\n                <div class="fto_box_content"><span id="fto_incorrect">45</span><span class="fto_small">marks</span>\n                </div>\n            </div>\n            <div class="fto_box">\n                <div class="fto_box_title">UNANSWERED</div>\n                <div class="fto_box_content"><span id="fto_unanswered">45</span><span class="fto_small">marks</span>\n                </div>\n            </div>\n            <div class="fto_box">\n                <div class="fto_box_title">RANK</div>\n                <div class="fto_box_content" id="fto_rank">5</div>\n            </div>\n        </div>\n        <hr color="white" width="100%">\n        <div id="fto_overview" style="display: flex;flex-direction: row;flex-wrap:wrap">\n            <button class="tst_btn rpl" id="fto_detail"\n                onclick=\'window.location.hash = "#/testreport/" + window.location.hash.split("#/finished/")[1]\'>Detailed\n                View</button>\n        </div>\n        <div style="display:flex;flex-direction:row;flex-wrap:wrap;">\n            <div style="display:flex;flex-direction:column;flex-wrap:wrap;">\n                <span style="font-size: 3vh;">Section Wise Scores</span>\n                <div id="fto_percents" style="display: flex;flex-direction: column;"></div>\n                <div>Legend: <span style="color:green">Correct</span>&nbsp;<span\n                        style="color:red">Incorrect</span>&nbsp;<span style="color:orange">Unattempted</span></div>\n            </div>\n            <div style="margin-left:20px;display:flex;flex-direction:column;">\n                <span style="font-size: 3vh;">Leaderboard</span>\n                <div id="fto_leaderboard"></div>\n            </div>\n        </div>\n        <div style="display:flex;flex-direction:column;flex-wrap:wrap;">\n            <span style="font-size: 3vh;">Section Wise Time Spent</span>\n            <div id="fto_time" style="display: flex;flex-direction: column;"></div>\n            <div>Legend: <span style="color:green">Correct</span>&nbsp;<span\n                    style="color:red">Incorrect</span>&nbsp;<span style="color:orange">Unattempted</span></div>\n        </div>\n        <div style="display:flex;flex-direction:column;flex-wrap:wrap;">\n            <span style="font-size: 3vh;">Time Spent Per Question</span>\n            <div id="fto_draw" style="display: flex;flex-direction: column;"></div>\n        </div>';let ry='\n<span style="font-size: 5vh;color:yellow" id="fm_title">Forum</span>\n        <hr width="100%" color="white">\n        <div style="border:hotpink 3px solid;width:80%;">\n            <div id=\'pinned_msg\'\n                style="background-color: rgb(38, 44, 31);color:rgb(21, 209, 209);overflow-y: scroll;height:30px;">Pinned\n                Message:<span id=\'pinnedtxt\'>1</span></div>\n            <div id="forum_live" style="height:60vh;overflow-y: scroll;display: flex;flex-direction: column;">\n            </div>\n        </div>\n\n        <div>\n            <input type="text" id="fm_message" class="_in_aq" placeholder="Message">\n            <button class="tst_btn rpl" id="fm_send">Send</button>\n        </div>\n';let sy='\n<span class="in_t" class="">Functions</span>\n        <div class = "flex_type" style = "flex-direction: row;flex-wrap: wrap;">\n            <div id="fc_topics" class = "db_class">\n                <span style="font-size: 25px;color:yellow">Chapters/Topics</span>\n                <div class="dshbox_v2 rpl" onclick="window.location.hash = \'#/add/tpc\'">Add Topics</div>\n            </div>\n            <div id="fc_sims" class = "db_class">\n                <span style="font-size: 25px;color:yellow">Question Banks/Sims</span>\n                <div class="dshbox_v2 rpl" onclick="window.location.hash = \'#/add/simulation\'">Add Simulations</div>\n                <div class="dshbox_v2 rpl" onclick="window.location.hash = \'#/add/qubank\'">Add Question Bank</div>\n            </div>\n            <div id="fc_tests" class = "db_class">\n                <span style="font-size: 25px;color:yellow">Tests</span>\n                <div class="dshbox_v2 rpl" onclick="window.location.hash = \'#/add/tests\'">Add Test</div>\n                <div class="dshbox_v2 rpl" onclick="window.location.hash = \'#/update/tests\'">Update Test</div>\n            </div>\n            <div id="fc_batch" class = "db_class">\n                <span style="font-size: 25px;color:yellow">Batches</span>\n                <div class="dshbox_v2 rpl" onclick="window.location.hash = \'#/add/batch\'">Add New Batch</div>\n                <div class="dshbox_v2 rpl" onclick="window.location.hash = \'#/list/batch\'">Update Batches</div>\n                <div class="dshbox_v2 rpl" onclick="window.location.hash = \'#/update/batch\'">Update Batches</div>\n            </div>\n            <div id="fc_misc" class = "db_class">\n                <span style="font-size: 25px;color:yellow">Misc</span>\n                <div class="dshbox_v2 rpl" onclick="window.location.hash = \'#/edit_exams\'">Edit Exams</div>\n            </div>\n        </div>\n';function oy(t,e,n,i,r){var s=Math.floor(1e4*Math.random()),o='\n    <div id="msg_popup_'+s+'" class="overlay">\n    <div class="popup">\n        <center>\n            <h2 id="msg_popup_txt_'+s+'">Note</h2>\n        </center>\n        <a class="close"\n            onclick="document.getElementById(\'msg_popup_'+s+'\').remove()">&times;</a>\n        <p id="msg_popup_content_'+s+'"></p>\n        <button class="tst_btn rpl" id="msg_action_'+s+'"></button>\n    </div>\n    </div>\n    ';if(1==r)dE("output").insertAdjacentHTML("beforeend",o);else if(3==r){o='\n    <div id="msg_popup_'+s+'" class="overlay">\n    <div class="popup">\n        <center>\n            <h2 id="msg_popup_txt_'+s+'">'+t+'</h2>\n        </center>\n        <a class="close"\n            onclick="document.getElementById(\'msg_popup_'+s+'\').remove()">&times;</a>\n        <p id="msg_popup_content_'+s+'">'+e+'</p>\n        <button class="tst_btn rpl" id="msg_info_'+s+'" onclick = "window.open(\''+n+'\', \'_blank\');">Info</button>\n        <button class="tst_btn rpl" id="msg_syllabus_'+s+'" onclick = "window.open(\''+i+"', '_blank');\">Syllabus</button>\n    </div>\n    </div>\n    ";dE("quarkz_body").insertAdjacentHTML("beforeend",o)}else dE("quarkz_body").insertAdjacentHTML("beforeend",o);if(dE("msg_popup_"+s).style.visibility="visible",dE("msg_popup_"+s).style.opacity="1",3!=r)return dE("msg_action_"+s).style.display="none",document.getElementById("msg_popup_txt_"+s).innerText=t,document.getElementById("msg_popup_content_"+s).innerText=e,null==n?n=function(){}:dE("msg_action_"+s).style.display="block",null==i&&(i=""),dE("msg_action_"+s).onclick=n,dE("msg_action_"+s).innerText=i,"msg_popup_"+s}let ay='\n<div id="lgn_bx">\n    <span class="in_t">Welcome to Quarkz</span>\n    <input type="text" id="lg_uname" class="text_bx_1" placeholder="Username">\n    <input type="password" id="lg_pass" class="text_bx_1" placeholder="Password">\n    <div>\n        <button class="tst_btn rpl" id="sgn_in">Sign In</button>\n        <button class="tst_btn rpl" id="reg_in">Register</button>\n    </div>\n    <span id="lgn_err" class="err_txt">ERROR:Wrong Username Or Password</span>\n    <span class="lgn_c_1"><a href="/#/about">About</a>&nbsp;&nbsp;<a href="/#/legal">Legal</a>&nbsp;&nbsp;<a\n            href="/#/bugreport">Report A Bug</a>\n    </span>\n    <span class="lgn_c_1">\n        <a href="/#/mainsformulas">Formula Sheets</a>&nbsp;&nbsp;\n        <a href="/#/downloads">Downloads</a>\n    </span>\n</div>\n';let hy='\n<span class=" in_t no-print">Export</span>\n        <hr color="white" width="100%" class="no-print">\n        <span class="no-print"><button class="tst_btn rpl no-print" onclick="print()">Print</button><button\n                class="tst_btn rpl no-print" id="shf_btn">Shuffle</button><button class="tst_btn rpl no-print"\n                id="tsinf_btn">Update Bank\n                Info</button><button class="tst_btn rpl no-print" id="tans_btn">Answers</button><button\n                class="tst_btn rpl no-print" id="tansexpl_btn">Explanation And Answers</button><button\n                class="tst_btn rpl no-print" id="tremove_btn">Remove\n                All</button></span>\n        <hr color="white" width="100%">\n        <span class="in_t_3" id="qb_title">ERROR</span>\n        <hr color="white" width="100%">\n        <div id="pe_tst_info" class="flex_type no-print">\n            <span>Test<input id="pe_tst_type_1" type="checkbox"></span>\n            <span id="">General Instructions<input id="pe_tst_type_2" type="checkbox"></span>\n            <textarea type="answer" id="pe_gi_ins" class="_in_aq" placeholder="General Instructions"></textarea>\n            <div id="pe_tst_mrk">\n                <span>MCQ:<input type="number" id="pe_mcq_pno" class="_in_pq" value="3"><input type="number"\n                        id="pe_mcq_nno" class="_in_pq" value="-1"></span>\n                <span>MCQ Multiple:<input type="number" id="pe_mcmul_pno" class="_in_pq" value="3"><input type="number"\n                        id="pe_mcmul_nno" class="_in_pq" value="-1"></span>\n                <span>Numerical:<input type="number" id="pe_num_pno" class="_in_pq" value="4"><input type="number"\n                        id="pe_num_nno" class="_in_pq" value="0"></span>\n                <span>True Or False:<input type="number" id="pe_taf_pno" class="_in_pq" value="1"><input type="number"\n                        id="pe_taf_fno" class="_in_pq" value="0"></span>\n                <span>Explain:<input type="number" id="pe_exp_pno" class="_in_pq" value="4"><input type="number"\n                        id="pe_exp_nno" class="_in_pq" value="0"></span>\n                <span>Matrix<input type="number" id="pe_mat_pno" class="_in_pq" value="12"><input type="number"\n                        id="pe_mat_nno" class="_in_pq" value="-4"></span>\n            </div>\n        </div>\n        <div id="eqb_instr"><span style="color: green;">General\n                Instructions:&nbsp;&nbsp;</span><span id="equ_gi"></span>\n            <hr color="white" width="100%">\n        </div>\n\n        <div id="eqb_add" type="1">\n        </div>\n\n';let uy='\n<div id="prf_tab_t">\n            <div id="prf_tab_t_t">\n                <img style = "background-color:black;border:2px solid #06d85f;border-radius:30px;" id="prf_tab_t_t_img"></img>\n                <div id="prf_tab_t_hold">\n                    <span id="prf_name"></span>\n                    <span class="prf_det">\n                        <span id="prf_email"></span>&nbsp;•&nbsp;<span id="prf_gender"></span>\n                    </span>\n                    <span class="prf_det">\n                        <span id="prf_phone"></span>&nbsp;•&nbsp;<span id="prf_class"></span>\n                    </span>\n                    <span class="prf_det">\n                        <span id="prf_batch"></span>&nbsp;•&nbsp;<span id="prf_crton"></span>\n                    </span>\n                </div>\n            </div>\n        </div>\n';let ly='\n<button id="qbnk_vid_btn" class="tst_btn rpl">Start</button>\n        <button id="qbnk_vid_btn_e" class="tst_btn rpl" style="display: none;">Stop</button>\n        <span style="font-size: 5vh;color:yellow;font-family: Nunito;" id="tb_q_title">Topic Name</span>\n        <hr width="100%" color="white">\n        <div class="div-qbnk">Quarkz!</div>\n        <img alt="Quarkz Logo" src="assets/Quarkz-T.png"\n            style="position:absolute;height:100px;width: 100px;top:0;left:0;z-index: 1;">\n        <div id="qbnk_vid_q" style="display: flex;flex-direction: column;align-items: center;z-index: 2;">\n            <div class="div-qbnk1"><span>Pause The Video If You Need More Time.Each Question Will Be Shown For 10\n                    Seconds.</span><span id="qbnk_timer" style="font-size: 80px;color:rgb(0, 255, 255)">0</span></div>\n            <span style="width: 60vw;"><span id="tb_q_qno" style="color: coral;"></span>\n                <div id="tb_q_qtext" style="width:100%;height:max-content;min-height: 12vh;">Question</div>\n            </span>\n            <div id="tb_q_ans_hold">\n                <input type="answer" id="tb_q_answer" class="_in_aq" placeholder="Answer">\n                <div id="tb_q_mcq_con" class="flex_type">\n                </div>\n                <div id="tb_q_matrix">\n                    <table>\n                        <tr>\n                            <td><span class="tb_q_i1"></span><span class="tb_q_i2"></span></td>\n                        </tr>\n                        <tr>\n                            <td><span class="tb_q_i1"></span><span class="tb_q_i2"></span></td>\n                        </tr>\n                        <tr>\n                            <td><span class="tb_q_i1"></span><span class="tb_q_i2"></span></td>\n                        </tr>\n                        <tr>\n                            <td><span class="tb_q_i1"></span><span class="tb_q_i2"></span></td>\n                        </tr>\n                    </table>\n                </div>\n            </div>\n        </div>\n        <div id="qbnk_vid_ans" style="display: flex;flex-direction: column;align-items: center;">\n            <span style="font-size: 5vh;color:yellow;">Answer</span>\n            <div id="tb_q_hint" style="width:80%;height:max-content;min-height: 12vh;"></div>\n            <div id="tb_q_ans" style="height:max-content;min-height: 12vh;"></div>\n            <div id="tb_q_expl" style="width:80%;height:max-content;min-height: 12vh;"></div>\n        </div>\n        <div id="qbnk_vid_title"\n            style="display:flex;flex-direction: column;align-items: center;justify-content: center;height:60vh">\n            <span style="font-size: 15vh;color:yellow;font-family: Nunito;" id="qb_vid_ti"></span>\n        </div>\n        <div id="qbnk_vid_end" style="display:flex;flex-direction: column;align-items: center;justify-content: center;">\n            <span style="font-size: 5vh;color:yellow">Thanks For Watching</span>\n            <span style="font-size: 3vh;color:yellow">Subscribe To Quarkz! For More Such Videos</span>\n\n        </div>';let cy='\n<span class="in_t">Register</span>\n        <div class = "db_class">\n        <span style="font-size: 25px;color:yellow">Personal Info</span>\n        <input type="text" id="rg_name" class="_in_reg" placeholder="Name">\n        <div style = "display:flex;flex-direction:row">\n        <label for="rg_dob">Date:&nbsp;&nbsp;</label>\n        <input name = "rg_dob" type="date" id="rg_dob" class="_in_reg">\n        </div>\n        <div style = "display:flex;flex-direction:row">\n        <label for="class">Class:&nbsp;&nbsp;</label>\n        <select name="class" id="rg_class">\n            <option value="6">6</option>\n            <option value="7">7</option>\n            <option value="8">8</option>\n            <option value="9">9</option>\n            <option value="10">10</option>\n            <option value="11">11</option>\n            <option value="12">12</option>\n        </select>\n        </div>\n        <div style = "display:flex;flex-direction:row">\n        <label for="gender">Gender:&nbsp;&nbsp;</label>\n        <select name="gender" id="rg_gender">\n            <option value="Male">Male</option>\n            <option value="Female">Female</option>\n        </select>\n        </div>\n        </div>\n        <div class = "db_class">\n        <span style="font-size: 25px;color:yellow">Account Info</span>\n        <input type="tel" id="rg_mbleno" class="_in_reg" placeholder="Mobile No">\n        <input type="text" id="rg_uname" class="_in_reg" placeholder="Email Address">\n        <input type="password" id="rg_pass" class="_in_reg" placeholder="Password">\n        <input type="password" id="rg_pass1" class="_in_reg" placeholder="Confirm Password">\n        </div>\n        <button class="tst_btn rpl" id="rg_in">Register</button>\n\n',dy='\n<span class="in_t">Settings</span>\n        <hr color="white" width="100%">\n        <div class = "flex_type" style = "flex-direction: row;flex-wrap: wrap;">\n            <div id="st_accinfo" class = "db_class">\n                <span style="font-size: 25px;color:yellow">Account Info</span>\n                <button id="pass_rst_btn" class="tst_btn rpl">Reset/Change Password</button>\n            </div>\n            <div id="st_notif" class = "db_class">\n                <span style="font-size: 25px;color:yellow">Notifications</span>\n                <button id="notif_btn" class="tst_btn rpl" disabled>Enable Notifications</button>\n            </div>\n            <div id="st_rateapp" class = "db_class">\n                <span style="font-size: 25px;color:yellow">Rate Our App!</span>\n                <div id="stars">\n                <span class="star" data-value="1">&#9733;</span>\n                <span class="star" data-value="2">&#9733;</span> \n                <span class="star" data-value="3">&#9733;</span>\n                <span class="star" data-value="4">&#9733;</span>\n                <span class="star" data-value="5">&#9733;</span>\n                </div>\n                <textarea placeholder="This App was Very Useful!" style="height: 50px;resize: none;" id="rate_comment"></textarea>\n                <button id="sub_rat_btn" class="tst_btn rpl">Submit Rating</button>\n            </div>\n            <div id="st_prftype" class = "db_class">\n                <span style="font-size: 25px;color:yellow">Profile Picture Type</span>\n                <div style ="display:flex;flex-direction:row;flex-wrap:wrap;">\n                <img style = "border:2px solid #06d85f;border-radius:30px;width:100px;height:100px;" class = "prf_typ" id="prf_typ_1"></img>\n                <img style = "border:2px solid #06d85f;border-radius:30px;width:100px;height:100px;" class = "prf_typ" id="prf_typ_2"></img>\n                <img style = "border:2px solid #06d85f;border-radius:30px;width:100px;height:100px;" class = "prf_typ" id="prf_typ_3"></img>\n                </div>\n                <span style = "font-size:12px">Changing your Profile Picture only changes on this Browser. These Pictures are generated using Hashes/Initials of your Names.</span>\n            </div>\n        </div>';let fy='\n<span class="in_t" class="">Add/Edit Simulation</span>\n        <input type="text" id="aq_simname" class="_in_aq" placeholder="Simulation Name">\n        <input type="url" id="aq_simurl" class="_in_aq" placeholder="Simulation URL">\n        <input type="text" id="aq_simprov" class="_in_aq" placeholder="Simulation Provider">\n        <input type="text" id="aq_simlicense" class="_in_aq" placeholder="Simulation License">\n        <select name="type" id="aq_simsubj" class="_in_aq col-red">\n            <option value="physics">Physics</option>\n            <option value="chemistry">Chemistry</option>\n            <option value="maths">Maths</option>\n            <option value="biology">Biology</option>\n            <option value="computer">Computer</option>\n            <option value="statistics">Statistics</option>\n            <option value="unfiled">Unfiled</option>\n        </select>\n        <button class="tst_btn rpl" id="aq_sims_save">Save</button>\n\n',py='\n<span class="in_t">Simulations</span>\n        <hr color="white" width="100%">\n        <div style="display: flex;flex-direction: row;flex-wrap: wrap;"><span class="in_t" id="sms_name">Sim\n                Name</span><span style="font-size: 2vh;" id="sms_prov">Sim Name</span><button class="tst_btn rpl" id="sms_edit" style="display: none;"\n                onclick=\'window.location.hash = "#/edit_sim/" + window.location.hash.split("#/sims/")[1]\'>Edit\n                Sim</button></div>\n        <div>\n            <iframe id="sim_frame" frameborder="0"\n                style="width:80vw;height:70vh;background-color: black;color:white;scroll-behavior: smooth;"></iframe>\n        </div>\n        ',my='\n<span class="in_t">Simulations List</span>\n        <hr color="white" width="100%">\n        <div style="display: flex;flex-direction: row;flex-wrap: wrap;">\n            <button class="tst_btn rpl" id="psims">Physics</button>\n            <button class="tst_btn rpl" id="csims">Chemistry</button>\n            <button class="tst_btn rpl" id="msims">Maths</button>\n            <button class="tst_btn rpl" id="bsims">Biology</button>\n            <button class="tst_btn rpl" id="cosims">Computer</button>\n            <button class="tst_btn rpl" id="ssims">Statistics</button>\n            <button class="tst_btn rpl" id="usims">Unfiled</button>\n        </div>\n        <div id="sim_cont" style="overflow-y: scroll;height:50vh;" class="flex_type">\n        </div>';let gy='\n<span class="in_t">Test Instructions</span>\n        <hr color="white" width="100%">\n        <div style="width:80vw;overflow-y: scroll;border:yellow 3px solid;display: flex;flex-direction: column;">\n            <span style="font-size:5vh;text-align: center;">Please Read The Instructions And Terms Carefully</span>\n            <span style="font-size:18px;color:yellow;">General Instructions:</span>\n            <ol style="font-size: 14px;">\n                <li>The Exam Must Be Completed In 1 Sitting. You Will Be Able To Open This Test Window Only Once. </li>\n                <li>Read Every Question Carefully And Select Your Answer and Try To Answer As Many Questions As Possible\n                    In The Exam.</li>\n                <li>The Questions Palette displayed on the right side of screen will show the status of each question\n                    using one of the following symbols:</li>\n                <div>\n                    <div style="margin:9px"><span class="tts_notvisit">12</span>You have not visited the question yet.\n                    </div>\n                    <div style="margin:9px"><span class="tts_notanswer">21</span>You have not answered the question.\n                    </div>\n                    <div style="margin:9px"><span class="tts_answered">45</span>You have answered the question.</div>\n                    <div style="margin:9px"><span class="tts_review">30</span>You have NOT answered the question, but\n                        have marked the question for review.</div>\n                    <div style="margin:9px"><span class="tts_ansreview">37</span>The question(s) "Answered and Marked\n                        for Review" will be considered for evalution.</div>\n                </div>\n                <li>When the timer reaches zero, the examination will end by itself. You will not be required to end or\n                    submit your examination.</li>\n                <li>Make Sure To Have A Good Internet Connection. Loss in Internet Connectivity may prevent submission\n                    of answers. </li>\n                <li>DO NOT TRY TO Minimise The Full Screen Mode Of The Exam. You Will Recieive 1 Warning For Doing So\n                    After Which Your Test Will End</li>\n            </ol>\n            <hr style = "width:95%">\n            <span style="font-size:18px;color:yellow;">Navigating to a Question:</span>\n            <ol style="font-size:14px;">\n                <li>To view/answer a question, do the following: Click on the question number in the Question Palette at\n                    the right of your screen to go to that numbered question directly. Note that using this option does\n                    NOT save your answer to the current question.</li>\n            </ol>\n            <hr style = "width:95%">\n            <span style="font-size:18px;color:yellow;">Answering a Question:</span>\n            <ol style="font-size:14px;">\n                Procedure for answering a multiple choice type question:\n                <li>To select you answer, click on the button of one of the options.</li>\n                <li>To deselect your chosen answer, click on the button of the chosen option again or click on the Clear\n                    Response button</li>\n                <li>To change your chosen answer, click on the button of another option</li>\n                <li>To save your answer, you MUST click on the Save button.</li>\n                <li>To mark the question for review, click on the Mark for Review button.</li>\n                <li>To change your answer to a question that has already been answered, first select that question for\n                    answering and then follow the procedure for answering that type of question.</li>\n            </ol>\n            <hr style = "width:95%">\n            <span style="font-size:18px;color:yellow;">Navigating through sections:</span>\n            <ol style="font-size:14px;">\n                <li>All Questions are Visible in the Question Pallete along under the respective sections/subjects</li>\n            </ol>\n            <hr style = "width:95%">\n            <span style="font-size:18px;color:yellow;">Test Specific Instructions:</span>\n            <div id = "tsi" style="font-size:14px;">\n            </div>\n            <hr style = "width:95%">\n            <span style="font-size:18px;color:yellow;">Terms And Conditions:</span>\n            <span style="font-size:14px;">By Checking on "I Agree" you Agree to All Terms And Conditions:</span>\n            <ol style="font-size:14px;">\n                <li>I have read and understood all the instructions. </li>\n                <li>I agree that all computer hardware allotted to me are in proper working condition. </li>\n                <li>I declare that i am not in possession of / not wearing / not carrying any prohibited gadget like\n                    mobile phone,bluetooth devices etc. /any prohibited material with me into the Examination Hall.</li>\n                <li>I also agree that I will not tamper with any software/technologies/devices alloted to me while\n                    attempting\n                    this test.\n                </li>\n                <li>I agree that in case of not adhering to the instructions, I shall be liable to be debarred from this\n                    Test and/or to disciplinary action, which may include ban from future Test / Examinations</li>\n            </ol>\n            <div style = "font-size:25px;color:lime;"><input type="checkbox" id = "agree_in" name = "agree_in"><label for="agree_in">I Agree</label></div>\n            <span style="font-size:5vh;text-align: center;">👍 All The Best! 👍</span>\n            <button class="tst_btn rpl" id="tin_start" \n                onclick=\'window.location.hash = "#/attempt/" + window.location.hash.split("#/instructions/")[1]\' disabled>Start</button>\n        </div>\n';let vy='\n<span class="in_t">Tests</span>\n        <hr color="white" width="100%">\n        <div><button class="tst_btn rpl" id="ti_act">Active Tests</button><button class="tst_btn rpl"\n                id="ti_fin">Finished Tests</button><button class="tst_btn rpl" id="ti_upc">Upcoming Tests</button></div>\n        <div id="testlinks">\n        </div>',yy='\n<div style="border: grey 2px dashed;flex-direction: row;margin:10px;" class="flex_type">\n            <div style="display: flex;flex-direction: column;width: 60vw;height:80vh;margin:10px;min-width: 300px;">\n                <div id="tt_extrabx" style="display: flex;flex-direction:row;height: 40px;margin:10px;">\n                    <span id="tt_timeleft">00:00:00</span>\n                    <span id="tt_marksaward"></span>\n                    <span id="tt_timespent" style="margin-left:5px;"></span>\n                    <span id="tt_testname" style="width: 100%;text-align: right;margin-left: 5px;">TEST\n                        NAME</span>\n                    <button id="tt_sub" class="tst_btn rpl">Submit</button>\n                </div>\n                <div id="tt_question">\n                    <div style="font-size: larger;">Question <span id="tt_qno">12</span></div>\n                    <hr>\n                    <div id="tt_qtitle">Who Is The President Of India?</div>\n                    <hr>\n                </div>\n                <div id="tt_footer" style="display:flex;">\n                    <button class="tst_btn rpl" id="tt_save">Save</button>\n                    <button class="tst_btn rpl" id="tt_clear">Clear</button>\n                    <button class="tst_btn rpl" id="tt_review">Mark For Review</button>\n                    <button class="tst_btn rpl" id="tt_ansreview">Save And Mark For Review</button>\n                </div>\n            </div>\n            <div>\n                <div id="tt_infobx">\n                    <div style="margin:9px"><span class="tts_notvisit">12</span>Not Visited</div>\n                    <div style="margin:9px"><span class="tts_notanswer">21</span>Not Answered</div>\n                    <div style="margin:9px"><span class="tts_answered">45</span>Answered</div>\n                    <div style="margin:9px"><span class="tts_review">30</span>Review</div>\n                    <div style="margin:9px"><span class="tts_ansreview">37</span>Review And Answered</div>\n                </div>\n                <div id="tt_qnobx">\n                    <div>\n                        <div id="tw_Physics"><span>Physics</span>\n                            <div id="tw_Physics_c"></div>\n                        </div>\n                        <div id="tw_Chemistry"><span>Chemistry</span>\n                            <div id="tw_Chemistry_c"></div>\n                        </div>\n                        <div id="tw_Math"><span>Math</span>\n                            <div id="tw_Math_c"></div>\n                        </div>\n                        <div id="tw_Computer"><span>Computer</span>\n                            <div id="tw_Computer_c"></div>\n                        </div>\n                        <div id="tw_Biology"><span>Biology</span>\n                            <div id="tw_Biology_c"></div>\n                        </div>\n                        <div id="tw_Statistics"><span>Statistics</span>\n                            <div id="tw_Statistics_c"></div>\n                        </div>\n                        <div id="tw_Unfiled"><span>Unfiled</span>\n                            <div id="tw_Unfiled_c"></div>\n                        </div>\n                    </div>\n                </div>\n            </div>\n        </div>',by='\n<span class="in_t" id="te_title">The Test Has Ended</span>\n        <span style="font-size:3vh;">Your Results Will Be Released After<span id="te_endtime"></span></span>\n        <a class="tst_btn rpl" href="/#/dashboard">Go To Dashboard</a>\n        <hr color="white" width="100%">';let wy='\n<span class="in_t">Terms And Conditions</span>\n        <span class="sp_txt">Copyright 2021-23 Quarkz By Mr Techtroid</span>\n        <span class="in_t_2">Last Updated: 04 April 2023(IST)</span>\n<div id="lgl_container">\n    <ol>\n        <h3>A. Acceptance of Terms and Conditions</h3>\n        <li>By using the Quarkz website, you acknowledge and agree to the terms and conditions set forth below. If you do not agree to these terms and conditions, you should not use the Quarkz website.</li>\n        <h3>B. Account Information And User Generated Content</h3>\n        <li>By creating an account on the Quarkz website, you agree to provide accurate and complete information about yourself as requested in the registration form. You also agree to keep your account information up-to-date and secure. </li>\n        <li>All user-generated content on the Quarkz website, including but not limited to quizzes, tests, assignments, notes, and forum posts, may be accessed by Quarkz admins or authorized moderators. When you request account deletion, no user-generated data will be deleted. Instead, the account will be unlinked from our authentication services. However, this data will continue to be accessible to ONLY Quarkz admins.\n        <h3>C. Account Information And User Generated Content</h3>\n        <li>Any content uploaded, published, submitted, or posted by you on the Quarkz platform, including without limitation, text, graphics, images, videos, and audio, will be owned by you, but we are also granted a worldwide, non-exclusive, royalty-free, sublicensable, and transferable license to use, reproduce, distribute, share, display, publish, retain, make available online, and/or electronically transmit such user-generated content as well as technical information collected. You represent and warrant that you have all necessary rights to grant us this license.</li>\n        <h3>D. Code of Conduct</h3>\n        <li>You agree to use the Quarkz website in a lawful and ethical manner. You agree not to engage in any activity that could damage, disable, overburden, or impair the website, or interfere with any other user\'s access to the website. You agree not to post or transmit any content that is obscene, defamatory, libelous, abusive, discriminatory, or otherwise offensive. You agree not to harass or bully other users on the website.</li>\n        <h3>E. Termination of Access</h3>\n        <li>We reserve the right to terminate access to the Quarkz website, or any part thereof, to any user at any time, without prior notice, for any reason, including without limitation, for a violation of these terms and conditions.</li>\n        <h3>F. Age Restrictions</h3>\n        <li>By creating an account on the Quarkz website, you represent and warrant that you are 13 years of age or older. If you are under 13 years of age, you must obtain permission from your guardians or parents to use the Quarkz website. We do not knowingly collect any personal information from users under 13 years of age. If we become aware that we have collected personal information from a user under 13 years of age, we will take steps to delete that information.</li>\n        <h3>G. Free Use Disclaimer</h3>\n        <li>The Quarkz website may contain copyrighted material that has not been specifically authorized by the copyright owner. Such material is made available for educational purposes under the "fair use" provision of the Copyright Act. Quarkz respects the intellectual property rights of others, and we ask that our users do the same.</li>\n        <li>Copyright Disclaimer under section 107 of the Copyright Act 1976, allowance is made for “fair use”\n            for purposes such as criticism, comment, news reporting, teaching, scholarship, education and\n            research. </li>\n        <h3>H. Licensing And Assets</h3>\n        <li>All codes, graphics, assets, files, and information located on the Quarkz website <span class="sp_txt">quarkz.netlify.app</span> or any of our storage services, such as Firebase, are part of Quarkz. Any usage, reproduction of any of the same without prior consent of owner Mr. Techtroid or Quarkz team is prohibited. </li>\n        <li>YouTube videos used on this website belong to their respective channel owners. Usage of questions and notes are from fair use under education, teaching, and research categories. Simulations used on this website belong to the respective providers.</li>\n        <li>If You Feel Any Content is violating your Copyright and want it to be removed from this site, contact us at the contact us page. We will make sure that we will remove the content in 24 Hours.</li>\n        <h3>I. User Conduct</h3>\n        <li>When using Quarkz, you agree to abide by all applicable laws and regulations, as well as our community guidelines. You also agree to respect the rights and dignity of others and not engage in any conduct that is discriminatory, harassing, or harmful in any way. Any violation of these rules may result in the termination of your account and may also lead to legal action.\n        <h3>J. Indemnification</h3>\n        <li>You agree to indemnify and hold Quarkz, its affiliates, licensors, and their respective directors, officers, agents, and employees, harmless from and against any and all claims, losses, liabilities, damages, costs, and expenses, including reasonable attorneys\' fees, arising out of or related to your use of our website, your violation of these Terms and Conditions, or any unauthorized use of your account.</li>\n        <h3>K. Disclaimer of Warranties</h3>\n        <li>Quarkz does not warrant that the site will be error-free, uninterrupted, or secure. You acknowledge and agree that your use of the site is at your own risk. Quarkz makes no representations or warranties of any kind, express or implied, regarding the accuracy, completeness, reliability, suitability, or availability of the site or the information, products, services, or related graphics contained on the site for any purpose. To the fullest extent permitted by law, Quarkz disclaims all warranties, including but not limited to warranties of title, non-infringement, merchantability, and fitness for a particular purpose.</li>\n        <h3>L. Limitation of Liability</h3>\n        <li>In no event shall Quarkz be liable for any direct, indirect, incidental, special, or consequential damages arising out of or in any way connected with your use of or inability to use the site, or for any information, products, services, or related graphics obtained through the site, even if Quarkz has been advised of the possibility of such damages. Some jurisdictions do not allow the exclusion or limitation of liability for incidental or consequential damages, so the above limitation may not apply to you.</li>\n        <h3>M. Governing Law and Jurisdiction</h3>\n        <li>These Terms and Conditions shall be governed by and construed in accordance with the laws of India, without giving effect to any principles of conflicts of law. You agree that any dispute arising from or relating to these Terms and Conditions or your use of the site shall be brought exclusively in the courts located in India, and you hereby consent to the personal jurisdiction and venue of such courts.</li>\n        <h3>N. Termination</h3>\n        <li>We may terminate your access to the site, without cause or notice, which may result in the forfeiture and destruction of all information associated with your account. All provisions of these Terms and Conditions that by their nature should survive termination shall survive termination, including, without limitation, ownership provisions, warranty disclaimers, indemnity, and limitations of liability.</li>\n        <h3>O. Entire Agreement</h3>\n        <li>These Terms and Conditions constitute the entire agreement between you and Quarkz and supersedes all prior or contemporaneous agreements, representations, warranties, and understandings, whether written or oral, relating to the site.</li>\n        <h3>P. Contact Us</h3>\n        <li>If you have any questions or comments about these Terms and Conditions or our website, please contact us through our "Contact Us" page.</li>\n    </ol>\n</div>';let _y='\n<span class="in_t" class="" id="fu_topic_title">Add/Edit Topic</span>\n        <div id="aq_basic" style="flex-direction: column;">\n            <input type="text" id="aq_tpcname" class="_in_aq" placeholder="Tests/Topic/Question Bank Name">\n            <select name="type" id="aq_tpclevel" class="_in_aq col-red">\n                <option value="jee">JEE</option>\n                <option value="neet">NEET</option>\n                <option value="foundation">Foundation</option>\n            </select>\n            <input type="text" id="aq_tpc_chapterid" class="_in_aq" placeholder="Chapter ID">\n            <select name="type" id="aq_tpc_subj" class="_in_aq col-red">\n                <option value="physics">Physics</option>\n                <option value="chemistry">Chemistry</option>\n                <option value="maths">Maths</option>\n                <option value="biology">Biology</option>\n                <option value="computer">Computer</option>\n                <option value="statistics">Statistics</option>\n                <option value="unfiled">Unfiled</option>\n            </select>\n        </div>\n        <div id="aq_test_extra" style="flex-direction: column;">\n            <input type="text" id="aq_tst_batches" class="_in_aq" placeholder="Batch ID">\n            <input type="datetime-local" id="aq_tst_stron" class="_in_aq">\n            <input type="datetime-local" id="aq_tst_endon" class="_in_aq">\n            <input type="text" id="aq_tst_syllabi" class="_in_aq" placeholder="Syllabus">\n            <input type="number" id="aq_tst_timealotted" class="_in_aq" placeholder="Time Alloted">\n            <div class="summernote" id="aq_add_test_instr">Additional Test Instructions</div>\n        </div>\n        <div id="lqadd" style="display: flex;flex-direction: row;margin:10px;height: 50vh;">\n            <div id="question_list"\n                style="border: 2px lime solid;width: 15vw;height:50vh;display: flex;flex-direction: column;align-items: center;text-align: center;font-size: 3vh;overflow-y: scroll;"\n                class="title-notes"></span>\n            </div>\n            <div\n                style="border: 2px lime solid;width:75vw;display: flex;flex-direction: column;overflow-y: scroll;height:50vh;">\n                <select name="type" id="aq_mode" class="_in_aq col-red">\n                    <option value="question">Question</option>\n                    <option value="lesson">Lesson</option>\n                    <option value="exam">Exam</option>\n                </select>\n                <div class="flex_type" id="aq_exams">\n                    <input type="text" id="aq_examname" class="_in_aq" placeholder="Exam Names">\n                    <input type="text" id="aq_examdate" class="_in_aq" placeholder="Exam Dates">\n                    <input type="text" id="aq_examinfo" class="_in_aq" placeholder="Exam Info Link">\n                    <input type="text" id="aq_examsyllabus" class="_in_aq" placeholder="Syllabus Link">\n                </div>\n                <div class="flex_type" id="aq_all" style="align-items: unset;" id="aq_uiad">\n                    <div class="summernote" id="aq_qtext">Question</div>\n                    <input type="text" id="aq_answer" class="_in_aq" placeholder="Answer">\n                    <input type="url" id="aq_yurl" class="_in_aq" placeholder="Youtube ID">\n                    <div class="summernote" id="aq_expl">Explanation</div>\n                    <textarea type="answer" id="aq_hint" class="_in_aq" style="resize: none;overflow-y: scroll;"\n                        placeholder="Hint"></textarea>\n                    <input type="number" id="aq_posmrks" class="_in_aq" placeholder="Marks For Correct">\n                    <input type="number" id="aq_negmrks" class="_in_aq" placeholder="Marks For Incorrect">\n                    <select name="type" id="aq_section" class="_in_aq col-red">\n                        <option value="Physics">Physics</option>\n                        <option value="Chemistry">Chemistry</option>\n                        <option value="Math">Math</option>\n                        <option value="Biology">Biology</option>\n                        <option value="Computer">Computer</option>\n                        <option value="Statistics">Statistics</option>\n                        <option value="Unfiled">Unfiled</option>\n                    </select>\n                </div>\n                <div id="aq_ans_hold">\n                    <select name="type" id="aq_type" class="_in_aq col-red">\n                        <option value="mcq">MCQ</option>\n                        <option value="mcq_multiple">MCQ Multiple</option>\n                        <option value="matrix">Matrix</option>\n                        <option value="numerical">Numerical</option>\n                        <option value="explain">Explain</option>\n                        <option value="fill">Fill In The Blanks</option>\n                    </select>\n                    <div id="aq_mcq_con" class="flex_type">\n                        <div class="aq_mcq_p" onclick="changeColor(this)"><input class="aq_mcq"></div>\n                        <div class="aq_mcq_p" onclick="changeColor(this)"><input class="aq_mcq"></div>\n                        <div class="aq_mcq_p" onclick="changeColor(this)"><input class="aq_mcq"></div>\n                        <div class="aq_mcq_p" onclick="changeColor(this)"><input class="aq_mcq"></div>\n                    </div>\n                    <div id="aq_matrix">\n                        <table>\n                            <tr>\n                                <td><input class="aq_i1"><input class="aq_i2"></td>\n                            </tr>\n                            <tr>\n                                <td><input class="aq_i1"><input class="aq_i2"></td>\n                            </tr>\n                            <tr>\n                                <td><input class="aq_i1"><input class="aq_i2"></td>\n                            </tr>\n                            <tr>\n                                <td><input class="aq_i1"><input class="aq_i2"></td>\n                            </tr>\n                        </table>\n                    </div>\n                    <button class="tst_btn rpl" id="aq_ao">Add Option</button>\n                    <button class="tst_btn rpl" id="aq_ro">Remove Option</button>\n                </div>\n                <button class="tst_btn rpl" id="aq_re">Remove Entry</button>\n            </div>\n        </div>\n        <button class="tst_btn rpl" id="aq_tpc_save">Save/Update Topic</button>\n        <button class="tst_btn rpl" id="aq_qbc_save">Save/Update QBank</button>\n        <button class="tst_btn rpl" id="aq_tst_save">Save/Update Test</button>\n        <button class="tst_btn rpl" id="aq_exam_save">Save/Update Exams</button>\n        <button class="tst_btn rpl" id="aq_export">Export</button>\n\n',My='\n<span style="font-size: 3vh;color:lime" id="tp_title">Topic Name</span>\n<span style="font-size: 4vh;color:yellow" id="tp_lsno">Lesson Name</span>\n        <hr width="100%" color="white">\n        <div class="flex_type" style="flex-direction: row;flex-wrap: wrap;">\n            <button class="tst_btn rpl" id="tp_nxt">Next</button>\n            <button class="tst_btn rpl" id="tp_prv">Previous</button>\n            <button class="tst_btn rpl" id="tp_pnt" style="display: none;">Export</button>\n            <button class="tst_btn rpl" id="tp_edt" style="display: none;">Edit</button>\n        </div>\n        <hr width="100%" color="white">\n        <div id="tp_lesson" style="width: 80%;">\n            <div id="tp_full_vid">\n                \x3c!-- <iframe id = "video" style = "width:80%; height: 450px; border-style: solid; ;border-width: 10px;" hidden = "True"  allow = "autoplay"></iframe> --\x3e\n                <div style="pointer-events: none;width:100%;">\n                    <div>\n                        <div id="player" style="width: 100%;"></div>\n                    </div>\n                    <div id="yt_progressBar" style="width:100%;">\n                        <div id="yt_progressBar_in"></div>\n                    </div>\n                </div>\n                <div id="toolbar"\n                    style="border:3px solid grey; border-radius: 10px 10px 10px 10px;padding-left: 5px;padding-right: 5px;">\n                    <span class="material-icons" id="tp_bw_btn" onclick="player.seekTo(player.getCurrentTime()-10)"\n                        title="-10 Seconds">fast_rewind</span>\n                    <span class="material-icons" id="tp_pl_btn" title="Play"\n                        onclick="player.playVideo()">play_arrow</span>\n                    <span class="material-icons" id="tb_pa_btn" title="Pause" onclick="player.pauseVideo()">pause</span>\n                    <span class="material-icons" onclick="player.stopVideo()" id="tb_st_btn" title="Stop">stop</span>\n                    <span class="material-icons" id="tb_fw_btn" onclick="player.seekTo(player.getCurrentTime()+10)"\n                        title="+10 Seconds">fast_forward</span>\n                    <span id="mute" class="material-icons" id="tb_um_btn" onclick="volumetype()"\n                        title="Mute/Unmute">volume_up</span>\n                    <span id="mute" class="material-icons" id="tb_um_btn" title="Mute/Unmute"\n                        onclick="fullscreen()">fit_screen</span>\n                    <span class="material-symbols-outlined" id="tb_wy_btn" onclick="window.open(player.getVideoUrl())"\n                        title="Watch On Youtube">youtube_activity</span>\n                    <input type="range" min="0" max="100" value="50" id="tb_vl_br" style="background-color: grey;"\n                        onchange="volumechange()" oninput="volumechange()">\n                </div>\n            </div>\n            <div>\n                <div id="tp_expl" style="height:max-content;min-height: 12vh;text-align: left;">Explanation</div>\n                <img id="tp_lsimg">\n            </div>\n        </div>\n\n        <div id="tp_question" style="width: 80%;align-items: center;display: flex;flex-direction: column;">\n            <div id="tp_qtext" style="width:80%;height:max-content;min-height: 12vh;">Question</div>\n            <div id="tp_ans_hold">\n                <input type="answer" id="tp_answer" class="_in_aq" placeholder="Answer">\n                <div id="tp_mcq_con" class="flex_type">\n                </div>\n                <div id="tp_matrix">\n                    <table>\n                        <tr>\n                            <td><span class="tp_i1"></span><span class="tp_i2"></span></td>\n                        </tr>\n                        <tr>\n                            <td><span class="tp_i1"></span><span class="tp_i2"></span></td>\n                        </tr>\n                        <tr>\n                            <td><span class="tp_i1"></span><span class="tp_i2"></span></td>\n                        </tr>\n                        <tr>\n                            <td><span class="tp_i1"></span><span class="tp_i2"></span></td>\n                        </tr>\n                    </table>\n                </div>\n            </div>\n\n            <div>\n                <button class="tst_btn rpl" id="tp_sbm">Submit</button>\n                <div id="tp_status"></div>\n            </div>\n            <div id="tp_hint" style="display: none;">Hint</div>\n            <div id="tp_e_answer" style="display: none;">Answer</div>\n            <div id="tp_a_expl" style="display: none;">Explanation</div>\n        </div>';let ky='\n<span class="in_t">Users</span>\n        <hr color="white" width="100%">\n        <div\n            style="border:orangered 3px solid;border-radius: 30px;display: flex;flex-direction: column;align-items: center;width:80%;">\n            <span style="font-size:3vh;color:yellow;width:80%;">Add Users</span><iframe\n                href="index.html#/register"></iframe>\n        </div>\n        <hr color="white" width="50%">\n        <input type="answer" id="us_user" class="_in_aq" placeholder="username">\n\n';let Ay='\n<div id="un_list" style="border:3px solid grey;width:25vw;height:90%"></div>\n        <div id="un_render" style="width:77vw;height:100%">\n            <div id="un_tools" style="width:100%;display: flex;flex-direction: row;flex-wrap: wrap;">\n                <select id="un_rendermode" class="_in_aq" style="width: 100px;color:red;"\n                    value="edit">\n                    <option value="edit">edit</option>\n                    <option value="preview">preview</option>\n                </select>\n                <select id="un_viewership" class="_in_aq" style="width: 100px;color:red;">\n                    <option value="private">private</option>\n                    <option value="public_view">public(view_only)</option>\n                    <option value="public">public</option>\n                </select>\n                <input id="un_title" type="text" class="_in_aq" style="width:20vw;" value="Notes Title">\n                <button id="un_save" class="rpl tst_btn" style="height: 30px;">Save</button>\n                <button id="un_print" class="rpl tst_btn" style="height: 30px;">Print</button>\n                <input id="un_colorpicker" type="color" name="favcolor" value="#ff0000"\n                    style="width:5vw;height:30px;background-color: transparent;border:none" onchange="notesUIHandler()">\n            </div>\n            <div id="un_edit" style="height:90%;width:100%">\n                <div class="summernote" id="un_editable" style="height:90%">Notes</div>\n            </div>\n            <div id="un_preview" style="height:90%;width:100%;overflow:scroll">\n            </div>\n            <iframe style="display: none;" id="un_print_iframe"></iframe>\n        </div>\n';async function Ey(){return await navigator.mediaDevices.getDisplayMedia({audio:!0,video:{mediaSource:"screen"}})}function xy(t,e){let n=[];const i=new MediaRecorder(t);return i.ondataavailable=function(t){t.data.size>0&&n.push(t.data)},i.onstop=function(){Sy(n),n=[]},i.start(200),i}function Sy(t){const e=new Blob(t,{type:"video/webm"});let n=window.prompt("Enter file name"),i=document.createElement("a");i.href=URL.createObjectURL(e),i.download=`${n}.webm`,document.body.appendChild(i),i.click(),URL.revokeObjectURL(e),document.body.removeChild(i)}function Ty(t){return t}var Iy=1,Ry=2,Cy=3,qy=4,Ny=1e-6;function Ly(t){return"translate("+t+",0)"}function Dy(t){return"translate(0,"+t+")"}function Oy(t){return e=>+t(e)}function By(t,e){return e=Math.max(0,t.bandwidth()-2*e)/2,t.round()&&(e=Math.round(e)),n=>+t(n)+e}function Py(){return!this.__axis}function Uy(t,e){var n=[],i=null,r=null,s=6,o=6,a=3,h="undefined"!=typeof window&&window.devicePixelRatio>1?0:.5,u=t===Iy||t===qy?-1:1,l=t===qy||t===Ry?"x":"y",c=t===Iy||t===Cy?Ly:Dy;function d(d){var f=null==i?e.ticks?e.ticks.apply(e,n):e.domain():i,p=null==r?e.tickFormat?e.tickFormat.apply(e,n):Ty:r,m=Math.max(s,0)+a,g=e.range(),v=+g[0]+h,y=+g[g.length-1]+h,b=(e.bandwidth?By:Oy)(e.copy(),h),w=d.selection?d.selection():d,_=w.selectAll(".domain").data([null]),M=w.selectAll(".tick").data(f,e).order(),k=M.exit(),A=M.enter().append("g").attr("class","tick"),E=M.select("line"),x=M.select("text");_=_.merge(_.enter().insert("path",".tick").attr("class","domain").attr("stroke","currentColor")),M=M.merge(A),E=E.merge(A.append("line").attr("stroke","currentColor").attr(l+"2",u*s)),x=x.merge(A.append("text").attr("fill","currentColor").attr(l,u*m).attr("dy",t===Iy?"0em":t===Cy?"0.71em":"0.32em")),d!==w&&(_=_.transition(d),M=M.transition(d),E=E.transition(d),x=x.transition(d),k=k.transition(d).attr("opacity",Ny).attr("transform",(function(t){return isFinite(t=b(t))?c(t+h):this.getAttribute("transform")})),A.attr("opacity",Ny).attr("transform",(function(t){var e=this.parentNode.__axis;return c((e&&isFinite(e=e(t))?e:b(t))+h)}))),k.remove(),_.attr("d",t===qy||t===Ry?o?"M"+u*o+","+v+"H"+h+"V"+y+"H"+u*o:"M"+h+","+v+"V"+y:o?"M"+v+","+u*o+"V"+h+"H"+y+"V"+u*o:"M"+v+","+h+"H"+y),M.attr("opacity",1).attr("transform",(function(t){return c(b(t)+h)})),E.attr(l+"2",u*s),x.attr(l,u*m).text(p),w.filter(Py).attr("fill","none").attr("font-size",10).attr("font-family","sans-serif").attr("text-anchor",t===Ry?"start":t===qy?"end":"middle"),w.each((function(){this.__axis=b}))}return d.scale=function(t){return arguments.length?(e=t,d):e},d.ticks=function(){return n=Array.from(arguments),d},d.tickArguments=function(t){return arguments.length?(n=null==t?[]:Array.from(t),d):n.slice()},d.tickValues=function(t){return arguments.length?(i=null==t?null:Array.from(t),d):i&&i.slice()},d.tickFormat=function(t){return arguments.length?(r=t,d):r},d.tickSize=function(t){return arguments.length?(s=o=+t,d):s},d.tickSizeInner=function(t){return arguments.length?(s=+t,d):s},d.tickSizeOuter=function(t){return arguments.length?(o=+t,d):o},d.tickPadding=function(t){return arguments.length?(a=+t,d):a},d.offset=function(t){return arguments.length?(h=+t,d):h},d}var Fy={value:()=>{}};function jy(){for(var t,e=0,n=arguments.length,i={};e<n;++e){if(!(t=arguments[e]+"")||t in i||/[\s.]/.test(t))throw new Error("illegal type: "+t);i[t]=[]}return new zy(i)}function zy(t){this._=t}function Vy(t,e){for(var n,i=0,r=t.length;i<r;++i)if((n=t[i]).name===e)return n.value}function Hy(t,e,n){for(var i=0,r=t.length;i<r;++i)if(t[i].name===e){t[i]=Fy,t=t.slice(0,i).concat(t.slice(i+1));break}return null!=n&&t.push({name:e,value:n}),t}zy.prototype=jy.prototype={constructor:zy,on:function(t,e){var n,i,r=this._,s=(i=r,(t+"").trim().split(/^|\s+/).map((function(t){var e="",n=t.indexOf(".");if(n>=0&&(e=t.slice(n+1),t=t.slice(0,n)),t&&!i.hasOwnProperty(t))throw new Error("unknown type: "+t);return{type:t,name:e}}))),o=-1,a=s.length;if(!(arguments.length<2)){if(null!=e&&"function"!=typeof e)throw new Error("invalid callback: "+e);for(;++o<a;)if(n=(t=s[o]).type)r[n]=Hy(r[n],t.name,e);else if(null==e)for(n in r)r[n]=Hy(r[n],t.name,null);return this}for(;++o<a;)if((n=(t=s[o]).type)&&(n=Vy(r[n],t.name)))return n},copy:function(){var t={},e=this._;for(var n in e)t[n]=e[n].slice();return new zy(t)},call:function(t,e){if((n=arguments.length-2)>0)for(var n,i,r=new Array(n),s=0;s<n;++s)r[s]=arguments[s+2];if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(s=0,n=(i=this._[t]).length;s<n;++s)i[s].value.apply(e,r)},apply:function(t,e,n){if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(var i=this._[t],r=0,s=i.length;r<s;++r)i[r].value.apply(e,n)}};var Ky=jy;function Wy(){}function Gy(t){return null==t?Wy:function(){return this.querySelector(t)}}function $y(){return[]}function Qy(t){return null==t?$y:function(){return this.querySelectorAll(t)}}function Xy(t){return function(){return null==(e=t.apply(this,arguments))?[]:Array.isArray(e)?e:Array.from(e);var e}}function Zy(t){return function(){return this.matches(t)}}function Yy(t){return function(e){return e.matches(t)}}var Jy=Array.prototype.find;function tb(){return this.firstElementChild}var eb=Array.prototype.filter;function nb(){return Array.from(this.children)}function ib(t){return new Array(t.length)}function rb(t,e){this.ownerDocument=t.ownerDocument,this.namespaceURI=t.namespaceURI,this._next=null,this._parent=t,this.__data__=e}function sb(t,e,n,i,r,s){for(var o,a=0,h=e.length,u=s.length;a<u;++a)(o=e[a])?(o.__data__=s[a],i[a]=o):n[a]=new rb(t,s[a]);for(;a<h;++a)(o=e[a])&&(r[a]=o)}function ob(t,e,n,i,r,s,o){var a,h,u,l=new Map,c=e.length,d=s.length,f=new Array(c);for(a=0;a<c;++a)(h=e[a])&&(f[a]=u=o.call(h,h.__data__,a,e)+"",l.has(u)?r[a]=h:l.set(u,h));for(a=0;a<d;++a)u=o.call(t,s[a],a,s)+"",(h=l.get(u))?(i[a]=h,h.__data__=s[a],l.delete(u)):n[a]=new rb(t,s[a]);for(a=0;a<c;++a)(h=e[a])&&l.get(f[a])===h&&(r[a]=h)}function ab(t){return t.__data__}function hb(t){return"object"==typeof t&&"length"in t?t:Array.from(t)}function ub(t,e){return t<e?-1:t>e?1:t>=e?0:NaN}rb.prototype={constructor:rb,appendChild:function(t){return this._parent.insertBefore(t,this._next)},insertBefore:function(t,e){return this._parent.insertBefore(t,e)},querySelector:function(t){return this._parent.querySelector(t)},querySelectorAll:function(t){return this._parent.querySelectorAll(t)}};var lb="http://www.w3.org/1999/xhtml",cb={svg:"http://www.w3.org/2000/svg",xhtml:lb,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function db(t){var e=t+="",n=e.indexOf(":");return n>=0&&"xmlns"!==(e=t.slice(0,n))&&(t=t.slice(n+1)),cb.hasOwnProperty(e)?{space:cb[e],local:t}:t}function fb(t){return function(){this.removeAttribute(t)}}function pb(t){return function(){this.removeAttributeNS(t.space,t.local)}}function mb(t,e){return function(){this.setAttribute(t,e)}}function gb(t,e){return function(){this.setAttributeNS(t.space,t.local,e)}}function vb(t,e){return function(){var n=e.apply(this,arguments);null==n?this.removeAttribute(t):this.setAttribute(t,n)}}function yb(t,e){return function(){var n=e.apply(this,arguments);null==n?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,n)}}function bb(t){return t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView}function wb(t){return function(){this.style.removeProperty(t)}}function _b(t,e,n){return function(){this.style.setProperty(t,e,n)}}function Mb(t,e,n){return function(){var i=e.apply(this,arguments);null==i?this.style.removeProperty(t):this.style.setProperty(t,i,n)}}function kb(t,e){return t.style.getPropertyValue(e)||bb(t).getComputedStyle(t,null).getPropertyValue(e)}function Ab(t){return function(){delete this[t]}}function Eb(t,e){return function(){this[t]=e}}function xb(t,e){return function(){var n=e.apply(this,arguments);null==n?delete this[t]:this[t]=n}}function Sb(t){return t.trim().split(/^|\s+/)}function Tb(t){return t.classList||new Ib(t)}function Ib(t){this._node=t,this._names=Sb(t.getAttribute("class")||"")}function Rb(t,e){for(var n=Tb(t),i=-1,r=e.length;++i<r;)n.add(e[i])}function Cb(t,e){for(var n=Tb(t),i=-1,r=e.length;++i<r;)n.remove(e[i])}function qb(t){return function(){Rb(this,t)}}function Nb(t){return function(){Cb(this,t)}}function Lb(t,e){return function(){(e.apply(this,arguments)?Rb:Cb)(this,t)}}function Db(){this.textContent=""}function Ob(t){return function(){this.textContent=t}}function Bb(t){return function(){var e=t.apply(this,arguments);this.textContent=null==e?"":e}}function Pb(){this.innerHTML=""}function Ub(t){return function(){this.innerHTML=t}}function Fb(t){return function(){var e=t.apply(this,arguments);this.innerHTML=null==e?"":e}}function jb(){this.nextSibling&&this.parentNode.appendChild(this)}function zb(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function Vb(t){return function(){var e=this.ownerDocument,n=this.namespaceURI;return n===lb&&e.documentElement.namespaceURI===lb?e.createElement(t):e.createElementNS(n,t)}}function Hb(t){return function(){return this.ownerDocument.createElementNS(t.space,t.local)}}function Kb(t){var e=db(t);return(e.local?Hb:Vb)(e)}function Wb(){return null}function Gb(){var t=this.parentNode;t&&t.removeChild(this)}function $b(){var t=this.cloneNode(!1),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function Qb(){var t=this.cloneNode(!0),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function Xb(t){return function(){var e=this.__on;if(e){for(var n,i=0,r=-1,s=e.length;i<s;++i)n=e[i],t.type&&n.type!==t.type||n.name!==t.name?e[++r]=n:this.removeEventListener(n.type,n.listener,n.options);++r?e.length=r:delete this.__on}}}function Zb(t,e,n){return function(){var i,r=this.__on,s=function(t){return function(e){t.call(this,e,this.__data__)}}(e);if(r)for(var o=0,a=r.length;o<a;++o)if((i=r[o]).type===t.type&&i.name===t.name)return this.removeEventListener(i.type,i.listener,i.options),this.addEventListener(i.type,i.listener=s,i.options=n),void(i.value=e);this.addEventListener(t.type,s,n),i={type:t.type,name:t.name,value:e,listener:s,options:n},r?r.push(i):this.__on=[i]}}function Yb(t,e,n){var i=bb(t),r=i.CustomEvent;"function"==typeof r?r=new r(e,n):(r=i.document.createEvent("Event"),n?(r.initEvent(e,n.bubbles,n.cancelable),r.detail=n.detail):r.initEvent(e,!1,!1)),t.dispatchEvent(r)}function Jb(t,e){return function(){return Yb(this,t,e)}}function tw(t,e){return function(){return Yb(this,t,e.apply(this,arguments))}}Ib.prototype={add:function(t){this._names.indexOf(t)<0&&(this._names.push(t),this._node.setAttribute("class",this._names.join(" ")))},remove:function(t){var e=this._names.indexOf(t);e>=0&&(this._names.splice(e,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(t){return this._names.indexOf(t)>=0}};var ew=[null];function nw(t,e){this._groups=t,this._parents=e}function iw(){return new nw([[document.documentElement]],ew)}nw.prototype=iw.prototype={constructor:nw,select:function(t){"function"!=typeof t&&(t=Gy(t));for(var e=this._groups,n=e.length,i=new Array(n),r=0;r<n;++r)for(var s,o,a=e[r],h=a.length,u=i[r]=new Array(h),l=0;l<h;++l)(s=a[l])&&(o=t.call(s,s.__data__,l,a))&&("__data__"in s&&(o.__data__=s.__data__),u[l]=o);return new nw(i,this._parents)},selectAll:function(t){t="function"==typeof t?Xy(t):Qy(t);for(var e=this._groups,n=e.length,i=[],r=[],s=0;s<n;++s)for(var o,a=e[s],h=a.length,u=0;u<h;++u)(o=a[u])&&(i.push(t.call(o,o.__data__,u,a)),r.push(o));return new nw(i,r)},selectChild:function(t){return this.select(null==t?tb:function(t){return function(){return Jy.call(this.children,t)}}("function"==typeof t?t:Yy(t)))},selectChildren:function(t){return this.selectAll(null==t?nb:function(t){return function(){return eb.call(this.children,t)}}("function"==typeof t?t:Yy(t)))},filter:function(t){"function"!=typeof t&&(t=Zy(t));for(var e=this._groups,n=e.length,i=new Array(n),r=0;r<n;++r)for(var s,o=e[r],a=o.length,h=i[r]=[],u=0;u<a;++u)(s=o[u])&&t.call(s,s.__data__,u,o)&&h.push(s);return new nw(i,this._parents)},data:function(t,e){if(!arguments.length)return Array.from(this,ab);var n,i=e?ob:sb,r=this._parents,s=this._groups;"function"!=typeof t&&(n=t,t=function(){return n});for(var o=s.length,a=new Array(o),h=new Array(o),u=new Array(o),l=0;l<o;++l){var c=r[l],d=s[l],f=d.length,p=hb(t.call(c,c&&c.__data__,l,r)),m=p.length,g=h[l]=new Array(m),v=a[l]=new Array(m);i(c,d,g,v,u[l]=new Array(f),p,e);for(var y,b,w=0,_=0;w<m;++w)if(y=g[w]){for(w>=_&&(_=w+1);!(b=v[_])&&++_<m;);y._next=b||null}}return(a=new nw(a,r))._enter=h,a._exit=u,a},enter:function(){return new nw(this._enter||this._groups.map(ib),this._parents)},exit:function(){return new nw(this._exit||this._groups.map(ib),this._parents)},join:function(t,e,n){var i=this.enter(),r=this,s=this.exit();return"function"==typeof t?(i=t(i))&&(i=i.selection()):i=i.append(t+""),null!=e&&(r=e(r))&&(r=r.selection()),null==n?s.remove():n(s),i&&r?i.merge(r).order():r},merge:function(t){for(var e=t.selection?t.selection():t,n=this._groups,i=e._groups,r=n.length,s=i.length,o=Math.min(r,s),a=new Array(r),h=0;h<o;++h)for(var u,l=n[h],c=i[h],d=l.length,f=a[h]=new Array(d),p=0;p<d;++p)(u=l[p]||c[p])&&(f[p]=u);for(;h<r;++h)a[h]=n[h];return new nw(a,this._parents)},selection:function(){return this},order:function(){for(var t=this._groups,e=-1,n=t.length;++e<n;)for(var i,r=t[e],s=r.length-1,o=r[s];--s>=0;)(i=r[s])&&(o&&4^i.compareDocumentPosition(o)&&o.parentNode.insertBefore(i,o),o=i);return this},sort:function(t){function e(e,n){return e&&n?t(e.__data__,n.__data__):!e-!n}t||(t=ub);for(var n=this._groups,i=n.length,r=new Array(i),s=0;s<i;++s){for(var o,a=n[s],h=a.length,u=r[s]=new Array(h),l=0;l<h;++l)(o=a[l])&&(u[l]=o);u.sort(e)}return new nw(r,this._parents).order()},call:function(){var t=arguments[0];return arguments[0]=this,t.apply(null,arguments),this},nodes:function(){return Array.from(this)},node:function(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var i=t[e],r=0,s=i.length;r<s;++r){var o=i[r];if(o)return o}return null},size:function(){let t=0;for(const e of this)++t;return t},empty:function(){return!this.node()},each:function(t){for(var e=this._groups,n=0,i=e.length;n<i;++n)for(var r,s=e[n],o=0,a=s.length;o<a;++o)(r=s[o])&&t.call(r,r.__data__,o,s);return this},attr:function(t,e){var n=db(t);if(arguments.length<2){var i=this.node();return n.local?i.getAttributeNS(n.space,n.local):i.getAttribute(n)}return this.each((null==e?n.local?pb:fb:"function"==typeof e?n.local?yb:vb:n.local?gb:mb)(n,e))},style:function(t,e,n){return arguments.length>1?this.each((null==e?wb:"function"==typeof e?Mb:_b)(t,e,null==n?"":n)):kb(this.node(),t)},property:function(t,e){return arguments.length>1?this.each((null==e?Ab:"function"==typeof e?xb:Eb)(t,e)):this.node()[t]},classed:function(t,e){var n=Sb(t+"");if(arguments.length<2){for(var i=Tb(this.node()),r=-1,s=n.length;++r<s;)if(!i.contains(n[r]))return!1;return!0}return this.each(("function"==typeof e?Lb:e?qb:Nb)(n,e))},text:function(t){return arguments.length?this.each(null==t?Db:("function"==typeof t?Bb:Ob)(t)):this.node().textContent},html:function(t){return arguments.length?this.each(null==t?Pb:("function"==typeof t?Fb:Ub)(t)):this.node().innerHTML},raise:function(){return this.each(jb)},lower:function(){return this.each(zb)},append:function(t){var e="function"==typeof t?t:Kb(t);return this.select((function(){return this.appendChild(e.apply(this,arguments))}))},insert:function(t,e){var n="function"==typeof t?t:Kb(t),i=null==e?Wb:"function"==typeof e?e:Gy(e);return this.select((function(){return this.insertBefore(n.apply(this,arguments),i.apply(this,arguments)||null)}))},remove:function(){return this.each(Gb)},clone:function(t){return this.select(t?Qb:$b)},datum:function(t){return arguments.length?this.property("__data__",t):this.node().__data__},on:function(t,e,n){var i,r,s=function(t){return t.trim().split(/^|\s+/).map((function(t){var e="",n=t.indexOf(".");return n>=0&&(e=t.slice(n+1),t=t.slice(0,n)),{type:t,name:e}}))}(t+""),o=s.length;if(!(arguments.length<2)){for(a=e?Zb:Xb,i=0;i<o;++i)this.each(a(s[i],e,n));return this}var a=this.node().__on;if(a)for(var h,u=0,l=a.length;u<l;++u)for(i=0,h=a[u];i<o;++i)if((r=s[i]).type===h.type&&r.name===h.name)return h.value},dispatch:function(t,e){return this.each(("function"==typeof e?tw:Jb)(t,e))},[Symbol.iterator]:function*(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var i,r=t[e],s=0,o=r.length;s<o;++s)(i=r[s])&&(yield i)}};var rw=iw;function sw(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function ow(t,e){var n=Object.create(t.prototype);for(var i in e)n[i]=e[i];return n}function aw(){}var hw=.7,uw=1.4285714285714286,lw="\\s*([+-]?\\d+)\\s*",cw="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",dw="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",fw=/^#([0-9a-f]{3,8})$/,pw=new RegExp(`^rgb\\(${lw},${lw},${lw}\\)$`),mw=new RegExp(`^rgb\\(${dw},${dw},${dw}\\)$`),gw=new RegExp(`^rgba\\(${lw},${lw},${lw},${cw}\\)$`),vw=new RegExp(`^rgba\\(${dw},${dw},${dw},${cw}\\)$`),yw=new RegExp(`^hsl\\(${cw},${dw},${dw}\\)$`),bw=new RegExp(`^hsla\\(${cw},${dw},${dw},${cw}\\)$`),ww={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function _w(){return this.rgb().formatHex()}function Mw(){return this.rgb().formatRgb()}function kw(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=fw.exec(t))?(n=e[1].length,e=parseInt(e[1],16),6===n?Aw(e):3===n?new Sw(e>>8&15|e>>4&240,e>>4&15|240&e,(15&e)<<4|15&e,1):8===n?Ew(e>>24&255,e>>16&255,e>>8&255,(255&e)/255):4===n?Ew(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|240&e,((15&e)<<4|15&e)/255):null):(e=pw.exec(t))?new Sw(e[1],e[2],e[3],1):(e=mw.exec(t))?new Sw(255*e[1]/100,255*e[2]/100,255*e[3]/100,1):(e=gw.exec(t))?Ew(e[1],e[2],e[3],e[4]):(e=vw.exec(t))?Ew(255*e[1]/100,255*e[2]/100,255*e[3]/100,e[4]):(e=yw.exec(t))?Nw(e[1],e[2]/100,e[3]/100,1):(e=bw.exec(t))?Nw(e[1],e[2]/100,e[3]/100,e[4]):ww.hasOwnProperty(t)?Aw(ww[t]):"transparent"===t?new Sw(NaN,NaN,NaN,0):null}function Aw(t){return new Sw(t>>16&255,t>>8&255,255&t,1)}function Ew(t,e,n,i){return i<=0&&(t=e=n=NaN),new Sw(t,e,n,i)}function xw(t,e,n,i){return 1===arguments.length?((r=t)instanceof aw||(r=kw(r)),r?new Sw((r=r.rgb()).r,r.g,r.b,r.opacity):new Sw):new Sw(t,e,n,null==i?1:i);var r}function Sw(t,e,n,i){this.r=+t,this.g=+e,this.b=+n,this.opacity=+i}function Tw(){return`#${qw(this.r)}${qw(this.g)}${qw(this.b)}`}function Iw(){const t=Rw(this.opacity);return`${1===t?"rgb(":"rgba("}${Cw(this.r)}, ${Cw(this.g)}, ${Cw(this.b)}${1===t?")":`, ${t})`}`}function Rw(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function Cw(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function qw(t){return((t=Cw(t))<16?"0":"")+t.toString(16)}function Nw(t,e,n,i){return i<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new Dw(t,e,n,i)}function Lw(t){if(t instanceof Dw)return new Dw(t.h,t.s,t.l,t.opacity);if(t instanceof aw||(t=kw(t)),!t)return new Dw;if(t instanceof Dw)return t;var e=(t=t.rgb()).r/255,n=t.g/255,i=t.b/255,r=Math.min(e,n,i),s=Math.max(e,n,i),o=NaN,a=s-r,h=(s+r)/2;return a?(o=e===s?(n-i)/a+6*(n<i):n===s?(i-e)/a+2:(e-n)/a+4,a/=h<.5?s+r:2-s-r,o*=60):a=h>0&&h<1?0:o,new Dw(o,a,h,t.opacity)}function Dw(t,e,n,i){this.h=+t,this.s=+e,this.l=+n,this.opacity=+i}function Ow(t){return(t=(t||0)%360)<0?t+360:t}function Bw(t){return Math.max(0,Math.min(1,t||0))}function Pw(t,e,n){return 255*(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)}function Uw(t,e,n,i,r){var s=t*t,o=s*t;return((1-3*t+3*s-o)*e+(4-6*s+3*o)*n+(1+3*t+3*s-3*o)*i+o*r)/6}sw(aw,kw,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:_w,formatHex:_w,formatHex8:function(){return this.rgb().formatHex8()},formatHsl:function(){return Lw(this).formatHsl()},formatRgb:Mw,toString:Mw}),sw(Sw,xw,ow(aw,{brighter(t){return t=null==t?uw:Math.pow(uw,t),new Sw(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=null==t?hw:Math.pow(hw,t),new Sw(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new Sw(Cw(this.r),Cw(this.g),Cw(this.b),Rw(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:Tw,formatHex:Tw,formatHex8:function(){return`#${qw(this.r)}${qw(this.g)}${qw(this.b)}${qw(255*(isNaN(this.opacity)?1:this.opacity))}`},formatRgb:Iw,toString:Iw})),sw(Dw,(function(t,e,n,i){return 1===arguments.length?Lw(t):new Dw(t,e,n,null==i?1:i)}),ow(aw,{brighter(t){return t=null==t?uw:Math.pow(uw,t),new Dw(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=null==t?hw:Math.pow(hw,t),new Dw(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+360*(this.h<0),e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,i=n+(n<.5?n:1-n)*e,r=2*n-i;return new Sw(Pw(t>=240?t-240:t+120,r,i),Pw(t,r,i),Pw(t<120?t+240:t-120,r,i),this.opacity)},clamp(){return new Dw(Ow(this.h),Bw(this.s),Bw(this.l),Rw(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=Rw(this.opacity);return`${1===t?"hsl(":"hsla("}${Ow(this.h)}, ${100*Bw(this.s)}%, ${100*Bw(this.l)}%${1===t?")":`, ${t})`}`}}));var Fw=t=>()=>t;function jw(t,e){return function(n){return t+n*e}}function zw(t){return 1==(t=+t)?Vw:function(e,n){return n-e?function(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(i){return Math.pow(t+i*e,n)}}(e,n,t):Fw(isNaN(e)?n:e)}}function Vw(t,e){var n=e-t;return n?jw(t,n):Fw(isNaN(t)?e:t)}var Hw=function t(e){var n=zw(e);function i(t,e){var i=n((t=xw(t)).r,(e=xw(e)).r),r=n(t.g,e.g),s=n(t.b,e.b),o=Vw(t.opacity,e.opacity);return function(e){return t.r=i(e),t.g=r(e),t.b=s(e),t.opacity=o(e),t+""}}return i.gamma=t,i}(1);function Kw(t){return function(e){var n,i,r=e.length,s=new Array(r),o=new Array(r),a=new Array(r);for(n=0;n<r;++n)i=xw(e[n]),s[n]=i.r||0,o[n]=i.g||0,a[n]=i.b||0;return s=t(s),o=t(o),a=t(a),i.opacity=1,function(t){return i.r=s(t),i.g=o(t),i.b=a(t),i+""}}}Kw((function(t){var e=t.length-1;return function(n){var i=n<=0?n=0:n>=1?(n=1,e-1):Math.floor(n*e),r=t[i],s=t[i+1],o=i>0?t[i-1]:2*r-s,a=i<e-1?t[i+2]:2*s-r;return Uw((n-i/e)*e,o,r,s,a)}})),Kw((function(t){var e=t.length;return function(n){var i=Math.floor(((n%=1)<0?++n:n)*e),r=t[(i+e-1)%e],s=t[i%e],o=t[(i+1)%e],a=t[(i+2)%e];return Uw((n-i/e)*e,r,s,o,a)}}));function Ww(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}var Gw=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,$w=new RegExp(Gw.source,"g");function Qw(t,e){var n,i,r,s=Gw.lastIndex=$w.lastIndex=0,o=-1,a=[],h=[];for(t+="",e+="";(n=Gw.exec(t))&&(i=$w.exec(e));)(r=i.index)>s&&(r=e.slice(s,r),a[o]?a[o]+=r:a[++o]=r),(n=n[0])===(i=i[0])?a[o]?a[o]+=i:a[++o]=i:(a[++o]=null,h.push({i:o,x:Ww(n,i)})),s=$w.lastIndex;return s<e.length&&(r=e.slice(s),a[o]?a[o]+=r:a[++o]=r),a.length<2?h[0]?function(t){return function(e){return t(e)+""}}(h[0].x):function(t){return function(){return t}}(e):(e=h.length,function(t){for(var n,i=0;i<e;++i)a[(n=h[i]).i]=n.x(t);return a.join("")})}var Xw,Zw,Yw=0,Jw=0,t_=0,e_=1e3,n_=0,i_=0,r_=0,s_="object"==typeof performance&&performance.now?performance:Date,o_="object"==typeof window&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(t){setTimeout(t,17)};function a_(){return i_||(o_(h_),i_=s_.now()+r_)}function h_(){i_=0}function u_(){this._call=this._time=this._next=null}function l_(t,e,n){var i=new u_;return i.restart(t,e,n),i}function c_(){i_=(n_=s_.now())+r_,Yw=Jw=0;try{!function(){a_(),++Yw;for(var t,e=Xw;e;)(t=i_-e._time)>=0&&e._call.call(void 0,t),e=e._next;--Yw}()}finally{Yw=0,function(){var t,e,n=Xw,i=1/0;for(;n;)n._call?(i>n._time&&(i=n._time),t=n,n=n._next):(e=n._next,n._next=null,n=t?t._next=e:Xw=e);Zw=t,f_(i)}(),i_=0}}function d_(){var t=s_.now(),e=t-n_;e>e_&&(r_-=e,n_=t)}function f_(t){Yw||(Jw&&(Jw=clearTimeout(Jw)),t-i_>24?(t<1/0&&(Jw=setTimeout(c_,t-s_.now()-r_)),t_&&(t_=clearInterval(t_))):(t_||(n_=s_.now(),t_=setInterval(d_,e_)),Yw=1,o_(c_)))}function p_(t,e,n){var i=new u_;return e=null==e?0:+e,i.restart((n=>{i.stop(),t(n+e)}),e,n),i}u_.prototype=l_.prototype={constructor:u_,restart:function(t,e,n){if("function"!=typeof t)throw new TypeError("callback is not a function");n=(null==n?a_():+n)+(null==e?0:+e),this._next||Zw===this||(Zw?Zw._next=this:Xw=this,Zw=this),this._call=t,this._time=n,f_()},stop:function(){this._call&&(this._call=null,this._time=1/0,f_())}};var m_=Ky("start","end","cancel","interrupt"),g_=[],v_=0,y_=1,b_=2,w_=3,__=4,M_=5,k_=6;function A_(t,e,n,i,r,s){var o=t.__transition;if(o){if(n in o)return}else t.__transition={};!function(t,e,n){var i,r=t.__transition;function s(t){n.state=y_,n.timer.restart(o,n.delay,n.time),n.delay<=t&&o(t-n.delay)}function o(s){var u,l,c,d;if(n.state!==y_)return h();for(u in r)if((d=r[u]).name===n.name){if(d.state===w_)return p_(o);d.state===__?(d.state=k_,d.timer.stop(),d.on.call("interrupt",t,t.__data__,d.index,d.group),delete r[u]):+u<e&&(d.state=k_,d.timer.stop(),d.on.call("cancel",t,t.__data__,d.index,d.group),delete r[u])}if(p_((function(){n.state===w_&&(n.state=__,n.timer.restart(a,n.delay,n.time),a(s))})),n.state=b_,n.on.call("start",t,t.__data__,n.index,n.group),n.state===b_){for(n.state=w_,i=new Array(c=n.tween.length),u=0,l=-1;u<c;++u)(d=n.tween[u].value.call(t,t.__data__,n.index,n.group))&&(i[++l]=d);i.length=l+1}}function a(e){for(var r=e<n.duration?n.ease.call(null,e/n.duration):(n.timer.restart(h),n.state=M_,1),s=-1,o=i.length;++s<o;)i[s].call(t,r);n.state===M_&&(n.on.call("end",t,t.__data__,n.index,n.group),h())}function h(){for(var i in n.state=k_,n.timer.stop(),delete r[e],r)return;delete t.__transition}r[e]=n,n.timer=l_(s,0,n.time)}(t,n,{name:e,index:i,group:r,on:m_,tween:g_,time:s.time,delay:s.delay,duration:s.duration,ease:s.ease,timer:null,state:v_})}function E_(t,e){var n=S_(t,e);if(n.state>v_)throw new Error("too late; already scheduled");return n}function x_(t,e){var n=S_(t,e);if(n.state>w_)throw new Error("too late; already running");return n}function S_(t,e){var n=t.__transition;if(!n||!(n=n[e]))throw new Error("transition not found");return n}function T_(t,e){var n,i,r,s=t.__transition,o=!0;if(s){for(r in e=null==e?null:e+"",s)(n=s[r]).name===e?(i=n.state>b_&&n.state<M_,n.state=k_,n.timer.stop(),n.on.call(i?"interrupt":"cancel",t,t.__data__,n.index,n.group),delete s[r]):o=!1;o&&delete t.__transition}}var I_,R_=180/Math.PI,C_={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function q_(t,e,n,i,r,s){var o,a,h;return(o=Math.sqrt(t*t+e*e))&&(t/=o,e/=o),(h=t*n+e*i)&&(n-=t*h,i-=e*h),(a=Math.sqrt(n*n+i*i))&&(n/=a,i/=a,h/=a),t*i<e*n&&(t=-t,e=-e,h=-h,o=-o),{translateX:r,translateY:s,rotate:Math.atan2(e,t)*R_,skewX:Math.atan(h)*R_,scaleX:o,scaleY:a}}function N_(t,e,n,i){function r(t){return t.length?t.pop()+" ":""}return function(s,o){var a=[],h=[];return s=t(s),o=t(o),function(t,i,r,s,o,a){if(t!==r||i!==s){var h=o.push("translate(",null,e,null,n);a.push({i:h-4,x:Ww(t,r)},{i:h-2,x:Ww(i,s)})}else(r||s)&&o.push("translate("+r+e+s+n)}(s.translateX,s.translateY,o.translateX,o.translateY,a,h),function(t,e,n,s){t!==e?(t-e>180?e+=360:e-t>180&&(t+=360),s.push({i:n.push(r(n)+"rotate(",null,i)-2,x:Ww(t,e)})):e&&n.push(r(n)+"rotate("+e+i)}(s.rotate,o.rotate,a,h),function(t,e,n,s){t!==e?s.push({i:n.push(r(n)+"skewX(",null,i)-2,x:Ww(t,e)}):e&&n.push(r(n)+"skewX("+e+i)}(s.skewX,o.skewX,a,h),function(t,e,n,i,s,o){if(t!==n||e!==i){var a=s.push(r(s)+"scale(",null,",",null,")");o.push({i:a-4,x:Ww(t,n)},{i:a-2,x:Ww(e,i)})}else 1===n&&1===i||s.push(r(s)+"scale("+n+","+i+")")}(s.scaleX,s.scaleY,o.scaleX,o.scaleY,a,h),s=o=null,function(t){for(var e,n=-1,i=h.length;++n<i;)a[(e=h[n]).i]=e.x(t);return a.join("")}}}var L_=N_((function(t){const e=new("function"==typeof DOMMatrix?DOMMatrix:WebKitCSSMatrix)(t+"");return e.isIdentity?C_:q_(e.a,e.b,e.c,e.d,e.e,e.f)}),"px, ","px)","deg)"),D_=N_((function(t){return null==t?C_:(I_||(I_=document.createElementNS("http://www.w3.org/2000/svg","g")),I_.setAttribute("transform",t),(t=I_.transform.baseVal.consolidate())?q_((t=t.matrix).a,t.b,t.c,t.d,t.e,t.f):C_)}),", ",")",")");function O_(t,e){var n,i;return function(){var r=x_(this,t),s=r.tween;if(s!==n)for(var o=0,a=(i=n=s).length;o<a;++o)if(i[o].name===e){(i=i.slice()).splice(o,1);break}r.tween=i}}function B_(t,e,n){var i,r;if("function"!=typeof n)throw new Error;return function(){var s=x_(this,t),o=s.tween;if(o!==i){r=(i=o).slice();for(var a={name:e,value:n},h=0,u=r.length;h<u;++h)if(r[h].name===e){r[h]=a;break}h===u&&r.push(a)}s.tween=r}}function P_(t,e,n){var i=t._id;return t.each((function(){var t=x_(this,i);(t.value||(t.value={}))[e]=n.apply(this,arguments)})),function(t){return S_(t,i).value[e]}}function U_(t,e){var n;return("number"==typeof e?Ww:e instanceof kw?Hw:(n=kw(e))?(e=n,Hw):Qw)(t,e)}function F_(t){return function(){this.removeAttribute(t)}}function j_(t){return function(){this.removeAttributeNS(t.space,t.local)}}function z_(t,e,n){var i,r,s=n+"";return function(){var o=this.getAttribute(t);return o===s?null:o===i?r:r=e(i=o,n)}}function V_(t,e,n){var i,r,s=n+"";return function(){var o=this.getAttributeNS(t.space,t.local);return o===s?null:o===i?r:r=e(i=o,n)}}function H_(t,e,n){var i,r,s;return function(){var o,a,h=n(this);if(null!=h)return(o=this.getAttribute(t))===(a=h+"")?null:o===i&&a===r?s:(r=a,s=e(i=o,h));this.removeAttribute(t)}}function K_(t,e,n){var i,r,s;return function(){var o,a,h=n(this);if(null!=h)return(o=this.getAttributeNS(t.space,t.local))===(a=h+"")?null:o===i&&a===r?s:(r=a,s=e(i=o,h));this.removeAttributeNS(t.space,t.local)}}function W_(t,e){var n,i;function r(){var r=e.apply(this,arguments);return r!==i&&(n=(i=r)&&function(t,e){return function(n){this.setAttributeNS(t.space,t.local,e.call(this,n))}}(t,r)),n}return r._value=e,r}function G_(t,e){var n,i;function r(){var r=e.apply(this,arguments);return r!==i&&(n=(i=r)&&function(t,e){return function(n){this.setAttribute(t,e.call(this,n))}}(t,r)),n}return r._value=e,r}function $_(t,e){return function(){E_(this,t).delay=+e.apply(this,arguments)}}function Q_(t,e){return e=+e,function(){E_(this,t).delay=e}}function X_(t,e){return function(){x_(this,t).duration=+e.apply(this,arguments)}}function Z_(t,e){return e=+e,function(){x_(this,t).duration=e}}var Y_=rw.prototype.constructor;function J_(t){return function(){this.style.removeProperty(t)}}var tM=0;function eM(t,e,n,i){this._groups=t,this._parents=e,this._name=n,this._id=i}function nM(){return++tM}var iM=rw.prototype;eM.prototype=function(t){return rw().transition(t)}.prototype={constructor:eM,select:function(t){var e=this._name,n=this._id;"function"!=typeof t&&(t=Gy(t));for(var i=this._groups,r=i.length,s=new Array(r),o=0;o<r;++o)for(var a,h,u=i[o],l=u.length,c=s[o]=new Array(l),d=0;d<l;++d)(a=u[d])&&(h=t.call(a,a.__data__,d,u))&&("__data__"in a&&(h.__data__=a.__data__),c[d]=h,A_(c[d],e,n,d,c,S_(a,n)));return new eM(s,this._parents,e,n)},selectAll:function(t){var e=this._name,n=this._id;"function"!=typeof t&&(t=Qy(t));for(var i=this._groups,r=i.length,s=[],o=[],a=0;a<r;++a)for(var h,u=i[a],l=u.length,c=0;c<l;++c)if(h=u[c]){for(var d,f=t.call(h,h.__data__,c,u),p=S_(h,n),m=0,g=f.length;m<g;++m)(d=f[m])&&A_(d,e,n,m,f,p);s.push(f),o.push(h)}return new eM(s,o,e,n)},selectChild:iM.selectChild,selectChildren:iM.selectChildren,filter:function(t){"function"!=typeof t&&(t=Zy(t));for(var e=this._groups,n=e.length,i=new Array(n),r=0;r<n;++r)for(var s,o=e[r],a=o.length,h=i[r]=[],u=0;u<a;++u)(s=o[u])&&t.call(s,s.__data__,u,o)&&h.push(s);return new eM(i,this._parents,this._name,this._id)},merge:function(t){if(t._id!==this._id)throw new Error;for(var e=this._groups,n=t._groups,i=e.length,r=n.length,s=Math.min(i,r),o=new Array(i),a=0;a<s;++a)for(var h,u=e[a],l=n[a],c=u.length,d=o[a]=new Array(c),f=0;f<c;++f)(h=u[f]||l[f])&&(d[f]=h);for(;a<i;++a)o[a]=e[a];return new eM(o,this._parents,this._name,this._id)},selection:function(){return new Y_(this._groups,this._parents)},transition:function(){for(var t=this._name,e=this._id,n=nM(),i=this._groups,r=i.length,s=0;s<r;++s)for(var o,a=i[s],h=a.length,u=0;u<h;++u)if(o=a[u]){var l=S_(o,e);A_(o,t,n,u,a,{time:l.time+l.delay+l.duration,delay:0,duration:l.duration,ease:l.ease})}return new eM(i,this._parents,t,n)},call:iM.call,nodes:iM.nodes,node:iM.node,size:iM.size,empty:iM.empty,each:iM.each,on:function(t,e){var n=this._id;return arguments.length<2?S_(this.node(),n).on.on(t):this.each(function(t,e,n){var i,r,s=function(t){return(t+"").trim().split(/^|\s+/).every((function(t){var e=t.indexOf(".");return e>=0&&(t=t.slice(0,e)),!t||"start"===t}))}(e)?E_:x_;return function(){var o=s(this,t),a=o.on;a!==i&&(r=(i=a).copy()).on(e,n),o.on=r}}(n,t,e))},attr:function(t,e){var n=db(t),i="transform"===n?D_:U_;return this.attrTween(t,"function"==typeof e?(n.local?K_:H_)(n,i,P_(this,"attr."+t,e)):null==e?(n.local?j_:F_)(n):(n.local?V_:z_)(n,i,e))},attrTween:function(t,e){var n="attr."+t;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(null==e)return this.tween(n,null);if("function"!=typeof e)throw new Error;var i=db(t);return this.tween(n,(i.local?W_:G_)(i,e))},style:function(t,e,n){var i="transform"==(t+="")?L_:U_;return null==e?this.styleTween(t,function(t,e){var n,i,r;return function(){var s=kb(this,t),o=(this.style.removeProperty(t),kb(this,t));return s===o?null:s===n&&o===i?r:r=e(n=s,i=o)}}(t,i)).on("end.style."+t,J_(t)):"function"==typeof e?this.styleTween(t,function(t,e,n){var i,r,s;return function(){var o=kb(this,t),a=n(this),h=a+"";return null==a&&(this.style.removeProperty(t),h=a=kb(this,t)),o===h?null:o===i&&h===r?s:(r=h,s=e(i=o,a))}}(t,i,P_(this,"style."+t,e))).each(function(t,e){var n,i,r,s,o="style."+e,a="end."+o;return function(){var h=x_(this,t),u=h.on,l=null==h.value[o]?s||(s=J_(e)):void 0;u===n&&r===l||(i=(n=u).copy()).on(a,r=l),h.on=i}}(this._id,t)):this.styleTween(t,function(t,e,n){var i,r,s=n+"";return function(){var o=kb(this,t);return o===s?null:o===i?r:r=e(i=o,n)}}(t,i,e),n).on("end.style."+t,null)},styleTween:function(t,e,n){var i="style."+(t+="");if(arguments.length<2)return(i=this.tween(i))&&i._value;if(null==e)return this.tween(i,null);if("function"!=typeof e)throw new Error;return this.tween(i,function(t,e,n){var i,r;function s(){var s=e.apply(this,arguments);return s!==r&&(i=(r=s)&&function(t,e,n){return function(i){this.style.setProperty(t,e.call(this,i),n)}}(t,s,n)),i}return s._value=e,s}(t,e,null==n?"":n))},text:function(t){return this.tween("text","function"==typeof t?function(t){return function(){var e=t(this);this.textContent=null==e?"":e}}(P_(this,"text",t)):function(t){return function(){this.textContent=t}}(null==t?"":t+""))},textTween:function(t){var e="text";if(arguments.length<1)return(e=this.tween(e))&&e._value;if(null==t)return this.tween(e,null);if("function"!=typeof t)throw new Error;return this.tween(e,function(t){var e,n;function i(){var i=t.apply(this,arguments);return i!==n&&(e=(n=i)&&function(t){return function(e){this.textContent=t.call(this,e)}}(i)),e}return i._value=t,i}(t))},remove:function(){return this.on("end.remove",(t=this._id,function(){var e=this.parentNode;for(var n in this.__transition)if(+n!==t)return;e&&e.removeChild(this)}));var t},tween:function(t,e){var n=this._id;if(t+="",arguments.length<2){for(var i,r=S_(this.node(),n).tween,s=0,o=r.length;s<o;++s)if((i=r[s]).name===t)return i.value;return null}return this.each((null==e?O_:B_)(n,t,e))},delay:function(t){var e=this._id;return arguments.length?this.each(("function"==typeof t?$_:Q_)(e,t)):S_(this.node(),e).delay},duration:function(t){var e=this._id;return arguments.length?this.each(("function"==typeof t?X_:Z_)(e,t)):S_(this.node(),e).duration},ease:function(t){var e=this._id;return arguments.length?this.each(function(t,e){if("function"!=typeof e)throw new Error;return function(){x_(this,t).ease=e}}(e,t)):S_(this.node(),e).ease},easeVarying:function(t){if("function"!=typeof t)throw new Error;return this.each(function(t,e){return function(){var n=e.apply(this,arguments);if("function"!=typeof n)throw new Error;x_(this,t).ease=n}}(this._id,t))},end:function(){var t,e,n=this,i=n._id,r=n.size();return new Promise((function(s,o){var a={value:o},h={value:function(){0==--r&&s()}};n.each((function(){var n=x_(this,i),r=n.on;r!==t&&((e=(t=r).copy())._.cancel.push(a),e._.interrupt.push(a),e._.end.push(h)),n.on=e})),0===r&&s()}))},[Symbol.iterator]:iM[Symbol.iterator]};var rM={time:null,delay:0,duration:250,ease:function(t){return((t*=2)<=1?t*t*t:(t-=2)*t*t+2)/2}};function sM(t,e){for(var n;!(n=t.__transition)||!(n=n[e]);)if(!(t=t.parentNode))throw new Error(`transition ${e} not found`);return n}rw.prototype.interrupt=function(t){return this.each((function(){T_(this,t)}))},rw.prototype.transition=function(t){var e,n;t instanceof eM?(e=t._id,t=t._name):(e=nM(),(n=rM).time=a_(),t=null==t?null:t+"");for(var i=this._groups,r=i.length,s=0;s<r;++s)for(var o,a=i[s],h=a.length,u=0;u<h;++u)(o=a[u])&&A_(o,t,e,u,a,n||sM(o,e));return new eM(i,this._parents,t,e)};const{abs:oM,max:aM,min:hM}=Math;function uM(t){return[+t[0],+t[1]]}function lM(t){return[uM(t[0]),uM(t[1])]}["w","e"].map(cM),["n","s"].map(cM),["n","w","e","s","nw","ne","sw","se"].map(cM);function cM(t){return{type:t}}Math.sqrt(50),Math.sqrt(10),Math.sqrt(2);function dM(t,e){return null==t||null==e?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function fM(t,e){return null==t||null==e?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function pM(t){let e,n,i;function r(t,i,r=0,s=t.length){if(r<s){if(0!==e(i,i))return s;do{const e=r+s>>>1;n(t[e],i)<0?r=e+1:s=e}while(r<s)}return r}return 2!==t.length?(e=dM,n=(e,n)=>dM(t(e),n),i=(e,n)=>t(e)-n):(e=t===dM||t===fM?t:mM,n=t,i=t),{left:r,center:function(t,e,n=0,s=t.length){const o=r(t,e,n,s-1);return o>n&&i(t[o-1],e)>-i(t[o],e)?o-1:o},right:function(t,i,r=0,s=t.length){if(r<s){if(0!==e(i,i))return s;do{const e=r+s>>>1;n(t[e],i)<=0?r=e+1:s=e}while(r<s)}return r}}}function mM(){return 0}const gM=pM(dM);gM.right,gM.left,pM((function(t){return null===t?NaN:+t})).center;function vM(t,e){if((n=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var n,i=t.slice(0,n);return[i.length>1?i[0]+i.slice(2):i,+t.slice(n+1)]}function yM(t){return(t=vM(Math.abs(t)))?t[1]:NaN}function bM(t){return function(e){return e.replace(/[0-9]/g,(function(e){return t[+e]}))}}var wM,_M=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function MM(t){if(!(e=_M.exec(t)))throw new Error("invalid format: "+t);var e;return new kM({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}function kM(t){this.fill=void 0===t.fill?" ":t.fill+"",this.align=void 0===t.align?">":t.align+"",this.sign=void 0===t.sign?"-":t.sign+"",this.symbol=void 0===t.symbol?"":t.symbol+"",this.zero=!!t.zero,this.width=void 0===t.width?void 0:+t.width,this.comma=!!t.comma,this.precision=void 0===t.precision?void 0:+t.precision,this.trim=!!t.trim,this.type=void 0===t.type?"":t.type+""}function AM(t){t:for(var e,n=t.length,i=1,r=-1;i<n;++i)switch(t[i]){case".":r=e=i;break;case"0":0===r&&(r=i),e=i;break;default:if(!+t[i])break t;r>0&&(r=0)}return r>0?t.slice(0,r)+t.slice(e+1):t}function EM(t,e){var n=vM(t,e);if(!n)return t+"";var i=n[0],r=n[1];return r<0?"0."+new Array(-r).join("0")+i:i.length>r+1?i.slice(0,r+1)+"."+i.slice(r+1):i+new Array(r-i.length+2).join("0")}MM.prototype=kM.prototype,kM.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(void 0===this.width?"":Math.max(1,0|this.width))+(this.comma?",":"")+(void 0===this.precision?"":"."+Math.max(0,0|this.precision))+(this.trim?"~":"")+this.type};var xM={"%":(t,e)=>(100*t).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:function(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)},e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>EM(100*t,e),r:EM,s:function(t,e){var n=vM(t,e);if(!n)return t+"";var i=n[0],r=n[1],s=r-(wM=3*Math.max(-8,Math.min(8,Math.floor(r/3))))+1,o=i.length;return s===o?i:s>o?i+new Array(s-o+1).join("0"):s>0?i.slice(0,s)+"."+i.slice(s):"0."+new Array(1-s).join("0")+vM(t,Math.max(0,e+s-1))[0]},X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function SM(t){return t}var TM,IM=Array.prototype.map,RM=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];function CM(t){var e,n,i=void 0===t.grouping||void 0===t.thousands?SM:(e=IM.call(t.grouping,Number),n=t.thousands+"",function(t,i){for(var r=t.length,s=[],o=0,a=e[0],h=0;r>0&&a>0&&(h+a+1>i&&(a=Math.max(1,i-h)),s.push(t.substring(r-=a,r+a)),!((h+=a+1)>i));)a=e[o=(o+1)%e.length];return s.reverse().join(n)}),r=void 0===t.currency?"":t.currency[0]+"",s=void 0===t.currency?"":t.currency[1]+"",o=void 0===t.decimal?".":t.decimal+"",a=void 0===t.numerals?SM:bM(IM.call(t.numerals,String)),h=void 0===t.percent?"%":t.percent+"",u=void 0===t.minus?"−":t.minus+"",l=void 0===t.nan?"NaN":t.nan+"";function c(t){var e=(t=MM(t)).fill,n=t.align,c=t.sign,d=t.symbol,f=t.zero,p=t.width,m=t.comma,g=t.precision,v=t.trim,y=t.type;"n"===y?(m=!0,y="g"):xM[y]||(void 0===g&&(g=12),v=!0,y="g"),(f||"0"===e&&"="===n)&&(f=!0,e="0",n="=");var b="$"===d?r:"#"===d&&/[boxX]/.test(y)?"0"+y.toLowerCase():"",w="$"===d?s:/[%p]/.test(y)?h:"",_=xM[y],M=/[defgprs%]/.test(y);function k(t){var r,s,h,d=b,k=w;if("c"===y)k=_(t)+k,t="";else{var A=(t=+t)<0||1/t<0;if(t=isNaN(t)?l:_(Math.abs(t),g),v&&(t=AM(t)),A&&0==+t&&"+"!==c&&(A=!1),d=(A?"("===c?c:u:"-"===c||"("===c?"":c)+d,k=("s"===y?RM[8+wM/3]:"")+k+(A&&"("===c?")":""),M)for(r=-1,s=t.length;++r<s;)if(48>(h=t.charCodeAt(r))||h>57){k=(46===h?o+t.slice(r+1):t.slice(r))+k,t=t.slice(0,r);break}}m&&!f&&(t=i(t,1/0));var E=d.length+t.length+k.length,x=E<p?new Array(p-E+1).join(e):"";switch(m&&f&&(t=i(x+t,x.length?p-k.length:1/0),x=""),n){case"<":t=d+t+k+x;break;case"=":t=d+x+t+k;break;case"^":t=x.slice(0,E=x.length>>1)+d+t+k+x.slice(E);break;default:t=x+d+t+k}return a(t)}return g=void 0===g?6:/[gprs]/.test(y)?Math.max(1,Math.min(21,g)):Math.max(0,Math.min(20,g)),k.toString=function(){return t+""},k}return{format:c,formatPrefix:function(t,e){var n=c(((t=MM(t)).type="f",t)),i=3*Math.max(-8,Math.min(8,Math.floor(yM(e)/3))),r=Math.pow(10,-i),s=RM[8+i/3];return function(t){return n(r*t)+s}}}}TM=CM({thousands:",",grouping:[3],currency:["$",""]}),TM.format,TM.formatPrefix;class qM extends Map{constructor(t,e=$85729e8e64a60b52$var$keyof){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:e}}),null!=t)for(const[e,n]of t)this.set(e,n)}get(t){return super.get($85729e8e64a60b52$var$intern_get(this,t))}has(t){return super.has($85729e8e64a60b52$var$intern_get(this,t))}set(t,e){return super.set($85729e8e64a60b52$var$intern_set(this,t),e)}delete(t){return super.delete($85729e8e64a60b52$var$intern_delete(this,t))}}class NM extends Set{constructor(t,e=$85729e8e64a60b52$var$keyof){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:e}}),null!=t)for(const e of t)this.add(e)}has(t){return super.has($85729e8e64a60b52$var$intern_get(this,t))}add(t){return super.add($85729e8e64a60b52$var$intern_set(this,t))}delete(t){return super.delete($85729e8e64a60b52$var$intern_delete(this,t))}}Symbol("implicit");var LM=1e-12;function DM(t){return((t=Math.exp(t))+1/t)/2}(function t(e,n,i){function r(t,r){var s,o,a=t[0],h=t[1],u=t[2],l=r[0],c=r[1],d=r[2],f=l-a,p=c-h,m=f*f+p*p;if(m<LM)o=Math.log(d/u)/e,s=function(t){return[a+t*f,h+t*p,u*Math.exp(e*t*o)]};else{var g=Math.sqrt(m),v=(d*d-u*u+i*m)/(2*u*n*g),y=(d*d-u*u-i*m)/(2*d*n*g),b=Math.log(Math.sqrt(v*v+1)-v),w=Math.log(Math.sqrt(y*y+1)-y);o=(w-b)/e,s=function(t){var i,r=t*o,s=DM(b),l=u/(n*g)*(s*(i=e*r+b,((i=Math.exp(2*i))-1)/(i+1))-function(t){return((t=Math.exp(t))-1/t)/2}(b));return[a+l*f,h+l*p,u*s/DM(e*r+b)]}}return s.duration=1e3*o*e/Math.SQRT2,s}return r.rho=function(e){var n=Math.max(.001,+e),i=n*n;return t(n,i,i*i)},r})(Math.SQRT2,2,4);function OM(t,e,n){this.k=t,this.x=e,this.y=n}OM.prototype={constructor:OM,scale:function(t){return 1===t?this:new OM(this.k*t,this.x,this.y)},translate:function(t,e){return 0===t&0===e?this:new OM(this.k,this.x+this.k*t,this.y+this.k*e)},apply:function(t){return[t[0]*this.k+this.x,t[1]*this.k+this.y]},applyX:function(t){return t*this.k+this.x},applyY:function(t){return t*this.k+this.y},invert:function(t){return[(t[0]-this.x)/this.k,(t[1]-this.y)/this.k]},invertX:function(t){return(t-this.x)/this.k},invertY:function(t){return(t-this.y)/this.k},rescaleX:function(t){return t.copy().domain(t.range().map(this.invertX,this).map(t.invert,t))},rescaleY:function(t){return t.copy().domain(t.range().map(this.invertY,this).map(t.invert,t))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};new OM(1,0,0);function BM(t){t=Number(t);var e=Math.floor(t/86400),n=Math.floor(t%86400/3600),i=Math.floor(t%3600/60),r=Math.floor(t%60);return(e>0?e+(1==e?" day, ":" days, "):"")+(n>0?n+(1==n?" hour, ":" hours, "):"")+(i>0?i+(1==i?" minute, ":" minutes, "):"")+(r>0?r+(1==r?" second":" seconds"):"")}function PM(t,e){let n=t.length;if(n!=e.length)return!1;t.sort(),e.sort();for(let i=0;i<n;i++)if(t[i]!=e[i])return!1;return!0}function UM(t,e){const n=Object.keys,i=typeof t;return t&&e&&"object"===i&&i===typeof e?n(t).length===n(e).length&&n(t).every((n=>UM(t[n],e[n]))):t===e}function FM(t){fetch(t).then((t=>{var e;for(var n of t.headers.entries())"date"===n[0]&&(e=new Date(n[1]).getTime());return e}))}function jM(t){t.requestFullscreen?t.requestFullscreen():t.mozRequestFullScreen?t.mozRequestFullScreen():t.webkitRequestFullscreen?t.webkitRequestFullscreen():t.msRequestFullscreen&&t.msRequestFullscreen()}OM.prototype;const zM=(t,e)=>t.map((t=>({...e.find((e=>e.qid===t.qid&&e)),...t})));function VM(t){return document.getElementById(t)}function HM(t,e,n){var i;return 0==n&&(i=t=>(e,n)=>e[t]>n[t]?1:-1),1==n&&(i=t=>(e,n)=>e[t]>n[t]?-1:1),t.sort(i(e))}function KM(t,e,n,i){var r;return 0==i?r=(t,e)=>(n,i)=>n[t]===i[t]?n[e]>i[e]?1:-1:n[t]>i[t]?1:-1:1==i&&(r=(t,e)=>(n,i)=>n[t]===i[t]?n[e]>i[e]?-1:1:n[t]>i[t]?-1:1),t.sort(r(e,n))}function WM(){console;console={},console={log:function(t){},error:function(t){}};console}St({apiKey:"AIzaSyDN8T7Pmw5e-LzmC3nAHEqI0Uk7FF7y6fc",authDomain:"quarkz.firebaseapp.com",projectId:"quarkz",storageBucket:"quarkz.appspot.com",messagingSenderId:"1050835442263",appId:"1:1050835442263:web:e7d05ca9373f2f6083a112",measurementId:"G-1Y3S45VWFH"});const GM=em(),$M=tr();
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var QM,XM;(QM=$M,XM=Ln,D(QM).setPersistence(XM)).then((()=>Tn($M,email,password))).catch((t=>{}));const ZM=function(t=Tt(),e){const n=kt(t=D(t),Bv).getImmediate({identifier:e}),i=f("storage");return i&&function(t,e,n,i={}){!function(t,e,n,i={}){t.host=`${e}:${n}`,t._protocol="http";const{mockUserToken:r}=i;r&&(t._overrideAuthToken="string"==typeof r?r:v(r,t.app.options.projectId))}(t,e,n,i)}
/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(n,...i),n}();function YM(t){let e="";const n=t.split(" ");for(let t=0;t<n.length;t++){const i=n[t];i.length>0&&(e+=i[0].toUpperCase())}return e}function JM(t,e,n){const i=r("7GYkA").createHash("sha256").update(t).digest("hex"),s=parseInt(i.slice(0,6),16);let o=YM(t);return"v1"==n?"https://ui-avatars.com/api/?background=random&size=100&bold=true&name="+YM(fA.name):"v2"==n?"Male"==e?"https://api.dicebear.com/5.x/avataaars/svg?top%5B%5D=dreads01,dreads02,eyepatch,frizzle,shortCurly,shortFlat,shortRound,shortWaved,sides,theCaesar,theCaesarAndSidePart,turban&seed="+o+s.toString():"https://api.dicebear.com/5.x/avataaars/svg?facialHairProbability=0&top%5B%5D=bigHair,bob,bun,curly,curvy,dreads,frida,fro,hijab,longButNotTooLong,miaWallace,shaggy,shaggyMullet,shavedSides,straightAndStrand,straight01,straight02&seed="+o+s.toString():"v3"==n?"https://api.dicebear.com/6.x/bottts/svg?seed="+o+s.toString():void 0}async function tk(){var t=VM("lg_uname").value,e=VM("lg_pass").value;Tn($M,t,e).then((e=>{e.user;AA.email=t,ik("dashboard",1)})).catch((t=>{t.code,t.message;VM("lgn_err").style.display="block",VM("lg_pass").value=""}))}function ek(){Rn(tr()),AA=[],ik("login",1),window.location.reload()}function nk(){var t=VM("rg_uname").value,e=VM("rg_pass").value,n=VM("rg_name").value,i=VM("rg_mbleno").value,r=VM("rg_class").value,s=VM("rg_gender").value;""!=t&&""!=e&&""!=n&&""!=i&&""!=r||alert("Details Cannot Be Empty"),e!=VM("rg_pass1").value||Sn($M,t,e).then((e=>{const o=e.user;!async function(){try{await og(jp(GM,"users",o.uid),{name:n,class:r,mblno:i,email:t,spoints:0,gen:s,batch:"guest",sgndon:fg(),roles:{user:!0}}).then((function(){window.location.hash="#/dashboard",window.location.reload()}))}catch(t){console.error("Error Adding New User",t)}}()})).catch((t=>{t.code,t.message}))}function ik(t,e){!function(t,e){1==e&&(window.location.hash="#/"+t);t,wA=window.location.hash.split("#/")[1],(0==gA||null==gA||null==gA)&&("login"==wA||"register"==wA||wA.includes("notes")||"legal"==wA||"about"==wA||"bugreport"==wA||"appinfo"==wA||"mainsformulas"==wA||"downloads"==wA||"uploads"==wA||(wA="error_page"));switch(wA){case"profile":"profile",rk(uy,"",""),async function(){VM("prf_pphoto");var t=VM("prf_name"),e=VM("prf_phone"),n=VM("prf_email"),i=VM("prf_class"),r=(VM("prf_batch"),VM("prf_gender")),s=VM("prf_crton"),o=(VM("tmt_frame"),VM("spoints"));t.textContent=fA.name,e.textContent=fA.mblno,n.textContent=fA.email,i.textContent=fA.class,s.textContent=new Date(1e3*fA.sgndon.seconds).toDateString(),r.textContent=fA.gen,fA.batch,fA.course,o.textContent=fA.spoints,fA.usernotes=fA.usernotes,VM("prf_tab_t_t_img").src=JM(fA.name,fA.gen,localStorage.getItem("prf_type"))}();break;case"about":function n(){Qk("legal",1)}"aboutus",rk(zv,"text-align: center;overflow-y: scroll;",""),VM("lgl_btn").addEventListener("click",n);break;case"login":function i(){Qk("register",1)}"login",rk(ay,"justify-content: center;",""),VM("sgn_in").addEventListener("click",tk),VM("reg_in").addEventListener("click",i);break;case"dashboard":"dashboard",rk(Wv,"display: flex;flex-direction: row;",""),function(){function t(){Qk("simlist",1)}function e(){Qk("cyberhunt",1)}function n(){Qk("about",1)}function i(){Qk("timetable",1)}function r(){Qk("profile",1)}function s(){Qk("functions",1)}function o(){Qk("testinfo",1)}function a(){Qk("users",1)}function h(){Qk("tpclist",1)}function u(){Qk("livequiz",1)}function l(){Qk("forum",1)}function c(){Qk("qblist",1)}function d(){Qk("chplist",1)}VM("sim_btn").addEventListener("click",t),VM("lgt_btn").addEventListener("click",ek),VM("tmt_btn").addEventListener("click",i),VM("prf_btn").addEventListener("click",r),VM("abt_btn").addEventListener("click",n),VM("tmt_btn").addEventListener("click",i),VM("prf_btn").addEventListener("click",r),VM("abt_btn").addEventListener("click",n),VM("tpc_btn").addEventListener("click",h),VM("usc_btn").addEventListener("click",a),VM("lvq_btn").addEventListener("click",u),VM("frm_btn").addEventListener("click",l),VM("adi_btn").addEventListener("click",s),VM("qba_btn").addEventListener("click",c),VM("cyb_btn").addEventListener("click",e),VM("chp_btn").addEventListener("click",d),VM("tstinf_btn").addEventListener("click",o),VM("lgt_btn").addEventListener("click",ek);VM("dshd_uname").innerText=fA.email,VM("dshd_name").innerText=fA.name,VM("dshd_batch").innerText=fA.batchname,VM("prf_tab_img").src=JM(fA.name,fA.gen,localStorage.getItem("prf_type")),function(){for(let n=0;n<fA.examslist.examinfo.length;n++){var t=fA.examslist.examinfo[n],e="exam"+Math.floor(1e5*Math.random());VM("db_exam_list").insertAdjacentHTML("beforeend",'<div class = "tlinks_min rpl" id = '+e+" onclick = 'log(\""+t.name+'","'+t.date+'","'+t.info+'","'+t.syllabus+'",3)\'><span style="font-size: 16px;">'+t.name+"</span></div>"),VM(e).addEventListener("click",(function(){}))}}()}();break;case"timetable":"schedule",rk(Qv,"",""),mk(),VM("tmt_frame").src=fA.timetableurl;break;case"logout":ek();break;case"mainsformulas":"mainsformulas",rk(ey(ny,"formulasheet"),"","");break;case"downloads":"downloads",rk(ey(ny,"downloads"),"","");break;case"register":"register",rk(cy,"",""),VM("rg_in").addEventListener("click",uA);break;case"testinfo":"testinfo",rk(vy,"",""),Yk("active");break;case"legal":"legal",rk(wy,"","");break;case"appinfo":"appinfo",rk($v,"",""),VM("ren_appinf").textContent=JSON.stringify(bA,void 0,2);break;case"forum":"forum",rk(ry,"","");VM("fm_send").addEventListener("click",yk);wk(),async function(){var t=jp(GM,"forum","pinned"),e=await ig(t);if(e.exists()){t=e.data();VM("pinnedtxt").innerText=t.message}}();break;case"bugreport":"bugreport",rk(Gv,"","");break;case"simlist":"simlist",rk(my,"",""),function(){function t(){dk("physics")}function e(){dk("chemistry")}function n(){dk("maths")}function i(){dk("biology")}function r(){dk("computer")}function s(){dk("statistics")}function o(){dk("unfiled")}VM("psims").addEventListener("click",t),VM("csims").addEventListener("click",e),VM("msims").addEventListener("click",n),VM("bsims").addEventListener("click",i),VM("cosims").addEventListener("click",r),VM("ssims").addEventListener("click",s),VM("usims").addEventListener("click",o)}(),dk();break;case"testend":"test_end",rk(by,"",""),VM("te_title").innerText="The Test Has Ended";break;case"add/lesson":"fu_lesson",newLesson();break;case"updates":"update",rk(Jv,"height: max-content;",""),async function(){let t=await ig(jp(GM,"usernotes","releasenotes"));t.exists()&&(VM("rel_list").innerHTML=t.data().notes);let e=await ig(jp(GM,"usernotes","updates"));e.exists()&&(VM("updt_list").innerHTML=e.data().notes)}();break;case"add/tpc":"fu_topic",async function(){try{ik("edit_tpc/"+(await ug(Fp(GM,"topic"),{name:"",qllist:[],level:"jee",chid:"",chname:"",subject:""})).id,1)}catch{}}();break;case"add/qubank":"fu_topic",async function(){try{ik("edit_qubank/"+(await ug(Fp(GM,"qbank"),{name:"",qllist:[],level:"jee",chid:"",chname:"",subject:""})).id,1)}catch{}}();break;case"add/simulation":"fu_simulation",async function(){try{ik("edit_sim/"+(await ug(Fp(GM,"sims"),{name:"",license:"",provider:"",url:""})).id,1)}catch{}}();break;case"add/tests":"fu_topic",async function(){try{const t=await ug(Fp(GM,"tests"),{title:"",totalmarks:0,timeallotted:0,syllabus:"",strton:fg(),endon:fg(),questionnos:0,finished:[],batch:[]});await og(jp(GM,"tests",t.id,"questions","questions"),{questions:[]}),await og(jp(GM,"tests",t.id,"questions","answers"),{questions:[]}),await og(jp(GM,"tests",t.id,"responses","finished"),{finished:[],leaderboard:[]});ik("edit_tests/"+t.id,1)}catch{}}();break;case"add/batch":"fu_topic",async function(){try{const t=await ug(Fp(GM,"batch"),{name:"",timetable:"",crton:fg(),class:12,chlist:[],delon:fg()});await og(jp(GM,"batch",t.id,"info","tests"),{tests:[]}),await og(jp(GM,"batch",t.id,"info","updates"),{u:[]});ik("edit_batch/"+t.id,1)}catch{}}();break;case"uploads":"uploadEvents",rk(ty,"",""),document.getElementById("file").addEventListener("change",(async function(){var t=await(await fetch("https://ipapi.co/json/")).json(),e=document.getElementById("file").files[0];const n=t.ip+"-"+(new Date).getTime()+"-"+e.name,i=(e.type,t.ip,Pv(Fv(ZM,"uploads/"+t.ip.replaceAll(".","_")+"/"+n),e));i.on("state_changed",(t=>{const e=t.bytesTransferred/t.totalBytes*100;switch(document.getElementById("file_progress").innerText="Upload is "+e+"% done",t.state){case"paused":document.getElementById("file_status").innerText="Upload is paused";break;case"running":document.getElementById("file_status").innerText="Upload is running"}}),(t=>{document.getElementById("file_status").innerText="Upload abandoned",document.getElementById("file_progress").innerText=""}),(()=>{Uv(i.snapshot.ref).then((i=>{document.getElementById("file_status").innerText="Upload Complete. Copy The Link Below",document.getElementById("file_progress").innerText="",document.getElementById("file_link_long").value=i;let r=new XMLHttpRequest;r.open("POST","https://firebasedynamiclinks.googleapis.com/v1/shortLinks?key=AIzaSyBxyMo6yQ20stBIOsHUgToNgm4PmCKxTX4"),r.setRequestHeader("Accept","application/json"),r.setRequestHeader("Content-Type","application/json"),r.onload=()=>console.log(r.responseText),r.onreadystatechange=async function(){4===r.readyState&&(console.log(r.response),document.getElementById("file_link").value=JSON.parse(r.response).shortLink,await ug(Fp(GM,"quarkz","users","uploads"),{ipdetails:t,ip:t.ip,url:i,shorturl:JSON.parse(r.response).shortLink,name:n,size:e.size}))};let s=`{\n        "dynamicLinkInfo": {\n          "domainUriPrefix": "https://mttweb.page.link",\n          "link": "${i}",\n        }\n      }`;r.send(s)}))}))}));break;case"settings":"settings",rk(dy,"",""),function(){VM("pass_rst_btn").addEventListener("click",Hk),VM("sub_rat_btn").addEventListener("click",(function(){let t="https://docs.google.com/forms/d/e/1FAIpQLSe5CGUovfJodcfga1bACu57FvE4REOjeAJYFqODeoTQAK0nvg/formResponse"+("?entry.1743636787="+window.user_rate_value+"&entry.1877359119=quarkz_rating&entry.2052323667="+fA.uuid+"-"+document.getElementById("rate_comment").value);t=encodeURI(t);let e=document.createElement("iframe");e.id="tempIF_G",e.width="100px",e.height="100px",e.style.display="none",e.onload="ifcls();",e.src=t,document.getElementsByTagName("body")[0].appendChild(e),e.onload="ifeq.remove();",e.addEventListener("load",ifcls(),!1),localStorage.setItem("rate_app","true"),oy("Thank You","Thank You for your Valuable Feedback."),VM("st_rateapp").style.display="none"})),"true"==localStorage.getItem("rate_app")&&(VM("st_rateapp").style.display="none");const t=document.querySelectorAll(".star");function e(){t.forEach((t=>{t.getAttribute("data-value")<=window.user_rate_value?t.classList.add("selected"):t.classList.remove("selected")}))}t.forEach((n=>{n.addEventListener("click",(t=>{window.user_rate_value=t.target.getAttribute("data-value"),e()})),n.addEventListener("mouseover",(e=>{const n=e.target.getAttribute("data-value");for(let e=0;e<n;e++)t[e].classList.add("hovered")})),n.addEventListener("mouseout",(()=>{t.forEach((t=>{t.classList.remove("hovered")}))}))})),VM("prf_typ_"+localStorage.getItem("prf_type").split("v")[1]).style.borderColor="red",VM("prf_typ_1").src=JM(fA.name,fA.gen,"v1"),VM("prf_typ_2").src=JM(fA.name,fA.gen,"v2"),VM("prf_typ_3").src=JM(fA.name,fA.gen,"v3"),VM("prf_typ_1").addEventListener("click",(function(){VM("prf_typ_1").style.borderColor="red",VM("prf_typ_2").style.borderColor="#06d85f",VM("prf_typ_3").style.borderColor="#06d85f",localStorage.setItem("prf_type","v1")})),VM("prf_typ_2").addEventListener("click",(function(){VM("prf_typ_1").style.borderColor="#06d85f",VM("prf_typ_2").style.borderColor="red",VM("prf_typ_3").style.borderColor="#06d85f",localStorage.setItem("prf_type","v2")})),VM("prf_typ_3").addEventListener("click",(function(){VM("prf_typ_1").style.borderColor="#06d85f",VM("prf_typ_2").style.borderColor="#06d85f",VM("prf_typ_3").style.borderColor="red",localStorage.setItem("prf_type","v3")}))}();break;case"chplist":"chapterlist",rk(Vv,"",""),function(){function t(){Ok("physics")}function e(){Ok("chemistry")}function n(){Ok("maths")}function i(){Ok("biology")}function r(){Ok("computer")}function s(){Ok("statistics")}function o(){Ok("unfiled")}VM("pchb").addEventListener("click",t),VM("cchb").addEventListener("click",e),VM("mchb").addEventListener("click",n),VM("bchb").addEventListener("click",i),VM("cochb").addEventListener("click",r),VM("schb").addEventListener("click",s),VM("uchb").addEventListener("click",o)}(),Ok();break;default:"error_page",rk(Xv,"","")}var r=1==mA||1==pA;wA.includes("instructions")&&("test_instructions",rk(gy,"",""),async function(){let t=await ig(jp(GM,"tests",window.location.hash.split("#/instructions/")[1]));t.exists()?VM("tsi").innerHTML=t.data().instructions:rk("This test either doesnt exist or you do not have access to this test.");VM("agree_in").addEventListener("change",(function(){1==VM("agree_in").checked?VM("tin_start").disabled=!1:VM("tin_start").disabled=!0}))}());wA.includes("cyberhunt")&&("cyberhunt",rk(Kv,"",""),async function(){""==window.location.hash.split("/cyberhunt/")[1]||""==window.location.hash.split("/cyberhunt")[1]?(VM("cyb_code").style.display="flex",VM("cyb_viewer").style.display="none",VM("cyb_edit").style.display="none"):(VM("cyb_code").style.display="none",VM("cyb_viewer").style.display="flex",VM("cyb_edit").style.display="none")}());wA.includes("notes")&&!wA.includes("usernotes")&&("notes",rk(Zv,"",""),async function(){var t=window.location.hash.split("notes/")[1];Uv(Fv(ZM,"public/"+t+".pdf")).then((t=>{VM("nt_id").src="https://docs.google.com/gview?url="+encodeURI(t)+"&embedded=true"})).catch((t=>{switch(t.code){case"storage/object-not-found":VM("nt_id").src="https://docs.google.com/gview?url="+encodeURI("https://firebasestorage.googleapis.com/v0/b/quarkz.appspot.com/o/public%2F404.pdf?alt=media&token=8cc8f23a-6e24-41d6-984b-6d2cc9b89d11")+"&embedded=true";break;case"storage/unauthorized":oy("Unauthorised","You dont have necessary permissions to The file you requested.")}}))}());wA.includes("sims")&&("simulations",rk(py,"",""),mk(),async function(){var t=window.location.hash.split("sims/")[1],e=jp(GM,"sims",t),n=await ig(e);if(!n.exists())throw ik("error_page",1),new Error;var i=n.data();VM("sms_name").innerText=i.name,VM("sms_prov").innerText=i.provider,VM("sim_frame").src=i.url}());wA.includes("chapter")&&("chapter",rk(Hv,"",""),async function(){VM("chp_chaptername").innerHTML="",VM("chp_qbk_list").innerHTML="",VM("chp_tpc_list").innerHTML="";var t=jp(GM,"chapter",window.location.hash.split("#/chapter/")[1]),e=await ig(t);if(e.exists()){var n=e.data();VM("chp_chaptername").innerText=n.name;try{for(let t of n.qbanks)VM("chp_qbk_list").insertAdjacentHTML("beforeend",'<span class="tlinks_min rpl" style = "color:pink" id="chpqbk'+btoa(t.id)+'">'+t.title+"</span>"),VM("chpqbk"+btoa(t.id)).addEventListener("click",qk)}catch{}try{for(let t of n.topics)VM("chp_tpc_list").insertAdjacentHTML("beforeend",'<span class="tlinks_min rpl" style = "color:pink" id="chptpc'+btoa(t.id)+'">'+t.title+"</span>"),VM("chptpc"+btoa(t.id)).addEventListener("click",Nk)}catch{}}}());wA.includes("qbanks")&&("topic",rk(My,"height:max-content;",""),sk(),Lk(2));wA.includes("usernotes")&&("usernotes",rk(Ay,"flex-direction: row;",""),function(){VM("un_save").addEventListener("click",fk),VM("un_print").addEventListener("click",pk),VM("un_rendermode").addEventListener("change",hA),VM("un_viewership").addEventListener("change",hA);VM("un_print").addEventListener("click",(function(){VM("un_preview").style.display="none",VM("un_preview").innerHTML="<h1 style = 'text-align:center;margin:0px'>"+VM("un_title").value+"</h1>"+cA("un_editable"),window.idElementPrint(VM("un_preview"),fA.name)}))}(),async function(){try{hA()}catch{}if(window.location.hash.includes("usernotes/add")){var t=await ug(Fp(GM,"usernotes"),{title:"Notes Title",notes:"",uuid:fA.uuid,crton:fg(),type:"private",lastupdated:fg()});await ag(jp(GM,"users",fA.uuid),{usernotes:pg({color:"black",id:t.id,title:"Notes Title"})}),ik("usernotes/"+t.id,1)}else if(window.location.hash.includes("usernotes/delete"))await hg(jp(GM,"usernotes",window.location.hash.split("usernotes/delete/")[1]));else if("#/usernotes/"==window.location.hash)vk();else if(window.location.hash.includes("usernotes")){vk();t=jp(GM,"usernotes",window.location.hash.split("usernotes/")[1]);var e=await ig(t);if(e.exists()){t=e.data();VM("un_title").value=t.title,dA("un_editable",t.notes),VM("un_viewership").value=t.type,"public_view"==t.type&&fA.uuid!=t.uuid?(VM("un_rendermode").innerHTML='<option value="preview">preview</option>',VM("un_rendermode").value="preview",VM("un_save").style.display="none",VM("un_colorpicker").style.display="none",VM("un_viewership").style.display="none",VM("un_title").style.display="none"):(VM("un_rendermode").innerHTML='<option value="edit">edit</option><option value="preview">preview</option>',VM("un_rendermode").value="edit",VM("un_save").style.display="block",VM("un_colorpicker").style.display="block",VM("un_viewership").style.display="block",VM("un_title").style.display="block"),hA()}}}());if(wA.includes("qbnk_vid")){function s(){VM("watermark").style.display="flex",jM(VM("qbnk_vid"))}"qbnk_vid",rk(ly,"height:90vh;position: relative;",""),VM("qbnk_vid_btn").style.display="block",VM("qbnk_vid_btn").addEventListener("click",Ak),VM("qbnk_vid_btn_e").addEventListener("click",s)}wA.includes("attempt")&&("testv1",rk(yy,"",""),function(){function t(){sA("tts_answered")}function e(){sA("tts_notanswer")}function n(){sA("tts_review")}function i(){sA("tts_ansreview")}function r(){oy("Warning","Are You Sure You Want To End The Test",oA,"Yes,Submit",1)}VM("tt_save").addEventListener("click",t),VM("tt_clear").addEventListener("click",e),VM("tt_review").addEventListener("click",n),VM("tt_ansreview").addEventListener("click",i),VM("tt_sub").addEventListener("click",r)}(),async function(){VM("tt_footer").style.display="flex",VM("tt_sub").style.display="block",VM("tt_timeleft").style.display="block",VM("tt_marksaward").style.display="none";var t=window.location.hash.split("#/attempt/")[1],e=jp(GM,"tests",t),n=await ig(e);if(n.exists()&&(NA=n.data(),e=jp(GM,"tests",t,"responses","finished"),(n=await ig(e)).exists()))for(var i of n.data().finished)if($M.currentUser.uid==i)return ik("testend",1),VM("te_title").innerText="You Have Already Attempted This Test",0;try{e=jp(GM,"tests",t,"questions","questions"),(n=await ig(e)).exists()&&(DA=n.data())}catch{return VM("te_title").innerText="The Test Hasnt Started Yet",ik("testend",1),0}if(e=jp(GM,"tests",t,"responses",$M.currentUser.uid),(n=await ig(e)).exists()){var r=n.data().answers;for(var s in PA=n.data().actions,r)OA.push({qid:s,ans:r[s].ans,type:r[s].type,time:r[s].time})}else{for(var o={},a=0;a<DA.questions.length;a++)o[`${DA.questions[a].qid}`]={type:"tts_notvisit",answer:[]},OA.push({qid:DA.questions[a].qid,type:"tts_notvisit",answer:[],timetaken:0});var h=new Date;await og(jp(GM,"tests",t,"responses",$M.currentUser.uid),{answers:o,strton:fg(),warning:[],actions:[{type:"start",time:h,value:"1"}],testversion:"1"}),PA.push({type:"start",time:h,value:"1"})}window.location.hash.includes("/attempt/")&&(tA=setInterval((function(){var t=NA.timeallotted-1;NA.timeallotted-=1,VM("tt_timeleft").innerText=Math.floor(t%86400/3600)+":"+Math.floor(t%3600/60)+":"+Math.floor(t%60),LA+=1,VM("tt_timespent").innerText=Math.floor(LA%86400/3600)+":"+Math.floor(LA%3600/60)+":"+Math.floor(LA%60),0==t&&oA()}),1e3));window.onbeforeunload=function(t){t.preventDefault,oA()},window.onhashchange=function(t){ik(),oA()},VM("tt_testname").innerText=NA.title,VM("dsh_btn").style.display="none";var u=VM("output");try{jM(u)}catch{}rA()}());wA.includes("finished")&&("finishedtestinfo",rk(iy,"overflow-y: scroll;",""),async function(){var t=window.location.hash.split("#/finished/")[1],e=jp(GM,"tests",t),n=await ig(e);if(n.exists()){NA=n.data();var i=0;if(VM("fti_title").innerText=NA.title,e=jp(GM,"tests",t,"responses","finished"),(n=await ig(e)).exists())for(var r of n.data().finished)if($M.currentUser.uid==r){i=1;break}if(0==i)ik("testend",1),VM("te_title").innerText="You Have NOT Attempted This Test";else try{try{nA(1)}catch{}try{e=jp(GM,"tests",t,"responses",$M.currentUser.uid);var s=(n=await ig(e)).data();if(n.exists()){function o(t,e,n,i,r){var s=r-(e-4*n);return"<div><span>"+t+"("+(e+n)+' Marks)</span><div style = "width:40vw;height:30px;display:flex;flex-direction:row;"><div style="width:'+e/r*40+'vw;background-color:green;height:30px;text-align:center;color:white">'+e+"/"+r+'</div><div style="width:'+Math.abs(4*n/r*40)+'vw;background-color:red;height:30px;text-align:center;color:white">'+n+"/"+r+'</div><div style="width:'+40*(1-(e-4*n)/r)+'vw;background-color:orange;height:30px;text-align:center;color:black">'+s+"/"+r+"</div></div></div>"}VM("fto_total").innerText=s.info.usermarks+"/"+s.info.total,VM("fto_correct").innerText=s.info.correct,VM("fto_incorrect").innerText=s.info.incorrect,VM("fto_unanswered").innerText=s.info.unattempted,PA=s.actions,vA=s.info.mList,VM("fto_rank").innerText="0";var a=["Physics","Chemistry","Math","Biology","Statistics","Computer","Unfiled"];for(var h of(VM("fto_percents").innerHTML="",a)){var u=s.info.subjectmarks[h];UM(u,{correct:0,unattempted:0,incorrect:0,total:0})||VM("fto_percents").insertAdjacentHTML("beforeend",o(h,u.correct,u.incorrect,u.unattempted,u.total))}Jk(1).then((function(){function t(t,e,n,i,r){var s=r-(e+n);return"<div><span>"+t+"("+BM(r)+')</span><div style = "width:80vw;height:30px;display:flex;flex-direction:row;"><div style="width:'+e/r*80+'vw;background-color:green;height:30px;text-align:center;color:white">'+BM(e)+'</div><div style="width:'+n/r*80+'vw;background-color:red;height:30px;text-align:center;color:white">'+BM(n)+'</div><div style="width:'+80*(1-(e+n)/r)+'vw;background-color:orange;height:30px;text-align:center;color:black">'+BM(s)+"</div></div></div>"}var e=["Physics","Chemistry","Math","Biology","Statistics","Computer","Unfiled"];for(var n of(VM("fto_time").innerHTML="",e)){var i=yA.subject[n];UM(i,{correct:0,unattempted:0,incorrect:0,total:0})||VM("fto_time").insertAdjacentHTML("beforeend",t(n,i.correct,i.incorrect,i.unattempted,i.total))}}))}try{var l;e=jp(GM,"tests",t,"responses","finished"),(n=await ig(e)).exists()&&(l=n.data().leaderboard),VM("fto_leaderboard").innerHTML="",l=HM(l,"marks",1);for(var c=0;c<l.length;c++){var d=c+1;fA.uuid==l[c].uid&&(VM("fto_rank").innerText=d),VM("fto_leaderboard").insertAdjacentHTML("beforeend",'<div class = "tlinks" style = "flex-direction:row;width:25vw;justify-content:space-between;"><span class = "t_gre">&nbsp;'+d+'</span><span class = "t_name">'+l[c].name+'</span><span class = "t_gre">&nbsp;&nbsp;'+l[c].marks+"</span></div>")}}catch{}var f=[];for(c=0;c<vA.length;c++)null==yA.questions[vA[c].qid]?f.push({qid:vA[c].qid,type:vA[c].type,time:0,no:c+1}):f.push({qid:vA[c].qid,type:vA[c].type,time:yA.questions[vA[c].qid].time,no:c+1});!function(t,e){try{const i={top:20,right:20,bottom:50,left:50},r=800-i.left-i.right,s=400-i.top-i.bottom;VM(t).innerHTML="";const o=$60335d5fa2b61a3a$exports.select("#"+t).append("svg").attr("width",r+i.left+i.right).attr("height",s+i.top+i.bottom).append("g").attr("transform",`translate(${i.left}, ${i.top})`),a=$60335d5fa2b61a3a$exports.scaleOrdinal().domain(["correct","incorrect","unattempted"]).range(["#2ecc71","#e74c3c","#f39c12"]),h=$60335d5fa2b61a3a$exports.scaleLinear().domain([0,$60335d5fa2b61a3a$exports.max(e,(t=>t.time))]).range([5,30]),u=$60335d5fa2b61a3a$exports.scaleLinear().domain([1,e.length]).range([0,r]),l=$60335d5fa2b61a3a$exports.scaleLinear().domain([0,$60335d5fa2b61a3a$exports.max(e,(t=>t.time))]).range([s,0]);o.append("text").attr("class","axis-label").attr("text-anchor","middle").attr("x",r-120).attr("y",s+40).attr("color","white").text("Question Number"),o.append("text").attr("class","axis-label").attr("text-anchor","middle").attr("transform","rotate(-90)").attr("x",-innerHeight/2+40).attr("y",25-i.left).text("Time Taken(in s)").attr("color","white"),o.append("g").attr("transform",`translate(0, ${s})`).call(Uy(Cy,u)),o.append("g").call(function(t){return Uy(qy,t)}(l)),o.selectAll("circle").data(e).enter().append("circle").attr("cx",((t,e)=>u(e+1))).attr("cy",(t=>l(t.time))).attr("r",(t=>h(t.time))).attr("fill",(t=>a(t.type))).append("text").text((function(t){return t.no}));var n=o.selectAll("g").data(e).enter().append("g").attr("transform",(function(t){return"translate("+u(t.time)+","+l(t.questionNumber)+")"}));n.append("circle").attr("r",(function(t){return sizeScale(t.time)})).attr("fill",(function(t){return"correct"==t.result?"green":"incorrect"==t.result?"red":"gray"})),n.append("text").text((function(t){return"Q"+t.no})).attr("x",(function(t){return sizeScale(t.time)+5})).attr("y",5)}catch{}}("fto_draw",f)}catch{return VM("te_title").innerText="ERROR",ik("testend",1),0}}catch{}}}());wA.includes("testreport")&&("testv1",rk(yy,"",""),async function(){VM("tt_footer").style.display="none",VM("tt_sub").style.display="none",VM("tt_timeleft").style.display="none",VM("tt_marksaward").style.display="block";var t=window.location.hash.split("#/testreport/")[1],e=jp(GM,"tests",t),n=await ig(e);if(n.exists()){NA=n.data();var i=0;if(VM("tt_testname").innerText=NA.title,e=jp(GM,"tests",t,"responses","finished"),(n=await ig(e)).exists())for(var r of n.data().finished)if($M.currentUser.uid==r){i=1;break}if(0==i)ik("testend",1),VM("te_title").innerText="You Have NOT Attempted This Test";else if(Date.now()/1e3<=NA.endon.seconds&&0==NA.noresult)ik("testend",1),VM("te_title").innerText="Detailed Test Reports will be available after deadline";else{try{if(e=jp(GM,"tests",t,"questions","questions"),(n=await ig(e)).exists()&&(DA=n.data()),e=jp(GM,"tests",t,"responses",$M.currentUser.uid),(n=await ig(e)).exists()){var s=n.data().answers;for(var o in PA=n.data().actions,s)OA.push({qid:o,ans:s[o].ans,type:s[o].type,time:s[o].time})}e=jp(GM,"tests",t,"questions","answers"),(n=await ig(e)).exists()&&(UA=n.data())}catch{return VM("te_title").innerText="ERROR",ik("testend",1),0}rA()}}}());if(wA.includes("printable/qbank")&&1==r){"printable",rk(hy,"height:max-content;",""),ak();VM("shf_btn").addEventListener("click",Vk);Bk(1)}wA.includes("ARIEL")&&1==r&&("Ariel",rk(Yv,"",""));if(wA.includes("printable/tests")&&1==r){"printable",rk(hy,"height:max-content;",""),ak();VM("shf_btn").addEventListener("click",Vk);Bk(3)}"functions"==wA&&1==r&&("functions",rk(sy,"",""),xk());wA.includes("users")&&1==r&&("users",rk(ky,"",""),userUpdate());wA.includes("topic")&&("topic",rk(My,"height: max-content;",""),sk(),Lk(1));wA.includes("printable/topic")&&1==r&&("printable",rk(hy,"height:max-content;",""),Bk(2));wA.includes("edit_sim")&&1==r&&("fu_simulation",rk(fy,"","ovr-scroll"),VM("aq_sims_save").addEventListener("click",lk),async function(){try{let e=await ig(jp(GM,"sims",window.location.hash.split("edit_sim/")[1]));if(e.exists()){var t=e.data();VM("aq_simname").value=t.name,VM("aq_simprov").value=t.provider,VM("aq_simurl").value=t.url,VM("aq_simlicense").value=t.license,VM("aq_simsubj").value=t.subject}}catch{}}());wA.includes("edit_lesson")&&1==r&&("fu_simulation",rk(fy,"","ovr-scroll"),prepareLesson());wA.includes("edit_tpc")&&1==r&&("fu_topic",rk(_y,"","ovr-scroll"),VM("aq_tpc_save").addEventListener("click",(function(){Ck(1)})),ok(),Ik(1));wA.includes("edit_test")&&1==r&&("fu_topic",rk(_y,"","ovr-scroll"),VM("aq_tst_save").addEventListener("click",(function(){Ck(3)})),ok(),Ik(3));wA.includes("edit_qubank")&&1==r&&("fu_topic",rk(_y,"","ovr-scroll"),VM("aq_qbc_save").addEventListener("click",(function(){Ck(2)})),ok(),Ik(2));wA.includes("edit_exams")&&1==r&&("fu_topic",rk(_y,"","ovr-scroll"),VM("aq_exam_save").addEventListener("click",(function(){Ck(4)})),ok(),Ik(4));r&&(window.location.hash.includes("dashboard")&&(VM("adminonly").style.display="flex"),(window.location.hash.includes("topic")||window.location.hash.includes("qbanks"))&&(VM("tp_pnt").style.display="block",VM("tp_edt").style.display="block"),window.location.hash.includes("sims")&&(VM("sms_edit").style.display="block"));lA(),SA=[],"forum"==wA?wk(1):(wk(2),_k=1,Mk="afterbegin");DA=[],OA=[],NA=[],BA=""}(t,e)}function rk(t,e,n){VM("output").style="",VM("output").classList.remove("ovr-scroll"),VM("output").innerHTML=t,null!=n&&""!=n&&VM("output").classList.add(n),VM("output").style=e}function sk(){VM("tp_nxt").addEventListener("click",(function(){Uk(2)})),VM("tp_prv").addEventListener("click",(function(){Uk(1)})),VM("tp_edt").addEventListener("click",$k),VM("tp_sbm").addEventListener("click",Wk),VM("tp_pnt").addEventListener("click",Gk)}function ok(){VM("aq_mode").addEventListener("change",xk),VM("aq_type").addEventListener("change",xk),VM("aq_ao").addEventListener("click",Fk),VM("aq_ro").addEventListener("click",jk),VM("aq_re").addEventListener("click",Rk),VM("aq_export").addEventListener("click",Gk)}VM("dsh_btn").addEventListener("click",(function(){Qk("dashboard",1)}));function ak(){document.getElementById("pe_tst_type_1").addEventListener("change",updateUI),document.getElementById("pe_tst_type_2").addEventListener("change",updateUI),document.getElementById("tsinf_btn").addEventListener("change",updateUI),document.getElementById("tans_btn").addEventListener("click",(function(){for(var t=0;t<document.getElementsByClassName("q_ans_1").length;t++)document.getElementsByClassName("q_ans_1")[t].style.display="flex"})),document.getElementById("tansexpl_btn").addEventListener("click",(function(){for(var t=0;t<document.getElementsByClassName("q_ans_1").length;t++)document.getElementsByClassName("q_ans_1")[t].style.display="flex";for(t=0;t<document.getElementsByClassName("q_ans_expl").length;t++)document.getElementsByClassName("q_ans_expl")[t].style.display="flex"})),document.getElementById("tremove_btn").addEventListener("click",(function(){for(var t=0;t<document.getElementsByClassName("q_ans_1").length;t++)document.getElementsByClassName("q_ans_1")[t].style.display="none";for(t=0;t<document.getElementsByClassName("q_ans_expl").length;t++)document.getElementsByClassName("q_ans_expl")[t].style.display="none"}))}window.ifcls=function(){document.getElementById("tempIF_G").remove()},window.user_rate_value=0,null==localStorage.getItem("prf_type")&&localStorage.setItem("prf_type","v2");let hk,uk=[];async function lk(){try{await ag(jp(GM,"sims",window.location.hash.split("edit_sim/")[1]),{name:VM("aq_simname").value,license:VM("aq_simlicense").value,provider:VM("aq_simprov").value,url:VM("aq_simurl").value,subject:VM("aq_simsubj").value});var t=VM("aq_simsubj").value;"physics"==t&&await ag(jp(GM,"sims","sims"),{physics:pg(VM("aq_simname").value)}),"chemistry"==t&&await ag(jp(GM,"sims","sims"),{chemistry:pg(VM("aq_simname").value)}),"maths"==t&&await ag(jp(GM,"sims","sims"),{maths:pg(VM("aq_simname").value)}),"computer"==t&&await ag(jp(GM,"sims","sims"),{computer:pg(VM("aq_simname").value)}),"biology"==t&&await ag(jp(GM,"sims","sims"),{biology:pg(VM("aq_simname").value)}),"statistics"==t&&await ag(jp(GM,"sims","sims"),{statistics:pg(VM("aq_simname").value)}),"unfiled"==t&&await ag(jp(GM,"sims","sims"),{unfiled:pg(VM("aq_simname").value)}),function(){dA("aq_qtext",""),dA("aq_expl",""),VM("aq_answer").value="",VM("aq_yurl").value="",VM("aq_hint").value="";for(var t=0;t<document.getElementsByClassName("aq_mcq").length;t++)document.getElementsByClassName("aq_mcq")[t].value="";for(t=0;t<document.getElementsByClassName("aq_i1").length;t++)document.getElementsByClassName("aq_i1")[t].value="";for(t=0;t<document.getElementsByClassName("aq_i2").length;t++)document.getElementsByClassName("aq_i2")[t].value=""}()}catch(t){console.error("Error writing new message to Firebase Database",t)}}function ck(){!async function(t){var e;const n=Pm(Fp(GM,"sims"),Fm("name","==",t));(await sg(n)).forEach((t=>{e=t.id})),ik("sims/"+e,1)}(this.innerText)}async function dk(t){if(VM("sim_cont").innerHTML="",0==uk.length){var e=jp(GM,"sims","sims"),n=await ig(e);if(!n.exists())throw ik("error_page",1),new Error;var i=n.data();uk=i}if("physics"==t)try{for(let t of uk.physics)""!=t&&(VM("sim_cont").insertAdjacentHTML("beforeend",'<span class="tlinks rpl" style = "color:pink" id="sim'+btoa(t)+'">'+t+"</span>"),VM("sim"+btoa(t)).addEventListener("click",ck))}catch{}if("chemistry"==t)try{for(let t of uk.chemistry)""!=t&&(VM("sim_cont").insertAdjacentHTML("beforeend",'<span class="tlinks rpl" style = "color:crimson" id="sim'+btoa(t)+'">'+t+"</span>"),VM("sim"+btoa(t)).addEventListener("click",ck))}catch{}if("maths"==t)try{for(let t of uk.maths)""!=t&&(VM("sim_cont").insertAdjacentHTML("beforeend",'<span class="tlinks rpl" style = "color:turquoise" id="sim'+btoa(t)+'">'+t+"</span>"),VM("sim"+btoa(t)).addEventListener("click",ck))}catch{}if("biology"==t)try{for(let t of uk.biology)""!=t&&(VM("sim_cont").insertAdjacentHTML("beforeend",'<span class="tlinks rpl" style = "color:lime" id="sim'+btoa(t)+'">'+t+"</span>"),VM("sim"+btoa(t)).addEventListener("click",ck))}catch{}if("computer"==t)try{for(let t of uk.computer)""!=t&&(VM("sim_cont").insertAdjacentHTML("beforeend",'<span class="tlinks rpl" style = "color:violet" id="sim'+btoa(t)+'">'+t+"</span>"),VM("sim"+btoa(t)).addEventListener("click",ck))}catch{}if("statistics"==t)try{for(let t of uk.statistics)""!=t&&(VM("sim_cont").insertAdjacentHTML("beforeend",'<span class="tlinks rpl" style = "color:orange" id="sim'+btoa(t)+'">'+t+"</span>"),VM("sim"+btoa(t)).addEventListener("click",ck))}catch{}if("unfiled"==t)try{for(let t of uk.unfiled)""!=t&&(VM("sim_cont").insertAdjacentHTML("beforeend",'<span class="tlinks rpl" style = "color:white" id="sim'+btoa(t)+'">'+t+"</span>"),VM("sim"+btoa(t)).addEventListener("click",ck))}catch{}}async function fk(){await ag(jp(GM,"usernotes",window.location.hash.split("usernotes/")[1]),{title:VM("un_title").value,notes:cA("un_editable"),lastupdated:fg(),type:VM("un_viewership").value})}function pk(){}function mk(){const t=document.querySelector("iframe");var e="";t.addEventListener("loadstart",(()=>{e=oy("Loading","Content Is Loading. Please Wait")})),t.addEventListener("load",(()=>{document.getElementById(e).remove()}))}function gk(){window.location.hash="#/usernotes/"+this.id.split("uno")[1]}async function vk(){for(var t=0;t<fA.usernotes.length;t++)VM("un_list").insertAdjacentHTML("beforeend","<div class='t_notes' id='uno"+fA.usernotes[t].id+"' style='background-color: "+fA.usernotes[t].color+"'><span class='tntc2' id='"+fA.usernotes[t].id+"'>"+fA.usernotes[t].title+"</span></div>"),VM("uno"+fA.usernotes[t].id).addEventListener("click",gk)}async function yk(){var t=VM("fm_message").value;if(t.includes("/pinned")){t=t.split("/pinned")[1];try{await ag(jp(GM,"forum","pinned"),{message:t})}catch{alert("You Dont Have The Privilages For This Command")}var e=await FM("http://localhost:5500/time.html").then(async function(e){await ag(jp(GM,"forum","ppinned"),{ppinned:pg({message:t,user:fA.uuid,time:e})})}(e))}else""!=t&&null!=t?(await ug(Fp(GM,"forum"),{name:fA.name,message:t,userid:fA.uuid,sgndon:fg()}),VM("fm_message").value=""):alert("Message Cannot Be Empty")}let bk=function(){};async function wk(t){1==t?(VM("forum_live").innerHTML="",hk=Pm(Fp(em(),"forum"),Vm("sgndon","desc"),Km(10)),bk=lg(hk,(function(t){t.docChanges().forEach((function(t){if("removed"===t.type)VM("dM"+t.doc.id).remove();else if("added"==t.type){_k>=11&&(Mk="beforeend");var e=t.doc.data();!function(t,e,n,i,r){var s=i.replace(/<[^>]+>/g,"");if("shh5oUIhRpdBkEKQ3GCZwoKE9u42"==r){var o="<div id = 'dM"+t+"'><span class = 'dmName'>"+n+"👑: </span><span class = 'dmText'>"+s+"</span><span class = 'dmtime'>"+e+"</span></div>";VM("forum_live").insertAdjacentHTML(Mk,o)}else o="<div id = 'dM"+t+"'><span class = 'dmName'>"+n+": </span><span class = 'dmText'>"+s+"</span><span class = 'dmtime'>"+e+"</span></div>",VM("forum_live").insertAdjacentHTML(Mk,o)}(t.doc.id,"",e.name,e.message,e.userid),_k+=1}}))}))):2==t&&(bk(),bk=function(){})}var _k=1,Mk="afterbegin";let kk;async function Ak(){VM("qbnk_vid_btn").style.display="none",VM("qbnk_vid_btn_e").style.display="none";try{let o=await ig(jp(GM,"qbank",window.location.hash.split("qbnk_vid/")[1]));if(o.exists()){var t=o.data();VM("tb_q_title").innerText=t.name,VM("qb_vid_ti").innerText=t.name,VM("qbnk_vid_q").style.display="none",VM("qbnk_vid_ans").style.display="none",VM("qbnk_vid_title").style.display="flex",VM("qbnk_vid_end").style.display="none",VM("watermark").style.display="none";let a=t.qllist,h=await Ey();jM(VM("qbnk_vid")),kk=xy(h);var e,n=0,i=0,r=0,s=setInterval((function(){if(VM("qbnk_vid_q").style.display="none",VM("qbnk_vid_ans").style.display="none",VM("qbnk_vid_title").style.display="none",VM("qbnk_vid_end").style.display="none",0==i)VM("qbnk_vid_title").style.display="flex",i++;else if(r==a.length-1)VM("qbnk_vid_end").style.display="flex",setTimeout((function(){kk.stop(),VM("qbnk_vid_btn").style.display="block"}),5e3),clearInterval(s);else if(0==n||1==n){!function(t){function e(t){t.style.display="none"}function n(t){t.style.display="block"}function i(t){t.style.display="flex"}var r=VM("tb_q_mcq_con"),s=VM("tb_q_matrix"),o=VM("tb_q_answer");if(r.innerHTML="",VM("tb_q_qtext").innerHTML=t.title+"<span class = 'sp_txt'>("+t.type+")</span>","mcq"==t.type||"mcq_multiple"==t.type){i(r),e(s),e(o);var a=t.op,h="";for(let t of a)h+='<div class="tb_q_mcq_p rpl">'+t+"</div>";VM("tb_q_mcq_con").insertAdjacentHTML("beforeend",h)}else if("matrix"==t.type){e(r),n(s),e(o);for(var u=t.op1,l=t.op2,c=u.length,d=0;d<c;d++)document.getElementsByClassName("tp_i1")[d].innerHTML=u[d];for(d=0;d<c;d++)document.getElementsByClassName("tp_i2")[d].innerHTML=l[d]}else"numerical"==t.type||"fill"==t.type?(e(r),e(s),n(o)):"taf"==t.type?(i(r),e(s),e(o),h='<div class="tp_mcq_p rpl">True</div><div class="tp_mcq_p rpl">False</div>',VM("tp_mcq_con").insertAdjacentHTML("beforeend",h)):(e(r),e(s),e(o));renderMathInElement(VM("tp_ans_hold")),renderMathInElement(VM("tp_qtext"))}(a[r]);var t=r+1;0==n&&(VM("qbnk_timer").innerText=10,e=setInterval((function(){VM("qbnk_timer").innerText=VM("qbnk_timer").innerText-1}),1e3)),VM("tb_q_qno").innerText="Question "+t+":",VM("qbnk_vid_q").style.display="flex",n++}else if(2==n){VM("qbnk_vid_ans").style.display="flex",clearInterval(e);for(var o="",h=0;h<a[r].answer.length;h++)o+='<div class="tb_q_mcq_p rpl" style = "background-color:green">'+a[r].answer[h]+"</div>";VM("tb_q_ans").innerHTML=o,VM("tb_q_hint").innerHTML=a[r].hint,VM("tb_q_expl").innerHTML=a[r].expl,n=0,r++}}),5e3)}}catch{}}function Ek(){var t=[VM("aq_answer").value],e=VM("aq_type").value,n=[],i=[],r=[];if("mcq"==e||"mcq_multiple"==e)for(t=[],o=0;o<document.getElementsByClassName("aq_mcq_ans").length;o++){var s=document.getElementsByClassName("aq_mcq_ans")[o].value;t[o]=s}for(var o=0;o<document.getElementsByClassName("aq_mcq").length;o++)n.push(document.getElementsByClassName("aq_mcq")[o].value);for(o=0;o<document.getElementsByClassName("aq_i1").length;o++)i.push(document.getElementsByClassName("aq_i1")[o].value);for(o=0;o<document.getElementsByClassName("aq_i2").length;o++)r.push(document.getElementsByClassName("aq_i2")[o].value);if(wA.includes("edit_test"))var a={qid:xA,mode:VM("aq_mode").value,title:cA("aq_qtext"),y_url:VM("aq_yurl").value,hint:VM("aq_hint").value,expl:cA("aq_expl"),type:e,answer:t,op:n,op1:i,op2:r,section:VM("aq_section").value,pm:VM("aq_posmrks").value,nm:VM("aq_negmrks").value};else if(wA.includes("edit_exams"))a={id:xA,name:VM("aq_examname").value,date:VM("aq_examdate").value,info:VM("aq_examinfo").value,syllabus:VM("aq_examsyllabus").value,mode:"exams"};else a={id:xA,mode:VM("aq_mode").value,title:cA("aq_qtext"),y_url:VM("aq_yurl").value,hint:VM("aq_hint").value,expl:cA("aq_expl"),type:e,answer:t,op:n,op1:i,op2:r,section:VM("aq_section").value,pm:VM("aq_posmrks").value,nm:VM("aq_negmrks").value};return a}async function xk(t){function e(t){t.style.display="none"}function n(t){t.style.display="block"}function i(t){t.style.display="flex"}var r=VM("aq_mode").value,s=VM("aq_ans_hold"),o=VM("aq_type"),a=VM("aq_answer"),h=VM("aq_yurl"),u=VM("aq_mcq_con"),l=VM("aq_matrix"),c=(VM("aq_upl"),VM("aq_all"));VM("aq_tpc"),VM("aq_qbk"),VM("aq_sims");"question"==r?(e(h),n(s),n(o),n(a),i(c)):"lesson"==r?(n(h),e(s),e(o),e(a),i(c)):"exams"==r&&(e(h),e(s),e(o),e(a),e(c)),"mcq"==o.value||"mcq_multiple"==o.value?(i(u),e(l),e(a)):"matrix"==o.value?(n(l),e(u),e(a)):(e(l),e(u),n(a))}function Sk(t){Tk(this.innerText)}function Tk(t){if("+"==t){let e=SA.length;window.location.hash.includes("edit_exams")?SA[e]={id:Date.now()+Math.random().toString(36).substr(2),name:"",date:"",info:"",syllabus:"",mode:"exams"}:SA[e]={id:Date.now()+Math.random().toString(36).substr(2),mode:"",title:"",y_url:"",img:"",hint:"",expl:"",type:"mcq",answer:["1"],op:["1","2","3","4"],op1:[],op2:[],section:"Unfiled",pm:4,nm:-1},(window.location.hash.includes("edit_qubank")||window.location.hash.includes("edit_test"))&&(SA[e].mode="question"),wA.includes("edit_test")&&(SA[e].qid=SA[e].id),t=e}VM("question_list").innerHTML="";for(var e=1;e<SA.length+1;e++)VM("question_list").insertAdjacentHTML("beforeend",'<span class = "t_no_qno" id = "t_no_qno_'+e+'">'+e+"</span>"),VM("t_no_qno_"+e).addEventListener("click",Sk);VM("question_list").insertAdjacentHTML("beforeend",'<span class = "t_no_qno" id = "t_no_qno_add">+</span>'),VM("t_no_qno_add").addEventListener("click",Sk),0!=t&&(SA[EA-1]=Ek(),EA=t);var n=SA[EA-1];if(window.location.href.includes("edit_exams"))return VM("aq_examname").value=n.name,VM("aq_examdate").value=n.date,VM("aq_examinfo").value=n.info,VM("aq_examsyllabus").value=n.syllabus,void xk();if(xA=wA.includes("edit_test")?n.qid:n.id,VM("aq_mode").value=n.mode,dA("aq_qtext",n.title),VM("aq_yurl").value=n.y_url,VM("aq_type").value=n.type,VM("aq_hint").value=n.hint,VM("aq_section").value=n.section,VM("aq_posmrks").value=n.pm,VM("aq_negmrks").value=n.nm,dA("aq_expl",n.expl),"mcq"==n.type||"mcq_multiple"==n.type){VM("aq_mcq_con").innerHTML="";for(var i=0;i<n.op.length;i++){Fk(),document.getElementsByClassName("aq_mcq")[i].value=n.op[i];for(var r=0;r<n.answer.length;r++)n.op[i]==n.answer[r]&&(document.getElementsByClassName("aq_mcq")[i].classList.add("aq_mcq_ans"),document.getElementsByClassName("aq_mcq_p")[i].style.borderColor="lime")}}else"numerical"!=n.type&&"explain"!=n.type&&"fill"!=n.type&&"taf"!=n.type||(VM("aq_answer").value=n.answer[0]);xk()}async function Ik(t){var e,n;VM("aq_basic").style.display="flex",1==t?(e="topic",n=window.location.hash.split("edit_tpc/")[1],VM("fu_topic_title").innerText="Add/Edit Topic",VM("aq_mode").innerHTML='<option value="question">Question</option><option value="lesson">Lesson</option>',VM("aq_tpc_save").style.display="block",VM("aq_qbc_save").style.display="none",VM("aq_tst_save").style.display="none",VM("aq_test_extra").style.display="none",VM("aq_exam_save").style.display="none",VM("aq_exams").style.display="none",VM("aq_all").style.display="flex",VM("aq_ans_hold").style.display="flex"):2==t?(e="qbank",n=window.location.hash.split("edit_qubank/")[1],VM("fu_topic_title").innerText="Add/Edit QBank",VM("aq_mode").innerHTML='<option value="question">Question</option>',VM("aq_tpc_save").style.display="none",VM("aq_tst_save").style.display="none",VM("aq_test_extra").style.display="none",VM("aq_qbc_save").style.display="block",VM("aq_exam_save").style.display="none",VM("aq_exams").style.display="none",VM("aq_all").style.display="flex",VM("aq_ans_hold").style.display="flex"):3==t?(e="tests",n=window.location.hash.split("edit_tests/")[1],VM("fu_topic_title").innerText="Add/Edit Tests",VM("aq_mode").innerHTML='<option value="question">Question</option>',VM("aq_tpc_save").style.display="none",VM("aq_qbc_save").style.display="none",VM("aq_test_extra").style.display="flex",VM("aq_tst_save").style.display="block",VM("aq_exam_save").style.display="none",VM("aq_exams").style.display="none",VM("aq_all").style.display="flex",VM("aq_ans_hold").style.display="flex"):4==t&&(e="quarkz",n="exams",VM("fu_topic_title").innerText="Add/Edit Exams",VM("aq_mode").innerHTML='<option value="exam">Exam</option>',VM("aq_tpc_save").style.display="none",VM("aq_qbc_save").style.display="none",VM("aq_test_extra").style.display="none",VM("aq_exam_save").style.display="block",VM("aq_tst_save").style.display="none",VM("aq_exams").style.display="flex",VM("aq_all").style.display="none",VM("aq_ans_hold").style.display="none",VM("aq_basic").style.display="none");try{let s=await ig(jp(GM,e,n));if(s.exists())if(1==t||2==t){var i=s.data();VM("aq_tpcname").value=i.name,VM("aq_tpclevel").value=i.level,VM("aq_tpc_subj").value=i.subject,VM("aq_tpc_chapterid").value=i.chid,SA=i.qllist,Tk(0)}else if(3==t){i=s.data();function r(t){var e=new Date(t);return e.setMinutes(e.getMinutes()-e.getTimezoneOffset()),e.toISOString().slice(0,16)}VM("aq_tpcname").value=i.title,VM("aq_tpclevel").value=i.level,VM("aq_tpc_subj").value=i.subject,VM("aq_tst_batches").value=i.batch.toString(),VM("aq_tst_stron").value=r(1e3*i.strton.seconds),VM("aq_tst_endon").value=r(1e3*i.endon.seconds),VM("aq_tst_timealotted").value=i.timeallotted,VM("aq_tst_syllabi").value=i.syllabus,dA("aq_add_test_instr",i.instructions);let o=await ig(jp(GM,"tests",n,"questions","questions")),a=await ig(jp(GM,"tests",n,"questions","answers")),h=[],u=[];if(o.exists())h=o.data().questions;if(a.exists())u=a.data().questions;SA=zM(h,u),Tk(0)}else if(4==t){i=s.data();SA=i.examinfo,Tk(0)}}catch{}}function Rk(){for(var t=0;t<SA.length;t++)SA[t].qid!=xA&&SA[t].id!=xA||(SA.splice(t,1),Tk(0),null==(xA=SA[t-1].qid||SA[t-1].id)&&(xA=""))}async function Ck(t){for(var e=0;e<SA.length;e++)SA[e].qid!=xA&&SA.id!=xA||(SA[e]=Ek());var n,i;if(1==t?(n="topic",i=window.location.hash.split("edit_tpc/")[1]):2==t?(n="qbank",i=window.location.hash.split("edit_qubank/")[1]):3==t?(n="tests",i=window.location.hash.split("edit_tests/")[1]):4==t&&(n="quarkz",i="exams"),1==t||2==t)try{await ag(jp(GM,n,i),{name:VM("aq_tpcname").value,qllist:SA,level:VM("aq_tpclevel").value,chid:VM("aq_tpc_chapterid").value,subject:VM("aq_tpc_subj").value})}catch{}else if(3==t){try{var r=new Date(VM("aq_tst_stron").value),s=new Date(VM("aq_tst_endon").value),o=VM("aq_tst_batches").value.split(",");await ag(jp(GM,n,i),{title:VM("aq_tpcname").value,timeallotted:VM("aq_tst_timealotted").value,syllabus:VM("aq_tst_syllabi").value,instructions:cA("aq_add_test_instr"),strton:r,endon:s,batch:o})}catch{}var a=[],h=[];for(e=0;e<SA.length;e++){var u=SA[e];a.push({qid:u.qid,mode:u.mode,title:u.title,type:u.type,op:u.op,op1:u.op1,op2:u.op2,section:u.section,pm:u.pm,nm:u.nm}),h.push({qid:u.qid,hint:u.hint,expl:u.expl,answer:u.answer,section:u.section,pm:u.pm,nm:u.nm})}try{await ag(jp(GM,n,i,"questions","questions"),{questions:a})}catch(t){oy(t)}try{await ag(jp(GM,n,i,"questions","answers"),{questions:h})}catch{}}else if(4==t){await ag(jp(GM,n,i),{examinfo:SA})}}function qk(){window.location.hash="#/qbanks/"+atob(this.id.split("chpqbk")[1])}function Nk(){window.location.hash="#/topic/"+atob(this.id.split("chptpc")[1])}async function Lk(t){var e="",n="";1==t?(e="topic",n="topic"):2==t?(n="qbanks",e="qbank"):e="topic";var i=n+"/",r=window.location.hash.split(i)[1],s=jp(GM,e,r),o=await ig(s);if(!o.exists())throw ik("error_page",1),new Error;var a=o.data();(_A={}).title=a.name,_A.qllist=a.qllist,Uk(3)}function Dk(){window.location.hash="#/chapter/"+atob(this.id.split("qb")[1])}function Ok(t){VM("qb_cont_2").innerHTML="";for(var e=0;e<kA.length;e++){var n=kA[e];n.subject==t&&(VM("qb_cont_2").insertAdjacentHTML("beforeend",'<span class="tlinks rpl" style = "color:pink" id="qb'+btoa(n.id)+'">'+n.name+"</span>"),VM("qb"+btoa(n.id)).addEventListener("click",Dk))}}async function Bk(t){var e="";1==t?(e="qbank",VM("pe_tst_info").style.display="flex",VM("eqb_instr").style.display="none"):2==t?(e="topic",VM("pe_tst_info").style.display="none",VM("eqb_instr").style.display="none"):e=3==t?"tests":"qbank";var n,i,r,s,o=window.location.hash.split("printable/"+e+"/")[1],a=VM("qb_title"),h=jp(GM,e,o),u=await ig(h);if(!u.exists())throw ik("error_page",1),new Error;n=(_=u.data()).qllist,a.innerText=_.name,VM("eqb_add").innerHTML="";for(let t of n)if("question"==t.mode){i=(_=t).title,r=_.type,null==(s=_.img)&&(s="");var l='<div class = "q_ans_expl" style = "font-weight:bold;color:green;font-size:10px;flex-direction:row;display:none;">Explaination:'+_.expl+"</div>",c="<div style = 'font-weight:bold;color:green;font-size:10px;flex-direction:row;display:none' class = 'q_ans_1'>Answer:",d='<div class = "qbtp_q"><div id = "'+t.id+'">'+i+'<div class = "qb_q_ty">('+r+")</div></div>";if(VM("eqb_add").insertAdjacentHTML("beforeend",d),""!=s){var f='<div class = "qb_img"><img src = "'+s+'"></div>';VM(t.id).insertAdjacentHTML("beforeend",f)}var p="";if("mcq"==r||"mcq_multiple"==r){var m=_.op;for(let t of m)p+="<div class = 'qb_mcq_opt'>"+t+"</div>";var g='<div class = "qb_mcq_exp" type = "a">'+p+"</div>";for(let t of _.answer)c+="<div class = 'qb_mcq_ans'>"+t+"</div>"}if("taf"==r&&(g='<ol class = "qb_mcq_exp" type = "a"><li>True</li><li>False</li></ol>'),"explain"!=r&&"numerical"!=r&&"fill"!=r||(g=""),"matrix"==r){for(var v=_.op1,y=_.op2,b=v.length,w=0;w<b;w++)p+="<tr><td>"+v[w]+"</td><td>"+y[w]+"</td>";g="<table>"+p+"</table>"}VM(t.id).insertAdjacentHTML("beforeend",g),VM(t.id).insertAdjacentHTML("beforeend",c+"</div>"),VM(t.id).insertAdjacentHTML("beforeend",l),renderMathInElement(VM("eqb_add"))}else if("lesson"==t.mode){var _,M;i=(_=t).title,r=_.type,s=_.img,M=""==_.y_url?"":"https://api.qrserver.com/v1/create-qr-code/?size=50x50&data=https://www.youtube.com/watch?v="+_.y_url;d='<div class = "les_q"><div id = "'+t.id+'"><div style = "display:flex;flex-direction:row;justify-content: space-between;"><div style = "font-size:18px;">'+i+'</div><img style = "float:right" src="'+M+'"></div><hr color="white" width="100%"></div>';VM("eqb_add").insertAdjacentHTML("beforeend",d);l='<div class = "les_expl" style = "">'+_.expl+'</div><hr color="white" width="100%">';VM(t.id).insertAdjacentHTML("beforeend",l),renderMathInElement(VM("eqb_add"))}VM("printable").insertAdjacentHTML("beforeend","<br></br>")}async function Pk(t){var e,n;VM("tp_question").style.display="none",VM("tp_lesson").style.display="block",""==t.y_url?VM("tp_full_vid").style.display="none":(VM("tp_full_vid").style.display="flex",e=t.y_url,n=.8*window.innerWidth||.8*document.documentElement.clientWidth||.8*document.body.clientWidth,null==player||"div"==VM("player").tagName?window.player=new YT.Player("player",{height:"500",width:n,origin:window.location.origin,videoId:e,playerVars:{playsinline:1,controls:0,modestbranding:1},events:{onReady:onPlayerReady,onStateChange:onPlayerStateChange}}):window.player.loadVideoById(e)),VM("tp_lsno").innerText=t.title,VM("tp_expl").innerHTML=t.expl}async function Uk(t){var e;if(e=1==t?-1:1,(MA<_A.qllist.length-1&&2==t||1==t&&MA>0)&&(MA+=e),!(MA>=_A.qllist.length&&2==t)){3==t&&(MA=0);var n=_A.title;VM("tp_title").innerText=n;for(var i=_A.qllist[MA],r=0,s=0;s<_A.qllist.length;s++)"question"==_A.qllist[s].mode&&r++;"lesson"==i.mode?Pk(i):"question"==i.mode&&async function(t,e){function n(t){t.style.display="none"}function i(t){t.style.display="block"}function r(t){t.style.display="flex"}n(VM("tp_hint")),n(VM("tp_a_expl")),n(VM("tp_e_answer")),n(VM("tp_status"));var s=VM("tp_mcq_con"),o=VM("tp_matrix"),a=VM("tp_answer");if(VM("tp_lsno").innerHTML="Question<span style = 'font-size:12px'>&nbsp;X of ("+e+")</span>",VM("tp_question").style.display="flex",VM("tp_lesson").style.display="none",VM("tp_question").setAttribute("dataid",t.id),VM("tp_question").setAttribute("qtype",t.type),s.innerHTML="",VM("tp_qtext").innerHTML=t.title,"mcq"==t.type||"mcq_multiple"==t.type){r(s),n(o),n(a);var h=t.op,u="";for(let t of h)u+='<div class="tp_mcq_p rpl" onclick = "mcqchose(this)">'+t+"</div>";VM("tp_mcq_con").insertAdjacentHTML("beforeend",u)}else if("matrix"==t.type){n(s),i(o),n(a);for(var l=t.op1,c=t.op2,d=l.length,f=0;f<d;f++)document.getElementsByClassName("tp_i1")[f].innerText=l[f];for(f=0;f<d;f++)document.getElementsByClassName("tp_i2")[f].innerText=c[f]}else"numerical"==t.type||"fill"==t.type?(n(s),n(o),i(a)):"taf"==t.type?(r(s),n(o),n(a),u='<div class="tp_mcq_p rpl">True</div><div class="tp_mcq_p rpl">False</div>',VM("tp_mcq_con").insertAdjacentHTML("beforeend",u)):(n(s),n(o),n(a));renderMathInElement(VM("tp_ans_hold")),renderMathInElement(VM("tp_qtext"))}(i,r),lA()}}function Fk(){VM("aq_mcq_con").insertAdjacentHTML("beforeend",'<div class="aq_mcq_p" onclick="changeColor(this)"><input class="aq_mcq"></div>')}function jk(){document.getElementsByClassName("aq_mcq_p")[document.getElementsByClassName("aq_mcq").length-1].remove()}function zk(){In(tr(),Kk)}function Vk(){for(var t=VM("eqb_add"),e=t.children.length;e>=0;e--)t.appendChild(t.children[Math.random()*e|0])}function Hk(){xn($M,fA.email).then((()=>{oy("Success","Password Reset Email sent.")})).catch((t=>{t.code;oy("Failure",t.message)}))}async function Kk(t){var e;if(t){var n=jp(GM,"users",t.uid);if((s=await ig(n)).exists()){var i=s.data();(fA=i).uuid=t.uid,e=fA.batch,gA=fA.roles.user,pA=fA.roles.editor,mA=fA.roles.admin,VM("spoints").innerText=fA.spoints,null==i.usernotes&&(fA.usernotes=[])}1==i.deleted&&(oy("Warning","User Account Has Been Deleted"),ek());try{n=jp(GM,"batch",e);if((s=await ig(n)).exists()){i=s.data();if(fA.batchname=i.name,fA.timetable=i.timetable,async function(t,e){if(IA!=[]){var n=jp(GM,"batch",t,"info","tests"),i=await ig(n);if(i.exists()){var r=i.data();IA=r.tests}}if(qA!=[]){const t=Pm(Fp(GM,"tests"),Fm("finished","array-contains",e),Km(5));(await sg(t)).forEach((t=>{var e=t.data(),n={title:e.title,testid:t.id,finished:!0,strton:e.strton,endon:e.endon};qA.push(n);var i=0;for(let t of IA)t.testid==n.testid?IA[i].finished=!0:IA[i].finished=!1,i+=1}))}for(var s=parseInt(Date.now()/1e3),o=0;o<IA.length;o++)s>IA[o].strton.seconds&&s<IA[o].endon.seconds?RA.push(IA[o]):s<IA[o].strton.seconds&&CA.push(IA[o])}(e,t.uid),fA.timetableurl="https://calendar.google.com/calendar/embed??height=600&wkst=2&bgcolor=%23ffffff&ctz=Asia%2FKolkata&showTitle=0&showCalendars=0&showTabs=0&showPrint=0&showDate=1&src="+i.timetable+"%40group.calendar.google.com&amp;ctz=Asia%2FKolkata",i.delon.seconds<=parseInt(Date.now()/1e3))throw oy("Warning","This Batch Has Been Deleted"),ek(),window.reload(),new Error("DENIED");for(var r=0;r<i.chlist.length;r++)kA.push({name:i.chlist[r].name,id:i.chlist[r].id,subject:i.chlist[r].subject})}}catch{}spoints.style.display="block",VM("dsh_btn").style.display="block",""!=window.location.hash&&null!=window.location.hash&&null!=window.location.hash||(window.location.hash="#/dashboard",TA=1);var s;n=jp(GM,"quarkz","exams");if((s=await ig(n)).exists()){i=s.data();fA.examslist=i,""!=i.warning&&oy("Notice",i.warning,(function(){window.location.hash="#/updates"}),"Release Notes")}ik(window.location.hash.split("#/")[1],1)}else spoints.textContent="",spoints.style.display="none",VM("dsh_btn").style.display="none",ik("login",1),1==TA&&document.location.reload()}function Wk(){for(var t,e,n,i,r=VM("tp_question").getAttribute("dataid"),s=VM("tp_question").getAttribute("qtype"),o=0;o<_A.qllist.length;o++)if(_A.qllist[o].id==r){e=_A.qllist[o].answer,n=_A.qllist[o].expl,i=_A.qllist[o].hint;break}if("numerical"!=s&&"fill"!=s||(e==(t=VM("tp_answer").value)?(VM("tp_status").innerText="Correct Answer",1):(VM("tp_status").innerText="Wrong Answer",0)),"mcq"==s||"mcq_multiple"==s||"taf"==s){t=[];for(var a=0;a<document.getElementsByClassName("tp_mcq_p").length;a++)document.getElementsByClassName("tp_mcq_p")[a].classList.contains("aq_mcq_ans")&&t.push(document.getElementsByClassName("tp_mcq_p")[a].innerText);PM(t,e)?(VM("tp_status").innerText="Correct Answer",1):(VM("tp_status").innerText="Wrong Answer",0)}VM("tp_status").style.display="block",VM("tp_hint").style.display="block",VM("tp_a_expl").style.display="block",VM("tp_e_answer").style.display="block",VM("tp_a_expl").innerHTML=n,VM("tp_hint").innerHTML=i,VM("tp_e_answer").innerHTML="Answer:"+e}function Gk(){window.location.hash.includes("topic")?Qk("printable/topic/"+window.location.hash.split("topic/")[1],1):window.location.hash.includes("qbanks")&&Qk("printable/qbank/"+window.location.hash.split("qbanks/")[1],1),window.location.hash.includes("edit_tpc/")?Qk("printable/topic/"+window.location.hash.split("edit_tpc/")[1],1):window.location.hash.includes("edit_qubank/")&&Qk("printable/qbank/"+window.location.hash.split("edit_qubank/")[1],1)}function $k(){window.location.hash.includes("topic")?Qk("edit_tpc/"+window.location.hash.split("topic/")[1],1):window.location.hash.includes("qbanks")&&Qk("edit_qubank/"+window.location.hash.split("qbanks/")[1],1)}function Qk(t,e){window.location.hash="#/"+t,"dashboard"==t&&ik("dashboard",1)}function Xk(){window.location.hash="#/instructions/"+this.id}function Zk(){window.location.hash="#/finished/"+this.id}function Yk(t){var e;for(var n of("active"==t?e=RA:"upcoming"==t?e=CA:"finished"==t&&(e=qA),VM("testlinks").innerHTML="",e)){var i=new Date(1e3*n.strton.seconds),r=new Date(1e3*n.endon.seconds),s='<div class="tlinks" id = "'+n.testid+'"><span class = "t_title">'+n.title+'</span><span class = "t_stron">Starts At:'+i+'</span><span class ="t_endon">Ends At:'+r+"</div>";"finished"!=t&&0==n.finished?(VM("testlinks").insertAdjacentHTML("beforeend",s),VM(n.testid).addEventListener("click",Xk)):"finished"==t&&(VM("testlinks").insertAdjacentHTML("beforeend",s),VM(n.testid).addEventListener("click",Zk))}}async function Jk(t){var e;if(1==t){var n=window.location.hash.split("/finished/")[1],i=jp(GM,"tests",n,"questions","questions"),r=await ig(i);r.exists()&&(e=r.data().questions)}else 2==t&&(e=[],e=DA);for(var s={},o=0;o<PA.length;o++)PA[o].time=PA[o].time.seconds;var a,h,u=KM(PA,"time","type",0),l="";for(o=0;o<u.length;o++)"b"==u[o].type?(a=u[o].time,l=u[o].value):"a"==u[o].type&&l==u[o].value&&(h=u[o].time,null==s[u[o].value]&&(s[u[o].value]={},s[u[o].value].time=0),s[u[o].value].time+=h-a,a=h,h=0);var c={Physics:{correct:0,unattempted:0,incorrect:0,total:0},Chemistry:{correct:0,unattempted:0,incorrect:0,total:0},Math:{correct:0,unattempted:0,incorrect:0,total:0},Biology:{correct:0,unattempted:0,incorrect:0,total:0},Computer:{correct:0,unattempted:0,incorrect:0,total:0},Statistics:{correct:0,unattempted:0,incorrect:0,total:0},Unfiled:{correct:0,unattempted:0,incorrect:0,total:0}},d=0,f=0,p=0;for(o=0;o<e.length;o++)for(var m=0;m<vA.length;m++)if(e[o].qid==vA[m].qid){var g=s[e[o].qid];null==s[e[o].qid]?(s[e[o].section]={},s[e[o].section].time=0):(c[e[o].section].total+=g.time,0==vA[o].marks?(c[e[o].section].unattempted+=g.time,p+=g.time):vA[o].marks==e[o].pm?(c[e[o].section].correct+=g.time,d+=g.time):(c[e[o].section].incorrect+=g.time,f+=g.time))}yA={questions:s,subject:c,correct:d,incorrect:f,unattempted:p}}var tA;function eA(){iA(this.id,this.innerText)}async function nA(t){var e,n=[],i=[],r=[],s="",o="";window.location.hash.includes("/attempt/")?(s=window.location.hash.split("#/attempt/")[1],o=oy("Warning","Submitting Tests Answers: Please Do Not Close The Tab.")):window.location.hash.includes("/finished/")?s=window.location.hash.split("#/finished/")[1]:window.location.hash.includes("/testreport/")&&(s=window.location.hash.split("#/testreport/")[1]);var a=jp(GM,"tests",s,"responses",$M.currentUser.uid),h=await ig(a);if(h.exists()){var u=h.data().answers;for(var l in r=h.data().info,u)n.push({qid:l,ans:u[l].ans,type:u[l].type,time:u[l].time})}a=jp(GM,"tests",s,"questions","answers"),(h=await ig(a)).exists()&&(e=h.data().questions);for(var c=0,d=0,f=0,p={Physics:{correct:0,unattempted:0,incorrect:0,total:0},Chemistry:{correct:0,unattempted:0,incorrect:0,total:0},Math:{correct:0,unattempted:0,incorrect:0,total:0},Biology:{correct:0,unattempted:0,incorrect:0,total:0},Computer:{correct:0,unattempted:0,incorrect:0,total:0},Statistics:{correct:0,unattempted:0,incorrect:0,total:0},Unfiled:{correct:0,unattempted:0,incorrect:0,total:0}},m=0;m<e.length;m++)for(var g=0;g<n.length;g++)if(e[m].qid==n[g].qid){var v=n[g];null==v.ans&&(v.ans=[]),0==v.ans.length?(i.push({qid:e[m].qid,marks:0,type:"unattempted"}),c+=parseFloat(e[m].pm),p[e[m].section].unattempted+=parseFloat(e[m].pm),p[e[m].section].total+=parseFloat(e[m].pm)):PM(e[m].answer,v.ans)?(i.push({qid:e[m].qid,marks:parseFloat(e[m].pm),type:"correct"}),d+=parseFloat(e[m].pm),p[e[m].section].correct+=parseFloat(e[m].pm),p[e[m].section].total+=parseFloat(e[m].pm)):(i.push({qid:e[m].qid,marks:parseFloat(e[m].nm),type:"incorrect"}),f+=parseFloat(e[m].nm),p[e[m].section].incorrect+=parseFloat(e[m].nm),p[e[m].section].total+=parseFloat(e[m].pm))}var y={correct:d,incorrect:f,unattempted:c,mList:i,total:p.Physics.total+p.Chemistry.total+p.Math.total+p.Biology.total+p.Computer.total+p.Statistics.total+p.Unfiled.total,usermarks:d+f,subjectmarks:p};1==t?UM(y,r)||(oy("NOTICE","Please Wait, Marks Are Being Updated"),await ag(jp(GM,"tests",s,"responses",$M.currentUser.uid),{info:y}),await ag(jp(GM,"tests",s,"responses","finished"),{leaderboard:pg({uid:fA.uuid,marks:y.usermarks,name:fA.name})}),ik()):0==t&&(await ag(jp(GM,"tests",s,"responses",$M.currentUser.uid),{info:y}),await ag(jp(GM,"tests",s,"responses","finished"),{leaderboard:pg({uid:fA.uuid,marks:y.usermarks,name:fA.name})}),ik("testend",1)),document.getElementById(o).style.visibility="hidden",document.getElementById(o).style.opacity="0"}function iA(t,e){var n=new Date;LA=0,window.location.hash.includes("/attempt/")&&BA!=t&&PA.push({type:"a",time:n,value:BA}),VM("tt_qno").innerText=e;try{VM(BA).style.border=""}catch{}BA=t,window.location.hash.includes("/attempt/")&&PA.push({type:"b",time:n,value:BA}),VM(BA).style.border="purple 3px solid";for(let e of DA.questions)if(t==e.qid){VM("tt_qtitle").innerHTML="";var i='<div class = "qb_q" id = "Q'+e.qid+'"><div class = "qb_ttl">'+e.title+'<div id = "qb_q_ty" class = "qb_q_ty qb_qt_ty" >('+e.type+")</div></div></div>";VM("tt_qtitle").insertAdjacentHTML("beforeend",i);var r,s,o="";if("mcq"==e.type){var a=e.op;for(let t of a)o+='<li><input type="radio" class = "q_ans" value = "'+t+'" name = "q_op">'+t+"</input></li>";var h='<ol class = "qb_mcq" type = "A">'+o+"</ol>"}if("mcq_multiple"==e.type){a=e.op;for(let t of a)o+='<li><input type="checkbox" class = "q_ans" value = "'+t+'" name = "q_op">'+t+"</input></li>";h='<ol class = "qb_mcq" type = "A">'+o+"</ol>"}if("taf"==e.type&&(h='<ol class = "qb_mcq" type = "A"><li>True</li><li>False</li></ol>'),"explain"!=e.type&&"numerical"!=e.type||(h=""),"matrix"==e.type){for(var u=e.op1,l=e.op2,c=u.length,d=0;d<c;d++)o+="<tr><td>"+u[d]+"</td><td>"+l[d]+"</td>";h="<table>"+o+"</table>"}switch(VM("tt_qtitle").insertAdjacentHTML("beforeend",h),e.type){case"mcq":case"mcq_multiple":r="";break;case"taf":r='<div id = "tt_mcq"><span><input type="radio" value="a" class = "q_ans" name = "q_op">True</span><span><input type="radio" value="b" class = "q_ans" name = "q_op">False</span></div> ';break;case"numerical":r='<div id = "tt_num"><input type = "number" class="q_ans"></div>';break;case"matrix":r='<div id = "tt_matrix"><div>A<span><input type="checkbox" value="a" id="q_ans_a" name = "q_op">1</span><span><input type="checkbox" value="b" id="q_ans_a" name = "q_op">2</span><span><input type="checkbox" value="c" id="q_ans_a" name = "q_op">3</span><span><input type="checkbox" value="d" id="q_ans_a" name = "q_op">4</span></div><div>B<span><input type="checkbox" value="a" id="q_ans_a" name = "q_op">1</span><span><input type="checkbox" value="b" id="q_ans_a" name = "q_op">2</span><span><input type="checkbox" value="c" id="q_ans_a" name = "q_op">3</span><span><input type="checkbox" value="d" id="q_ans_a" name = "q_op">4</span></div><div>C<span><input type="checkbox" value="a" id="q_ans_a" name = "q_op">1</span><span><input type="checkbox" value="b" id="q_ans_a" name = "q_op">2</span><span><input type="checkbox" value="c" id="q_ans_a" name = "q_op">3</span><span><input type="checkbox" value="d" id="q_ans_a" name = "q_op">4</span></div><div>D<span><input type="checkbox" value="a" id="q_ans_a" name = "q_op">1</span><span><input type="checkbox" value="b" id="q_ans_a" name = "q_op">2</span><span><input type="checkbox" value="c" id="q_ans_a" name = "q_op">3</span><span><input type="checkbox" value="d" id="q_ans_a" name = "q_op">4</span></div></div>';break;case"fill":r='<div id="tt_fill"><input type = "text" class = "q_ans"></div>'}if(VM("tt_qtitle").insertAdjacentHTML("beforeend",r),!window.location.hash.includes("attempt"))for(let e of UA.questions)if(t==e.qid){s=e.answer,null!=yA&&(null==yA.questions[e.qid]?VM("tt_timespent").innerText="0 seconds":VM("tt_timespent").innerText=BM(yA.questions[e.qid].time));var f='<div id="tg_answer">Answer: '+e.answer+'</div><div id="tg_expl">Explanation: '+e.expl+"</div>";VM("tt_qtitle").insertAdjacentHTML("beforeend",f)}renderMathInElement(VM("tt_qtitle"));for(let n of OA)if(n.qid==t){for(d=0;d<document.getElementsByClassName("q_ans").length;d++){var p=document.getElementsByClassName("q_ans")[d];if("mcq"==e.type||"mcq_multiple"==e.type){null==n.ans&&(n.ans=[]);for(let t of n.ans)if(p.value==t){p.checked=!0,1;break}}else p.value=n.ans,1}window.location.hash.includes("attempt")||(PM(n.ans,s)?VM("tt_marksaward").innerHTML='<div style="color:lime">Correct(+4)</div>':0==n.ans.length?VM("tt_marksaward").innerHTML='<div style="color:orange">Unanswered(0)</div>':VM("tt_marksaward").innerHTML='<div style="color:red">Incorrect(-1)</div>')}for(var m=0;m<OA.length;m++)OA[m].qid==BA&&"tts_notvisit"==OA[m].type&&window.location.hash.includes("attempt")&&(OA[m].type="tts_notanswer",sA("tts_notanswer"),OA[m].ans=[],VM(BA).classList.remove("tts_notanswer","tts_notvisit","tts_answered","tts_review","tts_ansreview"),VM(BA).classList.add("tts_notanswer"));break}}function rA(){var t=1;for(let t of["tw_Physics","tw_Chemistry","tw_Math","tw_Computer","tw_Statistics","tw_Biology","tw_Unfiled"])VM(t+"_c").innerHTML="",VM(t).style.display="none";for(let n of DA.questions){var e='<span class = "tts_notvisit" id = "'+n.qid+'">'+t+"</span>";t+=1,VM("tw_"+n.section+"_c").insertAdjacentHTML("beforeend",e),VM("tw_"+n.section).style.display="flex",VM(n.qid).addEventListener("click",eA)}if(window.location.hash.includes("attempt"))VM("tt_sub").style.display="block";else{for(let t of OA){var n=t.qid;for(let e of UA.questions)if(n==e.qid){var i=e.answer;null==t.ans&&(t.ans=[]),PM(t.ans,i)?VM(n).classList.add("t_crr"):0==t.ans.length?VM(n).classList.add("t_unat"):VM(n).classList.add("t_incrr")}}Jk(2)}for(let t of OA)VM(t.qid).classList.replace("tts_notvisit",t.type);iA(DA.questions[0].qid,1)}async function sA(t){if(!window.location.hash.includes("attempt"))return oy("Error","Performing Test Operations in Test Reports Is Prohibited"),1;var e="answers."+BA,n=window.location.hash.split("#/attempt/")[1],i=VM("qb_q_ty").innerText.split("(")[1];if("tts_notanswer"==t){await ag(jp(GM,"tests",n,"responses",$M.currentUser.uid),{[`${e}`]:{ans:"",type:"tts_notanswer",time:fg()}});var r=0;for(let t of OA){if(t.qid==BA){for(var s=0;s<document.getElementsByClassName("q_ans").length;s++){var o=document.getElementsByClassName("q_ans")[s];if("mcq"==i||"mcq_multiple"==i)for(var a=0;a<t.ans.length;a++){var h=t.ans[a];o.value==h&&(o.checked=!1)}else t.value=""}OA.splice(r,1)}r+=1}}else{var u=[];for(s=0;s<document.getElementsByClassName("q_ans").length;s++){o=document.getElementsByClassName("q_ans")[s];"mcq)"==i||"mcq_multiple)"==i?1==o.checked&&u.push(o.value):u.push(o.value)}"tts_review"==t&&(u=""),await ag(jp(GM,"tests",n,"responses",$M.currentUser.uid),{[`${e}`]:{ans:u,type:t,time:fg()}});var l=0;for(let e of OA)e.qid==BA&&(e.ans=u,e.type=t,l=1);0==l&&OA.push({qid:BA,ans:u,type:t})}VM(BA).classList.remove("tts_notanswer","tts_notvisit","tts_answered","tts_review","tts_ansreview"),VM(BA).classList.add(t)}async function oA(){if(!window.location.hash.includes("attempt"))return oy("Error","Performing Test Operations in Test Reports Is Prohibited"),1;var t=new Date;PA.push({type:"a",time:t,value:BA}),PA.push({type:"end",time:t,value:"1"});var e=window.location.hash.split("#/attempt/")[1];window.onbeforeunload=function(){},window.onhashchange=ik,await ag(jp(GM,"tests",e,"responses",$M.currentUser.uid),{endon:fg(),actions:PA,warning:[]}).then((function(){OA=[]})),await ag(jp(GM,"tests",e,"responses","finished"),{finished:pg($M.currentUser.uid)}).then(nA(0));var n=new Date(1e3*NA.endon.seconds);VM("te_endtime").innerText=n,IA=[],RA=[],CA=[],qA=[],NA=[],DA=[],BA="",VM("dsh_btn").style.display="block",VM("tp_pnt").style.display="none",clearInterval(tA)}function aA(t){0==t&&oy("WARNING","You Are Currently Offline.")}function hA(){"preview"==VM("un_rendermode").value?(VM("un_preview").style.display="block",VM("un_preview").innerHTML="<h1 style = 'text-align:center'>"+VM("un_title").value+"</h1><br>"+cA("un_editable"),VM("un_edit").style.display="none"):"edit"==VM("un_rendermode").value&&(VM("un_edit").style.display="flex",VM("un_preview").style.display="none");try{VM("uno"+window.location.hash.split("usernotes/")[1]).style.backgroundColor=VM("un_colorpicker").value}catch{}}function uA(){let t=document.querySelector("#rg_mbleno").value,e=document.querySelector("#rg_uname").value,n=document.querySelector("#rg_pass").value,i=document.querySelector("#rg_pass1").value,r=document.querySelector("#rg_name").value,s=document.querySelector("#rg_dob").value,o=document.querySelector("#rg_class").value,a=document.querySelector("#rg_gender").value;if(t&&e&&n&&i&&r&&s&&o&&a){{const r=/^\+91\d{10}$/;if(!t.match(r))return void oy("Warning","Mobile number should be in the format +91XXXXXXXXXX");const s=/^[^\s@]+@[^\s@]+\.[^\s@]+$/;if(!e.match(s))return void oy("Warning","Please enter a valid email address");if(n.length<8)return void oy("Warning","Password should be at least 8 characters long");if(n!==i)return void oy("Warning","Passwords do not match")}oy("Note","By Clicking on 'Accept And Register' you agree that you accept all Terms And Conditions and Privacy Policy of Quarkz!",nk,"Accept And Register")}else oy("Warning","Please fill in all fields")}function lA(){try{window.player.stopVideo(),window.location.hash.includes("topic")||(window.player=void 0)}catch{}}function cA(t){return $("#"+t).summernote("code")}function dA(t,e){$("#"+t).summernote("code",e)}window.log=oy,window.onbeforeunload=function(t){updatePoints()},window.addEventListener("online",(()=>aA(1))),window.addEventListener("offline",(()=>aA(0))),$(document).ready((function(){$(".summernote").summernote({toolbar:[["style",["style"]],["font",["bold","italic","underline","clear"]],["fontname",["fontname"]],["color",["color"]],["para",["ul","ol","paragraph"]],["height",["height"]],["table",["table"]],["insert",["link","picture","hr"]],["view",["fullscreen","codeview"]],["help",["help"]]]}),$("#aq_add_test_instr").summernote({toolbar:[["style",["style"]],["font",["bold","italic","underline","clear"]],["fontname",["fontname"]],["color",["color"]],["para",["ul","ol","paragraph"]],["height",["height"]],["table",["table"]],["insert",["link","picture","hr"]],["view",["fullscreen","codeview"]],["help",["help"]]]})}));var fA,pA,mA,gA,vA,yA,bA={copyright:"Mr Techtroid 2021-23",vno:"v0.5.1",author:"Mr Techtroid","last-updated":"05/06/2023(IST)",serverstatus:"firebase-online"},wA=window.location.hash.split("#/")[1],_A={},MA=0,kA=[],AA=[],EA=0,xA="",SA=[],TA=0,IA=[],RA=[],CA=[],qA=[],NA=[],LA=0,DA=[],OA=[],BA="",PA=[],UA=[];window.onhashchange=ik;const FA=new BroadcastChannel("Quarkz!");let jA=!0;FA.postMessage("QZCODE-ASK"),setTimeout((()=>{jA&&(zk(),WM())}),200),FA.onmessage=t=>{"QZCODE-ASK"===t.data&&FA.postMessage("QZCODE-NOTFIRST"),"QZCODE-NOTFIRST"===t.data&&(jA=!1,rk("Quarkz! is Open in Another Tab/Window! You can only use Quarkz! in one tab/window.","",""))};
//# sourceMappingURL=index.3e5435d5.js.map
